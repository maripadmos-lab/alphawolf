;/*FB_PKG_DELIM*/

__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.error,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[u.cardWidth,u.errorBoundary],t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWInboxErrorState.react"),{error:n,plural:!1,source:"fb_chat_tab",xstyle:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsThreadListQPWrapper.react","cr:11989","cr:12317","cr:20045","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded","useMWEncryptedBackupsListenForChangesToVirtualDevicesV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=(s=n("cr:12317"))!=null?s:n("cr:11989"),m=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function p(t){var a,l,s,u=o("react-compiler-runtime").c(8),p=t.query,_=o("CometRelay").useFragment(e!==void 0?e:e=n("MWEBChatTabBannerNux_query.graphql"),p),f;u[0]!==_?(f={entrypoint:r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:_},u[0]=_,u[1]=f):f=u[1];var g=r("useEncryptedBackupsProcessStatePreLoaded")(f),h=r("useMWEncryptedBackupsListenForChangesToVirtualDevicesV2")(),y=h.vestaClientID,C=y!=null,b=(a=(l=_.viewer)==null?void 0:l.if_viewer_can_see_messenger_eb_auto_eb_upsells)!=null?a:(s=_.viewer)==null?void 0:s.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells;switch(g){case 3:{if(d!=null&&!C){var v;return u[2]===Symbol.for("react.memo_cache_sentinel")?(v=c.jsx(d,{children:null}),u[2]=v):v=u[2],v}return null}case 2:{if(o("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS)return null;if(b!=null){var S;u[3]===Symbol.for("react.memo_cache_sentinel")?(S={},u[3]=S):S=u[3];var R;return u[4]!==b?(R=c.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:c.jsx(o("CometRelay").MatchContainer,{match:b,props:S})}),u[4]=b,u[5]=R):R=u[5],R}if(n("cr:20045")!=null){var L;return u[6]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(n("cr:20045"),{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),u[6]=L):L=u[6],L}var E;return u[7]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx(m,{fallback:null,props:{children:null,source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:o("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),u[7]=E):E=u[7],E}default:return null}}l.default=p}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.query,l=o("CometRelay").useFragment(e!==void 0?e:e=n("MAWChatTabInThreadBanner_query.graphql"),i);if(n("cr:9715")&&r("gkx")("1778")){var s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:u.jsx(n("cr:9715"),{hasNoMargin:!0})}),a[0]=s):s=a[0],s}else{var c;return a[1]!==l?(c=u.jsx(r("MWEBChatTabBannerNux.react"),{query:l}),a[1]=l,a[2]=c):c=a[2],c}}l.default=c}),98);
__d("MAWDeferredUserVisibleErrorsNuxWrapper.react",["deferredLoadComponent","react","react-compiler-runtime","requireDeferred","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u=r("deferredLoadComponent")(r("requireDeferred")("MAWUserVisibleErrorsNuxWrapper.react").__setRef("MAWDeferredUserVisibleErrorsNuxWrapper.react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.hasNoMargin;r("vulture")("qM8-RKrtqUrsoMMbntkwS9ZdHT8=");var i;return t[0]!==n||t[1]!==a?(i=s.jsx(u,{children:n,hasNoMargin:a}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}l.default=c}),98);
__d("useOtherContactFromOneToOneThread",["Actor","I64","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=(u||(u=r("useReStore")))(),l=o("Actor").useActor(),c=l[0],m,p;return n[0]!==c||n[1]!==a||n[2]!==t.threadKey||n[3]!==t.threadType?(m=function(){return(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(5))||o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").leftJoin(o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t.threadKey).take(2).filter(function(t){var n=t.contactId;return(e||(e=o("I64"))).to_string(n)!==c}),o("ReQL").fromTableAscending(a.tables.contacts)).map(d):o("ReQL").empty()},p=[c,a,t.threadKey,t.threadType],n[0]=c,n[1]=a,n[2]=t.threadKey,n[3]=t.threadType,n[4]=m,n[5]=p):(m=n[4],p=n[5]),o("ReQLSuspense").useFirst(m,p,i.id+":29")}function d(e){var t=e[1];return t}l.useOtherContactFromOneToOneThread=c}),98);
__d("MWLSChatTabHeaderDetails.react",["fbt","BaseMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWGenAIUtils","MWInboxHeaderDetailsUnifiedPresenceStatusText.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils","cr:112","cr:4703","react","react-compiler-runtime","useMWChatCalculateIsMutedFromExpireTime","useMWIsStaleCall","useMWPThreadHasSpectraUser","useOtherContactFromOneToOneThread"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m={item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1dyh7pn"},t[0]=a):a=t[0];var i;return t[1]!==n?(i=d.jsx(r("MWXText.react"),{align:"center",numberOfLines:1,type:"meta3",children:d.jsx("div",babelHelpers.extends({},a,{children:n}))}),t[1]=n,t[2]=i):i=t[2],i}function _(e){var t=o("react-compiler-runtime").c(55),a=e.thread,i=e.threadNameSize,l=o("useOtherContactFromOneToOneThread").useOtherContactFromOneToOneThread(a),_=a.memberCount,f=a.muteCallsExpireTimeMs,g=a.muteExpireTimeMs,h=a.nullstateDescriptionText1,y=a.ongoingCallState,C=a.ongoingCallTimestampMs,b=a.threadKey,v=a.threadType,S;t[0]!==l?(S=l!=null&&o("MWLSContactTypeExactUtils").isIgContact(l.contactTypeExact)?l.secondaryName:null,t[0]=l,t[1]=S):S=t[1];var R=S,L;t[2]!==v?(L=o("MWCMThreadTypes.react").isJoinedCMThread(v),t[2]=v,t[3]=L):L=t[3];var E=L,k;t[4]!==v?(k=o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(v),t[4]=v,t[5]=k):k=t[5];var I=k,T;t[6]!==b?(T=o("MWGenAIUtils").isMetaAIThread(b),t[6]=b,t[7]=T):T=t[7];var D=T,x;t[8]!==f||t[9]!==g||t[10]!==v?(x=o("MessengerMuteUtils").calcMuteUntilMs({muteCallsExpireTimeMs:f,muteExpireTimeMs:g,threadType:v}),t[8]=f,t[9]=g,t[10]=v,t[11]=x):x=t[11];var $=x,P=r("useMWChatCalculateIsMutedFromExpireTime")($),N=r("useMWPThreadHasSpectraUser")(b),M;t[12]!==y||t[13]!==N?(M=!(u||(u=o("I64"))).equal(y,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").NO_ONGOING_CALL))&&!N,t[12]=y,t[13]=N,t[14]=M):M=t[14];var w=M,A;t[15]!==v?(A=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(v),t[15]=v,t[16]=A):A=t[16];var F=A,O;t[17]!==v?(O=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(v),t[17]=v,t[18]=O):O=t[18];var B=O,W=r("useMWIsStaleCall")(v,w,C!=null?C:(u||(u=o("I64"))).zero),q;t[19]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x1djpfga x1im30kd"},t[19]=q):q=t[19];var U;t[20]===Symbol.for("react.memo_cache_sentinel")?(U=d.jsx("div",babelHelpers.extends({},q,{children:d.jsx(p,{children:d.jsx(r("BaseMiddot.react"),{})})})),t[20]=U):U=t[20];var V=U,H,G;t[21]===Symbol.for("react.memo_cache_sentinel")?(H={className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b"},G={className:"x6s0dn4 x78zum5 x193iq5w"},t[21]=H,t[22]=G):(H=t[21],G=t[22]);var z;t[23]===Symbol.for("react.memo_cache_sentinel")?(z={className:"xxymvpz x1dyh7pn"},t[23]=z):z=t[23];var j;t[24]!==a?(j=d.jsx(r("LSThreadTitle.react"),{thread:a}),t[24]=a,t[25]=j):j=t[25];var K;t[26]!==B||t[27]!==E||t[28]!==a.threadKey?(K=!B&&!E&&d.jsx(r("LSVerificationBadge.react"),{size:"small",threadKey:a.threadKey}),t[26]=B,t[27]=E,t[28]=a.threadKey,t[29]=K):K=t[29];var Q;t[30]!==K?(Q=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetails.ThreadVerificationBadge",children:K}),t[30]=K,t[31]=Q):Q=t[31];var X;t[32]!==j||t[33]!==Q?(X=d.jsxs("span",babelHelpers.extends({},z,{children:[j,Q]})),t[32]=j,t[33]=Q,t[34]=X):X=t[34];var Y;t[35]!==X||t[36]!==i?(Y=d.jsx("div",babelHelpers.extends({},G,{children:d.jsx(r("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:i,children:X})})),t[35]=X,t[36]=i,t[37]=Y):Y=t[37];var J;t[38]!==R||t[39]!==F||t[40]!==E||t[41]!==D||t[42]!==P||t[43]!==w||t[44]!==I||t[45]!==W||t[46]!==_||t[47]!==h||t[48]!==a||t[49]!==b||t[50]!==v?(J=F&&n("cr:112")?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:d.jsx(n("cr:112"),{memberCount:_!=null?(u||(u=o("I64"))).to_int32(_):0})})]}):I?n("cr:4703")!=null&&_!=null?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:d.jsx(n("cr:4703"),{count:(u||(u=o("I64"))).to_int32(_)})})]}):null:E?d.jsxs(r("CometPlaceholder.react"),{fallback:d.jsx(r("MWVerticalRhythm"),{height:15}),name:"MWLSChatTabHeaderDetails.CommunityGroupName",children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:d.jsx(p,{children:d.jsx(r("MWCMInboxHeaderCommunityGroupName.react"),{thread:a})})})]}):D?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(p,{children:h})]}):w&&!W?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsxs(r("MWSeparatorContainer.react"),{separator:V,xstyle:m.item,children:[R!=null?d.jsx(p,{children:R}):null,d.jsx(p,{children:s._(/*BTDS*/"Ongoing call")}),P?d.jsx(r("MWChatHeaderDetailsSubtitleMutedIcon.react"),{}):null]})]}):d.jsx(r("MWInboxHeaderDetailsUnifiedPresenceStatusText.react"),{igHandle:R,isMuted:P,threadKey:b,threadType:v}),t[38]=R,t[39]=F,t[40]=E,t[41]=D,t[42]=P,t[43]=w,t[44]=I,t[45]=W,t[46]=_,t[47]=h,t[48]=a,t[49]=b,t[50]=v,t[51]=J):J=t[51];var Z;return t[52]!==Y||t[53]!==J?(Z=d.jsxs("div",babelHelpers.extends({},H,{children:[Y,J]})),t[52]=Y,t[53]=J,t[54]=Z):Z=t[54],Z}l.default=_}),226);
__d("MWLSContactLink.react",["CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","MWXPressable.react","getLSContactHref","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={expanding:{display:"x78zum5",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(19),n=e.children,a=e.contact,i=e.isText,l=e.label,c=e.testid,d=i===void 0?!0:i,m=a.blockedByViewerStatus,p=a.contactTypeExact,_=a.id,f=a.secondaryName,g=f!=null?f:void 0,h;t[0]!==m||t[1]!==p||t[2]!==_||t[3]!==g?(h=r("getLSContactHref")({blockedByViewerStatus:m,contactTypeExact:p,id:_,secondaryName:g}),t[0]=m,t[1]=p,t[2]=_,t[3]=g,t[4]=h):h=t[4];var y=h,C=o("MWLSContactTypeExactUtils").isIgContact(p),b=!r("CurrentEnvironment").facebookdotcom||C?"_blank":void 0;if(d){var v;return t[5]!==n||t[6]!==l||t[7]!==b||t[8]!==c||t[9]!==y?(v=s.jsx(r("MWXLink.react"),{href:y,label:l,target:b,testid:void 0,children:n}),t[5]=n,t[6]=l,t[7]=b,t[8]=c,t[9]=y,t[10]=v):v=t[10],v}var S;t[11]!==b||t[12]!==y?(S={target:b,url:y},t[11]=b,t[12]=y,t[13]=S):S=t[13];var R;return t[14]!==n||t[15]!==l||t[16]!==S||t[17]!==c?(R=s.jsx(r("MWXPressable.react"),{expanding:!0,label:l,linkProps:S,overlayRadius:"normal",testid:void 0,xstyle:u.expanding,children:n}),t[14]=n,t[15]=l,t[16]=S,t[17]=c,t[18]=R):R=t[18],R}l.default=c}),98);
__d("useOtherParticipantOrSelfContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(10),a=(s||(s=r("useReStore")))(),l=t.threadKey,u=t.threadType,d=o("MWPActor.react").useActor(),m,p;n[0]!==a||n[1]!==l||n[2]!==u?(m=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(u)?o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(l).map(c).take(2):o("ReQL").empty()},p=[a,l,u],n[0]=a,n[1]=l,n[2]=u,n[3]=m,n[4]=p):(m=n[3],p=n[4]);var _=o("ReQLSuspense").useArray(m,p,i.id+":28");if(_.length===0)return null;if(_.length===1)return _[0];var f;if(n[5]!==d||n[6]!==_){var g;n[8]!==d?(g=function(n){return!(e||(e=o("I64"))).equal(n,d)},n[8]=d,n[9]=g):g=n[9],f=_.find(g),n[5]=d,n[6]=_,n[7]=f}else f=n[7];return f}function c(e){return e.contactId}function d(e){var t=o("react-compiler-runtime").c(4),n=(s||(s=r("useReStore")))(),a=u(e),l,c;return t[0]!==a||t[1]!==n?(l=function(){return a==null?o("ReQL").empty():o("ReQL").fromTableAscending(n.tables.contacts).getKeyRange(a)},c=[n,a],t[0]=a,t[1]=n,t[2]=l,t[3]=c):(l=t[2],c=t[3]),o("ReQLSuspense").useFirst(l,c,i.id+":51")}l.useOtherParticipantOrSelfContact=d}),98);
__d("MWLSChatTabHeaderDetailsPressable.react",["fbt","CometPressable.react","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSContactLink.react","MWLSGroupMembershipDialog.entrypoint","MWXTooltip.react","ReQL","ReQLSuspense","XCometVanityURLControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher","useCommunityFolder","useMWAriaLabelForThread","useMWXEntryPointDialog","useOtherParticipantOrSelfContact","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useRef,p={title:{maxWidth:"x193iq5w",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(16),a=t.children,l=t.thread,s=r("useCometRouterDispatcher")(),c=(e||(e=r("useReStore")))(),_;n[0]!==c.tables.participants||n[1]!==l.threadKey?(_=function(){return o("ReQL").fromTableAscending(c.tables.participants,["isSuperAdmin","contactId"]).getKeyRange(l.threadKey).take(2)},n[0]=c.tables.participants,n[1]=l.threadKey,n[2]=_):_=n[2];var g;n[3]!==c||n[4]!==l.threadKey?(g=[c,l.threadKey],n[3]=c,n[4]=l.threadKey,n[5]=g):g=n[5];var h=o("ReQLSuspense").useArray(_,g,i.id+":56"),y=r("useMWAriaLabelForThread")(l),C=l.snippetSenderContactId,b=m(null),v;n[6]!==h?(v=h.find(f),n[6]=h,n[7]=v):v=n[7];var S=v,R;n[8]!==(S==null?void 0:S.contactId)||n[9]!==s||n[10]!==C?(R=function(){var e=C!=null?C:S==null?void 0:S.contactId;if(e!=null){var t=(r("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+r("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(u||(u=o("I64"))).to_string(e)}).toString();s==null||s.go(t,{})}},n[8]=S==null?void 0:S.contactId,n[9]=s,n[10]=C,n[11]=R):R=n[11];var L;return n[12]!==a||n[13]!==y||n[14]!==R?(L=d.jsx(r("CometPressable.react"),{"aria-label":y,onPress:R,overlayDisabled:!0,ref:b,xstyle:p.title,children:a}),n[12]=a,n[13]=y,n[14]=R,n[15]=L):L=n[15],L}function f(e){return e.isSuperAdmin===!0}function g(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.thread,i=r("useMWAriaLabelForThread")(a),l=r("useCommunityFolder")(a),c=m(null),_;if(t[0]!==(l==null?void 0:l.fbGroupId)){var f;_=(u||(u=o("I64"))).to_string((f=l==null?void 0:l.fbGroupId)!=null?f:(u||(u=o("I64"))).zero),t[0]=l==null?void 0:l.fbGroupId,t[1]=_}else _=t[1];var g;t[2]!==_?(g={groupID:_},t[2]=_,t[3]=g):g=t[3];var h=r("useMWXEntryPointDialog")(r("MWLSGroupMembershipDialog.entrypoint"),g),y=h[0],C;t[4]!==l||t[5]!==y?(C=function(){return y({folder:l!=null?l:void 0})},t[4]=l,t[5]=y,t[6]=C):C=t[6];var b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Members"),t[7]=b):b=t[7];var v;t[8]!==n?(v=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:b,children:n}),t[8]=n,t[9]=v):v=t[9];var S;return t[10]!==i||t[11]!==C||t[12]!==v?(S=d.jsx(r("CometPressable.react"),{"aria-label":i,onPress:C,overlayDisabled:!0,ref:c,xstyle:p.title,children:v}),t[10]=i,t[11]=C,t[12]=v,t[13]=S):S=t[13],S}function h(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.thread,i=o("LSThreadBitOffset").has(8,a),l=o("useOtherParticipantOrSelfContact").useOtherParticipantOrSelfContact(a);if(o("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&l==null&&r("FBLogger")("meteora").warn("Missing other participant in one-to-one thread."),l==null||!i)return n;var s=l.name,u;t[0]!==n||t[1]!==s?(u=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:s,children:n}),t[0]=n,t[1]=s,t[2]=u):u=t[2];var c;return t[3]!==s||t[4]!==l||t[5]!==u?(c=d.jsx(r("MWLSContactLink.react"),{contact:l,isText:!1,label:s,children:u}),t[3]=s,t[4]=l,t[5]=u,t[6]=c):c=t[6],c}function y(e){var t=o("react-compiler-runtime").c(9),n=e.children,r=e.thread,a=r.threadSubtype,i=r.threadType,l=o("LSThreadBitOffset").has(26,r);if(o("LSMessagingThreadTypeUtil").isBusinessSupportThread(a!=null?a:void 0))return n;if(o("LSMessagingThreadTypeUtil").isOneToOne(i)){var s;return t[0]!==n||t[1]!==r?(s=d.jsx(h,{thread:r,children:n}),t[0]=n,t[1]=r,t[2]=s):s=t[2],s}if(o("LSMessagingThreadTypeUtil").isGroup(i)&&l){var u;return t[3]!==n||t[4]!==r?(u=d.jsx(g,{thread:r,children:n}),t[3]=n,t[4]=r,t[5]=u):u=t[5],u}if(o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(i)){var c;return t[6]!==n||t[7]!==r?(c=d.jsx(_,{thread:r,children:n}),t[6]=n,t[7]=r,t[8]=c):c=t[8],c}return n}l.default=y}),226);
__d("usePresenceUnifiedIsThreadActiveForContactIds",["I64","PresenceCommonPresenceCommonTypes","react","react-compiler-runtime","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=o("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),r=o("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),a,i;t[0]!==e||t[1]!==r?(a=function(){r==null||r.addAdditionalContacts(e.map(d))},i=[e,r],t[0]=e,t[1]=r,t[2]=a,t[3]=i):(a=t[2],i=t[3]),u(a,i);var l;if(t[4]!==e||t[5]!==n){var c;t[7]!==n?(c=function(t){var e;return((e=n.get((s||(s=o("I64"))).to_string(t)))==null?void 0:e.presenceStatus)===o("PresenceCommonPresenceCommonTypes").PresenceStatus.Active},t[7]=n,t[8]=c):c=t[8],l=e.some(c),t[4]=e,t[5]=n,t[6]=l}else l=t[6];return l}function d(e){return(s||(s=o("I64"))).to_string(e)}l.default=c}),98);
__d("useMWLSMQTTPresence",["Actor","I64","ReQL","ReQLSuspense","react-compiler-runtime","usePresenceUnifiedIsThreadActiveForContactIds","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(5),a=(s||(s=r("useReStore")))(),l=o("Actor").useActor(),u=l[0],d,m;n[0]!==u||n[1]!==a.tables.participants||n[2]!==t?(d=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t).map(c).filter(function(t){return t!=null&&(e||(e=o("I64"))).to_string(t)!==u})},m=[u,a.tables.participants,t],n[0]=u,n[1]=a.tables.participants,n[2]=t,n[3]=d,n[4]=m):(d=n[3],m=n[4]);var p=o("ReQLSuspense").useArray(d,m,i.id+":25");return r("usePresenceUnifiedIsThreadActiveForContactIds")(p)}function c(e){return e==null?void 0:e.contactId}l.default=u}),98);
__d("MWPLSPresenceBadge.react",["MWPPresenceBadge.react","react","react-compiler-runtime","useMWLSMQTTPresence"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.borderThemeColor,a=e.size,i=e.threadKey,l=r("useMWLSMQTTPresence")(i),u;return t[0]!==n||t[1]!==l||t[2]!==a?(u=s.jsx(r("MWPPresenceBadge.react"),{borderThemeColor:n,isActiveStatePresence:l,size:a}),t[0]=n,t[1]=l,t[2]=a,t[3]=u):u=t[3],u}l.default=u}),98);
__d("MWLSChatTabHeaderCustomPicture.react",["CometPlaceholder.react","FDSFacepilePhoto.react","MWPLSPresenceBadge.react","react","react-compiler-runtime","translatedServerString","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(17),n=e.badgeSize,a=e.photoSize,i=e.thread,l=e.threadPictureUrl,c=e.withAltText,d=r("useLSGetThreadTitle.react")(i),m=d.threadTitle,p;t[0]!==n||t[1]!==i?(p=i!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderCustomPicture",children:s.jsx(r("MWPLSPresenceBadge.react"),{borderThemeColor:u.borderThemeColor,size:n,threadKey:i.threadKey})}):null,t[0]=n,t[1]=i,t[2]=p):p=t[2];var _=p,f;t[3]!==m||t[4]!==c?(f=c===!0&&m!=null?r("translatedServerString")(m):void 0,t[3]=m,t[4]=c,t[5]=f):f=t[5];var g;t[6]!==m||t[7]!==c?(g=c===!0&&m!=null?r("translatedServerString")(m):void 0,t[6]=m,t[7]=c,t[8]=g):g=t[8];var h;t[9]!==g||t[10]!==l?(h=[{alt:g,disabled:!1,source:l}],t[9]=g,t[10]=l,t[11]=h):h=t[11];var y;return t[12]!==_||t[13]!==a||t[14]!==f||t[15]!==h?(y=s.jsx(r("FDSFacepilePhoto.react"),{badge:_,label:f,size:a,sources:h,totalItems:1}),t[12]=_,t[13]=a,t[14]=f,t[15]=h,t[16]=y):y=t[16],y}l.default=c}),98);
__d("MWLSChatTabHeaderCustomPictureCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.communityFolder,a=e.photoSize,i=e.threadPictureUrl,l=n.pictureUrl,u=n.pictureUrlExpirationTimestampMs,c=n.pictureUrlFallback,d=l!=null?l:void 0,m=u!=null?u:void 0,p=c!=null?c:void 0,_;t[0]!==d||t[1]!==m||t[2]!==p?(_={pictureUrl:d,pictureUrlExpirationTimestampMs:m,pictureUrlFallback:p},t[0]=d,t[1]=m,t[2]=p,t[3]=_):_=t[3];var f;return t[4]!==a||t[5]!==_||t[6]!==i?(f=s.jsx(r("MWCMThreadPictureCustomThreadCommunity.react"),{community:_,photoSize:a,threadPictureUrl:i}),t[4]=a,t[5]=_,t[6]=i,t[7]=f):f=t[7],f}l.default=u}),98);
__d("MWLSChatTabHeaderFacepile.react",["CometPlaceholder.react","MWFacepile.react","MWPLSPresenceBadge.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(12),n=e.ariaHidden,a=e.badgeSize,i=e.label,l=e.onlyAuthoratitiveContacts,c=e.photoSize,d=e.thread,m=e.withAltText,p=l===void 0?!1:l,_=c===void 0?32:c,f=m===void 0?!0:m,g=d.threadKey,h=d.threadType,y;t[0]!==a||t[1]!==g?(y=s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderFacepile",children:s.jsx(r("MWPLSPresenceBadge.react"),{borderThemeColor:u.borderThemeColor,size:a,threadKey:g})}),t[0]=a,t[1]=g,t[2]=y):y=t[2];var C=y,b;return t[3]!==C||t[4]!==n||t[5]!==i||t[6]!==p||t[7]!==_||t[8]!==g||t[9]!==h||t[10]!==f?(b=s.jsx(r("MWFacepile.react"),{actualBadge:C,ariaHidden:n,label:i,onlyAuthoratitiveContacts:p,photoSize:_,threadKey:g,threadType:h,withAltText:f}),t[3]=C,t[4]=n,t[5]=i,t[6]=p,t[7]=_,t[8]=g,t[9]=h,t[10]=f,t[11]=b):b=t[11],b}l.default=c}),98);
__d("MWLSChatTabHeaderPicture.react",["MWLSChatTabHeaderCustomPicture.react","MWLSChatTabHeaderCustomPictureCommunity.react","MWLSChatTabHeaderFacepile.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(19),a=t.ariaHidden,l=t.badgeSize,s=t.photoSize,c=t.thread,d=(e||(e=r("useReStore")))(),m,p;n[0]!==d.tables.community_folders||n[1]!==c.parentThreadKey?(m=function(){return o("ReQL").fromTableAscending(d.tables.community_folders,["pictureUrl","pictureUrlExpirationTimestampMs","pictureUrlFallback"]).getKeyRange(c.parentThreadKey)},p=[d.tables.community_folders,c.parentThreadKey],n[0]=d.tables.community_folders,n[1]=c.parentThreadKey,n[2]=m,n[3]=p):(m=n[2],p=n[3]);var _=o("ReQLSuspense").useFirst(m,p,i.id+":40"),f=c.threadPictureUrl,g=c.threadPictureUrlExpirationTimestampMs,h=c.threadPictureUrlFallback,y=f!=null?f:void 0,C=g!=null?g:void 0,b=h!=null?h:void 0,v;n[4]!==y||n[5]!==C||n[6]!==b?(v=r("getLSMediaThreadPictureUrl")({threadPictureUrl:y,threadPictureUrlExpirationTimestampMs:C,threadPictureUrlFallback:b}),n[4]=y,n[5]=C,n[6]=b,n[7]=v):v=n[7];var S=v;if(S!=null){var R;return n[8]!==l||n[9]!==_||n[10]!==s||n[11]!==S||n[12]!==c?(R=_!=null?u.jsx(r("MWLSChatTabHeaderCustomPictureCommunity.react"),{badgeSize:l,communityFolder:_,photoSize:s,threadPictureUrl:S}):u.jsx(r("MWLSChatTabHeaderCustomPicture.react"),{badgeSize:l,photoSize:s,thread:c,threadPictureUrl:S}),n[8]=l,n[9]=_,n[10]=s,n[11]=S,n[12]=c,n[13]=R):R=n[13],R}var L;return n[14]!==a||n[15]!==l||n[16]!==s||n[17]!==c?(L=u.jsx(r("MWLSChatTabHeaderFacepile.react"),{ariaHidden:a,badgeSize:l,photoSize:s,thread:c}),n[14]=a,n[15]=l,n[16]=s,n[17]=c,n[18]=L):L=n[18],L}l.default=c}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a=t.size,i=t.xstyle,l=a===void 0?"10px":a,s;n[0]!==i?(s=(e||(e=r("stylex"))).props(i),n[0]=i,n[1]=s):s=n[1];var c;n[2]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:"var(--mwp-header-button-color)",fillRule:"evenodd"}),n[2]=c):c=n[2];var d;return n[3]!==l||n[4]!==s?(d=u.jsx("svg",babelHelpers.extends({"aria-hidden":"true"},s,{height:l,viewBox:"0 0 18 10",width:l,children:c})),n[3]=l,n[4]=s,n[5]=d):d=n[5],d}l.default=c}),98);
__d("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29477693758510886"}),null);
__d("MWV2HeaderGroupSettingsSectionQuery$Parameters",["MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"),metadata:{},name:"MWV2HeaderGroupSettingsSectionQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWV2HeaderSettingsMenu.entrypoint",["JSResourceForInteraction","MWV2HeaderGroupSettingsSectionQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID;return{queries:{headerSettingsMenuQueryRef:{parameters:r("MWV2HeaderGroupSettingsSectionQuery$Parameters"),variables:{groupID:e!=null?e:""}}}}},root:r("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsMenu.entrypoint")};l.default=e}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["I64","MWV2HeaderSettingsMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(17),a=e.children,i=e.folderFbGroupId,l=e.pushPage,c=e.tab,d=e.thread,m=d.threadKey,p=d.threadType,_=r("MessengerWebUXLogger").useImpressionLogger(),f;t[0]!==i?(f=i!=null?(s||(s=o("I64"))).to_string(i):void 0,t[0]=i,t[1]=f):f=t[1];var g=f,h;t[2]!==g?(h={groupID:g},t[2]=g,t[3]=h):h=t[3];var y;t[4]!==_||t[5]!==m||t[6]!==p?(y=function(t){n("cr:2580")&&t&&(n("cr:2580")({threadKey:m,threadType:p},"open_thread_settings_menu","popup_chat_box"),_==null||_({eventName:"thread_settings_menu_impression",threadKey:m,threadType:p}))},t[4]=_,t[5]=m,t[6]=p,t[7]=y):y=t[7];var C;t[8]!==l||t[9]!==c||t[10]!==m?(C={onClose:r("emptyFunction"),pushPage:l,tab:c,threadKey:m},t[8]=l,t[9]=c,t[10]=m,t[11]=C):C=t[11];var b;return t[12]!==a||t[13]!==h||t[14]!==y||t[15]!==C?(b=u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:u.jsx(r("MWXEntryPointPopoverTrigger.react"),{entryPointParams:h,onVisibilityChange:y,otherProps:C,popoverEntryPoint:r("MWV2HeaderSettingsMenu.entrypoint"),position:"start",preloadTrigger:"button",children:a})}),t[12]=a,t[13]=h,t[14]=y,t[15]=C,t[16]=b):b=t[16],b}l.default=c}),98);
__d("useMWCMIssueCommunityMemberListFetch",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","pageID","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n){var a=o("react-compiler-runtime").c(5),l=(u||(u=r("useReStore")))(),c,d;return a[0]!==l||a[1]!==t||a[2]!==n?(c=function(){r("promiseDone")(l.runInTransaction(function(a){return r("LSIssueCommunityMemberListFetchStoredProcedure")(r("LSFactory")(a),{communityId:t,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(e||(e=o("I64"))).zero,nextPageCursor:"",requestId:r("pageID"),roles:r("LSVec").ofArray([(s||(s=o("LSIntEnum"))).ofNumber(0)]),source:s.ofNumber(7),threadKey:n,threadRoles:r("LSVec").ofArray([])})},"readwrite",void 0,void 0,i.id+":33"))},d=[l,t,n],a[0]=l,a[1]=t,a[2]=n,a[3]=c,a[4]=d):(c=a[3],d=a[4]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=c}),98);
__d("useMWV2HeaderSettingsPopover",["LSFactory","LSFetchAdditionalThreadDataStoredProcedure","MWCMThreadTypes.react","ODS","getMWV2HeaderSettingsPopoverTooltip","promiseDone","react-compiler-runtime","useAsyncReStore","useMWCMIssueCommunityMemberListFetch"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(12),a=t.fbGroupId,l=t.threadKey,s=t.threadType,u;n[0]!==s?(u=r("getMWV2HeaderSettingsPopoverTooltip")({threadType:s}),n[0]=s,n[1]=u):u=n[1];var c=u,d=r("useAsyncReStore")(),m=r("useMWCMIssueCommunityMemberListFetch")(a,l),p;n[2]!==s?(p=o("MWCMThreadTypes.react").isJoinedCMThread(s),n[2]=s,n[3]=p):p=n[3];var _=p,f;n[4]!==d||n[5]!==_||n[6]!==m||n[7]!==l?(f=function(n){n(),_&&(m(),r("promiseDone")(d,function(e){return e.runInTransaction(function(e){return r("LSFetchAdditionalThreadDataStoredProcedure")(r("LSFactory")(e),{threadKey:l})},"readwrite",void 0,void 0,i.id+":56")})),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_header","settings")},n[4]=d,n[5]=_,n[6]=m,n[7]=l,n[8]=f):f=n[8];var g;return n[9]!==f||n[10]!==c?(g={showDialog:f,tooltip:c},n[9]=f,n[10]=c,n[11]=g):g=n[11],g}l.default=s}),98);
__d("MWV2HeaderSettingsButton.react",["MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime","useMWV2HeaderSettingsPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={icon:{marginInlineStart:"x13fj5qh",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",minWidth:"xeuugli",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(18),n=e.children,a=e.folderFbGroupId,i=e.pushPage,l=e.tab,c=e.thread,d=c.threadKey,m=c.threadType,p=a!=null?a:d,_;t[0]!==p||t[1]!==d||t[2]!==m?(_={fbGroupId:p,threadKey:d,threadType:m},t[0]=p,t[1]=d,t[2]=m,t[3]=_):_=t[3];var f=r("useMWV2HeaderSettingsPopover")(_),g=f.showDialog,h=f.tooltip,y;t[4]!==d||t[5]!==m?(y={eventName:"open_setting_from_chat_tab",threadKey:d,threadType:m},t[4]=d,t[5]=m,t[6]=y):y=t[6];var C=y,b;t[7]!==n||t[8]!==C||t[9]!==g||t[10]!==h?(b=function(t,o,a,i,l,c,d){return s.jsx(r("MWXPressable.react"),{"aria-label":h,loggingEvent:C,onHoverIn:i,onHoverOut:l,onPress:function(){return g(o)},onPressIn:c,overlayRadius:"compact",ref:t,testid:void 0,xstyle:u.settingsButton,children:s.jsx(r("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:s.jsxs(r("MDSRowItem.react"),{expanding:!0,xstyle:u.rowItem,children:[n,s.jsx(r("MWV2HeaderSettingsButtonChevron.react"),{xstyle:u.icon})]})})})},t[7]=n,t[8]=C,t[9]=g,t[10]=h,t[11]=b):b=t[11];var v;return t[12]!==a||t[13]!==i||t[14]!==b||t[15]!==l||t[16]!==c?(v=s.jsx(r("MWV2HeaderSettingsPopoverTrigger.react"),{folderFbGroupId:a,pushPage:i,tab:l,thread:c,children:b}),t[12]=a,t[13]=i,t[14]=b,t[15]=l,t[16]=c,t[17]=v):v=t[17],v}l.default=c}),98);
__d("MWLSChatTabHeaderSettingsButton.react",["LSMessagingThreadTypeUtil","MWV2HeaderSettingsButton.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(21),a=t.children,l=t.pushPage,s=t.tab,c=t.thread,d=(e||(e=r("useReStore")))(),m;n[0]!==d.tables.cutover_threads||n[1]!==c.threadKey?(m=function(){return o("ReQL").fromTableAscending(d.tables.cutover_threads).getKeyRange(c.threadKey)},n[0]=d.tables.cutover_threads,n[1]=c.threadKey,n[2]=m):m=n[2];var p;n[3]!==d||n[4]!==c.threadKey?(p=[d,c.threadKey],n[3]=d,n[4]=c.threadKey,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":36"),f;n[6]!==d.tables.community_folders||n[7]!==c.parentThreadKey?(f=function(){return o("ReQL").fromTableAscending(d.tables.community_folders,["fbGroupId"]).getKeyRange(c.parentThreadKey)},n[6]=d.tables.community_folders,n[7]=c.parentThreadKey,n[8]=f):f=n[8];var g;n[9]!==d||n[10]!==c.parentThreadKey?(g=[d,c.parentThreadKey],n[9]=d,n[10]=c.parentThreadKey,n[11]=g):g=n[11];var h=o("ReQLSuspense").useFirst(f,g,i.id+":43"),y=_!=null,C=c.threadKey,b=c.threadSubtype,v=c.threadType;if(y===!0||o("LSMessagingThreadTypeUtil").isBusinessSupportThread(b!=null?b:void 0))return a;var S=h==null?void 0:h.fbGroupId,R;n[12]!==C||n[13]!==v?(R={threadKey:C,threadType:v},n[12]=C,n[13]=v,n[14]=R):R=n[14];var L;return n[15]!==a||n[16]!==l||n[17]!==S||n[18]!==R||n[19]!==s?(L=u.jsx(r("MWV2HeaderSettingsButton.react"),{children:a,folderFbGroupId:S,pushPage:l,tab:s,thread:R}),n[15]=a,n[16]=l,n[17]=S,n[18]=R,n[19]=s,n[20]=L):L=n[20],L}l.default=c}),98);
__d("MWLSChatTabHeaderDetailsContainer.react",["CometPlaceholder.react","Int64Hooks","MWLSChatTabHeaderDetails.react","MWLSChatTabHeaderDetailsPressable.react","MWLSChatTabHeaderPicture.react","MWLSChatTabHeaderSettingsButton.react","MWXRow.react","MWXRowItem.react","MWXTooltip.react","getMWV2HeaderSettingsPopoverTooltip","react","react-compiler-runtime","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo,c={detailsContainer:{marginInlineStart:"xw01apr",marginInlineEnd:"x1ws5yxj",marginLeft:null,marginRight:null,paddingInlineStart:"xyiysdx",$$css:!0},detailsContainerUnpressable:{marginInlineStart:"xe9ewy2",marginInlineEnd:"x11lt19s",marginLeft:null,marginRight:null,paddingInlineStart:"xyiysdx",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(26),n=e.badgeSize,a=e.photoSize,i=e.pushPage,l=e.tab,u=e.thread,d=e.threadNameSize,m=n===void 0?10:n,p=a===void 0?40:a,_=d===void 0?"headlineEmphasized3":d,f;t[0]!==u.threadType?(f=r("getMWV2HeaderSettingsPopoverTooltip")({threadType:u.threadType}),t[0]=u.threadType,t[1]=f):f=t[1];var g=f,h=r("useMWPThreadHasSpectraUser")(u.threadKey),y;t[2]!==m||t[3]!==p||t[4]!==u?(y=s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWLSChatTabHeaderPicture.react"),{badgeSize:m,photoSize:p,thread:u})}),t[2]=m,t[3]=p,t[4]=u,t[5]=y):y=t[5];var C=y,b;t[6]!==u||t[7]!==_?(b=s.jsx(r("MWLSChatTabHeaderDetails.react"),{thread:u,threadNameSize:_}),t[6]=u,t[7]=_,t[8]=b):b=t[8];var v;t[9]!==b||t[10]!==g?(v=s.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:c.detailsContainer,children:s.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:b})}),t[9]=b,t[10]=g,t[11]=v):v=t[11];var S=v,R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x9f619 x193iq5w x1yrsyyn x1icxu4v x10b6aqq x25sj25"},t[12]=R):R=t[12];var L;t[13]!==u||t[14]!==C?(L=s.jsx("div",{"data-testid":void 0,children:s.jsx(r("MWLSChatTabHeaderDetailsPressable.react"),{thread:u,children:C})}),t[13]=u,t[14]=C,t[15]=L):L=t[15];var E;t[16]!==i||t[17]!==l||t[18]!==u||t[19]!==h||t[20]!==_||t[21]!==S?(E=h?s.jsx(r("MWXRowItem.react"),{expanding:!0,xstyle:c.detailsContainerUnpressable,children:s.jsx(r("MWLSChatTabHeaderDetails.react"),{thread:u,threadNameSize:_})}):s.jsx(r("MWLSChatTabHeaderSettingsButton.react"),{pushPage:i,tab:l,thread:u,children:S}),t[16]=i,t[17]=l,t[18]=u,t[19]=h,t[20]=_,t[21]=S,t[22]=E):E=t[22];var k;return t[23]!==E||t[24]!==L?(k=s.jsx("div",babelHelpers.extends({},R,{children:s.jsx(r("MWXRow.react"),{align:"start",expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetailsContainer",children:s.jsxs(s.Fragment,{children:[L,E]})})})})),t[23]=E,t[24]=L,t[25]=k):k=t[25],k}var m=u(d,o("Int64Hooks").mostlyShallowEqual);l.default=m}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["Int64Hooks","LSThreadBitOffset","MWReQLChatRTCButtons.react","ODS","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback,m=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function p(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,l=g,s=_,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.threads||n[1]!==a?(d=function(){return o("ReQL").fromTableAscending(u.tables.threads,["threadKey","threadType","folderName","ongoingCallState","parentThreadKey"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(a)},n[0]=u.tables.threads,n[1]=a,n[2]=d):d=n[2];var m;n[3]!==u||n[4]!==a?(m=[u,a],n[3]=u,n[4]=a,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(d,m,i.id+":49");if(p!=null){var f;return n[6]!==p?(f=c.jsx(r("MWReQLChatRTCButtons.react"),{audioCallingSurface:"comet_chattab_audio_button",logAudio:l,logVideo:s,thread:p,videoCallingSurface:"comet_chattab_video_button"}),n[6]=p,n[7]=f):f=n[7],f}}function _(){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_header","video"),m.onReady(f)}function f(e){return e.logClick({component:"video_button",surface:"chat_tab"})}function g(){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_header","audio"),m.onReady(h)}function h(e){return e.logClick({component:"audio_button",surface:"chat_tab"})}var y=c.memo(p,o("Int64Hooks").mostlyShallowEqual);l.default=y}),98);
__d("MWV2HeaderCloseButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconCross","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Close chat");function d(e){var t=o("react-compiler-runtime").c(7),n=e.label,a=e.onPress,i=e.testid,l=r("useSetAttributeRef")("data-prevent_chattab_focus","1"),s=n!=null?n:c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[0]=d):d=t[0];var m=n!=null?n:c,p;return t[1]!==a||t[2]!==l||t[3]!==s||t[4]!==m||t[5]!==i?(p=u.jsx(r("MWChatHeaderActionButton.react"),{"aria-label":s,color:d,icon:r("MWXIconCross"),iconRatio:"large",loggingEvent:"close_chat_tab",onPress:a,ref:l,testid:void 0,tooltipLabel:m}),t[1]=a,t[2]=l,t[3]=s,t[4]=m,t[5]=i,t[6]=p):p=t[6],p}l.default=d}),226);
__d("MWV2HeaderContainer.react",["MWEditMessageOverlay.react","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={divider:{boxShadow:"x7m3og9",$$css:!0},root:{alignItems:"x6s0dn4",backgroundColor:"xfpmyvw",borderStartEndRadius:"x5a5i1n",borderStartStartRadius:"x1obq294",display:"x78zum5",flexShrink:"x2lah0s",height:"x10w6t97",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",position:"x1n2onr6",zIndex:"xhtitgo",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(11),a=t.divider,i=t.endContent,l=t.startContent,s=a===void 0?!0:a,d=i===void 0?null:i,m=l===void 0?null:l,p;n[0]!==s?(p=(e||(e=r("stylex"))).props(c.root,s?c.divider:!1),n[0]=s,n[1]=p):p=n[1];var _;n[2]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(r("MWEditMessageOverlay.react"),{}),n[2]=_):_=n[2];var f;n[3]!==m?(f=m!=null&&u.jsx(r("MWXRowItem.react"),{children:m}),n[3]=m,n[4]=f):f=n[4];var g;n[5]!==f?(g=u.jsx(r("MWXRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:f}),n[5]=f,n[6]=g):g=n[6];var h;return n[7]!==d||n[8]!==p||n[9]!==g?(h=u.jsxs("div",babelHelpers.extends({},p,{children:[_,g,d]})),n[7]=d,n[8]=p,n[9]=g,n[10]=h):h=n[10],h}l.default=d}),98);
__d("MWXIconMinus",["MWXSvgIcon","SVGIcon","cr:22402","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22402")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconMinus","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.onPress,a=r("useSetAttributeRef")("data-prevent_chattab_focus","1"),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Minimize chat"),t[0]=i):i=t[0];var l=i,c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[1]=c):c=t[1];var d;return t[2]!==n||t[3]!==a?(d=u.jsx(r("MWChatHeaderActionButton.react"),{"aria-label":l,color:c,icon:r("MWXIconMinus"),iconRatio:"large",loggingEvent:"minimize_chat_tab",onPress:n,ref:a,tooltipLabel:l}),t[2]=n,t[3]=a,t[4]=d):d=t[4],d}l.default=c}),226);
__d("useMWV2CloseTab",["fbt","LSContactListConversionAttributionStore","MWChatStateActions","MWChatStateV2.react","MWGetChatTabOpenQPLEventTrace","MWV2ComposerHasContentContext.react","MessengerClickImpressionEventsLoggerUtils","emptyFunction","react","react-compiler-runtime","useCometConfirmationDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback;function c(e,t){var n,a=o("react-compiler-runtime").c(7),i=o("MWChatStateV2.react").useDispatch(),l=r("useCometConfirmationDialog")(),u=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),c=u.hasContentRef,m=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(e,(n=t.tabType.threadKeyDescriptor)==null?void 0:n.threadType),p;return a[0]!==i||a[1]!==c||a[2]!==l||a[3]!==t.tabId||a[4]!==m||a[5]!==e?(p=function(){var n=function(){e!=null&&r("MWGetChatTabOpenQPLEventTrace")(e,d),m!=null&&o("LSContactListConversionAttributionStore").resetAttribution(m),i(o("MWChatStateActions").closeTab(Date.now(),t.tabId))};if(e!=null&&(c==null?void 0:c.current)===!0)return l({body:s._(/*BTDS*/"Are you sure you want to close this chat window?"),confirm:s._(/*BTDS*/"OK"),title:s._(/*BTDS*/"You haven't sent your message.")},function(){n()},r("emptyFunction"));n()},a[0]=i,a[1]=c,a[2]=l,a[3]=t.tabId,a[4]=m,a[5]=e,a[6]=p):p=a[6],p}function d(e){e.cancelTrace("close_tab",!0)}l.default=c}),226);
__d("MWLSChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWChatStateActions","MWChatStateV2.react","MWCreatorMessagingUtils","MWLSChatTabHeaderDetailsContainer.react","MWV2ChatTabHeaderRTCButtons.react","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWXTooltipGroup.react","QPLUserFlow","qpl","react","react-compiler-runtime","useMWPThreadHasSpectraUser","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(33),n=e.pushPage,a=e.renderThreadDetails,i=e.tab,l=e.thread,c;t[0]!==l?(c=o("LSThreadBitOffset").has(21,l),t[0]=l,t[1]=c):c=t[1];var d=c,m=l.threadKey,p=l.threadSubtype,_=o("MWChatStateV2.react").useDispatch(),f=r("useMWV2CloseTab")(m,i),g=o("MAWThreadCutover").useIsCutoverOpenThread(m),h=r("useMWPThreadHasSpectraUser")(m),y;t[2]!==n||t[3]!==i||t[4]!==l?(y=u.jsx(r("MWLSChatTabHeaderDetailsContainer.react"),{photoSize:32,pushPage:n,tab:i,thread:l,threadNameSize:"headlineEmphasized4"}),t[2]=n,t[3]=i,t[4]=l,t[5]=y):y=t[5];var C=y,b;if(g||o("LSMessagingThreadTypeUtil").isBusinessSupportThread(p!=null?p:void 0))b=C;else{var v;t[6]!==C||t[7]!==a?(v=a!=null?a():C,t[6]=C,t[7]=a,t[8]=v):v=t[8],b=v}var S;t[9]!==d||t[10]!==l?(S=function(){l!=null&&o("MWCreatorMessagingUtils").isAPPlusInitiatedThread(l)&&d&&r("QPLUserFlow").endCancel(r("qpl")._(421070823,"2981"),{annotations:{string:{action:"no_action"}},instanceKey:(s||(s=o("I64"))).to_int32(l.threadKey)})},t[9]=d,t[10]=l,t[11]=S):S=t[11];var R=S,L;t[12]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x6s0dn4 x78zum5 x1lxpwgx"},t[12]=L):L=t[12];var E;t[13]!==h||t[14]!==m?(E=!h&&u.jsx(r("MWV2ChatTabHeaderRTCButtons.react"),{threadKey:m}),t[13]=h,t[14]=m,t[15]=E):E=t[15];var k;t[16]!==_||t[17]!==R||t[18]!==i.tabId?(k=u.jsx(r("MWV2HeaderMinimizeButton.react"),{onPress:function(){_(o("MWChatStateActions").minimizeTab(Date.now(),i.tabId)),R()}}),t[16]=_,t[17]=R,t[18]=i.tabId,t[19]=k):k=t[19];var I;t[20]!==f||t[21]!==R?(I=function(){f(),R()},t[20]=f,t[21]=R,t[22]=I):I=t[22];var T="mwchattab-closebutton-"+(s||(s=o("I64"))).to_string(m),D;t[23]!==I||t[24]!==T?(D=u.jsx(r("MWV2HeaderCloseButton.react"),{onPress:I,testid:void 0}),t[23]=I,t[24]=T,t[25]=D):D=t[25];var x;t[26]!==E||t[27]!==k||t[28]!==D?(x=u.jsx(r("MWXTooltipGroup.react"),{children:u.jsxs("div",babelHelpers.extends({},L,{children:[E,k,D]}))}),t[26]=E,t[27]=k,t[28]=D,t[29]=x):x=t[29];var $;return t[30]!==b||t[31]!==x?($=u.jsx(r("MWV2HeaderContainer.react"),{endContent:x,startContent:b}),t[30]=b,t[31]=x,t[32]=$):$=t[32],$}l.default=c}),98);
__d("MWLSChatTabHeaderRoot.react",["LSThreadBitOffset","MWLSChatTabHeader.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(11),a=t.pushPage,l=t.renderThreadDetails,s=t.tab,c=t.threadKey,d=(e||(e=r("useReStore")))(),m;n[0]!==d.tables.threads||n[1]!==c?(m=function(){return o("ReQL").fromTableAscending(d.tables.threads,["authorityLevel","memberCount","muteCallsExpireTimeMs","muteExpireTimeMs","nullstateDescriptionText1","ongoingCallState","ongoingCallTimestampMs","threadKey","parentThreadKey","threadName","cannotReplyReason","threadType","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadSubtype","snippetSenderContactId","metadata"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(c)},n[0]=d.tables.threads,n[1]=c,n[2]=m):m=n[2];var p;n[3]!==d||n[4]!==c?(p=[d,c],n[3]=d,n[4]=c,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":30");if(_==null)return null;var f;return n[6]!==a||n[7]!==l||n[8]!==s||n[9]!==_?(f=u.jsx(r("MWLSChatTabHeader.react"),{pushPage:a,renderThreadDetails:l,tab:s,thread:_}),n[6]=a,n[7]=l,n[8]=s,n[9]=_,n[10]=f):f=n[10],f}l.default=c}),98);
__d("MWV2ChatTabHeaderLoadingWithGlimmers.react",["MDSGlimmer.react","MWChatStateV2Types","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","react","react-compiler-runtime","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={headerGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",marginInlineStart:"x1hm9lzh",width:"x1vz4e29",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.tab,a=r("useMWV2CloseTab")(n.tabType.type===o("MWChatStateV2Types").MWChatStateTabType.ChatTab?n.tabType.threadKeyDescriptor.threadKey:void 0,n),i;t[0]!==a?(i=s.jsx(r("MWV2HeaderCloseButton.react"),{onPress:a}),t[0]=a,t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("MDSGlimmer.react"),{index:0,xstyle:u.headerGlimmer}),t[2]=l):l=t[2];var c;return t[3]!==i?(c=s.jsx(r("MWV2HeaderContainer.react"),{endContent:i,startContent:l}),t[3]=i,t[4]=c):c=t[4],c}l.default=c}),98);
__d("useMWPEditMessageExit",["MAWEditMessageContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=o("react-compiler-runtime").c(5),t=s(o("MAWEditMessageContext.react").Context),n=t.editMessageData,r=t.setEditMessageData,a;e[0]!==r?(a=function(){r(null)},e[0]=r,e[1]=a):a=e[1];var i=a,l=n!=null,u;return e[2]!==i||e[3]!==l?(u={exitEditMessageMode:i,isEditMessageModeActive:l},e[2]=i,e[3]=l,e[4]=u):u=e[4],u}l.default=u}),98);
__d("MWV2TabContainer",["MWChatFocusComposerContext","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","MWChatTabFocusHandler","MWChatTabStyles","react","react-compiler-runtime","useMWPEditMessageExit","useMWV2CloseTab"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={marginInlineStart:o("MWChatTabStyles").CHAT_TAB_MARGIN_START,width:o("MWChatTabStyles").CHAT_TAB_WIDTH};function c(e){var t=o("react-compiler-runtime").c(24),n=e.ariaBusy,a=e.ariaLabel,i=e.children,l=e.domRef,c=e.style,d=e.tab,m=e.tabIndex,p=e.threadKey,_=o("MWChatStateV2.react").useDispatch(),f=r("useMWV2CloseTab")(p,d),g;t[0]!==d.tabId?(g=function(t){return t.focusedTabId===d.tabId},t[0]=d.tabId,t[1]=g):g=t[1];var h=o("MWChatStateContext").useChatState(g),y=r("useMWPEditMessageExit")(),C=y.exitEditMessageMode,b=y.isEditMessageModeActive,v;t[2]!==_?(v=function(){return _(o("MWChatStateActions").blurTab())},t[2]=_,t[3]=v):v=t[3];var S=b?C:f,R;t[4]!==_||t[5]!==d.tabId?(R=function(){return _(o("MWChatStateActions").focusTab(d.tabId))},t[4]=_,t[5]=d.tabId,t[6]=R):R=t[6];var L;t[7]!==h?(L={0:"xcrg951 x5a5i1n x1obq294 x78zum5 xdt5ytf x6prxxf xvq8zen x6ikm8r x10wlt62 x1rgmuzj x85a59c xbbk1sx x6l8u58",1:"xcrg951 x5a5i1n x1obq294 x78zum5 xdt5ytf x6prxxf xvq8zen x6ikm8r x10wlt62 x1rgmuzj x85a59c xbbk1sx x1eqhsl0"}[!!h<<0],t[7]=h,t[8]=L):L=t[8];var E;t[9]!==c?(E=babelHelpers.extends({},u,c),t[9]=c,t[10]=E):E=t[10];var k;t[11]!==n||t[12]!==a||t[13]!==i||t[14]!==l||t[15]!==L||t[16]!==E||t[17]!==m?(k=s.jsx("div",{"aria-busy":n,"aria-label":a,className:L,"data-testid":void 0,ref:l,style:E,tabIndex:m,children:i}),t[11]=n,t[12]=a,t[13]=i,t[14]=l,t[15]=L,t[16]=E,t[17]=m,t[18]=k):k=t[18];var I;return t[19]!==v||t[20]!==S||t[21]!==R||t[22]!==k?(I=s.jsx(o("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:s.jsx(r("MWChatTabFocusHandler"),{onBlur:v,onEscape:S,onFocus:R,children:k})}),t[19]=v,t[20]=S,t[21]=R,t[22]=k,t[23]=I):I=t[23],I}l.MWV2TabContainer=c}),98);
__d("MWV2ChatTabLoadingWithGlimmers.react",["fbt","MWInboxThreadMessagesSpinner.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2IsTabFocusedContext.react","MWV2TabContainer","react","react-compiler-runtime","useCometLoadingStateTracker","useMergeRefs"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef;function p(e){var t=o("react-compiler-runtime").c(13),n=e.tab,a=r("useCometLoadingStateTracker")(),i=a[1],l=m(null),c=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),p;t[0]!==c?(p=function(){if(c){var e=l.current;e!=null&&e.focus()}},t[0]=c,t[1]=p):p=t[1];var _;t[2]!==c||t[3]!==i?(_=[c,i],t[2]=c,t[3]=i,t[4]=_):_=t[4],d(p,_);var f=r("useMergeRefs")(i,l),g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Loading...").toString(),t[5]=g):g=t[5];var h;t[6]!==n?(h=u.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:n}),t[6]=n,t[7]=h):h=t[7];var y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=u.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),t[8]=y):y=t[8];var C;return t[9]!==f||t[10]!==h||t[11]!==n?(C=u.jsxs(o("MWV2TabContainer").MWV2TabContainer,{ariaBusy:!0,ariaLabel:g,domRef:f,tab:n,tabIndex:0,children:[h,y]}),t[9]=f,t[10]=h,t[11]=n,t[12]=C):C=t[12],C}l.default=p}),226);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWLSChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function d(e,t){var n=o("react-compiler-runtime").c(3),a;return n[0]!==e||n[1]!==t?(a=function(o){e(function(e){var n=e.onReturn;return s.jsx(r("CometPlaceholder.react"),{fallback:s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:t}),name:"MWCMSubThreadChatTabWithSubthread",children:s.jsx(c,{onReturn:function(){n()},tab:t,threadKey:o})})})},n[0]=e,n[1]=t,n[2]=a):a=n[2],a}function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.pushPage,a=e.tab,i=d(r,a),l;return t[0]!==n||t[1]!==i?(l=s.jsx(o("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:i,children:n}),t[0]=n,t[1]=i,t[2]=l):l=t[2],l}function p(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.tab,i=e.thread,l=i.threadKey,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},t[0]=u):u=t[0];var c;t[1]!==a?(c=s.jsx(r("MWV2ChatTabLoadingWithGlimmers.react"),{tab:a}),t[1]=a,t[2]=c):c=t[2];var d;t[3]!==n||t[4]!==a||t[5]!==i.threadKey||t[6]!==l?(d=function(t){return s.jsx(m,{pushPage:t,tab:a,children:s.jsxs(o("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:a,threadKey:i.threadKey,children:[s.jsx(r("MWLSChatTabHeaderRoot.react"),{pushPage:t,tab:a,threadKey:l}),n]})})},t[3]=n,t[4]=a,t[5]=i.threadKey,t[6]=l,t[7]=d):d=t[7];var p;return t[8]!==c||t[9]!==d?(p=s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:c,fitContentWidth:!0,children:d})})),t[8]=c,t[9]=d,t[10]=p):p=t[10],p}l.default=p}),98);
__d("SubthreadMuteStrings.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Mute"),u=s._(/*BTDS*/"Unmute");l.muteLabel=e,l.unmuteLabel=u}),226);
__d("useUnmuteSubthread.react",["fbt","I64","MWCMLogMuteDuration.react","cometPushToast","formatDate","react","react-compiler-runtime","useMWChatUnmuteThread","useMWXConfirmationDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e){var t=new Date;return(u||(u=o("I64"))).equal(e,(u||(u=o("I64"))).neg_one)?s._(/*BTDS*/"This sidechat is muted indefinitely"):new Date((u||(u=o("I64"))).to_float(e)).getDay()===t.getDay()?s._(/*BTDS*/"This sidechat is muted until {time}",[s._param("time",r("formatDate")((u||(u=o("I64"))).to_float(e)/1e3,"g:ia"))]):s._(/*BTDS*/"This sidechat is muted until {time} tomorrow",[s._param("time",r("formatDate")((u||(u=o("I64"))).to_float(e)/1e3,"g:ia"))])}function m(e,t){var n=o("react-compiler-runtime").c(5),a=r("useMWXConfirmationDialog")(),i=r("useMWChatUnmuteThread")(),l;return n[0]!==a||n[1]!==e||n[2]!==t||n[3]!==i?(l=function(r){r!=null&&a({body:d(r.muteExpireTimeMs),title:s._(/*BTDS*/"Unmute this sidechat?")},function(){i(r),o("MWCMLogMuteDuration.react").log({clientExtras:{is_subthread:"1"},eventType:"channel_level_unmute_all_notif",source:e!=null?e:"mute_bell_button",surface:t!=null?t:"subthread_list",threadKey:r.threadKey}),o("cometPushToast").cometPushToast({message:s._(/*BTDS*/"{Name of chat} unmuted",[s._param("Name of chat",r.threadName)])})})},n[0]=a,n[1]=e,n[2]=t,n[3]=i,n[4]=l):l=n[4],l}l.default=m}),226);
__d("MWCMSubthreadHeader.react",["fbt","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","Locale","MWChatTextTransform","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXIconBell","MWXIconBellCross","MWXIconCross","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","MWXMessageTextWithEntities.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","MWXTooltip.react","SubthreadMuteStrings.react","baseTextTransformAllStrings","emptyFunction","gkx","react","useMWXLazyDialog","useUnmuteSubthread.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=r("gkx")("23219"),p={chevronIcon:{marginInlineStart:"x13fj5qh",marginTop:"x1xmf6yo",$$css:!0},iconRow:{paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",maxWidth:"x1ncir08",$$css:!0}},_=s._(/*BTDS*/"Sidechat settings");function f(e){return e.length>30?e.slice(0,27)+"...":e}function g(){return function(e){return r("baseTextTransformAllStrings")(e,function(e,t){return h(e,t)})}}function h(e,t){return[f(e)]}function y(e){var t=e.closeSidePanelOnBack,n=e.hexTextColor,a=e.isChatTab,i=a===void 0?!1:a,l=e.isThreadMuted,f=l===void 0?!1:l,h=e.onPressBack,y=e.subtitle,C=e.textColor,b=e.thread,v=e.title,S=r("useMWXLazyDialog")(r("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMSubthreadHeader.react")),R=S[0],L=o("Int64Hooks").useCallbackInt64(function(){b!=null&&(u||(u=o("I64"))).equal(b.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("GroupsCometChatsEngagementLogger").log({action:"tap",event:"cancel_sidechat",source:"back_button",surface:"subthread_view",thread_id:(u||(u=o("I64"))).to_string(b==null?void 0:b.threadKey)}),h()},[h,b]),E=r("useUnmuteSubthread.react")("mute_bell_button","subthread_view"),k=b!=null?(u||(u=o("I64"))).equal(b==null?void 0:b.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)):!1,I=t===!0?r("MWXIconCross"):o("Locale").isRTL()?r("MWXIconArrowRight"):r("MWXIconArrowLeft"),T=t===!0?s._(/*BTDS*/"Close"):s._(/*BTDS*/"Back"),D=t===!0?v!=null?s._(/*BTDS*/"Close sidechat titled {thread title}",[s._param("thread title",v)]):s._(/*BTDS*/"Close sidechat"):v!=null?s._(/*BTDS*/"Go back from sidechat titled {thread title}",[s._param("thread title",v)]):s._(/*BTDS*/"Go back from sidechat"),x=s._(/*BTDS*/"Messages in conversation titled {thread title}",[s._param("thread title",v)]).toString(),$=d.jsx(r("MWXRowItem.react"),{"aria-label":x,expanding:!0,verticalAlign:"center",children:d.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:n==null?{}:{"--primary-text":n},children:[d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:d.jsx(r("MWXText.react"),{align:"center",color:C,isSemanticHeading:!0,numberOfLines:1,type:i?"headlineEmphasized4":m?"headlineEmphasized5":"headlineEmphasized3",children:d.jsx("span",babelHelpers.extends({},{0:{},1:{className:"xxymvpz"}}[!!i<<0],{children:typeof v=="string"?d.jsx(r("MWXMessageTextWithEntities.react"),{text:v,transforms:[].concat(o("MWChatTextTransform").textTransforms,[g()])}):v}))})}),y!=null?d.jsxs(d.Fragment,{children:[d.jsx(r("MWVerticalRhythm"),{height:6}),d.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:d.jsx(r("MWXText.react"),{align:"center",color:C,numberOfLines:1,type:"meta3",children:y})})]}):null]})});return d.jsxs(r("MWXRow.react"),{paddingHorizontal:i?0:12,paddingVertical:i?0:m?8:16,xstyle:void 0,children:[d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:T,children:d.jsx(r("MWXCircleButton.react"),{"aria-label":D,color:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:I,onPress:L,size:36,type:"deemphasized"})})}),!i||b==null?$:null,b!=null&&d.jsx(r("MWXRowItem.react"),{xstyle:i?p.rowItemChatTab:p.rowItem,children:d.jsx(r("MWXLazyPopoverTrigger.react"),{align:i?"middle":"end",popoverProps:{isChatTab:i,onClose:r("emptyFunction"),onDelete:h,thread:b},popoverResource:r("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(t,n,a,l,s,u,c){return i?d.jsx(r("MWXTooltip.react"),{align:"end",position:"above",tooltip:_,children:d.jsxs(r("MWXPressable.react"),{disabled:k,onHoverIn:l,onHoverOut:s,onPress:function(){n()},onPressIn:u,overlayOffset:8,overlayRadius:"normal",ref:t,xstyle:p.settingsButton,children:[$,d.jsx(r("MWV2HeaderSettingsButtonChevron.react"),{xstyle:p.chevronIcon})]})}):d.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[d.jsx(r("MWXRowItem.react"),{xstyle:p.iconRow,children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:f?o("SubthreadMuteStrings.react").unmuteLabel:o("SubthreadMuteStrings.react").muteLabel,children:d.jsx(r("MWXCircleButton.react"),{"aria-label":f?o("SubthreadMuteStrings.react").unmuteLabel:o("SubthreadMuteStrings.react").muteLabel,color:k?"tertiary":o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:k,icon:r(f?"MWXIconBellCross":"MWXIconBell"),onPress:function(){f?E(b):R({surface:"subthread_view",threadKey:b.threadKey})},size:36,type:"deemphasized"})})}),d.jsx(r("MWXRowItem.react"),{xstyle:p.iconRow,children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"below",tooltip:_,children:d.jsx(r("MWXCircleButton.react"),{"aria-label":_,color:k?"tertiary":o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:k,icon:r("MWXIconDots3Horizontal"),onHoverIn:l,onHoverOut:s,onPress:n,onPressIn:u,ref:t,size:36,type:"deemphasized"})})})]})}})})]})}y.displayName=y.name+" [from "+i.id+"]",l.default=y}),226);
__d("MWCMSubthreadParentMessage.react",["LSIntEnum","MWMessageRow.react","MWPMessageAuthor.react","MWV2MessageActionsVisibility.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(15),a=t.domElementRef,l=t.subthread;r("vulture")("i7-79bd4WgKkluQKIjcEcnrZjdc=");var u=(e||(e=r("useReStore")))(),d=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),m;n[0]!==u.tables.messages||n[1]!==l.threadKey?(m=function(){return o("ReQL").fromTableAscending(u.tables.messages.index("messageSubthreadKey")).getKeyRange(l.threadKey)},n[0]=u.tables.messages,n[1]=l.threadKey,n[2]=m):m=n[2];var p;n[3]!==u||n[4]!==l.threadKey?(p=[u,l.threadKey],n[3]=u,n[4]=l.threadKey,n[5]=p):p=n[5];var _=o("ReQLSuspense").useFirst(m,p,i.id+":35");if(_==null)return null;var f=_.senderId,g=_.threadKey,h;n[6]===Symbol.for("react.memo_cache_sentinel")?(h=(s||(s=o("LSIntEnum"))).ofNumber(18),n[6]=h):h=n[6];var y;n[7]!==a||n[8]!==_||n[9]!==d?(y=c.jsx(o("MWMessageRow.react").MWMessageRow,{domElementRef:a,hasMessageEmphasisRing:!1,isModal:!1,isSecureMessage:!1,message:_,rowIndexFromBottom:0,stopHoveringRef:d,threadType:h}),n[7]=a,n[8]=_,n[9]=d,n[10]=y):y=n[10];var C;return n[11]!==_.senderId||n[12]!==_.threadKey||n[13]!==y?(C=c.jsx(o("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:f,threadKey:g,children:y}),n[11]=_.senderId,n[12]=_.threadKey,n[13]=y,n[14]=C):C=n[14],C}l.default=d}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MAWEditMessageContext.react","MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.thread,a;t[0]!==n?(a=s.jsx(o("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:s.jsx(o("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:s.jsx(o("MAWEditMessageContext.react").MAWEditMessageContext,{children:n})})}),t[0]=n,t[1]=a):a=t[1];var i;return t[2]!==a||t[3]!==r.threadKey?(i=s.jsx("div",{"data-testid":void 0,children:s.jsx(o("MWPReplyContext.react").MWPReplyContextProvider,{children:s.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:r.threadKey,isSubthread:!0,children:a})})}),t[2]=a,t[3]=r.threadKey,t[4]=i):i=t[4],i}l.default=u}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSReportThreadViewOpenStoredProcedure","LSResult","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","MWCMSubthreadHeader.react","MWCMSubthreadParentMessage.react","MWCMSubthreadThreadViewContexts.react","MWComposerGating.react","MWInboxThreadMessagesSpinner.react","MWLSChatTabHeaderRoot.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.react","MWPThreadGradientBackground.react","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2OnAuthoritativeThreadInsert","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useRef,_=m.useState,f={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(44),a=t.onReturn,l=t.setActualThreadKey,c=t.tab,m=t.thread,_=(e||(e=r("useReStore")))(),g=o("MWLSThread").useThread(m.parentThreadKey),y=p(null),C,b;n[0]!==_||n[1]!==l||n[2]!==m.authorityLevel||n[3]!==m.threadKey?(C=function(){var e;(e=R.current)==null||e.jumpToMostRecentMessage(),(s||(s=o("I64"))).equal(m.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(r("LSResult")(m.threadKey),_,function(e){return l(e.threadKey)})},b=[m.authorityLevel,m.threadKey,_,l],n[0]=_,n[1]=l,n[2]=m.authorityLevel,n[3]=m.threadKey,n[4]=C,n[5]=b):(C=n[4],b=n[5]);var v=o("Int64Hooks").useCallbackInt64(C,b),S;n[6]===Symbol.for("react.memo_cache_sentinel")?(S={getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:r("emptyFunction"),restoreScrollPosition:r("emptyFunction")},n[6]=S):S=n[6];var R=p(S),L,E;n[7]!==_||n[8]!==m.threadKey?(L=function(){r("promiseDone")(_.runInTransaction(function(e){return r("LSReportThreadViewOpenStoredProcedure")(r("LSFactory")(e),{threadKey:m.threadKey})},"readwrite",void 0,void 0,i.id+":101"))},E=[_,m.threadKey],n[7]=_,n[8]=m.threadKey,n[9]=L,n[10]=E):(L=n[9],E=n[10]),o("Int64Hooks").useEffectInt64(L,E);var k;n[11]!==a||n[12]!==(g==null?void 0:g.threadName)||n[13]!==m?(k=function(){return d.jsx(r("MWCMSubthreadHeader.react"),{closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){a()},subtitle:g==null?void 0:g.threadName,thread:m,title:m.threadName})},n[11]=a,n[12]=g==null?void 0:g.threadName,n[13]=m,n[14]=k):k=n[14];var I=k,T;n[15]===Symbol.for("react.memo_cache_sentinel")?(T={boxShadow:"none",margin:0},n[15]=T):T=n[15];var D=m.parentThreadKey,x;n[16]!==I||n[17]!==c||n[18]!==m.threadKey?(x=d.jsx(r("MWXColumn.react"),{expanding:!0,xstyle:f.chatTabHeader,children:d.jsx(r("MWXColumnItem.react"),{expanding:!0,children:d.jsx(r("MWLSChatTabHeaderRoot.react"),{renderThreadDetails:I,tab:c,threadKey:m.threadKey})})}),n[16]=I,n[17]=c,n[18]=m.threadKey,n[19]=x):x=n[19];var $;n[20]!==m?($=o("LSThreadBitOffset").has(56,m),n[20]=m,n[21]=$):$=n[21];var P=!$,N;n[22]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x78zum5 xdt5ytf x1iyjqo2"},n[22]=N):N=n[22];var M;n[23]!==m?(M=function(){return d.jsxs(d.Fragment,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),d.jsx(r("MWCMSubthreadParentMessage.react"),{domElementRef:y,subthread:m})]})},n[23]=m,n[24]=M):M=n[24];var w;n[25]!==M||n[26]!==m?(w=d.jsx("div",babelHelpers.extends({},N,{children:d.jsx(o("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:d.jsx(r("MWMessageList"),{entryPoint:"popup_chat_box",ref:R,renderHeader:M,thread:m})})})),n[25]=M,n[26]=m,n[27]=w):w=n[27];var A;n[28]!==v||n[29]!==m?(A=d.jsx(r("CometErrorBoundary.react"),{fallback:h,children:d.jsx(o("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:v,isPreviewThread:!1,thread:m})}),n[28]=v,n[29]=m,n[30]=A):A=n[30];var F;n[31]!==P||n[32]!==w||n[33]!==A||n[34]!==m?(F=d.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:P,thread:m,children:[w,A]}),n[31]=P,n[32]=w,n[33]=A,n[34]=m,n[35]=F):F=n[35];var O;n[36]!==F||n[37]!==x||n[38]!==c||n[39]!==m.parentThreadKey?(O=d.jsxs(o("MWV2TabContainer").MWV2TabContainer,{style:T,tab:c,threadKey:D,children:[x,F]}),n[36]=F,n[37]=x,n[38]=c,n[39]=m.parentThreadKey,n[40]=O):O=n[40];var B;return n[41]!==O||n[42]!==m?(B=d.jsx(o("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:d.jsx(r("MWCMSubthreadThreadViewContexts.react"),{thread:m,children:O})}),n[41]=O,n[42]=m,n[43]=B):B=n[43],B}function h(){return d.jsx(r("MWV2ErrorComposer.react"),{})}h.displayName=h.name+" [from "+i.id+"]";function y(t){var n=o("react-compiler-runtime").c(10),a=t.onReturn,l=t.tab,c=t.threadKey,m=(e||(e=r("useReStore")))(),p=_(c),f=p[0],h=p[1],y=o("MWLSThread").useThread(f),C,b;if(n[0]!==m||n[1]!==y||n[2]!==c?(C=function(){(y==null||!(s||(s=o("I64"))).equal(y==null?void 0:y.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)))&&r("promiseDone")(m.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:c})},"readwrite",void 0,void 0,i.id+":201"))},b=[m,y,c],n[0]=m,n[1]=y,n[2]=c,n[3]=C,n[4]=b):(C=n[3],b=n[4]),o("Int64Hooks").useEffectInt64(C,b),y==null){var v;return n[5]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),n[5]=v):v=n[5],v}var S;return n[6]!==a||n[7]!==l||n[8]!==y?(S=d.jsx(g,{onReturn:a,setActualThreadKey:h,tab:l,thread:y}),n[6]=a,n[7]=l,n[8]=y,n[9]=S):S=n[9],S}l.default=y}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useIsDualThreadInThreadBannerNotDismissed",["I64","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","getMWLocalStorageThreadsWithBannerDismissed","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=t.threadKey,i=o("MAWThreadCutover").useGetCutoverOpenThreadKey(a),l=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(i),s;if(n[0]!==l||n[1]!==a){var u=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED);s=l&&!Object.prototype.hasOwnProperty.call(u,(e||(e=o("I64"))).to_string(a)),n[0]=l,n[1]=a,n[2]=s}else s=n[2];var c=s,d;n[3]!==t?(d=o("LSThreadBitOffset").has(260,t),n[3]=t,n[4]=d):d=n[4];var m=d,p;if(n[5]!==m||n[6]!==a){var _=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);p=m&&!Object.prototype.hasOwnProperty.call(_,(e||(e=o("I64"))).to_string(a)),n[5]=m,n[6]=a,n[7]=p}else p=n[7];var f=p;return c||f}l.default=s}),98);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatEncryptedBackupsQPLSource.enum","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","cr:13469","cr:17333","react","react-compiler-runtime","useIsDualThreadInThreadBannerNotDismissed","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,l=o("react-compiler-runtime").c(17),s=t.query,c=t.thread,m=o("CometRelay").useFragment(e!==void 0?e:e=n("MWChatTabInThreadBannerInner_query.graphql"),s),p=m==null||(a=m.viewer)==null||(a=a.eligible_promotions)==null||(a=a.nodes[0])==null||(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy,_;l[0]===Symbol.for("react.memo_cache_sentinel")?(_={context_surface_id:8888,context_trigger:"chat_tab_open"},l[0]=_):_=l[0];var f=r("useQuickPromotionFalcoEvent")(_),g=r("useIsDualThreadInThreadBannerNotDismissed")(c);if(p!=null){var h;l[1]!==p?(h=u.jsx(o("CometRelay").MatchContainer,{match:p}),l[1]=p,l[2]=h):h=l[2];var y;return l[3]!==f||l[4]!==h?(y=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:h}),l[3]=f,l[4]=h,l[5]=y):y=l[5],y}else if(g){var C;l[6]!==c?(C=n("cr:17333")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:17333"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:{capabilities:c.capabilities,capabilities2:c.capabilities2,capabilities3:c.capabilities3,capabilities4:c.capabilities4,capabilities5:c.capabilities5,threadKey:c.threadKey,threadType:c.threadType}})}),l[6]=c,l[7]=C):C=l[7];var b;l[8]!==c?(b=n("cr:13469")&&u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx(n("cr:13469"),{source:r("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:c})}),l[8]=c,l[9]=b):b=l[9];var v;return l[10]!==C||l[11]!==b?(v=u.jsxs(u.Fragment,{children:[C,b]}),l[10]=C,l[11]=b,l[12]=v):v=l[12],v}else if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)){var S;return l[13]!==m?(S=u.jsx(r("MAWChatTabInThreadBanner.react"),{query:m}),l[13]=m,l[14]=S):S=l[14],S}else{if(o("LSMessagingThreadTypeUtil").isJoinedSocialChannel(c.threadType))return null;var R;return l[15]!==c.threadKey?(R=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:u.jsx(r("CometErrorBoundary.react"),{fallback:d,children:u.jsx(r("MWLSInThreadBannerComponent.react"),{threadKey:c.threadKey})})}),l[15]=c.threadKey,l[16]=R):R=l[16],R}}function d(){return null}l.default=c}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.mwChatTabInThreadBannerQueryRef,l=t.thread,s=o("RelayHooks").usePreloadedQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerQuery.graphql"),i),c;return a[0]!==s||a[1]!==l?(c=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:s,thread:l}),a[0]=s,a[1]=l,a[2]=c):c=a[2],c}l.default=c}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24547472401621056"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[e,t],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_auto_eb_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query_autoEB",fragmentName:"MWEBChatTabAutoEBHardblockReleaseContainer_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[e],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:n("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:n("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}})();a.exports=e}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a=o("react-compiler-runtime").c(3),i=t.thread,l=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),s;return a[0]!==l||a[1]!==i?(s=u.jsx(r("MWChatTabInThreadBannerInner.react"),{query:l,thread:i}),a[0]=l,a[1]=i,a[2]=s):s=a[2],s}l.default=c}),98);
__d("MWChatTabLSDependencies",["LSCompleteThreadCutover","LSDynamicDependencies","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(t,n,r,o,a,i,l){"use strict";function e(){o("LSDynamicDependencies").addToCachedModules({completeThreadCutover:r("LSCompleteThreadCutover"),mailboxTaskCompletionApiOnTaskCompletion:r("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:r("LSReceiveMarkThreadReadNative"),syncBumpThreadDataToClient:r("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:r("LSUpdateCommunityThreadStaleState"),updateParentFolderReadWatermark:r("LSUpdateParentFolderReadWatermark"),updateThreadNullState:r("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:r("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:r("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:r("LSWriteCTAIdToThreadsTable")})}l.init=e}),98);
__d("useOnFirstImpression",["react","react-compiler-runtime","usePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState;function u(e,t){var n=o("react-compiler-runtime").c(4),a=s(null),i=a[0],l=a[1],u;return n[0]!==e||n[1]!==t||n[2]!==i?(u={onImpressionStart:function(){i!==t&&(e(),l(t))}},n[0]=e,n[1]=t,n[2]=i,n[3]=u):u=n[3],r("usePartialViewImpression")(u)}function c(e){return u(e,!0)}l.useOnFirstImpressionWithDependency=u,l.useOnFirstImpression=c}),98);
__d("MWCreatorMessagingLoggingUtils",["I64","LSAuthorityLevel","MWPActor.react","MessagingThreadSubtype","QPLUserFlow","ReQL","WAHashStringToNumber","qpl","react","react-compiler-runtime","useAsyncReStore","useOnFirstImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useRef,m=function(t){if(!o("MWPActor.react").isAPPlus()||t.threadSubtype==null)return!1;var e=(s||(s=o("I64"))).to_float(t.threadSubtype);return e===r("MessagingThreadSubtype").PAGE_TO_USER||e===r("MessagingThreadSubtype").PAGE_TO_PAGE};function p(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(){o("MWPActor.react").isAPPlus()&&(r("QPLUserFlow").start(r("qpl")._(421081035,"621"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber(e)}),r("QPLUserFlow").endSuccess(r("qpl")._(421081035,"621"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber(e)}))},t[0]=e,t[1]=n):n=t[1],o("useOnFirstImpression").useOnFirstImpression(n)}function _(e,t){o("MWPActor.react").isAPPlus()&&r("QPLUserFlow").start(r("qpl")._(421077156,"777"),{annotations:{string:{messagingEntrypoint:t}},instanceKey:o("WAHashStringToNumber").hashStringToNumber(e)})}function f(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(){o("MWPActor.react").isAPPlus()&&r("QPLUserFlow").endSuccess(r("qpl")._(421070127,"2494"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber((s||(s=o("I64"))).to_string(e))})},t[0]=e,t[1]=n):n=t[1],o("useOnFirstImpression").useOnFirstImpression(n)}function g(){var e=o("react-compiler-runtime").c(2),t=r("useAsyncReStore")(),n=d(null),a;return e[0]!==t?(a=function(a){m(a)&&(r("QPLUserFlow").start(r("qpl")._(421082877,"916"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber((s||(s=o("I64"))).to_string(a.threadKey))}),t.then(function(e){n.current=o("ReQL").fromTableDescending(e.tables.messages).subscribe(function(e,t){if(t.operation==="add"||t.operation==="put"){var i=t.value,l=(s||(s=o("I64"))).to_int32(i.authorityLevel)>=r("LSAuthorityLevel").SERVER_PARTIAL,u=s.equal(i.threadKey,a.threadKey);if(l&&u){var c=(s||(s=o("I64"))).to_float(i.sendStatusV2);c===4||c===5?r("QPLUserFlow").endFailure(r("qpl")._(421082877,"916"),"message_send_error",{instanceKey:o("WAHashStringToNumber").hashStringToNumber((s||(s=o("I64"))).to_string(a.threadKey))}):r("QPLUserFlow").endSuccess(r("qpl")._(421082877,"916"),{instanceKey:o("WAHashStringToNumber").hashStringToNumber((s||(s=o("I64"))).to_string(a.threadKey))}),n.current==null||n.current()}}})}))},e[0]=t,e[1]=a):a=e[1],a}l.useLogOnMessageButtonImpression=p,l.logOnMessageButtonClick=_,l.useLogOnThreadViewImpression=f,l.useLogOnMessageSend=g}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("react-compiler-runtime").c(12),l;i[0]!==a?(l=a===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:a,i[0]=a,i[1]=l):l=i[1];var s=l,u=o("MWChatStateV2.react").useDispatch(),c=t==null?void 0:t.threadKey,d=t==null?void 0:t.clientThreadKey,m=t==null?void 0:t.threadType,p=t==null?void 0:t.authorityLevel,_,f;i[2]!==p||i[3]!==u||i[4]!==d||i[5]!==c||i[6]!==m||i[7]!==s.shouldClearOldHiddenTab||i[8]!==s.shouldUpdateThreadType||i[9]!==n.tabId?(_=function(){c!=null&&p!=null&&(e||(e=o("LSIntEnum"))).toNumber(p)>=r("LSAuthorityLevel").AUTHORITATIVE&&u(o("MWChatStateActions").updateThreadKeyDescriptor(n.tabId,c,d,s.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:s.shouldClearOldHiddenTab}))},f=[n.tabId,c,d,u,p,m,s.shouldUpdateThreadType,s.shouldClearOldHiddenTab],i[2]=p,i[3]=u,i[4]=d,i[5]=c,i[6]=m,i[7]=s.shouldClearOldHiddenTab,i[8]=s.shouldUpdateThreadType,i[9]=n.tabId,i[10]=_,i[11]=f):(_=i[10],f=i[11]),o("Int64Hooks").useEffectInt64(_,f)}l.default=s}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWComposerGating.react","MWLSChatTabHeaderRoot.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useMemo,f=m.useState;function g(t){var n,a=o("react-compiler-runtime").c(25),l=t.otherContactIdForOptimisticSecureThread,c=t.tab,m=(e||(e=r("useReStore")))(),_,g;a[0]!==m||a[1]!==l?(_=function(){return l==null?o("ReQL").empty():o("ReQL").fromTableAscending(m.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(l)},g=[m,l],a[0]=m,a[1]=l,a[2]=_,a[3]=g):(_=a[2],g=a[3]);var y=o("ReQLSuspense").useFirst(_,g,i.id+":55"),C=f(),b=C[0],v=C[1],S;a[4]===Symbol.for("react.memo_cache_sentinel")?(S={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},a[4]=S):S=a[4],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(b,c,S);var R=b==null?void 0:b.threadKey,L,E;a[5]!==l||a[6]!==R?(L=function(){if(!(R==null||l==null)){var e=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(s||(s=o("I64"))).to_string(l));e.value!=="unknown"&&(e.type==="LSThreadAttribution"?o("LSThreadAttributionStore").setLSMessagingThreadAttribution((s||(s=o("I64"))).to_string(R),s.to_string(e.value)):o("LSThreadAttributionStore").setSource((s||(s=o("I64"))).to_string(R),e.value))}},E=[R,l],a[5]=l,a[6]=R,a[7]=L,a[8]=E):(L=a[7],E=a[8]),p(L,E);var k;a[9]===Symbol.for("react.memo_cache_sentinel")?(k=d.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:d.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})}),a[9]=k):k=a[9];var I=k,T;if(a[10]!==b){var D;T=b!=null&&d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:d.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:b.themeFbid,children:d.jsx(o("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:b},(s||(s=o("I64"))).to_string((D=b.clientThreadKey)!=null?D:b.threadKey))})}),a[10]=b,a[11]=T}else T=a[11];var x=T,$;a[12]!==y?($=y!=null?[{blockedByViewerStatus:y.blockedByViewerStatus,contextLine:"",displayName:y.name,id:y.id,profilePicUrl:y.profilePictureUrl,threadType:(u||(u=o("LSIntEnum"))).ofNumber(15),type_:(u||(u=o("LSIntEnum"))).ofNumber(1)}]:[],a[12]=y,a[13]=$):$=a[13];var P=$,N;a[14]!==P||a[15]!==x?(N=d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:d.jsx(r("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:I,renderThreadView:h,setPreviewThread:v,tokens:P,children:x})}),a[14]=P,a[15]=x,a[16]=N):N=a[16];var M=N,w=(n=b==null?void 0:b.threadKey)!=null?n:void 0,A;a[17]!==b||a[18]!==c?(A=b&&d.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:c,threadKey:b.threadKey}),a[17]=b,a[18]=c,a[19]=A):A=a[19];var F;return a[20]!==M||a[21]!==w||a[22]!==A||a[23]!==c?(F=d.jsxs(o("MWV2TabContainer").MWV2TabContainer,{tab:c,threadKey:w,children:[A,M]}),a[20]=M,a[21]=w,a[22]=A,a[23]=c,a[24]=F):F=a[24],F}function h(e){return d.jsx(r("MWOpenAndSecureThreadView.react"),{thread:e})}h.displayName=h.name+" [from "+i.id+"]",l.default=g}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.otherContactIdForOnDemandCutoverThread,a=e.tab,i=r("useAsyncReStore")(),l,u;t[0]!==i||t[1]!==n?(l=function(){n!=null&&r("promiseDone")(i,function(e){o("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(e,n,"chatTab")})},u=[i,n],t[0]=i,t[1]=n,t[2]=l,t[3]=u):(l=t[2],u=t[3]),o("Int64Hooks").useEffectInt64(l,u);var c;return t[4]!==n||t[5]!==a?(c=s.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:n,tab:a}),t[4]=n,t[5]=a,t[6]=c):c=t[6],c}l.default=u}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(12),l=(e||(e=r("useReStore")))(),s,u;a[0]!==l||a[1]!==t||a[2]!==n?(s=function(){return t!=null&&n!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)?o("ReQL").fromTableAscending(l.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(t):o("ReQL").empty()},u=[l,t,n],a[0]=l,a[1]=t,a[2]=n,a[3]=s,a[4]=u):(s=a[3],u=a[4]);var c=o("ReQLSuspense").useFirst(s,u,i.id+":34"),d=o("MAWThreadCutover").useIsCutoverOpenThread(t);if(n==null||!o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)||d){var m;return a[5]===Symbol.for("react.memo_cache_sentinel")?(m=[!1,!0,null],a[5]=m):m=a[5],m}if(c==null){var p;return a[6]===Symbol.for("react.memo_cache_sentinel")?(p=[!1,!1,null],a[6]=p):p=a[6],p}var _;a[7]!==c?(_=c!=null&&o("LSContactBitOffset").has(76,c),a[7]=c,a[8]=_):_=a[8];var f=_,g;return a[9]!==f||a[10]!==c.id?(g=[f,!0,c.id],a[9]=f,a[10]=c.id,a[11]=g):g=a[11],g}l.default=s}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e){var t=o("react-compiler-runtime").c(9),n=o("MWChatStateContext").useChatState(d),r=o("MWChatStateV2.react").useDispatch(),a;t[0]!==r||t[1]!==e.tabId||t[2]!==e.tabType.threadKeyDescriptor||t[3]!==n?(a=function(){var t;if(((t=e.tabType.threadKeyDescriptor)==null?void 0:t.threadKey)!=null){var a=Array.from(n.values()).filter(function(t){var n,r,a=t.tabId,i=t.tabType;return((n=i.threadKeyDescriptor)==null?void 0:n.threadKey)==null||((r=e.tabType.threadKeyDescriptor)==null?void 0:r.threadKey)==null?!1:e.tabId>a&&(s||(s=o("I64"))).equal(i.threadKeyDescriptor.threadKey,e.tabType.threadKeyDescriptor.threadKey)});a.forEach(function(e){var t=e.closeWatermark,n=e.openWatermark,a=e.tabId;n>t&&r(o("MWChatStateActions").closeTab(Date.now(),a))})}},t[0]=r,t[1]=e.tabId,t[2]=e.tabType.threadKeyDescriptor,t[3]=n,t[4]=a):a=t[4];var i;t[5]!==r||t[6]!==e||t[7]!==n?(i=[r,e,n],t[5]=r,t[6]=e,t[7]=n,t[8]=i):i=t[8],u(a,i)}function d(e){return e.tabs}l.default=c}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSContactUtils","LSFactory","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWChatTabLSDependencies","MWComposerGating.react","MWCreatorMessagingLoggingUtils","MWEBEntrypointsKillswitch.enum","MWFullThreadProvider.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWLSChatTabHeaderRoot.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MetaConfig","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:1113","cr:12528","emptyFunction","emptyHook","promiseDone","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useMergeRefs","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=c||(c=o("react")),p=c,_=p.memo,f=p.useCallback,g=p.useLayoutEffect,h=p.useRef,y=(e=n("cr:12528"))!=null?e:r("emptyHook").thatReturnsEmptyFunction;o("MWChatTabLSDependencies").init();var C=(s=n("cr:1113"))!=null?s:r("useEmptyFunction");function b(e){var t=e.children,n=e.themeFbid;return o("MWPThemeCSSProvider.react").useIsThemeV2()?m.jsx(r("CometTransientDialogProvider.react"),{children:m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:t})}):m.jsx(r("MWPThreadThemeProvider.react"),{themeFbid:n,children:m.jsx(r("CometTransientDialogProvider.react"),{children:t})})}function v(e){var t=o("react-compiler-runtime").c(102),n=e.isMinimized,a=e.mawSecureThreadQPContainerQueryRef,i=e.mwChatTabInThreadBannerQueryRef,l=e.otherContactIdForDefaultE2eeThread,s=e.otherContactIdForOnDemandCutover,u=e.shouldUseDefaultE2eeOneToOne,c=e.shouldUseOnDemandCutover,d=e.tab,p=e.thread,_=e.threadLinkHash,f=p.themeFbid,v=p.threadKey,k=p.threadType,I;t[0]!==p?(I={thread:p},t[0]=p,t[1]=I):I=t[1],C(I);var T;t[2]!==v||t[3]!==k?(T={threadKey:v,threadType:k},t[2]=v,t[3]=k,t[4]=T):T=t[4],r("useC4gEngagementImpressionLogging")(T);var D;t[5]!==k?(D=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(k),t[5]=k,t[6]=D):D=t[6];var x=D,$;t[7]!==p?($=o("LSThreadBitOffset").has(167,p),t[7]=p,t[8]=$):$=t[8];var P=$,N;t[9]!==p?(N=o("LSThreadBitOffset").has(56,p),t[9]=p,t[10]=N):N=t[10];var M=!N,w;t[11]===Symbol.for("react.memo_cache_sentinel")?(w={getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:r("emptyFunction"),restoreScrollPosition:r("emptyFunction")},t[11]=w):w=t[11];var A=h(w),F=o("MWChatStateContext").useChatState(E);r("useMWCloseDuplicateChatTabs")(d);var O,B;t[12]!==F||t[13]!==d.tabId?(O=function(){if(F!==d.tabId){var e;(e=A.current)==null||e.restoreScrollPosition()}},B=[F,d.tabId],t[12]=F,t[13]=d.tabId,t[14]=O,t[15]=B):(O=t[14],B=t[15]),g(O,B);var W;t[16]!==x||t[17]!==p?(W=o("LSThreadBitOffset").has(106,p)&&x&&r("MetaConfig")._("105"),t[16]=x,t[17]=p,t[18]=W):W=t[18];var q=W,U;t[19]===Symbol.for("react.memo_cache_sentinel")?(U=function(){var e;(e=A.current)==null||e.jumpToMostRecentMessage()},t[19]=U):U=t[19];var V=U,H=o("MWCreatorMessagingLoggingUtils").useLogOnMessageSend(),G;t[20]!==H||t[21]!==p?(G=function(){H(p)},t[20]=H,t[21]=p,t[22]=G):G=t[22];var z=G,j=o("MWCreatorMessagingLoggingUtils").useLogOnThreadViewImpression(p.threadKey),K;t[23]===Symbol.for("react.memo_cache_sentinel")?(K={entrypoint:r("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE},t[23]=K):K=t[23];var Q=y(K),X=r("useMergeRefs")(j,Q),Y=o("LSContactUtils").useOtherUserReachabilityStatus(p),J;t[24]!==Y?(J=o("LSContactUtils").getHasTextOnlyComposer(Y),t[24]=Y,t[25]=J):J=t[25];var Z=J,ee;t[26]!==F||t[27]!==d.tabId||t[28]!==p?(ee=d.tabId!==F?null:m.jsx(r("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:p}),t[26]=F,t[27]=d.tabId,t[28]=p,t[29]=ee):ee=t[29];var te;t[30]===Symbol.for("react.memo_cache_sentinel")?(te=m.jsx(r("MWChatConnectionStatusCard.react"),{}),t[30]=te):te=t[30];var ne;t[31]!==i||t[32]!==p?(ne=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner.Root",children:i!=null?m.jsx(r("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:i,thread:p}):m.jsx(r("MWChatTabInThreadBannerLazyLoaded.react"),{thread:p})})}),t[31]=i,t[32]=p,t[33]=ne):ne=t[33];var re;t[34]!==q||t[35]!==p?(re=q&&m.jsx(r("MWInboxPinnedMessagesBanner.react"),{thread:p}),t[34]=q,t[35]=p,t[36]=re):re=t[36];var oe;t[37]!==n||t[38]!==a||t[39]!==p?(oe=m.jsx(r("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:n,mawSecureThreadQPContainerQueryRef:a,messageListRef:A,thread:p}),t[37]=n,t[38]=a,t[39]=p,t[40]=oe):oe=t[40];var ae;t[41]!==z?(ae=function(t){return m.jsx(o("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:z,isMessengerInbox:!1,isPreviewThread:!1,thread:t})},t[41]=z,t[42]=ae):ae=t[42];var ie;t[43]!==ae||t[44]!==v?(ie=m.jsx(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:V,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:m.jsx(r("MWFullThreadProvider.react"),{threadKey:v,children:ae})})}),t[43]=ae,t[44]=v,t[45]=ie):ie=t[45];var le;t[46]!==ie||t[47]!==_?(le=m.jsx(r("MAWUnrecoverableErrorBoundary.react"),{fallback:R,children:m.jsx(r("CometErrorBoundary.react"),{fallback:S,children:m.jsx(o("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:_,children:ie})})}),t[46]=ie,t[47]=_,t[48]=le):le=t[48];var se;t[49]!==Z||t[50]!==M||t[51]!==oe||t[52]!==le||t[53]!==p?(se=m.jsxs(o("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:Z,isMediaOnly:M,thread:p,children:[oe,le]}),t[49]=Z,t[50]=M,t[51]=oe,t[52]=le,t[53]=p,t[54]=se):se=t[54];var ue;t[55]!==ee||t[56]!==ne||t[57]!==re||t[58]!==se?(ue=m.jsxs(m.Fragment,{children:[ee,te,ne,re,se]}),t[55]=ee,t[56]=ne,t[57]=re,t[58]=se,t[59]=ue):ue=t[59];var ce=ue,de;t[60]!==ce||t[61]!==P||t[62]!==d||t[63]!==p?(de=P?m.jsx(r("MWCMSubThreadChatTabWithSubthread.react"),{tab:d,thread:p,children:ce}):null,t[60]=ce,t[61]=P,t[62]=d,t[63]=p,t[64]=de):de=t[64];var me=de,pe;t[65]!==u||t[66]!==c||t[67]!==v?(pe=function(t){return u||c?m.jsx(m.Fragment,{children:t}):m.jsx(o("MWThreadKey.react").MWThreadKeyProvider,{id:v,children:t})},t[65]=u,t[66]=c,t[67]=v,t[68]=pe):pe=t[68];var _e=pe,fe;t[69]!==d?(fe=m.jsx(r("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:d}),t[69]=d,t[70]=fe):fe=t[70];var ge;t[71]!==d||t[72]!==v?(ge=m.jsx(r("MWLSChatTabHeaderRoot.react"),{tab:d,threadKey:v}),t[71]=d,t[72]=v,t[73]=ge):ge=t[73];var he;t[74]!==fe||t[75]!==ge?(he=m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:fe,name:"MWChatTabHeader",children:ge}),t[74]=fe,t[75]=ge,t[76]=he):he=t[76];var ye;t[77]!==ce||t[78]!==X||t[79]!==he||t[80]!==d||t[81]!==v?(ye=m.jsxs(o("MWV2TabContainer").MWV2TabContainer,{domRef:X,tab:d,threadKey:v,children:[he,ce]}),t[77]=ce,t[78]=X,t[79]=he,t[80]=d,t[81]=v,t[82]=ye):ye=t[82];var Ce=ye,be;t[83]!==Ce||t[84]!==me||t[85]!==l||t[86]!==s||t[87]!==u||t[88]!==c||t[89]!==d?(be=me!=null?me:u&&r("MWOptimisticSecureThreadPreview.react")!=null?m.jsx(r("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:l,tab:d}):c?m.jsx(r("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:s,tab:d}):Ce,t[83]=Ce,t[84]=me,t[85]=l,t[86]=s,t[87]=u,t[88]=c,t[89]=d,t[90]=be):be=t[90];var ve=be,Se;t[91]!==ve?(Se=m.jsx(o("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:m.jsx(o("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:m.jsx(r("BaseHeadingContextWrapper.react"),{children:ve})})}),t[91]=ve,t[92]=Se):Se=t[92];var Re;t[93]!==Se||t[94]!==f?(Re=m.jsx(r("XPlatWebAudioPlaybackContextProvider.react"),{children:m.jsx(o("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:m.jsx(b,{themeFbid:f,children:Se})})}),t[93]=Se,t[94]=f,t[95]=Re):Re=t[95];var Le;t[96]!==Re||t[97]!==_e?(Le=_e(Re),t[96]=Re,t[97]=_e,t[98]=Le):Le=t[98];var Ee;return t[99]!==Le||t[100]!==v?(Ee=m.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:v,children:Le}),t[99]=Le,t[100]=v,t[101]=Ee):Ee=t[101],Ee}function S(){return m.jsx(r("MWV2ErrorComposer.react"),{})}S.displayName=S.name+" [from "+i.id+"]";function R(e){return m.jsx(r("CometMessagingChatTabErrorState.react"),{error:e})}R.displayName=R.name+" [from "+i.id+"]";function L(){return null}function E(e){return e.focusedTabId}function k(e,t){var n=o("react-compiler-runtime").c(12),a=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e),l=(o("MAWThreadCutover").useIsCutoverOpenThread(e)||t!=null&&o("LSThreadBitOffset").has(128,t))&&!a,s;n[0]!==e?(s=(d||(d=o("I64"))).to_string(e),n[0]=e,n[1]=s):s=n[1];var c=o("MAWThreadCutover").useGetCutoverSecureThreadKey(s),m=(u||(u=r("useReStore")))(),p,_;n[2]!==c||n[3]!==m||n[4]!==l||n[5]!==e?(p=function(){if(l)if(c==null)r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(m,function(t){return r("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(r("LSFactory")(t),{waJid:e})},"readwrite"));else{var t=o("MWChatInteraction").get((d||(d=o("I64"))).to_string(e));if(t!=null){var n;o("MWChatInteraction").set(c,t),(n=r("InteractionTracingMetrics")).addMetadata(t,"thread_id",c),n.addMetadata(t,"thread_type","15"),n.addMetadata(t,"is_secure",!0),n.addMetadata(t,"redirectedFromPreCutover",1)}}},_=[c,m,l,e],n[2]=c,n[3]=m,n[4]=l,n[5]=e,n[6]=p,n[7]=_):(p=n[6],_=n[7]),o("Int64Hooks").useEffectInt64(p,_);var f,g;n[8]!==c||n[9]!==m?(f=function(){return c!=null?o("ReQL").fromTableAscending(m.tables.threads).getKeyRange((d||(d=o("I64"))).of_string(c)):o("ReQL").empty()},g=[m,c],n[8]=c,n[9]=m,n[10]=f,n[11]=g):(f=n[10],g=n[11]);var h=o("ReQLSuspense").useFirst(f,g,i.id+":434"),y=a?void 0:h;if(y!=null){var C=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(d||(d=o("I64"))).to_string(e));C.type==="MWLSEntrypoint"&&C.value!=="unknown"&&o("LSThreadAttributionStore").setSource((d||(d=o("I64"))).to_string(y.threadKey),C.value)}return y}function I(e){var t,n,a,l=o("react-compiler-runtime").c(34),s=e.isMinimized,c=e.mawSecureThreadQPContainerQueryRef,d=e.mwChatTabInThreadBannerQueryRef,p=e.tab,_=e.threadKeyDescriptor,f=s===void 0?!1:s,g=(u||(u=r("useReStore")))(),h=_.clientThreadKey,y=_.threadKey,C=_.threadLinkHash;o("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(y,_.threadType,h,"MWV2ChatTab");var b;l[0]!==g.tables.threads||l[1]!==y?(b=function(){return o("ReQL").fromTableAscending(g.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(y)},l[0]=g.tables.threads,l[1]=y,l[2]=b):b=l[2];var S;l[3]!==g||l[4]!==y?(S=[g,y],l[3]=g,l[4]=y,l[5]=S):S=l[5];var R=o("ReQLSuspense").useFirst(b,S,i.id+":486"),L;l[6]!==h||l[7]!==g.tables.threads?(L=function(){return h!=null?o("ReQL").fromTableAscending(g.tables.threads.index("clientThreadKey")).getKeyRange(h):o("ReQL").empty()},l[6]=h,l[7]=g.tables.threads,l[8]=L):L=l[8];var E;l[9]!==h||l[10]!==g?(E=[g,h],l[9]=h,l[10]=g,l[11]=E):E=l[11];var I=o("ReQLSuspense").useFirst(L,E,i.id+":506"),T=k(y,R),D=(t=T!=null?T:R)!=null?t:I,x;l[12]===Symbol.for("react.memo_cache_sentinel")?(x={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},l[12]=x):x=l[12],r("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(D,p,x);var $=r("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((n=D==null?void 0:D.threadKey)!=null?n:y,D==null?void 0:D.threadType),P=$[0],N=$[2],M=r("useCometSubscribeMessengerIsOnDemandCutoverEligible")((a=D==null?void 0:D.threadKey)!=null?a:y,D==null?void 0:D.threadType),w=M[0],A=M[2];if(D!=null){var F=f?"mwchat-tab-wrapper-minimized":void 0,O=f?"hidden":"visible",B;l[13]!==P||l[14]!==D?(B=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&P,l[13]=P,l[14]=D,l[15]=B):B=l[15];var W;l[16]!==w||l[17]!==D?(W=D!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(D.threadType)&&w,l[16]=w,l[17]=D,l[18]=W):W=l[18];var q;l[19]!==N||l[20]!==f||l[21]!==c||l[22]!==d||l[23]!==A||l[24]!==W||l[25]!==B||l[26]!==p||l[27]!==C||l[28]!==D?(q=m.jsx(v,{isMinimized:f,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,otherContactIdForDefaultE2eeThread:N,otherContactIdForOnDemandCutover:A,shouldUseDefaultE2eeOneToOne:B,shouldUseOnDemandCutover:W,tab:p,thread:D,threadLinkHash:C}),l[19]=N,l[20]=f,l[21]=c,l[22]=d,l[23]=A,l[24]=W,l[25]=B,l[26]=p,l[27]=C,l[28]=D,l[29]=q):q=l[29];var U;return l[30]!==q||l[31]!==F||l[32]!==O?(U=m.jsx(r("LegacyHidden"),{"data-testid":void 0,mode:O,children:q}),l[30]=q,l[31]=F,l[32]=O,l[33]=U):U=l[33],U}return null}var T=_(I);l.default=T}),98);
__d("MWV2ChatTabRoot.react",["MWV2ChatTab.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.props,a=e.queries,i=n.isMinimized,l=n.tab,u=n.threadKeyDescriptor,c=a.mawSecureThreadQPContainerQueryRef,d=a.mwChatTabInThreadBannerQueryRef,m;return t[0]!==i||t[1]!==c||t[2]!==d||t[3]!==l||t[4]!==u?(m=s.jsx(r("MWV2ChatTab.react"),{isMinimized:i,mawSecureThreadQPContainerQueryRef:c,mwChatTabInThreadBannerQueryRef:d,tab:l,threadKeyDescriptor:u}),t[0]=i,t[1]=c,t[2]=d,t[3]=l,t[4]=u,t[5]=m):m=t[5],m}l.default=u}),98);
__d("MessengerMinusFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M25.75 16.75a1.25 1.25 0 1 1 0 2.5h-15.5a1.25 1.25 0 1 1 0-2.5h15.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);