;/*FB_PKG_DELIM*/

__d("DocumentTitle",["Arbiter"],(function(t,n,r,o,a,i,l){var e=1500,s=null,u=!1,c=0,d=[],m=null,p=document.title,_=0;function f(){d.length>0?u?h():(g(d[c].title),c=++c%d.length):(clearInterval(s),s=null,h())}function g(e){document.title=e,u=!0}function h(){y.set(m||p,!0),u=!1}var y=(function(){function t(e){this.$1=e}t.get=function(){return p},t.set=function(t,n){var e=t.toString();document.title=e,n?m=e:(p=e,m=null,r("Arbiter").inform("update_title",t))},t.blink=function(r){var n={title:r.toString()};return d.push(n),s===null&&(s=setInterval(f,e)),new t(n)};var n=t.prototype;return n.stop=function(){var e=d.indexOf(this.$1);e>=0&&(d.splice(e,1),c>e?c--:c==e&&c==d.length&&(c=0))},t.badge=function(n){var e=t.get(),o=n?"("+n+") "+e:e;t.set(o,!0),r("Arbiter").inform("update_title_badge",n,"state"),_=n},t.preserveBadgeAndSet=function(n){t.set(n,!1),r("Arbiter").inform("update_title",n),t.badge(_)},t})();l.default=y}),98);
__d("FBNucleusCamcorderFilled16Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M6.304 2h-.108c-1.133 0-2.058 0-2.79.098-.763.103-1.425.325-1.954.854C.923 3.48.7 4.142.598 4.907.5 5.637.5 6.563.5 7.697v.607c0 1.133 0 2.058.098 2.79.103.763.325 1.425.854 1.954.529.529 1.19.751 1.955.854.73.098 1.656.098 2.79.098h.107c1.133 0 2.058 0 2.79-.098.763-.103 1.425-.325 1.954-.854.529-.529.751-1.19.854-1.955.038-.286.062-.602.076-.949l1.93 1.418a1 1 0 0 0 1.592-.806V5.228a1 1 0 0 0-1.57-.822l-1.956 1.357a9.984 9.984 0 0 0-.072-.856c-.103-.764-.325-1.426-.854-1.955-.529-.529-1.19-.751-1.955-.854C8.363 2 7.437 2 6.303 2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=16,u._isSVG=!0;var c=u;l.default=c}),98);
__d("ZenonLSLogsUploader",["DateConsts","LsRtcCallSummaryFalcoEvent","LsRtcGroupE2eeFalcoEvent","LsRtcP2pE2eeFalcoEvent","LsRtcPeerConnectionSummaryFalcoEvent","ZenonAuditedCheckpointLogId","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=o("DateConsts").MS_PER_MIN*30,s={getLoggableEndCallLogs:function(n){var t=n.getLocalStorageObjects(),r=[];for(var o in t)for(var a in t[o]){var i=t[o][a];if(i.__z){var l=i.__t;if(Date.now()-l>e){var s=i.__d;r.push({endCallLogStr:s,peerID:o,signalingID:a})}}}return r},logCallStartEventManager:function(t){var e=t.peerID,n=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call start summary from local storage peerID: "+e+", signalingID: "+n}),o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance.removeLocalStorageObjects([{peerID:e,signalingID:n}])},logCallStartEvents:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSCallStartEventManager").fromJsonString(t);a&&s.logCallStartEventManager({callStartEventManager:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_callStartEvent"})}})},logCallSummaries:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSCallSummary").fromJsonString(t);a&&s.logCallSummary({callSummary:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_callSummary"})}})},logCallSummary:function(t){var e=t.callSummary,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL call summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcCallSummaryFalcoEvent").logCritical(function(){return babelHelpers.extends({},e.getSummaryLoggingInfo())}),o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])},logE2eeStats:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSE2EEStatsManager").fromJsonString(t);a&&s.logE2eeStatsManager({e2eeStatsManager:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_e2eeStats"})}})},logE2eeStatsManager:function(t){var e=t.e2eeStatsManager,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL E2EE summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcGroupE2eeFalcoEvent").logCritical(function(){return e.getGroupE2eeMetricsInFalcoShape()}),r("LsRtcP2pE2eeFalcoEvent").logCritical(function(){return e.getP2pE2eeMetricsInFalcoShape()}),o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])},logEndCallLogEvents:function(){s.logCallSummaries(),s.logE2eeStats(),s.logPeerConnectionSummaries(),s.logCallStartEvents()},logPeerConnectionSummaries:function(){var e=s.getLoggableEndCallLogs(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance);e.forEach(function(e){var t=e.endCallLogStr,n=e.peerID,o=e.signalingID;try{var a=r("ZenonLSPeerConnectionSummary").fromJsonString(t);a&&s.logPeerConnectionSummary({peerConnectionSummary:a,peerID:n,signalingID:o})}catch(e){var i=r("getErrorSafe")(e);r("ZenonInfraActionsLogger").logError({auditId:r("ZenonAuditedCheckpointLogId").RP_ROOMS_INFRA_WWW__ERROR,error:i.message,errorDomain:"ZenonLSLogsUploader_peerConnectionSummary"})}})},logPeerConnectionSummary:function(t){var e=t.peerConnectionSummary,n=t.peerID,a=t.signalingID;r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"Uploading NSL PCS summary from local storage peerID: "+n+", signalingID: "+a}),r("LsRtcPeerConnectionSummaryFalcoEvent").logCritical(function(){return e.getPeerConnectionSummary()}),o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance.removeLocalStorageObjects([{peerID:n,signalingID:a}])}},u=s;l.default=u}),98);
__d("FBRTCCallSummaryUploader",["DateConsts","ZenonLSLogsUploader"],(function(t,n,r,o,a,i,l){var e=10*o("DateConsts").MS_PER_MIN,s=null;function u(){s===null&&(s=window.setInterval(function(){r("ZenonLSLogsUploader").logEndCallLogEvents()},e))}l.init=u}),98);
__d("FDSArrowsCircleFilled24Icon",["cr:14428"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14428")}),98);
__d("FDSCamcorderFilled16Icon",["cr:13962"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13962")}),98);
__d("FDSCamcorderFilled16PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("493173"),16),u=e;l.default=u}),98);
__d("FDSContextRowLink.react",["FDSLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["external","linkProps","onPress"],s=["url"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(18),a,i,l,u;n[0]!==t?(u=t.external,a=t.linkProps,i=t.onPress,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u):(a=n[1],i=n[2],l=n[3],u=n[4]);var d=u===void 0?!1:u,m;n[5]!==a?(m=a!=null?a:{},n[5]=a,n[6]=m):m=n[6];var p,_;if(n[7]!==m){var f=m;_=f.url,p=babelHelpers.objectWithoutPropertiesLoose(f,s),n[7]=m,n[8]=p,n[9]=_}else p=n[8],_=n[9];var g;n[10]!==p||n[11]!==_?(g=babelHelpers.extends({},p,{href:_}),n[10]=p,n[11]=_,n[12]=g):g=n[12];var h=g,y=d?"_blank":void 0,C;return n[13]!==h||n[14]!==i||n[15]!==l||n[16]!==y?(C=c.jsx(r("FDSLink.react"),babelHelpers.extends({},l,h,{onClick:i,target:y})),n[13]=h,n[14]=i,n[15]=l,n[16]=y,n[17]=C):C=n[17],C}l.default=d}),98);
__d("FDSEntityHeaderFacepileProfileIcon.react",["BaseImage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={image:{borderTopColor:"xsdn2ir",borderInlineEndColor:"xpkn66y",borderBottomColor:"x13awxeq",borderInlineStartColor:"xuxekev",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",display:"x1lliihq",$$css:!0},root:{display:"x1rg5ohu",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.alt,a=e.size,i=e.src,l=a===void 0?32:a,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[u.root],t[0]=c):c=t[0];var d;return t[1]!==n||t[2]!==l||t[3]!==i?(d=s.jsx(o("react-strict-dom").html.div,{style:c,children:s.jsx(r("BaseImage.react"),{alt:n,height:l,src:i,width:l,xstyle:u.image})}),t[1]=n,t[2]=l,t[3]=i,t[4]=d):d=t[4],d}l.default=c}),98);
__d("FDSEntityHeaderFacepile.react",["fbt","FDSEntityHeaderFacepileProfileIcon.react","FDSLink.react","FDSTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=8,d={dynamicStyle:function(t){return[{zIndex:t!=null?"xr3buco":t,$$css:!0},{"--x-zIndex":t!=null?t:void 0}]},facepile:{display:"x1rg5ohu",$$css:!0},left:{marginInlineStart:"xw01apr",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(6),n=e.profiles,r;t[0]!==n?(r=n.length>c?n.slice(0,c):n,t[0]=n,t[1]=r):r=t[1];var a=r,i;t[2]!==a?(i=a.map(p),t[2]=a,t[3]=i):i=t[3];var l=i,s;return t[4]!==l?(s=u.jsx(o("react-strict-dom").html.div,{children:l}),t[4]=l,t[5]=s):s=t[5],s}function p(e,t){var n=e.name,a=e.pictureURI,i=e.profileURL,l=e.size;return u.jsx(o("react-strict-dom").html.div,{style:[d.facepile,t>0&&d.left,d.dynamicStyle(t)],children:u.jsx(r("FDSTooltip.react"),{align:"middle",position:"below",tooltip:s._(/*BTDS*/"{user's name}",[s._param("user's name",n)]),children:u.jsx(r("FDSLink.react"),{href:i,children:u.jsx(r("FDSEntityHeaderFacepileProfileIcon.react"),{alt:n,size:l,src:a})},t)})},t)}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),226);
__d("FDSMenuSubmenuPage.react",["BaseContextualLayerAvailableHeightContext","FDSMenuBase.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["items","truncate"],s,u=s||(s=o("react")),c=s.useContext;function d(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(a=t.items,l=t.truncate,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=l===void 0?!0:l,d=c(r("BaseContextualLayerAvailableHeightContext")),m=s?d!=null?d:0:void 0,p;return n[4]!==a||n[5]!==i||n[6]!==m?(p=u.jsx(r("FDSMenuBase.react"),babelHelpers.extends({},i,{maxHeight:m,children:a})),n[4]=a,n[5]=i,n[6]=m,n[7]=p):p=n[7],p}l.default=d}),98);
__d("FDSMenuItemWithSubmenu.react",["fbt","ix","BaseMultiPageViewContext","CometComponentWithKeyCommands.react","CometKeys","FDSIcon.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","FDSMenuSubmenuPage.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=["ref","disabled","icon","iconColor","iconNode","iconSize","iconStyle","isIconDecorative","onBack","onClick","primaryText","secondaryText","submenu"],c=["header"],d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useContext,g=p.useMemo,h=p.useState,y=m.createContext([]);function C(t){var n=o("react-compiler-runtime").c(56),a,i,l,d,p,_,g,C,b,v,S,R,L,E;n[0]!==t?(l=t.ref,i=t.disabled,d=t.icon,p=t.iconColor,_=t.iconNode,g=t.iconSize,C=t.iconStyle,b=t.isIconDecorative,v=t.onBack,S=t.onClick,R=t.primaryText,L=t.secondaryText,E=t.submenu,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=d,n[5]=p,n[6]=_,n[7]=g,n[8]=C,n[9]=b,n[10]=v,n[11]=S,n[12]=R,n[13]=L,n[14]=E):(a=n[1],i=n[2],l=n[3],d=n[4],p=n[5],_=n[6],g=n[7],C=n[8],b=n[9],v=n[10],S=n[11],R=n[12],L=n[13],E=n[14]);var k=f(y),I;n[15]!==k||n[16]!==R?(I=[].concat(k,[R]),n[15]=k,n[16]=R,n[17]=I):I=n[17];var T=I,D=h(!1),x=D[0],$=D[1],P;n[18]===Symbol.for("react.memo_cache_sentinel")?(P=m.jsx(r("FDSIcon.react"),{color:"secondary",icon:o("fbicon")._(u("492572"),20)}),n[18]=P):P=n[18];var N=P,M=f(r("BaseMultiPageViewContext")),w;n[19]!==M||n[20]!==v||n[21]!==R||n[22]!==L||n[23]!==E||n[24]!==T?(w=function(){if(M!=null){var e=E,t=e.header,n=babelHelpers.objectWithoutPropertiesLoose(e,c),o=function(){$(!1),t==null||t.onPressBack==null||t.onPressBack(),M==null||M.popPage==null||M.popPage(),v&&v()},a={meta:t!=null?t.meta:L,onPressBack:o,title:t!=null?t.title:R};$(!0),M.pushPage(function(){for(var e=[{command:{key:r("CometKeys").LEFT},description:s._(/*BTDS*/"Move to parent menu"),handler:o},{command:{key:r("CometKeys").ESCAPE},description:s._(/*BTDS*/"Move to parent menu"),handler:o}],t=m.jsx(y.Provider,{value:T,children:m.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:e,children:m.jsx(r("FDSMenuSubmenuPage.react"),babelHelpers.extends({},n,{header:a}))})}),i=T.length-1;i>=0;i--)t=m.jsx("div",{"aria-label":T[i],role:"menu",children:t});return t})}},n[19]=M,n[20]=v,n[21]=R,n[22]=L,n[23]=E,n[24]=T,n[25]=w):w=n[25];var A=w,F;n[26]!==A||n[27]!==S?(F=function(t){S&&S(t),A()},n[26]=A,n[27]=S,n[28]=F):F=n[28];var O=F,B,W;n[29]===Symbol.for("react.memo_cache_sentinel")?(B={key:r("CometKeys").RIGHT},W=s._(/*BTDS*/"Move to submenu"),n[29]=B,n[30]=W):(B=n[29],W=n[30]);var q;n[31]!==A?(q=[{command:B,description:W,handler:A}],n[31]=A,n[32]=q):q=n[32];var U=q,V;n[33]!==d?(V=d?m.jsx("div",{className:"xz62fqu x16ldp7u",children:N}):N,n[33]=d,n[34]=V):V=n[34];var H;n[35]!==i||n[36]!==d||n[37]!==p||n[38]!==_||n[39]!==g||n[40]!==C||n[41]!==b?(H=_!=null?_:d?m.jsx(r("FDSMenuItemIcon.react"),{disabled:i,icon:d,iconColor:p,iconSize:g,isDecorative:b,use:C}):null,n[35]=i,n[36]=d,n[37]=p,n[38]=_,n[39]=g,n[40]=C,n[41]=b,n[42]=H):H=n[42];var G;n[43]!==a||n[44]!==i||n[45]!==l||n[46]!==O||n[47]!==x||n[48]!==R||n[49]!==L||n[50]!==V||n[51]!==H?(G=m.jsx(r("FDSMenuItemBase.react"),babelHelpers.extends({},a,{"aria-expanded":x,"aria-haspopup":"menu",aux:V,disabled:i,iconNode:H,onClick:O,preventClosingMenuOnSelect:!0,primaryText:R,ref:l,role:"menuitem",secondaryText:L})),n[43]=a,n[44]=i,n[45]=l,n[46]=O,n[47]=x,n[48]=R,n[49]=L,n[50]=V,n[51]=H,n[52]=G):G=n[52];var z;return n[53]!==U||n[54]!==G?(z=m.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:U,children:G}),n[53]=U,n[54]=G,n[55]=z):z=n[55],z}l.default=C}),226);
__d("LSOptimisticUpdateThreadDisappearingSetting",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("wa_jid",void 0),r[2].set("thread_key",e[0]),r[2].set("disappearing_ttl",e[1]),r[2].set("updated_timestamp",e[2]),r[2].set("updated_by",e[3]),r[2].set("sync_group",t.i64.cast([0,95])),r[2].set("ephemerality_type",void 0),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"disappearing_setting",t.i64.cast([0,714]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticUpdateThreadDisappearingSettingStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure",["LSOptimisticUpdateThreadDisappearingSetting","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){a===void 0&&(a={});var i=t.storedProcedure(r("LSOptimisticUpdateThreadDisappearingSetting"),a.threadKey,a.disappearingTtl,a.updatedTimestamp,a.updatedBy);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRefetchContactRowIfExists",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(7).fetch([[[e[0]]]]),function(n){return t.i64.eq(n.id,e[0])&&t.i64.eq(t.i64.cast([0,1]),t.i64.cast([0,1]))}).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,t.i64.le(a.authorityLevel,t.i64.cast([0,80]))?(r[0]=new t.Map,r[0].set("contact_id",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"cpq_v2",t.i64.cast([0,207]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):t.resolve())})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSContactRefetchContactRowIfExistsStoredProcedure",e.__tables__=["contacts"],a.exports=e}),null);
__d("LSRefetchContactRowIfExistsStoredProcedure",["LSRefetchContactRowIfExists","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRefetchContactRowIfExists"),a.id);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWAsyncEBMediaDownloadPromise",[],(function(t,n,r,o,a,i){"use strict";var e=new Map;function l(t){var n=t.messageId,r=t.objectId,o=t.plaintextHash,a=t.threadId,i=e.get(r);e.set(r,i!=null?[].concat(i,[{messageId:n,plaintextHash:o,threadId:a}]):[{messageId:n,plaintextHash:o,threadId:a}])}function s(t){var n;return(n=e.get(t))==null?void 0:n.pop()}i.setMediaDownloadPayload=l,i.retrieveMediaDownloadPayload=s}),66);
__d("MAWEncryptedBackupsClearRecoveryCode",["Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return(e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.secure_recovery_code_data)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.secure_encrypted_backups_recovery_code_status))]).then(function(r){var o=r[0],a=r[1];if(o!=null||a!=null)return t.runInTransaction(function(t){return(e||(e=n("Promise"))).all([(o==null?void 0:o.taskId)!=null?t.secure_recovery_code_data.delete(o.taskId):(e||(e=n("Promise"))).resolve(),(a==null?void 0:a.pk)!=null?t.secure_encrypted_backups_recovery_code_status.delete(a.pk):(e||(e=n("Promise"))).resolve()])},"readwrite",void 0,void 0,i.id+":27")})}l.encryptedBackupsClearRecoveryCode=s}),98);
__d("MAWEphemeralSettingsUpdate",["FBLogger","I64","LSOptimisticUpdateThreadDisappearingSettingStoredProcedure","MAWChatJid","MAWCurrentUser","MAWEphemeralMsgAutoResetSystemId","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("LSDatabaseSingletonLazyWrapper").__setRef("MAWEphemeralSettingsUpdate"),u=r("requireDeferred")("LSFactory").__setRef("MAWEphemeralSettingsUpdate"),c=r("requireDeferred")("WATimeUtils").__setRef("MAWEphemeralSettingsUpdate");async function d(t,n,r,a){var i=await t.threads.get(a);if(i!=null){var l=i.disappearingSettingUpdatedTs,s=i.disappearingSettingTtl;if(l==null||s==null||(e||(e=o("I64"))).lt(l,(e||(e=o("I64"))).of_float(r))&&!(e||(e=o("I64"))).equal(s,(e||(e=o("I64"))).of_int32(n)))return!0}return!1}async function m(t,n,a,i,l,s,c){var m=await d(t,n,a,l);if(!m)return Promise.resolve();s&&r("FBLogger")("wmi_eb").addMetadata("LABYRINTH_WEB","APP_VERSION","OCCAM_EPHEMERAL_SETTINGS_UPDATE").info("[Occam][Web] Ephemeral Settings Updated.");var p=await u.load();return r("LSOptimisticUpdateThreadDisappearingSettingStoredProcedure")(p(t),{disappearingTtl:(e||(e=o("I64"))).of_int32(n),threadKey:l,updatedBy:e.of_string(i?r("MAWEphemeralMsgAutoResetSystemId"):c!=null?c:o("MAWCurrentUser").getID()),updatedTimestamp:e.of_float(a)})}async function p(e,t,n,r){var o=await s.load(),a=await o();return a.runInTransaction(function(o){return m(o,e,t,n,r,!1)},"readwrite")}async function _(e,t,n,r,a){var i=await s.load(),l=await i(),u=(await c.load()).castUnixTimeToMillisTime(t);return l.runInTransaction(async function(t){var i=await o("MAWChatJid").toThreadKeyMaybe(t,r);return i!=null?m(t,e,u,n,i,a):Promise.resolve()},"readwrite")}l.updateEphemeralSettingsWithTxn=m,l.updateEphemeralSettings=p,l.updateEphemeralSettingsByChatJid=_}),98);
__d("MDSMenuItemWithSubmenu.react",["FDSMenuItemWithSubmenu.react","MDSIconSizes","MWXSvgIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["icon","ref","iconStyle","submenu"],s,u=s||(s=o("react")),c="calc(100vw - 2 * var(--menu-item-base-padding-horizontal))";function d(t){var n,a=o("react-compiler-runtime").c(18),i,l,s,d,m;a[0]!==t?(i=t.icon,s=t.ref,m=t.iconStyle,d=t.submenu,l=babelHelpers.objectWithoutPropertiesLoose(t,e),a[0]=t,a[1]=i,a[2]=l,a[3]=s,a[4]=d,a[5]=m):(i=a[1],l=a[2],s=a[3],d=a[4],m=a[5]);var p=m===void 0?"contained":m,_;a[6]!==i?(_=o("MDSIconSizes").getIconSizeForMWMenuItem(i),a[6]=i,a[7]=_):_=a[7];var f=_,g=i instanceof o("MWXSvgIcon").MWXSvgIcon?i.component:i,h=(n=d.maxWidth)!=null?n:c,y;a[8]!==d||a[9]!==h?(y=babelHelpers.extends({maxWidth:h},d),a[8]=d,a[9]=h,a[10]=y):y=a[10];var C;return a[11]!==f||a[12]!==p||a[13]!==l||a[14]!==s||a[15]!==g||a[16]!==y?(C=u.jsx(r("FDSMenuItemWithSubmenu.react"),babelHelpers.extends({},l,{icon:g,iconSize:f,iconStyle:p,ref:s,submenu:y})),a[11]=f,a[12]=p,a[13]=l,a[14]=s,a[15]=g,a[16]=y,a[17]=C):C=a[17],C}l.default=d}),98);
__d("MWChatEncryptedBackupsAddonIcon.react",["MWAddOnCircleContainer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.ariaHidden,a=e.icon,i;return t[0]!==n||t[1]!==a?(i=s.jsx(r("MWAddOnCircleContainer.react"),{ariaHidden:n,size:36,children:a}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWChatEncryptedBackupsChevronRightIconMedium.react",["MWXIconChevronRight","MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.disabled,a=n===void 0?!1:n,i=a?"disabled":"primary",l;return t[0]!==i?(l=s.jsx(r("MWXIconStrict.react"),{color:i,icon:r("MWXIconChevronRight"),isDecorative:!0,size:24}),t[0]=i,t[1]=l):l=t[1],l}l.default=u}),98);
__d("MWChatEncryptedBackupsLayout.react",["FocusRegion.react","MWXColumn.react","MWXColumnItem.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","xplatToDOMRef"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(47),n=e.actionsDirection,a=e.children,i=e.focusRegionId,l=e.icon,u=e.innerContentPaddingHorizontal,c=e.innerContentPaddingVertical,d=e.outerContentPaddingHorizontal,m=e.outerContentPaddingVertical,p=e.primaryAction,_=e.ref,f=e.secondaryAction,g=e.showTopMargin,h=e.showTopMarginSmall,y=e.tertiaryAction,C=e.title,b=e.useBigTitle,v=e.useCompressedIcon,S=e.useScrollBar,R=e.useStretchContent,L=e.useTightTitle,E=n===void 0?"row":n,k=u===void 0?20:u,I=c===void 0?20:c,T=d===void 0?20:d,D=m===void 0?20:m,x=g===void 0?!0:g,$=h===void 0?!1:h,P=b===void 0?!1:b,N=v===void 0?!1:v,M=S===void 0?!1:S,w=R===void 0?!1:R,A=L===void 0?!1:L,F;t[0]!==i||t[1]!==p?(F=i==null?p:s.jsx(o("FocusRegion.react").FocusRegion,{id:i,children:p}),t[0]=i,t[1]=p,t[2]=F):F=t[2];var O=F,B=l!=null||P?"headlineEmphasized2":"headlineEmphasized3",W;t[3]!==A?(W={0:{},1:{className:"x106a9eq x1xnnf8n"}}[!!A<<0],t[3]=A,t[4]=W):W=t[4];var q;t[5]!==C||t[6]!==B?(q=s.jsx(r("MWXText.react"),{align:"center",isSemanticHeading:!0,type:B,children:C}),t[5]=C,t[6]=B,t[7]=q):q=t[7];var U;t[8]!==W||t[9]!==q?(U=s.jsx("div",babelHelpers.extends({},W,{children:q})),t[8]=W,t[9]=q,t[10]=U):U=t[10];var V=U,H;t[11]!==_?(H=o("xplatToDOMRef").xplatToDOMRef(_),t[11]=_,t[12]=H):H=t[12];var G;t[13]!==l||t[14]!==N?(G=l&&s.jsx(r("MWXColumnItem.react"),{children:s.jsx("div",babelHelpers.extends({},{0:{className:"x1sy10c2 x1y1aw1k xwib8y2"},1:{className:"x4arcmf x1cxtvei x6mlq2k x4m0w28"}}[!!N<<0],{children:l}))}),t[13]=l,t[14]=N,t[15]=G):G=t[15];var z;t[16]!==l||t[17]!==x||t[18]!==$||t[19]!==C||t[20]!==V?(z=C!=null&&s.jsx(r("MWXColumnItem.react"),{align:"center",children:l!=null?V:s.jsx("div",babelHelpers.extends({},{0:{className:"x1iorvi4 x1lr1uin"},2:{className:"x4i7bpe x1lr1uin"},1:{className:"x1xy6bms x1lr1uin"},3:{className:"x1xy6bms x1lr1uin"}}[!!x<<1|!!$<<0],{children:V}))}),t[16]=l,t[17]=x,t[18]=$,t[19]=C,t[20]=V,t[21]=z):z=t[21];var j=w?"stretch":"center",K;t[22]!==M||t[23]!==w?(K={0:{className:"xvc51xn x1dqj196 x2b8uid"},2:{className:"x1lziwak x14z9mp"},1:{className:"xvc51xn x1dqj196 x2b8uid x1jcbksy x1odjw0f"},3:{className:"x1lziwak x14z9mp x1jcbksy x1odjw0f"}}[!!w<<1|!!M<<0],t[22]=M,t[23]=w,t[24]=K):K=t[24];var Q;t[25]!==a||t[26]!==K?(Q=s.jsx("div",babelHelpers.extends({},K,{children:a})),t[25]=a,t[26]=K,t[27]=Q):Q=t[27];var X;t[28]!==k||t[29]!==I||t[30]!==j||t[31]!==Q?(X=s.jsx(r("MWXColumnItem.react"),{align:j,paddingHorizontal:k,paddingVertical:I,children:Q}),t[28]=k,t[29]=I,t[30]=j,t[31]=Q,t[32]=X):X=t[32];var Y;t[33]!==E||t[34]!==p||t[35]!==O||t[36]!==f||t[37]!==y?(Y=(p!=null||f!=null||y!=null)&&s.jsx(r("MWXColumnItem.react"),{align:"stretch",children:E==="row"?s.jsxs(r("MWXRow.react"),{expanding:!0,paddingHorizontal:0,paddingVertical:0,spacing:8,children:[y!=null&&s.jsx(r("MWXRowItem.react"),{expanding:!0,children:y}),f!=null&&s.jsx(r("MWXRowItem.react"),{expanding:!0,children:f}),s.jsx(r("MWXRowItem.react"),{expanding:!0,children:O})]}):s.jsxs(r("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[s.jsx(r("MWXColumnItem.react"),{children:O}),f!=null&&s.jsx(r("MWXColumnItem.react"),{children:f}),y!=null&&s.jsx(r("MWXColumnItem.react"),{align:"center",children:y})]})}),t[33]=E,t[34]=p,t[35]=O,t[36]=f,t[37]=y,t[38]=Y):Y=t[38];var J;return t[39]!==T||t[40]!==D||t[41]!==H||t[42]!==G||t[43]!==z||t[44]!==X||t[45]!==Y?(J=s.jsxs(r("MWXColumn.react"),{align:"center",paddingHorizontal:T,paddingVertical:D,ref:H,spacing:16,children:[G,z,X,Y]}),t[39]=T,t[40]=D,t[41]=H,t[42]=G,t[43]=z,t[44]=X,t[45]=Y,t[46]=J):J=t[46],J}l.default=u}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery$Parameters",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWChatEncryptedBackupsSettingsDialog.entrypoint",["JSResourceForInteraction","MWChatEncryptedBackupsSettingsDialogQuery$Parameters","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("gkx")("20911"),s={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("MWChatEncryptedBackupsSettingsDialogQuery$Parameters"),variables:{labyrinthOnePointOneSecurityUX:e}}}}},root:r("JSResourceForInteraction")("MWChatEncryptedBackupsSettingsDialog.react").__setRef("MWChatEncryptedBackupsSettingsDialog.entrypoint")};l.default=s}),98);
__d("MWChatEncryptedBackupsSettingsDialogQuery.graphql",["MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:!1,kind:"LocalArgument",name:"labyrinthOnePointOneSecurityUX"}],t={alias:null,args:null,kind:"ScalarField",name:"has_seen_eb_auto_restore_notice",storageKey:null},r={alias:null,args:[{kind:"Literal",name:"family_device_id",value:""}],kind:"ScalarField",name:"has_otc_eligible_devices",storageKey:'has_otc_eligible_devices(family_device_id:"")'},o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWEBVestaUserInfoContextProvider_viewer"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t],storageKey:null}],storageKey:null},action:"THROW",path:"viewer"},{args:[{kind:"Variable",name:"labyrinthOnePointOneSecurityUX",variableName:"labyrinthOnePointOneSecurityUX"}],kind:"FragmentSpread",name:"MWChatEncryptedBackupsSettingsDialogStep_query"},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[r,{args:null,kind:"FragmentSpread",name:"useMWEncryptedBackupsGetVirtualDevicesPreloaded_xfbEncryptedBackup"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatEncryptedBackupsSettingsDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerDefaultEncryptedBackup",kind:"LinkedField",name:"messenger_default_encrypted_backup",plural:!1,selections:[{alias:null,args:null,concreteType:"VestaGetUserInfoResponse",kind:"LinkedField",name:"vesta_user_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attempts_remaining",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_registered",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"login_timeout_remaining_secs",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"encrypted_backup",plural:!1,selections:[t,o],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[a,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"encrypted_backup_encryption_management_delegator_id",storageKey:null}],type:"User",abstractKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,o,{alias:null,args:null,kind:"ScalarField",name:"last_sync_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"backup_creation_time",storageKey:null},{condition:"labyrinthOnePointOneSecurityUX",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_sender_backup",storageKey:null}]},r,{alias:null,args:null,concreteType:"XFBEBVirtualDevice",kind:"LinkedField",name:"virtual_devices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_generated_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"device_type",storageKey:null},o],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"logout_whitelist",storageKey:null}]},params:{id:n("MWChatEncryptedBackupsSettingsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChatEncryptedBackupsSettingsDialogQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWEBChatDoubleInterstitialAlphaIcon.react",["ix","CometImageFromIXValue.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(9),a=t.alt,i=t.ref,l=t.xstyle,u=r("useCurrentDisplayMode")(),d=u==="dark",m;n[0]!==d?(m=s(d?"869030":"869032"),n[0]=d,n[1]=m):m=n[1];var p=m,_;n[2]!==a||n[3]!==i||n[4]!==p?(_=c.jsx(r("CometImageFromIXValue.react"),{alt:a,ref:i,source:p}),n[2]=a,n[3]=i,n[4]=p,n[5]=_):_=n[5];var f=_,g;return n[6]!==f||n[7]!==l?(g=l==null?f:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(l),{children:f})),n[6]=f,n[7]=l,n[8]=g):g=n[8],g}l.default=d}),98);
__d("MWInboxAccessibilitySettingsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9836562433091987"}),null);
__d("MWXIconExclamationMarkCircleOutline",["MWXSvgIcon","SVGIcon","cr:22308","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22308")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconMenuItemAppFacebook",["MWXSvgIcon","SVGIcon","cr:22538","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22538")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMenuItemWithSubmenu.react",["MWXSvgIcon","cr:6643","cr:8476","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","icon"],s,u=s||(s=o("react"));function c(t){var r=o("react-compiler-runtime").c(12),a,i,l;if(r[0]!==t?(l=t.ref,a=t.icon,i=babelHelpers.objectWithoutPropertiesLoose(t,e),r[0]=t,r[1]=a,r[2]=i,r[3]=l):(a=r[1],i=r[2],l=r[3]),n("cr:8476")!=null){var s;return r[4]!==a||r[5]!==i||r[6]!==l?(s=u.jsx(n("cr:8476"),babelHelpers.extends({icon:a,isIconDecorative:!0},i,{ref:l})),r[4]=a,r[5]=i,r[6]=l,r[7]=s):s=r[7],s}if(n("cr:6643")!=null){var c=a instanceof o("MWXSvgIcon").MWXSvgIcon?a.component:a,d;return r[8]!==i||r[9]!==l||r[10]!==c?(d=u.jsx(n("cr:6643"),babelHelpers.extends({icon:c,isIconDecorative:!0},i,{ref:l})),r[8]=i,r[9]=l,r[10]=c,r[11]=d):d=r[11],d}return null}l.default=c}),98);
__d("MessengerCommentLeftRightFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M29.5 15a2.5 2.5 0 0 1 2.5 2.5v7a2.5 2.5 0 0 1-2.5 2.5h-.25a.5.5 0 0 0-.5.5v1.616a.884.884 0 0 1-1.509.625l-2.155-2.155A2 2 0 0 0 23.672 27H18.5a2.5 2.5 0 0 1-2.5-2.5v-7a2.5 2.5 0 0 1 2.5-2.5h11z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M4 12a3.5 3.5 0 0 1 3.5-3.5h13A3.5 3.5 0 0 1 24 12a1 1 0 0 1-1 1h-4.5a4.5 4.5 0 0 0-4.5 4.5v5.088c0 .52-.411.938-.893 1.135a3 3 0 0 0-.986.656l-2.31 2.31A1.06 1.06 0 0 1 8 25.94V24a.5.5 0 0 0-.5-.5A3.5 3.5 0 0 1 4 20v-8z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerDiscoverableChatClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1254"),s=o("FalcoLoggerInternal").create("messenger_discoverable_chat_client_events",e),u=s;l.default=u}),98);
__d("MessengerExclamationMarkCircleOutline.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M16.594 13.497a1.41 1.41 0 1 1 2.812 0l-.344 5.505a1.064 1.064 0 0 1-2.124 0l-.344-5.505zM19.25 22.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M29 18c0 6.075-4.925 11-11 11S7 24.075 7 18 11.925 7 18 7s11 4.925 11 11zm-2.5 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerWellbeingRestrictFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("474"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_restrict_failed",e),u=s;l.default=u}),98);
__d("MessengerWellbeingRestrictSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("480"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_restrict_succeeded",e),u=s;l.default=u}),98);
__d("MessengerWellbeingRestrictTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("481"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_restrict_tapped",e),u=s;l.default=u}),98);
__d("MessengerWellbeingUnrestrictFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("482"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_unrestrict_failed",e),u=s;l.default=u}),98);
__d("MessengerWellbeingUnrestrictSucceededFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("483"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_unrestrict_succeeded",e),u=s;l.default=u}),98);
__d("MessengerWellbeingUnrestrictTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("484"),s=o("FalcoLoggerInternal").create("messenger_wellbeing_unrestrict_tapped",e),u=s;l.default=u}),98);
__d("RTWebCallBlockSettingHooksQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9989124061109700"}),null);
__d("RTWebCallBlockSettingHooksQuery.graphql",["RTWebCallBlockSettingHooksQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RTWebCallBlockSettingHooksQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"RTWebCallBlockSettingHooksQuery",selections:e},params:{id:n("RTWebCallBlockSettingHooksQuery_facebookRelayOperation"),metadata:{},name:"RTWebCallBlockSettingHooksQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24429620016626810"}),null);
__d("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql",["RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"RtwebCallBlockedSettingSubscribeResponsePayload",kind:"LinkedField",name:"rtweb_call_blocked_setting_subscribe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"call_blocked_until",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client_subscription_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:t,type:"Subscription",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",selections:t},params:{id:n("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription_facebookRelayOperation"),metadata:{subscriptionName:"rtweb_call_blocked_setting_subscribe"},name:"RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription",operationKind:"subscription",text:null}}})();a.exports=e}),null);
__d("RTWebCallBlockedSettingSubscription",["CometRelay","RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("RTWebCallBlockedSettingSubscription_CallBlockSettingSubscription.graphql");function u(e,t,n){return o("CometRelay").requestSubscription(e,{onNext:n,subscription:s,variables:{input:t}})}l.subscribe=u}),98);
__d("RTWebCallBlockSettingHooks",["CometRelay","DateConsts","RTWebCallBlockSettingHooksQuery.graphql","RTWebCallBlockedSettingSubscription","RTWebPreCallContext","ServerTime","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect,m=u.useState,p=6e4,_=e!==void 0?e:e=n("RTWebCallBlockSettingHooksQuery.graphql"),f=function(t,n){return function(e){var r=e.getRoot();if(r!=null){var o=r.getLinkedRecord("viewer");o!=null&&o.setValue(n,t)}}};function g(e){return e===-1?e:(e||0)*o("DateConsts").MS_PER_SEC}function h(){var e=o("react-compiler-runtime").c(6),t=o("CometRelay").useRelayEnvironment(),n;e[0]!==t?(n=o("CometRelay").getActorID(t),e[0]=t,e[1]=n):n=e[1];var a=n,i=m(0),l=i[0],s=i[1],u,c;return e[2]!==a||e[3]!==t?(u=function(){var e=o("CometRelay").fetchQuery(t,_,{},{fetchPolicy:"store-or-network"}).toPromise().then(function(e){var t=e==null?void 0:e.viewer;t!=null&&s(g(t.call_blocked_until))});r("promiseDone")(e);var n=o("RTWebCallBlockedSettingSubscription").subscribe(t,{viewer_id:a},function(e){var n=e==null?void 0:e.rtweb_call_blocked_setting_subscribe;n!=null&&(s(g(n.call_blocked_until)),t.commitUpdate(f("call_blocked_until",n.call_blocked_until)))});return(function(){n.dispose()})},c=[t,a],e[2]=a,e[3]=t,e[4]=u,e[5]=c):(u=e[4],c=e[5]),d(u,c),l}function y(){var e=o("react-compiler-runtime").c(4),t=h(),n=o("ServerTime").getMillis(),r=t<0,a=t>n,i=m(r||a),l=i[0],s=i[1];(r||a)!==l&&s(r||a);var u,c;return e[0]!==t||e[1]!==a?(u=function(){if(a){var e=window.setInterval(function(){t<=o("ServerTime").getMillis()&&(s(!1),window.clearInterval(e))},p);return(function(){window.clearInterval(e)})}},c=[t,a],e[0]=t,e[1]=a,e[2]=u,e[3]=c):(u=e[2],c=e[3]),d(u,c),l}function C(){var e=o("react-compiler-runtime").c(4),t=c(r("RTWebPreCallContext")),n=y(),a,i;e[0]!==n||e[1]!==t?(a=function(){t!=null&&t.callInviteModel.startListening({callsBlocked:n})},i=[t,n],e[0]=n,e[1]=t,e[2]=a,e[3]=i):(a=e[2],i=e[3]),d(a,i)}l.useCallBlockSettingValue=h,l.useHasCallsBlocked=y,l.useCallBlockSetting=C}),98);
__d("showDesktopNotification",["MessengerDesktopNotificationPermissions","MessengerDesktopNotifications","ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=8e3;function s(){return function(t){var n=t.acceptCall,a=t.body,i=t.icon,l=t.title,s={body:a,closeTime:e,icon:i,onClick:function(){o("ZenonUserActionLogger").logClick({component:"browser_notification",surface:"desktop_notification"}),window.focus(),n({trigger:"desktop_notification"})},onShow:function(){o("ZenonUserActionLogger").logImpression({component:"browser_notification",surface:"desktop_notification"})},title:l};if(o("MessengerDesktopNotifications").checkPermission()===r("MessengerDesktopNotificationPermissions").DEFAULT){o("MessengerDesktopNotifications").requestPermission(function(){o("MessengerDesktopNotifications").showNotification(s)});return}o("MessengerDesktopNotifications").showNotification(s)}}l.default=s}),98);
__d("RTWebCallInviteDesktopNotification.react",["fbt","RTWebPreCallHooks","ZenonUsersHooks","react","react-compiler-runtime","showDesktopNotification","usePrevious"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.invite,r;return t[0]!==n?(r=(n==null?void 0:n.type)==="ringing"?u.jsx(d,{invite:n}):null,t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=e.invite,n=r("showDesktopNotification")(),a=r("usePrevious")(t.ringID),i=o("RTWebPreCallHooks").useAcceptCallCallback(!1),l=o("ZenonUsersHooks").useZenonUser(t.inviterID),s=t.requestingVideo,u=t.participants.length>1;if(a!==t.ringID&&l!=null){var c;n({acceptCall:i,body:p(l.shortName),icon:(c=l.profilePictureUrl)!=null?c:null,title:m(s,u)})}return null}function m(e,t){return t?e?s._(/*BTDS*/"Incoming group video chat"):s._(/*BTDS*/"Incoming group call"):e?s._(/*BTDS*/"Incoming video chat"):s._(/*BTDS*/"Incoming call")}function p(e){return s._(/*BTDS*/"{caller name} is calling you. Click to answer.",[s._param("caller name",e)])}l.default=c}),226);
__d("ZenonCallWindowOpener_Popup",["UserAgent","ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=1280,s={LargeForGroup:{height:772,width:1100},LargeForP2P:{height:720,width:1280},Small:{height:540,width:960}},u=["menubar=no","location=no","scrollbars=no","status=no","personalbar=no"],c=(function(){function t(){}var n=t.prototype;return n.openWindow=function(t){var e=this.$1(t.joinContext),n=this.$2(e),a=n.left,i=n.top;o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_Popup: left="+a+",top="+i+",width="+e.width+",height="+e.height});var l=r("UserAgent").isBrowser("Safari")?window.location.hostname:"";return window.open(l,"",[].concat(u,["height="+e.height,"width="+e.width,"left="+a,"top="+i]).join(","))},n.$1=function(n){return screen&&screen.width>e?n.type==="link"||n.thread.type===2?{height:s.LargeForGroup.height,width:s.LargeForGroup.width}:{height:s.LargeForP2P.height,width:s.LargeForP2P.width}:{height:s.Small.height,width:s.Small.width}},n.$2=function(t){var e,n,r=t.height,o=t.width;return{left:Math.floor(window.innerWidth/2-o/2+((e=window.screenLeft)!=null?e:window.screenX)),top:Math.floor(window.innerHeight/2-r/2+((n=window.screenTop)!=null?n:window.screenY))}},t})();l.default=c}),98);
__d("ZenonCallWindowOpener_iFrame",["ZenonUserActionLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.openWindow=function(t){o("ZenonUserActionLogger").logCheckpoint({checkpoint:"Opening_iFrame"});var e=document.createElement("iframe");e.setAttribute("data-testid","zenon-call-window"),e.frameBorder="0",e.style.width="100%",e.style.height="100vh",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.zIndex="9999",document.body.appendChild(e);var n=e.contentWindow;return n},e})();l.default=e}),98);
__d("RTWebCallWindowOpener",["RTWebDropInUtils","ZenonCallWindowOpener_Popup","ZenonCallWindowOpener_iFrame","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.$1=r("gkx")("15312")?new(r("ZenonCallWindowOpener_iFrame")):new(r("ZenonCallWindowOpener_Popup"))}var t=e.prototype;return t.openWindow=function(t){if(t.context.intent==="accept invite"&&t.context.controllerParams.appMessages!=null){var e=o("RTWebDropInUtils").isDropInFromAppMessages(t.context.controllerParams.appMessages);if(e)return babelHelpers.extends({},window,{close:function(){return null}})}return this.$1.openWindow(t)},e})();l.default=e}),98);
__d("RTWebCometCallDialog.react",["FDSButtonGroup.react","FDSControlledUserBlockingDialog.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(26),n=e.acceptIcon,a=e.acceptLabel,i=e.acceptTestid,l=e.body,c=e.declineLabel,d=e.onClose,m=e.title,p=c===void 0?null:c,_=m===void 0?null:m,f;t[0]!==d?(f=function(){d(!0)},t[0]=d,t[1]=f):f=t[1];var g=f,h;t[2]!==d?(h=function(){d(!1)},t[2]=d,t[3]=h):h=t[3];var y=h,C=u(),b=_!=null?_:void 0,v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xdt5ytf xl56j7k xz9dl7a xsag5q8 xf7dkkf xv54qhq"},t[4]=v):v=t[4];var S=_==null?C:void 0,R;t[5]!==l||t[6]!==S?(R=s.jsx("div",babelHelpers.extends({},v,{id:S,children:l})),t[5]=l,t[6]=S,t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1l90r2v xf159sx x1c1uobl xexx8yu"},t[8]=L):L=t[8];var E;t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==g?(E={icon:n,label:a,onPress:g,testid:i,type:"primary"},t[9]=n,t[10]=a,t[11]=i,t[12]=g,t[13]=E):E=t[13];var k;t[14]!==p||t[15]!==y?(k=p!==null?{label:p,onPress:y,reduceEmphasis:!0}:null,t[14]=p,t[15]=y,t[16]=k):k=t[16];var I;t[17]!==E||t[18]!==k?(I=s.jsx("div",babelHelpers.extends({},L,{children:s.jsx(r("FDSButtonGroup.react"),{align:"end",direction:"backward",primary:E,secondary:k})})),t[17]=E,t[18]=k,t[19]=I):I=t[19];var T;return t[20]!==C||t[21]!==y||t[22]!==I||t[23]!==b||t[24]!==R?(T=s.jsxs(r("FDSControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,labelledBy:C,onDismiss:y,title:b,withCloseButton:!0,children:[R,I]}),t[20]=C,t[21]=y,t[22]=I,t[23]=b,t[24]=R,t[25]=T):T=t[25],T}l.default=c}),98);
__d("RelayFBDefaultEnvironment",["RelayFBEnvironmentFactory"],(function(t,n,r,o,a,i,l){"use strict";var e=r("RelayFBEnvironmentFactory").getForActorID(null);l.default=e}),98);
__d("StartVideoChatLinkCall",["FBLogger","RTWebPreCallContextSingleton","RelayFBDefaultEnvironment","URI","XGroupCallControllerRouteBuilder","ZenonActorHooks","ZenonCallIdentifiersUtil","ZenonPeerID","ZenonSignalingProtocol","gkx","randomZenonNonce"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("RTWebPreCallContextSingleton").create({relayEnvironment:r("RelayFBDefaultEnvironment")});function u(e,t,n,a){if(t===void 0&&(t=!1),n===void 0&&(n=!1),a===void 0&&(a=""),!r("gkx")("24231"))return null;if(s){var i=s.callWindowController,l=s.incomingRingSDK,u="",d=e,m=o("ZenonCallIdentifiersUtil").generateZenonClientSessionID();if(t){var p=c(e);if(u=r("randomZenonNonce")(),p!=null){var _={call_context:"LINK:"+p,funnel_session_id:a,nonce:u};n&&(_.auto_join=!0),d=r("XGroupCallControllerRouteBuilder").buildURL(_).toString()}}var f=i.initCall({context:{signalingID:m,intent:"start or join",invitees:[],existingCall:null},mediaType:"video",nonce:u,joinContext:{linkUrl:d,type:"link"},representedID:o("ZenonActorHooks").ZenonActor.getID()}),g=f[0],h=f[1];return l.startCallIntent(u,{signalingID:m,callTrigger:"meetup_join",isE2eeMandated:!1,isPopupBlocked:g===null,isVideo:!0,peerID:o("ZenonPeerID").ZenonMWPeerID,protocol:r("ZenonSignalingProtocol").MW}),g}else return null}function c(t){var n=new(e||(e=r("URI")))(t),o=n.getDomain(),a=n.stripTrailingSlash().getPath();if(o==="msngr.com")return a.substring(1);if(o==="m.me"&&/^\/v(id)?\//.test(a))return a.replace(/^\/v(id)?\//,"");var i=/^\/groupcall\/LINK:/;return i.test(a)?a.replace(i,""):(r("FBLogger")("rtc_www").mustfix('Could not extract LinkHash from Video Chat Link. Link = "%s"',t),null)}l.startCall=u}),98);
__d("useRTWebIncomingCallDialog",["CometPlaceholder.react","QPLUserFlow","RTWebPreCallContext","ZenonUserActionLogger","cr:274","qpl","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(19),a=e.inviterID,l=e.isE2EECall,u=e.isVideoCall,m=e.notificationType,p=e.onAccept,_=e.onDecline,f=e.participantIDs,g=e.receiverID,h=e.showCallingSource,y=e.threadJid,C=e.threadType,b=d(!1),v=b[0],S=b[1],R=c(r("RTWebPreCallContext")),L=R?R.callInviteModel:null,E;t[0]!==a||t[1]!==v||t[2]!==l||t[3]!==u||t[4]!==m||t[5]!==p||t[6]!==_||t[7]!==f||t[8]!==g||t[9]!==h||t[10]!==y||t[11]!==C?(E=v?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(n("cr:274"),{inviterID:a,isE2EECall:l,isVideoCall:u,notificationType:m,onAccept:function(){p(),S(!1)},onClose:function(){return S(!1)},onDecline:function(){_(),S(!1)},participantIDs:f,receiverID:g,showCallingSource:h,threadJid:y,threadType:C})}):null,t[0]=a,t[1]=v,t[2]=l,t[3]=u,t[4]=m,t[5]=p,t[6]=_,t[7]=f,t[8]=g,t[9]=h,t[10]=y,t[11]=C,t[12]=E):E=t[12];var k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k=function(){return S(!1)},t[13]=k):k=t[13];var I;t[14]!==L?(I={dismiss:k,show:function(){var e;o("ZenonUserActionLogger").logImpression({surface:"incoming_call_dialog"}),r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"render_dialog",{instanceKey:+(L==null||(e=L.getCurrentInvite())==null?void 0:e.ringID)}),S(!0)}},t[14]=L,t[15]=I):I=t[15];var T;return t[16]!==E||t[17]!==I?(T=[E,I],t[16]=E,t[17]=I,t[18]=T):T=t[18],T}l.default=m}),98);
__d("RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters",["RTWebIncomingUnsupportedE2EEDialogNameQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("RTWebIncomingUnsupportedE2EEDialogNameQuery_facebookRelayOperation"),metadata:{},name:"RTWebIncomingUnsupportedE2EEDialogNameQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("RTWebIncomingUnsupportedE2EEDialog.entrypoint",["JSResourceForInteraction","RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.id;return{queries:{queryReference:{parameters:n("RTWebIncomingUnsupportedE2EEDialogNameQuery$Parameters"),variables:{id:e}}}}},root:r("JSResourceForInteraction")("RTWebIncomingUnsupportedE2EEDialog.react").__setRef("RTWebIncomingUnsupportedE2EEDialog.entrypoint")};l.default=e}),98);
__d("RTWebUnsupportedDialog.react",["fbt","CometPlaceholder.react","FDSCardedDialogLoadingStateLegacy.react","FDSContextRowLink.react","JSResourceForInteraction","gkx","lazyLoadComponent","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("RTWebCometUnsupportedBrowserContent.react").__setRef("RTWebUnsupportedDialog.react")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("RTWebCometCallDialog.react").__setRef("RTWebUnsupportedDialog.react")),m="https://www.google.com/chrome/index.html";function p(e){var t=e.hide,n=e.inviterID,o=e.isVideoCall,a=e.onClose,i=e.participantIDs,l=e.threadType,p=r("gkx")("22885");return u.jsx(r("CometPlaceholder.react"),{fallback:u.jsx(r("FDSCardedDialogLoadingStateLegacy.react"),{}),name:"RTWebUnsupportedBrowserDialog",children:u.jsx(d,{acceptLabel:s._(/*BTDS*/"Install Chrome"),body:u.jsx(c,{inviterID:n,mainMessage:s._(/*BTDS*/"Get Chrome to join"),participantIDs:i,subMessage:p?s._(/*BTDS*/"This feature isn't supported by your browser. Install {link to install chrome} to use all of Workplace's audio calling and video chat features.",[s._param("link to install chrome",_(a))]):s._(/*BTDS*/"This feature isn't supported by your browser. Install {link to install chrome} to use all of Messenger's audio calling and video chat features.",[s._param("link to install chrome",_(a))])}),declineLabel:s._(/*BTDS*/"Not now"),onClose:function(n){n&&window.open(m,"_blank"),t(),a()},title:s._(/*BTDS*/"Incoming {Unsupported feature name}",[s._param("Unsupported feature name",f(l,o))])})})}p.displayName=p.name+" [from "+i.id+"]";function _(e){return u.jsx(r("FDSContextRowLink.react"),{external:!0,linkProps:{target:"_blank",url:m},onPress:e,children:s._(/*BTDS*/"Chrome")})}_.displayName=_.name+" [from "+i.id+"]";function f(e,t){return e===2?t?"Group Video Chat":"Group Audio Call":e===3?"Room Call":t?"Video Chat":"Audio Call"}l.default=p}),226);
__d("useRTWebIncomingUnsupportedBrowserDialog",["CometPlaceholder.react","RTWebIncomingUnsupportedE2EEDialog.entrypoint","RTWebUnsupportedDialog.react","RelayHooks","ZenonUserActionLogger","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(20),n=e.inviterID,a=e.isE2EECall,l=e.isVideoCall,c=e.onClose,d=e.participantIDs,m=e.threadType,p=u(!1),_=p[0],f=p[1],g=r("useCometRelayEntrypointContextualEnvironmentProvider")(),h=o("RelayHooks").useEntryPointLoader(g,r("RTWebIncomingUnsupportedE2EEDialog.entrypoint")),y=h[0],C=h[1],b;t[0]!==y||t[1]!==n||t[2]!==a||t[3]!==C?(b=function(t){t&&a&&y==null&&C({id:n}),f(t)},t[0]=y,t[1]=n,t[2]=a,t[3]=C,t[4]=b):b=t[4];var v=b,S;t[5]!==y||t[6]!==n||t[7]!==_||t[8]!==a||t[9]!==l||t[10]!==c||t[11]!==d||t[12]!==v||t[13]!==m?(S=_?a?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:y!=null&&s.jsx(o("RelayHooks").EntryPointContainer,{entryPointReference:y,props:{inviterID:n,onClose:function(){c(),v(!1)},threadType:m}})}):s.jsx(r("RTWebUnsupportedDialog.react"),{hide:function(){return v(!1)},inviterID:n,isVideoCall:l,onClose:function(){c(),v(!1)},participantIDs:d,threadType:m}):null,t[5]=y,t[6]=n,t[7]=_,t[8]=a,t[9]=l,t[10]=c,t[11]=d,t[12]=v,t[13]=m,t[14]=S):S=t[14];var R;t[15]!==v?(R={dismiss:function(){return v(!1)},show:function(){o("ZenonUserActionLogger").logImpression({surface:"unsupported_browser_dialog"}),v(!0)}},t[15]=v,t[16]=R):R=t[16];var L;return t[17]!==S||t[18]!==R?(L=[S,R],t[17]=S,t[18]=R,t[19]=L):L=t[19],L}l.default=c}),98);
__d("RTWebMissedCallDialogContainer.react",["fbt","ALT_PLACEHOLDER_FIXME","CometAccessibilityAnnouncement.react","IntlVariations","RTWebMDSCallNotificationDialog.react","ZenonUsers","ZenonUsersHooks","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(29),n=e.actorID,a=e.inviterID,i=e.isVideoCall,l=e.notificationType,c=e.onCallback,d=e.onClose,m=e.participantIDs,p=e.receiverID,_=e.threadJid,f=e.threadType,g=o("ZenonUsersHooks").useZenonUser(a),h=o("ZenonUsersHooks").useZenonUsers(m),y=o("ZenonUsersHooks").useZenonUser(p!=null?p:null),C;if(t[0]!==n||t[1]!==(g==null?void 0:g.profilePictureUrl)||t[2]!==h||t[3]!==y){var b;C=[],C.push({alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:(b=g==null?void 0:g.profilePictureUrl)!=null?b:""}}),y&&y.userType===o("ZenonUsers").ZenonUserType.Page||h.forEach(function(e){if(e.id!==n){var t;C.push({alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:(t=e==null?void 0:e.profilePictureUrl)!=null?t:""}})}}),t[0]=n,t[1]=g==null?void 0:g.profilePictureUrl,t[2]=h,t[3]=y,t[4]=C}else C=t[4];var v;t[5]!==g||t[6]!==m.length||t[7]!==y?(v=m.length>1?g!=null?s._(/*BTDS*/"_j{\"*\":\"You missed a group call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN)]):s._(/*BTDS*/"You missed a group call"):g!=null&&y&&(y==null?void 0:y.userType)===o("ZenonUsers").ZenonUserType.Page?s._(/*BTDS*/"_j{\"*\":\"{page} missed a call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN),s._param("page",y.name)]):g!=null?s._(/*BTDS*/"_j{\"*\":\"You missed a call from {caller}\"}",[s._name("caller",g.name,r("IntlVariations").GENDER_UNKNOWN)]):s._(/*BTDS*/"You missed a call"),t[5]=g,t[6]=m.length,t[7]=y,t[8]=v):v=t[8];var S=v,R;t[9]!==S?(R=u.jsx(r("CometAccessibilityAnnouncement.react"),{assertive:!0,children:S}),t[9]=S,t[10]=R):R=t[10];var L;t[11]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Call back"),t[11]=L):L=t[11];var E;t[12]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Close"),t[12]=E):E=t[12];var k;t[13]!==(g==null?void 0:g.name)?(k=s._(/*BTDS*/"_j{\"*\":\"{caller}\"}",[s._name("caller",g==null?void 0:g.name,r("IntlVariations").GENDER_UNKNOWN)]),t[13]=g==null?void 0:g.name,t[14]=k):k=t[14];var I;t[15]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"Missed call"),t[15]=I):I=t[15];var T;t[16]!==i||t[17]!==S||t[18]!==l||t[19]!==c||t[20]!==d||t[21]!==C||t[22]!==k||t[23]!==_||t[24]!==f?(T=u.jsx(r("RTWebMDSCallNotificationDialog.react"),{acceptLabel:L,acceptTestid:"missedCallRedial",declineLabel:E,headline:k,isVideoCall:i,metaContent:S,notificationType:l,onAccept:c,onClose:d,onDecline:r("emptyFunction"),profiles:C,threadJid:_,threadType:f,title:I}),t[16]=i,t[17]=S,t[18]=l,t[19]=c,t[20]=d,t[21]=C,t[22]=k,t[23]=_,t[24]=f,t[25]=T):T=t[25];var D;return t[26]!==R||t[27]!==T?(D=u.jsxs(u.Fragment,{children:[R,T]}),t[26]=R,t[27]=T,t[28]=D):D=t[28],D}l.default=c}),226);
__d("useRTWebMissedCallDialog",["RTWebMissedCallDialogContainer.react","ZenonUserActionLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(15),n=e.actorID,a=e.inviterID,i=e.isVideoCall,l=e.notificationType,c=e.onCallback,d=e.participantIDs,m=e.receiverID,p=e.threadJid,_=e.threadType,f=e.timeMissed,g=u(!1),h=g[0],y=g[1],C;t[0]!==n||t[1]!==a||t[2]!==h||t[3]!==i||t[4]!==l||t[5]!==c||t[6]!==d||t[7]!==m||t[8]!==p||t[9]!==_||t[10]!==f?(C=h?s.jsx(r("RTWebMissedCallDialogContainer.react"),{actorID:n,inviterID:a,isVideoCall:i,notificationType:l,onCallback:c,onClose:function(){return y(!1)},participantIDs:d,receiverID:m,threadJid:p,threadType:_,timeMissed:f}):null,t[0]=n,t[1]=a,t[2]=h,t[3]=i,t[4]=l,t[5]=c,t[6]=d,t[7]=m,t[8]=p,t[9]=_,t[10]=f,t[11]=C):C=t[11];var b;t[12]===Symbol.for("react.memo_cache_sentinel")?(b={dismiss:function(){return y(!1)},show:function(){o("ZenonUserActionLogger").logImpression({surface:"missed_call_dialog"}),y(!0)}},t[12]=b):b=t[12];var v;return t[13]!==C?(v=[C,b],t[13]=C,t[14]=v):v=t[14],v}l.default=c}),98);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="10046592332074859"}),null);
__d("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters",["RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("RTWebCometRoomIncomingCallDialog_DisclaimerQuery_facebookRelayOperation"),metadata:{},name:"RTWebCometRoomIncomingCallDialog_DisclaimerQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("RTWebCometRoomIncomingCallDialog.entrypoint",["JSResourceForInteraction","RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:n("RTWebCometRoomIncomingCallDialog_DisclaimerQuery$Parameters"),variables:{nuxID:8259}}}}},root:r("JSResourceForInteraction")("RTWebCometRoomIncomingCallDialogContainer.react").__setRef("RTWebCometRoomIncomingCallDialog.entrypoint")};l.default=e}),98);
__d("useRoomIncomingCallDialog",["CometPlaceholder.react","CometRelay","RTWebCometRoomIncomingCallDialog.entrypoint","RelayHooks","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime","useCometRelayEntrypointContextualEnvironmentProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(16),n=e.inviterID,a=e.linkUrl,l=e.onAccept,c=e.onDecline,d=e.roomName,m=e.sender,p=r("useCometRelayEntrypointContextualEnvironmentProvider")(),_=o("RelayHooks").useEntryPointLoader(p,r("RTWebCometRoomIncomingCallDialog.entrypoint")),f=_[0],g=_[1],h=u(!1),y=h[0],C=h[1],b;t[0]!==f||t[1]!==n||t[2]!==y||t[3]!==a||t[4]!==l||t[5]!==c||t[6]!==d||t[7]!==m?(b=y&&f!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(o("CometRelay").EntryPointContainer,{entryPointReference:f,props:{inviterID:n,linkUrl:a,onAccept:function(){l(),C(!1)},onDecline:function(){c(),C(!1)},roomName:d,sender:m}})}):null,t[0]=f,t[1]=n,t[2]=y,t[3]=a,t[4]=l,t[5]=c,t[6]=d,t[7]=m,t[8]=b):b=t[8];var v;t[9]===Symbol.for("react.memo_cache_sentinel")?(v=function(){return C(!1)},t[9]=v):v=t[9];var S;t[10]!==a||t[11]!==g?(S={dismiss:v,show:function(){g({}),new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_received").setVideoCallLinkURLRaw(a).log(),C(!0)}},t[10]=a,t[11]=g,t[12]=S):S=t[12];var R;return t[13]!==b||t[14]!==S?(R=[b,S],t[13]=b,t[14]=S,t[15]=R):R=t[15],R}l.default=c}),98);
__d("RTWebCometCallMessageLayout.react",["FDSEntityHeaderFacepile.react","FDSProfilePhoto.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="/images/chat/webrtc/no_profile_pic.png";function c(e){var t=o("react-compiler-runtime").c(26),n=e.caller,a=e.mainMessage,i=e.participants,l=e.subMessage,u;t[0]!==i?(u=d(i),t[0]=i,t[1]=u):u=t[1];var c=u,p=i.length>1,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x78zum5 x1q0g3np x1nhvcw1"},t[2]=_):_=t[2];var f;t[3]!==n?(f=m(n),t[3]=n,t[4]=f):f=t[4];var g;t[5]!==f?(g=s.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:60,source:{uri:f}}),t[5]=f,t[6]=g):g=t[6];var h,y;t[7]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x78zum5 xdt5ytf xl56j7k x1hm9lzh"},y={className:"xzsf02u x1lkfr7t x117nqv4 xu06os2"},t[7]=h,t[8]=y):(h=t[7],y=t[8]);var C;t[9]!==a?(C=s.jsx("div",babelHelpers.extends({},y,{children:a})),t[9]=a,t[10]=C):C=t[10];var b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xi81zsa x1nxh6w3 xyqdw3p"},t[11]=b):b=t[11];var v;t[12]!==c||t[13]!==p?(v=p?s.jsx(r("FDSEntityHeaderFacepile.react"),{profiles:c}):null,t[12]=c,t[13]=p,t[14]=v):v=t[14];var S;t[15]!==l?(S=s.jsx("div",{children:l}),t[15]=l,t[16]=S):S=t[16];var R;t[17]!==S||t[18]!==v?(R=s.jsxs("div",babelHelpers.extends({},b,{children:[v,S]})),t[17]=S,t[18]=v,t[19]=R):R=t[19];var L;t[20]!==R||t[21]!==C?(L=s.jsxs("div",babelHelpers.extends({},h,{children:[C,R]})),t[20]=R,t[21]=C,t[22]=L):L=t[22];var E;return t[23]!==L||t[24]!==g?(E=s.jsxs("div",babelHelpers.extends({},_,{children:[g,L]})),t[23]=L,t[24]=g,t[25]=E):E=t[25],E}function d(e){return e.length>0?e.map(function(e){return{name:e.name,pictureURI:m(e),profileURL:"#",size:32}}):[]}function m(e){var t;return(t=e.profilePictureUrl)!=null?t:u}l.default=c}),98);
__d("RTWebMissedCallContent.react",["fbt","FDSProgressIndicator.react","FDSRelativeTimestamp.react","RTWebCometCallMessageLayout.react","ZenonUsersHooks","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(12),n=e.inviterID,a=e.isRoomCall,i=e.isVideoCall,l=e.participantIDs,c=e.timeMissed,d=o("ZenonUsersHooks").useZenonUser(n),m=o("ZenonUsersHooks").useZenonUsers(l),p;t[0]!==m?(p=m.valueSeq().toArray(),t[0]=m,t[1]=p):p=t[1];var _=p,f=l.length>1,g;t[2]!==(d==null?void 0:d.name)||t[3]!==f||t[4]!==a||t[5]!==i?(g=!f||a?s._(/*BTDS*/"You missed a call from {caller name}",[s._param("caller name",d==null?void 0:d.name)]):i?s._(/*BTDS*/"You missed a group video chat from {caller name}",[s._param("caller name",d==null?void 0:d.name)]):s._(/*BTDS*/"You missed a group call from {caller name}",[s._param("caller name",d==null?void 0:d.name)]),t[2]=d==null?void 0:d.name,t[3]=f,t[4]=a,t[5]=i,t[6]=g):g=t[6];var h=g,y;return t[7]!==d||t[8]!==h||t[9]!==_||t[10]!==c?(y=d===null?u.jsx(r("FDSProgressIndicator.react"),{}):u.jsx(r("RTWebCometCallMessageLayout.react"),{caller:d,mainMessage:h,participants:_,subMessage:u.jsx(r("FDSRelativeTimestamp.react"),{date:c,format:"normal"})}),t[7]=d,t[8]=h,t[9]=_,t[10]=c,t[11]=y):y=t[11],y}l.default=c}),226);
__d("RTWebCometRoomMissedCallDialogContainer.react",["fbt","FDSCamcorderFilled16Icon","RTWebCometCallDialog.react","RTWebMissedCallContent.react","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(16),n=e.inviterID,a=e.linkUrl,i=e.onCallback,l=e.onClose,c=e.participantIDs,d=e.roomName,m=e.timeMissed;r("vulture")("MBOQokcMCPyUiByFmspFcQNCTvs=");var p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Join"),t[0]=p):p=t[0];var _;t[1]!==n||t[2]!==c||t[3]!==m?(_=u.jsx(r("RTWebMissedCallContent.react"),{inviterID:n,isRoomCall:!0,isVideoCall:!1,participantIDs:c,timeMissed:m}),t[1]=n,t[2]=c,t[3]=m,t[4]=_):_=t[4];var f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Close"),t[5]=f):f=t[5];var g;t[6]!==a||t[7]!==i||t[8]!==l?(g=function(t){t?(new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_accepted").setVideoCallLinkURLRaw(a).log(),i()):new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed_dialog_dismissed").setVideoCallLinkURLRaw(a).log(),l()},t[6]=a,t[7]=i,t[8]=l,t[9]=g):g=t[9];var h;t[10]!==d?(h=s._(/*BTDS*/"Missed call from {room name}",[s._param("room name",d)]),t[10]=d,t[11]=h):h=t[11];var y;return t[12]!==_||t[13]!==g||t[14]!==h?(y=u.jsx(r("RTWebCometCallDialog.react"),{acceptIcon:r("FDSCamcorderFilled16Icon"),acceptLabel:p,body:_,declineLabel:f,onClose:g,title:h}),t[12]=_,t[13]=g,t[14]=h,t[15]=y):y=t[15],y}l.default=c}),226);
__d("useRoomMissedCallDialog",["RTWebCometRoomMissedCallDialogContainer.react","VideoChatLinksUserActionsMultiplexLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState;function c(e){var t=o("react-compiler-runtime").c(14),n=e.inviterID,a=e.linkUrl,i=e.onCallback,l=e.participantIDs,c=e.roomName,d=e.timeMissed,m=u(!1),p=m[0],_=m[1],f;t[0]!==n||t[1]!==p||t[2]!==a||t[3]!==i||t[4]!==l||t[5]!==c||t[6]!==d?(f=p?s.jsx(r("RTWebCometRoomMissedCallDialogContainer.react"),{inviterID:n,linkUrl:a,onCallback:i,onClose:function(){return _(!1)},participantIDs:l,roomName:c,timeMissed:d}):null,t[0]=n,t[1]=p,t[2]=a,t[3]=i,t[4]=l,t[5]=c,t[6]=d,t[7]=f):f=t[7];var g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g=function(){return _(!1)},t[8]=g):g=t[8];var h;t[9]!==a?(h={dismiss:g,show:function(){new(r("VideoChatLinksUserActionsMultiplexLogger"))().setSurface("vcl_meetups_notification").setEvent("room_ringback_missed").setVideoCallLinkURLRaw(a).log(),_(!0)}},t[9]=a,t[10]=h):h=t[10];var y;return t[11]!==f||t[12]!==h?(y=[f,h],t[11]=f,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("useZenonDialogController",["react","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e,t){var n=c(null),o=n[0],a=n[1],i=r("usePrevious")(e);u(function(){var n;(e==null?void 0:e.ringID)===(i==null?void 0:i.ringID)&&(e==null?void 0:e.type)===(i==null?void 0:i.type)||(o!=null&&(o.dismiss(),a(null)),e!==null&&(a(t),(n=t())==null||n.show()))},[o,t,e,i])}l.default=d}),98);
__d("RTWebCometCallInviteDialogs.react",["Actor","FBLogger","RTWebDropInUtils","RTWebIncomingRingConfiguration","RTWebPreCallContext","RTWebPreCallHooks","ServerTime","StartVideoChatLinkCall","getErrorSafe","react","react-compiler-runtime","useRTWebIncomingCallDialog","useRTWebIncomingUnsupportedBrowserDialog","useRTWebMissedCallDialog","useRoomIncomingCallDialog","useRoomMissedCallDialog","useZenonDialogController"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext;function c(e){var t,n,a,i,l=o("react-compiler-runtime").c(60),c=e.invite,p=o("Actor").useActor(),_=p[0],f=u(r("RTWebPreCallContext")),g=o("RTWebPreCallHooks").useStartCallCallback(),h=f?f.callInviteModel:null,y;if(l[0]!==(c==null?void 0:c.participants)){var C;y=(C=c==null?void 0:c.participants)!=null?C:[],l[0]=c==null?void 0:c.participants,l[1]=y}else y=l[1];var b=y,v=(t=c==null?void 0:c.isE2eeMandated)!=null?t:!1,S=(n=c==null?void 0:c.inviterID)!=null?n:"",R=(a=c==null?void 0:c.requestingVideo)!=null?a:!1,L=null,E,k;if(l[2]!==c){if(E="",k="",(c==null?void 0:c.context.type)==="room"){var I,T;L=c.context.room,E=(I=L.linkHash)!=null?I:"",k=(T=L.roomName)!=null?T:""}l[2]=c,l[3]=E,l[4]=k,l[5]=L}else E=l[3],k=l[4],L=l[5];var D=o("RTWebPreCallHooks").useAcceptCallCallback(!1),x;if(l[6]!==h||l[7]!==S||l[8]!==E||l[9]!==b||l[10]!==k){var $;l[12]===Symbol.for("react.memo_cache_sentinel")?($=new Date(o("ServerTime").getMillis()),l[12]=$):$=l[12],x={inviterID:S,linkUrl:E,onCallback:function(){o("StartVideoChatLinkCall").startCall(E,!0,!0),h==null||h.dismiss()},participantIDs:b,roomName:k,timeMissed:$},l[6]=h,l[7]=S,l[8]=E,l[9]=b,l[10]=k,l[11]=x}else x=l[11];var P=r("useRoomMissedCallDialog")(x),N=P[0],M=P[1],w=c==null?void 0:c.type,A;l[13]!==D||l[14]!==h||l[15]!==c||l[16]!==S||l[17]!==v||l[18]!==R||l[19]!==b||l[20]!==w?(A={inviterID:S,isE2EECall:v,isVideoCall:R,notificationType:w,onAccept:function(){D({trigger:"comet_incoming_dialog_accept_button"}).catch(m)},onDecline:function(){h==null||h.decline("IgnoreCall")},participantIDs:b,threadJid:(c==null?void 0:c.context.type)==="thread"?c.context.thread.id:null,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:null},l[13]=D,l[14]=h,l[15]=c,l[16]=S,l[17]=v,l[18]=R,l[19]=b,l[20]=w,l[21]=A):A=l[21];var F=r("useRTWebIncomingCallDialog")(A),O=F[0],B=F[1],W;l[22]!==h||l[23]!==c||l[24]!==S||l[25]!==v||l[26]!==R||l[27]!==b?(W={inviterID:S,isE2EECall:v,isVideoCall:R,onClose:function(){h==null||h.dismiss()},participantIDs:b,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:2},l[22]=h,l[23]=c,l[24]=S,l[25]=v,l[26]=R,l[27]=b,l[28]=W):W=l[28];var q=r("useRTWebIncomingUnsupportedBrowserDialog")(W),U=q[0],V=q[1],H;if(l[29]!==h||l[30]!==S||l[31]!==E||l[32]!==((i=L)==null?void 0:i.sender)||l[33]!==k){var G,z,j;H={inviterID:S,linkUrl:E,onAccept:function(){o("StartVideoChatLinkCall").startCall(E,!0,!0)},onDecline:function(){h==null||h.decline("IgnoreCall")},roomName:k,sender:(G=(z=L)==null?void 0:z.sender)!=null?G:""},l[29]=h,l[30]=S,l[31]=E,l[32]=(j=L)==null?void 0:j.sender,l[33]=k,l[34]=H}else H=l[34];var K=r("useRoomIncomingCallDialog")(H),Q=K[0],X=K[1],Y=c==null?void 0:c.type,J;if(l[35]!==_||l[36]!==h||l[37]!==c||l[38]!==S||l[39]!==R||l[40]!==b||l[41]!==g||l[42]!==Y){var Z;l[44]===Symbol.for("react.memo_cache_sentinel")?(Z=new Date(o("ServerTime").getMillis()),l[44]=Z):Z=l[44],J={actorID:_,inviterID:S,isVideoCall:R,notificationType:Y,onCallback:function(){if((c==null?void 0:c.context.type)==="thread"){var e,t,n=c==null?void 0:c.context.thread;g({existingCall:null,invitees:[(e=c==null?void 0:c.inviterID)!=null?e:""].concat(b.filter(function(e){return e!==_})),isE2eeMandated:(t=c==null?void 0:c.isE2eeMandated)!=null?t:!1,mediaType:c!=null&&c.requestingVideo?"video":"audio",thread:n,trigger:"comet_missed_call_dialog"}).catch(d)}h==null||h.dismiss()},participantIDs:b,threadJid:(c==null?void 0:c.context.type)==="thread"?c.context.thread.id:null,threadType:(c==null?void 0:c.context.type)==="thread"?c.context.thread.type:null,timeMissed:Z},l[35]=_,l[36]=h,l[37]=c,l[38]=S,l[39]=R,l[40]=b,l[41]=g,l[42]=Y,l[43]=J}else J=l[43];var ee=r("useRTWebMissedCallDialog")(J),te=ee[0],ne=ee[1],re;l[45]!==h||l[46]!==B||l[47]!==V||l[48]!==c||l[49]!==v||l[50]!==ne||l[51]!==X||l[52]!==M?(re=function(){if(c===null||h==null||o("RTWebDropInUtils").isDropInFromAppMessages(c==null?void 0:c.controllerParams.appMessages))return null;if(v&&!o("RTWebIncomingRingConfiguration").isE2EESupportedClient())return V;if(c.context.type==="room")switch(c.type){case"ringing":return X;case"missed":return M;default:return null}switch(c.type){case"ringing":return B;case"missed":return c.context.type==="thread"?ne:null;case"unsupported_browser":return V;default:return null}},l[45]=h,l[46]=B,l[47]=V,l[48]=c,l[49]=v,l[50]=ne,l[51]=X,l[52]=M,l[53]=re):re=l[53],r("useZenonDialogController")(c,re);var oe;return l[54]!==O||l[55]!==U||l[56]!==te||l[57]!==Q||l[58]!==N?(oe=s.jsxs(s.Fragment,{children:[O,te,U,N,Q]}),l[54]=O,l[55]=U,l[56]=te,l[57]=Q,l[58]=N,l[59]=oe):oe=l[59],oe}function d(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).mustfix("Failed to start call from missed call dialog")}function m(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).mustfix("Failed to accept call from incoming dialog")}l.default=c}),98);
__d("useZenonRingTone",["RTCSounds","Sound","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=[o("RTCSounds").ringtone_mp3_url,o("RTCSounds").ringtone_ogg_url];function c(e){e===void 0&&(e=!1),s(function(){if(e)return o("Sound").play(u,null,!0),function(){o("Sound").stop(u)}},[e])}l.default=c}),98);
__d("ZenonCallInviteRingtone.react",["ZenonProductConnectFunnel","react","react-compiler-runtime","useZenonRingTone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(4),n=e.invite,a;t[0]!==(n==null?void 0:n.type)?(a=function(){(n==null?void 0:n.type)==="ringing"&&r("ZenonProductConnectFunnel").setUIRinging()},t[0]=n==null?void 0:n.type,t[1]=a):a=t[1];var i;return t[2]!==n?(i=[n],t[2]=n,t[3]=i):i=t[3],s(a,i),r("useZenonRingTone")((n==null?void 0:n.type)==="ringing"),null}l.default=u}),98);
__d("useDocumentTitleBlink",["DocumentTitle","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(3),n,a;t[0]!==e?(n=function(){if(e!=null){var t=r("DocumentTitle").blink(e);return(function(){t.stop()})}},a=[e],t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),s(n,a)}l.default=u}),98);
__d("ZenonCallInviteTitleBlinking.react",["fbt","ZenonUsersHooks","react","react-compiler-runtime","useDocumentTitleBlink"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.invite,r;return t[0]!==n?(r=n!==null&&n.type==="ringing"&&n.inviterID!=null?u.jsx(d,{inviterID:n.inviterID}):null,t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=e.inviterID,a=o("ZenonUsersHooks").useZenonUser(n),i;return t[0]!==a?(i=a?s._(/*BTDS*/"{name} is calling",[s._param("name",a.shortName)]):null,t[0]=a,t[1]=i):i=t[1],r("useDocumentTitleBlink")(i),null}l.default=c}),226);
__d("useMWPParticipantsHasSpectraUsers",["I64","LSContactTypeExact","LSIntEnum","ReQL","ReQLSuspense","gkx","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=(u||(u=r("useReStore")))(),l;n[0]!==a.tables.contacts||n[1]!==t?(l=function(){var n=new Set(t);return o("ReQL").fromTableAscending(a.tables.contacts).filter(function(t){return n.has((e||(e=o("I64"))).to_string(t.id))&&(e||(e=o("I64"))).equal(t.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_SPECTRA))})},n[0]=a.tables.contacts,n[1]=t,n[2]=l):l=n[2];var c;n[3]!==a||n[4]!==t?(c=[a,t],n[3]=a,n[4]=t,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(l,c,i.id+":33");return d!=null&&r("gkx")("18988")}l.default=c}),98);
__d("RTWebCometCallInviteController.react",["RTWebCallBlockSettingHooks","RTWebCallInviteDesktopNotification.react","RTWebCometCallInviteDialogs.react","RTWebPreCallHooks","ZenonCallInviteRingtone.react","ZenonCallInviteTitleBlinking.react","react","react-compiler-runtime","requireDeferred","useMWPParticipantsHasSpectraUsers"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("FBRTCCallSummaryUploader").__setRef("RTWebCometCallInviteController.react");u.onReady(function(e){e.init()});function c(){var e=o("react-compiler-runtime").c(9);o("RTWebCallBlockSettingHooks").useCallBlockSetting(),o("RTWebPreCallHooks").useNoAnswerTimeout();var t=o("RTWebPreCallHooks").useCallInvite(),n;if(e[0]!==(t==null?void 0:t.participants)){var a;n=(a=t==null?void 0:t.participants)!=null?a:[],e[0]=t==null?void 0:t.participants,e[1]=n}else n=e[1];var i;e[2]!==t?(i=(t==null?void 0:t.inviterID)!=null?[t.inviterID]:[],e[2]=t,e[3]=i):i=e[3];var l;e[4]!==n||e[5]!==i?(l=[].concat(n,i),e[4]=n,e[5]=i,e[6]=l):l=e[6];var u=l,c=r("useMWPParticipantsHasSpectraUsers")(u);if(c)return null;var d;return e[7]!==t?(d=s.jsxs(s.Fragment,{children:[s.jsx(r("RTWebCometCallInviteDialogs.react"),{invite:t}),s.jsx(r("RTWebCallInviteDesktopNotification.react"),{invite:t}),s.jsx(r("ZenonCallInviteRingtone.react"),{invite:t}),s.jsx(r("ZenonCallInviteTitleBlinking.react"),{invite:t})]}),e[7]=t,e[8]=d):d=e[8],d}l.default=c}),98);
__d("RTWebIncomingCallDialogContainerLazy.react",["JSResourceForInteraction","lazyLoadComponent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("lazyLoadComponent")(r("JSResourceForInteraction")("RTWebIncomingCallDialogContainer.react").__setRef("RTWebIncomingCallDialogContainerLazy.react")),s=e;l.default=s}),98);
__d("VenusFlytrapLoggingEntrypoint",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({OMNI_PRESENT_BUGNUB:"omni_present_bugnub",TOP_NAVIGATION_SETTINGS:"top_navigation_settings",KEYBOARD_SHORTCUT:"keyboard_shortcut",FACEBOOK_COMPOSER:"facebook_composer",INTERNAL_REACT_ERROR_DIALOG:"internal_react_error_dialog"}),l=e;i.default=l}),66);
__d("ZenonCallInviteModelTypes",[],(function(t,n,r,o,a,i){"use strict";var e={missed:"missed",ringing:"ringing",unsupported_browser:"unsupported_browser"};i.CallInviteModelType=e}),66);
__d("ZenonCallInviteModel",["BaseEventEmitter","FBLogger","ZenonCallInviteModelTypes","ZenonIncomingRingSDKTypes"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.$ZenonCallInviteModel$p_2=function(e){if(r("FBLogger")("rtc_www").info("Received cancel for: ",e.ringID),n.__currentRequest&&n.__currentRequest.model&&n.__currentRequest.model.ringID===e.ringID)switch(e.reason){case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.Hangup:{var t,a=((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!==o("ZenonCallInviteModelTypes").CallInviteModelType.unsupported_browser;n.__currentRequest.model=babelHelpers.extends({},n.__currentRequest.model,{type:"missed"}),a&&n.emit("callInvite",n.__currentRequest.model);break}case o("ZenonIncomingRingSDKTypes").ZenonCancelReason.OtherDismiss:n.dismiss();break}},n.$ZenonCallInviteModel$p_1=function(e){var t;r("FBLogger")("rtc_www").info("Receiving ring: ",e.ringID),((t=n.__currentRequest)==null||(t=t.model)==null?void 0:t.type)!=="ringing"&&(n.__currentRequest={model:{actorID:e.actorID,context:e.context,controllerParams:e.controllerParams,inviterID:e.inviterID,isE2eeMandated:e.isE2eeMandated,participants:e.otherParticipants,receiverUserId:e.receiverUserId,requestingVideo:e.requestingVideo,ringID:e.ringID,ringRequest:e.ringRequest,type:e.isClientPermissableRing?"ringing":"unsupported_browser"},ringPayload:e},n.emit("callInvite",n.__currentRequest.model),e.isClientPermissableRing||e.onDecline("VersionUnsupported"))},n.__eventSource=t,n.__currentRequest=null,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getCurrentInvite=function(){var e,t;return(e=(t=this.__currentRequest)==null?void 0:t.model)!=null?e:null},n.startListening=function(t){var e=t.callsBlocked;this.__currentRequest&&this.dismiss(),this.stopListening(),e||(this.__eventSource.addListener("incomingRing",this.$ZenonCallInviteModel$p_1),this.__eventSource.addListener("ringCancel",this.$ZenonCallInviteModel$p_2))},n.stopListening=function(){this.__eventSource.removeAllListeners("incomingRing"),this.__eventSource.removeAllListeners("ringCancel"),this.__currentRequest=null},n.dismiss=function(){var e;r("FBLogger")("rtc_www").info("Dismissing ring: ",(e=this.__currentRequest)==null||(e=e.model)==null?void 0:e.ringID),this.__currentRequest=null,this.emit("callInvite",null)},n.accept=function(t,n){var e=this.__currentRequest;if(e){var o,a;r("FBLogger")("rtc_www").info("Accepting ring: ",(o=e.model)==null?void 0:o.ringID),((a=e.model)==null?void 0:a.type)==="ringing"&&e.ringPayload.onAccept(t,n),this.dismiss()}},n.decline=function(t,n){t===void 0&&(t="IgnoreCall");var e=this.__currentRequest;if(e){var o;r("FBLogger")("rtc_www").info("Declining ring: ",(o=e.model)==null?void 0:o.ringID),e.ringPayload.onDecline(t,n),this.dismiss();return}},t})(r("BaseEventEmitter"));l.default=e}),98);
__d("ZenonCallWindowController",["FBLogger","Promise","ZenonCallWindowErrors","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){var n=t.callWindowInitializerResource,r=t.callWindowOpener,o=t.uriBuilderResource;this.$2=null,this.$3=!1,this.$5=null,this.$1=e,this.$7=o,this.$4=n,this.$6=r}var a=t.prototype;return a.initCall=function(a){var t=this;if(this.$3)throw new(o("ZenonCallWindowErrors")).OpeningAnotherCallError;try{if(this.$2&&!this.$2.closed&&a.joinContext.type==="thread"){var i=a.joinContext.thread,l=i.type===15?i.secureOneToOneThreadPeerId:i.type===16?i.e2eeThreadID:i.id;if(this.$2.inCallWith===l)return this.$2.focus(),[this.$2,(e||(e=n("Promise"))).resolve({alohaEscalatedMW:!1})]}}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access inCallWith on call window")}var s=this.$6.openWindow(a);try{this.$2&&(this.$2.closed||this.$2.close(),this.$2=null)}catch(e){r("FBLogger")("rtc_www").catching(r("getErrorSafe")(e)).warn("Failed to access close on call window")}return this.$2=s,this.$3=!0,[s,(e||(e=n("Promise"))).all([this.$7.load(),this.$4.load()]).then(function(e){var n=e[0],r=e[1];return t.$5===null&&(t.$5=new r(t.$1,new n(t.$1))),t.$5.initCall(t.$2,a)}).finally(function(){t.$3=!1})]},t})();l.default=s}),98);
__d("ZenonParentClientPerfQPLLogProcessor",["Promise","QuickPerformanceLogger","ZenonClientPerfQPLConstants","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){var t=r("qpl")._(41156610,"2039");switch(a.name){case"inviteReceived":this.$2=a.serverInfoData,(s||(s=r("QuickPerformanceLogger"))).markerStartFromNavStart(t,+this.$3),(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{bool:{isE2eeMandated:this.$4},string:{local_call_id:this.$1,server_info_data:this.$2}},{instanceKey:+this.$3});break;case"callEnded":(s||(s=r("QuickPerformanceLogger"))).markerAnnotate(t,{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},{instanceKey:+this.$3}),(s||(s=r("QuickPerformanceLogger"))).markerEnd(t,4,+this.$3);break;case"popupOpened":(s||(s=r("QuickPerformanceLogger"))).markerPoint(t,o("ZenonClientPerfQPLConstants").POINT_ZENON_POPUP_OPENED,{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),c={LogProcessor:u};l.ZenonParentClientPerfQPLLogProcessor=u,l.ZenonParentClientPerfQPLLogProcessorConfig=c}),98);
__d("ZenonParentLSCallSummaryLogProcessor",["ODS","ZenonDismissReason","ZenonInfraActionsLogger","ZenonLSCallStartEventManager","ZenonLSCallStartEventStore","ZenonLSCallSummary","ZenonLSCallSummaryStore","ZenonLSE2EEStatsManager","ZenonLSE2EEStore","ZenonLSPeerConnectionSummary","ZenonLSPeerConnectionSummaryStore","ZenonLSStarRatingsManager","ZenonLSStarRatingsStore","ZenonPeerID"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data;t.peerID=o("ZenonPeerID").ZenonMWPeerID,this.$6=t.protocol,this.$1=new(r("ZenonLSCallSummary"))(t),this.$2=new(r("ZenonLSPeerConnectionSummary"))(t),this.$3=new(r("ZenonLSCallStartEventManager"))(t),this.$4=new(r("ZenonLSE2EEStatsManager"))(t),this.$5=new(r("ZenonLSStarRatingsManager"))(t),r("ZenonInfraActionsLogger").logCheckpointEmployeesTestUsersOnly({checkpoint:"NSL - created call summaries in parent window"})}var n=t.prototype;return n.processEvent=async function(t){switch(t.name){case"callAccepted":this.$1.onCallAccepted(t.trigger),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break;case"callEnded":await this.$7(t);break;case"inviteReceived":this.$8(t);break;case"popupOpened":await this.$9(t),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance);break}},n.$8=function(t){var e=t.serverInfoData;e!=null&&(this.$1.setSharedCallId(e),this.$2.setSharedCallId(e),this.$3.setSharedCallId(e),this.$4.setSharedCallId(e))},n.$9=async function(t){await this.$1.onCallEnded(o("ZenonDismissReason").ZenonDismissReason.ClientError,!1,!0,t.isPopupBlocked?"PopupBlocked":"PopupPending"),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance)},n.$7=async function(n){if(!n.isRemoteEnded){var t=n.endCallReason,r=n.endCallSubreason,a=n.isRemoteEnded;t===o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled&&a||(t===o("ZenonDismissReason").ZenonDismissReason.ClientError&&(e||(e=o("ODS"))).bumpEntityKey(4083,"zenon_client_crashes","zenon_client_error_end_call_reason"),await this.$1.onCallEnded(t,a,!1,r),this.$1.save(o("ZenonLSCallSummaryStore").ZenonLSCallSummaryStoreInstance),this.$2.save(o("ZenonLSPeerConnectionSummaryStore").ZenonLSPeerConnectionSummaryStoreInstance),this.$3.save(o("ZenonLSCallStartEventStore").ZenonLSCallStartEventStoreInstance),this.$4.save(o("ZenonLSE2EEStore").ZenonLSE2EEStoreInstance),this.$5.save(o("ZenonLSStarRatingsStore").ZenonLSStarRatingsStoreInstance))}},t})(),u={LogProcessor:s};l.ZenonParentLSCallSummaryLogProcessor=s,l.ZenonParentLSCallSummaryLogProcessorConfig=u}),98);
__d("ZenonParentQPLLogProcessor",["Promise","QPLUserFlow","ZenonDismissReason","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e){var t=e.data,n=e.isE2eeMandated;this.$1=t.localCallID,this.$2=t.serverInfoData,this.$3=t.signalingID,this.$4=n}var a=t.prototype;return a.processEvent=function(a){switch(a.name){case"inviteReceived":r("QPLUserFlow").start(r("qpl")._(64225282,"3408"),{annotations:{bool:{isE2eeMandated:this.$4}},instanceKey:+this.$3}),r("QPLUserFlow").start(r("qpl")._(398997251,"1544"),{annotations:{bool:{isE2eeMandated:this.$4},string:{localCallID:this.$1,serverInfoData:this.$2}},instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_received",{instanceKey:+this.$3});break;case"callEnded":if(r("QPLUserFlow").endCancel(r("qpl")._(398997251,"1544"),{annotations:{string:{endCallReason:o("ZenonDismissReason").ZenonDismissReason.getName(a.endCallReason),endCallSubreason:a.endCallSubreason}},instanceKey:+this.$3}),a.isRemoteEnded)return(e||(e=n("Promise"))).resolve();r("QPLUserFlow").endCancel(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3});break;case"callAccepted":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"call_accepted",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"call_accepted",{instanceKey:+this.$3});break;case"dismissRecv":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"dismiss_recv",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"dismiss_recv",{instanceKey:+this.$3});break;case"inviteResponded":r("QPLUserFlow").addPoint(r("qpl")._(64225282,"3408"),"invite_responded",{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"invite_responded",{instanceKey:+this.$3});break;case"popupOpened":r("QPLUserFlow").endSuccess(r("qpl")._(64225282,"3408"),{instanceKey:+this.$3}),r("QPLUserFlow").addPoint(r("qpl")._(398997251,"1544"),"popup_opened",{instanceKey:+this.$3});break}return(e||(e=n("Promise"))).resolve()},t})(),u={LogProcessor:s};l.ZenonParentQPLLogProcessor=s,l.ZenonParentQPLLogProcessorConfig=u}),98);
__d("ZenonParentSignalingClient",["FBLogger","Promise","ZenonDebugLogger","ZenonSignalingTypes","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n,o){var a=this;this.remoteSignalingID=null,this.$4="init",this.$6=null,this.$7=null,this.$8=function(){},this.$9=function(e,t,n){switch(r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",a.$4,"received "+e.eventName,a.$1.getSignalingID()),e.eventName){case"inviteRequest":a.$11(e,t,n);break;case"remoteSdpRequest":a.$12(e,t);break;case"terminateRequest":a.$13(e,t,n);break}},this.$1=e,this.$3=n,this.$5=o,this.$2=t,t.setReceiver(this.$9),r("ZenonDebugLogger").getInstance().startQPL(r("qpl")._(64234815,"1094"),+e.getSignalingID())}var a=t.prototype;return a.setSignalingEventHandlers=function(t){if(this.$6!=null){r("FBLogger")("rtc_www").mustfix("setSignalingEventHandlers should only be called once, to avoid accidentally losing handlers.");return}this.$6=t},a.setLoggingEventHandler=function(t){this.$8=t},a.setSecureDataMessageManager=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("setSecureDataMessageManager called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.getSignalingModel=function(){return this.$1},a.processReceiveEvent=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("processReceiveEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendDismiss=function(t){this.$4="terminated";var e={eventName:"terminateRequest",fromJoinResponse:!1,reason:t,shouldInformPeer:!0};return this.$10(e)},a.receiveMessage=function(t){this.$2.receiveMessage(t)},a.isTerminated=function(){return this.$4==="terminated"},a.isAnswered=function(){return this.$4==="answered"},a.sendAnswerIntent=function(){if(this.$4==="inviteAcknowledged"){this.$4="answered";var e={eventName:"answerIntentRequest"};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("sendAnswerIntent called in unexpected state %s",this.$4)},a.respondToInvite=function(t){if(this.$4==="inviteReceived"){if(this.$7==null)throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called without inviteMessageId being populated first");this.$4="inviteAcknowledged";var e={ackMessageId:this.$7,eventName:"inviteResponse",status:t};return this.$10(e)}else throw r("FBLogger")("rtc_www").mustfixThrow("respondToInvite called in unexpected state %s",this.$4)},a.initiateClientRenegotiation=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("initiateClientRenegotiation called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientEvent=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientEvent called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendInvite=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendInvite called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSdp=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendSdp called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendIceCandidate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendIceCandidate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendMediaUpdate=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendMediaUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendAddParticipantsMessage=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendAddParticipantsMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendRemoveParticipantsRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendRemoveParticipantsRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendUsersApprovalRequest=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendUsersApprovalRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUnsubscribe=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUnsubscribe called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendStateSyncUpdate=function(t,n){throw r("FBLogger")("rtc_www").mustfixThrow("sendStateSyncUpdate called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendSubscriptionRequest=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendSubscriptionRequest called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendClientInfo=function(t){throw r("FBLogger")("rtc_www").mustfixThrow("sendClientInfo called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.sendGenericDataMessage=function(t,n,o){throw r("FBLogger")("rtc_www").mustfixThrow("sendGenericDataMessage called on ZenonParentSignalingClient. Did you mean to use ZenonSignalingClient instead?")},a.silentlyTerminate=function(){return this.$4="terminated",(e||(e=n("Promise"))).resolve()},a.$10=function(o){var t=this;return r("ZenonDebugLogger").getInstance().logStateMachine("ParentSignalingClient",this.$4,"sending "+o.eventName,this.$1.getSignalingID()),new(e||(e=n("Promise")))(function(e,n){return t.$3.sendEvent(o,e,n)})},a.$11=function(t,n,r){this.$4==="init"&&(this.$4="inviteReceived",this.$7=n,this.$5(t,r,this))},a.$13=function(t,n,o){if(this.$4!=="terminated"){this.$4="terminated";var e={ackMessageId:n,eventName:"dismissResponse"};if(this.$3.sendEvent(e),this.$6&&this.$6.onDismissReceived){var a;r("promiseDone")(this.$6.onDismissReceived(this.$1.getSignalingID(),t.reason,(a=t.subreason)!=null?a:null,t.detailedReasonFromMW))}}},a.$12=function(t,n){var e={ackMessageId:n,acknowledgedVersion:t.sdp.version,eventName:"remoteSdpResponse",negotiateType:t.negotiateType,statusCode:o("ZenonSignalingTypes").ZenonSignalingStatusCode.OK,type:t.sdp.type};this.$3.sendEvent(e)},t})();l.default=s}),98);
__d("ZenonSignalingParentTransport",["FBLogger","MultiwaySharedTypes","QuickPerformanceLogger","RTWebIncomingRingConfiguration","Random","URI","ZenonBrowsers","ZenonE2eeMandatedStateManager","ZenonIGMediaUtil","ZenonProductConnectFunnel","ZenonSignalingTransportTypes","isFacebookishURI","performanceNow","shouldUseSFUMediaPath"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=45e3,d=(function(){function t(e){var t=this;this.verificationNonce=null,this.portToChild=null,this.$1=null,this.$2=null,this.localCallID=null,this.$3=new Map,this.$4=new Map,this.$5=window,e!=null&&(this.$5=e),o("RTWebIncomingRingConfiguration").isSupportedClient()&&this.$5.addEventListener&&this.$5.addEventListener("message",function(e){t.handleWindowMessageFromChild(e)},!1)}var n=t.prototype;return n.handleWindowMessageFromChild=function(t){var e=this;if(this.windowMessageValid(t)&&t.data.type===o("ZenonSignalingTransportTypes").ChildTransportMessageType.CHILD_WINDOW_READY&&this.hasPort(t)){var n,r=(n=t.data.roomID)!=null?n:null,a=t.data.serverInfoData;this.portToChild=t.ports[0];var i=t.data.childNonce;this.$2=i,this.$5.clearTimeout(this.$1),this.$1=this.$5.setTimeout(function(){e.portToChild=null},c),this.verificationNonce=this.generateNonce(),this.startCallInChildWindow(r,a),this.sendQPLToChildWindow(),this.sendPCFToChildWindow(),this.sendLogIdentifiersToChildWindow(this.localCallID)}},n.generateNonce=function(){return String(o("Random").random())},n.hasPort=function(t){return!!(t.ports!=null&&Array.isArray(t.ports)&&t.ports[0]!=null)},n.getRingRequestBySID=function(t){var e,n=m((e=this.$4.get(t))!=null?e:null);return{mwThriftRingRequest:n}},n.startCallInChildWindow=function(t,n){var e=null;if(n!==void 0){if(n!=null){var r=this.getRingRequestBySID(n);e=r.mwThriftRingRequest}}else if(t!=null){var a;e=m((a=this.$3.get(t))!=null?a:null)}var i={mwThriftRingRequest:e,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_INITIATED_CALL};this.sendMessageToChild(i)},n.sendQPLToChildWindow=function(){var t=new Map;if((e||(e=r("QuickPerformanceLogger"))).activeMarkers.forEach(function(e,n){(n===398997251||n===41156610)&&t.set(n,e)}),t.size>0){var n={markers:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_QPL_MARKER,version:2};this.sendMessageToChild(n),t.forEach(function(t){for(var n of t){var o=n[0],a=n[1];(e||(e=r("QuickPerformanceLogger"))).markerDrop(a.event,o)}})}},n.sendPCFToChildWindow=function(){var e=Math.trunc((s||(s=r("performanceNow")))()),t=r("ZenonProductConnectFunnel").getPreJoinTimings(),n=t.acceptedTs,a=t.ringingTs,i=t.triggeredTs,l={acceptedTs:n!=null?n-e:null,nonce:this.$2,ringingTs:a!=null?a-e:null,triggeredTs:i!=null?i-e:null,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_PCF_TIMINGS};this.sendMessageToChild(l),r("ZenonProductConnectFunnel").clearPreJoinTimings()},n.sendLogIdentifiersToChildWindow=function(t){var e={localCallID:t,nonce:this.$2,type:o("ZenonSignalingTransportTypes").ChildTransportMessageType.PARENT_LOG_IDENTIFIERS};this.sendMessageToChild(e)},n.windowMessageValid=function(t){return!!(t.origin===this.$5.location.origin||r("isFacebookishURI")(new(u||(u=r("URI")))(t.origin))&&r("isFacebookishURI")(new(u||(u=r("URI")))(this.$5.location.origin)))&&this.postMessageValid(t)},n.postMessageValid=function(t){var e;return this.verificationNonce!==null&&(t==null||(e=t.data)==null?void 0:e.nonce)===this.verificationNonce},n.sendMessageToChild=function(t){this.portToChild!=null?this.portToChild.postMessage(t):r("FBLogger")("rtc_www").mustfix("The child window port should be available")},n.enqueueRawMWThriftMessage=function(t,n){var e=t.messageBody,r=t.messageHeader,o=e.ringRequest;if(o){var a=r.conferenceName,i=r.serverInfoData;a!=null&&this.$3.set(a,{parsedMessage:n,rawMessage:t}),i!=null&&this.$4.set(i,{parsedMessage:n,rawMessage:t})}},n.testGetChildNonce=function(){return this.$2},t})();function m(e){var t,n,a,i;if(e==null)return null;var l=e.parsedMessage,s=e.rawMessage;if(l==null)return null;var u=_(l);if((u==null?void 0:u.eventName)!=="inviteRequest")return null;var c=(t=(n=s.messageBody.ringRequest)==null?void 0:n.isLegacyCall)!=null?t:!1,d=((a=s.messageBody.ringRequest)==null||(a=a.e2eeEnforcement)==null?void 0:a.mode)===o("MultiwaySharedTypes").E2eeMode.E2EE_MANDATED;return r("ZenonE2eeMandatedStateManager").processE2eeMandatedStateFromProductAndRing(d,(i=s.messageBody.ringRequest)==null||(i=i.e2eeEnforcement)==null?void 0:i.infraMandatedExpStatus),f(c)?s:g(s)}function p(e){return o("ZenonBrowsers").isFirefox()||r("shouldUseSFUMediaPath")(e)||r("ZenonIGMediaUtil").shouldUseSFUOnly()}function _(e){var t=e.getEvents().find(function(e){return e.eventName==="inviteRequest"});return t}function f(e){return e||!p(!1)}function g(e){var t;return(t=e.messageBody.ringRequest)==null||delete t.offer,e}l.default=d}),98);
__d("ZenonParentCallsManager",["BaseEventEmitter","FBLogger","JSResource","JSResourceForInteraction","LazyLoadInstance","MultiwayCommonTypes","OverlayConfigManagerWithServerLayer","Promise","RTWebIncomingRingConfiguration","ZenonActorHooks","ZenonBrowsers","ZenonCallLogger","ZenonCallsModelTypes","ZenonCollisionContext","ZenonDGWSharedWorkerUtils","ZenonDGWUtils","ZenonDeviceId","ZenonDismissReason","ZenonMessageSenderChain","ZenonMqttMWThriftMessageSender","ZenonParentClientPerfQPLLogProcessor","ZenonParentLSCallSummaryLogProcessor","ZenonParentQPLLogProcessor","ZenonParentSignalingClient","ZenonSDKRateLimiter","ZenonSharedWorkerConstants","ZenonSignalingParentTransport","promiseDone","qex","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s=r("JSResourceForInteraction"))("setE2eeIsMandatedForZenonLoggers").__setRef("ZenonParentCallsManager"),c=s("ZenonGraphQLMWThriftMessageSender").__setRef("ZenonParentCallsManager"),d=s("ZenonDGWMWThriftMessageSender").__setRef("ZenonParentCallsManager"),m=s("ZenonDGWStreamController").__setRef("ZenonParentCallsManager"),p=(function(t){function a(a){var i;i=t.call(this)||this,i.$ZenonParentCallsManager$p_4=new Map,i.$ZenonParentCallsManager$p_5=new Set,i.$ZenonParentCallsManager$p_6=null,i.$ZenonParentCallsManager$p_8=[],i.$ZenonParentCallsManager$p_10=null,i.$ZenonParentCallsManager$p_11=null,i.onInviteReceived=function(e,t,n){var a,l,s,u,c,d,m,p=n.getSignalingModel().getSignalingID();n.setSignalingEventHandlers({onDismissReceived:i.onDismissReceived});var _=e.appMessages,f=e.inviterID,g=e.isE2eeMandated,h=e.otherParticipants,y=e.requestingVideo,C=e.roomInfo,b=e.serverInfoData;g===!0&&i.$ZenonParentCallsManager$p_13(p);var v=y&&o("ZenonBrowsers").supportsVideoCalls(),S="multiway_incoming",R=r("uuidv4")(),L=i.$ZenonParentCallsManager$p_14({callTrigger:S,isCaller:!1,isVideo:v,localCallID:R,peerID:f,protocol:t,signalingID:p},g!=null?g:!1);L==null||L.log({name:"inviteReceived",serverInfoData:b});var E=o("RTWebIncomingRingConfiguration").isSupportedClient(),k=E?"OK":"NOT_SUPPORTED";r("promiseDone")(n.respondToInvite(k)),L==null||L.log({name:"inviteResponded"});var I={thread:{id:"0",type:2},type:"thread"};if(C.context!=null&&(((a=C.context)==null?void 0:a.groupThreadID)!=null||((l=C.context)==null?void 0:l.peerID)!=null)){var T,D=(T=e.appMessages)==null?void 0:T.collision_context_payload,x=null;if(D!=null)try{x=JSON.parse(D).calling_tags}catch(e){}var $=g===!0&&x===2;if(C.context!=null){var P;I={thread:(P=o("ZenonCollisionContext").getThreadIDAndTypeFromCollisionContext(C.context,$))!=null?P:{id:"0",type:2},type:"thread"}}}else((s=C.room)==null?void 0:s.linkHash)!=null&&((u=C.room)==null?void 0:u.roomName)!=null&&(I={room:C.room,type:"room"});var N=(c=e.actorID)!=null?c:o("ZenonActorHooks").ZenonActor.getID(),M={mwThriftRingRequest:null};b!=null&&(M=i.$ZenonParentCallsManager$p_2.getRingRequestBySID(b));var w={actorID:e.actorID,context:I,controllerParams:{appMessages:_,callContext:C.name,configuration:t,serverInfoData:(d=(m=C.context)==null?void 0:m.serverInfoData)!=null?d:null,signalingID:p},inviterID:f,isClientPermissableRing:E,isE2eeMandated:g!=null?g:!1,onAccept:function(o,a){var e=a.isPopupBlocked;L==null||L.log({name:"callAccepted",trigger:S}),r("promiseDone")(n.sendAnswerIntent()),i.$ZenonParentCallsManager$p_15(o,{callTrigger:S,isE2eeMandated:g!=null?g:!1,isPopupBlocked:e,isVideo:v,peerID:f,protocol:t,signalingID:p},R)},onDecline:function(t,n){n===void 0&&(n=null),i.onDecline(p,L,t,n)},otherParticipants:h.includes(N)?h:[N].concat(h),receiverUserId:e.userID,requestingVideo:v,ringID:p,ringRequest:M};i.emit("incomingRing",w)},i.onDismissReceived=function(t,r){var a=o("ZenonDismissReason").dismissReasonToCancelReason(r),l={reason:a,ringID:t};i.emit("ringCancel",l);var s=i.$ZenonParentCallsManager$p_4.get(t);return s!=null&&(s.log({name:"dismissRecv"}),s.log({endCallReason:r,isRemoteEnded:!0,name:"callEnded"})),(e||(e=n("Promise"))).resolve()},i.$ZenonParentCallsManager$p_7=new(r("OverlayConfigManagerWithServerLayer")),i.$ZenonParentCallsManager$p_3=a,i.$ZenonParentCallsManager$p_2=new(r("ZenonSignalingParentTransport"))(window);var l=new(r("ZenonMessageSenderChain"))([]);return i.$ZenonParentCallsManager$p_9=o("ZenonDeviceId").getZenonDeviceId(),o("ZenonDGWUtils").shouldUseDGW()&&r("qex")._("4380")?o("ZenonDGWSharedWorkerUtils").setupDGWSharedWorker("PARENT",l,function(e){i.$ZenonParentCallsManager$p_11=e}):o("ZenonDGWUtils").shouldUseDGW()&&!r("qex")._("4380")?(r("promiseDone")(m.load(),function(e){i.$ZenonParentCallsManager$p_10=e.getControllerInstance(),e.getControllerInstance().setWindowContext("PARENT"),e.getControllerInstance().setStreamOptions({deviceId:i.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})}),r("promiseDone")(d.load(),function(e){return l.addMessageSender(new e)})):(l.addMessageSender(new(r("ZenonMqttMWThriftMessageSender"))),r("promiseDone")(c.load(),function(e){if(a.relayEnvironment){var t=new e(a.relayEnvironment);l.addMessageSender(t)}})),i.$ZenonParentCallsManager$p_1=new(r("LazyLoadInstance"))(r("JSResource")("ZenonSignalingClientManager").__setRef("ZenonParentCallsManager"),function(e){return new e(r("ZenonParentSignalingClient"),i.onInviteReceived,l)}),i.$ZenonParentCallsManager$p_6=new(r("ZenonSDKRateLimiter")),i}babelHelpers.inheritsLoose(a,t);var i=a.prototype;return i.startOutgoingCallIntent=function(t,n){if(this.$ZenonParentCallsManager$p_12("startOutgoingCallIntent")){var e=n.callTrigger,o=n.isE2eeMandated,a=n.isVideo,i=n.peerID,l=n.protocol,s=n.signalingID;o&&this.$ZenonParentCallsManager$p_13(s);var u=r("uuidv4")();this.$ZenonParentCallsManager$p_14({callTrigger:e,isCaller:!0,isVideo:a,localCallID:u,peerID:i,protocol:l,signalingID:s},o),this.$ZenonParentCallsManager$p_15(t,n,u)}},i.$ZenonParentCallsManager$p_14=function(t,n){var e,o=t.callTrigger,a=t.isCaller,i=t.isVideo,l=t.localCallID,s=t.peerID,u=t.protocol,c=t.signalingID,d=(e=this.$ZenonParentCallsManager$p_4.get(c))!=null?e:null;if(o==="meetup_join")return d;if(d!=null)return r("FBLogger")("rtc_www").mustfix("Call logger key collision in parentCallsManager for signalingID: %s, ",c),d;var m=new(r("ZenonCallLogger"))({config:this.$ZenonParentCallsManager$p_7,initLoggerInfo:{callTrigger:o,isCaller:a,isVideo:i,localCallID:l,peerID:s,protocol:u,signalingID:c},isE2eeMandated:n,processorConfigs:this.getLogProcessors(),startFromNavigation:!0});return this.$ZenonParentCallsManager$p_4.set(c,m),this.$ZenonParentCallsManager$p_8.forEach(function(e){e.setLoggingEventHandler(function(e){return m.log(e)})}),m},i.getLogProcessors=function(){var e=[o("ZenonParentLSCallSummaryLogProcessor").ZenonParentLSCallSummaryLogProcessorConfig,o("ZenonParentQPLLogProcessor").ZenonParentQPLLogProcessorConfig,o("ZenonParentClientPerfQPLLogProcessor").ZenonParentClientPerfQPLLogProcessorConfig];return e},i.$ZenonParentCallsManager$p_15=function(t,n,a){var e=n.isPopupBlocked,i=n.signalingID;this.$ZenonParentCallsManager$p_2.localCallID=a,this.$ZenonParentCallsManager$p_2.verificationNonce=t,this.$ZenonParentCallsManager$p_5.add(i);var l=this.$ZenonParentCallsManager$p_4.get(i);l!=null&&l.log({isPopupBlocked:e,name:"popupOpened"}),o("ZenonDGWUtils").shouldUseDGW()?(o("ZenonDeviceId").setZenonLocalStorageDeviceId(this.$ZenonParentCallsManager$p_9),r("qex")._("3661")&&this.$ZenonParentCallsManager$p_10&&(r("promiseDone")(this.$ZenonParentCallsManager$p_10.restartStreamWithNewOptions({deviceId:this.$ZenonParentCallsManager$p_9,loggingId:r("uuidv4")(),serviceId:"rpsignaling"})),this.$ZenonParentCallsManager$p_9=r("uuidv4")())):o("ZenonDeviceId").setZenonLocalStorageDeviceId(o("ZenonDeviceId").getZenonLocalStorageDeviceIdWithFallback())},i.initListeners=function(t){var e=this;this.$ZenonParentCallsManager$p_8=t;for(var n of t)n.subscribe(function(t){return e.onMessageReceived(t)},function(t,n){return e.$ZenonParentCallsManager$p_2.enqueueRawMWThriftMessage(t,n)}),n.setOnCallHandledInOtherTab!=null&&n.setOnCallHandledInOtherTab(function(t,n,a){e.$ZenonParentCallsManager$p_1.get(function(i){var l=i.getSignalingClientsWithRemoteSignalingID(t);l.forEach(function(t){var i=t.getSignalingModel().getSignalingID();String(i)!==n&&(t instanceof r("ZenonParentSignalingClient")&&t.isAnswered()||(a===o("ZenonSharedWorkerConstants").messageTypeToString(o("MultiwayCommonTypes").MessageType.JOIN)?r("promiseDone")(t.silentlyTerminate()):r("promiseDone")(t.sendDismiss(o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled)),r("promiseDone")(e.onDismissReceived(i,o("ZenonDismissReason").ZenonDismissReason.OtherInstanceHandled))))})})})},i.onMessageReceived=function(t){var e=t.getHeader().signalingID;e!=null&&this.$ZenonParentCallsManager$p_5.has(e)||this.$ZenonParentCallsManager$p_1.get(function(e){e.receiveMessage(t)})},i.onDecline=function(t,n,a,i){i===void 0&&(i=null),this.$ZenonParentCallsManager$p_1.get(function(e){var l=e.getSignalingClient(t);if(l){var s=o("ZenonDismissReason").endCallToDismissReason(a);a!=="VersionUnsupported"&&i!==o("ZenonCallsModelTypes").ZenonEndCallSubreason.CallsBlocked&&r("promiseDone")(l.sendDismiss(s)),n==null||n.log({endCallReason:s,endCallSubreason:i==null?null:i,isRemoteEnded:!1,name:"callEnded"})}else r("FBLogger")("rtc_www").mustfix("signaling client should be defined")})},i.removeListeners=function(t){for(var e of t)e.unsubscribe()},i.$ZenonParentCallsManager$p_12=function(t){return this.$ZenonParentCallsManager$p_6&&!this.$ZenonParentCallsManager$p_6.take(t)?(r("FBLogger")("rtc_www").warn("[ZP] Dropping %s invocation. This SDK method is being called too rapidly.",t),!1):!0},i.$ZenonParentCallsManager$p_13=function(t){r("promiseDone")(u.load(),function(e){return e(t)})},a})(r("BaseEventEmitter"));l.default=p}),98);
__d("delegateZenonCallInviteModel",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){e.getCurrentInvite=t.getCurrentInvite.bind(t),e.startListening=t.startListening.bind(t),e.stopListening=t.stopListening.bind(t),e.dismiss=t.dismiss.bind(t),e.accept=t.accept.bind(t),e.decline=t.decline.bind(t),t.addListener("callInvite",function(t){e.emit("callInvite",t)})}i.default=e}),66);
__d("getMWEBRestoreQPCautionCircleProperties",["ix","gkx"],(function(t,n,r,o,a,i,l,s){"use strict";var e=r("gkx")("23433");function u(){var t=s(e?"414274":"1745665");return t}l.default=u}),98);
__d("mwEBAddDevice",["EBSMAPI","MAWCurrentUser","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsInitializeRestoreDeferred","QPLUserFlow","isInstamadilloEB"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.environment,n=e.onFailure,a=e.onInvalidRecoveryCode,i=e.onSuccess,l=e.recoveryCode,s=e.storage;return r("EBSMAPI").addDeviceWithRecoveryCode({environment:t,recoveryCode:l,userId:o("MAWCurrentUser").getID()}).then(function(e){e.success?(i(),r("isInstamadilloEB")()?r("QPLUserFlow").endSuccess(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent):o("MWEncryptedBackupsInitializeRestoreDeferred").encryptedBackupsInitializeRestoreDeferred({db:s,onFailure:function(){},onSuccess:function(){}})):e.error==="INVALID_RECOVERY_CODE"?a():n(e.error)})}l.EBAddDevice=e}),98);
__d("mwEBCheckIfEBKeysExistInDisk",["EBDB","FBLogger","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("gkx")("415");async function u(t){if(!s||t==="true")return Promise.resolve();try{var n=await o("EBDB").getEBDB(),a=await n.store("secure_encrypted_backups_client_state").count();r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:(a>0).toString()}})}catch(t){var i=r("getErrorSafe")(t);throw r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{has_eb_keys_on_disk:"failed_to_open_db"}}),r("FBLogger")("wmi_eb").catching(i).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to check if EB keys exists"]))),i}}l.default=u}),98);
__d("vestaBackupSecretRestore",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("E2EEBackupSecretRestoreModule").__setRef("vestaBackupSecretRestore"),s=r("requireDeferred")("VestaServerGraphQLLoginProvider").__setRef("vestaBackupSecretRestore");async function u(t){var n=t.environment,r=t.input,o=await Promise.all([s.load(),e.load()]),a=o[0],i=a.beginLogin,l=a.finishLogin,u=a.initLogin,c=o[1].restoreBackupSecret;return c({beginLogin:i,finishLogin:l,initLogin:u},r,{environment:n})}l.default=u}),98);
__d("mwEBGetPINSecretFromVesta",["CometRelay","E2EEBackupCommon","FBLogger","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsSettingsDialogQuery.graphql","MWEBODSEntityKey.enum","MWEBODSEntityName.enum","QPLUserFlow","getErrorSafe","promiseDone","vestaBackupSecretRestore"],(function(t,n,r,o,a,i,l){"use strict";async function e(e){var t=e.addDevice,n=e.clientID,a=e.environment,i=e.getSourceFromContext,l=e.onSubmitPin,s=e.onSubmitPinFailure,u=e.onVestaSecretFetch,c=e.pinCode,d=e.productUseCase,m=e.setIsInProgress,p=e.setIsPinCodeIncorrect,_=e.setIsVestaError,f=e.startFlow;m(!0),l==null||l();var g=i();r("QPLUserFlow").addAnnotations(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,{string:{restore_type:"pin_code",source:g}});var h=new TextDecoder,y;f({additionalAnnotations:{device_type:"HSM"},event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH,source:g});try{r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_begin"),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"PIN_CODE_RESTORE_SUBMIT"),y=h.decode(await r("vestaBackupSecretRestore")({environment:a,input:{clientId:n,productUseCase:d,vestaAccountPin:c}})),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"vesta_login_success")}catch(e){var C=r("getErrorSafe")(e),b=typeof e=="object"&&e!=null&&"errorType"in e&&typeof e.errorType=="string"?e.errorType:void 0;if(s==null||s(),r("promiseDone")(o("CometRelay").fetchQuery(a,r("MWChatEncryptedBackupsSettingsDialogQuery.graphql"),{}).toPromise()),b===o("E2EEBackupCommon").BackupErrorType.INVALID_PASSWORD)m(!1),p(!0),o("MWChatEncryptedBackupsLogging").endFailure({errorName:"incorrect_pin_code",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityKey:r("MWEBODSEntityKey.enum").INCORRECT_PIN_CODE,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("QPLUserFlow").markError(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"incorrect_pin_code");else{o("MWChatEncryptedBackupsLogging").endFailure({annotations:{string:{errorMessage:C.message,errorType:b}},errorName:"vesta_login_failure",event:o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,odsEntityName:r("MWEBODSEntityName.enum").MW_EB_PIN_RESTORE_AUTH}),r("QPLUserFlow").markError(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,"pin_code_error"),m(!1),_(!0);var v="Error when restoring using PIN: "+C.message;r("FBLogger")("wmi_eb").mustfix(v)}throw e}y!=null&&(u==null||u(),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreDeviceAuthQplEvent,"add_device_begin"),t(y,c))}l.default=e}),98);
__d("updateUpsellsStateInRelayStore",["CometRelay","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.environment,n=e.updateValue;o("CometRelay").commitLocalUpdate(t,function(e){var t=e.getRoot().getLinkedRecord("viewer");if(t==null){r("FBLogger")("wmi_eb").mustfix("[labyrinth][upsells] A viewer record does not exist when updating upsell state.");return}t.setValue(n,"is_eb_restore_upsells_dismissed")})}l.default=e}),98);
__d("useMAWEncryptedBackupsRestoreToast",["fbt","ix","BaseToasterStateManager","FDSArrowsCircleFilled24Icon","FDSCheckmarkFilled24Icon","MWChatEncryptedBackupsLogging","MWChatEncryptedBackupsQPLEvents","QPLUserFlow","SVGIcon","cr:1376","cr:4027","cr:6570","mwPushToast","react","react-compiler-runtime","useLabyrinthLogging"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useRef;function _(){var e=o("react-compiler-runtime").c(10),t=p(null),a=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),i=a.startFlow,l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l=n("cr:6570")?c.jsx(n("cr:6570"),{color:"primary",icon:r("FDSArrowsCircleFilled24Icon"),isDecorative:!0,size:24}):void 0,e[0]=l):l=e[0];var d=l,m;e[1]===Symbol.for("react.memo_cache_sentinel")?(m=n("cr:1376")?new(n("cr:1376"))(u("685423"),32,32):void 0,e[1]=m):m=e[1];var _=m,f;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=r("BaseToasterStateManager").getInstance(),e[2]=f):f=e[2];var g=f,h;e[3]===Symbol.for("react.memo_cache_sentinel")?(h=function(){t.current!=null&&(g.expire(t.current),t.current=null)},e[3]=h):h=e[3];var y=h,C;e[4]!==i?(C=function(){y(),t.current=o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"Restoring messages..."),icon:{comet:d,mds:_},testid:"mw-chat-encrypted-backups-restore-in-progress-toast"}),i({event:o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_begin_toast")},e[4]=i,e[5]=C):C=e[5];var b=C,v;e[6]===Symbol.for("react.memo_cache_sentinel")?(v=function(){y(),o("mwPushToast").mwPushErrorToast({body:s._(/*BTDS*/"Failed to restore end-to-end encrypted messages. Try again.")})},e[6]=v):v=e[6];var S=v,R;e[7]===Symbol.for("react.memo_cache_sentinel")?(R=function(){var e=n("cr:6570")?c.jsx(n("cr:6570"),{icon:r("FDSCheckmarkFilled24Icon"),isDecorative:!0,size:24}):void 0,a=n("cr:4027")?o("SVGIcon").svgIcon(n("cr:4027")):void 0;y(),t.current=o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"End-to-end encrypted messages restored."),icon:{comet:e,mds:a},testid:"mw-chat-encrypted-backups-restore-successful-toast"}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent,"restore_successful_toast"),o("MWChatEncryptedBackupsLogging").endSuccess({event:o("MWChatEncryptedBackupsQPLEvents").messageRestoreQplEvent})},e[7]=R):R=e[7];var L=R,E;return e[8]!==b?(E={hideToast:y,showErrorToast:S,showInProgressToast:b,showSuccessToast:L},e[8]=b,e[9]=E):E=e[9],E}l.default=_}),226);/*FB_PKG_DELIM*/
__d("BizInboxUnifiedThreadsQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"before"},t={defaultValue:[],kind:"LocalArgument",name:"businessAssets"},n={defaultValue:!1,kind:"LocalArgument",name:"getShouldUnifyConfigQueries"},r={defaultValue:480,kind:"LocalArgument",name:"height"},o={defaultValue:null,kind:"LocalArgument",name:"ig_params"},a={defaultValue:!0,kind:"LocalArgument",name:"includeDeliveryReceipts"},i={defaultValue:!1,kind:"LocalArgument",name:"includeSeqID"},l={defaultValue:!1,kind:"LocalArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},s={defaultValue:!1,kind:"LocalArgument",name:"isWorkUser"},u={defaultValue:!1,kind:"LocalArgument",name:"is_work_teamwork_not_putting_muted_in_unreads"},c={defaultValue:null,kind:"LocalArgument",name:"item_after"},d={defaultValue:null,kind:"LocalArgument",name:"item_limit"},m={defaultValue:!1,kind:"LocalArgument",name:"loadThreadItems"},p={defaultValue:!0,kind:"LocalArgument",name:"loadThreads"},_={defaultValue:!1,kind:"LocalArgument",name:"load_delivery_receipts"},f={defaultValue:!0,kind:"LocalArgument",name:"load_items"},g={defaultValue:!0,kind:"LocalArgument",name:"load_messages"},h={defaultValue:!0,kind:"LocalArgument",name:"load_read_receipts"},y={defaultValue:null,kind:"LocalArgument",name:"message_limit"},C={defaultValue:null,kind:"LocalArgument",name:"msgr_params"},b={defaultValue:null,kind:"LocalArgument",name:"msgr_pending_params"},v={defaultValue:null,kind:"LocalArgument",name:"page_id"},S={defaultValue:null,kind:"LocalArgument",name:"selected_item_id"},R={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipMessage"},L={defaultValue:!1,kind:"LocalArgument",name:"shouldSkipPageQuery"},E={defaultValue:!1,kind:"LocalArgument",name:"shouldUnifyContextCardQueries"},k={defaultValue:null,kind:"LocalArgument",name:"source"},I={defaultValue:!1,kind:"LocalArgument",name:"threadlistViewFieldsOnly"},T={defaultValue:null,kind:"LocalArgument",name:"wa_params"},D={defaultValue:null,kind:"LocalArgument",name:"wa_pending_params"},x={defaultValue:480,kind:"LocalArgument",name:"width"},$={alias:"unused",args:[{kind:"Variable",name:"string",variableName:"source"}],kind:"ScalarField",name:"xfb_returns_zero_make_parameter_used",storageKey:null},P=[{kind:"Variable",name:"ig_params",variableName:"ig_params"},{kind:"Variable",name:"msgr_params",variableName:"msgr_params"},{kind:"Variable",name:"selected_item_id",variableName:"selected_item_id"},{kind:"Variable",name:"wa_params",variableName:"wa_params"}],N={alias:null,args:null,kind:"ScalarField",name:"sync_sequence_id",storageKey:null},M={condition:"includeSeqID",kind:"Condition",passingValue:!0,selections:[N]},w={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},A={alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},F={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[A,{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null}],storageKey:null},O={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},B=[{kind:"Literal",name:"last",value:1}],W={alias:null,args:null,kind:"ScalarField",name:"snippet",storageKey:null},q=[w],U={alias:null,args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"commerce_message_type",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},G={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},z=[G],j={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:z,storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},X={alias:null,args:null,kind:"ScalarField",name:"action_url",storageKey:null},Y={alias:null,args:null,kind:"ScalarField",name:"native_url",storageKey:null},J=[K,Q,X,Y,{alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null}],Z={alias:null,args:null,concreteType:"MessengerGenericXMATemplateExtraFields",kind:"LinkedField",name:"messenger_generic_xma_template_extra_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"media_owner_profile_pic_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"favicon_url_fallback",storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"default_cta",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta1",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta2",plural:!1,selections:J,storageKey:null},{alias:null,args:null,concreteType:"MessengerGenericXMATemplateCTA",kind:"LinkedField",name:"cta3",plural:!1,selections:J,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_id_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_expiration_timestamp_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_contact_url_fallback_list_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_title_text_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"list_item_accessibility_text_1",storageKey:null}],storageKey:null},ee={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},te=[{kind:"Literal",name:"height",value:240},{kind:"Literal",name:"width",value:240}],ne={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},re=[ne],oe=[{kind:"Literal",name:"height",value:120},{kind:"Literal",name:"width",value:120}],ae={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},se=[w,{alias:null,args:null,concreteType:"StickerPack",kind:"LinkedField",name:"pack",plural:!1,selections:q,storageKey:null},ee,{alias:null,args:null,kind:"ScalarField",name:"frame_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frame_rate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"frames_per_column",storageKey:null},{alias:"sprite_image_2x",args:te,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:re,storageKey:"sprite_image(height:240,width:240)"},{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"sprite_image",plural:!1,selections:re,storageKey:"sprite_image(height:120,width:120)"},{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:re,storageKey:"padded_sprite_image(height:120,width:120)"},{alias:"padded_sprite_image_2x",args:te,concreteType:"Image",kind:"LinkedField",name:"padded_sprite_image",plural:!1,selections:re,storageKey:"padded_sprite_image(height:240,width:240)"},ae,ie,le],ue={kind:"InlineFragment",selections:se,type:"Sticker",abstractKey:null},ce=[ne,ie,le],de={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:null},me={kind:"Literal",name:"sizing",value:"contain-fit"},pe=[me],_e={alias:null,args:pe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(sizing:"contain-fit")'},fe={alias:null,args:null,kind:"ScalarField",name:"playable_duration_in_ms",storageKey:null},ge={alias:null,args:null,kind:"ScalarField",name:"is_playable",storageKey:null},he={alias:null,args:null,kind:"ScalarField",name:"playable_url",storageKey:null},ye={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[ue,de,_e,fe,ge,he],storageKey:null},Ce={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"source",plural:!1,selections:z,storageKey:null},be={alias:null,args:null,kind:"ScalarField",name:"style_list",storageKey:null},ve={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:z,storageKey:null},Se={alias:null,args:null,kind:"ScalarField",name:"key",storageKey:null},Re={alias:null,args:null,concreteType:"AttachmentProperty",kind:"LinkedField",name:"properties",plural:!0,selections:[Se,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"value",plural:!1,selections:z,storageKey:null}],storageKey:null},Le={alias:"url",args:null,kind:"ScalarField",name:"messenger_dot_com_url",storageKey:null},Ee={alias:null,args:null,kind:"ScalarField",name:"deduplication_key",storageKey:null},ke={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[Q,ae],storageKey:null},Ie={alias:null,args:null,concreteType:"MessagingAttribution",kind:"LinkedField",name:"messaging_attribution",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"attribution_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_id",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"icon_url",storageKey:null}],storageKey:null},Te={alias:"action_link",args:null,kind:"ScalarField",name:"action_url",storageKey:null},De={alias:null,args:null,kind:"ScalarField",name:"action_open_type",storageKey:null},xe={alias:null,args:null,kind:"ScalarField",name:"preview_title",storageKey:null},$e={alias:null,args:null,kind:"ScalarField",name:"preview_subtitle",storageKey:null},Pe={alias:null,args:null,kind:"ScalarField",name:"target_display",storageKey:null},Ne={alias:null,args:null,kind:"ScalarField",name:"image_url",storageKey:null},Me={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[{kind:"InlineFragment",selections:[w,xe,$e,Pe,Ne],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},we={alias:"title",args:null,kind:"ScalarField",name:"action_title",storageKey:null},Ae={alias:null,args:null,concreteType:"MessengerCTAUserConfirmation",kind:"LinkedField",name:"user_confirmation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cancel_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"continue_button_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"confirmation_title",storageKey:null}],storageKey:null},Fe={alias:null,args:null,kind:"ScalarField",name:"is_disabled",storageKey:null},Oe={alias:null,args:null,kind:"ScalarField",name:"is_mutable_by_server",storageKey:null},Be={alias:null,args:null,kind:"ScalarField",name:"logging_token",storageKey:null},We={alias:"render_style",args:null,kind:"ScalarField",name:"cta_render_style",storageKey:null},qe={alias:null,args:null,concreteType:"MessengerPlatformWebviewMetadata",kind:"LinkedField",name:"webview_metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_extensions",storageKey:null},{alias:"webview_height_ratio",args:null,kind:"ScalarField",name:"height_ratio",storageKey:null},{alias:"webview_share_button",args:null,kind:"ScalarField",name:"hide_share_button",storageKey:null}],storageKey:null},Ue={alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},Ve={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"feedback_form_current_screen_index",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"feedback_form_first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[w,Q,K,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[K,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_num_screens",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"feedback_form_privacy_policy",plural:!1,selections:[G,ee,ae],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"feedback_form_state",storageKey:null}],type:"MessengerFeedbackFormOpenCallToActionData",abstractKey:null},He={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[Ve],storageKey:null},Ge={alias:null,args:null,kind:"ScalarField",name:"is_high_confidence",storageKey:null},ze={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Te,De,Me,we,Ae,w,Fe,Oe,Be,We,qe,Ue,He,Ge,Y],storageKey:null},je={alias:null,args:null,concreteType:"XMALayoutInfo",kind:"LinkedField",name:"xma_layout_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout_type",storageKey:null}],storageKey:null},Ke={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},Qe={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"listing_type",storageKey:null},{alias:null,args:null,concreteType:"CrisisListingCategoryWrapper",kind:"LinkedField",name:"listing_category",plural:!1,selections:[{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"offer_image",plural:!1,selections:re,storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"request_image",plural:!1,selections:re,storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:315},{kind:"Literal",name:"width",value:851}],concreteType:"Image",kind:"LinkedField",name:"map_image",plural:!1,selections:re,storageKey:"map_image(height:315,width:851)"}],type:"CrisisListing",abstractKey:null},Xe={alias:null,args:null,kind:"ScalarField",name:"filename",storageKey:null},Ye={alias:null,args:null,kind:"ScalarField",name:"url_shimhash",storageKey:null},Je={alias:null,args:null,kind:"ScalarField",name:"extension",storageKey:null},Ze={alias:null,args:null,kind:"ScalarField",name:"filesize",storageKey:null},et={alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},tt={alias:"transfer_id",args:null,kind:"ScalarField",name:"id",storageKey:null},nt={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:null},rt=[w,{alias:"name",args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:"full_name",args:null,kind:"ScalarField",name:"name",storageKey:null},nt,ae],ot={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:rt,storageKey:null},at={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"receiver",plural:!1,selections:rt,storageKey:null},it={alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null},lt={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},st={alias:"actionDatas",args:null,concreteType:"PaymentActivityActionData",kind:"LinkedField",name:"action_datas",plural:!0,selections:[Ke,{alias:"additionalInfo",args:null,concreteType:"PaymentActivityActionDataAdditionalInfo",kind:"LinkedField",name:"additional_info",plural:!0,selections:[Se,it],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifier",storageKey:null},{alias:"inputType",args:null,kind:"ScalarField",name:"input_type",storageKey:null},lt,{alias:null,args:null,kind:"ScalarField",name:"optional",storageKey:null},{alias:"placeholderText",args:null,kind:"ScalarField",name:"placeholder_text",storageKey:null}],storageKey:null},ut={alias:"actionIdentifier",args:null,kind:"ScalarField",name:"action_identifier",storageKey:null},ct={alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},dt={alias:null,args:null,kind:"ScalarField",name:"subtitle",storageKey:null},mt={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:z,storageKey:null},pt={kind:"InlineFragment",selections:[{alias:"receiptView",args:null,concreteType:"PaymentReceiptView",kind:"LinkedField",name:"receipt_view",plural:!1,selections:[{alias:"additionalInstruction",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"additional_instruction",plural:!1,selections:z,storageKey:null},w,{alias:"otherParticipant",args:null,concreteType:"PaymentActivityParticipantView",kind:"LinkedField",name:"other_participant",plural:!1,selections:[{alias:"imageUrl",args:null,kind:"ScalarField",name:"image_url",storageKey:null},dt,Q],storageKey:null},{alias:null,args:null,concreteType:"PaymentActivityViewSection",kind:"LinkedField",name:"sections",plural:!0,selections:[{alias:"preferredPosition",args:null,kind:"ScalarField",name:"preferred_position",storageKey:null}],storageKey:null},mt],storageKey:null}],type:"P2POpenReceiptActionButton",abstractKey:null},_t={alias:null,args:null,kind:"ScalarField",name:"amount",storageKey:null},ft={alias:null,args:null,kind:"ScalarField",name:"currency",storageKey:null},gt=[_t,ft,{alias:"formattedAmount",args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],ht={alias:"amount",args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:gt,storageKey:null},yt=[Ke,st,ut,ct,Q,pt,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[tt,ot,at,ht],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],Ct={alias:"componentType",args:null,kind:"ScalarField",name:"component_type",storageKey:null},bt={alias:null,args:null,kind:"ScalarField",name:"color",storageKey:null},vt={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"amount",plural:!1,selections:gt,storageKey:null},bt],type:"P2PBubbleAmountComponent",abstractKey:null},St=[{alias:"dimensionlessCacheKey",args:null,kind:"ScalarField",name:"dimensionless_cache_key",storageKey:null},ie,{alias:"isSilhouette",args:null,kind:"ScalarField",name:"is_silhouette",storageKey:null},{alias:"mimeType",args:null,kind:"ScalarField",name:"mime_type",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},ne,le],Rt={kind:"InlineFragment",selections:[{alias:"aspectRatio",args:null,kind:"ScalarField",name:"aspect_ratio",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:St,storageKey:null}],type:"P2PBubbleImageComponent",abstractKey:null},Lt={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"alignment",storageKey:null},bt,{alias:"facepileUsers",args:null,concreteType:"User",kind:"LinkedField",name:"facepile_users",plural:!0,selections:[w,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:St,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:St,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null},G],type:"P2PBubbleTextComponent",abstractKey:null},Et={alias:"iconCurrencyCode",args:null,kind:"ScalarField",name:"icon_currency_code",storageKey:null},kt={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:yt,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Ct,vt,Rt,Lt],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:yt,storageKey:null},bt,Et,G],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:yt,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"},It={alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},Tt={kind:"InlineFragment",selections:[It,ae],type:"User",abstractKey:null},Dt={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[_t,{alias:null,args:null,kind:"ScalarField",name:"formatted_amount",storageKey:null}],storageKey:null},xt={alias:null,args:null,kind:"ScalarField",name:"transfer_status",storageKey:null},$t={alias:"completedTime",args:null,kind:"ScalarField",name:"completed_time",storageKey:null},Pt={alias:"updatedTime",args:null,kind:"ScalarField",name:"updated_time",storageKey:null},Nt={alias:"creationTime",args:null,kind:"ScalarField",name:"creation_time",storageKey:null},Mt={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:null},wt=[Mt],At={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"transfer_theme",plural:!1,selections:q,storageKey:null},Ft={alias:null,args:null,kind:"ScalarField",name:"formatted",storageKey:null},Ot=[Ft],Bt={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount_fb_discount",plural:!1,selections:Ot,storageKey:null},Wt={alias:null,args:null,kind:"ScalarField",name:"funds_availability",storageKey:null},qt={alias:null,args:null,kind:"ScalarField",name:"group_thread_fbid",storageKey:null},Ut={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},Vt={alias:null,args:null,kind:"ScalarField",name:"status_description",storageKey:null},Ht={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"currency_amount",plural:!1,selections:[ft],storageKey:null},Gt={alias:null,args:null,kind:"ScalarField",name:"memo_text",storageKey:null},zt=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"P2PSenderReceiver"}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[w,O,nt,Tt],storageKey:null},Dt,xt,tt,$t,Pt,Nt,{alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:wt,storageKey:null},At],storageKey:null},Bt,Wt,qt,{alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[O,Ut,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:wt,storageKey:null},ae],storageKey:null},w,Vt,Ht,Gt,kt],jt={alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:[Ft,ft],storageKey:null},Kt={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"transaction_amount",plural:!1,selections:[_t],storageKey:null},Qt=[O,w,nt,Tt],Xt={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:Qt,storageKey:null},Yt={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:Qt,storageKey:null},Jt={alias:null,args:null,kind:"ScalarField",name:"request_status",storageKey:null},Zt={alias:null,args:null,concreteType:"MessengerPayTheme",kind:"LinkedField",name:"request_theme",plural:!1,selections:q,storageKey:null},en={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:zt,storageKey:null},tn={alias:null,args:null,kind:"ScalarField",name:"creation_time",storageKey:null},nn={alias:null,args:null,kind:"ScalarField",name:"updated_time",storageKey:null},rn={alias:"message",args:null,kind:"ScalarField",name:"snippet",storageKey:null},on=[Te,De,Me,we,Ae,w,Fe,Oe,Be,We,qe,Ue,He],an={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:on,storageKey:null},ln={alias:null,args:null,kind:"ScalarField",name:"image_aspect_ratio",storageKey:null},sn={alias:null,args:null,kind:"ScalarField",name:"first_metaline",storageKey:null},un={alias:null,args:null,kind:"ScalarField",name:"source_name",storageKey:null},cn={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},dn={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:on,storageKey:null},mn=[w,{alias:"large_preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:null}],pn={kind:"InlineFragment",selections:mn,type:"MessageImage",abstractKey:null},_n={kind:"InlineFragment",selections:mn,type:"Photo",abstractKey:null},fn={kind:"Literal",name:"media_type",value:"image/gif"},gn={alias:null,args:[fn],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:'animated_image(media_type:"image/gif")'},hn={alias:"preview_image",args:[{kind:"Literal",name:"height",value:206},fn,{kind:"Literal",name:"width",value:206}],concreteType:"Image",kind:"LinkedField",name:"animated_image",plural:!1,selections:ce,storageKey:'animated_image(height:206,media_type:"image/gif",width:206)'},yn={kind:"InlineFragment",selections:[gn,hn,{alias:"large_preview",args:[{kind:"Literal",name:"height",value:420},me,{kind:"Literal",name:"width",value:420}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:420,sizing:"contain-fit",width:420)'}],type:"MessageAnimatedImage",abstractKey:null},Cn={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"attribution_app",plural:!1,selections:[w,O,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"square_logo",plural:!1,selections:re,storageKey:null}],storageKey:null},bn={alias:null,args:null,kind:"ScalarField",name:"attribution_metadata",storageKey:null},vn=[ie,le,ne],Sn=[{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],Rn={alias:null,args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:Sn,storageKey:null},Ln={kind:"InlineFragment",selections:[Cn,bn,Xe,he,{alias:"chat_image",args:[{kind:"Literal",name:"height",value:200},me,{kind:"Literal",name:"width",value:168}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:200,sizing:"contain-fit",width:168)'},H,{alias:null,args:null,kind:"ScalarField",name:"video_type",storageKey:null},Rn,fe,{alias:"large_image",args:[{kind:"Literal",name:"height",value:640},me,{kind:"Literal",name:"width",value:640}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:640,sizing:"contain-fit",width:640)'},{alias:"inbox_image",args:[{kind:"Literal",name:"height",value:450},me,{kind:"Literal",name:"width",value:450}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:vn,storageKey:'image(height:450,sizing:"contain-fit",width:450)'}],type:"MessageVideo",abstractKey:null},En={kind:"InlineFragment",selections:[le,ie,w,he],type:"Video",abstractKey:null},kn=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ut,ln,Ne,sn,O,un,cn,dn,an,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[Ke,pn,_n,yn,Ln,En],storageKey:null}],storageKey:null}],In={kind:"InlineFragment",selections:[{alias:"video_id",args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"Video",abstractKey:null},Tn={alias:null,args:null,kind:"ScalarField",name:"expiration_time",storageKey:null},Dn={alias:null,args:null,kind:"ScalarField",name:"latitude",storageKey:null},xn={alias:null,args:null,kind:"ScalarField",name:"longitude",storageKey:null},$n=[Dn,xn],Pn={kind:"InlineFragment",selections:[{alias:"live_location_id",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_expired",storageKey:null},Tn,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"Coordinate",kind:"LinkedField",name:"coordinate",plural:!1,selections:$n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location_title",storageKey:null},{alias:null,args:null,concreteType:"LiveLocationDestination",kind:"LinkedField",name:"sender_destination",plural:!1,selections:[Dn,xn,ee],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"stop_reason",storageKey:null}],type:"MessageLiveLocation",abstractKey:null},Nn={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"kept_by",plural:!1,selections:q,storageKey:null},Mn={alias:null,args:null,kind:"ScalarField",name:"kept_at",storageKey:null},wn={alias:null,args:null,kind:"ScalarField",name:"is_keep_disabled",storageKey:null},An={alias:null,args:null,kind:"ScalarField",name:"blob_media_type",storageKey:null},Fn=[he,ae,Mt],On={kind:"InlineFragment",selections:Fn,type:"MessageVideo",abstractKey:null},Bn={kind:"InlineFragment",selections:Fn,type:"MessageImage",abstractKey:null},Wn={alias:null,args:null,kind:"ScalarField",name:"montage_container_id",storageKey:null},qn={alias:null,args:null,kind:"ScalarField",name:"story_id",storageKey:null},Un={alias:null,args:null,kind:"ScalarField",name:"calendar_sync_type",storageKey:null},Vn={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[w,Un,{alias:null,args:null,concreteType:"ServicesVerticalPageBasedInfo",kind:"LinkedField",name:"services_vertical_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_appointment_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_eligible_for_mbs_calendar",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_page_sp_enabled",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_zone_name",storageKey:null}],storageKey:null}],storageKey:null},Hn={alias:null,args:null,kind:"ScalarField",name:"message_bubble_type",storageKey:null},Gn={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:q,storageKey:null},zn={alias:null,args:null,kind:"ScalarField",name:"ls_xma_title",storageKey:null},jn={alias:null,args:null,kind:"ScalarField",name:"ls_xma_subtitle",storageKey:null},Kn={alias:"availability",args:null,kind:"ScalarField",name:"user_availability",storageKey:null},Qn={alias:null,args:null,kind:"ScalarField",name:"request_flow_type",storageKey:null},Xn={alias:null,args:null,kind:"ScalarField",name:"service_general_info",storageKey:null},Yn={alias:null,args:null,kind:"ScalarField",name:"has_saved_to_calendar",storageKey:null},Jn=[w,O,nt],Zn={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:Jn,storageKey:null},er={alias:null,args:null,kind:"ScalarField",name:"start",storageKey:null},tr={alias:null,args:null,kind:"ScalarField",name:"end",storageKey:null},nr=[er,tr],rr={alias:null,args:null,concreteType:"TimeRange",kind:"LinkedField",name:"suggested_time_range",plural:!1,selections:nr,storageKey:null},or={alias:"duration",args:null,kind:"ScalarField",name:"duration_in_seconds",storageKey:null},ar={alias:null,args:null,kind:"ScalarField",name:"duration_type",storageKey:null},ir=[{kind:"Literal",name:"first",value:1}],lr={alias:null,args:[{kind:"Literal",name:"sizing",value:"cover-fill-cropped"}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:'image(sizing:"cover-fill-cropped")'},sr={alias:"price",args:null,kind:"ScalarField",name:"display_price",storageKey:null},ur={alias:null,args:null,kind:"ScalarField",name:"requested_time",storageKey:null},cr={alias:null,args:null,kind:"ScalarField",name:"special_request",storageKey:null},dr={alias:null,args:null,kind:"ScalarField",name:"booking_status_value",storageKey:null},mr={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},pr={alias:null,args:null,kind:"ScalarField",name:"archived_status",storageKey:null},_r={alias:null,args:null,kind:"ScalarField",name:"reminder_bubble_text",storageKey:null},fr={alias:null,args:null,kind:"ScalarField",name:"request_admin_approval_type",storageKey:null},gr={alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"job_application",plural:!1,selections:q,storageKey:null},hr={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[w,It,nt],storageKey:null},yr={alias:null,args:null,concreteType:"ServicesNativeBookingRequestAdditionalInfoField",kind:"LinkedField",name:"additional_info",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"field_key",storageKey:null},it,ee],storageKey:null},Cr={alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"consumer_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},br={alias:null,args:null,kind:"ScalarField",name:"recur_message",storageKey:null},vr=[w,O],Sr=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:vr,storageKey:null}],Rr={alias:"eventID",args:null,kind:"ScalarField",name:"id",storageKey:null},Lr={alias:"guestStatus",args:null,kind:"ScalarField",name:"viewer_guest_status",storageKey:null},Er={alias:"canViewerJoin",args:null,kind:"ScalarField",name:"can_viewer_join",storageKey:null},kr={alias:"timeString",args:null,kind:"ScalarField",name:"start_time_sentence",storageKey:null},Ir=[O],Tr={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"social_context",plural:!1,selections:z,storageKey:null},Dr={alias:"watchStatus",args:null,kind:"ScalarField",name:"viewer_watch_status",storageKey:null},xr={alias:null,args:null,kind:"ScalarField",name:"connection_style",storageKey:null},$r={alias:"canViewerWatch",args:null,kind:"ScalarField",name:"can_viewer_watch",storageKey:null},Pr={alias:null,args:[{kind:"Literal",name:"width",value:300}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(width:300)"},Nr={alias:null,args:null,kind:"ScalarField",name:"start_timestamp",storageKey:null},Mr={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"application_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"artist_names",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"duration_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"music_title",storageKey:null}],type:"ExternalSong",abstractKey:null},wr={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"lwa_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lwa_type",storageKey:null}],type:"LightweightAction",abstractKey:null},Ar={alias:"desc",args:null,kind:"ScalarField",name:"description",storageKey:null},Fr={alias:"thumb_url",args:null,kind:"ScalarField",name:"image_url",storageKey:null},Or={alias:"item_url",args:null,kind:"ScalarField",name:"target_url",storageKey:null},Br={alias:"source",args:null,kind:"ScalarField",name:"source_name",storageKey:null},Wr={alias:null,args:null,kind:"ScalarField",name:"second_metaline",storageKey:null},qr={alias:null,args:null,kind:"ScalarField",name:"third_metaline",storageKey:null},Ur={alias:"total_cost",args:null,kind:"ScalarField",name:"formated_price",storageKey:null},Vr={alias:"merchant_name",args:null,kind:"ScalarField",name:"seller_info",storageKey:null},Hr={alias:"raw_amount",args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Gr={alias:null,args:null,concreteType:"MessengerCommercePayment",kind:"LinkedField",name:"payment",plural:!1,selections:q,storageKey:null},zr={alias:null,args:null,kind:"ScalarField",name:"price_currency",storageKey:null},jr={alias:null,args:null,kind:"ScalarField",name:"price_amount",storageKey:null},Kr={alias:null,args:null,kind:"ScalarField",name:"can_donate",storageKey:null},Qr={alias:null,args:null,kind:"ScalarField",name:"has_viewer_donated",storageKey:null},Xr={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_detailed_progress_text",plural:!1,selections:z,storageKey:null},Yr={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"fundraiser_subtitle_text",plural:!1,selections:z,storageKey:null},Jr=[ne,le,ie],Zr={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Jr,storageKey:null},eo={alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},to={alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},no={alias:null,args:null,kind:"ScalarField",name:"account_holder_name",storageKey:null},ro={alias:null,args:null,kind:"ScalarField",name:"receipt_id",storageKey:null},oo={alias:null,args:null,kind:"ScalarField",name:"shipping_method",storageKey:null},ao={alias:null,args:null,kind:"ScalarField",name:"order_payment_method",storageKey:null},io={alias:null,args:null,kind:"ScalarField",name:"receipt_url",storageKey:null},lo={alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},so={alias:null,args:null,kind:"ScalarField",name:"receipient_address",storageKey:null},uo={alias:null,args:null,kind:"ScalarField",name:"streets",storageKey:null},co={alias:null,args:null,kind:"ScalarField",name:"city",storageKey:null},mo={alias:null,args:null,kind:"ScalarField",name:"country",storageKey:null},po={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},_o={alias:null,args:null,kind:"ScalarField",name:"state",storageKey:null},fo={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"structured_address",plural:!1,selections:[uo,co,mo,po,_o],storageKey:null},go={alias:null,args:null,kind:"ScalarField",name:"total",storageKey:null},ho={alias:null,args:null,kind:"ScalarField",name:"tax",storageKey:null},yo={alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},Co={alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},bo={alias:null,args:null,kind:"ScalarField",name:"bubble_type",storageKey:null},vo={alias:null,args:null,kind:"ScalarField",name:"order_time_for_display",storageKey:null},So={alias:null,args:null,concreteType:"RetailReceiptAdjustment",kind:"LinkedField",name:"retail_adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_amount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null}],storageKey:null},Ro={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"partner_logo",plural:!1,selections:re,storageKey:null},Lo={alias:null,args:null,kind:"ScalarField",name:"payment_modules_client",storageKey:null},Eo={alias:null,args:null,kind:"ScalarField",name:"is_viewer_seller",storageKey:null},ko={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"payment_snippet",plural:!1,selections:z,storageKey:null},Io={alias:null,args:null,kind:"ScalarField",name:"item_id",storageKey:null},To={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:z,storageKey:null},Do=[_t,ft],xo={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"unit_price",plural:!1,selections:Do,storageKey:null},$o={alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"images",plural:!0,selections:re,storageKey:"images(height:120,width:120)"},Po={alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},No={alias:null,args:null,concreteType:"PaymentPlatformAttachmentComponent",kind:"LinkedField",name:"components",plural:!0,selections:[mt,To,{alias:null,args:oe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:120,width:120)"}],storageKey:null},Mo=[_o,{alias:null,args:null,kind:"ScalarField",name:"action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_detail",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"label",plural:!1,selections:z,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"checkmark",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"extra_data",storageKey:null}],wo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"payment_call_to_actions",plural:!0,selections:Mo,storageKey:null},Ao={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"click_action",plural:!1,selections:Mo,storageKey:null},Fo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentCallToAction",kind:"LinkedField",name:"summary_action",plural:!1,selections:Mo,storageKey:null},Oo={alias:null,args:null,kind:"ScalarField",name:"invoicer_id",storageKey:null},Bo={alias:null,args:null,kind:"ScalarField",name:"is_last_attachment",storageKey:null},Wo={alias:null,args:null,concreteType:"CurrencyAmount",kind:"LinkedField",name:"payment_total",plural:!1,selections:Do,storageKey:null},qo={alias:null,args:null,kind:"ScalarField",name:"product_detail",storageKey:null},Uo={alias:null,args:null,concreteType:"PaymentPlatformAttachmentIcon",kind:"LinkedField",name:"payment_status_icon",plural:!1,selections:[mr],storageKey:null},Vo={alias:null,args:null,kind:"ScalarField",name:"user_facing_payment_status",storageKey:null},Ho={alias:null,args:null,kind:"ScalarField",name:"payment_sub_statuses",storageKey:null},Go={alias:null,args:null,kind:"ScalarField",name:"should_show_new_xma",storageKey:null},zo={alias:null,args:null,kind:"ScalarField",name:"buyer_name",storageKey:null},jo={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"group_commerce_item_description",plural:!1,selections:z,storageKey:null},Ko={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"formatted_price",plural:!1,selections:z,storageKey:null},Qo={alias:null,args:null,kind:"ScalarField",name:"group_commerce_item_title",storageKey:null},Xo={alias:null,args:pe,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:'image(sizing:"contain-fit")'},Yo={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Xo],storageKey:null},Jo={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"single_line_full_address",storageKey:null}],storageKey:null},Zo={alias:null,args:null,kind:"ScalarField",name:"top_category_name",storageKey:null},ea={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[w,{alias:null,args:[{kind:"Literal",name:"height",value:720},me,{kind:"Literal",name:"width",value:720}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:Jr,storageKey:'image(height:720,sizing:"contain-fit",width:720)'}],storageKey:null}],storageKey:null},ta={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:$n,storageKey:null},na={alias:null,args:null,concreteType:"Rating",kind:"LinkedField",name:"overall_star_rating",plural:!1,selections:[it],storageKey:null},ra={alias:null,args:null,kind:"ScalarField",name:"price_range_description",storageKey:null},oa={alias:null,args:null,kind:"ScalarField",name:"event_title",storageKey:null},aa={alias:null,args:null,kind:"ScalarField",name:"time",storageKey:null},ia={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active",storageKey:null},oa,aa],type:"MessengerEventReminder",abstractKey:null},la={alias:null,args:null,kind:"ScalarField",name:"tracking_number",storageKey:null},sa={alias:null,args:null,kind:"ScalarField",name:"shipdate_for_display",storageKey:null},ua={alias:null,args:null,kind:"ScalarField",name:"estimated_delivery_time_for_display",storageKey:null},ca={alias:null,args:null,kind:"ScalarField",name:"timezone",storageKey:null},da=[mo,co,po,xn,Dn,_o,uo,ca],ma={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_origin",plural:!1,selections:da,storageKey:null},pa={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"commerce_destination",plural:!1,selections:da,storageKey:null},_a={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ar,Fr,Or,Br,ln,sn,Wr,qr,an],storageKey:null}],storageKey:null},fa={alias:null,args:null,kind:"ScalarField",name:"carrier_tracking_url",storageKey:null},ga=[le,ie,ne],ha={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:ga,storageKey:null},ya={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[O,fa,ha],storageKey:null},Ca={alias:null,args:null,concreteType:"MessengerCommerceBusinessLocation",kind:"LinkedField",name:"messenger_commerce_location",plural:!1,selections:da,storageKey:null},ba={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ca],storageKey:null}],storageKey:null},va={alias:null,args:null,kind:"ScalarField",name:"tracking_event_time_for_display",storageKey:null},Sa={alias:null,args:null,kind:"ScalarField",name:"shipment_tracking_event_type",storageKey:null},Ra={alias:null,args:null,kind:"ScalarField",name:"tracking_event_description",storageKey:null},La={alias:null,args:null,concreteType:"MessengerRetailCarrier",kind:"LinkedField",name:"retail_carrier",plural:!1,selections:[O,fa,ha,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"legal_terms_of_service_text",plural:!1,selections:z,storageKey:null}],storageKey:null},Ea={alias:null,args:null,concreteType:"RetailShipmentTrackingEventsConnection",kind:"LinkedField",name:"shipment_tracking_events",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailShipmentTrackingEvent",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Sa,Ca],storageKey:null}],storageKey:null},ka={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"cover_image",plural:!1,selections:Jr,storageKey:null},Ia={alias:null,args:null,kind:"ScalarField",name:"headline",storageKey:null},Ta={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:vr,storageKey:null},Da={alias:null,args:null,concreteType:"LeadGenUserInfoField",kind:"LinkedField",name:"field_data",plural:!0,selections:[ee,O,{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},xa=[G,K],$a={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_formated",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_number_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_wec_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_headline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_media_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_referral_has_admin_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"wec_sticker_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_body",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_footer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_header_media",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn1_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn2_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_btn3_text",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"templated_message_buttons",plural:!0,selections:xa,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_has_expiration",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_expiration_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_offer_is_offer_code_personalized",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageCardShape",kind:"LinkedField",name:"templated_message_cards",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sample_handle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},{alias:null,args:null,concreteType:"XFBWATemplatedMessageButtonShape",kind:"LinkedField",name:"button",plural:!1,selections:xa,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"templated_message_name",storageKey:null}],type:"WECMessage",abstractKey:null},Pa={alias:null,args:null,kind:"ScalarField",name:"is_malicious",storageKey:null},Na={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"thumbnail_image",plural:!1,selections:ce,storageKey:null},Ma={alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},wa={alias:null,args:null,kind:"ScalarField",name:"ad_id",storageKey:null},Aa={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"ice_breaker_title",storageKey:null},{alias:null,args:null,concreteType:"IceBreakerMessage",kind:"LinkedField",name:"ice_breaker_messages",plural:!0,selections:[Ma,{alias:null,args:null,kind:"ScalarField",name:"message_key",storageKey:null}],storageKey:null},wa],type:"IceBreakerMessageAttachment",abstractKey:null},Fa={kind:"Literal",name:"height",value:280},Oa={kind:"Literal",name:"width",value:280},Ba=[Fa,Oa],Wa={alias:"preview",args:Ba,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:"image(height:280,width:280)"},qa={kind:"Literal",name:"height",value:480},Ua={kind:"Literal",name:"width",value:480},Va={alias:"large_preview",args:[qa,Ua],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:"image(height:480,width:480)"},Ha={alias:null,args:null,kind:"ScalarField",name:"module_name",storageKey:null},Ga={alias:null,args:null,kind:"ScalarField",name:"program_name",storageKey:null},za={alias:null,args:null,kind:"ScalarField",name:"curriculum_message",storageKey:null},ja={alias:null,args:null,kind:"ScalarField",name:"prompt",storageKey:null},Ka={alias:null,args:null,kind:"ScalarField",name:"step_count",storageKey:null},Qa={alias:null,args:null,kind:"ScalarField",name:"total_steps",storageKey:null},Xa={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:"MentorshipCurriculum",kind:"LinkedField",name:"curriculum",plural:!1,selections:q,storageKey:null}],storageKey:null},Ya={alias:null,args:null,kind:"ScalarField",name:"topics",storageKey:null},Ja=[It],Za={alias:null,args:null,kind:"ScalarField",name:"xma_type",storageKey:null},ei={alias:null,args:null,kind:"ScalarField",name:"xma_title",storageKey:null},ti={alias:null,args:null,kind:"ScalarField",name:"xma_body",storageKey:null},ni={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},ri={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,ni],storageKey:null}],storageKey:null},oi={alias:null,args:null,kind:"ScalarField",name:"block_type",storageKey:null},ai={alias:null,args:null,kind:"ScalarField",name:"data",storageKey:null},ii={alias:null,args:null,kind:"ScalarField",name:"depth",storageKey:null},li={alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null},lt,ni],storageKey:null},si={alias:null,args:null,kind:"ScalarField",name:"comment_count_reduced",storageKey:null},ui={alias:null,args:null,concreteType:"TopLevelCommentsConnection",kind:"LinkedField",name:"top_level_comments",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"total_count",storageKey:null}],storageKey:null},ci={alias:null,args:null,kind:"ScalarField",name:"reaction_count_reduced",storageKey:null},di={kind:"Literal",name:"first",value:3},mi=[di,{kind:"Literal",name:"orderby",value:["COUNT_DESC","REACTION_TYPE"]}],pi={alias:null,args:null,kind:"ScalarField",name:"reaction_type",storageKey:null},_i={alias:null,args:null,kind:"ScalarField",name:"post_id",storageKey:null},fi={alias:"description",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:z,storageKey:null},gi={kind:"InlineFragment",selections:Ja,type:"User",abstractKey:null},hi=[ae],yi={kind:"InlineFragment",selections:hi,type:"Entity",abstractKey:"__isEntity"},Ci={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[Ke,O,w,gi,yi,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:ce,storageKey:null}],storageKey:null},bi={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:null},vi={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[ge,bi],storageKey:null},Si={alias:"title",args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"title_with_entities",plural:!1,selections:z,storageKey:null},Ri=[di],Li={alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},Ei=[{kind:"Literal",name:"if_style",value:"file_upload"}],ki={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:wt,storageKey:null},Ii=[{kind:"Literal",name:"if_style",value:"photo"}],Ti={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:z,storageKey:null},Di={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actors",plural:!0,selections:[Ke,O,w,gi,yi],storageKey:null},xi={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:wt,storageKey:null},$i={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[xi],storageKey:null},Pi={alias:null,args:null,kind:"ScalarField",name:"job_title",storageKey:null},Ni={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[Pi],storageKey:null},Mi={alias:null,args:null,kind:"ScalarField",name:"subscribe_status",storageKey:null},wi={alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},Ai={alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"visibility_sentence",plural:!1,selections:z,storageKey:null},Fi={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},Oi={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:q,storageKey:null},Bi={alias:null,args:null,kind:"ScalarField",name:"attachment_type_name",storageKey:null},Wi={alias:null,args:null,kind:"ScalarField",name:"privacy_status",storageKey:null},qi={alias:null,args:null,kind:"ScalarField",name:"file_type_category",storageKey:null},Ui={alias:null,args:null,kind:"ScalarField",name:"app_integration_type",storageKey:null},Vi={alias:null,args:[{kind:"Literal",name:"size",value:"D32"}],concreteType:"Image",kind:"LinkedField",name:"logo",plural:!1,selections:re,storageKey:'logo(size:"D32")'},Hi={alias:null,args:null,kind:"ScalarField",name:"viewer_auth_link",storageKey:null},Gi={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"attachment_icon",plural:!1,selections:re,storageKey:null},zi={alias:null,args:null,kind:"ScalarField",name:"content_uri",storageKey:null},ji={alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null},Ki={alias:null,args:null,kind:"ScalarField",name:"timestamp",storageKey:null},Qi={alias:null,args:null,kind:"ScalarField",name:"referral_offer_link",storageKey:null},Xi={alias:null,args:null,kind:"ScalarField",name:"cta_title",storageKey:null},Yi={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"action_prefill",storageKey:null},wa,Xi,{alias:null,args:null,kind:"ScalarField",name:"customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},Ue,{alias:null,args:null,kind:"ScalarField",name:"reply_image_uri",storageKey:null}],type:"InThreadMultiphotoItemCTAData",abstractKey:null},Ji={alias:null,args:null,kind:"ScalarField",name:"viewer_id",storageKey:null},Zi={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"payment_confirmation_status",storageKey:null}],type:"XFBPaymentInvoiceMediaMessageDetection",abstractKey:null},el={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,Qe,{kind:"InlineFragment",selections:[w,Xe,he,Ye,Je,Ze,et],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[tt,ot,at,kt],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:zt,type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[jt,Kt,Xt,Yt,Jt,Zt,w,Gt,en,tn,qt,nn,Vt,kt,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[jt,Kt,Xt,Yt,Jt,Zt,w,Gt,en,tn,qt,nn,Vt,kt],storageKey:null}],type:"PeerToPeerPaymentRequest",abstractKey:null},kt,{kind:"InlineFragment",selections:[rn,an,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:kn,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[rn,an,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:kn,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},In,Pn,{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:q,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Nn,Mn,wn,An,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[On,Bn],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[w,Wn,W,qn],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[w,Vn,Hn,Gn,zn,jn,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[{kind:"InlineFragment",selections:[Kn,Qn,Xn,w,Un,Yn,Zn,rr,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ut,or,ar,{alias:null,args:ir,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[lr],storageKey:"images(first:1)"},sr],storageKey:null}],storageKey:null},ur,cr,dr,mr,pr,_r,fr,gr,hr,yr,Cr,zn,jn,br],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:Sr,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Rr,Lr,Er,kr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:Ir,storageKey:null},Tr,Dr,xr,$r,Pr,O,Nr],type:"Event",abstractKey:null},Mr,wr,{kind:"InlineFragment",selections:[w,O,Ar,Fr,Or,Br,ln,sn,Wr,qr,dn,an],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[w,Ar,Ur,Vr,cn,Fr,Hr,Gr,zr,jr,O],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[w,Kr,Qr,Xr,Yr,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Zr],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[w,eo,to,no,ro,oo,ao,io,lo,so,fo,mr,go,ho,yo,Co,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:kn,storageKey:null},bo,vo,So,Ro],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Lo,Eo,ko,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Io,O,To,Ut,xo,$o,Po],storageKey:null},No,wo,Ao,Fo,Oo,Bo,Wo,qo,Uo,Vo,Ho,Go,zo],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:q,type:"JobApplication",abstractKey:null},{kind:"InlineFragment",selections:[jo,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:q,storageKey:null},Ko,Qo,Yo,ae],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Ko,Yo],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Jo,Zo,ea,ta,O,na,w,ra],type:"Page",abstractKey:null},ia,{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[w,la,sa,ua,ma,pa,_a,ya,ba],storageKey:null},va,Sa,Ca,Ra,bo],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[w,la,sa,ua,ma,pa,_a,La,Ea,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ro],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:Ir,storageKey:null},bo],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[w,ka,Ia,O,Ta],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[w,Da],type:"UserLeadGenInfo",abstractKey:null},$a,{kind:"InlineFragment",selections:[w,O,Pa,ne,Je,Ze],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[w,he,Ye,Je,Ze,Xe,ie,Na,le],type:"WECMessageVideo",abstractKey:null},Aa,{kind:"InlineFragment",selections:[w,Je,Wa,Va],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[w,Ha,Ga,za,ja,Ka,Qa,Xa],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[w,Ya],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:Ja,storageKey:null}],storageKey:null},Za],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[w,Za],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[w,Za,ei,ti],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[ri,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[oi,ai,ii,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke],storageKey:null},lt,ni],storageKey:null},li,G],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[si,ui,ci,{alias:null,args:mi,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[pi],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'}],storageKey:null},_i,tn,fi,Ci,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[Ke,O,gi,yi],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[be,ae,Ce,j,vi,Si,{alias:null,args:Ri,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Li,{alias:"files",args:Ei,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Si,ki],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Ii,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[ki],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Ti,Di,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[vi],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[w,O,nt,$i,Ni,Mi],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[w,O,wi,Ai,Fi,$i,Oi,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:q,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[w,Bi,Wi,qi,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ui,O,Vi,Hi],storageKey:null},Gi,zi,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[Q,G,bt,ji,Ki,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[nt,O],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:q,type:"OfferItem",abstractKey:null},{kind:"InlineFragment",selections:[dn],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[w,Qi],type:"ApplicationReferralXMA",abstractKey:null},Yi,{kind:"InlineFragment",selections:[w,Ji],type:"XFBP2MXMA",abstractKey:null},Zi],storageKey:null},tl={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je,el,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[j,Z,ye,Ce,be,ve,Re,Le,Ee,ke,Ie,ze,je,el],storageKey:null}],storageKey:null},nl={kind:"InlineFragment",selections:q,type:"Node",abstractKey:"__isNode"},rl={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[H,tl,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[{kind:"InlineFragment",selections:[w,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[nl,O],storageKey:null}],storageKey:null},tl],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ol={alias:null,args:null,concreteType:"Sticker",kind:"LinkedField",name:"sticker",plural:!1,selections:se,storageKey:null},al={kind:"Literal",name:"sizing",value:"cover-fill"},il={alias:null,args:null,kind:"ScalarField",name:"projection_type",storageKey:null},ll={kind:"InlineFragment",selections:[Cn,bn,Xe,{alias:"preview",args:[Fa,al,Oa],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:280,sizing:"cover-fill",width:280)'},{alias:"large_preview",args:[qa,al,Ua],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:ce,storageKey:'image(height:480,sizing:"cover-fill",width:480)'},{alias:"thumbnail",args:[{kind:"Literal",name:"height",value:38},{kind:"Literal",name:"width",value:58}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:38,width:58)"},{alias:null,args:null,concreteType:"PhotoEncoding",kind:"LinkedField",name:"photo_encodings",plural:!0,selections:[w,le,ie,il,{alias:null,args:null,kind:"ScalarField",name:"cdn_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_tile_level",storageKey:null},{alias:null,args:[{kind:"Literal",name:"thumbnail_dimensions",value:[{height:280,width:280},{height:480,width:480}]}],concreteType:"SphericalPhotoThumbnail",kind:"LinkedField",name:"thumbnails",plural:!0,selections:ga,storageKey:'thumbnails(thumbnail_dimensions:[{"height":280,"width":280},{"height":480,"width":480}])'},{alias:null,args:[{kind:"Literal",name:"tile_levels",value:[0]}],concreteType:"PhotoTile",kind:"LinkedField",name:"tiles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"level",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"face",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"col",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"row",storageKey:null},ne],storageKey:"tiles(tile_levels:[0])"},{alias:null,args:null,concreteType:"PhotosphereMetadata",kind:"LinkedField",name:"spherical_metadata",plural:!1,selections:[il,{alias:null,args:null,kind:"ScalarField",name:"full_pano_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_pano_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_width_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_image_height_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_left_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cropped_area_top_pixels",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_vertical_fov_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"initial_view_roll_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_heading_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_pitch_degrees",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pose_roll_degrees",storageKey:null}],storageKey:null}],storageKey:null},H,Rn,{alias:null,args:null,kind:"ScalarField",name:"original_extension",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"render_as_sticker",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blurred_image_uri",storageKey:null}],type:"MessageImage",abstractKey:null},sl={kind:"InlineFragment",selections:[Cn,bn,Xe,gn,{alias:null,args:null,kind:"ScalarField",name:"animated_image_caption",storageKey:null},H,hn,Rn],type:"MessageAnimatedImage",abstractKey:null},ul={alias:null,args:null,kind:"ScalarField",name:"url_skipshim",storageKey:null},cl={kind:"InlineFragment",selections:[Cn,bn,Xe,he,fe,{alias:null,args:null,kind:"ScalarField",name:"is_voicemail",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_type",storageKey:null},Ye,ul],type:"MessageAudio",abstractKey:null},dl={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},ml={kind:"InlineFragment",selections:[Cn,bn,Xe,ae,{alias:null,args:null,kind:"ScalarField",name:"mimetype",storageKey:null},dl,Pa,{alias:null,args:null,kind:"ScalarField",name:"message_file_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},Ye,ul,{alias:"preview",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:null}],type:"MessageFile",abstractKey:null},pl=[Ke,ll,sl,cl,Ln,ml],_l={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:pl,storageKey:null},fl={alias:null,args:null,kind:"ScalarField",name:"extensible_message_admin_text_type",storageKey:null},gl={alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"game",plural:!1,selections:q,storageKey:null},hl={kind:"InlineFragment",selections:[gl],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},yl={alias:null,args:null,kind:"ScalarField",name:"platform_xmd_encoded",storageKey:null},Cl={alias:null,args:null,kind:"ScalarField",name:"message_unsendability_status",storageKey:null},bl={alias:"last_message",args:B,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[W,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:q,storageKey:null}],storageKey:null},U,V,{kind:"InlineFragment",selections:[rl,ol,_l],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[hl],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null},yl,Cl],storageKey:null}],storageKey:"messages(last:1)"},vl={alias:null,args:null,concreteType:"ThreadConnectivityData",kind:"LinkedField",name:"thread_connectivity_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"connectivity_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"first_sender_id",storageKey:null}],storageKey:null},Sl={alias:null,args:null,kind:"ScalarField",name:"job_status",storageKey:null},Rl={alias:null,args:null,kind:"ScalarField",name:"should_show_jobs_feature",storageKey:null},Ll={alias:null,args:null,kind:"ScalarField",name:"should_show_schdule_interview_dialog",storageKey:null},El={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Sl,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[Rl,Ll],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},kl={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"thread_associated_page_admin",plural:!1,selections:Jn,storageKey:null},Il={alias:null,args:null,kind:"ScalarField",name:"unread_count",storageKey:null},Tl={condition:"is_work_teamwork_not_putting_muted_in_unreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"unread_mentions_count",storageKey:null}]},Dl={alias:null,args:null,kind:"ScalarField",name:"messages_count",storageKey:null},xl={alias:null,args:[{kind:"Literal",name:"size",value:60}],concreteType:"Image",kind:"LinkedField",name:"square_image",plural:!1,selections:re,storageKey:"square_image(size:60)"},$l={alias:null,args:null,kind:"ScalarField",name:"updated_time_precise",storageKey:null},Pl={alias:null,args:null,kind:"ScalarField",name:"mute_until",storageKey:null},Nl={alias:null,args:null,kind:"ScalarField",name:"is_pin_protected",storageKey:null},Ml={alias:null,args:null,kind:"ScalarField",name:"is_pinned",storageKey:null},wl={alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed",storageKey:null},Al={alias:null,args:null,kind:"ScalarField",name:"is_other_recipient_page",storageKey:null},Fl={alias:null,args:null,kind:"ScalarField",name:"thread_queue_enabled",storageKey:null},Ol={alias:null,args:null,kind:"ScalarField",name:"folder",storageKey:null},Bl={alias:null,args:null,kind:"ScalarField",name:"has_viewer_archived",storageKey:null},Wl={alias:null,args:null,kind:"ScalarField",name:"is_page_follow_up",storageKey:null},ql={alias:null,args:null,kind:"ScalarField",name:"is_page_unresponded_thread",storageKey:null},Ul={alias:null,args:null,kind:"ScalarField",name:"cannot_reply_reason",storageKey:null},Vl={alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},Hl={alias:null,args:null,kind:"ScalarField",name:"composer_input_disabled",storageKey:null},Gl={alias:null,args:null,kind:"ScalarField",name:"ephemeral_ttl_mode",storageKey:null},zl={alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},jl={alias:null,args:null,kind:"ScalarField",name:"participant_id",storageKey:null},Kl={alias:null,args:null,kind:"ScalarField",name:"nickname",storageKey:null},Ql={alias:null,args:null,concreteType:"MessageThreadParticipantCustomization",kind:"LinkedField",name:"participant_customizations",plural:!0,selections:[jl,Kl],storageKey:null},Xl={alias:null,args:null,kind:"ScalarField",name:"outgoing_bubble_color",storageKey:null},Yl={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[zl,Ql,Xl],storageKey:null},Jl={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},Zl={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},es={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},ts={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},ns={alias:null,args:null,kind:"ScalarField",name:"keyframe_asset_uri",storageKey:null},rs={alias:null,args:null,kind:"ScalarField",name:"reaction_name",storageKey:null},os={alias:null,args:null,kind:"ScalarField",name:"reaction_emoji",storageKey:null},as={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"static_asset",plural:!1,selections:re,storageKey:null},is={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[w,Jl,Zl,es,ts,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ns,rs,os,as],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ls={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:q,storageKey:null},ss={alias:"approval_mode",args:null,kind:"ScalarField",name:"group_approval_mode",storageKey:null},us={alias:null,args:null,concreteType:"MessageThreadJoinableMode",kind:"LinkedField",name:"joinable_mode",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null}],storageKey:null},cs={alias:null,args:null,concreteType:"GroupApprovalQueueConnection",kind:"LinkedField",name:"group_approval_queue",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerGroupRequesterInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"requester",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"inviter",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_source",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"request_timestamp",storageKey:null}],storageKey:null}],storageKey:null},ds=[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:q,storageKey:null}],ms={alias:null,args:null,concreteType:"ApprovalRequestsOfThreadConnection",kind:"LinkedField",name:"approval_requests",plural:!1,selections:ds,storageKey:null},ps={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[ms],storageKey:null},_s={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"lightweight_event_creator",plural:!1,selections:q,storageKey:null},fs={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_type",storageKey:null},gs={alias:null,args:null,kind:"ScalarField",name:"location_name",storageKey:null},hs={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location_coordinates",plural:!1,selections:$n,storageKey:null},ys={alias:null,args:null,concreteType:"StreetAddress",kind:"LinkedField",name:"address",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"full_address",storageKey:null}],storageKey:null},Cs={alias:null,args:null,kind:"ScalarField",name:"lightweight_event_status",storageKey:null},bs={alias:null,args:null,kind:"ScalarField",name:"note",storageKey:null},vs={alias:null,args:null,kind:"ScalarField",name:"repeat_mode",storageKey:null},Ss={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},Rs={alias:null,args:null,kind:"ScalarField",name:"seconds_to_notify_before",storageKey:null},Ls={alias:null,args:null,kind:"ScalarField",name:"allows_rsvp",storageKey:null},Es={alias:null,args:null,concreteType:"Event",kind:"LinkedField",name:"related_event",plural:!1,selections:q,storageKey:null},ks={alias:null,args:null,concreteType:"MessengerEventReminderMembersConnection",kind:"LinkedField",name:"event_reminder_members",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminderMembersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"guest_list_state",storageKey:null}],storageKey:null}],storageKey:null},Is={alias:null,args:ir,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,_s,aa,fs,gs,hs,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[ys],storageKey:null},Cs,bs,vs,oa,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[Ss],storageKey:null},Rs,Ls,Es,ks],storageKey:null}],storageKey:"event_reminders(first:1)"},Ts={alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"montage_thread",plural:!1,selections:q,storageKey:null},Ds=[U],xs={alias:"last_read_receipt",args:B,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Ds,storageKey:null}],storageKey:"read_receipts(last:1)"},$s={alias:"is_flagged",args:[{kind:"Literal",name:"page_message_tag",value:"FLAG"}],kind:"ScalarField",name:"has_tag",storageKey:'has_tag(page_message_tag:"FLAG")'},Ps={alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:q,storageKey:null},Ns={alias:null,args:null,kind:"ScalarField",name:"label_color",storageKey:null},Ms={alias:null,args:null,kind:"ScalarField",name:"data_silo",storageKey:null},ws={alias:null,args:null,kind:"ScalarField",name:"label_source",storageKey:null},As={alias:null,args:null,kind:"ScalarField",name:"is_ad_response_label",storageKey:null},Fs={alias:null,args:null,concreteType:"PageMessageThreadCustomThreadLabelsConnection",kind:"LinkedField",name:"custom_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ns,Ms,ws,As],storageKey:null}],storageKey:null},Os=[w,O,bt],Bs={alias:null,args:null,concreteType:"PageMessageThreadCustomTagsConnection",kind:"LinkedField",name:"custom_thread_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"nodes",plural:!0,selections:Os,storageKey:null}],storageKey:null},Ws={alias:null,args:null,kind:"ScalarField",name:"is_ai_label",storageKey:null},qs={alias:null,args:null,kind:"ScalarField",name:"is_ai_handoff_label",storageKey:null},Us={alias:null,args:null,concreteType:"PageMessageThreadCorpThreadLabelsConnection",kind:"LinkedField",name:"corp_thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ns,ws,Ms,Ws,qs,As],storageKey:null}],storageKey:null},Vs={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[$s,Ps,Fs,Bs,Us],storageKey:null},Hs={alias:null,args:null,kind:"ScalarField",name:"call_state",storageKey:null},Gs={alias:null,args:null,kind:"ScalarField",name:"server_info_data",storageKey:null},zs={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Hs,Gs,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:q,storageKey:null}],storageKey:null},js={alias:null,args:null,concreteType:"Location",kind:"LinkedField",name:"location",plural:!1,selections:[{alias:null,args:null,concreteType:"ReverseGeocodeData",kind:"LinkedField",name:"reverse_geocode",plural:!1,selections:[co,_o],storageKey:null}],storageKey:null},Ks={alias:null,args:null,kind:"ScalarField",name:"inventory_count",storageKey:null},Qs={alias:null,args:null,kind:"ScalarField",name:"delivery_types",storageKey:null},Xs={alias:null,args:null,kind:"ScalarField",name:"c2c_shipping_eligible",storageKey:null},Ys={alias:null,args:null,kind:"ScalarField",name:"is_pending",storageKey:null},Js={alias:null,args:null,kind:"ScalarField",name:"is_shipping_offered",storageKey:null},Zs={alias:null,args:null,kind:"ScalarField",name:"is_sold",storageKey:null},eu={alias:null,args:null,concreteType:"ProductItem",kind:"LinkedField",name:"product_item",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"is_commerce_post_item",storageKey:null}],storageKey:null},tu={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'},nu={alias:null,args:null,concreteType:"MarketplaceRatingState",kind:"LinkedField",name:"rating_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_eligible_to_rate",storageKey:null}],storageKey:null},ru={alias:null,args:null,kind:"ScalarField",name:"is_eligible",storageKey:null},ou={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MarketplaceC2CShippingSeller",kind:"LinkedField",name:"marketplace_c2c_shipping_seller",plural:!1,selections:[ru],storageKey:null}],type:"User",abstractKey:null},au={alias:null,args:null,kind:"ScalarField",name:"label_type",storageKey:null},iu={alias:null,args:null,concreteType:"MarketplaceThreadLabel",kind:"LinkedField",name:"seller_added_labels",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"label_string",storageKey:null},au],storageKey:null},lu={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[w,qn,Qo,Ko,js,Ks,Qs,Xs,Ys,Js,Zs,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:wt,storageKey:null},eu,tu],storageKey:null},nu,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[w,ou],storageKey:null},iu],storageKey:null},su={alias:"action_link",args:null,kind:"ScalarField",name:"url",storageKey:null},uu={alias:"room_type",args:null,kind:"ScalarField",name:"time_spent_room_type",storageKey:null},cu={alias:null,args:null,kind:"ScalarField",name:"privacy_mode",storageKey:null},du={alias:null,args:null,kind:"ScalarField",name:"approval_mode_toggleable",storageKey:null},mu={alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:vr,storageKey:null},pu=[Li],_u={alias:null,args:null,concreteType:"GroupSavesConnection",kind:"LinkedField",name:"group_saves",plural:!1,selections:pu,storageKey:null},fu={alias:null,args:[{kind:"Literal",name:"external_ref",value:"messenger"}],kind:"ScalarField",name:"verse_group_link",storageKey:'verse_group_link(external_ref:"messenger")'},gu={kind:"InlineFragment",selections:[O,Jo],type:"Page",abstractKey:null},hu={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[{kind:"InlineFragment",selections:[su,w,O,nt,Oi,uu,cu,du,mu,_u,fu],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[su,w,O,nt,uu,cu,du,Nr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[gu],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},yu={alias:null,args:null,kind:"ScalarField",name:"reactions_mute_mode",storageKey:null},Cu={alias:null,args:null,kind:"ScalarField",name:"mentions_mute_mode",storageKey:null},bu={alias:null,args:null,kind:"ScalarField",name:"customization_enabled",storageKey:null},vu={alias:null,args:null,kind:"ScalarField",name:"thread_type",storageKey:null},Su={alias:null,args:null,kind:"ScalarField",name:"group_thread_subtype",storageKey:null},Ru={alias:null,args:null,kind:"ScalarField",name:"participant_add_mode_as_string",storageKey:null},Lu={alias:null,args:null,kind:"ScalarField",name:"is_canonical_neo_user",storageKey:null},Eu={alias:null,args:null,concreteType:"MessageThreadParticipantEventStatusInfo",kind:"LinkedField",name:"participants_event_status",plural:!0,selections:[jl,{alias:null,args:null,kind:"ScalarField",name:"event_status",storageKey:null}],storageKey:null},ku={alias:null,args:null,kind:"ScalarField",name:"comm_status",storageKey:null},Iu={alias:null,args:null,kind:"ScalarField",name:"comm_source_id",storageKey:null},Tu={alias:null,args:null,kind:"ScalarField",name:"is_priority",storageKey:null},Du={alias:null,args:null,kind:"ScalarField",name:"biz_inbox_tags",storageKey:null},xu={alias:null,args:null,kind:"ScalarField",name:"priority_score",storageKey:null},$u={alias:null,args:null,kind:"ScalarField",name:"trigger_id",storageKey:null},Pu=[{alias:null,args:null,kind:"ScalarField",name:"suggestion_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggestion_content",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"triggered_timestamp",storageKey:null},$u],Nu={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"biz_inbox_suggested_reply",plural:!1,selections:Pu,storageKey:null},Mu={alias:null,args:null,kind:"ScalarField",name:"is_thread_currently_handled_by_ai_agent",storageKey:null},wu=[w,O,{alias:null,args:[{kind:"Literal",name:"height",value:20},{kind:"Literal",name:"width",value:20}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:20,width:20)"}],Au={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"admin",plural:!1,selections:wu,storageKey:null},Fu={alias:null,args:null,kind:"ScalarField",name:"comm_icon_type",storageKey:null},Ou={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[w,ku,Iu,Tu,Du,xu,Nu,Mu,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Au],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:wt,storageKey:null},lt,ni],storageKey:null},li,G],storageKey:null},Fu],storageKey:null},Bu={alias:null,args:null,kind:"ScalarField",name:"admin_model_status_string",storageKey:null},Wu={alias:null,args:null,kind:"ScalarField",name:"groups_sync_status_string",storageKey:null},qu={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:hi,storageKey:null}],storageKey:null},Uu={alias:null,args:null,kind:"ScalarField",name:"pinning_time",storageKey:null},Vu={alias:null,args:null,concreteType:"OmniMActionLite",kind:"LinkedField",name:"m_suggestions",plural:!0,selections:[w,ee,K,{alias:null,args:null,concreteType:"OmniMActionDataLite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"OmniMActionReminderDataLite",kind:"LinkedField",name:"reminder",plural:!1,selections:[Ki,{alias:null,args:null,kind:"ScalarField",name:"topic",storageKey:null}],storageKey:null}],storageKey:null},Tn],storageKey:null},Hu={alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},Gu={alias:null,args:null,kind:"ScalarField",name:"email",storageKey:null},zu={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[w,Gu],storageKey:null},ju={alias:null,args:null,kind:"ScalarField",name:"ttl",storageKey:null},Ku={alias:null,args:null,kind:"ScalarField",name:"unread",storageKey:null},Qu={alias:null,args:null,kind:"ScalarField",name:"is_sponsored",storageKey:null},Xu={alias:null,args:null,kind:"ScalarField",name:"ad_client_token",storageKey:null},Yu={alias:null,args:null,concreteType:"MessageCustomization",kind:"LinkedField",name:"customizations",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"customization_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"customization_value",storageKey:null}],storageKey:null},Ju={alias:null,args:null,kind:"ScalarField",name:"tags_list",storageKey:null},Zu={alias:null,args:null,concreteType:"MessageSourceData",kind:"LinkedField",name:"message_source_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message_source",storageKey:null}],storageKey:null},ec={alias:null,args:null,concreteType:"MontageReplyData",kind:"LinkedField",name:"montage_reply_data",plural:!1,selections:[Ss,{alias:null,args:null,kind:"ScalarField",name:"reply_action",storageKey:null},W],storageKey:null},tc={alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},nc={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[tc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:q,storageKey:null}],storageKey:null},rc={alias:null,args:null,kind:"ScalarField",name:"unsent_timestamp_precise",storageKey:null},oc={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[w,O,gi],storageKey:null}],storageKey:null},ac={alias:null,args:null,kind:"ScalarField",name:"verse_group_role_xmd",storageKey:null},ic={alias:null,args:null,kind:"ScalarField",name:"secondary_language_body",storageKey:null},lc={kind:"InlineFragment",selections:q,type:"Profile",abstractKey:"__isProfile"},sc={kind:"InlineFragment",selections:q,type:"MessengerViewerGroupThread",abstractKey:null},uc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[A],storageKey:null}],type:"MessageThread",abstractKey:null},cc={alias:null,args:null,kind:"ScalarField",name:"message_profile_range_type",storageKey:null},dc={alias:null,args:null,concreteType:"MetaAtRange",kind:"LinkedField",name:"meta_ranges",plural:!0,selections:[lt,ni,K,ai],storageKey:null},mc={alias:null,args:null,concreteType:"MessagePageAdminSender",kind:"LinkedField",name:"page_admin_sender",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"admin_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_type",storageKey:null},O,au,Ue,{alias:null,args:null,kind:"ScalarField",name:"profile_uri",storageKey:null}],storageKey:null},pc={kind:"InlineFragment",selections:[ic,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,ni,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,lc,sc,uc],storageKey:null},cc],storageKey:null}],storageKey:null},dc,rl,ol,_l,mc],type:"UserMessage",abstractKey:null},_c={alias:null,args:null,kind:"ScalarField",name:"answered",storageKey:null},fc={kind:"InlineFragment",selections:[_c,W],type:"VoiceCallMessage",abstractKey:null},gc=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:pl,storageKey:null}],hc={kind:"InlineFragment",selections:[_c,W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Li,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:gc,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},yc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},W],type:"ThreadNameMessage",abstractKey:null},Cc={alias:"preview",args:Ba,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:re,storageKey:"image(height:280,width:280)"},bc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Cc,H,Rn],storageKey:null},W],type:"ThreadImageMessage",abstractKey:null},vc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_added",plural:!0,selections:q,storageKey:null},W],type:"ParticipantsAddedMessage",abstractKey:null},Sc={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"participants_removed",plural:!0,selections:q,storageKey:null},W],type:"ParticipantLeftMessage",abstractKey:null},Rc={alias:null,args:null,kind:"ScalarField",name:"viewer_has_voted",storageKey:null},Lc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"event_type",storageKey:null},{alias:"total_count",args:null,kind:"ScalarField",name:"option_count",storageKey:null},{alias:null,args:null,concreteType:"Question",kind:"LinkedField",name:"question",plural:!1,selections:[w,G,Rc,{alias:null,args:[{kind:"Literal",name:"orderby",value:"creation_time"}],concreteType:"QuestionOptionsConnection",kind:"LinkedField",name:"options",plural:!1,selections:[{alias:null,args:null,concreteType:"QuestionOption",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,G,Rc,{alias:null,args:null,concreteType:"QuestionOptionVotersConnection",kind:"LinkedField",name:"voters",plural:!1,selections:ds,storageKey:null}],storageKey:null}],storageKey:'options(orderby:"creation_time")'}],storageKey:null}],type:"GroupPollExtensibleMessageAdminText",abstractKey:null},Ec={alias:null,args:null,kind:"ScalarField",name:"display_name",storageKey:null},kc={alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"event_reminder",plural:!1,selections:[w,aa,oa,{alias:null,args:null,kind:"ScalarField",name:"end_time",storageKey:null},gs,fs,Ls,Rs,_s,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:q,storageKey:null},hs,{alias:null,args:null,concreteType:"TimezoneInfo",kind:"LinkedField",name:"timezone_id",plural:!1,selections:[Ec,ca,{alias:null,args:null,kind:"ScalarField",name:"timezone_id",storageKey:null}],storageKey:null},ks],storageKey:null},Ic=[kc],Tc={kind:"InlineFragment",selections:Ic,type:"LightweightEventCreateExtensibleMessageAdminText",abstractKey:null},Dc={kind:"InlineFragment",selections:Ic,type:"LightweightEventDeleteExtensibleMessageAdminText",abstractKey:null},xc={kind:"InlineFragment",selections:Ic,type:"LightweightEventNotifyBeforeEventExtensibleMessageAdminText",abstractKey:null},$c={kind:"InlineFragment",selections:Ic,type:"LightweightEventNotifyExtensibleMessageAdminText",abstractKey:null},Pc={kind:"InlineFragment",selections:Ic,type:"LightweightEventUpdateExtensibleMessageAdminText",abstractKey:null},Nc={kind:"InlineFragment",selections:Ic,type:"LightweightEventUpdateLocationExtensibleMessageAdminText",abstractKey:null},Mc={kind:"InlineFragment",selections:Ic,type:"LightweightEventUpdateTimeExtensibleMessageAdminText",abstractKey:null},wc={kind:"InlineFragment",selections:Ic,type:"LightweightEventUpdateTitleExtensibleMessageAdminText",abstractKey:null},Ac={alias:null,args:null,kind:"ScalarField",name:"guest_id",storageKey:null},Fc={kind:"InlineFragment",selections:[Ac,{alias:null,args:null,kind:"ScalarField",name:"guest_status",storageKey:null},kc],type:"LightweightEventRSVPExtensibleMessageAdminText",abstractKey:null},Oc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"theme_color",storageKey:null}],type:"ThemeColorExtensibleMessageAdminText",abstractKey:null},Bc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"thread_icon",storageKey:null}],type:"ThreadIconExtensibleMessageAdminText",abstractKey:null},Wc={kind:"InlineFragment",selections:[Kl,{alias:"participant_id",args:null,kind:"ScalarField",name:"target_id",storageKey:null}],type:"ThreadNicknameExtensibleMessageAdminText",abstractKey:null},qc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"accepter_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"requester_id",storageKey:null}],type:"AcceptPendingThreadExtensibleMessageAdminText",abstractKey:null},Uc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"contact_added_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contact_adder_id",storageKey:null}],type:"AddContactExtensibleMessageAdminText",abstractKey:null},Vc={alias:null,args:null,kind:"ScalarField",name:"event",storageKey:null},Hc={kind:"InlineFragment",selections:[Vc,{alias:null,args:null,kind:"ScalarField",name:"is_video_call",storageKey:null},Gs],type:"RtcCallLogExtensibleMessageAdminText",abstractKey:null},Gc={alias:null,args:null,kind:"ScalarField",name:"update_type",storageKey:null},zc={alias:null,args:null,kind:"ScalarField",name:"collapsed_text",storageKey:null},jc={alias:null,args:null,kind:"ScalarField",name:"expanded_text",storageKey:null},Kc={alias:null,args:null,kind:"ScalarField",name:"cta_url",storageKey:null},Qc={alias:null,args:null,kind:"ScalarField",name:"template",storageKey:null},Xc={alias:null,args:null,kind:"ScalarField",name:"leaderboard_json",storageKey:null},Yc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"game_type",storageKey:null}],type:"GameScoreExtensibleMessageAdminText",abstractKey:null},Jc={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"parties_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"parties_invite_type",storageKey:null}],type:"PartiesInviteExtensibleMessageAdminText",abstractKey:null},Zc={alias:null,args:null,kind:"ScalarField",name:"icebreaker_type",storageKey:null},ed={alias:null,args:null,kind:"ScalarField",name:"icebreaker_title",storageKey:null},td={alias:null,args:null,kind:"ScalarField",name:"icebreaker_subtitle",storageKey:null},nd={alias:null,args:null,kind:"ScalarField",name:"vote_buttons_with_icons",storageKey:null},rd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"friend_request_recipient",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_sender",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"friend_request_subtype",storageKey:null},Zc,ed,td,nd],type:"ConfirmFriendRequestExtensibleMessageAdminText",abstractKey:null},od={alias:null,args:null,kind:"ScalarField",name:"sender_id",storageKey:null},ad={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"bump_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"recipient_id",storageKey:null},od,Q,Ut,{alias:null,args:null,kind:"ScalarField",name:"icon_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"image_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"facepile_ids",storageKey:null},Xi,{alias:null,args:null,kind:"ScalarField",name:"cta_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"admin_message_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"banner_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_two_way",storageKey:null}],type:"MessengerGrowthGenericExtensibleMessageAdminText",abstractKey:null},id={alias:null,args:null,kind:"ScalarField",name:"primary_text",storageKey:null},ld={kind:"InlineFragment",selections:[id,{alias:null,args:null,kind:"ScalarField",name:"ios_uri",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"activity_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_redesign",storageKey:null}],type:"BizInboxDetectedOutcomesActivityAdminTextExtensibleMessageAdminText",abstractKey:null},sd={alias:null,args:null,kind:"ScalarField",name:"cta_text",storageKey:null},ud={kind:"InlineFragment",selections:[id,sd,Kc,{alias:null,args:null,kind:"ScalarField",name:"async_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"www_is_async_url",storageKey:null}],type:"LinkCTAExtensibleMessageAdminText",abstractKey:null},cd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"referer_uri",storageKey:null}],type:"MessengerLiveChatPluginURLUpdateAdminText",abstractKey:null},dd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fb_user_name",storageKey:null}],type:"MessengerLiveChatPluginFBUserStartChatAdminText",abstractKey:null},md={kind:"InlineFragment",selections:[Tn],type:"MessengerLiveChatPluginGuestUserStartChatAdminText",abstractKey:null},pd={kind:"InlineFragment",selections:[sd,Kc,Ss,{alias:null,args:null,kind:"ScalarField",name:"recipient_is_the_sender",storageKey:null}],type:"WorkChatReminderLinkCTAExtensibleMessageAdminText",abstractKey:null},_d={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"post_uri",storageKey:null}],type:"PostSharedFromGroupExtensibleMessageAdminText",abstractKey:null},fd={alias:null,args:null,kind:"ScalarField",name:"ad_url",storageKey:null},gd={kind:"InlineFragment",selections:[fd],type:"MessengerAdContextAdminText",abstractKey:null},hd={kind:"InlineFragment",selections:[Xu,wa,{alias:null,args:null,kind:"ScalarField",name:"ad_preferences_link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ad_properties",storageKey:null}],type:"AdExtensibleMessageAdminText",abstractKey:null},yd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"page_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"start_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"product_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_name",storageKey:null}],type:"AppointmentReminderExtensibleMessageAdminText",abstractKey:null},Cd=[Ue],bd={kind:"InlineFragment",selections:Cd,type:"GraphQLServicesAppointmentsOptOutExtensibleMessageAdminText",abstractKey:null},vd={kind:"InlineFragment",selections:Cd,type:"ServicesLeadGenSurveyExtensibleMessageAdminText",abstractKey:null},Sd={kind:"InlineFragment",selections:Cd,type:"ServicesLeadGenSurveyEditExtensibleMessageAdminText",abstractKey:null},Rd={alias:null,args:null,kind:"ScalarField",name:"caller_id",storageKey:null},Ld={alias:null,args:null,kind:"ScalarField",name:"callee_id",storageKey:null},Ed={alias:null,args:null,kind:"ScalarField",name:"conference_name",storageKey:null},kd={alias:null,args:null,kind:"ScalarField",name:"server_info",storageKey:null},Id={alias:null,args:null,kind:"ScalarField",name:"video",storageKey:null},Td={alias:null,args:null,kind:"ScalarField",name:"call_duration",storageKey:null},Dd={alias:null,args:null,kind:"ScalarField",name:"rating",storageKey:null},xd={kind:"InlineFragment",selections:[Zc,ed,td,{alias:null,args:null,kind:"ScalarField",name:"votes_cast",storageKey:null},nd],type:"MessengerIcebreakerVoteCastExtensibleMessageAdminText",abstractKey:null},$d={alias:null,args:null,kind:"ScalarField",name:"user_id",storageKey:null},Pd={alias:null,args:null,kind:"ScalarField",name:"currency_code",storageKey:null},Nd=[Ue,$d,{alias:null,args:null,kind:"ScalarField",name:"receipt_photo_id",storageKey:null},Pd,{alias:null,args:null,kind:"ScalarField",name:"detection_type",storageKey:null}],Md={kind:"InlineFragment",selections:Nd,type:"PagesMarkAsPaidExtensibleMessageAdminText",abstractKey:null},wd={kind:"InlineFragment",selections:Nd,type:"PagesMarkAsPaidNewExtensibleMessageAdminText",abstractKey:null},Ad={alias:null,args:null,kind:"ScalarField",name:"interaction_id",storageKey:null},Fd={kind:"InlineFragment",selections:[Ue,$d,{alias:null,args:null,kind:"ScalarField",name:"interaction_type",storageKey:null},Ad,{alias:null,args:null,kind:"ScalarField",name:"should_show_cta",storageKey:null}],type:"PageThreadActionSystemAddDetailsXMAT",abstractKey:null},Od={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"bot_page",plural:!1,selections:q,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_landing_page",storageKey:null}],type:"WorkBotInstalledExtensibleMessageAdminText",abstractKey:null},Bd={kind:"InlineFragment",selections:[fd,{alias:null,args:null,kind:"ScalarField",name:"should_show_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"results_url",storageKey:null}],type:"AdReplyMessageAdminText",abstractKey:null},Wd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"new_magic_word_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"magic_word",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji_effect",storageKey:null}],type:"MagicWordsExtensibleMessageAdminText",abstractKey:null},qd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"token_ent_id_string",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"user_action_type",storageKey:null}],type:"NotificationMessagesAdminText",abstractKey:null},Ud={alias:null,args:null,kind:"ScalarField",name:"admin_assigner_name",storageKey:null},Vd={kind:"InlineFragment",selections:[Ud,{alias:null,args:null,kind:"ScalarField",name:"assigned_admin_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"assign_conversation",storageKey:null}],type:"BizInboxAssignAdminAdminText",abstractKey:null},Hd={kind:"InlineFragment",selections:[Ud,{alias:null,args:null,kind:"ScalarField",name:"note_input",storageKey:null}],type:"BizInboxAdminAssignmentNoteAdminText",abstractKey:null},Gd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"email_thread_id",storageKey:null}],type:"BizInboxOmnichannelEmailSentAdminText",abstractKey:null},zd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_subscription_management_action_type",storageKey:null}],type:"InstantGameBotMessageSubscriptionManagementAdminText",abstractKey:null},jd={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"user_mute_management_action_type",storageKey:null}],type:"InstantGameCustomUpdateMuteManagementAdminText",abstractKey:null},Kd={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,Lc,Tc,Dc,xc,$c,Pc,Nc,Mc,wc,Fc,Oc,Bc,Wc,qc,Uc,Hc,{kind:"InlineFragment",selections:[gl,Gc,zc,jc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[{kind:"InlineFragment",selections:[Kc,Xi,xi,Qc],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Xc],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Yc,Jc,rd,ad,ld,ud,cd,dd,md,pd,_d,gd,hd,yd,bd,vd,Sd,{kind:"InlineFragment",selections:[Rd,Ld,Ed,Vc,kd,Id,Td,Dd,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Li,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:gc,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},xd,Md,wd,Fd,Od,Bd,Wd,qd,Vd,Hd,Gd,zd,jd],storageKey:null},fl,W],type:"GenericAdminTextMessage",abstractKey:null},Qd=[{alias:null,args:null,kind:"ScalarField",name:"transfer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"message_type",storageKey:null},{alias:null,args:null,concreteType:"CurrencyQuantity",kind:"LinkedField",name:"amount",plural:!1,selections:Ot,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_sender",plural:!1,selections:q,storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"p2p_receiver",plural:!1,selections:q,storageKey:null},W],Xd={kind:"InlineFragment",selections:Qd,type:"P2PPaymentRequestMessage",abstractKey:null},Yd={kind:"InlineFragment",selections:Qd,type:"P2PPaymentMessage",abstractKey:null},Jd=[Vu,Ke,Ss,Hu,zu,ju,U,Ku,Qu,wa,Xu,V,Yu,Ju,yl,Zu,ec,nc,rc,oc,ac,Cl,pc,fc,hc,yc,bc,vc,Sc,Kd,Xd,Yd,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[mr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Vu,Ke,Ss,Hu,zu,ju,U,Ku,Qu,wa,Xu,V,Yu,Ju,yl,Zu,ec,nc,rc,oc,ac,Cl,pc,fc,hc,yc,bc,vc,Sc,Kd,Xd,Yd],storageKey:null}],storageKey:null}],Zd={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[Ss,Uu,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:Jd,storageKey:null}]}],storageKey:null},em={alias:null,args:null,kind:"ScalarField",name:"is_default_child_group",storageKey:null},tm={alias:null,args:null,kind:"ScalarField",name:"emoji_codepoints",storageKey:null},nm={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w,O,wi,em,nt,_u,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[tm],storageKey:null}],storageKey:null}],storageKey:null},rm={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:Jd,storageKey:null}]},om={alias:null,args:null,kind:"ScalarField",name:"joinable_link",storageKey:null},am={alias:null,args:null,kind:"ScalarField",name:"is_fuss_red_page",storageKey:null},im={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"program_group",plural:!1,selections:[w,{alias:null,args:[{kind:"Literal",name:"height",value:24},{kind:"Literal",name:"width",value:24}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:24,width:24)"}],storageKey:null},lm={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"mentorship_group",plural:!1,selections:vr,storageKey:null},sm={alias:null,args:null,kind:"ScalarField",name:"banner_title",storageKey:null},um={alias:null,args:null,kind:"ScalarField",name:"banner_subtitle",storageKey:null},cm={alias:null,args:ir,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,im,lm,{alias:null,args:ir,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[sm,um],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},dm={alias:null,args:null,kind:"ScalarField",name:"thread_unsendability_status",storageKey:null},mm={alias:null,args:null,kind:"ScalarField",name:"thread_pin_timestamp",storageKey:null},pm={alias:null,args:null,kind:"ScalarField",name:"is_business_page_active",storageKey:null},_m={alias:null,args:null,concreteType:"ConversionDetectionData",kind:"LinkedField",name:"conversion_detection_data",plural:!1,selections:[ru,{alias:null,args:null,kind:"ScalarField",name:"conversion_type",storageKey:null},Pd,{alias:null,args:null,kind:"ScalarField",name:"currency_amount",storageKey:null},{alias:"timestamp",args:null,kind:"ScalarField",name:"timestamp_graphql_time",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_reply",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_key",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"icebreaker_message",storageKey:null},$u,{alias:null,args:null,kind:"ScalarField",name:"shipping_provider",storageKey:null},la,{alias:null,args:null,kind:"ScalarField",name:"ctx_ad_info",storageKey:null}],storageKey:null},fm={alias:null,args:null,concreteType:"SuggestedReplyData",kind:"LinkedField",name:"suggested_reply_data",plural:!1,selections:Pu,storageKey:null},gm={alias:null,args:null,kind:"ScalarField",name:"admin_type",storageKey:null},hm={alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},ym={alias:"big_image_src",args:[{kind:"Literal",name:"height",value:60},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:"profile_picture(height:60,width:60)"},Cm={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},bm={alias:null,args:null,kind:"ScalarField",name:"is_viewer_friend",storageKey:null},vm={alias:null,args:null,kind:"ScalarField",name:"is_messenger_user",storageKey:null},Sm={alias:null,args:null,kind:"ScalarField",name:"is_message_blocked_by_viewer",storageKey:null},Rm={alias:null,args:null,kind:"ScalarField",name:"is_viewer_coworker",storageKey:null},Lm={alias:null,args:null,kind:"ScalarField",name:"is_employee",storageKey:null},Em={alias:null,args:null,kind:"ScalarField",name:"is_aloha_proxy_confirmed",storageKey:null},km={alias:null,args:null,kind:"ScalarField",name:"message_capabilities2_str",storageKey:null},Im={alias:null,args:null,kind:"ScalarField",name:"messenger_account_status_category",storageKey:null},Tm={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:Ir,storageKey:null},Pi],storageKey:null},Dm={kind:"InlineFragment",selections:[hm,ae,ym,It,bm,vm,Sm,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_managing_parent",storageKey:null}],type:"NeoApprovedUser",abstractKey:null},xm={kind:"InlineFragment",selections:[ae,ym,Cm,{alias:null,args:null,kind:"ScalarField",name:"accepts_messenger_user_feedback",storageKey:null},vm,{alias:null,args:null,kind:"ScalarField",name:"is_messenger_platform_bot",storageKey:null},Sm,{alias:null,args:null,kind:"ScalarField",name:"is_viewer_subscribed_to_message_updates",storageKey:null},{alias:null,args:null,concreteType:"InstantGameChannelInfo",kind:"LinkedField",name:"instant_game_channel",plural:!1,selections:[{alias:null,args:null,concreteType:"Application",kind:"LinkedField",name:"application",plural:!1,selections:q,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null}],type:"Page",abstractKey:null},$m=[ae,ym,Sm],Pm={kind:"InlineFragment",selections:$m,type:"SmsMessagingParticipant",abstractKey:null},Nm={kind:"InlineFragment",selections:[ym,Sm],type:"InstagramMessagingUser",abstractKey:null},Mm=[ym],wm={kind:"InlineFragment",selections:Mm,type:"LiveChatOnlyPerson",abstractKey:null},Am={kind:"InlineFragment",selections:$m,type:"UnavailableMessagingActor",abstractKey:null},Fm={kind:"InlineFragment",selections:Mm,type:"UnifiedMessagingInstagramUser",abstractKey:null},Om={alias:null,args:null,kind:"ScalarField",name:"is_blocked_by_viewer",storageKey:null},Bm=[ae,ym,Cm],Wm={kind:"InlineFragment",selections:Bm,type:"Group",abstractKey:null},qm={kind:"InlineFragment",selections:Bm,type:"Event",abstractKey:null},Um={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"detail",storageKey:null},ee,K],storageKey:null}],type:"WorkForeignEntity",abstractKey:"__isWorkForeignEntity"},Vm=[ae,ym,It,Sm],Hm={kind:"InlineFragment",selections:Vm,type:"XFBWorkroomsBaseUser",abstractKey:"__isXFBWorkroomsBaseUser"},Gm={kind:"InlineFragment",selections:Vm,type:"XFBWorkroomsSystemUser",abstractKey:null},zm={kind:"InlineFragment",selections:Mm,type:"MessengerCallGuestUser",abstractKey:null},jm={kind:"InlineFragment",selections:Mm,type:"WorkVCEndpointUser",abstractKey:null},Km={kind:"InlineFragment",selections:Mm,type:"WECMailboxAccount",abstractKey:null},Qm={kind:"InlineFragment",selections:Mm,type:"WECCustomer",abstractKey:null},Xm={alias:null,args:null,kind:"ScalarField",name:"wec_group_creation_time",storageKey:null},Ym={alias:null,args:null,kind:"ScalarField",name:"wec_group_invite_link",storageKey:null},Jm={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:Sr,storageKey:null},Zm={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[gm,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[w,Ke,O,{kind:"InlineFragment",selections:[hm,ae,ym,It,Cm,bm,vm,Sm,Rm,Lm,Em,km,Im,Tm],type:"User",abstractKey:null},Dm,xm,Pm,Nm,wm,Am,Fm,{kind:"InlineFragment",selections:[ae,ym,Cm,Om,Sm,Tm],type:"ReducedMessagingActor",abstractKey:null},Wm,qm,Um,Hm,Gm,zm,jm,Km,Qm,{kind:"InlineFragment",selections:[ym,Xm,Ym,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Jm,Li],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Jm],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},ep={alias:"watermark",args:null,kind:"ScalarField",name:"timestamp_precise",storageKey:null},tp={alias:"action",args:null,kind:"ScalarField",name:"action_timestamp_precise",storageKey:null},np={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[ep,tp,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:q,storageKey:null}],storageKey:null}],storageKey:null},rp=[{alias:null,args:null,concreteType:"MessagingDeliveryReceiptsOfThreadConnection",kind:"LinkedField",name:"delivery_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingDeliveryReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:Ds,storageKey:null}],storageKey:null}],op={condition:"includeDeliveryReceipts",kind:"Condition",passingValue:!0,selections:rp},ap=[M,{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,F,O,bl,vl,El,kl,Il,Tl,Dl,xl,Mt,$l,Pl,Nl,Ml,wl,Al,Fl,Ol,Bl,Wl,ql,Ul,Vl,Hl,Gl,Yl,is,ls,ss,us,cs,ps,Is,Ts,xs,Vs,zs,lu,hu,cu,yu,Cu,bu,vu,Su,Ru,Lu,Eu,Ou,Bu,Wu,qu,Zd,nm,rm,Ut,om,am,cm,dm,mm,pm,_m,fm,Zm,np,op],storageKey:null}],ip={alias:null,args:null,kind:"ScalarField",name:"instagram_user_id",storageKey:null},lp=[ip,nt],sp={alias:null,args:null,kind:"ScalarField",name:"unseen_count",storageKey:null},up={alias:null,args:null,kind:"ScalarField",name:"token",storageKey:null},cp={alias:null,args:null,kind:"ScalarField",name:"thread_id",storageKey:null},dp={alias:null,args:null,kind:"ScalarField",name:"thread_v2_id",storageKey:null},mp={alias:null,args:null,kind:"ScalarField",name:"instagram_message_thread_type",storageKey:null},pp={alias:null,args:null,kind:"ScalarField",name:"thread_title",storageKey:null},_p={alias:null,args:null,kind:"ScalarField",name:"is_group",storageKey:null},fp={alias:null,args:null,kind:"ScalarField",name:"last_activity_at",storageKey:null},gp={alias:null,args:null,concreteType:"IGThreadLastSeenUser",kind:"LinkedField",name:"last_seen_at",plural:!0,selections:[Io,Ki,$d],storageKey:null},hp={alias:null,args:null,kind:"ScalarField",name:"media_type",storageKey:null},yp={alias:null,args:null,concreteType:"IGThreadDirectStoryData",kind:"LinkedField",name:"direct_story",plural:!1,selections:[sp,hp],storageKey:null},Cp={alias:null,args:null,concreteType:"InstagramMessageThreadThreadLabelsConnection",kind:"LinkedField",name:"thread_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ns,Ms,ws],storageKey:null}],storageKey:null},bp={alias:null,args:null,concreteType:"InstagramMessageThreadThreadCorpLabelsConnection",kind:"LinkedField",name:"thread_corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ns,Ms],storageKey:null}],storageKey:null},vp={alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"assigned_admin",plural:!1,selections:wu,storageKey:null},Sp={alias:null,args:null,kind:"ScalarField",name:"is_follow_up",storageKey:null},Rp={alias:null,args:null,kind:"ScalarField",name:"is_read",storageKey:null},Lp={alias:null,args:null,kind:"ScalarField",name:"business_thread_folder",storageKey:null},Ep={alias:null,args:null,concreteType:"IGThreadUserNodesData",kind:"LinkedField",name:"thread_users",plural:!1,selections:[{alias:null,args:null,concreteType:"IGThreadUserData",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"eimu_id",storageKey:null},ip,Cm,O,{alias:null,args:null,concreteType:"IGThreadUserProfilePic",kind:"LinkedField",name:"profile_picture",plural:!1,selections:re,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null}],storageKey:null}],storageKey:null},kp={alias:null,args:null,kind:"ScalarField",name:"input_mode",storageKey:null},Ip={alias:null,args:null,kind:"ScalarField",name:"is_partnership",storageKey:null},Tp={alias:null,args:null,kind:"ScalarField",name:"time_stamp",storageKey:null},Dp={alias:null,args:null,kind:"ScalarField",name:"ig_item_type",storageKey:null},xp={alias:null,args:null,kind:"ScalarField",name:"client_context",storageKey:null},$p={alias:null,args:null,concreteType:"IGThreadItemPlaceHolderSource",kind:"LinkedField",name:"ig_placeholder",plural:!1,selections:[Q,Ma],storageKey:null},Pp=[{kind:"Variable",name:"height",variableName:"height"},{kind:"Variable",name:"width",variableName:"width"}],Np={alias:null,args:Pp,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:re,storageKey:null},Mp={alias:null,args:Pp,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"video_source",plural:!1,selections:Jr,storageKey:null},wp={alias:null,args:null,kind:"ScalarField",name:"expiring_at",storageKey:null},Ap=[ip,Cm,O,nt],Fp={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Ap,storageKey:null},Op={alias:null,args:null,concreteType:"IGMessageThreadItemRavenMedia",kind:"LinkedField",name:"raven_media",plural:!1,selections:[hp,{alias:null,args:null,kind:"ScalarField",name:"seen_user_ids",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seen_count",storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[Np,Mp,wp],storageKey:null}],storageKey:null},Bp={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Ap,storageKey:null},Wp={alias:null,args:Pp,concreteType:"Image",kind:"LinkedField",name:"image_source",plural:!1,selections:Jr,storageKey:null},qp={kind:"InlineFragment",selections:z,type:"IGMessageThreadItemMediaShare",abstractKey:null},Up={alias:null,args:null,kind:"ScalarField",name:"story_type",storageKey:null},Vp={kind:"InlineFragment",selections:[Up,G,K],type:"IGMessageThreadItemReelShare",abstractKey:null},Hp={kind:"InlineFragment",selections:[Up,Ma,Q,G],type:"IGMessageThreadItemStoryShare",abstractKey:null},Gp={kind:"InlineFragment",selections:[Q,G],type:"IGMessageThreadItemFelixShare",abstractKey:null},zp={kind:"InlineFragment",selections:[Q,dt,G,{alias:null,args:null,kind:"ScalarField",name:"current_price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_price",storageKey:null},ne],type:"IGMessageThreadItemProductShare",abstractKey:null},jp={alias:null,args:null,kind:"ScalarField",name:"likes_count",storageKey:null},Kp={alias:null,args:null,kind:"ScalarField",name:"emojis",storageKey:null},Qp={alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"media",plural:!0,selections:Jr,storageKey:null},Xp={alias:null,args:null,concreteType:"IGThreadItemActionLogSource",kind:"LinkedField",name:"action_log",plural:!1,selections:[Ut,{alias:null,args:null,concreteType:"IGThreadItemActionLogBoldSource",kind:"LinkedField",name:"bold",plural:!0,selections:nr,storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemActionLogTextAttributesSource",kind:"LinkedField",name:"text_attributes",plural:!0,selections:[er,tr,bt,{alias:null,args:null,kind:"ScalarField",name:"intent",storageKey:null}],storageKey:null}],storageKey:null},Yp={alias:null,args:null,concreteType:"IGThreadItemLinkSource",kind:"LinkedField",name:"link_source",plural:!1,selections:[xp,G,{alias:null,args:null,concreteType:"IGThreadItemLinkContextSource",kind:"LinkedField",name:"link_context",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_summary",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_image_url",storageKey:null}],storageKey:null}],storageKey:null},Jp={alias:null,args:null,concreteType:"IGThreadItemVideoSource",kind:"LinkedField",name:"animated_media",plural:!1,selections:ga,storageKey:null},Zp={alias:null,args:null,concreteType:"IGThreadItemVoiceMediaSource",kind:"LinkedField",name:"voice_media",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"audio_src",storageKey:null},et],storageKey:null},e_=[hp,Wp],t_={alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!1,selections:e_,storageKey:null},n_={alias:null,args:null,concreteType:"IGMessageThreadItemHScrollShareItem",kind:"LinkedField",name:"hscroll_share",plural:!0,selections:[Q,dt,ne,t_],storageKey:null},r_={alias:null,args:null,kind:"ScalarField",name:"header_title",storageKey:null},o_={alias:null,args:null,kind:"ScalarField",name:"header_subtitle",storageKey:null},a_={alias:null,args:null,kind:"ScalarField",name:"header_icon_url",storageKey:null},i_={alias:null,args:null,concreteType:"IGMessageThreadItemCollectionShare",kind:"LinkedField",name:"shops_collection_share",plural:!1,selections:[r_,o_,a_,Q,dt,cn,t_],storageKey:null},l_={alias:null,args:null,concreteType:"IGMessageThreadItemAppointmentBooking",kind:"LinkedField",name:"appointment_booking",plural:!1,selections:[Q,{alias:null,args:null,kind:"ScalarField",name:"max_title_num_of_lines",storageKey:null},dt,{alias:null,args:null,kind:"ScalarField",name:"max_subtitle_num_of_lines",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"header_icon_url_info",plural:!1,selections:Jr,storageKey:null},t_,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:Jr,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},cn,{alias:null,args:null,concreteType:"IGXMAMessageCTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[X,Q],storageKey:null}],storageKey:null},s_={alias:null,args:null,concreteType:"IGMessageThreadItemShopShare",kind:"LinkedField",name:"shop_share",plural:!1,selections:[r_,o_,a_,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"medias",plural:!0,selections:e_,storageKey:null},cn],storageKey:null},u_={alias:null,args:null,concreteType:"IGMessageThreadItemGenericXMA",kind:"LinkedField",name:"generic_xma",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_template_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"xma_layout_type",storageKey:null},Q,{alias:null,args:null,kind:"ScalarField",name:"sub_title",storageKey:null},{alias:null,args:null,concreteType:"GenericXMACTAButton",kind:"LinkedField",name:"cta_buttons",plural:!0,selections:[Q,X],storageKey:null},{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"preview_url_info",plural:!1,selections:e_,storageKey:null}],storageKey:null},c_={alias:null,args:null,kind:"ScalarField",name:"send_attribution",storageKey:null},d_={alias:null,args:null,concreteType:"IGMessageThreadItemRepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[G,Ss,Ki,$d],storageKey:null},m_={alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},p_={alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null},__={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[m_,p_],storageKey:null},f_=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[up,Io,od,Tp,Dp,G,xp,$p,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[hp,Np,Mp,wp,Fp],storageKey:null},Op,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Bp,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[hp,Wp,Mp,wp,Fp],storageKey:null},qp,Vp,Hp,Gp,zp],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[jp,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:lp,storageKey:null},Kp],storageKey:null},{alias:null,args:Pp,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Bp,Qp],storageKey:null},Xp,Yp,Jp,Zp,n_,i_,l_,s_,u_,c_,d_],storageKey:null},__],g_={alias:null,args:null,kind:"ScalarField",name:"selected_thread_type",storageKey:null},h_=[{kind:"Variable",name:"after",variableName:"item_after"},{kind:"Variable",name:"first",variableName:"item_limit"}],y_=[{kind:"Variable",name:"before_time_precise",variableName:"before"},{kind:"Variable",name:"last",variableName:"message_limit"}],C_={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_previous_page",storageKey:null}],storageKey:null},b_={condition:"load_delivery_receipts",kind:"Condition",passingValue:!0,selections:rp},v_={kind:"Variable",name:"page_id",variableName:"page_id"},S_=[v_],R_={alias:null,args:null,kind:"ScalarField",name:"business_id",storageKey:null},L_={kind:"RootArgument",name:"page_id"},E_={kind:"Variable",name:"business_assets",variableName:"businessAssets"},k_={condition:"getShouldUnifyConfigQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:[E_,v_],concreteType:"BizInboxFeatureConfigWrapper",kind:"LinkedField",name:"selected_thread_biz_inbox_feature_config",plural:!1,selections:[{alias:null,args:null,concreteType:"BizInboxGatingConfig",kind:"LinkedField",name:"gating_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_commerce_invoice_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_product_picker_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_availability_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_create_appointment_button_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_customer_feedback_button_on_move_to_done",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_form_builder_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_send_inthread_forms_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_marketing_messages_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"marketing_messages_in_composer_state",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_gcash_id_share_and_copy_button",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_calling_live_in_composer",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_biz_ai_in_composer",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizInboxCommerceInvoiceButtonConfig",kind:"LinkedField",name:"commerce_invoice_button_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"show_confirm_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_payment_onboarding",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"show_request_payment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"commerce_invoice_button_icon",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},I_=[sp],T_={alias:"xfb_unified_thread_list_pending",args:[{kind:"Variable",name:"msgr_params",variableName:"msgr_pending_params"},{kind:"Variable",name:"wa_params",variableName:"wa_pending_params"}],concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{condition:"isWorkUser",kind:"Condition",passingValue:!1,selections:[{alias:"wa_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:I_,storageKey:null},{alias:"msg_pending_threads",args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:I_,storageKey:null}]}],storageKey:null},D_={alias:null,args:S_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"can_add_activities",storageKey:null}],storageKey:null},x_=[E_],$_=[Ke,w],P_={kind:"InlineFragment",selections:q,type:"DynamicFeedAdAttachmentMedia",abstractKey:null},N_={kind:"InlineFragment",selections:q,type:"GenericAttachmentMedia",abstractKey:null},M_={kind:"InlineFragment",selections:q,type:"MontageImage",abstractKey:null},w_={kind:"InlineFragment",selections:q,type:"MontageVideo",abstractKey:null},A_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,ue,de,_e,fe,ge,he,nl,P_,N_,M_,w_],storageKey:null},F_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[Ke,Q,ae],storageKey:null},O_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_objects",plural:!0,selections:[Ke,w,{kind:"InlineFragment",selections:[xe,$e,Pe,Ne],type:"MessengerPlatformEntPreview",abstractKey:"__isMessengerPlatformEntPreview"}],storageKey:null},B_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"cta_data",plural:!1,selections:[Ke,Ve],storageKey:null},W_={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"messenger_call_to_actions",plural:!0,selections:[Te,De,O_,we,Ae,w,Fe,Oe,Be,We,qe,Ue,B_,Ge,Y],storageKey:null},q_=[Ke,{kind:"TypeDiscriminator",abstractKey:"__isPaymentActivityAction"},st,ut,ct,Q,pt,{kind:"InlineFragment",selections:[{alias:"moneyTransfer",args:null,concreteType:null,kind:"LinkedField",name:"generic_money_transfer",plural:!1,selections:[Ke,tt,ot,at,ht,w],storageKey:null}],type:"P2PPaymentActionButtonWithTransfer",abstractKey:null}],U_={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"P2PBubbleView",kind:"LinkedField",name:"bubble_view",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actions",plural:!0,selections:q_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"components",plural:!0,selections:[Ke,Ct,vt,Rt,Lt],storageKey:null},{alias:null,args:null,concreteType:"P2PBubbleRobotext",kind:"LinkedField",name:"robotext",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action",plural:!1,selections:q_,storageKey:null},bt,Et,G],storageKey:null},{alias:"rootAction",args:null,concreteType:null,kind:"LinkedField",name:"root_action",plural:!1,selections:q_,storageKey:null}],storageKey:null}],type:"PaymentViewData",abstractKey:"__isPaymentViewData"},V_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"receiver_profile",plural:!1,selections:[Ke,w,O,nt,Tt],storageKey:null},H_=[Mt,w],G_={alias:null,args:null,concreteType:"PeerToPeerTransferContext",kind:"LinkedField",name:"transfer_context",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"memo_images",plural:!0,selections:H_,storageKey:null},At,w],storageKey:null},z_={alias:null,args:null,concreteType:"PeerToPeerPlatformSoldItemDetail",kind:"LinkedField",name:"platform_item",plural:!1,selections:[O,Ut,{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photos",plural:!0,selections:H_,storageKey:null},ae,w],storageKey:null},j_=[Ke,O,w,nt,Tt],K_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requester",plural:!1,selections:j_,storageKey:null},Q_={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"requestee",plural:!1,selections:j_,storageKey:null},X_={alias:null,args:null,concreteType:"PeerToPeerTransfer",kind:"LinkedField",name:"transfer",plural:!1,selections:[ot,V_,Dt,xt,tt,$t,Pt,Nt,G_,Bt,Wt,qt,z_,w,Vt,Ht,Gt,U_],storageKey:null},Y_=[Te,De,O_,we,Ae,w,Fe,Oe,Be,We,qe,Ue,B_],J_={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"call_to_actions",plural:!0,selections:Y_,storageKey:null},Z_={alias:null,args:null,concreteType:"MessengerCallToAction",kind:"LinkedField",name:"default_action",plural:!1,selections:Y_,storageKey:null},ef=[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,Ut,ln,Ne,sn,O,un,cn,Z_,J_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media_blob_attachments",plural:!0,selections:[Ke,pn,_n,yn,Ln,En,nl,P_,N_,M_,w_],storageKey:null}],storageKey:null}],tf=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,w,O],storageKey:null},w],nf={alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Ke,Xo,w],storageKey:null},rf={alias:null,args:null,concreteType:"RetailShipmentItemsConnection",kind:"LinkedField",name:"retail_shipment_items",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerRetailItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ar,Fr,Or,Br,ln,sn,Wr,qr,J_],storageKey:null}],storageKey:null},of=[O,w],af={kind:"InlineFragment",selections:q,type:"XFBTopicTag",abstractKey:null},lf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,ge,bi,nl,P_,N_,M_,w_],storageKey:null},sf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"media",plural:!1,selections:[Ke,Mt,nl,P_,N_,M_,w_],storageKey:null},uf={alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:H_,storageKey:null},cf={alias:null,args:null,concreteType:"FocusedPhoto",kind:"LinkedField",name:"cover_photo",plural:!1,selections:[uf],storageKey:null},df={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_general_chat",plural:!1,selections:$_,storageKey:null},mf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,w,Qe,{kind:"InlineFragment",selections:[Xe,he,Ye,Je,Ze,et],type:"WECMessageAudio",abstractKey:null},{kind:"InlineFragment",selections:[tt,ot,at,U_],type:"MoneyTransfer",abstractKey:null},{kind:"InlineFragment",selections:[ot,V_,Dt,xt,tt,$t,Pt,Nt,G_,Bt,Wt,qt,z_,Vt,Ht,Gt,U_],type:"PeerToPeerTransfer",abstractKey:null},{kind:"InlineFragment",selections:[jt,Kt,K_,Q_,Jt,Zt,Gt,X_,tn,qt,nn,Vt,{alias:null,args:null,concreteType:"PeerToPeerPaymentRequest",kind:"LinkedField",name:"individual_requests",plural:!0,selections:[jt,Kt,K_,Q_,Jt,Zt,w,Gt,X_,tn,qt,nn,Vt,U_],storageKey:null},U_],type:"PeerToPeerPaymentRequest",abstractKey:null},U_,{kind:"InlineFragment",selections:[rn,J_,{alias:null,args:null,concreteType:"RetailPromotionItemsConnection",kind:"LinkedField",name:"promotion_items",plural:!1,selections:ef,storageKey:null}],type:"MessengerRetailPromotion",abstractKey:null},{kind:"InlineFragment",selections:[rn,J_,{alias:null,args:null,concreteType:"MessengerBusinessMessageItemsConnection",kind:"LinkedField",name:"business_items",plural:!1,selections:ef,storageKey:null}],type:"MessengerBusinessMessage",abstractKey:null},In,Pn,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_sender",plural:!1,selections:$_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"invite_recipient",plural:!1,selections:$_,storageKey:null}],type:"QuickInvite",abstractKey:null},{kind:"InlineFragment",selections:[Nn,Mn,wn,An,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_media",plural:!1,selections:[Ke,On,Bn,nl],storageKey:null}],type:"MontageDirect",abstractKey:null},{kind:"InlineFragment",selections:[Wn,W,qn],type:"MontageShare",abstractKey:null},{kind:"InlineFragment",selections:[Vn,Hn,Gn,zn,jn,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"native_component_flow_request",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[Kn,Qn,Xn,Un,Yn,Zn,rr,{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequestServicesProductItemsConnection",kind:"LinkedField",name:"services_product_items",plural:!1,selections:[{alias:null,args:null,concreteType:"ServicesProductItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,O,Ut,or,ar,{alias:null,args:ir,concreteType:"ProductImage",kind:"LinkedField",name:"images",plural:!0,selections:[lr,w],storageKey:"images(first:1)"},sr],storageKey:null}],storageKey:null},ur,cr,dr,mr,pr,_r,fr,gr,hr,yr,Cr,zn,jn,br],type:"NativeComponentFlowBookingRequest",abstractKey:null}],storageKey:null}],type:"PagesPlatformBookingMessage",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:tf,storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,A_,Ce,be,ve,Re,Le,Ee,F_,Ie,W_,je],storageKey:null}],type:"GenieMessage",abstractKey:null},{kind:"InlineFragment",selections:[Rr,Lr,Er,kr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Ke,O,nl],storageKey:null},Tr,Dr,xr,$r,Pr,O,Nr],type:"Event",abstractKey:null},Mr,wr,{kind:"InlineFragment",selections:[O,Ar,Fr,Or,Br,ln,sn,Wr,qr,Z_,J_],type:"MessengerRetailItem",abstractKey:null},{kind:"InlineFragment",selections:[Ar,Ur,Vr,cn,Fr,Hr,Gr,zr,jr,O],type:"AgentItemSuggestion",abstractKey:null},{kind:"InlineFragment",selections:[Kr,Qr,Xr,Yr,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"FundraiserCoverPhoto",kind:"LinkedField",name:"focused_cover_photo",plural:!1,selections:[{alias:null,args:null,concreteType:"Photo",kind:"LinkedField",name:"photo",plural:!1,selections:[Zr,w],storageKey:null}],storageKey:null}],type:"FundraiserWithPresence",abstractKey:"__isFundraiserWithPresence"}],type:"Fundraiser",abstractKey:"__isFundraiser"},{kind:"InlineFragment",selections:[eo,to,no,ro,oo,ao,io,lo,so,fo,mr,go,ho,yo,Co,{alias:null,args:null,concreteType:"RetailReceiptItemsConnection",kind:"LinkedField",name:"retail_items",plural:!1,selections:ef,storageKey:null},bo,vo,So,Ro],type:"MessengerRetailReceipt",abstractKey:null},{kind:"InlineFragment",selections:[Lo,Eo,ko,{alias:null,args:null,concreteType:"PaymentInvoiceProduct",kind:"LinkedField",name:"item_list",plural:!0,selections:[Io,O,To,Ut,xo,$o,Po,w],storageKey:null},No,wo,Ao,Fo,Oo,Bo,Wo,qo,Uo,Vo,Ho,Go,zo],type:"PaymentPlatformAttachment",abstractKey:null},{kind:"InlineFragment",selections:[jo,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"group_commerce_item_seller",plural:!1,selections:$_,storageKey:null},Ko,Qo,nf,ae],type:"GroupCommerceProductItem",abstractKey:null},{kind:"InlineFragment",selections:[Ko,nf],type:"MarketplaceListingRenderable",abstractKey:"__isMarketplaceListingRenderable"},{kind:"InlineFragment",selections:[Jo,Zo,ea,ta,O,na,ra],type:"Page",abstractKey:null},ia,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessengerRetailShipment",kind:"LinkedField",name:"shipment",plural:!1,selections:[w,la,sa,ua,ma,pa,rf,ya,ba],storageKey:null},va,Sa,Ca,Ra,bo],type:"MessengerRetailShipmentTrackingEvent",abstractKey:null},{kind:"InlineFragment",selections:[la,sa,ua,ma,pa,rf,La,Ea,{alias:null,args:null,concreteType:"MessengerRetailReceipt",kind:"LinkedField",name:"receipt",plural:!1,selections:[ro,w],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"recipient",plural:!1,selections:of,storageKey:null},bo],type:"MessengerRetailShipment",abstractKey:null},{kind:"InlineFragment",selections:[ka,Ia,O,Ta],type:"LeadGenDeepLinkData",abstractKey:null},{kind:"InlineFragment",selections:[Da],type:"UserLeadGenInfo",abstractKey:null},$a,{kind:"InlineFragment",selections:[O,Pa,ne,Je,Ze],type:"WECMessageFile",abstractKey:null},{kind:"InlineFragment",selections:[he,Ye,Je,Ze,Xe,ie,Na,le],type:"WECMessageVideo",abstractKey:null},Aa,{kind:"InlineFragment",selections:[Je,Wa,Va],type:"WECMessageImage",abstractKey:null},{kind:"InlineFragment",selections:[Ha,Ga,za,ja,Ka,Qa,Xa],type:"MentorshipMessengerCurriculumStep",abstractKey:null},{kind:"InlineFragment",selections:[Ya],type:"MentorshipMessengerDiscussionTopicSet",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"mentorship_program",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"other_member",plural:!1,selections:[Ke,It,w],storageKey:null}],storageKey:null},Za],type:"MentorshipMessengerLeavePrompt",abstractKey:null},{kind:"InlineFragment",selections:[Za],type:"MentorshipMessengerReminder",abstractKey:null},{kind:"InlineFragment",selections:[Za,ei,ti],type:"MentorshipMessengerProgressTracker",abstractKey:null},{kind:"InlineFragment",selections:[ri,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message_richtext",plural:!0,selections:[Ke,oi,ai,ii,{alias:null,args:null,concreteType:"ComposedEntityAtRange",kind:"LinkedField",name:"entity_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,nl,af],storageKey:null},lt,ni],storageKey:null},li,G],storageKey:null},{alias:null,args:null,concreteType:"Feedback",kind:"LinkedField",name:"feedback",plural:!1,selections:[si,ui,ci,{alias:null,args:mi,concreteType:"TopReactionsConnection",kind:"LinkedField",name:"top_reactions",plural:!1,selections:[{alias:null,args:null,concreteType:"FeedbackReactionInfo",kind:"LinkedField",name:"nodes",plural:!0,selections:[pi,w],storageKey:null}],storageKey:'top_reactions(first:3,orderby:["COUNT_DESC","REACTION_TYPE"])'},w],storageKey:null},_i,tn,fi,Ci,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"to",plural:!1,selections:[Ke,O,gi,yi,w],storageKey:null},{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[be,ae,Ce,j,lf,Si,{alias:null,args:Ri,concreteType:"SubattachmentsConnection",kind:"LinkedField",name:"all_subattachments",plural:!1,selections:[Li,{alias:"files",args:Ei,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[Si,sf],storageKey:'nodes(if_style:"file_upload")'},{alias:"images",args:Ii,concreteType:"StoryAttachment",kind:"LinkedField",name:"nodes",plural:!0,selections:[sf],storageKey:'nodes(if_style:"photo")'}],storageKey:"all_subattachments(first:3)"}],storageKey:null},{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"attached_story",plural:!1,selections:[Ti,Di,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:[lf],storageKey:null},w],storageKey:null}],type:"Story",abstractKey:null},{kind:"InlineFragment",selections:[O,nt,cf,Ni,Mi],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[O,wi,Ai,Fi,cf,df,{alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messenger_group",plural:!1,selections:$_,storageKey:null}],storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[Bi,Wi,qi,{alias:null,args:null,concreteType:"AppIntegration",kind:"LinkedField",name:"app_integration",plural:!1,selections:[Ui,O,Vi,Hi,w],storageKey:null},Gi,zi,{alias:null,args:null,concreteType:"AppContentAdditionalData",kind:"LinkedField",name:"link_preview_additional_data",plural:!0,selections:[Q,G,bt,ji,Ki,{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"profiles",plural:!0,selections:[nt,O,w],storageKey:null}],storageKey:null}],type:"AppContent",abstractKey:null},{kind:"InlineFragment",selections:[Z_],type:"CommerceProductItemShare",abstractKey:null},{kind:"InlineFragment",selections:[Qi],type:"ApplicationReferralXMA",abstractKey:null},Yi,{kind:"InlineFragment",selections:[Ji],type:"XFBP2MXMA",abstractKey:null},Zi],storageKey:null},pf={alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[j,Z,A_,Ce,be,ve,Re,Le,Ee,F_,Ie,W_,je,mf,{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"subattachments",plural:!0,selections:[j,Z,A_,Ce,be,ve,Re,Le,Ee,F_,Ie,W_,je,mf],storageKey:null}],storageKey:null},_f={alias:null,args:null,concreteType:"ExtensibleMessageAttachment",kind:"LinkedField",name:"extensible_attachment",plural:!1,selections:[H,pf,{alias:"genie_attachment",args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"story_attachment",plural:!1,selections:[{alias:"genie_message",args:null,concreteType:null,kind:"LinkedField",name:"target",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"genie_sender",plural:!1,selections:[w,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,O,w,{kind:"TypeDiscriminator",abstractKey:"__isNode"}],storageKey:null}],storageKey:null},pf],type:"GenieMessage",abstractKey:null}],storageKey:null}],storageKey:null},w],storageKey:null},ff=[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessageBlobAttachment"},ll,sl,cl,Ln,ml,nl],gf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"blob_attachments",plural:!0,selections:ff,storageKey:null},hf={alias:"last_message",args:B,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[Ke,W,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"message_sender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:$_,storageKey:null},w],storageKey:null},U,V,yl,Cl,w,{kind:"InlineFragment",selections:[_f,ol,gf],type:"UserMessage",abstractKey:null},{kind:"InlineFragment",selections:[fl,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,hl],storageKey:null}],type:"GenericAdminTextMessage",abstractKey:null}],storageKey:null}],storageKey:"messages(last:1)"},yf={alias:null,args:null,concreteType:"JobApplicationsFromThreadConnection",kind:"LinkedField",name:"thread_associated_job_applications",plural:!1,selections:[{alias:null,args:null,concreteType:"JobApplication",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,{alias:null,args:null,concreteType:"JobOpening",kind:"LinkedField",name:"job_opening",plural:!1,selections:[Sl,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"employer",plural:!1,selections:[Rl,Ll,w],storageKey:null},w],storageKey:null}],storageKey:null}],storageKey:null},Cf={alias:null,args:null,concreteType:"MessageThreadCustomization",kind:"LinkedField",name:"customization_info",plural:!1,selections:[zl,Ql,Xl,w],storageKey:null},bf={alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"thread_theme",plural:!1,selections:[w,Jl,Zl,es,ts,{alias:null,args:null,concreteType:"MessengerReactionPack",kind:"LinkedField",name:"reaction_pack",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionPackReactionAssetsConnection",kind:"LinkedField",name:"reaction_assets",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerReactionAsset",kind:"LinkedField",name:"nodes",plural:!0,selections:[ns,rs,os,as,w],storageKey:null}],storageKey:null},w],storageKey:null}],storageKey:null},vf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_admins",plural:!0,selections:$_,storageKey:null},Sf={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"thread_queue_metadata",plural:!1,selections:[Ke,ms,w],storageKey:null},Rf={alias:null,args:ir,concreteType:"MessengerEventRemindersOfThreadConnection",kind:"LinkedField",name:"event_reminders",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerEventReminder",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,_s,aa,fs,gs,hs,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"location_page",plural:!1,selections:[ys,w],storageKey:null},Cs,bs,vs,oa,{alias:null,args:null,concreteType:"UserMessage",kind:"LinkedField",name:"trigger_message",plural:!1,selections:[Ss,w],storageKey:null},Rs,Ls,Es,ks],storageKey:null}],storageKey:"event_reminders(first:1)"},Lf={alias:null,args:null,concreteType:"PageMessageThread",kind:"LinkedField",name:"related_page_thread",plural:!1,selections:[$s,Ps,Fs,Bs,Us,w],storageKey:null},Ef={alias:null,args:null,concreteType:"RtcCallData",kind:"LinkedField",name:"rtc_call_data",plural:!1,selections:[Hs,Gs,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"initiator",plural:!1,selections:$_,storageKey:null}],storageKey:null},kf={alias:null,args:null,concreteType:"MarketplaceThreadData",kind:"LinkedField",name:"marketplace_thread_data",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupCommerceProductItem",kind:"LinkedField",name:"for_sale_item",plural:!1,selections:[w,qn,Qo,Ko,js,Ks,Qs,Xs,Ys,Js,Zs,{alias:"primary_photo",args:null,concreteType:null,kind:"LinkedField",name:"primary_listing_photo",plural:!1,selections:[Ke,Mt,w],storageKey:null},eu,tu],storageKey:null},nu,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"buyer",plural:!1,selections:$_,storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"seller",plural:!1,selections:[Ke,w,ou],storageKey:null},iu],storageKey:null},If={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"associated_object",plural:!1,selections:[Ke,w,{kind:"InlineFragment",selections:[su,O,nt,df,uu,cu,du,mu,_u,fu],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[su,O,nt,uu,cu,du,Nr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"event_place",plural:!1,selections:[Ke,gu,nl],storageKey:null}],type:"Event",abstractKey:null}],storageKey:null},Tf={alias:null,args:null,concreteType:"PageCommItem",kind:"LinkedField",name:"page_comm_item",plural:!1,selections:[w,ku,Iu,Tu,Du,xu,Nu,Mu,{alias:null,args:null,concreteType:"PageCommItemToPageCommItemOwnersConnection",kind:"LinkedField",name:"comm_item_owners",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCommItemOwner",kind:"LinkedField",name:"nodes",plural:!0,selections:[Au,w],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"subtitle",plural:!1,selections:[{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[Ke,Mt,nl,{kind:"InlineFragment",selections:q,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:q,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null},lt,ni],storageKey:null},li,G],storageKey:null},Fu],storageKey:null},Df={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w],storageKey:null}],storageKey:null},xf={kind:"TypeDiscriminator",abstractKey:"__isMessage"},$f={alias:null,args:null,concreteType:"MessageReaction",kind:"LinkedField",name:"message_reactions",plural:!0,selections:[tc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"user",plural:!1,selections:$_,storageKey:null}],storageKey:null},Pf={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"unsender",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,w,O,gi],storageKey:null},w],storageKey:null},Nf={kind:"InlineFragment",selections:[ic,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"message",plural:!1,selections:[G,{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[lt,ni,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,lc,sc,uc,nl,af],storageKey:null},cc],storageKey:null}],storageKey:null},dc,_f,ol,gf,mc],type:"UserMessage",abstractKey:null},Mf=[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:ff,storageKey:null}],wf={kind:"InlineFragment",selections:[_c,W,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Li,{alias:null,args:null,concreteType:"VideoCallMessageToCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:Mf,storageKey:null}],storageKey:null}],type:"VideoCallMessage",abstractKey:null},Af={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"MessageImage",kind:"LinkedField",name:"image_with_metadata",plural:!1,selections:[Cc,H,Rn,w],storageKey:null},W],type:"ThreadImageMessage",abstractKey:null},Ff={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"extensible_message_admin_text",plural:!1,selections:[Ke,Lc,Tc,Dc,xc,$c,Pc,Nc,Mc,wc,Fc,Oc,Bc,Wc,qc,Uc,Hc,{kind:"InlineFragment",selections:[gl,Gc,zc,jc,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"instant_game_update_data",plural:!1,selections:[Ke,{kind:"InlineFragment",selections:[Kc,Xi,uf,Qc],type:"InstantGameXMATCustomMessageClientData",abstractKey:null}],storageKey:null},Xc],type:"InstantGameUpdateExtensibleMessageAdminText",abstractKey:null},Yc,Jc,rd,ad,ld,ud,cd,dd,md,pd,_d,gd,hd,yd,bd,vd,Sd,{kind:"InlineFragment",selections:[Rd,Ld,Ed,Vc,kd,Id,Td,Dd,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsConnection",kind:"LinkedField",name:"call_capture_attachments",plural:!1,selections:[Li,{alias:null,args:null,concreteType:"MessengerCallLogExtensibleMessageAdminTextCallCaptureAttachmentsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:Mf,storageKey:null}],storageKey:null}],type:"MessengerCallLogExtensibleMessageAdminText",abstractKey:null},xd,Md,wd,Fd,Od,Bd,Wd,qd,Vd,Hd,Gd,zd,jd],storageKey:null},fl,W],type:"GenericAdminTextMessage",abstractKey:null},Of=[Ke,xf,Vu,Ss,Hu,zu,ju,U,Ku,Qu,wa,Xu,V,Yu,Ju,yl,Zu,ec,$f,rc,Pf,ac,Cl,{alias:null,args:null,concreteType:"RepliedToMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[mr,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:[Ke,xf,Vu,Ss,Hu,zu,ju,U,Ku,Qu,wa,Xu,V,Yu,Ju,yl,Zu,ec,$f,rc,Pf,ac,Cl,w,Nf,fc,wf,yc,Af,vc,Sc,Ff,Xd,Yd],storageKey:null}],storageKey:null},w,Nf,fc,wf,yc,Af,vc,Sc,Ff,Xd,Yd],Bf={alias:null,args:null,concreteType:"PinnedMessageData",kind:"LinkedField",name:"pinned_messages",plural:!0,selections:[Ss,Uu,{condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"message",plural:!1,selections:Of,storageKey:null}]}],storageKey:null},Wf={alias:null,args:null,concreteType:"GroupsSyncMetadata",kind:"LinkedField",name:"work_groups_sync_metadata",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"fb_group",plural:!1,selections:[ae,w,O,wi,em,nt,_u,{alias:null,args:null,concreteType:"MultiBackgroundIcon",kind:"LinkedField",name:"group_icon",plural:!1,selections:[tm,w],storageKey:null}],storageKey:null}],storageKey:null},qf={alias:null,args:ir,concreteType:"MessengerMentorshipProgramOfThreadConnection",kind:"LinkedField",name:"linked_mentorship_programs",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipProgram",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,im,lm,{alias:null,args:ir,concreteType:"MentorshipProgramToMentorshipMessengerCurriculumStepOrderByStepCountConnection",kind:"LinkedField",name:"messenger_curriculum_steps",plural:!1,selections:[{alias:null,args:null,concreteType:"MentorshipMessengerCurriculumStep",kind:"LinkedField",name:"nodes",plural:!0,selections:[sm,um,w],storageKey:null}],storageKey:"messenger_curriculum_steps(first:1)"}],storageKey:null}],storageKey:"linked_mentorship_programs(first:1)"},Uf={alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"work_community",plural:!1,selections:of,storageKey:null},Pi],storageKey:null},Vf={alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:tf,storageKey:null},Hf={alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"all_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"AllMessagingParticipantsOfThreadEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[gm,{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"node",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessagingActor"},w,O,{kind:"InlineFragment",selections:[hm,ae,ym,It,Cm,bm,vm,Sm,Rm,Lm,Em,km,Im,Uf],type:"User",abstractKey:null},Dm,xm,Pm,Nm,wm,Am,Fm,{kind:"InlineFragment",selections:[ae,ym,Cm,Om,Sm,Uf],type:"ReducedMessagingActor",abstractKey:null},Wm,qm,Um,Hm,Gm,zm,jm,Km,Qm,{kind:"InlineFragment",selections:[ym,Xm,Ym,{alias:null,args:null,concreteType:"WECGroupParticipantsConnection",kind:"LinkedField",name:"wec_group_participants",plural:!1,selections:[Vf,Li],storageKey:null},{alias:null,args:null,concreteType:"WECGroupAdminsConnection",kind:"LinkedField",name:"wec_group_admins",plural:!1,selections:[Vf],storageKey:null}],type:"WECGroupRecipient",abstractKey:null}],storageKey:null},w],storageKey:null}],storageKey:null}],storageKey:null},Gf={alias:null,args:null,concreteType:"MessagingReadReceiptsOfThreadConnection",kind:"LinkedField",name:"read_receipts",plural:!1,selections:[{alias:null,args:null,concreteType:"MessagingReadReceipt",kind:"LinkedField",name:"nodes",plural:!0,selections:[ep,tp,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:$_,storageKey:null}],storageKey:null}],storageKey:null},zf={condition:"threadlistViewFieldsOnly",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"saved_messages",plural:!0,selections:Of,storageKey:null}]},jf=[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[w,F,O,hf,vl,yf,kl,Il,Dl,xl,Mt,$l,Pl,Nl,Ml,wl,Al,Fl,Ol,Bl,Wl,ql,Ul,Vl,Hl,Gl,Cf,bf,vf,ss,us,cs,Sf,Rf,Ts,xs,Lf,Ef,kf,If,cu,yu,Cu,bu,vu,Su,Ru,Lu,Eu,Tf,Bu,Wu,Df,Bf,Wf,Ut,om,am,qf,dm,mm,pm,_m,fm,Hf,Gf,Tl,zf,op],storageKey:null},M],Kf=[ip,nt,w],Qf=[ip,Cm,O,nt,w],Xf={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"media_owner",plural:!1,selections:Qf,storageKey:null},Yf={alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"user",plural:!1,selections:Qf,storageKey:null},Jf=[{alias:null,args:null,concreteType:"InstagramMessageThreadItem",kind:"LinkedField",name:"nodes",plural:!0,selections:[up,Io,od,Tp,Dp,G,xp,$p,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"ig_thread_item_media",plural:!1,selections:[hp,Np,Mp,wp,Xf],storageKey:null},Op,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"share",plural:!1,selections:[Ke,Yf,{alias:null,args:null,concreteType:"IGMessageThreadItemMedia",kind:"LinkedField",name:"media",plural:!0,selections:[hp,Wp,Mp,wp,Xf],storageKey:null},qp,Vp,Hp,Gp,zp],storageKey:null},{alias:null,args:null,concreteType:"IGThreadItemReactions",kind:"LinkedField",name:"ig_reaction",plural:!1,selections:[jp,{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"likes",plural:!0,selections:Kf,storageKey:null},Kp],storageKey:null},{alias:null,args:Pp,concreteType:"IGThreadItemProfileShareSource",kind:"LinkedField",name:"profileshare",plural:!1,selections:[Yf,Qp],storageKey:null},Xp,Yp,Jp,Zp,n_,i_,l_,s_,u_,c_,d_,w],storageKey:null},__],Zf={alias:null,args:null,kind:"ScalarField",name:"page_contact_id",storageKey:null},eg=[{kind:"Literal",name:"height",value:52},{kind:"Literal",name:"width",value:52}],tg=[{kind:"Literal",name:"first",value:20}],ng={alias:null,args:null,kind:"ScalarField",name:"contact_count",storageKey:null},rg={alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null},og={kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]},ag={alias:null,args:null,kind:"ScalarField",name:"unit_type",storageKey:null},ig=[{kind:"Literal",name:"first",value:4},{kind:"Literal",name:"message_shared_media_type",value:"PHOTO_AND_VIDEO"}],lg={alias:"fbid",args:null,kind:"ScalarField",name:"legacy_attachment_id",storageKey:null},sg={alias:"dim",args:null,concreteType:"Vect2",kind:"LinkedField",name:"original_dimensions",plural:!1,selections:Sn,storageKey:null},ug={alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[p_,m_],storageKey:null},cg=[{kind:"Literal",name:"first",value:400}],dg={alias:null,args:null,kind:"ScalarField",name:"is_custom_event_reportable",storageKey:null},mg={alias:null,args:null,kind:"ScalarField",name:"is_synced_with_smb",storageKey:null},pg={alias:null,args:null,kind:"ScalarField",name:"has_wa_contact",storageKey:null},_g=[{kind:"Literal",name:"first",value:2}],fg=[{alias:null,args:null,kind:"ScalarField",name:"nux_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_content_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"nux_ui_type",storageKey:null}],gg=[{alias:null,args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],hg={alias:null,args:[{kind:"Literal",name:"tab",value:"data_sharing"}],kind:"ScalarField",name:"settings_uri_in_business_view",storageKey:'settings_uri_in_business_view(tab:"data_sharing")'},yg={alias:null,args:null,kind:"ScalarField",name:"__token",storageKey:null},Cg=[{kind:"Literal",name:"first",value:5},{kind:"Literal",name:"types",value:["BUSINESS_ORDER"]}],bg={alias:null,args:null,kind:"ScalarField",name:"is_auto_detected",storageKey:null},vg={alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_redesigned_nux",storageKey:null},Sg={alias:null,args:null,kind:"ScalarField",name:"is_classic_page",storageKey:null},Rg={alias:null,args:null,kind:"ScalarField",name:"is_detected_outcomes_label",storageKey:null},Lg={alias:null,args:cg,concreteType:"CustomLabelsConnection",kind:"LinkedField",name:"custom_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"CustomLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Ns,ng,Ms,ws,As,dg,Rg,mg,pg,{alias:null,args:null,kind:"ScalarField",name:"is_immutable",storageKey:null},Ke],storageKey:null},rg],storageKey:null},__],storageKey:"custom_labels(first:400)"},Eg={alias:null,args:cg,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_custom_labels",kind:"LinkedHandle",name:"custom_labels"},kg={alias:null,args:cg,filters:null,handle:"connection",key:"BizKitContextCardLabelsSection_corp_labels",kind:"LinkedHandle",name:"corp_labels"},Ig={alias:null,args:null,concreteType:"BusinessPresenceNode",kind:"LinkedField",name:"business_presence_node",plural:!1,selections:q,storageKey:null},Tg=[{kind:"Literal",name:"gk_name",value:"mcom_kbank_integration_rollout"}],Dg=[{alias:"passes",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],xg=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_order_integration_gk"}],$g=[{alias:"is_order_integration_enabled",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}],Pg=[{kind:"Literal",name:"gk_name",value:"ctm_www_tas_timeline_actions_gk"}],Ng=[{alias:"showTimelineActions",args:null,kind:"ScalarField",name:"passes_gk",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,n,r,o,a,i,l,s,u,c,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I,T,D,x],kind:"Fragment",metadata:null,name:"BizInboxUnifiedThreadsQuery",selections:[$,{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:ap,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:ap,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:lp,storageKey:null},N,sp,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[up,cp,dp,mp,pp,_p,fp,gp,yp,Cp,bp,vp,Sp,Rp,Lp,Ep,kp,Ip,Du,xu,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ir,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:f_,storageKey:"thread_items(first:1)"}]}],storageKey:null},__]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[g_,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[up,cp,dp,mp,pp,_p,fp,gp,yp,Cp,bp,vp,Sp,Rp,Lp,Ep,kp,Ip,Du,xu,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:h_,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:f_,storageKey:null}]}],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[w,F,O,bl,vl,El,kl,Il,Tl,Dl,xl,Mt,$l,Pl,Nl,Ml,wl,Al,Fl,Ol,Bl,Wl,ql,Ul,Vl,Hl,Gl,Yl,is,ls,ss,us,cs,ps,Is,Ts,xs,Vs,zs,lu,hu,cu,yu,Cu,bu,vu,Su,Ru,Lu,Eu,Ou,Bu,Wu,qu,Zd,nm,rm,Ut,om,am,cm,dm,mm,pm,_m,fm,Zm,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:y_,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[C_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:Jd,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[np]},b_],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardContainerDetailsFrag_selectedContact",selections:[{alias:null,args:S_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[R_],storageKey:null},{args:null,kind:"FragmentSpread",name:"BizKitContextCardContainer_contact"}],storageKey:null},{alias:null,args:S_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCard_config"}],storageKey:null}],args:null,argumentDefinitions:[L_]}]}],storageKey:null},k_],storageKey:null},T_,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{kind:"InlineDataFragmentSpread",name:"BizKitContextCardActivitySectionFrag_activitiesquery",selections:[{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:S_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivitySection_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_contact"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityNuxForAutoDetected_contact"}],storageKey:null},D_],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:S_,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_page"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_page"}],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:x_,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityDropDown_mbsBusinessAssets"},{args:null,kind:"FragmentSpread",name:"BizKitContextCardActivityListItem_mbsBusinessAssets"}],storageKey:null}]}],args:null,argumentDefinitions:[{kind:"RootArgument",name:"businessAssets"},{kind:"RootArgument",name:"ig_params"},{kind:"RootArgument",name:"isDependencyOfRemovePageDependencyEnabledTool"},{kind:"RootArgument",name:"msgr_params"},L_,{kind:"RootArgument",name:"selected_item_id"},{kind:"RootArgument",name:"wa_params"}]}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[s,a,i,u,I,k,x,r,p,m,S,o,C,T,b,D,y,e,g,h,_,d,c,f,v,n,L,R,E,l,t],kind:"Operation",name:"BizInboxUnifiedThreadsQuery",selections:[$,{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"msgr_threads",plural:!1,selections:jf,storageKey:null},{alias:null,args:null,concreteType:"ViewerMessageThreadsConnection",kind:"LinkedField",name:"wa_threads",plural:!1,selections:jf,storageKey:null},{alias:null,args:null,concreteType:"InstagramMessageThreadsConnection",kind:"LinkedField",name:"ig_threads",plural:!1,selections:[{alias:null,args:null,concreteType:"InstagramUserV2",kind:"LinkedField",name:"ig_user",plural:!1,selections:Kf,storageKey:null},N,sp,{condition:"loadThreads",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"nodes",plural:!0,selections:[up,cp,dp,mp,pp,_p,fp,gp,yp,Cp,bp,vp,Sp,Rp,Lp,Ep,kp,Ip,Du,xu,{condition:"loadThreadItems",kind:"Condition",passingValue:!0,selections:[{alias:null,args:ir,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Jf,storageKey:"thread_items(first:1)"}]},w],storageKey:null},__]}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[g_,{alias:null,args:null,concreteType:"InstagramMessageThread",kind:"LinkedField",name:"selected_ig_thread",plural:!1,selections:[up,cp,dp,mp,pp,_p,fp,gp,yp,Cp,bp,vp,Sp,Rp,Lp,Ep,kp,Ip,Du,xu,{condition:"load_items",kind:"Condition",passingValue:!0,selections:[{alias:null,args:h_,concreteType:"InstagramMessageThreadItemsConnection",kind:"LinkedField",name:"thread_items",plural:!1,selections:Jf,storageKey:null}]},w],storageKey:null},{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"selected_message_thread",plural:!1,selections:[w,F,O,hf,vl,yf,kl,Il,Dl,xl,Mt,$l,Pl,Nl,Ml,wl,Al,Fl,Ol,Bl,Wl,ql,Ul,Vl,Hl,Gl,Cf,bf,vf,ss,us,cs,Sf,Rf,Ts,xs,Lf,Ef,kf,If,cu,yu,Cu,bu,vu,Su,Ru,Lu,Eu,Tf,Bu,Wu,Df,Bf,Wf,Ut,om,am,qf,dm,mm,pm,_m,fm,Hf,Tl,zf,{condition:"load_messages",kind:"Condition",passingValue:!0,selections:[{alias:null,args:y_,concreteType:"MessagesOfThreadConnection",kind:"LinkedField",name:"messages",plural:!1,selections:[C_,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:Of,storageKey:null}],storageKey:null}]},{condition:"load_read_receipts",kind:"Condition",passingValue:!0,selections:[Gf]},b_],storageKey:null},{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:S_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactIdentity",kind:"LinkedField",name:"identity",plural:!1,selections:[R_,K,{alias:null,args:null,kind:"ScalarField",name:"contact_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sub_business_id",storageKey:null}],storageKey:null},w,{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Zf,{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[Ac,{alias:null,args:null,kind:"ScalarField",name:"first_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"PageContactProfileURI",kind:"LinkedField",name:"profile_uris",plural:!0,selections:re,storageKey:null},{alias:null,args:eg,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris_prefetch",plural:!0,selections:re,storageKey:"profile_photo_uris_prefetch(height:52,width:52)"},{alias:null,args:null,kind:"ScalarField",name:"last_name",storageKey:null},{alias:"profile_photo_uri_about_section",args:[{kind:"Literal",name:"height",value:100},{kind:"Literal",name:"width",value:100}],concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:re,storageKey:"profile_photo_uris(height:100,width:100)"},{alias:null,args:null,kind:"ScalarField",name:"address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},Gu,{alias:"phone",args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"region_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null},{alias:"phoneNumber",args:null,kind:"ScalarField",name:"display_number",storageKey:null}],storageKey:null},_o,{alias:null,args:null,kind:"ScalarField",name:"zip_code",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"country_code",storageKey:null},{alias:null,args:null,concreteType:"PageContactBirthday",kind:"LinkedField",name:"birthday",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"day",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"month",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"formatted_birthday",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"suggested_email_address",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fallback_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"city_state",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ban_action_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_banned",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_wec_blocked",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_onsite_user",storageKey:null},Tu,{alias:null,args:tg,concreteType:"BizCRMContactSharedAttributesCorpLabelListConnection",kind:"LinkedField",name:"corp_label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesCorpLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Ns,ws,ng,Ms,Ws,qs,As,Ke],storageKey:null},rg],storageKey:null},__,og],storageKey:"corp_label_list(first:20)"},{alias:null,args:tg,filters:null,handle:"connection",key:"BizKitContextCard_corp_label_list",kind:"LinkedHandle",name:"corp_label_list"},{alias:null,args:tg,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsConnection",kind:"LinkedField",name:"suggested_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributesSuggestedLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,w,O,Ns,{kind:"InlineFragment",selections:[Ec,dl,{alias:null,args:null,kind:"ScalarField",name:"upsell",storageKey:null}],type:"BusinessPresenceDerivedLabel",abstractKey:null}],storageKey:null},rg],storageKey:null},__,og],storageKey:"suggested_labels(first:20)"},{alias:null,args:tg,filters:null,handle:"connection",key:"BizKitContextCard_suggested_labels",kind:"LinkedHandle",name:"suggested_labels"},{alias:null,args:null,kind:"ScalarField",name:"is_guest_chat",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBBizCRMContactIGIDs",kind:"LinkedField",name:"ig_ids",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_id_v2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_eimu_id",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGAttributes",kind:"LinkedField",name:"ig_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ig_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ig_thread_id",storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactIGUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[ag,G],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[$d,{alias:null,args:null,concreteType:"BizCRMContactFBUserProfileUnit",kind:"LinkedField",name:"profile_units",plural:!0,selections:[{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"text",plural:!1,selections:[{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[Ke,ae,nl,af],storageKey:null},lt,ni],storageKey:null},G],storageKey:null},ag],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessengerThreadAttribute",kind:"LinkedField",name:"messenger_thread",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageThread",kind:"LinkedField",name:"one_to_one_thread",plural:!1,selections:[{alias:"sharedMedia",args:ig,concreteType:"MessageSharedMediaConnection",kind:"LinkedField",name:"message_shared_media",plural:!1,selections:[{alias:null,args:null,concreteType:"MessageSharedMediaEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{kind:"TypeDiscriminator",abstractKey:"__isMessageSharedMedia"},nl,{kind:"InlineFragment",selections:[lg,Mt,sg],type:"MessageImage",abstractKey:null},{kind:"InlineFragment",selections:[lg,Mt,sg,he],type:"MessageVideo",abstractKey:null}],storageKey:null},rg],storageKey:null},ug],storageKey:'message_shared_media(first:4,message_shared_media_type:"PHOTO_AND_VIDEO")'},{alias:"sharedMedia",args:ig,filters:["message_shared_media_type"],handle:"connection",key:"BizKitContextCardSharedPhotos_sharedMedia",kind:"LinkedHandle",name:"message_shared_media"},w],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactBusinessAttributes",kind:"LinkedField",name:"business_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactCommunicationPreference",kind:"LinkedField",name:"communication_preference",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"email_subscription_status",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttribute",kind:"LinkedField",name:"customer_labels",plural:!1,selections:[{alias:null,args:cg,concreteType:"BizCRMContactMessageLabelAttributeLabelListConnection",kind:"LinkedField",name:"label_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeLabelListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCustomLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Ns,ng,Ms,ws,As,dg,mg,pg,Ke],storageKey:null},rg],storageKey:null},__,og],storageKey:"label_list(first:400)"},{alias:null,args:cg,filters:null,handle:"connection",key:"Contact_customer_label_list",kind:"LinkedHandle",name:"label_list"},{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsConnection",kind:"LinkedField",name:"customer_custom_tags",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactMessageLabelAttributeCustomerCustomTagsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageCustomTag",kind:"LinkedField",name:"node",plural:!1,selections:Os,storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttribute",kind:"LinkedField",name:"admin_notes",plural:!1,selections:[{alias:null,args:_g,concreteType:"BizCRMContactAdminNotesAttributeNotesListConnection",kind:"LinkedField",name:"notes_list",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAdminNotesAttributeNotesListEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"PageAdminNote",kind:"LinkedField",name:"node",plural:!1,selections:[w,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"body",plural:!1,selections:z,storageKey:null},Ki,{alias:null,args:null,kind:"ScalarField",name:"note_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"action_source_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"underlying_admin_creator",plural:!1,selections:[Ke,O,w],storageKey:null},Ke],storageKey:null},rg],storageKey:null},ug,og],storageKey:"notes_list(first:2)"},{alias:null,args:_g,filters:null,handle:"connection",key:"BizKitContextCard_notes_list",kind:"LinkedHandle",name:"notes_list"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactWAAttributes",kind:"LinkedField",name:"wa_attributes",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"wa_customer_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_enable_ads_consent_in_ctwa",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_wa_automated_label_nux",storageKey:null},{alias:"adsDataSharingLabelsNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"LABEL_CREATION_WA"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:fg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"LABEL_CREATION_WA")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"gk_name",value:"ctm_custom_label_reporting_pages"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:gg,storageKey:'gk_check(gk_name:"ctm_custom_label_reporting_pages")'},hg,w,{alias:null,args:null,kind:"ScalarField",name:"is_p2m_lite_payment_onboarded",storageKey:null},{alias:null,args:[{kind:"Literal",name:"tab",value:"DATA_SHARING"}],kind:"ScalarField",name:"wa_settings_uri_in_business_view",storageKey:'wa_settings_uri_in_business_view(tab:"DATA_SHARING")'},{alias:null,args:null,concreteType:"WhatsAppBusinessAccount",kind:"LinkedField",name:"linked_whatsapp_business_account",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_ctwa_data_sharing",storageKey:null},w],storageKey:null}],storageKey:null},yg,{alias:null,args:null,concreteType:"BizCRMContactBusinessActions",kind:"LinkedField",name:"business_actions",plural:!1,selections:[{alias:null,args:Cg,concreteType:"BizCRMContactBusinessActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactBusinessActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{alias:null,args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"contact_action",plural:!1,selections:[Ke,Ki,mt,K,To,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"descriptions",plural:!0,selections:z,storageKey:null},Ne,{alias:null,args:null,kind:"ScalarField",name:"click_url",storageKey:null},ct,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"invoice_id",storageKey:null},Ad,bg],type:"BizCRMContactAdAction",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Story",kind:"LinkedField",name:"story",plural:!1,selections:q,storageKey:null}],type:"BizCRMContactFacebookActionWithStory",abstractKey:null},{kind:"InlineFragment",selections:[Ad,Ms,bg,{alias:null,args:null,kind:"ScalarField",name:"show_ad_icon",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"data_silo_auto_detected_activity",storageKey:null}],type:"BizCRMContactCustomAction",abstractKey:null},{kind:"InlineFragment",selections:[Ms],type:"BizCRMContactBusinessOrderAction",abstractKey:null}],storageKey:null}],storageKey:null}],storageKey:null},rg],storageKey:null},ug],storageKey:'actions(first:5,types:["BUSINESS_ORDER"])'},{alias:null,args:Cg,filters:["types"],handle:"connection",key:"BizKitContextCardOrders__actions",kind:"LinkedHandle",name:"actions"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_consent_upsell_in_inbox_at_thread_entry",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_mbs_ads_event_sharing_consent_at_thread_entry",storageKey:null},{alias:null,args:null,concreteType:"XFBMBSAdsEventSharingSettings",kind:"LinkedField",name:"mbs_ads_event_sharing_settings",plural:!1,selections:[w,{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_business_opt_in_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ads_event_sharing_consumer_opt_in_status",storageKey:null}],storageKey:null},{alias:null,args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY_ON_THREAD_ENTRY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:fg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY_ON_THREAD_ENTRY")'},vg,{alias:null,args:null,kind:"ScalarField",name:"has_consented_to_contact_card_tos",storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Sg],storageKey:null}]},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Sg,w],storageKey:null}]},{condition:"shouldSkipMessage",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactProfile",kind:"LinkedField",name:"profile",plural:!1,selections:[{alias:null,args:eg,concreteType:"PageContactProfilePhotoURI",kind:"LinkedField",name:"profile_photo_uris",plural:!0,selections:re,storageKey:"profile_photo_uris(height:52,width:52)"}],storageKey:null},{alias:null,args:null,concreteType:"PageContactCTAType",kind:"LinkedField",name:"contact_ctas",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"cta_type",storageKey:null}],storageKey:null}],storageKey:null}]},{condition:"shouldSkipPageQuery",kind:"Condition",passingValue:!1,selections:[{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[Lg,Eg,{alias:null,args:cg,concreteType:"PageCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"PageCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Ns,ws,ng,Ms,Ws,qs,As,Rg,Ke],storageKey:null},rg],storageKey:null},__],storageKey:"corp_labels(first:400)"},kg,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"if_viewer_can_manage_permissions",plural:!1,selections:$_,storageKey:null},Ig,{alias:"is_in_kbank_rollout",args:Tg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Dg,storageKey:'gk_check(gk_name:"mcom_kbank_integration_rollout")'},{alias:"show_payment_onboarding_context_card",args:[{kind:"Literal",name:"gk_name",value:"messenger_p2m_lite_merchant_onboarding"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:gg,storageKey:'gk_check(gk_name:"messenger_p2m_lite_merchant_onboarding")'}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"mbs_business_assets",plural:!1,selections:[Lg,Eg,{alias:null,args:cg,concreteType:"XFBMBSBusinessAssetsCorpLabelsConnection",kind:"LinkedField",name:"corp_labels",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMBSBusinessAssetsCorpLabelsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"BusinessPresenceCorporationLabel",kind:"LinkedField",name:"node",plural:!1,selections:[w,O,Ns,ng,Ms,ws,Ws,qs,As,Rg,Ke],storageKey:null},rg],storageKey:null},__],storageKey:"corp_labels(first:400)"},kg,{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page_if_viewer_can_manage_permissions",plural:!1,selections:$_,storageKey:null},Ig,{alias:"is_in_kbank_rollout",args:Tg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:Dg,storageKey:'gk_check_page(gk_name:"mcom_kbank_integration_rollout")'}],storageKey:null}]}]}],storageKey:null},{alias:null,args:S_,concreteType:"BizCRMContactCardConfig",kind:"LinkedField",name:"selected_biz_crm_contact_card_config",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sections",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"permission",storageKey:null}],storageKey:null}]}],storageKey:null},k_],storageKey:null},T_,{condition:"shouldUnifyContextCardQueries",kind:"Condition",passingValue:!0,selections:[{alias:null,args:P,concreteType:"XFBBizInboxUnifiedThreadList",kind:"LinkedField",name:"xfb_biz_inbox_unified_thread_list",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBBizInboxSelectedThread",kind:"LinkedField",name:"selected_thread",plural:!1,selections:[{alias:null,args:S_,concreteType:"BizCRMContact",kind:"LinkedField",name:"selected_biz_crm_contact",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActions",kind:"LinkedField",name:"all_actions",plural:!1,selections:[{alias:null,args:_g,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:[{alias:null,args:null,concreteType:"BizCRMContactAllActionsActionsEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[Ke,{alias:"codeSplitWrapper",args:null,concreteType:"BizCRMContactAction3DWrapper",kind:"LinkedField",name:"wrapper",plural:!1,selections:[{args:null,documentName:"BizKitContextCardActivityListItem3DWrapper_BizCRMContactAction3DWrapper",fragmentName:"BizKitContextCardActivityListItem_node",fragmentPropName:"node",kind:"ModuleImport"}],storageKey:null}],storageKey:null},rg],storageKey:null},ug,og],storageKey:"actions(first:2)"},{alias:null,args:_g,filters:null,handle:"connection",key:"BizKitContextCardActivityList_actions",kind:"LinkedHandle",name:"actions"},{alias:"interaction_count",args:null,concreteType:"BizCRMContactAllActionsActionsConnection",kind:"LinkedField",name:"actions",plural:!1,selections:pu,storageKey:null}],storageKey:null},w,yg,{alias:null,args:null,concreteType:"BizCRMContactFBAttributes",kind:"LinkedField",name:"fb_attributes",plural:!1,selections:[$d],storageKey:null},{alias:null,args:null,concreteType:"BizCRMContactSharedAttributes",kind:"LinkedField",name:"shared_attributes",plural:!1,selections:[Zf],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_show_automated_activity_nux",storageKey:null},vg,{alias:"adsDataSharingActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:fg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"ACTIVITY")'},{alias:null,args:null,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[hg,w,{alias:"two_step_do_nux_tour_gk",args:[{kind:"Literal",name:"gk_name",value:"two_step_do_nux_tour"}],concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:gg,storageKey:'gk_check(gk_name:"two_step_do_nux_tour")'}],storageKey:null},{alias:"adsDataSharingDetectedActivityNUX",args:[{kind:"Literal",name:"mbs_ads_event_sharing_event_type",value:"DETECTED_ACTIVITY"}],concreteType:"XFBMBSAdsEventSharingNux",kind:"LinkedField",name:"mbs_ads_event_sharing_eligible_nux_types",plural:!0,selections:fg,storageKey:'mbs_ads_event_sharing_eligible_nux_types(mbs_ads_event_sharing_event_type:"DETECTED_ACTIVITY")'}],storageKey:null},D_],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!1,selections:[{alias:null,args:S_,concreteType:"Page",kind:"LinkedField",name:"selected_page",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:xg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:$g,storageKey:'gk_check(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"translationFix",args:[{kind:"Literal",name:"qe_universe",value:"tas_bizweb_translation_fix_universe"}],concreteType:"QECheck",kind:"LinkedField",name:"qe_check",plural:!1,selections:[{alias:"is_enabled",args:[{kind:"Literal",name:"bool_default",value:!1},{kind:"Literal",name:"param_name",value:"has_string_translation"}],kind:"ScalarField",name:"bool",storageKey:'bool(bool_default:false,param_name:"has_string_translation")'}],storageKey:'qe_check(qe_universe:"tas_bizweb_translation_fix_universe")'},{alias:"timelineActionsCheck",args:Pg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check",plural:!1,selections:Ng,storageKey:'gk_check(gk_name:"ctm_www_tas_timeline_actions_gk")'},w],storageKey:null}]}],storageKey:null},{condition:"isDependencyOfRemovePageDependencyEnabledTool",kind:"Condition",passingValue:!0,selections:[{alias:null,args:x_,concreteType:"XFBMBSBusinessAssets",kind:"LinkedField",name:"xfb_mbs_business_assets",plural:!1,selections:[{alias:"ctm_www_tas_order_integration_gk",args:xg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:$g,storageKey:'gk_check_page(gk_name:"ctm_www_tas_order_integration_gk")'},{alias:"timelineActionsCheck",args:Pg,concreteType:"EntGKCheck",kind:"LinkedField",name:"gk_check_page",plural:!1,selections:Ng,storageKey:'gk_check_page(gk_name:"ctm_www_tas_timeline_actions_gk")'},w],storageKey:null}]}]}]},params:{id:"25558570493812019",metadata:{},name:"BizInboxUnifiedThreadsQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);/*FB_PKG_DELIM*/
__d("AccessibilityWebAssistiveTechTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:AccessibilityWebAssistiveTechLoggerConfig")}),null);
__d("AcfToastImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1873550"),s=o("FalcoLoggerInternal").create("acf_toast_impression",e),u=s;l.default=u}),98);
__d("AsyncTypedRequest",["AsyncRequest"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.setReplaceTransportMarkers(),n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.promisePayload=function(n){return e.prototype.promisePayload.call(this,n)},n.setPayloadHandler=function(n){return e.prototype.setPayloadHandler.call(this,n),this},t})(r("AsyncRequest"));l.default=e}),98);
__d("BDSignalBufferData",[],(function(t,n,r,o,a,i){"use strict";var e={},l=e;i.default=l}),66);
__d("SignalValueContext",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.cn=e}var t=e.prototype;return t.getSignalValueContextName=function(){return this.cn},e})();i.default=e}),66);
__d("BDSignalCollectorBase",["BDSignalBufferData","SignalValueContext"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.signalType=e}var t=e.prototype;return t.executeSignalCollection=function(){throw new Error("Child class responsibility to implement executeSignalCollection")},t.executeAsyncSignalCollection=async function(){var e=await this.executeSignalCollection();return e},e.getSanitizedURI=function(){var e=window.location.href,t=e.indexOf("?");return t<0?e:e.substring(0,t)},t.getContext=function(){return new(r("SignalValueContext"))(e.getSanitizedURI())},t.throwIfNotInitialized=function(){if(!(this.signalType in r("BDSignalBufferData")))throw new Error("Signal is not intialized")},e})();l.default=e}),98);
__d("BDBiometricSignalCollectorBase",["BDSignalCollectorBase","err"],(function(t,n,r,o,a,i,l){"use strict";var e="biometric_signal_collected",s=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){throw r("err")("Child class responsibility to implement listenForSignals")},n.executeSignalCollection=function(){throw r("err")("executeAsyncSignalCollection and executeSignalCollection should not be called on biometric signals")},t})(r("BDSignalCollectorBase"));l.BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME=e,l.BDBiometricSignalCollectorBase=s}),98);
__d("BDSignalWrapper",["BDSignalBufferData","SignalCollectorMap"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.signalFlags=e,this.signalType=t}var t=e.prototype;return t.getSignalCollector=function(){return r("SignalCollectorMap").get(this.signalType)},t.getBufferConfig=function(){return r("BDSignalBufferData")[this.signalType]},e})();l.default=e}),98);
__d("BDLoggingConstants",[],(function(t,n,r,o,a,i){"use strict";var e={ERROR:"error",WARNING:"warning",INFO:"info"},l={KEY_NOT_FOUND:"key_not_found",APPEND_SIGNAL:"bd_append_signal",APPEND_SIGNAL_FAIL:"bd_append_signal_fail",HB_COLLECTED:"append_hb",HB_COLLECTION_FAILED:"hb_collection_failed",BD_EXCEPTION:"bd_exception",SIGNAL_NOT_IMPLEMENTED:"signal_not_implemented",SIGNAL_VALUE_NULL:"signal_value_null",EMPTY_SIGNAL_CONFIG:"empty_signal_config",INVALID_BUFFER_SIZE:"invalid_buffer_size",INVALID_DURATION:"invalid_duration",SIGNAL_FLAGS_MISSING:"signal_flags_missing",DYNAMIC_SIGNAL_COLLECTION_STARTED:"dynamic_signal_collection_started",BIOMETRIC_SIGNAL_COLLECTION_STARTED:"biometric_signal_collection_started",INVALID_GUID:"invalid_guid",INVALID_LENGTH:"invalid_length",GET_LOCAL_STORAGE_ERROR:"get_local_storage_error",WEB_STORAGE:"web_storage",PARSE_CONFIG_ERROR:"parse_config_error",HB_START_FAILURE:"hb_start_failure",HB_ALREADY_RUNNING:"hb_already_running",TRY_RESTARTING_HB:"try_restarting_hb",BANZAI_LOG_ERROR:"banzai_log_error"},s="JS";i.LEVELS=e,i.OPERATIONS=l,i.COMPONENT_NAME=s}),66);
__d("BDOperationTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:BDOperationLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setBdSessionID=function(t){return this.$1.bd_session_id=t,this},t.setComponent=function(t){return this.$1.component=t,this},t.setDurationUs=function(t){return this.$1.duration_us=t,this},t.setExceptionMessage=function(t){return this.$1.exception_message=t,this},t.setExceptionStackTrace=function(t){return this.$1.exception_stack_trace=t,this},t.setExceptionType=function(t){return this.$1.exception_type=t,this},t.setIntValue=function(t){return this.$1.int_value=t,this},t.setLevel=function(t){return this.$1.level=t,this},t.setOperation=function(t){return this.$1.operation=t,this},t.setOperationInfo=function(t){return this.$1.operation_info=n("GeneratedLoggerUtils").serializeMap(t),this},t.setSessionlets=function(t){return this.$1.sessionlets=n("GeneratedLoggerUtils").serializeVector(t),this},e})(),l={bd_session_id:!0,component:!0,duration_us:!0,exception_message:!0,exception_stack_trace:!0,exception_type:!0,int_value:!0,level:!0,operation:!0,operation_info:!0,sessionlets:!0};i.default=e}),66);
__d("BDOperationLogHelper",["BDLoggingConstants","BDOperationTypedLogger","Random"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.INFO,t,n,r)}function s(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.WARNING,t,n,r)}function u(e,t,n,r){c(e,o("BDLoggingConstants").LEVELS.ERROR,t,n,r)}function c(e,t,n,a,i){if(a===void 0&&(a={}),o("Random").coinflip(d(n))){if(a===null)throw new Error("opeartion info null");a.source=e,new(r("BDOperationTypedLogger"))().setLevel(t).setDurationUs(i).setOperation(n).setComponent(o("BDLoggingConstants").COMPONENT_NAME).setOperationInfo(a).log()}}function d(e){var t=o("BDLoggingConstants").OPERATIONS;switch(e){case t.APPEND_SIGNAL:case t.HB_COLLECTED:case t.GET_LOCAL_STORAGE_ERROR:case t.WEB_STORAGE:case t.SIGNAL_NOT_IMPLEMENTED:case t.BIOMETRIC_SIGNAL_COLLECTION_STARTED:return 1e3;default:return 1}}l.logInfo=e,l.logWarning=s,l.logError=u,l.log=c,l.getFlipSamplingByOperation=d}),98);
__d("SignalErrorValueTypeDef",[],(function(t,n,r,o,a,i){"use strict";var e="ec",l="en",s="es",u=500,c=(function(){function t(e,t,n){this.$1=e,this.$2=t,n!=null&&(this.$3=n.substr(0,u))}var n=t.prototype;return n.getErrorCode=function(){return this.$1},n.getErrorName=function(){return this.$2},n.getErrorDetails=function(){return this.$3},n.isEqual=function(t){return this.$1===t.getErrorCode()&&this.$3===t.getErrorDetails()&&this.$2===t.getErrorName()},n.toJSON=function(){var t={};switch(t[e]=this.$1,this.$1){case 0:t[l]=this.$2,t[s]=this.$3;break}return t},t})();i.SignalErrorValueTypeDef=c}),66);
__d("SignalValueTypeDef",["BDLoggingConstants","BDOperationLogHelper","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e="SignalValueTypeDef",s="t",u="ctx",c="v",d="e",m={NUMBER:"NUMBER",STRING:"STRING",BOOLEAN:"BOOLEAN",CUSTOM_OBJECT:"CUSTOM_OBJECT",INT_ARRAY:"INT_ARRAY",TOUCH:"TOUCH",MAP:"MAP",LIST:"LIST",SENSOR:"SENSOR",ERROR:"ERROR"},p=(function(){function t(e,t,n,r,o){this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=o!=null?o:0}var n=t.prototype;return n.getTimeStampMS=function(){return this.$1},n.getSignalContext=function(){return this.$2},n.getSignalValue=function(){return this.$3},n.getSignalValueType=function(){return this.$4},n.isEqual=function(n,r){if(n==null)return o("BDOperationLogHelper").logWarning(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_VALUE_NULL),!1;if(this.getSignalValueType()!==n.getSignalValueType())return!1;if(this.getSignalValueType()===m.ERROR&&n.getSignalValueType()===m.ERROR)return this.equalValue(n);var t=!1;return r.has(128)&&(t=this.equalValue(n)),r.has(256)&&(t=t&&this.getSignalContext()!=null&&n.getSignalContext()!=null&&this.getSignalContext().getSignalValueContextName()===n.getSignalContext().getSignalValueContextName()),r.has(512)&&(t=t&&Math.abs(this.getTimeStampMS()-n.getTimeStampMS())<=this.$5),t},n.equalValue=function(t){if(this.isPrimitiveType())return this.getSignalValue()===t.getSignalValue();throw new Error("Must implement in the subclasses")},n.toJSON=function(t){var e={};return t&&(e[s]=this.$1/1e3,this.$2!=null&&(e[u]=this.$2)),this.$3==null?e[d]=new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(2):this.addValueOrErrorToJSON(e),e},n.addValueOrErrorToJSON=function(t){if(this.isPrimitiveType())t[c]=this.$3;else throw new Error("Must implement in the subclasses")},n.isPrimitiveType=function(){switch(typeof this.$3){case"number":case"boolean":case"string":return!0;default:return!1}},t})();l.BD_VALUE=c,l.BD_ERROR=d,l.VALUE_TYPES=m,l.SignalValueTypeDef=p}),98);
__d("ErrorSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.ERROR)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_ERROR]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("NumberSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.NUMBER)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDConnectionRTTSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","NumberSignalValueType","SignalErrorValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;if(navigator.connection!=null&&navigator.connection.rtt!=null){var t=navigator.connection.rtt;e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),t)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.connection.rtt not supported"));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30004,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("CustomObjectSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.CUSTOM_OBJECT)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.equalValue=function(t){return this.getSignalValue().isEqual(t.getSignalValue())},n.addValueOrErrorToJSON=function(t){t[o("SignalValueTypeDef").BD_VALUE]=this.getSignalValue().toJSON()},t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("HeartbeatObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.isAppForeground=!0}var t=e.prototype;return t.toJSON=function(){return{f:this.isAppForeground}},t.isEqual=function(t){return!1},e})();i.default=e}),66);
__d("BDHeartbeatSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatObject")));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38e3,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("KeyDownUpObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.action=null,this.key_code=null,this.action=e,this.key_code=t}var t=e.prototype;return t.toJSON=function(){return{action:this.action,key_code:this.key_code}},t.isEqual=function(n){return n instanceof e?this.action===n.action&&this.key_code===n.key_code:!1},e})();i.default=e}),66);
__d("BDKeyDownUpSignalCollector",["BDBiometricSignalCollectorBase","CustomObjectSignalValueType","KeyDownUpObject","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.listenForSignals=function(){var e=this;r("gkx")("21049")&&(document.addEventListener("keydown",function(t){return e.collectSignals(2)}),document.addEventListener("keyup",function(t){return e.collectSignals(1)}))},n.collectSignals=function(t){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("KeyDownUpObject"))(t,0)),n={signalId:this.signalType,data:{valueOrError:e}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:n}))},t})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase),s=null,u={signalType:30100,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("StringArrayObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e){this.strings=[],this.strings=e}var t=e.prototype;return t.toJSON=function(){return this.strings},t.isEqual=function(n){if(!(n instanceof e))return!1;if(n.strings===this.strings)return!0;if(n.strings.length!==this.strings.length)return!1;for(var t=0;t<this.strings.length;t++)if(this.strings[t]!==n.strings[t])return!1;return!0},e})();i.default=e}),66);
__d("BDLanguagesSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=[].concat(navigator.languages),t=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("StringArrayObject"))(e));return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30003,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDMimeTypeCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.mimeTypes?navigator.mimeTypes.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30002,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BooleanSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.BOOLEAN)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDTouchOrMouseSignalCollectorBase",["BDBiometricSignalCollectorBase","BDLoggingConstants","BDOperationLogHelper","BooleanSignalValueType","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="BDTouchOrMouseSignalCollectorBase",s=(function(t){function n(e,n,r){var o;return o=t.call(this,e)||this,o.eventsToSubscribe=[],o.pauseTimeout=36e5,o.eventsToSubscribe=n,o.pauseTimeout=r,o.handler=function(e){return o.collectSignals(e)},o}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.listenForSignals=function(){this.collectSignals(),this.addListeners()},a.addListeners=function(){var t=this;this.eventsToSubscribe.forEach(function(n){try{document.addEventListener(n,t.handler)}catch(t){var a=r("getErrorSafe")(t);o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:a.message})}})},a.pauseListeners=function(){var e=this;this.eventsToSubscribe.forEach(function(t){document.removeEventListener(t,e.handler)}),window.setTimeout(function(){return e.addListeners()},this.pauseTimeout)},a.collectSignals=function(t){var e=t!=null;e&&this.pauseListeners();var n=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e),a={signalId:this.signalType,data:{valueOrError:n}};window.dispatchEvent(new CustomEvent(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,{detail:a}))},n})(o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase);l.default=s}),98);
__d("BDMousePresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["mousedown","mousemove"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30106,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("StringSignalValueType",["SignalValueTypeDef"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n,r){return e.call(this,t,n,r,o("SignalValueTypeDef").VALUE_TYPES.STRING)||this}return babelHelpers.inheritsLoose(t,e),t})(o("SignalValueTypeDef").SignalValueTypeDef);l.default=e}),98);
__d("BDNavigatorAppVersionSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.appVersion,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30013,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorHardwareConcurrencySignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=navigator.hardwareConcurrency)!=null?e:0);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30018,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorMaxTouchPointSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),navigator.maxTouchPoints);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30093,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeAsyncSignalCollection=async function(){var e;try{if(navigator.permissions){var t=await navigator.permissions.query({name:"notifications"});e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),t.state)}else e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.permissions not supported"))}catch(t){e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"notifications cannot be queried from navigator.permissions"))}return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30008,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPlatformSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.platform);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30015,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorPluginsFileExtensionsSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringArrayObject"],(function(t,n,r,o,a,i,l){"use strict";var e=10,s=(function(t){function n(){return t.call(this,c.signalType)||this}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.executeSignalCollection=function(){var t=null;try{for(var n=navigator.plugins?navigator.plugins.length:0,a=new Set,i=0;i<n;i++){var l=navigator.plugins[i].filename;if(l){var s=l.indexOf(".");if(!(s==-1||s==l.length-1)&&(a.add(l.substr(s+1)),a.size>=e))break}}a.size&&(t=new(r("StringArrayObject"))(Array.from(a)))}catch(e){t=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"navigator.plugins is not defined"))}return{valueOrError:t}},n})(r("BDSignalCollectorBase")),u=null,c={signalType:30019,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDNavigatorUserAgentSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),navigator.userAgent);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30094,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNavigatorVendorSignalCollector",["BDSignalCollectorBase","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.vendor,t=new(r("StringSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30012,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDNotificationPermissionSignalCollector",["BDSignalCollectorBase","ErrorSignalValueType","SignalErrorValueTypeDef","StringSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e;return window.Notification?e=new(r("StringSignalValueType"))(Date.now(),this.getContext(),Notification.permission):e=new(r("ErrorSignalValueType"))(Date.now(),this.getContext(),new(o("SignalErrorValueTypeDef")).SignalErrorValueTypeDef(3,"Notification not supported")),{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30007,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDPluginCountSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=navigator.plugins?navigator.plugins.length:-1,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTimezoneOffsetSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e,t=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),(e=new Date().getTimezoneOffset())!=null?e:999);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30040,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDTouchPresenceSignalCollector",["BDTouchOrMouseSignalCollectorBase"],(function(t,n,r,o,a,i,l){"use strict";var e=36e5,s=(function(t){function n(){return t.call(this,c.signalType,["touchstart","touchcancel"],e)||this}return babelHelpers.inheritsLoose(n,t),n})(r("BDTouchOrMouseSignalCollectorBase")),u=null,c={signalType:30107,get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDWebdriverSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=!!navigator.webdriver,t=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),e);return{valueOrError:t}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:3e4,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWebglSupportSignalCollector",["BDSignalCollectorBase","BooleanSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=document.createElement("canvas"),t=null;try{t=e.getContext("webgl")||e.getContext("experimental-webgl")}catch(e){}var n=!!t,o=new(r("BooleanSignalValueType"))(Date.now(),this.getContext(),n);return{valueOrError:o}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30022,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDWindowHistoryLengthSignalCollector",["BDSignalCollectorBase","NumberSignalValueType"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("NumberSignalValueType"))(Date.now(),this.getContext(),window.history?window.history.length:0);return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30095,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("DimensionObject",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.width=null,this.height=null,this.width=e,this.height=t}var t=e.prototype;return t.toJSON=function(){return{w:this.width,h:this.height}},t.isEqual=function(n){return n instanceof e?this.width===n.width&&this.height===n.height:!1},e})();i.default=e}),66);
__d("BDWindowOuterDimensionSignalCollector",["BDSignalCollectorBase","CustomObjectSignalValueType","DimensionObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=window.innerHeight,t=window.innerWidth,n=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("DimensionObject"))(t,e));return{valueOrError:n}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:30005,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("SignalCollectorMap",["BDConnectionRTTSignalCollector","BDHeartbeatSignalCollector","BDHeartbeatV2SignalCollector","BDKeyDownUpSignalCollector","BDLanguagesSignalCollector","BDMimeTypeCountSignalCollector","BDMousePresenceSignalCollector","BDNavigatorAppVersionSignalCollector","BDNavigatorHardwareConcurrencySignalCollector","BDNavigatorMaxTouchPointSignalCollector","BDNavigatorNotificationPermissionSignalCollector","BDNavigatorPlatformSignalCollector","BDNavigatorPluginsFileExtensionsSignalCollector","BDNavigatorUserAgentSignalCollector","BDNavigatorVendorSignalCollector","BDNotificationPermissionSignalCollector","BDPluginCountSignalCollector","BDTimezoneOffsetSignalCollector","BDTouchPresenceSignalCollector","BDWebdriverSignalCollector","BDWebglSupportSignalCollector","BDWindowHistoryLengthSignalCollector","BDWindowOuterDimensionSignalCollector"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(t){switch(t){case 3e4:return r("BDWebdriverSignalCollector").get();case 30001:return r("BDPluginCountSignalCollector").get();case 30002:return r("BDMimeTypeCountSignalCollector").get();case 30003:return r("BDLanguagesSignalCollector").get();case 30004:return r("BDConnectionRTTSignalCollector").get();case 30005:return r("BDWindowOuterDimensionSignalCollector").get();case 30007:return r("BDNotificationPermissionSignalCollector").get();case 30008:return r("BDNavigatorNotificationPermissionSignalCollector").get();case 30012:return r("BDNavigatorVendorSignalCollector").get();case 30013:return r("BDNavigatorAppVersionSignalCollector").get();case 30015:return r("BDNavigatorPlatformSignalCollector").get();case 30018:return r("BDNavigatorHardwareConcurrencySignalCollector").get();case 30019:return r("BDNavigatorPluginsFileExtensionsSignalCollector").get();case 30022:return r("BDWebglSupportSignalCollector").get();case 30040:return r("BDTimezoneOffsetSignalCollector").get();case 30093:return r("BDNavigatorMaxTouchPointSignalCollector").get();case 30094:return r("BDNavigatorUserAgentSignalCollector").get();case 30095:return r("BDWindowHistoryLengthSignalCollector").get();case 30100:return r("BDKeyDownUpSignalCollector").get();case 30106:return r("BDMousePresenceSignalCollector").get();case 30107:return r("BDTouchPresenceSignalCollector").get();case 38e3:return r("BDHeartbeatSignalCollector").get();case 38001:return r("BDHeartbeatV2SignalCollector").get()}}},s=e;l.default=s}),98);
__d("HeartbeatV2Object",["HeartbeatObject"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this)||this,n.id="",n.id=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.toJSON=function(){return{f:this.isAppForeground,id:this.id}},t})(r("HeartbeatObject"));l.default=e}),98);
__d("BDHeartbeatV2SignalCollector",["BDClientConfig","BDSignalCollectorBase","CustomObjectSignalValueType","HeartbeatV2Object"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.call(this,u.signalType)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.executeSignalCollection=function(){var e=new(r("CustomObjectSignalValueType"))(Date.now(),this.getContext(),new(r("HeartbeatV2Object"))(r("BDClientConfig").get().getHeartbeatVersion()));return{valueOrError:e}},t})(r("BDSignalCollectorBase")),s=null,u={signalType:38001,get:function(){return s==null&&(s=new e),s}},c=u;l.default=c}),98);
__d("BDClientConfig",["BDLoggingConstants","BDOperationLogHelper","BDSignalWrapper"],(function(t,n,r,o,a,i,l){"use strict";var e="BDClientConfig",s=(function(){function t(){this.staticSignalBufferSize=1,this.dynamicSignalBufferSize=1,this.biometricSignalBufferSize=1,this.staticSignals=[],this.dynamicSignals=[],this.biometricSignals=[],this.biometricSignalsMap=new Map,this.heartbeatSignal=new(r("BDSignalWrapper"))([],38001),this.bufferSizeBySignalIdMap={},this.periodicCollectionIntervalMs=Number.MAX_SAFE_INTEGER,this.signalConfigGenerationTimeStampMs=0,this.suspiciousTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.allTiersFlushDurationMs=Number.MAX_SAFE_INTEGER,this.heartbeatIntervalMs=-1,this.parsingDone=!1,this.sid=-1,this.hbVersion="",this.bufferSizeBySignalIdMap[38001]=1}var n=t.prototype;return n.setStaticSignalBufferSize=function(n){return n>0?this.staticSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"s"}),this},n.getStaticSignalBufferSize=function(){return this.staticSignalBufferSize},n.setDynamicSignalBufferSize=function(n){return n>1?this.dynamicSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"d"}),this},n.getDynamicSignalBufferSize=function(){return this.dynamicSignalBufferSize},n.setBiometricSignalBufferSize=function(n){return n>1?this.biometricSignalBufferSize=n:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_BUFFER_SIZE,{size:n.toString(),type:"b"}),this},n.setSID=function(t){return this.sid=t,this},n.setHeartbeatVersion=function(t){return this.hbVersion=t,this},n.getHeartbeatVersion=function(){return this.hbVersion},n.getBiometricSignalBufferSize=function(){return this.biometricSignalBufferSize},n.setConfigGenerationTimeStamp=function(t){return this.signalConfigGenerationTimeStampMs=t,this},n.getConfigGenerationTimeStamp=function(){return this.signalConfigGenerationTimeStampMs},n.setHeartbeatIntervalMinutes=function(t){return this.heartbeatIntervalMs=t*60*1e3,this},n.getHeartbeatIntervalMs=function(){return this.heartbeatIntervalMs},n.setSuspiciousTiersFlushDurationMinutes=function(n){return n>0?this.suspiciousTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fds"}),this},n.getSuspiciousTiersFlushDurationMs=function(){return this.suspiciousTiersFlushDurationMs},n.setAllTiersFlushDurationMinutes=function(n){return n>0?this.allTiersFlushDurationMs=n*60*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"fda"}),this},n.getAllTiersFlushDurationMs=function(){return this.allTiersFlushDurationMs},n.addMultipleSignalsToClientConfig=function(t){var e=this;return t.forEach(function(t){return e.addSignalToClientConfig(t)}),this},n.addSignalToClientConfig=function(t){var e=t.getSignalFlags(),n=t.getSignalId();if(n===38e3)return this;var o=new(r("BDSignalWrapper"))(e,n);return n===38001?(this.heartbeatSignal=o,this):(e.includes(2)?e.includes(4)?this.biometricSignals.push(o):this.dynamicSignals.push(o):this.staticSignals.push(o),t.getBufferSize()>0&&(this.bufferSizeBySignalIdMap[t.getSignalId()]=t.getBufferSize()),this)},n.setPeriodicCollectionIntervalSeconds=function(n){return n>0?this.periodicCollectionIntervalMs=n*1e3:o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.INVALID_DURATION,{size:n.toString(),type:"pi"}),this},n.getPeriodicCollectionIntervalMs=function(){return this.periodicCollectionIntervalMs},n.getDynamicSignals=function(){return this.dynamicSignals},n.getStaticSignals=function(){return this.staticSignals},n.getBiometricSignals=function(){return this.biometricSignals},n.getBiometricSignalsMap=function(){return this.biometricSignalsMap.size===0&&this.biometricSignals.length>0&&(this.biometricSignalsMap=this.biometricSignals.reduce(function(e,t){return e.set(t.signalType,t)},new Map)),this.biometricSignalsMap},n.getHeartbeatSignal=function(){return this.heartbeatSignal},n.getBufferSizeBySignalId=function(t){return this.bufferSizeBySignalIdMap[t]},n.setParsingDone=function(t){this.parsingDone=t},n.isParsingDone=function(){return this.parsingDone},t})(),u=null,c={get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDCollectionTypeEnum",[],(function(t,n,r,o,a,i){"use strict";var e=Object.freeze({STATIC:0,DYNAMIC:1,BIOMETRIC:2});i.default=e}),66);
__d("BotDetection_SignalFlags",[],(function(t,n,r,o,a,i){var e=Object.freeze({ACTIVE:1,DYNAMIC:2,BIOMETRIC:4,DEPRECATED:8,WEB:16,IOS_NATIVE:32,ANDROID_NATIVE:64,EQUAL_BY_VALUE:128,EQUAL_BY_CONTEXT:256,EQUAL_BY_TIMESTAMP:512,SUSPICIOUS_TIER:1024,PARANOID_TIER:2048,RANDOM_SAMPLE_TIER_DEPRECATED:4096,BENIGN_TIER:262144,EMPLOYEES_TIER:524288,BUNDLE:8192,ONSITE:16384,OFFSITE:32768,OFFSITE_SENSITIVE:65536,SENSITIVE:131072});i.default=e}),66);
__d("BDServerSignalConfig",["BDLoggingConstants","BDOperationLogHelper","BotDetection_SignalFlags"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerSignalConfig",s=(function(){function t(e,t,n){this.parsedSignalFlags=[],this.signalId=e,this.signalFlags=t,this.bufferSize=n}var n=t.prototype;return n.getSignalId=function(){return this.signalId},n.getSignalFlags=function(){var t=this;if(this.parsedSignalFlags.length===0){var n=Object.keys(r("BotDetection_SignalFlags"));n.forEach(function(e){(r("BotDetection_SignalFlags")[e]&t.signalFlags)===r("BotDetection_SignalFlags")[e]&&t.parsedSignalFlags.push(r("BotDetection_SignalFlags")[e])})}return this.parsedSignalFlags.length===0&&o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.SIGNAL_FLAGS_MISSING,{id:this.signalId.toString(),flags:this.signalFlags.toString()}),this.parsedSignalFlags},n.getBufferSize=function(){return this.bufferSize!=null?this.bufferSize:0},t})();l.default=s}),98);
__d("BDServerConfig",["BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDServerSignalConfig","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e="BDServerConfig";function s(t){var n=[];try{var a=JSON.parse(t.sc),i=new Map(a.c);if(i.forEach(function(e,t){return n.push(new(r("BDServerSignalConfig"))(t,e))}),i.size===0){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.EMPTY_SIGNAL_CONFIG);return}var l=r("BDClientConfig").get();l.setPeriodicCollectionIntervalSeconds(t.i).addMultipleSignalsToClientConfig(n).setConfigGenerationTimeStamp(a.t).setAllTiersFlushDurationMinutes(t.fda).setSuspiciousTiersFlushDurationMinutes(t.fds).setHeartbeatIntervalMinutes(t.hbi).setStaticSignalBufferSize(t.sbs).setDynamicSignalBufferSize(t.dbs).setBiometricSignalBufferSize(t.bbs).setSID(t.sid).setHeartbeatVersion(t.hbv).setParsingDone(!0)}catch(t){var s=r("getErrorSafe")(t);o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{e:s.message})}}l.parseConfig=s}),98);
__d("BDSignalBuffer",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDSignalBufferData"],(function(t,n,r,o,a,i,l){"use strict";var e="BDSignalBuffer";function s(e,t,n){if(!(e in r("BDSignalBufferData"))){var o=1;t!==void 0&&(o=t),r("BDSignalBufferData")[e]={values:[],max_buffer_size:o,signal_flags:n!=null?n:[]}}}function u(e){if(e in r("BDSignalBufferData"))r("BDSignalBufferData")[e].values=[];else throw new Error("Tried to clear signal buffer that was not intialized:")}function c(t,n){if(t in r("BDSignalBufferData")){var a=r("BDSignalBufferData")[t],i=a.max_buffer_size;a.values.length>=i&&a.values.shift(),a.values.push(n),o("BDOperationLogHelper").logInfo(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL,{id:t.toString()})}else throw o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.APPEND_SIGNAL_FAIL,{id:t.toString()}),new Error("Tried to append signal that was not intialized:")}function d(){var e=r("BDClientConfig").get(),t=e.getBiometricSignals();t.forEach(function(e){e.signalType in r("BDSignalBufferData")&&u(e.signalType)})}function m(e){var t,n=r("BDSignalBufferData")[e],o=n==null||(t=n.values)==null?void 0:t.length;return o!=null&&o>0?n.values[o-1]:{valueOrError:void 0}}function p(e){return r("BDSignalBufferData")[e].values}function _(e){var t={};for(var n of e)n in r("BDSignalBufferData")&&(t[n]=p(n).map(function(e){return e.valueOrError}));return t}function f(e){var t=g(e);return JSON.stringify(_(t))}function g(e){var t=r("BDClientConfig").get(),n=[];return e.forEach(function(e){switch(e){case r("BDCollectionTypeEnum").STATIC:n=[].concat(n,t.getStaticSignals());break;case r("BDCollectionTypeEnum").DYNAMIC:n=[].concat(n,t.getDynamicSignals());break;case r("BDCollectionTypeEnum").BIOMETRIC:n=[].concat(n,t.getBiometricSignals());break}}),n.map(function(e){return e.signalType})}l.initialize=s,l.clearBuffer=u,l.appendSignal=c,l.clearBiometricSignals=d,l.getLastSignalFormatBySignalId=m,l.retrieveSignal=p,l.retrieveSignals=_,l.getSignalsAsJSONString=f,l._getSignalIdsByCollectionType=g}),98);
__d("BDUtils",[],(function(t,n,r,o,a,i){"use strict";function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,n=e=="x"?t:t&3|8;return n.toString(16)})}i.uuid=e}),66);
__d("BdPdcSignalsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743095"),s=o("FalcoLoggerInternal").create("bd_pdc_signals",e),u=s;l.default=u}),98);
__d("SignalCollectionManager",["BDBiometricSignalCollectorBase","BDClientConfig","BDLoggingConstants","BDOperationLogHelper","BDSignalBuffer"],(function(t,n,r,o,a,i,l){"use strict";var e="SignalCollectionManager",s=(function(){function t(){var e=this;this.$1=!1,this.$6=function(t){if(t instanceof CustomEvent&&t.detail!=null&&t.detail.data!=null){var n=r("BDClientConfig").get().getBiometricSignalsMap().get(t.detail.signalId);n!=null&&e.$4(t.detail.data,n)}}}var n=t.prototype;return n.collectSignals=async function(t){var e=this,n=[];t.forEach(function(t){t.signalFlags.includes(4)?e.$2(t):n.push(e.$3(t))}),await Promise.all(n)},n.isEqualToLastCollectedSignal=function(t,n){var e=o("BDSignalBuffer").getLastSignalFormatBySignalId(n.signalType);return e.valueOrError==null?!1:t.isEqual(e.valueOrError,new Set(n.signalFlags))},n.getCircularBufferSize=function(t){var e=r("BDClientConfig").get(),n=e.getBufferSizeBySignalId(t.signalType);return n!=null&&e.getBufferSizeBySignalId(t.signalType)>0?n:t.signalFlags.includes(2)?t.signalFlags.includes(4)?e.getBiometricSignalBufferSize():e.getDynamicSignalBufferSize():e.getStaticSignalBufferSize()},n.$3=async function(n){var t=n.getSignalCollector();if(t!=null)try{var r=await t.executeAsyncSignalCollection();this.$4(r,n)}catch(t){o("BDOperationLogHelper").logError(e,o("BDLoggingConstants").OPERATIONS.BD_EXCEPTION,{error:t})}},n.$2=function(t){this.$5();var e=t.getSignalCollector();e!=null&&e instanceof o("BDBiometricSignalCollectorBase").BDBiometricSignalCollectorBase&&e.listenForSignals()},n.$5=function(){this.$1||(window.addEventListener(o("BDBiometricSignalCollectorBase").BIOMETRIC_SIGNAL_COLLECTED_EVENT_NAME,this.$6),this.$1=!0)},n.$4=function(t,n){n.getBufferConfig()==null&&o("BDSignalBuffer").initialize(n.signalType,this.getCircularBufferSize(n),n.signalFlags),t.valueOrError&&!this.isEqualToLastCollectedSignal(t.valueOrError,n)&&o("BDSignalBuffer").appendSignal(n.signalType,t)},t})(),u=null,c={get:function(){return u==null&&(u=new s),u}},d=c;l.default=d}),98);
__d("BDClientSignalCollectionTrigger",["BDClientConfig","BDCollectionTypeEnum","BDLoggingConstants","BDOperationLogHelper","BDServerConfig","BDSignalBuffer","BDUtils","BdPdcSignalsFalcoEvent","SignalCollectionManager","WebStorage","getErrorSafe","javascript-blowfish"],(function(t,n,r,o,a,i,l){"use strict";var e,s="BDClientSignalCollectionTrigger",u="signal_flush_timestamp",c=!1,d=!1,m=!1,p=!1,_=0,f=0,g=0,h=30,y=5,C,b,v=o("BDUtils").uuid(),S=r("BDClientConfig").get(),R=Object.freeze({NONE:0,VITAL:1,CRITICAL:2}),L={startSignalCollection:async function(t){if(S.setSID(t.sid),!c){if(c=!0,o("BDServerConfig").parseConfig(t),!S.isParsingDone()){o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.PARSE_CONFIG_ERROR,{config:JSON.stringify(t)}),c=!1;return}t!=null&&(f=t.hbcbc&&t.hbcbc>0?t.hbcbc:f,g=t.hbvbc&&t.hbvbc>0?t.hbvbc:g,h=t.hbbi&&t.hbbi>0?t.hbbi:h),L.startHeartbeatDelayed(),b=new Promise(function(e,t){try{S.getDynamicSignals().length>0&&(L.collectDynamicSignals(),o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.DYNAMIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),S.getBiometricSignals().length>0&&(L.collectBiometricSignals(),o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.BIOMETRIC_SIGNAL_COLLECTION_STARTED,{ts:Date.now().toString()})),e()}catch(e){t(e)}}),await b,await L.startSignalPosting()}c&&!m&&!p&&y>0&&(y-=1,o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.TRY_RESTARTING_HB),L.startHeartbeatDelayed())},retrieveSignals:async function(){await b,await L.postSignals([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC,r("BDCollectionTypeEnum").STATIC])},retrieveSignalsSkipLogging:async function(){await b,await L.collectStaticSignals()},postSignals:async function(t){await L.collectStaticSignals(),L._postSignalsHelper(o("BDSignalBuffer").getSignalsAsJSONString(t),R.NONE)&&L.setTimestampInStorage(Date.now(),u)},_postSignalsHelper:function(t,n){if(t.length<=2)return!1;var e=S.getConfigGenerationTimeStamp(),a=L.encryptDataUsingAsid(v,t),i=function(){return{asid:v,ct:e,sjd:a,sid:S.sid}},l=!1;try{n===R.CRITICAL?r("BdPdcSignalsFalcoEvent").logCritical(i):n===R.VITAL?r("BdPdcSignalsFalcoEvent").logImmediately(i):r("BdPdcSignalsFalcoEvent").log(i),l=!0}catch(e){var u=r("getErrorSafe")(e);o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.BANZAI_LOG_ERROR,{error:u.message}),l=!1}finally{return l}},getInitialVector:function(t){if(t.length!==16)return o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.INVALID_LENGTH),"";for(var e="",n=0;n<8;n++)e+=String.fromCharCode(t.charCodeAt(n)^t.charCodeAt(8+n));return e},encryptDataUsingAsid:function(t,n){if(t.length!==36)return o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.INVALID_GUID),n;var e=t.slice(19,23)+t.slice(24,36),a=L.getInitialVector(e),i=new(r("javascript-blowfish"))(e,"cbc");return i.base64Encode(i.encrypt(n,a))},startSignalPosting:async function(){var e=L.getTimestampInStorage(u),t=Date.now()-e;t>=S.getAllTiersFlushDurationMs()?await L.postSignalsIntermittently():window.setTimeout(function(){L.postSignalsIntermittently()},S.getAllTiersFlushDurationMs()-t)},postSignalsIntermittently:function(){L.postSignals([r("BDCollectionTypeEnum").STATIC]),window.setInterval(function(){L.postSignals([r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").BIOMETRIC])},S.getAllTiersFlushDurationMs())},setTimestampInStorage:function(n,a){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t){o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR);return}var i=e.setItemGuarded(t,a,n.toString());i!=null&&o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.WEB_STORAGE,{error:i.message})},getTimestampInStorage:function(n){var t=(e||(e=r("WebStorage"))).getLocalStorage();if(!t)return o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.GET_LOCAL_STORAGE_ERROR),0;var a=t.getItem(n);if(a==null)return 0;var i=Number.parseInt(a,10);return Number.isFinite(i)?i:0},resetHeartbeatStartedForTest:function(){m=!1,p=!1},startHeartbeatDelayed:function(){if(!(m||p)){var e=L.getTimestampInStorage(L.HEARTBEAT_TIMESTAMP_STORAGE_KEY),t=Date.now()-e;try{t>=S.getHeartbeatIntervalMs()?L.startHeartbeat():(window.setTimeout(function(){return L.startHeartbeat()},S.getHeartbeatIntervalMs()-t),p=!0)}catch(e){var n=r("getErrorSafe")(e);o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.HB_START_FAILURE,{lastBeatSince:t.toString(),hbi:S.getHeartbeatIntervalMs().toString(),error:n.message})}}},HEARTBEAT_TIMESTAMP_STORAGE_KEY:"hb_timestamp",startHeartbeat:function(){!m&&S.getHeartbeatIntervalMs()>0&&(L.collectHeartbeatTimes(f,g),_!==0&&(window.clearInterval(_),o("BDOperationLogHelper").logWarning(s,o("BDLoggingConstants").OPERATIONS.HB_ALREADY_RUNNING)),_=window.setInterval(function(){return L.collectHeartbeatTimes(f,g)},S.getHeartbeatIntervalMs()),m=!0)},collectHeartbeatTimes:function(t,n){t<=0&&n<=0||(t>0&&L.collectHeartbeat(R.CRITICAL),n>0&&L.collectHeartbeat(R.VITAL),(t>1||n>1)&&window.setTimeout(function(){return L.collectHeartbeatTimes(t-1,n-1)},h*1e3))},collectHeartbeat:function(t){var e,n=S==null||(e=S.getHeartbeatSignal())==null||(e=e.getSignalCollector())==null?void 0:e.executeSignalCollection();if(n==null){o("BDOperationLogHelper").logError(s,o("BDLoggingConstants").OPERATIONS.HB_COLLECTION_FAILED,{urgency:t.toString()});return}else o("BDOperationLogHelper").logInfo(s,o("BDLoggingConstants").OPERATIONS.HB_COLLECTED,{urgency:t.toString()});L.postHeartbeat(t,n)&&L.setTimestampInStorage(Date.now(),L.HEARTBEAT_TIMESTAMP_STORAGE_KEY)},postHeartbeat:function(t,n){var e={};e[38001]=[n==null?void 0:n.valueOrError];var r=JSON.stringify(e);return L._postSignalsHelper(r,t)},collectStaticSignals:async function(){await L.collectSignalsOneTime(S.getStaticSignals())},collectDynamicSignals:function(){L.stopDynamicSignalCollection(),C=window.setInterval(async function(){await L.collectSignalsOneTime(S.getDynamicSignals())},S.getPeriodicCollectionIntervalMs())},collectBiometricSignals:function(){L.collectSignalsOneTime(S.getBiometricSignals())},stopDynamicSignalCollection:function(){C!=null&&(window.clearInterval(C),C=null)},collectSignalsOneTime:async function(t){await r("SignalCollectionManager").get().collectSignals(t)},startLoginTimeSignalCollection:async function(t){d||(d=!0,o("BDServerConfig").parseConfig(t),await L.collectSignalsOneTime(S.getDynamicSignals()),await L.collectSignalsOneTime(S.getBiometricSignals()),await L.collectSignalsOneTime(S.getStaticSignals()))},getSignalsAsJSONString:function(){return o("BDSignalBuffer").getSignalsAsJSONString([r("BDCollectionTypeEnum").DYNAMIC,r("BDCollectionTypeEnum").STATIC,r("BDCollectionTypeEnum").BIOMETRIC])}},E=L;l.default=E}),98);
__d("BDCometSignalCollectionTrigger",["BDClientSignalCollectionTrigger","BDSignalCollectionData","FBLogger","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("BDClientSignalCollectionTrigger").startSignalCollection(r("BDSignalCollectionData")).catch(function(e){r("FBLogger")("bot_detection").catching(r("getErrorSafe")(e)).mustfix("Failed to start signal collection")})}l.initSignalCollection=e}),98);
__d("BaseToastAnimationInternal.react",["react","react-compiler-runtime","stylex","useFadeEffect","useMergeRefs","useToasterStateManager","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useState,_=100,f={mount:{opacity:"x1hc1fzr",transform:"x3oybdh",transitionDuration:"xu6gjpd",transitionTimingFunction:"x7lz9yc",$$css:!0},root:{opacity:"xg01cxk",transitionDuration:"x16rnrhc",transitionProperty:"xwcsmn1",transitionTimingFunction:"xbxq160",$$css:!0}},g={bottom:{transform:"xswo3hg",$$css:!0},top:{transform:"x1cg7zye",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(37),a=t.children,i=t.expired,l=t.id,s=t.position,c=t.toasterPosition,d=t.xstyle,h=i===void 0?!1:i,y=c===void 0?"bottom":c,C=p(!1),b=C[0],v=C[1],S=r("useToasterStateManager")(),R;n[0]!==a?(R=u.Children.only(a),n[0]=a,n[1]=R):R=n[1];var L=R,E;n[2]!==l||n[3]!==S?(E=function(){S.resetTimer(l)},n[2]=l,n[3]=S,n[4]=E):E=n[4];var k=E,I;n[5]!==l||n[6]!==S?(I=function(){S.stopTimer(l)},n[5]=l,n[6]=S,n[7]=I):I=n[7];var T=I,D;n[8]!==l||n[9]!==S?(D=function(){S.shown(l)},n[8]=l,n[9]=S,n[10]=D):D=n[10];var x=D,$;n[11]!==l||n[12]!==S?($=function(){S.hidden(l)},n[11]=l,n[12]=S,n[13]=$):$=n[13];var P=$,N;n[14]!==L.props||n[15]!==l||n[16]!==S?(N=function(t){L.props.onActionPress!=null&&L.props.onActionPress(t),t.defaultPrevented||S.expire(l)},n[14]=L.props,n[15]=l,n[16]=S,n[17]=N):N=n[17];var M=N,w;n[18]===Symbol.for("react.memo_cache_sentinel")?(w={activityMonitorOverride:null},n[18]=w):w=n[18];var A;n[19]!==P||n[20]!==x?(A={onHidden:P,onVisible:x,options:w},n[19]=P,n[20]=x,n[21]=A):A=n[21];var F=r("useVisibilityObserver")(A),O=r("useFadeEffect")(!h),B=O[0],W=O[1],q=O[2],U=r("useMergeRefs")(q,F),V,H;n[22]!==W?(V=function(){W===!0&&v(!0)},H=[W],n[22]=W,n[23]=V,n[24]=H):(V=n[23],H=n[24]),m(V,H);var G;return n[25]!==L||n[26]!==M||n[27]!==T||n[28]!==k||n[29]!==s||n[30]!==U||n[31]!==W||n[32]!==B||n[33]!==b||n[34]!==y||n[35]!==d?(G=B?u.jsx("li",{className:(e||(e=r("stylex")))(f.root,g[y],W&&f.mount,d),onBlur:k,onFocus:T,onMouseEnter:T,onMouseLeave:k,ref:U,style:{bottom:_*s},children:b&&u.cloneElement(L,{onActionPress:M})}):null,n[25]=L,n[26]=M,n[27]=T,n[28]=k,n[29]=s,n[30]=U,n[31]=W,n[32]=B,n[33]=b,n[34]=y,n[35]=d,n[36]=G):G=n[36],G}l.default=h}),98);
__d("BrowserPushCommands",[],(function(t,n,r,o,a,i){var e="browser_push_ack",l="browser_push_redirect",s="browser_push_window_visible",u="should_reuse_m_dot_com_tab",c="should_reuse_m_dot_com_tab_response",d={ACK:e,REDIRECT:l,WINDOW_VISIBLE:s,SHOULD_REUSE_M_DOT_COM_TAB:u,SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE:c};i.default=d}),66);
__d("NotifUserSettingActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6085"),s=o("FalcoLoggerInternal").create("notif_user_setting_action",e),u=s;l.default=u}),98);
__d("BrowserPushMessageHandler",["BrowserPushCommands","EventListener","URI","URISchemes","cr:6901","isFacebookURI"],(function(t,n,r,o,a,i,l){var e,s;function u(t){if(t.data.command&&t.data.command===r("BrowserPushCommands").REDIRECT){if(typeof window.onbeforeunload=="function"&&window.onbeforeunload()===void 0)t.ports[0].postMessage({command:r("BrowserPushCommands").ACK,success:!0});else{t.ports[0].postMessage({command:r("BrowserPushCommands").ACK,success:!1});return}var a=t.data.uri;if(/^([^.:/?#]+):/.test(a)&&!(s||(s=o("URISchemes"))).isAllowed(/^([^.:/?#]+):/.exec(a)[1])||!r("isFacebookURI")(new(e||(e=r("URI")))(a)))throw new Error("goURI: URI scheme rejected, URI: "+a);n("cr:6901")(a)&&(window.location.href=a)}}var c={registerRedirectHandler:function(){r("EventListener").listen(window,"message",function(e){e.origin===""&&u(e)}),navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&(navigator.serviceWorker.addEventListener("message",function(e){(navigator.serviceWorker&&navigator.serviceWorker.controller&&e.target&&e.target.controller!=null&&e.target.controller===navigator.serviceWorker.controller||new RegExp("^"+window.location.protocol+"//"+window.location.host+"$").test(e.origin))&&u(e)}),navigator.serviceWorker.addEventListener("message",function(e){var t,n=(t=e.data)!=null?t:{},o=n.command;if(o===r("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB){var a=[].concat(e==null?void 0:e.ports),i={command:r("BrowserPushCommands").SHOULD_REUSE_M_DOT_COM_TAB_RESPONSE,value:!1};a==null||a[0].postMessage(i)}}))}},d=c;l.default=d}),98);
__d("BrowserPushVisibilityChanger",["BrowserPushCommands","ClientServiceWorkerMessage","Visibility"],(function(t,n,r,o,a,i,l){function e(){new(r("ClientServiceWorkerMessage"))(r("BrowserPushCommands").WINDOW_VISIBLE,null).sendViaController()}var s={listenForVisibility:function(){r("Visibility").isHidden()||e(),r("Visibility").addListener(r("Visibility").VISIBLE,e)}},u=s;l.default=u}),98);
__d("NuxWizardFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1039"),s=o("FalcoLoggerInternal").create("nux_wizard",e),u=s;l.default=u}),98);
__d("MPushPermissionUtil",["BanzaiLogger","NuxWizardFalcoEvent","gkx"],(function(t,n,r,o,a,i,l){function e(e,t){t===void 0&&(t=!1);var n=r("gkx")("21006");if(n&&r("BanzaiLogger").log("ChromePushPermissionEventsLoggerConfig",{event:e}),t){var o=null,a="step";e==="allow"?(o="allow",a="conversion"):e==="deny"?o="deny":e==="install_ignore"?o="ignore":e==="turn_on_attempt"&&(o="show_browser_dialog"),o!==null&&r("NuxWizardFalcoEvent").log(function(){return{event:o,event_type:a,platform:"mobile",step:"turn_on_notification"}})}}l.logEvent=e}),98);
__d("PushRegistrationUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.endpoint;return"subscriptionId"in e&&e.subscriptionId!=null&&!new RegExp("/"+e.subscriptionId+"$").test(t)&&(t+="/"+e.subscriptionId),t}function l(t,n){var r=e(t),o=null;if(t.toJSON&&typeof t.toJSON=="function"){var a=t.toJSON();o=a.keys}else t.keys&&(o=t.keys);return{app_id:n,push_endpoint:r,subscription_keys:JSON.stringify(o)}}i.normalizeSubscriptionEndpoint=e,i.setupPushRegistrationData=l}),66);
__d("XAsyncPushMuteController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/notifications/settings/push/mute/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0},mute_for:{type:"Enum",enumType:0}})}),null);
__d("XAsyncPushMuteStateController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/notifications/settings/push/mute/state/",{appid:{type:"Int",required:!0},push_endpoint:{type:"String",required:!0}})}),null);
__d("PushRegistration",["BrowserPushMessageHandler","BrowserPushPubKey.experimental","BrowserPushVisibilityChanger","MPushPermissionUtil","Promise","PushRegistrationUtils","ServiceWorkerRegistration","XAsyncPushMuteController","XAsyncPushMuteStateController","emptyFunction","gkx","promiseDone"],(function(t,n,r,o,a,i){var e,l=window.Notification,s=new Map,u=65,c=4,d=(function(){"use strict";function t(e,n){this.$3=e,this.appID=n,!t.$1&&!t.$2&&(t.$1=!1,t.$2=!1)}t.get=function(n,r){if(s.has(r))return s.get(r);var e=new t(n,r);return s.set(r,e),e};var r=t.prototype;return r.getPushSubscription=function(){var r=this;return new(e||(e=n("Promise")))(function(e,o){t.pushPermissionIsDenied()&&(n("MPushPermissionUtil").logEvent("permission_denied_or_blocked"),o(new Error("No permission or not supported"))),n("ServiceWorkerRegistration").getWorkerRegistration(r.$3).then(function(t){if(!t){e(null);return}t.pushManager.getSubscription().then(function(t){e(t)}).catch(o)}).catch(o)})},r.$4=function(t,r,o){var e=t.getURIBuilder().getURI(),a=new r(e);a.setData(n("PushRegistrationUtils").setupPushRegistrationData(o,this.appID)),a.setMethod("post"),a.send()},r.getMutedUntilInServer=function(r){var t=this;return new(e||(e=n("Promise")))(function(e,o){t.getPushSubscription().then(function(a){if(a){var i=n("PushRegistrationUtils").normalizeSubscriptionEndpoint(a),l=n("XAsyncPushMuteStateController").getURIBuilder().setString("push_endpoint",i).setInt("appid",t.appID).getURI(),s=new r(l);s.listen("done",function(t){e(t.payload.muteUntilTimestampSec)}),s.send()}else o("cannot check mute status for unsubscribed endpoint")}).catch(o)})},r.muteNotifications=function(r,o){var t=this;return new(e||(e=n("Promise")))(function(e,a){t.getPushSubscription().then(function(i){if(i){var l=n("PushRegistrationUtils").normalizeSubscriptionEndpoint(i),s=n("XAsyncPushMuteController").getURIBuilder().setEnum("mute_for",r).setString("push_endpoint",l).setInt("appid",t.appID).getURI(),u=new o(s);u.setMethod("POST"),u.listen("done",function(t){r!==0&&t.payload.muteUntilTimestampSec===0?a("operation failed in server"):e(t.payload.muteUntilTimestampSec)}),u.send()}else a("no subscription found")}).catch(a)})},r.getSubscription=function(){var t=this;return new(e||(e=n("Promise")))(function(e,r){t.getPushSubscription().then(function(t){e(t?n("PushRegistrationUtils").normalizeSubscriptionEndpoint(t):null)}).catch(r)})},r.maybeRegisterPushAgain=function(r,o){var t=this;return new(e||(e=n("Promise")))(function(e,a){t.getPushSubscription().then(function(a){a?(t.$4(r,o,a),e(n("PushRegistrationUtils").normalizeSubscriptionEndpoint(a))):e(null)}).catch(function(){e(null)})})},r.$5=function(o,a,i){var r=this;return new(e||(e=n("Promise")))(function(e,n){if(t.$2&&!i){n(new Error("sending disable info already"));return}t.$2=!0;var l=o.getURIBuilder().getURI(),s=new a(l.toString());s.setData({appid:r.appID,from_browser_settings:i}),s.setMethod("post"),s.listen?(s.listen("finally",e),s.listen("fail",function(){t.$2=!1,n()})):s.setErrorHandler&&s.setHandler?(s.setErrorHandler(function(){t.$2=!1,n()}),s.setHandler(e)):e(),s.send()})},r.isPushRegistered=function(o,a,i,l,s,u){var r=this;return s===void 0&&(s=!1),u===void 0&&(u=!1),n("BrowserPushMessageHandler").registerRedirectHandler(),new(e||(e=n("Promise")))(function(e,c){r.getPushSubscription().then(function(c){e(!!c||o&&!t.pushPermissionIsPending());var d=r.$6(),m=r.$7(c,d);if(c&&m)s?r.$4(a,l,c):n("BrowserPushVisibilityChanger").listenForVisibility();else if((!c||!m)&&o){var p=r.$8(c,!m);t.pushPermissionIsOn()?p.then(function(e){return r.registerPush(a,l,u)}).catch(function(){}):n("promiseDone")(r.$5(i,l,!1))}}).catch(function(){o&&n("promiseDone")(r.$5(i,l,!1)),u&&n("promiseDone")(n("ServiceWorkerRegistration").unregisterControllingWorker()),c()})})},r.$8=function(r,o){return r&&o?r.unsubscribe().then(function(e){return!!e}).catch(function(e){throw new Error("Unsubscribing invalid PushToken failed")}):(e||(e=n("Promise"))).resolve(!0)},r.$7=function(t,r){if(!n("gkx")("21098"))return!0;if(!t)return!1;var e=this.$9(t);return r?e?this.$10(t,n("BrowserPushPubKey.experimental").appServerKey):!1:!e},r.$10=function(t,n){var e=this.$11(t);if(!e)return!1;var r=new Uint8Array(e),o=window.btoa(String.fromCharCode.apply(null,r)),a=o.replace("/","_").replace("=","");return a===n},r.$9=function(t){var e=this.$11(t);if(e&&e.byteLength===u){var n=new Uint8Array(e);return n[0]===c}return!1},r.$11=function(t){return t&&t.options&&t.options.applicationServerKey?t.options.applicationServerKey:null},r.$12=function(){return new(e||(e=n("Promise")))(function(e,t){l.requestPermission(e)})},r.registerPushAndWaitForEndpoint=function(r,o,a){var t=this;return a===void 0&&(a=!1),new(e||(e=n("Promise")))(function(e,n){t.$13(r,o,!0,null,a).then(function(t){if(typeof t!="string"){n(new Error("registerPushImpl did not return an endpoint"));return}e(t)}).catch(n)})},r.registerPushOnKaiOS=function(r,o,a){var t=this;return new(e||(e=n("Promise")))(function(e,i){n("promiseDone")(a.waitForKaiOS(),function(){a.registerPush(function(a){var i=JSON.parse(a.get("push_endpoint"));t.$4(r,o,i),e(n("PushRegistrationUtils").normalizeSubscriptionEndpoint(i))})})})},r.registerPush=function(t,r,o,a){return o===void 0&&(o=!1),a===void 0&&(a=n("emptyFunction")),this.registerPushWithFinishedCallBack(t,r,a,o)},r.registerPushWithFinishedCallBack=function(r,o,a,i){var t=this;return i===void 0&&(i=!1),new(e||(e=n("Promise")))(function(e,n){t.$13(r,o,!1,a,i).then(function(t){if(typeof t!="boolean"){n(new Error("registerPushImpl did not return a boolean"));return}e(t)}).catch(n)})},r.$13=function(o,a,i,l,s){var r=this;return t.$1?new(e||(e=n("Promise")))(function(e,t){t(new Error("registering already"))}):self.PushManager?(t.$1=!0,new(e||(e=n("Promise")))(function(u,c){var d=n("ServiceWorkerRegistration").registerWorkerIfUnregistered(r.$3),m=r.$12();(e||(e=n("Promise"))).all([d,m]).then(function(e){var d=e[0];if(!t.pushPermissionIsOn())throw s&&n("promiseDone")(d.unregister()),new Error("Push permission was denied");i||u(!0);var m=n("BrowserPushPubKey.experimental").appServerKey,p=r.$6(),_=p?{userVisibleOnly:!0,applicationServerKey:m}:{userVisibleOnly:!0};d.pushManager.subscribe(_).then(function(e){i&&u(n("PushRegistrationUtils").normalizeSubscriptionEndpoint(e)),r.$4(o,a,e),l&&l(),n("BrowserPushVisibilityChanger").listenForVisibility()}).catch(function(e){t.$1=!1,s&&n("promiseDone")(d.unregister()),c(e)})}).catch(function(e){t.$1=!1,c(e)})})):(e||(e=n("Promise"))).reject(new Error("PushManager not found."))},r.$6=function(){var e=n("BrowserPushPubKey.experimental").appServerKey;return n("gkx")("21099")&&e!=null&&e!=""},r.unregisterPushAndSWOnKaiOS=function(r,o,a,i){var t=this;return new(e||(e=n("Promise")))(function(e,n){t.$5(r,o,i).then(function(){a.unregisterPush(),e()}).catch(n)})},r.unregisterPushAndSW=function(r,o){var t=this;return new(e||(e=n("Promise")))(function(e,a){t.$5(r,o,!0).then(function(){n("promiseDone")(n("ServiceWorkerRegistration").unregisterControllingWorker(),e)}).catch(a)})},r.unregisterPushOnly=function(r,o){var t=this;return new(e||(e=n("Promise")))(function(e,n){t.getPushSubscription().then(function(a){a?a.unsubscribe().then(t.$5(r,o,!0)).then(function(){e(!0)}).catch(n):n()}).catch(n)})},t.pushPermissionIsPending=function(){return window.Notification&&window.Notification.permission==="default"},t.pushPermissionIsOn=function(){return window.Notification&&window.Notification.permission==="granted"},t.pushPermissionIsDenied=function(){return window.Notification&&window.Notification.permission==="denied"},t})();a.exports=d}),null);
__d("XBrowserPushDisabledController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/notifications/client/push/disabled/",{})}),null);
__d("XBrowserPushXOutController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/notifications/client/push/xout/",{})}),null);
__d("XPushRegisterServiceWorkerController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/push/register/service_worker/",{})}),null);
__d("incognito",["UserAgent","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(){var t=window.RequestFileSystem||window.webkitRequestFileSystem;return t?new Promise(function(e){return t(window.TEMPORARY,10,function(){return e(!1)},function(){return e(!0)})}):r("UserAgent").isBrowser("IE >= 10")||r("UserAgent").isBrowser("Edge")?!window.indexedDB:r("UserAgent").isBrowser("Firefox >= 16")?new Promise(function(e){var t=window.indexedDB.open("__test__");t.onsuccess=function(){return e(!1)},t.onerror=function(t){t.preventDefault(),e(!0)}}):r("UserAgent").isBrowser("Safari")?!(e||(e=r("WebStorage"))).getLocalStorage():!1}l.default=s}),98);
__d("BrowserPushDirectPromptInstallerComet",["AsyncRequest","BanzaiLogger","NotifUserSettingActionFalcoEvent","Promise","PushNotificationsEventEmitter","PushRegistration","QE2Logger","XBrowserPushDisabledController","XBrowserPushXOutController","XPushRegisterServiceWorkerController","incognito","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t,n){n===void 0&&(n="prompt");var o=babelHelpers.extends({appID:t,event:e,surface:n},s);r("BanzaiLogger").log("BrowserPushLoggerConfig",o)}function d(e,t,n,o,a,i){r("NotifUserSettingActionFalcoEvent").log(function(){return{app_id:t,controller_class:i,cur_state:a,event_type:n,medium:"push",prev_state:o,recip_id:e,source:"web_settings_page"}})}function m(){s!=null&&s.xout_count===0&&u&&o("QE2Logger").logExposureForUser(u)}function p(e){var t=r("XBrowserPushXOutController").getURIBuilder().getURI();new(r("AsyncRequest"))().setURI(t).setMethod("POST").send(),c("xout",e)}function _(e,t){var n=r("PushRegistration").get(e,t);return n.getSubscription()}function f(e,t){var n=r("PushRegistration").get(e,t);return c("turn_off",t),n.unregisterPushAndSW(r("XBrowserPushDisabledController"),r("AsyncRequest"))}function g(e,t,n,o,a){var i=r("PushRegistration").get(e,t);return c("turn_on",t),i.registerPushAndWaitForEndpoint(r("XPushRegisterServiceWorkerController"),r("AsyncRequest"),o).then(function(){r("PushNotificationsEventEmitter").emit("closeInstallPush"),c("install",t),a==null||a()}).catch(function(e){r("PushNotificationsEventEmitter").emit("closeInstallPush"),r("PushRegistration").pushPermissionIsDenied()?(r("PushNotificationsEventEmitter").emit("openPushBlockedNotice",n),c("deny",t)):c("install_ignore",t),p(t)})}function h(t,o,a,i,l,s,u,c){var d=r("PushRegistration").get(t,o),p=d.isPushRegistered(a,r("XPushRegisterServiceWorkerController"),r("XBrowserPushDisabledController"),r("AsyncRequest"),!!l,u);(e||(e=n("Promise"))).all([p,r("incognito")()]).then(function(e){var n=e[0],a=e[1];if(!(n||a))if(m(),r("PushRegistration").pushPermissionIsPending()){if(!c||i)return;r("PushNotificationsEventEmitter").emit("openInstallPush",{appID:o,browserName:s,path:t,workerIsForPushOnly:u})}else i||r("promiseDone")(g(t,o,s,u))}).catch(function(){r("PushNotificationsEventEmitter").emit("closeInstallPush"),r("PushRegistration").pushPermissionIsDenied()&&m()})}function y(e){s=e}function C(e){u=e}l.logUserSettingAction=d,l.genPushSubscription=_,l.genDisableNotifications=f,l.genEnableNotifications=g,l.installPush=h,l.setLogExtraData=y,l.setQEUniverseName=C}),98);
__d("BrowserPushMessageRedirectUtil",["Bootloader"],(function(t,n,r,o,a,i,l){function e(e){var t="(messages)(.*?)(?:(tid=))([^&]*)",n=e.match(t);if(!n)return!0;var o=n.pop();return r("Bootloader").loadModules(["FantaTabActions"],function(e){e.openTab(o)},"BrowserPushMessageRedirectUtil"),!1}l.default=e}),98);
__d("Chromedome",["fbt"],(function(t,n,r,o,a,i,l,s){function e(){if(document.domain==null)return null;var e=document.domain,t=/^intern\./.test(e);if(t)return null;var n=/(^|\.)facebook\.(com|sg)$/.test(e);if(n)return"facebook";var r=/(^|\.)instagram\.com$/.test(e);if(r)return"instagram";var o=/(^|\.)threads\.(com|net)$/.test(e);if(o)return"threads";var a=/(^|\.)messenger\.com$/.test(e);return a?"messenger":null}function u(e){return e==="instagram"?s._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable an Instagram feature or \"hack\" someone's account, it is a scam and will give them access to your Instagram account."):e==="threads"?s._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Threads feature or \"hack\" someone's account, it is a scam and will give them access to your Threads account."):s._(/*BTDS*/"This is a browser feature intended for developers. If someone told you to copy-paste something here to enable a Facebook feature or \"hack\" someone's account, it is a scam and will give them access to your Facebook account.")}function c(t){if(top===window){var n=e();if(n!=null){var r=s._(/*BTDS*/"Stop!"),o=u(n),a=s._(/*BTDS*/"See https:\/\/www.facebook.com\/selfxss for more information."),i="font-family:helvetica; font-size:20px; ";[[r,i+"font-size:50px; font-weight:bold; color:red; -webkit-text-stroke:1px black;"],[o,i],[a,i],["",""]].map(function(e){window.setTimeout(console.log.bind(console,"\n%c"+e[0].toString(),e[1]))})}}}l.start=c}),226);
__d("ClientConsistencyFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1764786"),s=o("FalcoLoggerInternal").create("client_consistency",e),u=s;l.default=u}),98);
__d("WebBrowserDimensionsTypedLoggerLite",["generateLiteTypedLogger"],(function(t,n,r,o,a,i){"use strict";a.exports=n("generateLiteTypedLogger")("logger:WebBrowserDimensionsLoggerConfig")}),null);
__d("CometBrowserDimensionsLogger",["CometDebounce","Cookie","ExecutionEnvironment","SiteData","WebBrowserDimensionsTypedLoggerLite","getViewportDimensions","isInIframe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=null,u=!1,c={height:0,width:0};function d(){return s===null&&(s=r("getViewportDimensions")()),s}function m(){var e=r("getViewportDimensions")(),t=e.height,n=e.width;(c.width!==n||c.height!==t)&&(c={height:t,width:n},r("Cookie").set("wd",n+"x"+t))}function p(){!(e||(e=r("ExecutionEnvironment"))).canUseDOM||r("isInIframe")()||u||(u=!0,m(),window.addEventListener("resize",r("CometDebounce")(m,{wait:250}),{passive:!0}),window.addEventListener("focus",m,{passive:!0}))}function _(e){var t,n=d();p();var o={client_hint_width:e==null?void 0:e.clientHintWidth,pixel_ratio:(t=window.devicePixelRatio)!=null?t:1,screen_x:window.screen.width,screen_y:window.screen.height,server_pixel_ratio:r("SiteData").pr,server_viewport_x:e==null?void 0:e.viewportWidth,server_viewport_y:e==null?void 0:e.viewportHeight,viewport_x:n.width,viewport_y:n.height};if(window.navigator&&window.navigator.hardwareConcurrency&&(o.cpu_cores_count=window.navigator.hardwareConcurrency),window.innerWidth>0&&window.outerWidth>0){var a=Math.round(window.outerWidth/window.innerWidth*100)/100;o.zoom_ratio=a}if(window.getComputedStyle&&document.documentElement!=null){var i=window.getComputedStyle(document.documentElement);i!=null&&(o.document_font_size=i.fontSize)}r("WebBrowserDimensionsTypedLoggerLite").log(o)}l.init=_}),98);
__d("CometChromeDome",["JSScheduler","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("Chromedome").__setRef("CometChromeDome");function u(){s.onReady(function(t){(e||(e=o("JSScheduler"))).scheduleLoggingPriCallback(function(){t.start({})})})}l.init=u}),98);
__d("CometFBUncaughtError.react",["fbt","CometContentArea.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 x1dr59a3 xl56j7k xixxii4 xh8yej3"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("CometContentArea.react"),{verticalAlign:"middle",children:u.jsx(r("FDSNullState.react"),{headline:s._(/*BTDS*/"Sorry! Something went wrong :("),icon:r("NullStateGeneral")})})})),e[1]=n):n=e[1],n}l.default=c}),226);
__d("GhlTestUbtFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1942319"),s=o("FalcoLoggerInternal").create("ghl_test_ubt",e),u=s;l.default=u}),98);
__d("CometGHLTestUBT",["GhlTestUbtFalcoEvent","JSScheduler","ghlTestUBT"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){(e||(e=o("JSScheduler"))).scheduleLoggingPriCallback(function(){r("ghlTestUBT")(function(e,n){return(e||n)&&t.addGlobalMetadata("adblocker_enabled",1),r("GhlTestUbtFalcoEvent").log(function(){return{recent:n,ubt:e}})})})}l.default=s}),98);
__d("CometOnBeforeUnloadDialog.react",["fbt","CometTrackingNodeProvider.react","FDSButtonGroup.react","FDSCardedDialogLegacy.react","FDSText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(33),n=e.body,a=e.cancel,i=e.confirm,l=e.disabled,c=e.onClose,d=e.onCloseButtonPress,m=e.primaryAction,p=e.secondaryAction,_=e.title,f=l===void 0?!1:l,g;t[0]!==c||t[1]!==m?(g=function(){m(),c()},t[0]=c,t[1]=m,t[2]=g):g=t[2];var h=g,y;t[3]!==c||t[4]!==p?(y=function(){p(),c()},t[3]=c,t[4]=p,t[5]=y):y=t[5];var C=y,b;t[6]!==c||t[7]!==d?(b=function(){d(),c()},t[6]=c,t[7]=d,t[8]=b):b=t[8];var v;t[9]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xz9dl7a xsag5q8 xf7dkkf xv54qhq x1n2onr6"},t[9]=v):v=t[9];var S;t[10]!==n?(S=u.jsx("div",babelHelpers.extends({},v,{children:u.jsx(r("FDSText.react"),{type:"body3",children:n})})),t[10]=n,t[11]=S):S=t[11];var R;t[12]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x78zum5 x1q0g3np x13a6bvl x1l90r2v xyri2b x1c1uobl xexx8yu"},t[12]=R):R=t[12];var L;t[13]!==i?(L=i!=null?i:s._(/*BTDS*/"Confirm"),t[13]=i,t[14]=L):L=t[14];var E;t[15]!==f||t[16]!==h||t[17]!==L?(E={disabled:f,label:L,onPress:h,testid:"CometOnBeforeUnloadDialogConfirmButton"},t[15]=f,t[16]=h,t[17]=L,t[18]=E):E=t[18];var k;t[19]!==a?(k=a!=null?a:s._(/*BTDS*/"Cancel"),t[19]=a,t[20]=k):k=t[20];var I;t[21]!==f||t[22]!==C||t[23]!==k?(I={disabled:f,label:k,onPress:C,reduceEmphasis:!0,testid:"CometOnBeforeUnloadDialogCancelButton"},t[21]=f,t[22]=C,t[23]=k,t[24]=I):I=t[24];var T;t[25]!==I||t[26]!==E?(T=u.jsx("div",babelHelpers.extends({},R,{children:u.jsx(r("FDSButtonGroup.react"),{direction:"backward",paddingHorizontal:16,primary:E,secondary:I})})),t[25]=I,t[26]=E,t[27]=T):T=t[27];var D;return t[28]!==T||t[29]!==b||t[30]!==S||t[31]!==_?(D=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:163,children:u.jsxs(r("FDSCardedDialogLegacy.react"),{onClose:b,testid:void 0,title:_,titleHorizontalAlignment:"start",withCloseButton:!0,children:[S,T]})}),t[28]=T,t[29]=b,t[30]=S,t[31]=_,t[32]=D):D=t[32],D}l.default=c}),226);
__d("CometPixelRatioUpdater",["Cookie","Run","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e="dpr";function s(t){r("Cookie").set(e,String(t))}function u(){window.devicePixelRatio!==o("WebPixelRatio").get()&&s(window.devicePixelRatio)}function c(){u(),o("Run").onBeforeUnload(u,!1),"onpagehide"in window&&window.addEventListener("pageHide",u)}l.startDetecting=c}),98);
__d("CometVirtualCursorStatus",["UserAgent","cr:1345969","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=null;function u(){s||(s=window.addEventListener("blur",function(){e=null,c()}))}function c(){s&&(s.remove(),s=null)}function d(t){e=t.keyCode,u()}function m(t){e=null,c()}if(typeof window!="undefined"&&window.document&&window.document.createElement){var p=document.documentElement;if(p){if(p.addEventListener)p.addEventListener("keydown",d,!0),p.addEventListener("keyup",m,!0);else if(p.attachEvent){var _=p.attachEvent;_("onkeydown",d),_("onkeyup",m)}}}var f={getKeyDownCode:function(){return e},isKeyDown:function(){return!!e}},g=!1,h=!1,y=null,C=!1;function b(e){var t=new Set,n=f.isKeyDown(),o=e.WEBKIT_FORCE_AT_MOUSE_DOWN,a=e.clientX,i=e.clientY,l=e.isTrusted,s=e.mozInputSource,u=e.offsetX,c=e.offsetY,d=e.webkitForce;if(a===0&&i===0&&u>=0&&c>=0&&h&&l&&s==null&&t.add("Chrome"),g&&h&&!n&&d!=null&&d<o&&u===0&&c===0&&s==null&&t.add("Safari-edge"),a===0&&i===0&&u<0&&c<0&&h&&s==null&&t.add("Safari-old"),!g&&!h&&!n&&l&&r("UserAgent").isBrowser("IE >= 10")&&s==null){var m=e.target,p=m.clientHeight,_=m.clientWidth;a<0&&i<0?t.add("IE"):(u<0||u>_)&&(c<0||c>p)&&t.add("MSIE")}return s===0&&l&&t.add("Firefox"),t}function v(){g=!0,r("setTimeout")(function(){g=!1},0)}function S(){h=!0,r("setTimeout")(function(){h=!1},0)}function R(e){C&&n("cr:1345969").log({extra_data:{source_app:"comet"},indicated_browsers:y,is_virtual_cursor_action:e})}function L(e){y===null&&(y=Array.from(b(e))),C=y!=null&&y.length>0;var t=e.target!=null&&e.target.getAttribute!=null&&e.target.getAttribute("data-accessibilityid")==="virtual_cursor_trigger";R(t),r("setTimeout")(function(){C=!1,y=null},0)}function E(){document.addEventListener("click",L,!0),document.addEventListener("mousedown",v,!0),document.addEventListener("mouseup",S,!0)}l.initLogging=E}),98);
__d("SimplePageLoadLogger",["ODS","performance"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){(s||(s=o("ODS"))).bumpEntityKey(1678,"www_client_navigations",c())}function c(){if((e||(e=r("performance"))).navigation==null||(e||(e=r("performance"))).navigation.type==null)return"UNSUPPORTED";switch((e||(e=r("performance"))).navigation.type){case(e||(e=r("performance"))).navigation.TYPE_NAVIGATE:return"NAVIGATE";case(e||(e=r("performance"))).navigation.TYPE_RELOAD:return"RELOAD";case(e||(e=r("performance"))).navigation.TYPE_BACK_FORWARD:return"BACK_FORWARD";case(e||(e=r("performance"))).navigation.TYPE_RESERVED:return"RESERVED";default:return"UNKNOWN"}}l.logPageNavigationType=u}),98);
__d("setCometDeferredCookies",["DeferredCookie","ErrorGuard"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=new Set;function c(e){s?e():u.add(e)}function d(t){Object.entries(t).forEach(function(e){var t=e[0],n=e[1],o=n.expiration_for_js,a=n.first_party_only,i=n.path,l=n.secure,s=n.value;r("DeferredCookie").addToQueue(t,s,o,i,a,!1,l)}),s=!0,u.forEach(function(t){return(e||(e=r("ErrorGuard"))).applyWithGuard(t,null,[])}),u.clear()}l.onCometDeferredCookieSet=c,l.setCometDeferredCookies=d}),98);
__d("CometRootDeferredShared",["CometBootloaderErrorLoggerUtil","CometBootloaderLoggerUtil","CometOfflineTracing","CometVirtualCursorStatus","ErrorGuard","FBLogger","JSScheduler","RunComet","SimplePageLoadLogger","WebStorageMonster","cr:1201738","cr:1332233","cr:1516609","cr:17080","cr:1813330","cr:22915","cr:2718","getErrorSafe","gkx","setCometDeferredCookies","vc-tracker"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.blLoggingCavalryFields,i=t.deferredCookies,l=t.networkStatusToast,u=l===void 0?n("cr:17080"):l;if((s||(s=r("ErrorGuard"))).applyWithGuard(function(){return o("CometBootloaderLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometBootloaderErrorLoggerUtil").initLogging(a)},null,[]),s.applyWithGuard(function(){return o("CometVirtualCursorStatus").initLogging()},null,[]),u!=null&&!r("gkx")("11394")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return u.subscribe()},null,[]),s.applyWithGuard(function(){return o("CometOfflineTracing").initialize()},null,[]),s.applyWithGuard(function(){return o("SimplePageLoadLogger").logPageNavigationType()},null,[]),(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(function(){r("WebStorageMonster").schedule()}),n("cr:1201738")&&r("vc-tracker").VisualCompletionTraceObserver.subscribe(function(e){e.interactionType==="INITIAL_LOAD"&&n("cr:1201738").init("comet.idle").catch(function(e){r("FBLogger")("comet_infra").catching(r("getErrorSafe")(e)).warn("Failed to initialize JsSelfProfilerIdleTraceRunner")})}),o("setCometDeferredCookies").setCometDeferredCookies(i),n("cr:1332233")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1332233")()},null,[]),n("cr:1516609")!=null&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1516609").initSignalCollection()},null,[]),n("cr:1813330")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:1813330").init()},null,[]),n("cr:2718")&&(s||(s=r("ErrorGuard"))).applyWithGuard(function(){return n("cr:2718").init()},null,[]),n("cr:22915"))var c=o("RunComet").onAfterLoad(function(){(s||(s=r("ErrorGuard"))).applyWithGuard(function(){n("cr:22915")==null||n("cr:22915").startRSTFromMainThread(),c.remove()},null,[])})}l.initDeferred=u}),98);
__d("CometRouteActorToasterBlocklist.experimental",["cr:19583"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:19583")}),98);
__d("CometRouteActorToasterQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9631929610237732"}),null);
__d("CometRouteActorToasterQuery.graphql",["CometRouteActorToasterQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"scale"}],t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},o={alias:"toast_icon",args:[{kind:"Literal",name:"height",value:32},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:32}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[t,r,o],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"CometRouteActorToasterQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[t,r,o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("CometRouteActorToasterQuery_facebookRelayOperation"),metadata:{},name:"CometRouteActorToasterQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("ProfileCometViewAsConstants.entrypoint",[],(function(t,n,r,o,a,i){"use strict";var e="100000686899395";i.VIEW_AS_EVERYONE_USER=e}),66);
__d("useProfileCometIsViewAs",["Actor","ProfileCometViewAsConstants.entrypoint"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("Actor").useActor(),t=e[0];return t===o("ProfileCometViewAsConstants.entrypoint").VIEW_AS_EVERYONE_USER}l.default=e}),98);
__d("CometRouteActorToaster.react",["fbt","Actor","CometRelay","CometRouteActorToasterBlocklist.experimental","CometRouteActorToasterQuery.graphql","FDSProfilePhoto.react","FDSText.react","WebPixelRatio","cometPushToast","getTopMostRoute","promiseDone","react","react-compiler-runtime","requireDeferred","useCometRouterState","useCurrentRoute","useProfileCometIsViewAs","useRouteReferrer"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useRef,_=r("requireDeferred")("AcfToastImpressionFalcoEvent").__setRef("CometRouteActorToaster.react");function f(e,t){return t?c.jsx(r("FDSText.react"),{color:"primary",type:"body3",children:s._(/*BTDS*/"You're now interacting as {=m2}",[s._implicitParam("=m2",c.jsx(r("FDSText.react"),{type:"bodyLink3",children:s._(/*BTDS*/"your profile")}))])}):c.jsx(r("FDSText.react"),{color:"primary",type:"body3",children:s._(/*BTDS*/"You're now interacting as {actor}",[s._param("actor",c.jsx(r("FDSText.react"),{type:"bodyLink3",children:e}))])})}var g=e!==void 0?e:e=n("CometRouteActorToasterQuery.graphql");function h(){var e=o("react-compiler-runtime").c(13),t=o("CometRelay").useRelayEnvironment(),n=o("Actor").useActor(),a=n[0],i=r("useCometRouterState")(),l=r("useCurrentRoute")(),s=r("useRouteReferrer")(),u=r("useProfileCometIsViewAs")(),d=s==null?void 0:s.actorID,h=s==null?void 0:s.tracePolicy,y;e[0]!==d||e[1]!==h?(y={actorID:d,tracePolicy:h},e[0]=d,e[1]=h,e[2]=y):y=e[2];var C=p(y),b=r("CometRouteActorToasterBlocklist.experimental").route_trace_policies,v=l==null?void 0:l.tracePolicy,S;e[3]!==v?(S=b.includes(v),e[3]=v,e[4]=S):S=e[4];var R=S,L;e[5]!==i?(L=i!=null?r("getTopMostRoute")(i):null,e[5]=i,e[6]=L):L=e[6];var E=L,k=l===E,I=k&&!R&&!u,T,D;return e[7]!==a||e[8]!==v||e[9]!==t||e[10]!==I?(T=function(){var e,n,i=(e=C.current)==null?void 0:e.actorID,l=(n=C.current)==null?void 0:n.tracePolicy;if(i!=null&&i!==a&&I){var s=function(t){var e,n=t==null||(e=t.viewer)==null||(e=e.actor)==null?void 0:e.name;if(n!=null){var a,s,u=(t==null||(a=t.viewer)==null||(a=a.actor)==null?void 0:a.__typename)==="User",d=t==null||(s=t.viewer)==null||(s=s.actor)==null||(s=s.toast_icon)==null?void 0:s.uri,m=d!=null?c.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:32,source:{uri:d}}):null,p=f(n,u);o("cometPushToast").cometPushToast({icon:m,message:p}),_.onReady(function(e){var t=e.log;t(function(){return{destination:v!=null?v:"comet.app",destination_type:"comet_route",source:l,source_type:"comet_route",source_userid:i}})})}},u={scale:o("WebPixelRatio").get()};r("promiseDone")(o("CometRelay").fetchQuery(t,g,u).toPromise(),s)}C.current={actorID:a,tracePolicy:v}},D=[a,v,t,I],e[7]=a,e[8]=v,e[9]=t,e[10]=I,e[11]=T,e[12]=D):(T=e[11],D=e[12]),m(T,D),null}l.default=h}),226);
__d("CometRouteActorToasterBlocklistJSModuleWrapper",["CometRouteActorToasterBlocklist"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("CometRouteActorToasterBlocklist")}),98);
__d("XPlatReactToasterView.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.state={visibleToasts:[]},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e),t.getDerivedStateFromProps=function(t,n){for(var e=n!=null?n.visibleToasts.slice(0,t.maxVisible):[],r=0,o=t.filterToasts,a=t.toasterState,i={},l=o!=null?Object.keys(a).filter(function(e){var n,r=a[e];i[e]=r;var l=r==null?void 0:r.shown,s=r==null||(n=r.value)==null||(n=n.type)==null?void 0:n.name;return r==null||s==null?!0:o.has(s)&&!l?(t.onExpireToast(e),!1):!0}):Object.keys(a),s=e.reduce(function(e,t){return t!=null&&e.add(t.id),e},new Set),u=0;r<t.maxVisible;){var c=e[r],d=Object.keys(i).length>0?i:t.toasterState;if(c!=null){var m=Object.prototype.hasOwnProperty.call(d,c.id);if(m){var p=a[c.id];e[r]={expired:p.expired,id:p.id,toast:p.value},r++;continue}else e[r]=null}for(var _=null;_==null&&u<l.length;){var f=l[u++],g=s.has(f);g||(_=t.toasterState[f])}_!=null&&(e[r]={expired:_.expired,id:_.id,toast:_.value}),r++}return{visibleToasts:e}};var n=t.prototype;return n.render=function(){var e=this;return s.jsx(s.Fragment,{children:this.state.visibleToasts.map(function(t,n){return t!=null?e.props.children(t.toast,t.id,t.expired,n):null})})},t})(s.PureComponent);u.defaultProps={maxVisible:1},l.default=u}),98);
__d("CometToasterView_DO_NOT_USE.react",["BaseContextualLayerAnchorRoot.react","BasePortal.react","BaseToastAnimationInternal.react","CometVisualCompletionAttributes","XPlatReactToasterView.react","gkx","react","react-compiler-runtime","useToasterStateManager"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m={root:{display:"x78zum5",insetInlineEnd:"xtijo5x",insetInlineStart:"x17syakg",left:null,right:null,pointerEvents:"x47corl",position:"xixxii4",width:"xh8yej3",zIndex:"xoegz02",$$css:!0},rootBlue:{zIndex:"x1jvg36b",$$css:!0},rootWorkplaceLegacy:{zIndex:"xdwmgzo",$$css:!0},toast:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",pointerEvents:"x71s49j","@media (max-width: 899px)_maxWidth":"xx1nl2z",$$css:!0}},p={bottom:{bottom:"x1ey2m1c",$$css:!0},top:{top:"x13vifvy",$$css:!0}},_={center:{justifyContent:"xl56j7k",$$css:!0},end:{justifyContent:"x13a6bvl",$$css:!0},start:{justifyContent:"x1nhvcw1",$$css:!0}},f={full:{maxWidth:"x193iq5w",$$css:!0},regular:{maxWidth:"x1xi1syu",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(24),n=e.align,a=e.filterToasts,i=e.maxVisible,l=e.maxWidth,u=e.position,g=e.xstyle,h=n===void 0?"start":n,y=i===void 0?1:i,C=l===void 0?"full":l,b=u===void 0?"bottom":u,v=r("useToasterStateManager")(),S;t[0]!==v?(S=function(){return v.getEmptyState()},t[0]=v,t[1]=S):S=t[1];var R=d(S),L=R[0],E=R[1],k,I;t[2]!==v?(k=function(){var e=v.registerView(E,0);return e.remove},I=[v],t[2]=v,t[3]=k,t[4]=I):(k=t[3],I=t[4]),c(k,I);var T=_[h],D=p[b],x;t[5]!==T||t[6]!==D||t[7]!==g?(x=[m.root,r("gkx")("20935")?null:r("gkx")("22885")?m.rootWorkplaceLegacy:m.rootBlue,T,D,g],t[5]=T,t[6]=D,t[7]=g,t[8]=x):x=t[8];var $;t[9]===Symbol.for("react.memo_cache_sentinel")?($={className:"x78zum5 xdt5ytf x3ct3a4 x193iq5w"},t[9]=$):$=t[9];var P;t[10]!==v?(P=function(t){v.expire(t)},t[10]=v,t[11]=P):P=t[11];var N;t[12]!==C||t[13]!==b?(N=function(t,n,o,a){return s.jsx(r("BaseToastAnimationInternal.react"),{expired:o,id:n,position:a,toasterPosition:b,xstyle:[m.toast,f[r("gkx")("22886")?"regular":C]],children:s.jsx(r("BaseContextualLayerAnchorRoot.react"),{children:t})},a)},t[12]=C,t[13]=b,t[14]=N):N=t[14];var M;t[15]!==a||t[16]!==y||t[17]!==P||t[18]!==N||t[19]!==L?(M=s.jsx("ul",babelHelpers.extends({},$,{children:s.jsx(r("XPlatReactToasterView.react"),{filterToasts:a,maxVisible:y,onExpireToast:P,toasterState:L,children:N})})),t[15]=a,t[16]=y,t[17]=P,t[18]=N,t[19]=L,t[20]=M):M=t[20];var w;return t[21]!==x||t[22]!==M?(w=s.jsx(r("BasePortal.react"),babelHelpers.extends({target:document.body,xstyle:x},r("CometVisualCompletionAttributes").IGNORE,{children:M})),t[21]=x,t[22]=M,t[23]=w):w=t[23],w}l.default=g}),98);
__d("FBNucleusWirelessFilled24Icon.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 24 24",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M2.2 9.002c5.441-5.336 14.158-5.336 19.6 0a1 1 0 1 0 1.4-1.428c-6.22-6.099-16.18-6.099-22.4 0a1 1 0 0 0 1.4 1.428z"}),s.jsx("path",{d:"M16.812 13.916a7 7 0 0 0-9.624 0 1 1 0 1 1-1.376-1.451 9 9 0 0 1 12.376 0 1 1 0 0 1-1.376 1.451zM10 19a2 2 0 1 1 4 0 2 2 0 0 1-4 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._size=24,u._isSVG=!0;var c=u;l.default=c}),98);
__d("useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9899572666749146"}),null);
__d("useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql",["useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",selections:e},params:{id:n("useFBChatVisibility_PresenceStatusChatVisibilityQuery_facebookRelayOperation"),metadata:{},name:"useFBChatVisibility_PresenceStatusChatVisibilityQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useFBChatVisibility.react",["CometRelay","react","relay-runtime","useDebouncedState","useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect,c=e!==void 0?e:e=n("useFBChatVisibility_PresenceStatusChatVisibilityQuery.graphql");function d(){var e,t=o("CometRelay").useRelayEnvironment(),n=o("relay-runtime").getRequest(c),a=o("relay-runtime").createOperationDescriptor(n,{}),i=t.lookup(a.fragment),l=(e=i.data)==null?void 0:e.viewer,s=typeof l=="object"?l==null?void 0:l.chat_visibility:null,d=r("useDebouncedState")(function(){return!!s}),m=d[0],p=d[1];return u(function(){var e=t.subscribe(i,function(e){var t=e.data,n=t==null?void 0:t.viewer;typeof n!="object"||n==null||p(n.chat_visibility===!0)});return function(){e.dispose()}},[t,p,i]),m}l.default=d}),98);
__d("useFBInitPresenceUnifiedClient",["promiseDone","react","useFBChatVisibility.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=r("useFBChatVisibility.react")();s(function(){var n=async function(){t?await e.startStream():await e.closeStream()};r("promiseDone")(n())},[e,t])}l.default=u}),98);
__d("usePresenceUnifiedActivityMonitor.react",["CometUserActivityMonitor","RealtimeNexusSessionDataTypes","promiseDone","react","useDebounced"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=2e3;function m(e){var t=u(function(t){r("promiseDone")(e.reportUserPresence(t))},[e]),n=r("useDebounced")(t,d);c(function(){var t=function(r){r==="ACTIVE"?(n(o("RealtimeNexusSessionDataTypes").PresenceAvailability.ACTIVE),e.addAdditionalContacts([]),e.startAdditionalContactsPolling()):n(o("RealtimeNexusSessionDataTypes").PresenceAvailability.IDLE)},r=o("CometUserActivityMonitor").getActivityState();t(r);var a=o("CometUserActivityMonitor").subscribe(t);return function(){return a&&a.remove()}},[e,n])}l.default=m}),98);
__d("FBPresenceUnifiedSetup.react",["useFBInitPresenceUnifiedClient","usePresenceUnifiedActivityMonitor.react"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.client;return r("useFBInitPresenceUnifiedClient")(t),r("usePresenceUnifiedActivityMonitor.react")(t),null}l.default=e}),98);
__d("FDSProgressButtonIndeterminate.react",["FDSButton.react","FDSProgressRingIndeterminate.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx(r("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:16}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("FDSButton.react"),babelHelpers.extends({},e,{addOnPrimary:n,disabled:!0})),t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("FDSWirelessFilled24PNGIcon.react",["ix","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";var e=o("fbicon")._(s("485124"),24),u=e;l.default=u}),98);
__d("LSCheckThreadConsistency",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("threads",e[0]),r[0].set("metadata",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"check-thread-consistency",t.i64.cast([0,160019]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxCheckThreadConsistencyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCheckThreadConsistencyStoredProcedure",["LSCheckThreadConsistency","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCheckThreadConsistency"),a.threads,a.metadata);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("MAWThreadConsistencyLogger",["FBLogger","I64","LSAuthorityLevel","LSCheckThreadConsistencyStoredProcedure","LSDatabaseSingleton","LSFactory","LSMessagingThreadTypeUtil","LSShape","LSVec","ODS","ReQL","WAArrayZip","clearInterval","justknobx","promiseDone","qex","setInterval"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=20,d=r("justknobx")._("3207"),m=!1,p=null;function _(){m||(m=!0,r("clearInterval")(p),p=r("setInterval")(function(){document.visibilityState==="visible"&&r("promiseDone")(f())},d*1e3))}async function f(){var t=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("promiseDone")(t.runInTransaction(async function(e){(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","initiate_snapshot");var t=await o("ReQL").toArrayAsync(o("ReQL").fromTableDescending(e.threads.index("lastActivityTimestampMs")).filter(g).take(c));if(t.length===0){(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","no_e2ee_threads_fetched_on_client");return}var n;r("qex")._("18")?n=await Promise.all(t.map(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(t.threadKey))})):n=await Promise.all(t.map(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.messages.index("messageDisplayOrder")).getKeyRange(t.threadKey))}));var a=o("WAArrayZip").zip(t,n).map(function(e){var t=e[0],n=e[1];return o("LSShape").ofRecord({is_last_activity_optimistic:h(n),last_activity_timestamp_ms:t.lastActivityTimestampMs,last_read_timestamp_ms:t.lastReadWatermarkTimestampMs,thread_key:t.threadKey})});return r("LSCheckThreadConsistencyStoredProcedure")(r("LSFactory")(e),{metadata:o("LSShape").ofRecord({client_snapshot_timestamp_ms:(u||(u=o("I64"))).of_float(Date.now()),session_timestamp_ms:u.of_int32(Math.round(window.performance.now()))}),threads:r("LSVec").ofArray(a)})},"readonly",void 0,void 0,i.id+":57"),function(){return(s||(s=o("ODS"))).bumpEntityKey(3185,"maw_tc_metric","send_snapshot")},function(e){r("FBLogger")("maw_tc_metric").catching(e).warn("failed to send tc metric snapshot")})}function g(e){return o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)&&e.folderName==="inbox"&&(u||(u=o("I64"))).to_int32(e.authorityLevel)>=r("LSAuthorityLevel").AUTHORITATIVE}function h(e){return e==null?!1:(u||(u=o("I64"))).to_int32(e.authorityLevel)<r("LSAuthorityLevel").AUTHORITATIVE}l.startMAWThreadConsistencyLogger=_,l.MAWThreadConsistencyLoggerTakeSnapshot=f}),98);
__d("MWXIconWireless",["MWXSvgIcon","SVGIcon","cr:22529","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22529")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconWirelessCross",["MWXSvgIcon","SVGIcon","cr:22528","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22528")),r("gkx")("23219"));l.default=e}),98);
__d("MessengerCometNetworkStatusToast",["fbt","BaseToasterStateManager","FDSIcon.react","MWXIconWireless","MWXIconWirelessCross","NetworkStatus","mwPushToast","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=null,d=null;function m(e){var t=e.online,n=r("BaseToasterStateManager").getInstance();c!=null&&(n.expire(c),c=null),c=t?o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"Your internet connection was restored."),icon:{comet:u.jsx(r("FDSIcon.react"),{color:"positive",icon:r("MWXIconWireless").component}),mds:r("MWXIconWireless").originalComponent}},4e3):o("mwPushToast").mwPushToast({body:s._(/*BTDS*/"You are currently offline."),icon:{comet:u.jsx(r("FDSIcon.react"),{color:"disabled",icon:r("MWXIconWirelessCross").component}),mds:r("MWXIconWirelessCross").originalComponent}},1/0)}function p(){d=r("NetworkStatus").onChange(m)}function _(){var e;(e=d)==null||e.remove(),d=null}var f={subscribe:p,unsubscribe:_};l.subscribe=p,l.unsubscribe=_,l.Toast=f}),226);
__d("MessengerCometRootDeferred",["CometRootDeferredShared","MessengerCometNetworkStatusToast"],(function(t,n,r,o,a,i,l){"use strict";function e(e){o("CometRootDeferredShared").initDeferred(babelHelpers.extends({},e,{networkStatusToast:{subscribe:o("MessengerCometNetworkStatusToast").subscribe,unsubscribe:function(){}}}))}l.initDeferred=e}),98);
__d("MessengerPWAAppWideSideEffects.react",["fbt","RunComet","ServiceWorkerRegistration","clearTimeout","promiseDone","react","react-compiler-runtime","setTimeout","useIsMessengerPWA"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useEffect;function c(){var e=o("react-compiler-runtime").c(6),t=r("useIsMessengerPWA")(),n,a;e[0]!==t?(n=function(){if(t){var e=o("RunComet").onBeforeUnload(p);return e.remove}},a=[t],e[0]=t,e[1]=n,e[2]=a):(n=e[1],a=e[2]),u(n,a);var i,l;e[3]!==t?(i=function(){if(t){var e,n;Notification.permission==="granted"&&(e=new Notification("",{renotify:!0,silent:!0,tag:"no-more-notifications"}),n=r("setTimeout")(function(){var t;(t=e)==null||t.close(),e=null,n=null},0));var a=o("RunComet").onBeforeUnload(d);return(function(){var t;a.remove(),(t=e)==null||t.close(),r("clearTimeout")(n)})}},l=[t],e[3]=t,e[4]=i,e[5]=l):(i=e[4],l=e[5]),u(i,l)}function d(){Notification.permission==="granted"&&r("promiseDone")(r("ServiceWorkerRegistration").getWorkerRegistration().then(m))}function m(e){return e==null||e.showNotification==null?void 0:e.showNotification(s._(/*BTDS*/"Notifications about incoming calls and messages will not appear when the app is closed").toString(),{body:s._(/*BTDS*/"Please keep the app open and minimized in order to see your notifications.").toString(),tag:"no-more-notifications"})}function p(){navigator.clearAppBadge==null||navigator.clearAppBadge()}l.default=c}),226);
__d("MessengerPWAServiceWorkerConstants",[],(function(t,n,r,o,a,i){"use strict";var e="is_messenger_pwa",l="is_messenger_pwa_response",s="messenger_pwa_db",u="pwa_status",c={IS_MESSENGER_PWA:e,IS_MESSENGER_PWA_RESPONSE:l,PWA_DB_NAME:s,STATUS_OBJECT_STORE:u};i.default=c}),66);
__d("MessengerPWAServiceWorkerWriter.react",["FBLogger","I64","Int64Hooks","MWPActor.react","MessengerPWAServiceWorkerConstants","react-compiler-runtime","useIsMessengerPWA"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(4),n=r("useIsMessengerPWA")(),a=o("MWPActor.react").useActor(),i,l;t[0]!==a||t[1]!==n?(i=function(){u((e||(e=o("I64"))).to_string(a),n)},l=[n,a],t[0]=a,t[1]=n,t[2]=i,t[3]=l):(i=t[2],l=t[3]),o("Int64Hooks").useEffectInt64(i,l)}function u(e,t){var n=null,o=window.indexedDB.open(r("MessengerPWAServiceWorkerConstants").PWA_DB_NAME);o.onupgradeneeded=function(){var t=o.result,n=t.createObjectStore(r("MessengerPWAServiceWorkerConstants").STATUS_OBJECT_STORE,{keyPath:"actorId"});n.transaction.oncomplete=function(n){var o=t.transaction(r("MessengerPWAServiceWorkerConstants").STATUS_OBJECT_STORE,"readwrite").objectStore(r("MessengerPWAServiceWorkerConstants").STATUS_OBJECT_STORE),a=o.add({actorId:e,isPWA:!1});a.onsuccess=function(){}}},o.onsuccess=function(){n=o.result;var a=n.transaction([r("MessengerPWAServiceWorkerConstants").STATUS_OBJECT_STORE],"readwrite").objectStore(r("MessengerPWAServiceWorkerConstants").STATUS_OBJECT_STORE),i=a.get(e);i.onerror=function(e){r("FBLogger")("messenger_pwa_writer").catching(e).mustfix("Failed to get value in db")},i.onsuccess=function(e){var n=babelHelpers.extends({},e.target.result,{isPWA:t}),o=a.put(n);o.onerror=function(e){r("FBLogger")("messenger_pwa_writer").catching(e).mustfix("Failed to write new pwa status value to db")},o.onsuccess=function(e){}}},o.onerror=function(e){r("FBLogger")("messenger_pwa_writer").catching(e).mustfix("Failed to create db")}}l.default=s}),98);
__d("MessengerWirelessCrossFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M20.49 10.207c.285-.286.13-.77-.27-.82A17.972 17.972 0 0 0 6.11 13.734c-.476.42-.475 1.152-.026 1.601l.849.849c.449.449 1.175.444 1.658.032a14.447 14.447 0 0 1 8.943-3.459c.263-.008.516-.112.703-.298l2.252-2.252zM18.945 15.287h.001l2.195-2.195 2.827-2.828 2.9-2.898a1.25 1.25 0 1 1 1.767 1.768l-1.728 1.728a.515.515 0 0 0 .113.806 17.959 17.959 0 0 1 2.869 2.066c.477.42.475 1.152.026 1.601l-.849.849c-.449.449-1.175.444-1.658.032a14.43 14.43 0 0 0-3.134-2.043.726.726 0 0 0-.827.149l-1.001 1.001c-.262.262-.159.71.183.852 1.065.445 2.08 1.05 3.006 1.816.49.404.486 1.138.037 1.587l-.848.848c-.45.45-1.174.442-1.679.057a8.455 8.455 0 0 0-3.822-1.63.715.715 0 0 0-.614.207l-2.165 2.164c-.073.074.002.203.104.18a6.005 6.005 0 0 1 4.71.872c.525.356.52 1.095.072 1.544l-2.581 2.581a1.2 1.2 0 0 1-1.698 0l-2.58-2.58c-.152-.152-.417-.206-.569-.054l-4.868 4.868a1.25 1.25 0 1 1-1.768-1.768l7.534-7.534h-.002l4.047-4.046zM14.454 16.243c.179-.18.012-.466-.229-.387a11.922 11.922 0 0 0-3.86 2.135c-.49.404-.486 1.138-.037 1.587l.042.042a.5.5 0 0 0 .707 0l3.377-3.377z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerWirelessFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M29.915 15.335c.449-.449.45-1.18-.026-1.6-6.784-5.98-16.994-5.98-23.778 0-.476.42-.475 1.151-.026 1.6l.849.849c.449.449 1.175.444 1.658.032 5.407-4.621 13.409-4.621 18.816 0 .483.412 1.21.417 1.658-.032l.849-.849z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M25.672 19.578c.45-.45.452-1.183-.037-1.587-4.422-3.655-10.848-3.655-15.27 0-.49.404-.486 1.138-.037 1.587l.848.848c.45.45 1.174.442 1.679.057a8.505 8.505 0 0 1 10.29 0c.505.385 1.23.392 1.679-.057l.848-.848zM21.43 23.82c.449-.449.453-1.188-.073-1.544a6.007 6.007 0 0 0-6.714 0c-.526.356-.522 1.095-.073 1.544l2.581 2.581a1.2 1.2 0 0 0 1.698 0l2.58-2.58z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("NotificationPermissionRequestComet.react",["fbt","BaseModal.react","CometHideLayerOnEscape.react","CometVisualCompletion","ScreenReaderText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(11),n=e.onClick,a,i;t[0]!==n?(a=function(){return window.addEventListener("mousedown",n),r("CometVisualCompletion").addAnnotationInt("pushRequestOverlay",1),(function(){window.removeEventListener("mousedown",n)})},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),c(a,i);var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Push notifications request"),t[3]=l):l=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(r("ScreenReaderText.react"),{text:s._(/*BTDS*/"To allow or block browser notifications from Facebook, go to your browser settings.")}),t[4]=d):d=t[4];var m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Close"),t[5]=m):m=t[5];var p;t[6]!==n?(p=u.jsxs("div",{"aria-label":l,"aria-modal":"true",role:"alertdialog",children:[d,u.jsx("button",{onClick:n,children:m})]}),t[6]=n,t[7]=p):p=t[7];var _;return t[8]!==n||t[9]!==p?(_=u.jsx(r("BaseModal.react"),{stackingBehavior:"above-everything",children:u.jsx(r("CometHideLayerOnEscape.react"),{onHide:n,children:p})}),t[8]=n,t[9]=p,t[10]=_):_=t[10],_}l.default=d}),226);
__d("WebPerfDeviceInfoLogFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1871697"),s=o("FalcoLoggerInternal").create("web_perf_device_info_log",e),u=s;l.default=u}),98);
__d("XDeviceClassRealtimeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/web_perf/get_perf_level/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("WebDevicePerfInfoLogging",["AsyncTypedRequest","JSScheduler","WebDevicePerfInfoData","WebPerfDeviceInfoLogFalcoEvent","XDeviceClassRealtimeControllerRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl");if(n){var r=n.getExtension("WEBGL_debug_renderer_info");if(r){var o=n.getParameter(r.UNMASKED_RENDERER_WEBGL),a=n.getParameter(r.UNMASKED_VENDOR_WEBGL);e.gpu_vendor=a,e.gpu_renderer=o}}}function u(){var e=window.navigator,t={};return e&&e.hardwareConcurrency!==void 0&&(t.cpu_cores=e.hardwareConcurrency),e&&e.deviceMemory!==void 0&&(t.ram=e.deviceMemory),r("WebDevicePerfInfoData").needsFullUpdate&&s(t),t}function c(){var e=u();r("WebPerfDeviceInfoLogFalcoEvent").log(function(){var t,n,r,o;return{cpu_cores:(t=e.cpu_cores)!=null?t:null,ram:(n=e.ram)!=null?n:null,gpu_renderer:(r=e.gpu_renderer)!=null?r:null,gpu_vendor:(o=e.gpu_vendor)!=null?o:null}})}async function d(){var e=u(),t=await new(r("AsyncTypedRequest"))(r("XDeviceClassRealtimeControllerRouteBuilder").buildURL({})).setData(e).promisePayload();return t.devicePerfClassLevel}function m(){(r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate)&&(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(c)}function p(){return new Promise(function(t,n){r("WebDevicePerfInfoData").needsFullUpdate||r("WebDevicePerfInfoData").needsPartialUpdate?(e||(e=o("JSScheduler"))).scheduleSpeculativeCallback(function(){d().then(t).catch(n)}):t()})}l.doLog=m,l.doLogPromise=p}),98);
__d("isRecentProfileSwitchSessionStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s={getAndRemove:function(){var t,n,o=(t=(e||(e=r("WebStorage"))).getSessionStorage())==null?void 0:t.getItem("comet_is_recent_profile_switch");if(o==null)return null;(n=(e||(e=r("WebStorage"))).getSessionStorage())==null||n.removeItem("comet_is_recent_profile_switch");try{var a=JSON.parse(o);return{didSwitchToMainProfile:(a==null?void 0:a.didSwitchToMainProfile)===!0}}catch(e){return null}},set:function(n){(e||(e=r("WebStorage"))).setItemGuarded(e.getSessionStorage(),"comet_is_recent_profile_switch",JSON.stringify(n))}},u=s;l.default=u}),98);
__d("profileSwitchOriginSessionStorage",["WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s={getAndRemove:function(){var t,n,o=(t=(e||(e=r("WebStorage"))).getSessionStorage())==null?void 0:t.getItem("comet_profile_switch_origin");if(o==null)return null;(n=(e||(e=r("WebStorage"))).getSessionStorage())==null||n.removeItem("comet_profile_switch_origin");try{var a=JSON.parse(o);return{origin:a==null?void 0:a.origin}}catch(e){return null}},set:function(n){(e||(e=r("WebStorage"))).setItemGuarded(e.getSessionStorage(),"comet_profile_switch_origin",JSON.stringify(n))}},u=s;l.default=u}),98);
__d("addCometProfileSwitchAnnotation",["JSScheduler","QuickPerformanceLogger","isRecentProfileSwitchSessionStorage","profileSwitchOriginSessionStorage","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){(s||(s=o("JSScheduler"))).scheduleLoggingPriCallback(function(){var n=r("isRecentProfileSwitchSessionStorage").getAndRemove();n&&((e||(e=r("QuickPerformanceLogger"))).markerEnd(r("qpl")._(30606395,"1860"),2,0,e.currentTimestamp()),t.addAnnotationInt("is_recent_profile_switch",n.didSwitchToMainProfile?2:1));var o=r("profileSwitchOriginSessionStorage").getAndRemove();o&&t.addMetadata("origin",o.origin)})}l.default=u}),98);/*FB_PKG_DELIM*/
__d("BladeRunnerConfig",["RTISubscriptionManagerConfig","WebDriverConfig","cr:3024","gkx","isEmpty"],(function(t,n,r,o,a,i,l){var e,s="javascript-sandbox",u="OverrideServer",c="www_sandbox",d="www_tier",m=(function(){function t(){}var o=t.prototype;return o.patchRequestHeaders=function(o){var t={},a=r("RTISubscriptionManagerConfig").bladerunner_www_sandbox,i=r("RTISubscriptionManagerConfig").is_intern;if((e||(e=r("isEmpty")))(r("WebDriverConfig").auxiliaryServiceInfo))a!=null&&(t[s]=a);else{var l,m=(l=r("WebDriverConfig").auxiliaryServiceInfo.BladeRunner)!=null?l:r("WebDriverConfig").auxiliaryServiceInfo["BladeRunner-sandcastle"];m!=null?(typeof m.ip_address=="string"?t[u]=m.ip_address+":18295":typeof m.hostname=="string"&&(t[u]=m.hostname+":18295"),typeof r("WebDriverConfig").originHost=="string"&&(t[c]="www."+r("WebDriverConfig").originHost)):a!=null&&(t[s]=a)}if(i===!0&&(t[d]="intern"),r("WebDriverConfig").isTestRunning&&r("gkx")("20919")){var p=n("cr:3024")==null?void 0:n("cr:3024").get();p!=null&&(t.is_test="true",t.original_request_id=p)}r("gkx")("20929")&&(t["Accept-Ack"]="RSAck");for(var _ in o)t[_]=o[_];return t.http_referer=window.location.href,t},t})(),p=new m,_=p;l.default=_}),98);
__d("BladeRunnerLogger",["FBLogger","ODS"],(function(t,n,r,o,a,i,l){var e,s="bladerunner_js_client",u={info:"info",warning:"warning",exception:"exception"},c=(function(){function t(){this.setFBLoggerLevel(1)}var n=t.prototype;return n.info=function(t){this.$2>=2&&r("FBLogger")(s).info("BladeRunner info: %s",t),this.$3(u.info,t)},n.warn=function(t){this.$2>=1&&r("FBLogger")(s).warn("BladeRunner warn: %s",t),this.$3(u.warning,t)},n.exception=function(t,n){n===void 0&&(n="");var e=n+" "+t.toString();this.$2>=0&&r("FBLogger")(s).warn("BladeRunner exception: %s, %s",n,t.toString()),this.$3(u.exception,e)},n.trimForLogging=function(t){var e=1024;return typeof t=="string"&&t.length>e?"[trimmed]:"+t.substring(0,e)+"...":t},n.bumpCounter=function(n,r){r===void 0&&(r=1),(e||(e=o("ODS"))).bumpEntityKey(2966,"BladeRunnerClient",n,r)},n.setClientSessionId=function(t){this.$1=t},n.setFBLoggerLevel=function(t){this.$2=t},n.$3=function(t,n){},t})(),d=new c,m=d;l.default=m}),98);
__d("BladeRunnerTypes",[],(function(t,n,r,o,a,i,l){var e={REQUEST:1,DATA:2,DATA_ACK:3,STATUS_UPDATE:4,REWRITE_REQUEST:5,LOG:6},s={BLADE_RUNNER:1,GATEWAY:2};l.StreamFrameType=e,l.StreamRequestType=s}),98);
__d("BladeRunnerTypesInternal",["Base64","BladeRunnerLogger","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(){}var t=e.prototype;return t.getHeaders=function(){if(this.headers!=null)return this.headers;throw new Error("Expected headers")},t.getInstrumentationData=function(){if(this.instrumentationData!=null&&this.instrumentationData.length>0)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.updateRetryRequestPayload=function(t){t!=null?this.payload=r("Base64").encode(t):this.payload=null},e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.requestType=f(n.requestType),t.payload=y(n.payload),t.headers=v(n.headers),t.extraHeader=y(n.extraHeader),t.requestTarget=y(n.requestTarget),t.instrumentationData=y(n.instrumentationData),t},e})(),s=(function(){function e(){}e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=g(n.dataId),t.data=y(n.data),t.shouldAck=R(n.shouldAck),t};var t=e.prototype;return t.rawData=function(){if(this.data==null)throw new Error("Expected data");return this.data},t.rawDataSize=function(){return this.data==null?0:this.data.length},t.decodeData=function(){if(this.data==null)throw new Error("Expected data");return r("Base64").decode(this.data)},t.setData=function(t){this.data=r("Base64").encode(t)},t.getInstrumentationData=function(){return this.instrumentationData!=null?JSON.parse(this.instrumentationData):null},e})(),u=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.dataId=f(n.dataId),t.success=S(n.success),t.message=y(n.message),t.code=g(n.code),t},e})();u.ACK_CODE_LANDED_AND_ACCEPTED=20,u.ACK_CODE_LANDED_BUT_NOT_ACCEPTED=21,u.ACK_CODE_FAILED_TO_LAND=50;var c=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=g(n.streamId),t.message=y(n.message),t},e})(),d=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.status=f(n.status),t.message=y(n.message),t.code=g(n.code),t.shouldRetry=R(n.shouldRetry),t.retryDelayMs=g(n.retryDelayMs),t},e})(),m=(function(){function e(){}return e.readObject=function(n){var t=new e;return t.streamId=f(n.streamId),t.newBody=y(n.newBody),t.newExtraHeader=y(n.newExtraHeader),t.patchExtraHeader=y(n.patchExtraHeader),t.killBody=R(n.killBody),t.temporary=R(n.temporary),t},e})(),p=(function(){function t(){}var n=t.prototype;return n.getRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request;throw new Error("Expected request")},n.getData=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data;throw new Error("Expected data")},n.getDataAck=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck;throw new Error("Expected dataAck")},n.getStatusUpdate=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate;throw new Error("Expected status update")},n.getLog=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log;throw new Error("Expected log")},n.getRewriteRequest=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest;throw new Error("Expected rewrite request")},n.getStreamId=function(){if(this.type==o("BladeRunnerTypes").StreamFrameType.REQUEST&&this.request!=null)return this.request.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA&&this.data!=null)return this.data.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE&&this.statusUpdate!=null)return this.statusUpdate.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.LOG&&this.log!=null)return this.log.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST&&this.rewriteRequest!=null)return this.rewriteRequest.streamId;if(this.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.dataAck!=null)return this.dataAck.streamId;throw new Error("Frame with unexpected type")},n.isInstrumented=function(){return this.type===o("BladeRunnerTypes").StreamFrameType.REQUEST?this.getRequest().instrumentationData!=null:this.type===o("BladeRunnerTypes").StreamFrameType.DATA?this.getData().instrumentationData!=null:!1},t.readObject=function(a){var n=new t;switch(n.type=f(a.type),n.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:n.request=e.readObject(C(a.request));break;case o("BladeRunnerTypes").StreamFrameType.DATA:n.data=s.readObject(C(a.data));break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:n.dataAck=u.readObject(C(a.dataAck));break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:n.statusUpdate=d.readObject(C(a.statusUpdate));break;case o("BladeRunnerTypes").StreamFrameType.LOG:n.log=c.readObject(C(a.log));break;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:n.rewriteRequest=m.readObject(C(a.rewriteRequest));break;default:return r("BladeRunnerLogger").warn("Frame with unexpected type: "+n.type),null}return n},t.newRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REQUEST,e.request=n,e},t.newDataFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA,e.data=n,e},t.newDataAckFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.DATA_ACK,e.dataAck=n,e},t.newStatusUpdateFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE,e.statusUpdate=n,e},t.newLogFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.LOG,e.log=n,e},t.newRewriteRequestFrame=function(n){var e=new t;return e.type=o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST,e.rewriteRequest=n,e},t})(),_=(function(){function e(e,t,n){this.batchId=e,this.frames=t,this.instrumentationData=n}var t=e.prototype;return t.getFrames=function(){if(this.frames!=null)return this.frames;throw new Error("Expected frames")},t.getInstrumentationData=function(){if(this.instrumentationData!=null)try{return JSON.parse(this.instrumentationData)}catch(e){return null}else return null},t.getInstrumentationDataDfTraceId=function(){if(this.instrumentationData!=null)try{var e,t=JSON.parse(this.instrumentationData);return(e=t.dataFlowTracingData)==null?void 0:e.traceId}catch(e){return null}else return null},t.write=function(){return JSON.stringify(this)},t.isInstrumented=function(){return this.getFrames().some(function(e){return e.isInstrumented()})},e.read=function(n){var t=JSON.parse(n),r=t.batchId||0,o=[];for(var a of t.frames){var i=p.readObject(a);i!=null&&o.push(i)}var l=t.instrumentationData||null;return new e(r,o,l)},e})();function f(e){if(typeof e=="number")return e;throw new Error("Expected number")}function g(e){return e==null?null:f(e)}function h(e){if(typeof e=="string")return e;throw new Error("Expected string")}function y(e){return e==null?null:h(e)}function C(e){if(typeof e=="object"&&e!=null)return e;throw new Error("Expected object")}function b(e){if(typeof e=="object"&&e!=null){var t=e,n={};return Object.keys(t).forEach(function(e){var r=t[e];typeof r=="string"&&r!=null&&(n[e]=r)}),n}throw new Error("Expected string map")}function v(e){return e==null?null:b(e)}function S(e){if(typeof e=="boolean"&&e!=null)return e;throw new Error("Expected boolean")}function R(e){return e==null?null:S(e)}l.GatewayStreamRequest=e,l.GatewayStreamData=s,l.GatewayStreamDataAck=u,l.GatewayStreamLog=c,l.GatewayStreamStatusUpdate=d,l.GatewayStreamRewriteRequest=m,l.GatewayStreamFrame=p,l.GatewayStreamBatch=_}),98);
__d("RequestStreamE2EClientLoggerEvent",[],(function(t,n,r,o,a,i){var e=Object.freeze({RECEIVED:"received",SENT:"sent",FAILURE:"failure",PUBACK:"puback"});i.default=e}),66);
__d("RequestStreamE2EClientLoggerMessageType",[],(function(t,n,r,o,a,i){var e=Object.freeze({REQUEST_STREAM:"request_stream",AMENDMENT:"amendment",AMENDMENT_ACK:"amendment_ack",CANCEL:"cancel",RESPONSE:"response",RESPONSE_ACK:"response_ack",TIMED_REQUEST:"timed_request",INTERRUPT:"interrupt"});i.default=e}),66);
__d("BladeRunnerEventHandler",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","getErrorSafe","setTimeoutAcrossTransitions"],(function(t,n,r,o,a,i,l){var e=1e3,s=(function(){function t(e,t,n){this.$2=e,this.$1=t,this.$3=n}var n=t.prototype;return n.onProxyResponse=function(t){var e,n;this.$4(t);var a=[];for(var i of t.getFrames())this.$2.witnessFrame(i)&&a.push(i);var l=this.$2.getRequest();(e=l.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,{},(n=t.getInstrumentationData())==null?void 0:n.auxId,null,t.getInstrumentationDataDfTraceId()),a.length>0&&this.$5(new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(t.batchId,a,t.instrumentationData))},n.onDisconnect=function(){this.$2.resetErrors();var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=this.$2.getRequest().streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,e.shouldRetry=!0,e.retryDelayMs=0;var t=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);this.onProxyResponse(t)},n.$4=function(n){var t=this,a=n.getFrames().filter(function(e){return e.type==o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE});for(var i of a){var l=i.getStatusUpdate();if(l.status==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||l.status==o("BladeRunnerStreamStatus").StreamStatus.REJECTED){this.$2.onError();var s=l.shouldRetry!=null&&l.shouldRetry,u=l.message!=null?l.message:"null";if(s&&this.$2.getErrorCount()<=this.$2.getRetriesAllowed()){l.status=o("BladeRunnerStreamStatus").StreamStatus.STOPPED;var c=e;l.retryDelayMs!=null&&(c=l.retryDelayMs),r("BladeRunnerLogger").info("Can retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", retryDelay "+c+"ms. Already retrying: "+this.$2.getRetryRequestScheduled().toString()),this.$2.getRetryRequestScheduled()?r("BladeRunnerLogger").bumpCounter("stream_closed_already_retrying"):(r("BladeRunnerLogger").bumpCounter("stream_closed_will_retry"),this.$2.setRetryRequestScheduled(!0),c>0?r("setTimeoutAcrossTransitions")(function(){return t.$6()},c):this.$6())}else r("BladeRunnerLogger").info("Will not retry: stream "+l.streamId+" closed with status "+l.status+", message "+u+". Error count: "+this.$2.getErrorCount()+", shouldRetry "+s.toString()+". Already retrying: "+this.$2.getRetryRequestScheduled().toString()),s?r("BladeRunnerLogger").bumpCounter("stream_closed_retry_exceeded"):r("BladeRunnerLogger").bumpCounter("stream_closed_no_retry"),this.$3.removeStream(l.streamId)}}},n.$6=function(){if(this.$2.setRetryRequestScheduled(!1),this.$2.isAlive()){var e=this.$1.getUpdatedRequestBody();e!=null&&this.$2.updateRetryRequestPayload(e),this.$3.sendRetryStreamRequest(this.$2)}},n.$5=function(t){r("BladeRunnerLogger").bumpCounter("send_to_handler");var e=[];this.$1.onBatch(t);for(var n of t.getFrames())try{switch(n.type){case o("BladeRunnerTypes").StreamFrameType.DATA:this.$1.onData(n.getData()),e.push(n.getData());break;case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:this.$1.onStatusUpdate(n.getStatusUpdate().status);break;case o("BladeRunnerTypes").StreamFrameType.LOG:var a=n.getLog().message;a!=null&&this.$1.onLog(a);break;case o("BladeRunnerTypes").StreamFrameType.DATA_ACK:break;default:throw new Error("Frame with unexpected type")}}catch(e){var i=r("getErrorSafe")(e);r("BladeRunnerLogger").bumpCounter("send_to_handler_error"),r("BladeRunnerLogger").exception(i,"Failed sending frame to stream handler")}this.$7(e)},n.$7=function(t){var e=[];for(var n of t)if(n.shouldAck===!0&&n.dataId!=null){var r=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;r.streamId=n.streamId,r.dataId=n.dataId,r.success=!0,e.push(r)}this.$3.sendDataAcks(e)},t})();l.default=s}),98);
__d("RtiRequestStreamE2eClientBatchFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("819"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client_batch",e),u=s;l.default=u}),98);
__d("RtiRequestStreamE2eClientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1857112"),s=o("FalcoLoggerInternal").create("rti_request_stream_e2e_client",e),u=s;l.default=u}),98);
__d("RequestStreamE2ELogger",["ConstUriUtils","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RtiRequestStreamE2eClientBatchFalcoEvent","RtiRequestStreamE2eClientFalcoEvent","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e,s="rs_debug_logging",u=["FBGQLS:COMMENT_CREATE_SUBSCRIBE","FBGQLS:COMMENT_LIKE_SUBSCRIBE","FBGQLS:FEEDBACK_COMMENT_PERMISSION_TOGGLE_SUBSCRIBE","FBGQLS:FEEDBACK_TYPING_SUBSCRIBE","GRAPHQL:CometNotificationsReceiveLiveQuery"],c=0;function d(){var e=Date.now();return c>=e?c+=1:c=e,c.toString()}var m=(function(){function e(e,t,n,r,a,i,l,s,u,c){this.$10=[],this.$11=!1,this.$1=e,this.$2=t,this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,this.$12=c!=null?c:!1;var d=o("ConstUriUtils").getUri(window.location.href);d&&(this.$13=d.getDomain())}var t=e.prototype;return t.logE2EEvent=function(t,n,r,o,a,i,l){if(r===void 0&&(r=null),o===void 0&&(o=null),a===void 0&&(a=null),i===void 0&&(i=null),l===void 0&&(l=null),this.$3!=="Falco"){var e={request_id:this.$1,resume_id:"0",retry_id:a,transport:this.$2,method:this.$3,use_case:this.$4,request_log_context:this.$5,force_log_context:this.$6,e2e_sample_rate:this.$7,message_type:t,event:n,timestamp_ms:d(),aux_id:o,additional_data:r,dgw_stream_group_logging_id:this.$8,dgw_count_prior_streams_in_group:this.$9,domain:this.$13,df_trace_id:i};this.$14(e,l)}},t.$14=function(t,n){if(!this.$12){r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return t});return}if(this.$10.push(t),this.$11||t.event==r("RequestStreamE2EClientLoggerEvent").FAILURE||t.message_type==r("RequestStreamE2EClientLoggerMessageType").RESPONSE){var e={events:this.$10};r("RtiRequestStreamE2eClientBatchFalcoEvent").log(function(){return e}),this.$10=[],this.$11=!0}},t.getRequestId=function(){return this.$1},e})();function p(e,t,n){if(e==null||e.method==null)return null;var r=!1;if(u.includes(e.method)&&(r=!0),t==null||t.length===0)return null;var o=JSON.parse(t);return o.requestId==null?null:new m(o.requestId,n,e.method,_(e.method,e),o.requestLogContext,o.forceLogContext,o.sampleRate,o.dgwStreamGroupLoggingId,o.dgwCountPriorStreamsInGroup,r)}function _(e,t){if(e==="FBLQ"&&t.config_id)return t.config_id;if(e==="SKY"){if(t.topic){var n=t.topic.lastIndexOf("/");return n>0?t.topic.substr(0,n):t.topic}return}return e}function f(e,t,n,o,a,i){if(a===void 0&&(a=null),i===void 0&&(i=null),!(e==null||e.requestId==null||e.clientLoggingDisabled!=null)){var l={request_id:e.requestId,resume_id:"0",transport:t,e2e_sample_rate:e.sampleRate,message_type:n,event:o,timestamp_ms:d(),aux_id:e.auxId,additional_data:a,df_trace_id:i};r("RtiRequestStreamE2eClientFalcoEvent").log(function(){return l})}}l.RequestStreamE2ELogger=m,l.createStreamLogger=p,l.logRequestStreamE2EEventStatic=f}),98);
__d("RequestStreamTransport",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["WEB_BR_MQTT","WEB_RS_MQTT","WEB_RS_STARGATE"]);i.RequestStreamTransport=e}),66);
__d("BladeRunnerSocket",["BladeRunnerEventHandler","BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes","BladeRunnerTypesInternal","CurrentUser","FBMqttChannel","MqttPublishListener","Promise","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamTransport","getErrorSafe","justknobx","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="Connected",u="Disconnected",c="/br_sr",d="/sr_res",m=null;function p(e){var t,n;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return(t=e.request)==null?void 0:t.getInstrumentationData();case o("BladeRunnerTypes").StreamFrameType.DATA:return(n=e.data)==null?void 0:n.getInstrumentationData()}return null}function _(e){switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:return r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM;case o("BladeRunnerTypes").StreamFrameType.DATA:return r("RequestStreamE2EClientLoggerMessageType").AMENDMENT}return null}function f(e){if(e===null)return null;switch(e){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:return"Accepted";case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:return"Rejected";case o("BladeRunnerStreamStatus").StreamStatus.STARTED:return"Started";case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:return"Stopped";case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:return"Closed"}return null}function g(e){var t,n={};return e==null||(t=e.frames)==null||t.forEach(function(e){if(e.type===o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE){var t,r=(t=e.statusUpdate)==null?void 0:t.status,a=f(r);a!==null&&(n.flow_status=a)}}),n}function h(e,t){var n,r;switch(e.type){case o("BladeRunnerTypes").StreamFrameType.REQUEST:t.data_base64_size=(n=e.request)==null||(n=n.payload)==null||(n=n.length)==null?void 0:n.toString();break;case o("BladeRunnerTypes").StreamFrameType.DATA:t.data_base64_size=(r=e.data)==null||(r=r.rawDataSize())==null?void 0:r.toString();break}return null}function y(e,t,n){var a,i=p(e);if(i!=null){var l=_(e);if(l!=null){var s=null;switch(t){case o("MqttPublishListener").MqttPublishEvent.SENT:s=r("RequestStreamE2EClientLoggerEvent").SENT;break;case o("MqttPublishListener").MqttPublishEvent.ACKED:s=r("RequestStreamE2EClientLoggerEvent").PUBACK;break;case o("MqttPublishListener").MqttPublishEvent.NOT_ACKED:case o("MqttPublishListener").MqttPublishEvent.NOT_CONNECTED:case o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR:s=r("RequestStreamE2EClientLoggerEvent").FAILURE,n.reason==null&&(n.reason=t);break}if(s!=null)if(h(e,n),((a=e.request)==null?void 0:a.e2eLogger)!=null&&i.clientLoggingDisabled==null){var u;(u=e.request)==null||u.e2eLogger.logE2EEvent(l,s,n,i.auxId)}else o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(i,o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,l,s,n)}}}var C=(function(){function t(e){this.$1=[],this.$2=0,this.$3=0,this.$4=null,this.$5=0,this.$6=new Map,this.$7=e!=null?e:r("FBMqttChannel"),this.$8=new Map,r("BladeRunnerLogger").setClientSessionId(r("uuidv4")()),this.$9()}t.get=function(){return m==null&&(m=new t(r("FBMqttChannel"))),m};var a=t.prototype;return a.sendNewStreamRequest=function(n,o){var e=new(r("BladeRunnerEventHandler"))(n,o,this),a=n.getRequest();if(this.$6.set(a.streamId,e),!this.$10()){this.$11(e,a.streamId);return}this.getStreamCount()<=t.maxStreamCount?this.$12(a):(r("BladeRunnerLogger").bumpCounter("socket_request_throttled_max_streams"),r("BladeRunnerLogger").warn("Maximum stream count reached, will not send request: "+JSON.stringify(n.getRequest().getHeaders())),this.$11(e,a.streamId))},a.sendRetryStreamRequest=function(t){this.$12(t.getRequest())},a.sendCancel=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_cancel");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=t.streamId,e.status=o("BladeRunnerStreamStatus").StreamStatus.CLOSED,this.$13(e,t),this.removeStream(t.streamId)},a.sendAmendment=function(t,n,a){r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var e=new(o("BladeRunnerTypesInternal")).GatewayStreamData;e.streamId=t,e.setData(n),a!=null&&(e.instrumentationData=a),this.$14(e)},a.sendAmendmentWithAck=function(a,i,l){var t=this;r("BladeRunnerLogger").bumpCounter("socket_send_amendment");var s=this.$15(),u=new(o("BladeRunnerTypesInternal")).GatewayStreamData;u.streamId=a,u.setData(i),u.shouldAck=!0,u.dataId=s,l!=null&&(u.instrumentationData=l);var c=new(e||(e=n("Promise")))(function(e,n){t.$8.set(s,{resolve:e,reject:n})});return this.$14(u),c},a.$14=function(t){this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataFrame(t)),this.$16()},a.sendDataAcks=function(t){r("BladeRunnerLogger").bumpCounter("socket_send_data_ack",t.length),this.$17(t)},a.removeStream=function(t){this.$6.delete(t)},a.getStreamCount=function(){return this.$6.size},a.getNextStreamId=function(){return this.$5++,this.$5},a.onMQTTStateChanged=function(t){this.$16(),!(t!=u&&t!=s||this.$4==t)&&(this.$4=t,r("BladeRunnerLogger").info("MQTTStateChanged: "+t),t==u?(r("BladeRunnerLogger").bumpCounter("mqtt_state_disconnected"),this.$18()):t==s&&r("BladeRunnerLogger").bumpCounter("mqtt_state_connected"))},a.$12=function(t){if(r("BladeRunnerLogger").bumpCounter("socket_send_request"),this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newRequestFrame(t)),!this.$16()){var e;(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"MQTT Not Connected"})}},a.$13=function(t,n){if(this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(t)),this.$16()){var e;(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").SENT)}},a.$17=function(t){for(var e of t)this.$1.push(o("BladeRunnerTypesInternal").GatewayStreamFrame.newDataAckFrame(e));this.$16()},a.$19=function(){return this.$2++,this.$2},a.$15=function(){return this.$3++,this.$3},a.$16=function(){var e=!1;if(this.$7.getConnectionState()===s&&this.$1.length>0)try{this.$20(this.$1),e=!0}catch(e){}finally{this.$1=[]}return e},a.$20=function(t){var e=this,n=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(this.$19(),t),a=n.write();if(a.length>this.$21()){var i=Math.floor(t.length/2);if(i===0){t.forEach(function(e){return y(e,o("MqttPublishListener").MqttPublishEvent.PUBLISH_ERROR,{reason:"too long"})});var l=new Error("Publish is too long: "+a.length);throw l.stack,this.$22(n,l,"Publish is too long"),l}this.$20(t.slice(0,i)),this.$20(t.slice(i,t.length))}else try{r("BladeRunnerLogger").info("send message to "+c+" ("+a.length+" bytes)");var s={qos:1,skipBuffer:!1};if(n.isInstrumented()){var u=Date.now();s.listener={onEvent:function(n){var e=(Date.now()-u).toString();t.forEach(function(t){y(t,n,{latency:e})})}}}this.$7.publish(c,a,s).catch(function(t){e.$22(n,t,"Failed publishing to MQTT")}),r("BladeRunnerLogger").bumpCounter("mqtt_publish_success")}catch(e){var d=r("getErrorSafe")(e);throw this.$22(n,d,"Failed publishing to MQTT"),d}},a.$9=function(){var e=this;r("BladeRunnerLogger").info("Starting socket with endpoint "+this.$7.getEndpoint()+" useragent "+navigator.userAgent),this.onMQTTStateChanged(this.$7.getConnectionState()),this.$7.subscribeChannelEvents({onMQTTStateChanged:function(n){e.onMQTTStateChanged(n)},onJSError:function(t){var e=t!=null&&typeof t.isRecoverable=="boolean"?t.isRecoverable:!1;e?r("BladeRunnerLogger").bumpCounter("mqtt_channel_recoverable_error"):(r("BladeRunnerLogger").warn("JS error in MQTTChannel: "+(typeof t=="object"&&t!=null?t.toString():"unknown error")+", "+JSON.stringify(t)),r("BladeRunnerLogger").bumpCounter("mqtt_channel_error"))}}),this.$7.subscribe(c,function(e){throw new Error("Unexpected response: "+c+" "+e.toString())}),this.$7.subscribe(d,function(t){e.$23(t)})},a.$23=function(t){var e=o("BladeRunnerTypesInternal").GatewayStreamBatch.read(t);this.processBatch(e)},a.$22=function(t,n,a){for(var e of t.getFrames())if(e.type===o("BladeRunnerTypes").StreamFrameType.REQUEST){var i=e.getRequest(),l=this.$6.get(i.streamId);l!=null&&this.$24(l,i.streamId,o("BladeRunnerStreamStatus").StreamStatus.CLOSED,!0,null)}else if(e.type===o("BladeRunnerTypes").StreamFrameType.DATA){var s=e.getData(),u=s.dataId;if(s.shouldAck!=null&&s.shouldAck&&u!=null){var c=new(o("BladeRunnerTypesInternal")).GatewayStreamDataAck;c.streamId=s.streamId,c.dataId=u,c.success=!1,c.code=o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_FAILED_TO_LAND,c.message=a,this.$25(c)}}r("BladeRunnerLogger").info("Failed publishing to MQTT: "+n.message),r("BladeRunnerLogger").bumpCounter("mqtt_publish_error")},a.$25=function(t){var e=this.$8.get(t.dataId);e!=null&&(this.$8.delete(t.dataId),t.success?e.resolve(!0):t.code===o("BladeRunnerTypesInternal").GatewayStreamDataAck.ACK_CODE_LANDED_BUT_NOT_ACCEPTED?e.resolve(!1):e.reject(t.message))},a.processBatch=function(t){try{o("RequestStreamE2ELogger").logRequestStreamE2EEventStatic(t.getInstrumentationData(),o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,g(t),t.getInstrumentationDataDfTraceId()),r("BladeRunnerLogger").bumpCounter("socket_process_batch");var e=JSON.stringify(t);r("BladeRunnerLogger").info("Received batch ("+e.length+" bytes)");var n=null;for(var a of t.getFrames()){var i=a.getStreamId();if(n==null&&(n=i),i!=null&&n!=i)throw new Error("Received batch with frames for multiple streams");a.type==o("BladeRunnerTypes").StreamFrameType.DATA_ACK&&this.$25(a.getDataAck())}if(n!=null){var l=this.$6.get(n);l!=null?l.onProxyResponse(t):r("BladeRunnerLogger").info("Received batch with frames for unknown stream id: "+n)}else r("BladeRunnerLogger").info("Received batch with no frames")}catch(e){var s=r("getErrorSafe")(e);throw r("BladeRunnerLogger").exception(s,"Failed processing batch from MQTT"),r("BladeRunnerLogger").bumpCounter("socket_process_batch_error"),s}},a.$18=function(){this.$6.forEach(function(e,t,n){e.onDisconnect()})},a.$11=function(t,n){this.$24(t,n,o("BladeRunnerStreamStatus").StreamStatus.REJECTED,!1,0)},a.$24=function(t,n,r,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamStatusUpdate;e.streamId=n,e.status=r,e.shouldRetry=a,e.retryDelayMs=i;var l=new(o("BladeRunnerTypesInternal")).GatewayStreamBatch(null,[o("BladeRunnerTypesInternal").GatewayStreamFrame.newStatusUpdateFrame(e)]);t.onProxyResponse(l)},a.$10=function(){return r("CurrentUser").isLoggedIn()?!0:(r("BladeRunnerLogger").bumpCounter("request_stream_user_logged_out"),!1)},a.$21=function(){var e=1048576,t=512*1024;try{var n=r("justknobx")._("317");t=n*e}catch(e){}return Math.max(t-1024,0)},t})();C.maxStreamCount=2e3,l.default=C}),98);
__d("BladeRunnerStream",[],(function(t,n,r,o,a,i){var e=(function(){function e(e){this.$1=e}var t=e.prototype;return t.getStreamHandler=function(){return this.$1},t.cancel=function(){},t.amendWithAck=async function(t){return!1},t.amendFireAndForget=function(t){},t.amendWithoutAck=function(t){},t.start=function(){return Promise.resolve()},t.isAlive=function(){return!1},t.canAmend=function(){return!1},t.getStatus=function(){return null},t.getStreamId=function(){return 0},e})();i.default=e}),66);
__d("BladeRunnerStreamState",["BladeRunnerLogger","BladeRunnerStreamStatus","BladeRunnerTypes"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e){this.$1=e,this.$2=null,this.$3=0,this.$4=!1,this.$5=0,this.$6=!1}var t=e.prototype;return t.getRequest=function(){return this.$1},t.updateRetryRequestPayload=function(t){this.$1.updateRetryRequestPayload(t)},t.isAlive=function(){return!(this.$2==o("BladeRunnerStreamStatus").StreamStatus.CLOSED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.REJECTED)},t.canAmend=function(){return this.$2==o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STARTED||this.$2==o("BladeRunnerStreamStatus").StreamStatus.STOPPED},t.getLastStatus=function(){return this.$2},t.setLastStatus=function(t){this.$2=t},t.onError=function(){this.$3+=1},t.getErrorCount=function(){return this.$3},t.resetErrors=function(){this.$3=0},t.getRetryRequestScheduled=function(){return this.$6},t.setRetryRequestScheduled=function(t){this.$6=t},t.witnessFrame=function(t){switch(t.type){case o("BladeRunnerTypes").StreamFrameType.STATUS_UPDATE:var e=t.getStatusUpdate(),n=!0;switch(e.status){case o("BladeRunnerStreamStatus").StreamStatus.ACCEPTED:n=!this.$4,this.$4||(this.$4=!0);break;case o("BladeRunnerStreamStatus").StreamStatus.STARTED:n=this.getLastStatus()!=o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.STOPPED:n=this.getLastStatus()==o("BladeRunnerStreamStatus").StreamStatus.STARTED;break;case o("BladeRunnerStreamStatus").StreamStatus.CLOSED:case o("BladeRunnerStreamStatus").StreamStatus.REJECTED:default:n=!0}return this.setLastStatus(e.status),n;case o("BladeRunnerTypes").StreamFrameType.REWRITE_REQUEST:return this.$7(t.getRewriteRequest()),!1;default:return!0}},t.setRetriesAllowed=function(t){this.$5=t},t.getRetriesAllowed=function(){return this.$5},t.$7=function(t){if(!(t.temporary!=null||t.temporary==!0)){if(t.newBody!=null&&(this.$1.payload=t.newBody),t.newExtraHeader!=null&&(this.$1.extraHeader=t.newExtraHeader,this.$1.headers=JSON.parse(t.newExtraHeader)),t.patchExtraHeader!=null)try{var e=JSON.parse(t.patchExtraHeader),n=this.$1.extraHeader!=null?JSON.parse(this.$1.extraHeader):{};this.$1.headers==null&&(this.$1.headers={});for(var o of Object.keys(e))this.$1.headers[o]=e[o],n[o]=e[o];this.$1.extraHeader=JSON.stringify(n)}catch(e){r("BladeRunnerLogger").warn("Failed to patch header: "+t.patchExtraHeader)}t.killBody!=null&&t.killBody==!0&&(this.$1.payload=null)}},e})();l.default=e}),98);
__d("BladeRunnerSocketStream",["BladeRunnerStream","BladeRunnerStreamState","BladeRunnerStreamStatus","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","uuidv4"],(function(t,n,r,o,a,i,l){var e=4,s={reason:"stream_dead"},u=(function(t){function n(n,o,a){var i;return i=t.call(this,n)||this,i.$BladeRunnerSocketStream$p_1=a,i.$BladeRunnerSocketStream$p_2=new(r("BladeRunnerStreamState"))(o),i.$BladeRunnerSocketStream$p_2.setRetriesAllowed(e),i}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.start=function(){var e=this;return new Promise(function(t){e.send(),t()})},a.send=function(){var e,t,n=this.$BladeRunnerSocketStream$p_2.getRequest();(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_base64_size:(t=n.payload)==null||(t=t.length)==null?void 0:t.toString()}),this.$BladeRunnerSocketStream$p_1.sendNewStreamRequest(this.$BladeRunnerSocketStream$p_2,this.getStreamHandler())},a.amendWithAck=async function(t){var e,n=this.$BladeRunnerSocketStream$p_2.getRequest(),o=n.getInstrumentationData();if(o){var a,i;o.auxId=r("uuidv4")(),(a=n.e2eLogger)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(i=t.length)==null?void 0:i.toString()},o.auxId)}if(this.canAmend()){if(o){var l,u;(l=n.e2eLogger)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(u=t.length)==null?void 0:u.toString()},o.auxId)}return this.$BladeRunnerSocketStream$p_1.sendAmendmentWithAck(n.streamId,this.$BladeRunnerSocketStream$p_3(t),o==null?null:JSON.stringify(o))}return(e=n.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,s,o==null?void 0:o.auxId),Promise.reject("Stream is closed or not accepted")},a.amendFireAndForget=function(t){var e=this.$BladeRunnerSocketStream$p_2.getRequest(),n=e.getInstrumentationData();if(n){var o,a;n.auxId=r("uuidv4")(),(o=e.e2eLogger)==null||o.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:t==null||(a=t.length)==null?void 0:a.toString()},n.auxId)}if(this.canAmend()){if(this.$BladeRunnerSocketStream$p_1.sendAmendment(this.$BladeRunnerSocketStream$p_2.getRequest().streamId,this.$BladeRunnerSocketStream$p_3(t),n==null?null:JSON.stringify(n)),n){var i,l;(i=e.e2eLogger)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:t==null||(l=t.length)==null?void 0:l.toString()},n.auxId)}}else{var u;throw(u=e.e2eLogger)==null||u.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,s,n==null?void 0:n.auxId),new Error("Stream is closed or not accepted")}},a.amendWithoutAck=function(t){this.amendFireAndForget(t)},a.$BladeRunnerSocketStream$p_3=function(t){return typeof t=="object"?btoa(new TextDecoder("utf8").decode(t)):t},a.cancel=function(){var e,t=this.$BladeRunnerSocketStream$p_2.getRequest();(e=t.e2eLogger)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.isAlive()&&(this.$BladeRunnerSocketStream$p_1.sendCancel(this.$BladeRunnerSocketStream$p_2.getRequest()),this.$BladeRunnerSocketStream$p_2.setLastStatus(o("BladeRunnerStreamStatus").StreamStatus.CLOSED),this.getStreamHandler().onClientCancel())},a.isAlive=function(){return this.$BladeRunnerSocketStream$p_2.isAlive()},a.canAmend=function(){return this.$BladeRunnerSocketStream$p_2.canAmend()},a.getStatus=function(){return this.$BladeRunnerSocketStream$p_2.getLastStatus()},a.getStreamId=function(){return this.$BladeRunnerSocketStream$p_2.getRequest().streamId},n})(r("BladeRunnerStream"));l.default=u}),98);
__d("RequestStreamE2ESampling",["invariant","Random","RequestStreamE2EClientSamplingConfig","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e==null?!1:e.requestId!=null&&typeof e.requestId=="string"&&e.forceLogContext!=null&&typeof e.forceLogContext=="string"}function u(e,t){var n=r("RequestStreamE2EClientSamplingConfig").sampleRate;if(n>1&&e!=null){var o=r("RequestStreamE2EClientSamplingConfig").methodToSamplingMultiplier[e];o==0?n=0:o!=null&&(n/=o)}return n==1?1:n/t}function c(e,t,n,o){var a=r("uuidv4")();(t.requestId==null||t.requestId===""||typeof t.requestId!="string")&&(e.requestId!=null&&typeof e.requestId=="string"?t.requestId=e.requestId:t.requestId=a),t.requestId+="/_"+a.substring(0,4),t.resumeId="0",n!=null?t.sampleRate=n:t.sampleRate=void 0;var i="";o!=null&&o.length>0&&(i=o),i.length>0&&(t.requestLogContext!=null&&t.requestLogContext.length>0?t.requestLogContext+=":":t.requestLogContext="",t.requestLogContext+=i),(e==null?void 0:e.method)==="Falco"&&(t.clientLoggingDisabled="Falco");var l={};for(var s of Object.keys(t).sort())l[s]=t[s];return JSON.stringify(l)}function d(t,n,o,a){n&&(!n.requestId.includes("/")&&!n.requestId.includes("#")||s(0,41721));var i=u(t.method,a!=null?a:1);return r("Random").coinflip(i)?c(t,n||{requestId:""},i,o):e(n)?c(t,n||{requestId:""},null,o):""}l.isForceLogged=e,l.getSampleRateForLogging=u,l.normalizeInstrumentationData=c,l.validateInstrumentationData=d}),98);
__d("BladeRunnerClient",["Base64","BladeRunnerConfig","BladeRunnerLogger","BladeRunnerSocket","BladeRunnerSocketStream","BladeRunnerTypes","BladeRunnerTypesInternal","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamTransport","cr:2046346"],(function(t,n,r,o,a,i,l){var e=(function(){function e(e,t){this.$2=o("RequestStreamTransport").RequestStreamTransport.WEB_BR_MQTT,this.$1=e!=null?e:r("BladeRunnerSocket").get(),t&&(this.$2=t)}var t=e.prototype;return t.createStream=function(t,n,r,o){return this.$3(t,n,r,o)},t.requestStream=function(t,r,o,a){var e=this.$3(t,r,o,a);return e.send(),n("cr:2046346")!=null&&n("cr:2046346").startPulsarTest(),e},t.logInfo=function(t){r("BladeRunnerLogger").info(t)},t.bumpCounter=function(t){r("BladeRunnerLogger").bumpCounter(t)},t.$3=function(t,n,a,i){var e=new(o("BladeRunnerTypesInternal")).GatewayStreamRequest;return e.streamId=this.$1.getNextStreamId(),e.requestType=o("BladeRunnerTypes").StreamRequestType.BLADE_RUNNER,e.headers=r("BladeRunnerConfig").patchRequestHeaders(t),e.extraHeader=JSON.stringify(e.headers),e.payload=n!=null?r("Base64").encode(n):null,i!=null&&(i.transport="WEB_RS_MQTT"),e.instrumentationData=o("RequestStreamE2ESampling").validateInstrumentationData(e.headers||{},i),e.e2eLogger=o("RequestStreamE2ELogger").createStreamLogger(e.headers,e.instrumentationData,this.$2),new(r("BladeRunnerSocketStream"))(a,e,this.$1)},e})();l.default=e}),98);
__d("ContextualConfigConstants",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=", ",s={SAME:"same",NULL:"null",NNULL:"nnull",CATCH_ALL:"catch_all",EQ:"eq",NEQ:"neq",LT:"lt",LTE:"lte",GT:"gt",GTE:"gte",COR:"cor",CONTAINS:"contains",REGEX:"regex",IN:"in",NIN:"nin"},u={DENSE:"dense",MULTI_OUTPUT_RESOLVED:"multi-output-resolved",TABLE:"table"},c=[],d=[],m=[],p={BAD_BOOLEAN_FORMAT:"Bad boolean format",BAD_CONFIG:"Bad config",BAD_CONTEXT_IDENTIFIER:"Bad context identifier",BAD_CONTEXT_VALUE:"Bad context value",BAD_MONITORED_CONTEXTS:"Bad monitored contexts",BAD_NUMBER_FORMAT:"Bad number format",BAD_OUTPUT_NAME:"Bad output name",BAD_OUTPUT_TYPE:"Bad output type",BAD_VALUE_ORDER:"Bad values order",DUPLICATE_OUTPUT_NAME:"Duplicate output name",ILLEGAL_BOOLEAN_STRATEGY:"Illegal boolean strategy",ILLEGAL_BUCKET_VALUES:"Illegal bucket values",ILLEGAL_NUMERIC_STRATEGY:"Illegal numeric strategy",ILLEGAL_STRING_STRATEGY:"Illegal string strategy",INVALID_BOOLEAN:"Invalid boolean",INVALID_FLOAT:"Invalid float",INVALID_INTEGER:"Invalid integer",INVALID_STRING:"Invalid string",INVALID_VALUE_TYPE:"Invalid value type",MISMATCH_NUMBER_OF_VALUES:"Mismatching number of values",MISSING_BUCKETS:"Missing buckets",MISSING_BUCKET_MATCH:"Missing bucket match",MISSING_BUCKET_NAME:"Missing bucket name",MISSING_BUCKET_STRATEGY:"Missing bucket strategy",MISSING_CONTEXT_IN_CONFIG:"Missing context in config",MISSING_DEFAULT_VALUE:"Missing default value",MISSING_OUTPUTS_DEFINITION:"Missing outputs field definition",MISSING_RESULTS:"Missing results",MISSING_TABLE:"Missing table",MISSING_TABLE_ITEM_BUCKET:"Missing table item bucket",MISSING_TABLE_ITEM_VALUES:"Missing table item values",MISSING_VECTOR:"Missing vector",REGEX_SYNTAX_ERROR:"Regex syntax error",REQUESTED_PARAM_NOT_FOUND:"Requested param not found",RESULTS_VECTOR_SIZE_MISMATCH:"Results vector size mismatch",UNDECLARED_OUTPUT_PARAM:"Undeclared output param",UNKNOWN_BUCKET_DEFINITION:"Unknown bucket definition",UNKNOWN_CONFIG_TYPE:"Unknown config type",UNSUPPORTED_CONFIG_VERSION:"Unsupported config version"},_=10,f=", ",g={BOOL:"BOOL",FLOAT:"FLOAT",INT:"INT",STRING:"STRING"};i.ANALYTICS_SAMPLE_RATE=e,i.BUCKET_DELIMITER=l,i.CONTEXT_BUCKET_STRATEGY=s,i.CONFIG_TYPE=u,i.EMPTY_RESOLVED_CONTEXTS=c,i.EMPTY_RESOLVED_MONITORS=d,i.EMPTY_RESULT_PARAMS=m,i.ERROR=p,i.JSON_SUB_SAMPLE_RATE=_,i.LIST_DELIMITER=f,i.TYPE=g}),66);
__d("ContextualConfigResolvedContextsUtils",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e=[];for(var n of t){var r=n.bucketIndex;if(r==null)break;e.push(r)}return e},l=function(t){var e=[];for(var n of t){var r=n.bucketName;if(r===void 0)break;e.push(r)}return e},s=function(t){return t.name},u=function(t){return t.map(s)},c=function(t){var e=[];for(var n of t){var r=n.value;if(r===void 0)break;e.push(r)}return e};i.getBucketIndices=e,i.getBucketNames=l,i.getContextNames=u,i.getContextValues=c}),66);
__d("ContextualConfigCollateExposureData",["ContextualConfigConstants","ContextualConfigResolvedContextsUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=["cfg_ver_timestamp","policy_id","version","sample_rate"],s=function(t){return t.join(o("ContextualConfigConstants").LIST_DELIMITER)},u=function(n,r){for(var t of e)r[t]!=null&&(n[t]=r[t]);r.name&&(n.config_name=r.name)},c=function(t,n){var e=n[0],r=n[1],a=n[2],i=n[3];e!=null&&(t.exception=e.message),t.result=s(r.map(function(e){return e.value}))||"INVALID",t.context=s(o("ContextualConfigResolvedContextsUtils").getContextNames(a)),t.context_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(a)),t.bucket_name=s(o("ContextualConfigResolvedContextsUtils").getBucketNames(a)),t.monitor=s(o("ContextualConfigResolvedContextsUtils").getContextNames(i)),t.monitor_value=s(o("ContextualConfigResolvedContextsUtils").getContextValues(i))};function d(e,t,n){var r={sample_rate:o("ContextualConfigConstants").ANALYTICS_SAMPLE_RATE};return u(r,e),c(r,t),n&&(r.config_contents=JSON.stringify(e)),r}l.default=d}),98);
__d("ContextualConfigExposureEvent",["Random"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t,n){this.$2=e,this.$4=o("Random").random()<1/e.sample_rate,this.$3=t,this.$1=n}var t=e.prototype;return t.getData=function(){return this.$2},t.log=function(t){var e=this.$2,n=this.$3,r=this.$4;return t&&n(e),r&&this.$1(e),this},t.isSampled=function(){return this.$4},e})();l.default=e}),98);
__d("ContextualConfigExposureLoggerFactory",["ContextualConfigExposureEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e,t){this.$2=e,this.$1=t}var t=e.prototype;return t.createEvent=function(t){var e=new(r("ContextualConfigExposureEvent"))(t,this.$2,this.$1);return e},e})();function s(t,n){return new e(t,n)}l.default=s}),98);
__d("ContextualConfigExposureLogger",["ContextualConfigExposureLoggerFactory","MarauderLogger"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){},s=function(t){o("MarauderLogger").log("contextual_config_exposure","",t)},u=r("ContextualConfigExposureLoggerFactory")(e,s);l.default=u}),98);
__d("ContextualConfigAssert",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e===!1)throw new Error(t)}i.default=e}),66);
__d("ContextualConfigValidators",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){return Array.isArray(t)},s=function(t){return typeof t=="boolean"},u=function(t){return t!=null},c=function(t){return(function(e){return Object.prototype.hasOwnProperty.call(t,e)})},d=function(t){return p(t)&&t%1===0},m=function(t){return _(t)&&t.length>0},p=function(t){return typeof t=="number"&&!isNaN(t)&&t!==1/0&&t!==-1/0},_=function(t){return typeof t=="string"},f=function(t){switch(t){case o("ContextualConfigConstants").TYPE.BOOL:case o("ContextualConfigConstants").TYPE.FLOAT:case o("ContextualConfigConstants").TYPE.INT:case o("ContextualConfigConstants").TYPE.STRING:return!0;default:return!1}};l.isArray=e,l.isBoolean=s,l.isDefined=u,l.isKey=c,l.isInteger=d,l.isNonEmptyString=m,l.isNumber=p,l.isString=_,l.isType=f}),98);
__d("ContextualConfigParseBoolean",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e.toUpperCase()){case"TRUE":return!0;case"FALSE":return!1;default:throw new Error(o("ContextualConfigConstants").ERROR.BAD_BOOLEAN_FORMAT)}}l.default=e}),98);
__d("ContextualConfigParsePredBoolean",["ContextualConfigConstants","ContextualConfigParseBoolean"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var a=r("ContextualConfigParseBoolean")(e);n=function(t){return t===a};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:n=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:n=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:n=function(t){return!0};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_BOOLEAN_STRATEGY)}return function(e){return n(e)}}l.default=e}),98);
__d("ContextualConfigParseFloat",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)(\.\d+)?$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseFloat(t);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigParseInteger",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=/^[-\+]?([1-9]\d*|0)$/,u=function(t){return s.test(t)};function c(t){(e||(e=r("ContextualConfigAssert")))(u(t),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT);var n=parseInt(t,10);return e(o("ContextualConfigValidators").isNumber(n),o("ContextualConfigConstants").ERROR.BAD_NUMBER_FORMAT),n}l.default=c}),98);
__d("ContextualConfigPredAssertions",["ContextualConfigAssert","ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(n>0,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},u=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.MISMATCH_NUMBER_OF_VALUES)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n<a,o("ContextualConfigConstants").ERROR.BAD_VALUE_ORDER)};l.assertHasValues=s,l.assertNumberOfValues=u,l.assertValueOrder=c}),98);
__d("ContextualConfigParsePredNumeric",["ContextualConfigConstants","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigPredAssertions","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,i){var l=a.map(i?r("ContextualConfigParseInteger"):e||(e=r("ContextualConfigParseFloat"))),s;switch(n){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:var u=i?r("ContextualConfigParseInteger")(t):(e||(e=r("ContextualConfigParseFloat")))(t);s=function(t){return i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===u};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:s=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:s=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:s=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.COR:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,2),o("ContextualConfigPredAssertions").assertValueOrder(l[0],l[1]),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]&&t<l[1]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.LTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t<=l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.EQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t===l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NEQ:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t!==l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GT:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>l[0]};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.GTE:o("ContextualConfigPredAssertions").assertNumberOfValues(l.length,1),s=function(t){return typeof t!="number"||i&&!o("ContextualConfigValidators").isInteger(t)?!1:t>=l[0]};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_NUMERIC_STRATEGY)}return function(e){return s(e)}}l.default=s}),98);
__d("ContextualConfigParseRegExp",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=/^\/(.+)\/(.*)$/;function s(t){try{var n=t.match(e);return n!=null?new RegExp(n[1],n[2]):new RegExp(t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.REGEX_SYNTAX_ERROR)}}l.default=s}),98);
__d("ContextualConfigParsePredString",["ContextualConfigConstants","ContextualConfigParseRegExp","ContextualConfigPredAssertions"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){if(typeof t!="string")throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE);return t},s=function(n){var t=[];for(var r of n)t.push(e(r));return t};function u(e,t,n){var a=s(n),i;switch(t){case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.SAME:i=function(n){return typeof n!="string"?!1:n===e};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NULL:i=function(t){return t==null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NNULL:i=function(t){return t!=null};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CATCH_ALL:i=function(t){return!0};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.IN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.NIN:o("ContextualConfigPredAssertions").assertHasValues(a.length),i=function(t){return typeof t!="string"?!1:a.indexOf(t)===-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.CONTAINS:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1),i=function(t){return typeof t!="string"?!1:t.indexOf(a[0])!==-1};break;case o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY.REGEX:o("ContextualConfigPredAssertions").assertNumberOfValues(a.length,1);var l=r("ContextualConfigParseRegExp")(a[0]);i=function(t){return typeof t!="string"?!1:l.test(t)};break;default:throw new Error(o("ContextualConfigConstants").ERROR.ILLEGAL_STRING_STRATEGY)}return function(e){return i(e)}}l.default=u}),98);
__d("ContextualConfigParseContextBuckets",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParsePredBoolean","ContextualConfigParsePredNumeric","ContextualConfigParsePredString","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKETS)},c=o("ContextualConfigValidators").isKey(o("ContextualConfigConstants").CONTEXT_BUCKET_STRATEGY),d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n)&&c(n.toUpperCase()),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_STRATEGY)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.ILLEGAL_BUCKET_VALUES)},p=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_BUCKET_NAME)},_=function(t,n){var e=n.name;p(e);var a=n.strategy;d(a);var i=n.values||[];switch(m(i),t){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParsePredBoolean")(e,a);case o("ContextualConfigConstants").TYPE.FLOAT:return r("ContextualConfigParsePredNumeric")(e,a,i,!1);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParsePredNumeric")(e,a,i,!0);case o("ContextualConfigConstants").TYPE.STRING:return r("ContextualConfigParsePredString")(e,a,i);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_BUCKET_DEFINITION)}},f=function(t,n){s(n);var e=n.name;return p(e),{name:e,pred:_(t,n)}};function g(e,t){return u(t),t.map(function(t){return f(e,t)})}l.default=g}),98);
__d("ContextualConfigParseContexts",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContextBuckets","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n)&&n.length>0,o("ContextualConfigConstants").ERROR.MISSING_CONTEXT_IN_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.buckets,n=t.name,o=t.type;return c(n),d(o),{name:n,type:o,buckets:r("ContextualConfigParseContextBuckets")(o,e)}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigIsEqualParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n+=1){var r=e[n],o=t[n];if(r.name!==o.name||r.type!==o.type)return!1}return!0}i.default=e}),66);
__d("ContextualConfigParseResultParamValue",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseBoolean","ContextualConfigParseFloat","ContextualConfigParseInteger","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isString(n),o("ContextualConfigConstants").ERROR.INVALID_STRING)};function c(e,t){switch(u(t),e){case o("ContextualConfigConstants").TYPE.BOOL:return r("ContextualConfigParseBoolean")(t);case o("ContextualConfigConstants").TYPE.FLOAT:return(s||(s=r("ContextualConfigParseFloat")))(t);case o("ContextualConfigConstants").TYPE.INT:return r("ContextualConfigParseInteger")(t);case o("ContextualConfigConstants").TYPE.STRING:return t;default:throw new Error(o("ContextualConfigConstants").ERROR.INVALID_VALUE_TYPE)}}l.default=c}),98);
__d("ContextualConfigParseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_RESULTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},m=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_VALUE)},p=function(t,n){for(var e of t)if(e.name===n)return e.type;throw new Error(o("ContextualConfigConstants").ERROR.UNDECLARED_OUTPUT_PARAM)},_=function(t){return(function(e){c(e);var n=e.name;d(n);var o=p(t,n);m(o);var a=(s||(s=r("ContextualConfigParseResultParamValue")))(o,e.value);return{name:n,type:o,value:a}})};function f(e,t){return u(t),t.map(_(e))}l.default=f}),98);
__d("ContextualConfigParseDenseResultParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t.map(function(t,n){return{name:e[n].name,value:t}}));return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseDenseDefaults",["ContextualConfigConstants","ContextualConfigParseDenseResultParams"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){try{return r("ContextualConfigParseDenseResultParams")(e,t)}catch(e){throw new Error(o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)}}l.default=e}),98);
__d("ContextualConfigParseMonitors",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.BAD_MONITORED_CONTEXTS)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_CONTEXT_IDENTIFIER)},m=function(t){s(t);var e=t.name,n=t.type;return c(e),d(n),{name:e,type:n}};function p(e){return u(e),e.map(m)}l.default=p}),98);
__d("ContextualConfigParseOutputParams",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_OUTPUTS_DEFINITION)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isType(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_TYPE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.BAD_OUTPUT_NAME)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(m(n),o("ContextualConfigConstants").ERROR.DUPLICATE_OUTPUT_NAME)},m=function(t){var e={};for(var n of t){if(e[n.name])return!1;e[n.name]=!0}return!0},p=function(t){return c(t.name),u(t.type),t};function _(e){s(e);var t=e.map(p);return d(t),t}l.default=_}),98);
__d("ContextualConfigParseVector",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParamValue","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_VECTOR)},c=function(n,a){return(e||(e=r("ContextualConfigAssert")))(n===a,o("ContextualConfigConstants").ERROR.RESULTS_VECTOR_SIZE_MISMATCH)},d=function(t,n){c(t.length,n.length);for(var e=0;e<t.length;e+=1){var o=t[e].type,a=n[e];(s||(s=r("ContextualConfigParseResultParamValue")))(o,a)}},m=function(t){return t.reduce(function(e,t){var n=t.buckets;return e*n.length},1)};function p(e,t,n){u(n);var r=m(t),o=e.length;c(r*o,n.length);for(var a=0;a<r;a+=1){var i=a*o;d(e,n.slice(i,i+o))}return n}l.default=p}),98);
__d("ContextualConfigResolveContexts",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){for(var e=0;e<t.length;e+=1){var r=t[e];try{if(r.pred(n))return[r.name,e]}catch(e){return null}}return null};function s(t,n,r){var a=null,i=t.map(function(t){var i=t.name,l={name:i};if(a!=null)return l;var s;if(r[i]!=null?s=r[i]:n[i]!=null?s=n[i]():s=null,l.value=s,t.buckets!=null){var u=e(t.buckets,s);if(u==null)return a=new Error(o("ContextualConfigConstants").ERROR.MISSING_BUCKET_MATCH),l;var c=u[0],d=u[1];l.bucketName=c,l.bucketIndex=d}return l});return[a,i]}l.default=s}),98);
__d("DenseContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseContexts","ContextualConfigParseDenseDefaults","ContextualConfigParseDenseResultParams","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseVector","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=function(t){for(var e=[],n=1,r=t.length-1;r>=0;r-=1)e.push(n),n*=t[r].buckets.length;return e.reverse()},c=function(t,n,o,a){try{var e=n.slice(o,o+t.length);return[null,r("ContextualConfigParseDenseResultParams")(t,e)]}catch(e){return[r("getErrorSafe")(e),a]}},d=function(n,o,a){try{var t=a.reduce(function(t,o,a){return(e||(e=r("ContextualConfigAssert")))(a<n.length,"Auxillery index out of range."),t+n[a]*o},0);return[null,t*o]}catch(e){return[r("getErrorSafe")(e),-1]}},m=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs),o=r("ContextualConfigParseContexts")(e.contexts);this.aux=u(o),this.contexts=o,this.defaults=r("ContextualConfigParseDenseDefaults")(n,e.vectorDefaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.outputs=n,this.vector=r("ContextualConfigParseVector")(n,o,e.vector)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.aux,n=this.contexts,a=this.defaults,i=this.globalContextProviders,l=this.monitors,s=this.outputs,u=this.vector,m=r("ContextualConfigResolveContexts")(n,i,t),p=m[0],_=m[1];if(p!=null)return[p,a,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var f=d(e,s.length,o("ContextualConfigResolvedContextsUtils").getBucketIndices(_)),g=f[0],h=f[1];if(g!=null)return[g,a,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var y=c(s,u,h,a),C=y[0],b=y[1];if(C!=null)return[C,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS];var v=r("ContextualConfigResolveContexts")(l,i,t),S=v[0],R=v[1];return S!=null?[S,b,_,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,b,_,R]},e})();l.default=m}),98);
__d("MultiOutputResolvedContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseResultParams","ContextualConfigResolveContexts","ContextualConfigValidators","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},u=(function(){function e(e,t){s(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.values=r("ContextualConfigParseResultParams")(n,e.values)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[r("getErrorSafe")(e),this.values,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.globalContextProviders,n=this.monitors,a=this.values,i=r("ContextualConfigResolveContexts")(n,e,t),l=i[0],s=i[1];return l!=null?[l,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]:[null,a,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,s]},e})();l.default=u}),98);
__d("ContextualConfigMergePartialResultParams",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){var n={};for(var r of t)n[r.name]=r;var o=[];for(var a of e){var i=n[a.name];o.push(i!=null&&i.name===a.name&&i.type===a.type?i:a)}return o}i.default=e}),66);
__d("ContextualConfigParseDefaults",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigIsEqualParams","ContextualConfigParseResultParams"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n,a){return(e||(e=r("ContextualConfigAssert")))(r("ContextualConfigIsEqualParams")(n,a),o("ContextualConfigConstants").ERROR.MISSING_DEFAULT_VALUE)};function u(e,t){var n=r("ContextualConfigParseResultParams")(e,t);return s(e,n),n}l.default=u}),98);
__d("ContextualConfigParseTable",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigParseResultParams","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isNonEmptyString(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_BUCKET)},d=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isArray(n),o("ContextualConfigConstants").ERROR.MISSING_TABLE_ITEM_VALUES)},m=function(t,n){u(n);var e=n.bucket,o=n.values;return c(e),d(o),{bucket:e,values:r("ContextualConfigParseResultParams")(t,o)}};function p(e,t){return s(t),t.reduce(function(t,n){var r=m(e,n);return t[r.bucket]=r.values,t},{})}l.default=p}),98);
__d("TableContextualConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigMergePartialResultParams","ContextualConfigParseContexts","ContextualConfigParseDefaults","ContextualConfigParseMonitors","ContextualConfigParseOutputParams","ContextualConfigParseTable","ContextualConfigResolveContexts","ContextualConfigResolvedContextsUtils","ContextualConfigValidators"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=(function(){function e(e,t){u(e),this.globalContextProviders=babelHelpers.extends({},t);var n=r("ContextualConfigParseOutputParams")(e.outputs);this.contexts=r("ContextualConfigParseContexts")(e.contexts),this.defaults=r("ContextualConfigParseDefaults")(n,e.defaults),this.monitors=e.monitors!=null?r("ContextualConfigParseMonitors")(e.monitors):[],this.table=r("ContextualConfigParseTable")(n,e.table)}var t=e.prototype;return t.resolve=function(t){try{return this.unsafeResolve(t)}catch(e){return[e,this.defaults,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]}},t.unsafeResolve=function(t){var e=this.contexts,n=this.defaults,a=this.globalContextProviders,i=this.monitors,l=this.table,u=r("ContextualConfigResolveContexts")(e,a,t),c=u[0],d=u[1];if(c!=null)return[c,n,d,[]];var m=o("ContextualConfigResolvedContextsUtils").getBucketNames(d).join(o("ContextualConfigConstants").BUCKET_DELIMITER),p=l[m]||s,_=r("ContextualConfigMergePartialResultParams")(n,p),f=r("ContextualConfigResolveContexts")(i,a,t),g=f[0],h=f[1];return g!=null?[g,_,d,[]]:[null,_,d,h]},e})();l.default=c}),98);
__d("ContextualConfigParseConfig",["ContextualConfigAssert","ContextualConfigConstants","ContextualConfigValidators","DenseContextualConfig","MultiOutputResolvedContextualConfig","TableContextualConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[1],u=function(n){return(e||(e=r("ContextualConfigAssert")))(o("ContextualConfigValidators").isDefined(n)&&o("ContextualConfigValidators").isDefined(n.version),o("ContextualConfigConstants").ERROR.BAD_CONFIG)},c=function(n){return(e||(e=r("ContextualConfigAssert")))(s.indexOf(n)!==-1,o("ContextualConfigConstants").ERROR.UNSUPPORTED_CONFIG_VERSION)};function d(e,t){switch(u(e),c(e.version),e.cctype){case o("ContextualConfigConstants").CONFIG_TYPE.DENSE:return new(r("DenseContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.MULTI_OUTPUT_RESOLVED:return new(r("MultiOutputResolvedContextualConfig"))(e,t);case o("ContextualConfigConstants").CONFIG_TYPE.TABLE:return new(r("TableContextualConfig"))(e,t);default:throw new Error(o("ContextualConfigConstants").ERROR.UNKNOWN_CONFIG_TYPE)}}l.default=d}),98);
__d("ContextualConfigWarn",[],(function(t,n,r,o,a,i){"use strict";function e(e){}i.default=e}),66);
__d("ContextualConfigResult",["ContextualConfigConstants","ContextualConfigWarn","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$1=e.reduce(function(e,t){var n=t.name,r=t.value;return e[n]=r,e},{}),this.$2=e}var t=e.prototype;return t.get=function(t,n){try{var e=this.$1[t];return typeof e!=typeof n?(r("ContextualConfigWarn")(o("ContextualConfigConstants").ERROR.REQUESTED_PARAM_NOT_FOUND),n):e}catch(e){return r("ContextualConfigWarn")(r("getErrorSafe")(e).message),n}},t.getParams=function(){return this.$2},e})();l.default=e}),98);
__d("ErrorContextualConfig",["ContextualConfigConstants"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.error=e}var t=e.prototype;return t.resolve=function(t){return[this.error,o("ContextualConfigConstants").EMPTY_RESULT_PARAMS,o("ContextualConfigConstants").EMPTY_RESOLVED_CONTEXTS,o("ContextualConfigConstants").EMPTY_RESOLVED_MONITORS]},e})();l.default=e}),98);
__d("ContextualConfig",["ContextualConfigCollateExposureData","ContextualConfigConstants","ContextualConfigExposureLogger","ContextualConfigParseConfig","ContextualConfigResult","ErrorContextualConfig","Random","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=1/o("ContextualConfigConstants").JSON_SUB_SAMPLE_RATE,s=1,u=(function(){function t(e,t){t===void 0&&(t={}),this.isDebugLoggingEnabled=!1,this.$3=!1,this.$4=e,this.$2=t}var n=t.prototype;return n.$5=function(){if(this.$1)return this.$1;var e=this.$2,t=this.$4,n;try{n=r("ContextualConfigParseConfig")(t,e)}catch(e){n=new(r("ErrorContextualConfig"))(r("getErrorSafe")(e))}return this.$1=n,n},n.$6=function(n){var t=this.isDebugLoggingEnabled,a=this.$3,i=!a&&o("Random").random()<e;i&&(this.$3=!0);var l=r("ContextualConfigCollateExposureData")(this.$4,n,i),s=r("ContextualConfigExposureLogger").createEvent(l);s.log(t)},n.resolve=function(t){t===void 0&&(t={});var e=this.$1||this.$5(),n=e.resolve(t);return this.$6(n),new(r("ContextualConfigResult"))(n[s])},t})();l.default=u}),98);
__d("DGWRequestStreamUtils",["Base64"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a){var i={};for(var l of Object.entries(e)){var s=l[0],u=l[1];typeof u=="string"?i["XRSS-"+s]=u:typeof u=="number"?i["XRSN-"+s]=u.toString():typeof u=="boolean"?i["XRSB-"+s]=u.toString():typeof u=="object"&&u!=null&&(i["XRSO-"+s]=r("Base64").encode(JSON.stringify(u)))}return t&&(i["xrs-body"]="true"),n!=null&&n.length>0&&(i["xrs-instrumentation"]=r("Base64").encode(n)),i["XRS-Accept-Ack"]="RSAck",o!=null&&o.ackTimeoutSec!=null&&(i["XRS-SRAck-Timeout"]=o.ackTimeoutSec.toString()),i["XRSS-http_referer"]=window.location.href,a!=null&&(i["XRSB-is_test"]="true",i["XRSS-original_request_id"]=a),i}function s(e){return Object.keys(e).reduce(function(t,n){return(typeof e[n]=="string"||typeof e[n]=="boolean"||typeof e[n]=="number"||typeof e[n]=="object")&&(t[n]=e[n]),t},{})}function u(e){if(e.response&&e.response.instrumentation_data!=null&&e.response.instrumentation_data.length>0)try{var t,n=JSON.parse(new TextDecoder("utf-8").decode(e.response.instrumentation_data));return{auxId:n.auxId,dfTraceId:(t=n.dataFlowTracingData)==null?void 0:t.traceId}}catch(e){}return null}function c(e,t){var n=e.headers,r=e.body;if(t.kill_body===!0&&(r=null),t.new_body!=null&&(r=t.new_body),t.new_headers!=null)try{n=s(JSON.parse(t.new_headers))}catch(e){}if(t.patch_headers!=null)try{n=babelHelpers.extends({},n,s(JSON.parse(t.patch_headers)))}catch(e){}return{headers:n,body:r}}l.convertHeaders=e,l.cleanHeaders=s,l.getInstrumentationDataFieldsFromPayload=u,l.transformContextWithRewriteDelta=c}),98);
__d("DGWStreamHandler",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t,n,r,o){this.$2=e,this.$3=t,this.$4=n,this.$5=r,this.$6=o,this.$1=!0}var t=e.prototype;return t.onClose=function(t){this.$1&&this.$2(t)},t.onDataReceived=function(t){this.$1&&this.$3(t)},t.onError=function(t){this.$1&&this.$4(t)},t.onStreamMustDrain=function(t,n){this.$1&&this.$5(t,n)},t.onServerHasFinishedSendingData=function(t){this.$1&&this.$6(t)},t.stop=function(){this.$1=!1},t.isStopped=function(){return!this.$1},e})();i.default=e}),66);
__d("InflightAmends",["Deferred","err"],(function(t,n,r,o,a,i,l){"use strict";var e="inflight_amends_timeout",s="inflight_amends_duplicate_id",u=(function(){function t(e,t,n){this.$1=e,this.$3=t,this.$4=n,this.$2=new Map}var n=t.prototype;return n.add=function(n){var t=this;if(this.$2.has(n))throw r("err")(s);var o=new(r("Deferred")),a=Date.now(),i=setTimeout(function(){t.$2.has(n)&&t.reject(n,r("err")(e))},this.$1);return this.$2.set(n,{id:n,deferred:o,createdTimestampMs:a,timeoutId:i}),o.getPromise()},n.getPromise=function(t){var e;return(e=this.$5(t))==null?void 0:e.deferred.getPromise()},n.resolve=function(t,n){var e=this.$5(t);e&&(e.deferred.resolve==null||e.deferred.resolve(n),this.$3(e.id,Date.now()-e.createdTimestampMs),this.$6(e))},n.reject=function(t,n){var e=this.$5(t);e&&(e.deferred.reject==null||e.deferred.reject(n),this.$4(e.id,n),this.$6(e))},n.rejectAll=function(t){for(var e of this.$2.entries()){var n=e[0],r=e[1];this.reject(n,t)}},n.getSize=function(){return this.$2.size},n.getAllPromises=function(){var e=[];for(var t of this.$2.values())e.push(t.deferred.getPromise());return e},n.$6=function(t){clearTimeout(t.timeoutId),this.$2.delete(t.id)},n.$5=function(t){return this.$2.get(t)},t})();l.default=u}),98);
__d("RequestStreamCloseReason",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["UserIntention","StartStreamFailure","StreamError","RemoteTermination","ServerDataEnd","ServerDrain","ReestablishError","ClientError"]);i.RequestStreamCloseReason=e}),66);
__d("RequestStreamCommonRequestStreamCommonSerializers",["RequestStreamCommonRequestStreamCommonTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{expected_existing_headers:"",patch_headers_if_match:""}}function c(){return{bytes:Uint8Array.of()}}function d(){return{message:""}}function m(){return{reason:o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)}}function p(){return{}}function _(){return{stream_id:"0",last_sequencer:0,amendment_count:0,last_status:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)}}function f(){return{caller_timestamp_ms:"0"}}function g(){return{original_ping_timestamp_ms:"0"}}function h(){return{}}function y(t,n){n.writeStructBegin("ResponseRewriteRequest"),t.new_headers!=null&&(n.writeFieldBegin({fname:"new_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeString(t.new_headers),n.writeFieldEnd()),t.new_body!=null&&(n.writeFieldBegin({fname:"new_body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.new_body),n.writeFieldEnd()),t.patch_headers!=null&&(n.writeFieldBegin({fname:"patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers),n.writeFieldEnd()),t.kill_body!=null&&(n.writeFieldBegin({fname:"kill_body",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:4}),n.writeBool(t.kill_body),n.writeFieldEnd()),t.temporary!=null&&(n.writeFieldBegin({fname:"temporary",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:5}),n.writeBool(t.temporary),n.writeFieldEnd()),t.conditional_patch_headers!=null&&(n.writeFieldBegin({fname:"conditional_patch_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),C(t.conditional_patch_headers,n),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("ResponseRewriteConditionalPatchHeaders"),n.writeFieldBegin({fname:"expected_existing_headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.expected_existing_headers!=null)n.writeString(t.expected_existing_headers);else{var o="";n.writeString(o)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"patch_headers_if_match",ftype:e.STRING,fid:2}),t.patch_headers_if_match!=null)n.writeString(t.patch_headers_if_match);else{var a="";n.writeString(a)}n.writeFieldEnd(),t.patch_headers_otherwise!=null&&(n.writeFieldBegin({fname:"patch_headers_otherwise",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeString(t.patch_headers_otherwise),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function b(t,n){if(n.writeStructBegin("ResponseData"),n.writeFieldBegin({fname:"bytes",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.bytes!=null)n.writeBinary(t.bytes);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.metadata!=null&&(n.writeFieldBegin({fname:"metadata",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.metadata),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function v(t,n){if(n.writeStructBegin("LogMessage"),n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.message!=null)n.writeString(t.message);else{var o="";n.writeString(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function S(t,n){if(n.writeStructBegin("Termination"),n.writeFieldBegin({fname:"reason",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),t.reason!=null){var a;n.writeI32((a=t.reason)!=null?a:0)}else{var i=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.message!=null&&(n.writeFieldBegin({fname:"message",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeString(t.message),n.writeFieldEnd()),t.retry_delay_ms!=null&&(n.writeFieldBegin({fname:"retry_delay_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(r("jsbi").BigInt(t.retry_delay_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function R(t,n){n.writeStructBegin("AmendStreamAck"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),t.accepted!=null&&(n.writeFieldBegin({fname:"accepted",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:2}),n.writeBool(t.accepted),n.writeFieldEnd()),t.result!=null&&(n.writeFieldBegin({fname:"result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function L(t,n){if(n.writeStructBegin("StreamCheck"),n.writeFieldBegin({fname:"stream_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.stream_id!=null)n.writeI64(r("jsbi").BigInt(t.stream_id));else{var a="0";n.writeI64(r("jsbi").BigInt(a))}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_sequencer",ftype:e.I32,fid:2}),t.last_sequencer!=null)n.writeI32(t.last_sequencer);else{var i=0;n.writeI32(i)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"amendment_count",ftype:e.I32,fid:4}),t.amendment_count!=null)n.writeI32(t.amendment_count);else{var l=0;n.writeI32(l)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"last_status",ftype:e.I32,fid:3}),t.last_status!=null){var s;n.writeI32((s=t.last_status)!=null?s:0)}else{var u=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0);n.writeI32(u!=null?u:0)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function E(t,n){if(n.writeStructBegin("Ping"),n.writeFieldBegin({fname:"caller_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.caller_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.caller_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.streams_to_check!=null){n.writeFieldBegin({fname:"streams_to_check",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.STRUCT,size:t.streams_to_check.length});for(var a of t.streams_to_check)L(a,n);n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function k(t,n){if(n.writeStructBegin("Pong"),n.writeFieldBegin({fname:"original_ping_timestamp_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),t.original_ping_timestamp_ms!=null)n.writeI64(r("jsbi").BigInt(t.original_ping_timestamp_ms));else{var o="0";n.writeI64(r("jsbi").BigInt(o))}if(n.writeFieldEnd(),t.stream_ids_missing!=null){n.writeFieldBegin({fname:"stream_ids_missing",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),n.writeListBegin({etype:e.I64,size:t.stream_ids_missing.length});for(var a of t.stream_ids_missing)n.writeI64(r("jsbi").BigInt(a));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_behind!=null){n.writeFieldBegin({fname:"stream_ids_behind",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:3}),n.writeListBegin({etype:e.I64,size:t.stream_ids_behind.length});for(var i of t.stream_ids_behind)n.writeI64(r("jsbi").BigInt(i));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_lost_amendments!=null){n.writeFieldBegin({fname:"stream_ids_with_lost_amendments",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:4}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_lost_amendments.length});for(var l of t.stream_ids_with_lost_amendments)n.writeI64(r("jsbi").BigInt(l));n.writeListEnd(),n.writeFieldEnd()}if(t.stream_ids_with_wrong_status!=null){n.writeFieldBegin({fname:"stream_ids_with_wrong_status",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:5}),n.writeListBegin({etype:e.I64,size:t.stream_ids_with_wrong_status.length});for(var s of t.stream_ids_with_wrong_status)n.writeI64(r("jsbi").BigInt(s));n.writeListEnd(),n.writeFieldEnd()}n.writeFieldStop(),n.writeStructEnd()}function I(t,n){if(n.writeStructBegin("StreamResponseDelta"),t.flow_status!=null){var o;n.writeFieldBegin({fname:"flow_status",ftype:(e||(e=r("ThriftTypes"))).I32,fid:1}),n.writeI32((o=t.flow_status)!=null?o:0),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.log!=null){n.writeFieldBegin({fname:"log",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),v(t.log,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.rewrite!=null){n.writeFieldBegin({fname:"rewrite",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),y(t.rewrite,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.data!=null){n.writeFieldBegin({fname:"data",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),b(t.data,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.termination!=null){n.writeFieldBegin({fname:"termination",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),S(t.termination,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend_ack!=null){n.writeFieldBegin({fname:"amend_ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),R(t.amend_ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function T(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.new_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.new_body=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers=t.readString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).BOOL?n.kill_body=t.readBool():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).BOOL?n.temporary=t.readBool():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).STRUCT?n.conditional_patch_headers=D(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function D(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.expected_existing_headers=t.readString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_if_match=t.readString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.patch_headers_otherwise=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.expected_existing_headers===void 0&&(n.expected_existing_headers=""),n.patch_headers_if_match===void 0&&(n.patch_headers_if_match=""),n}function x(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.bytes=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.metadata=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.bytes===void 0&&(n.bytes=Uint8Array.of()),n}function $(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.message===void 0&&(n.message=""),n}function P(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I32?n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(t.readI32()):t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).STRING?n.message=t.readString():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I64?n.retry_delay_ms=t.readI64().toString():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.reason===void 0&&(n.reason=o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.cast(0)),n}function N(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).BOOL?n.accepted=t.readBool():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).STRING?n.result=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function M(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.stream_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.last_sequencer=t.readI32():t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).I32?n.amendment_count=t.readI32():t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()):t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.stream_id===void 0&&(n.stream_id="0"),n.last_sequencer===void 0&&(n.last_sequencer=0),n.amendment_count===void 0&&(n.amendment_count=0),n.last_status===void 0&&(n.last_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(0)),n}function w(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.caller_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.streams_to_check=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=M(t);n.streams_to_check.push(u)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.caller_timestamp_ms===void 0&&(n.caller_timestamp_ms="0"),n}function A(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.original_ping_timestamp_ms=t.readI64().toString():t.skip(a);break;case 2:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_missing=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.stream_ids_missing.push(u)}}else t.skip(a);break;case 3:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_behind=[];for(var c=t.readListBegin(),d=0;d<c.size;d++){var m=t.readI64().toString();n.stream_ids_behind.push(m)}}else t.skip(a);break;case 4:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_lost_amendments=[];for(var p=t.readListBegin(),_=0;_<p.size;_++){var f=t.readI64().toString();n.stream_ids_with_lost_amendments.push(f)}}else t.skip(a);break;case 5:if(a===(e||(e=r("ThriftTypes"))).LIST){n.stream_ids_with_wrong_status=[];for(var g=t.readListBegin(),h=0;h<g.size;h++){var y=t.readI64().toString();n.stream_ids_with_wrong_status.push(y)}}else t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.original_ping_timestamp_ms===void 0&&(n.original_ping_timestamp_ms="0"),n}function F(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).I32)if(n==null)a.flow_status=o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.cast(t.readI32()),n="flow_status";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: flow_status, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.log=$(t),n="log";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: log, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.rewrite=T(t),n="rewrite";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: rewrite, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.data=x(t),n="data";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: data, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.termination=P(t),n="termination";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: termination, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend_ack=N(t),n="amend_ack";else throw new Error("more than one field have been deserialized in union type: StreamResponseDelta; current field: amend_ack, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.ResponseRewriteRequest$DefaultConstructor=s,l.ResponseRewriteConditionalPatchHeaders$DefaultConstructor=u,l.ResponseData$DefaultConstructor=c,l.LogMessage$DefaultConstructor=d,l.Termination$DefaultConstructor=m,l.AmendStreamAck$DefaultConstructor=p,l.StreamCheck$DefaultConstructor=_,l.Ping$DefaultConstructor=f,l.Pong$DefaultConstructor=g,l.StreamResponseDelta$DefaultConstructor=h,l.serializeResponseRewriteRequest=y,l.serializeResponseRewriteConditionalPatchHeaders=C,l.serializeResponseData=b,l.serializeLogMessage=v,l.serializeTermination=S,l.serializeAmendStreamAck=R,l.serializeStreamCheck=L,l.serializePing=E,l.serializePong=k,l.serializeStreamResponseDelta=I,l.deserializeResponseRewriteRequest=T,l.deserializeResponseRewriteConditionalPatchHeaders=D,l.deserializeResponseData=x,l.deserializeLogMessage=$,l.deserializeTermination=P,l.deserializeAmendStreamAck=N,l.deserializeStreamCheck=M,l.deserializePing=w,l.deserializePong=A,l.deserializeStreamResponseDelta=F}),98);
__d("RequestStreamSingleChannelSingleChannelRequestStreamTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Ignored:100,Success:200,Queued:250,UnknownStream:400,HandledUnknownResult:450,Failure:500}),l=n("$InternalEnum")({Request_headers:"request_headers",Request_body:"request_body",Amend:"amend",Ack:"ack",Response:"response",Ping:"ping",Pong:"pong"});a.exports={Ack:e,Payload$Types:l}}),null);
__d("RequestStreamSingleChannelSingleChannelRequestStreamSerializers",["RequestStreamCommonRequestStreamCommonSerializers","RequestStreamCommonRequestStreamCommonTypes","RequestStreamSingleChannelSingleChannelRequestStreamTypes","ThriftTypes","jsbi"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{body:Uint8Array.of()}}function c(){return{amendment:Uint8Array.of()}}function d(){return{ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)}}function m(){return{delta:[]}}function p(){return{}}function _(t,n){n.writeStructBegin("RequestStreamHeaders"),t.headers!=null&&(n.writeFieldBegin({fname:"headers",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),n.writeBinary(t.headers),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function f(t,n){if(n.writeStructBegin("RequestStreamBody"),n.writeFieldBegin({fname:"body",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:1}),t.body!=null)n.writeBinary(t.body);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function g(t,n){if(n.writeStructBegin("AmendStream"),t.amendment_id!=null&&(n.writeFieldBegin({fname:"amendment_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.amendment_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"amendment",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:2}),t.amendment!=null)n.writeBinary(t.amendment);else{var o=Uint8Array.of();n.writeBinary(o)}n.writeFieldEnd(),t.is_query!=null&&(n.writeFieldBegin({fname:"is_query",ftype:(e||(e=r("ThriftTypes"))).BOOL,fid:3}),n.writeBool(t.is_query),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function h(t,n){if(n.writeStructBegin("StreamResponseAck"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).I32,fid:2}),t.ack!=null){var a;n.writeI32((a=t.ack)!=null?a:0)}else{var i=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0);n.writeI32(i!=null?i:0)}n.writeFieldEnd(),t.query_result!=null&&(n.writeFieldBegin({fname:"query_result",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:3}),n.writeBinary(t.query_result),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function y(t,n){if(n.writeStructBegin("StreamResponse"),t.response_id!=null&&(n.writeFieldBegin({fname:"response_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(r("jsbi").BigInt(t.response_id)),n.writeFieldEnd()),n.writeFieldBegin({fname:"delta",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:2}),t.delta!=null){n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:t.delta.length});for(var a of t.delta)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(a,n);n.writeListEnd()}else{var i=[];n.writeListBegin({etype:(e||(e=r("ThriftTypes"))).STRUCT,size:i.length});for(var l of i)o("RequestStreamCommonRequestStreamCommonSerializers").serializeStreamResponseDelta(l,n);n.writeListEnd()}if(n.writeFieldEnd(),t.ack_level!=null){var s;n.writeFieldBegin({fname:"ack_level",ftype:(e||(e=r("ThriftTypes"))).I32,fid:3}),n.writeI32((s=t.ack_level)!=null?s:0),n.writeFieldEnd()}t.query_request!=null&&(n.writeFieldBegin({fname:"query_request",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:4}),n.writeBinary(t.query_request),n.writeFieldEnd()),t.instrumentation_data!=null&&(n.writeFieldBegin({fname:"instrumentation_data",ftype:(e||(e=r("ThriftTypes"))).STRING,fid:5}),n.writeBinary(t.instrumentation_data),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function C(t,n){if(n.writeStructBegin("Payload"),t.request_headers!=null){n.writeFieldBegin({fname:"request_headers",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),_(t.request_headers,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.request_body!=null){n.writeFieldBegin({fname:"request_body",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:2}),f(t.request_body,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.amend!=null){n.writeFieldBegin({fname:"amend",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:3}),g(t.amend,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ack!=null){n.writeFieldBegin({fname:"ack",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:4}),h(t.ack,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.response!=null){n.writeFieldBegin({fname:"response",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:5}),y(t.response,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.ping!=null){n.writeFieldBegin({fname:"ping",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:6}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePing(t.ping,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}if(t.pong!=null){n.writeFieldBegin({fname:"pong",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:7}),o("RequestStreamCommonRequestStreamCommonSerializers").serializePong(t.pong,n),n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd();return}n.writeFieldStop(),n.writeStructEnd()}function b(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.headers=t.readBinary():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function v(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRING?n.body=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.body===void 0&&(n.body=Uint8Array.of()),n}function S(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.amendment_id=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRING?n.amendment=t.readBinary():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).BOOL?n.is_query=t.readBool():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.amendment===void 0&&(n.amendment=Uint8Array.of()),n}function R(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:i===(e||(e=r("ThriftTypes"))).I32?n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(t.readI32()):t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).STRING?n.query_result=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.ack===void 0&&(n.ack=o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.cast(0)),n}function L(t){var n={};for(t.readStructBegin();;){var a=t.readFieldBegin(),i=a.ftype,l=a.fid;if(i===(e||(e=r("ThriftTypes"))).STOP)break;switch(l){case 1:i===(e||(e=r("ThriftTypes"))).I64?n.response_id=t.readI64().toString():t.skip(i);break;case 2:if(i===(e||(e=r("ThriftTypes"))).LIST){n.delta=[];for(var s=t.readListBegin(),u=0;u<s.size;u++){var c=o("RequestStreamCommonRequestStreamCommonSerializers").deserializeStreamResponseDelta(t);n.delta.push(c)}}else t.skip(i);break;case 3:i===(e||(e=r("ThriftTypes"))).I32?n.ack_level=o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.cast(t.readI32()):t.skip(i);break;case 4:i===(e||(e=r("ThriftTypes"))).STRING?n.query_request=t.readBinary():t.skip(i);break;case 5:i===(e||(e=r("ThriftTypes"))).STRING?n.instrumentation_data=t.readBinary():t.skip(i);break;default:t.skip(i)}t.readFieldEnd()}return t.readStructEnd(),n.delta===void 0&&(n.delta=[]),n}function E(t){var n,a={};for(t.readStructBegin();;){var i=t.readFieldBegin(),l=i.ftype,s=i.fid;if(l===(e||(e=r("ThriftTypes"))).STOP)break;switch(s){case 1:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_headers=b(t),n="request_headers";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_headers, previous deserialized field: "+n);else t.skip(l);break;case 2:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.request_body=v(t),n="request_body";else throw new Error("more than one field have been deserialized in union type: Payload; current field: request_body, previous deserialized field: "+n);else t.skip(l);break;case 3:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.amend=S(t),n="amend";else throw new Error("more than one field have been deserialized in union type: Payload; current field: amend, previous deserialized field: "+n);else t.skip(l);break;case 4:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ack=R(t),n="ack";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ack, previous deserialized field: "+n);else t.skip(l);break;case 5:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.response=L(t),n="response";else throw new Error("more than one field have been deserialized in union type: Payload; current field: response, previous deserialized field: "+n);else t.skip(l);break;case 6:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.ping=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePing(t),n="ping";else throw new Error("more than one field have been deserialized in union type: Payload; current field: ping, previous deserialized field: "+n);else t.skip(l);break;case 7:if(l===(e||(e=r("ThriftTypes"))).STRUCT)if(n==null)a.pong=o("RequestStreamCommonRequestStreamCommonSerializers").deserializePong(t),n="pong";else throw new Error("more than one field have been deserialized in union type: Payload; current field: pong, previous deserialized field: "+n);else t.skip(l);break;default:t.skip(l)}t.readFieldEnd()}return t.readStructEnd(),a}l.RequestStreamHeaders$DefaultConstructor=s,l.RequestStreamBody$DefaultConstructor=u,l.AmendStream$DefaultConstructor=c,l.StreamResponseAck$DefaultConstructor=d,l.StreamResponse$DefaultConstructor=m,l.Payload$DefaultConstructor=p,l.serializeRequestStreamHeaders=_,l.serializeRequestStreamBody=f,l.serializeAmendStream=g,l.serializeStreamResponseAck=h,l.serializeStreamResponse=y,l.serializePayload=C,l.deserializeRequestStreamHeaders=b,l.deserializeRequestStreamBody=v,l.deserializeAmendStream=S,l.deserializeStreamResponseAck=R,l.deserializeStreamResponse=L,l.deserializePayload=E}),98);
__d("RequestStreamState",["RequestStreamCommonRequestStreamCommonTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(t){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:return e.seenAccepted||e.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started?e:{flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted,seenAccepted:!0};default:return!e.seenAccepted||e.flowStatus===t?e:{flowStatus:t,seenAccepted:!0}}}l.getNextState=e}),98);
__d("StreamRetryState",[],(function(t,n,r,o,a,i){"use strict";var e=1e3,l=120*1e3,s=(function(){function t(){this.$1=0}var n=t.prototype;return n.resetErrorAndRetryCount=function(){this.$1=0},n.onRetry=function(){this.$1+=1},n.getRetryCount=function(){return this.$1},n.getBackoffDelayMs=function(){if(this.$1<=1)return 0;if(this.$1===2)return e*Math.random();var t=e*Math.pow(2,this.$1-3),n=t*Math.random(),r=t+n;return Math.min(r,l)},t})();i.default=s}),66);
__d("DGWRequestStreamRef",["CompactSerializerPolyfill","DGWRequestStreamUtils","DGWStream","DGWStreamHandler","InflightAmends","RequestStreamCloseReason","RequestStreamCommonRequestStreamCommonTypes","RequestStreamE2EClientLoggerEvent","RequestStreamE2EClientLoggerMessageType","RequestStreamE2ELogger","RequestStreamE2ESampling","RequestStreamSingleChannelSingleChannelRequestStreamSerializers","RequestStreamSingleChannelSingleChannelRequestStreamTypes","RequestStreamState","RequestStreamTransport","RtiWebRequestStreamClient","StreamRetryState","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e=4,s=0,u=1e3,c=2,d=5e3,m="dgw_stream_send_ack_failure";function p(e){if(!e){var t=r("err")(m);throw t.stack,t}}function _(e,t){if(e==null||e.length===0)return null;var n=JSON.parse(e);return n.auxId=t,new TextEncoder().encode(JSON.stringify(n))}function f(e){var t={},n=e.delta;return n.forEach(function(e){if(e.flow_status)switch(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Flow_status,e.flow_status){case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted:t.flow_status="Accepted";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started:t.flow_status="Started";break;case o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped:t.flow_status="Stopped";break}else e.log?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Log:e.rewrite?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Rewrite:e.data?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Data:e.termination?t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Termination:e.amend_ack&&(t.type=o("RequestStreamCommonRequestStreamCommonTypes").StreamResponseDelta$Types.Amend_ack)}),t}var g=(function(){function t(t,n,a,i,l,s,u){var c=this,p,_,f;this.$6=null,this.$7={},this.$10=!1,this.$15=new(r("StreamRetryState")),this.$16=0,this.$17=0,this.$18=0,this.$21=0;var g=null;typeof n=="string"?g=new TextEncoder().encode(n):typeof n=="object"&&(g=n),this.$1={headers:t,body:g},this.$3=a,this.$4=u,this.$12=e,this.$9=!1,this.$14=!1,this.$20=s;var h=i==null?void 0:i.serviceId;l!=null&&(this.$22()||(l.dgwStreamGroupLoggingId=this.$20.getStreamGroupLoggingId(h)),l.dgwCountPriorStreamsInGroup=this.$20.guessStreamGroupPriorStreamCount(h),l.transport="WEB_RS_STARGATE"),this.$5=o("RequestStreamE2ESampling").validateInstrumentationData(t,l,i==null?void 0:i.requestLogContext,i==null?void 0:i.upsampleMultiplier),this.$22()?this.$7.disableFalcoLogging=!0:this.$6=o("RequestStreamE2ELogger").createStreamLogger(t,this.$5,o("RequestStreamTransport").RequestStreamTransport.WEB_RS_STARGATE),(i==null?void 0:i.deviceId)!=null&&(this.$7.deviceId=i.deviceId),this.$6&&(this.$7.loggingId=this.$6.getRequestId()),i&&i.overrideUrl!=null&&(this.$7.overrideUrl=i.overrideUrl),h!=null&&(this.$7.serviceId=h),(i==null?void 0:i.authType)!=null&&(this.$7.authType=i.authType),(i==null?void 0:i.authToken)!=null&&(this.$7.authToken=i.authToken),this.$8={flowStatus:o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped,seenAccepted:!1},this.$19=new(r("InflightAmends"))(d,function(e,t){var n;(n=c.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").RECEIVED,babelHelpers.extends({},c.$23(),{latency:t.toString()}),e)},function(e,t){if(t.message!==m){var n;(n=c.$6)==null||n.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,babelHelpers.extends({},c.$23(),{reason:t.message}),e)}}),(p=this.$6)==null||p.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{data_size:(_=n==null||(f=n.length)==null?void 0:f.toString())!=null?_:"0"},"0","0")}var n=t.prototype;return n.getInstrumentationData=function(){return this.$5},n.getE2EClientLogger=function(){return this.$6},n.amendWithAck=function(t){var e=this.$24(t,!0);return e==null?Promise.resolve(!1):this.$19.getPromise(e)||Promise.resolve(!1)},n.amendWithoutAck=function(t){this.$24(t,!1)},n.cancel=function(){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").CANCEL,r("RequestStreamE2EClientLoggerEvent").RECEIVED),this.$9=!0,this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)},n.start=function(t){var e=this;t===void 0&&(t=!1);var n=String(this.$16++),a=Date.now();return this.$26(n).then(function(){var t;e.$14=!1,e.$21=0;var o=(Date.now()-a).toString();(t=e.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:o},n,String(e.$18))}).catch(function(a){if(a.stack,!(a.message===m&&e.$10))if(e.$14=!1,a!==o("DGWStream").StreamError.ESTABLISHMENT_ERROR){var i,l=a.message;if(a===o("DGWStream").StreamError.UNAUTHENTICATED?l="UNAUTHENTICATED":a===o("DGWStream").StreamError.UNAUTHORIZED&&(l="UNAUTHORIZED"),(i=e.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:l},n,String(e.$18)),e.$25(t?o("RequestStreamCloseReason").RequestStreamCloseReason.ReestablishError:o("RequestStreamCloseReason").RequestStreamCloseReason.StartStreamFailure,l,!0),a===o("DGWStream").StreamError.UNAUTHENTICATED||a===o("DGWStream").StreamError.UNAUTHORIZED)return;throw a}else{var s,d;(s=e.$6)==null||s.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:(d=a.message)!=null?d:a},n,String(e.$18)),e.$15.onRetry();var p=e.$4.unlimited_retries_on_stream_error?e.$15.getBackoffDelayMs():u*Math.pow(c,e.$21);return new Promise(function(e){return window.setTimeout(e,p)}).then(function(){return e.$21++,e.$18++,e.start()})}})},n.getFlowStatus=function(){return this.$8.flowStatus},n.shouldTerminateOrRetry=function(t,n,a,i){var e=this;if(!this.$14){var l=n;if(this.$12||(l="cannot retry for error: "+n+" because of hit max retry limitation"),t!==o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError){var u;(u=this.$6)==null||u.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:l},null,String(this.$18))}var c=a&&(this.$4.unlimited_retries_on_stream_error||this.$12);if(this.$25(t,l,!c),c){var d=this.$4.unlimited_retries_on_stream_error?Math.max(i!=null?i:0,this.$15.getBackoffDelayMs()):i!=null?i:s;return this.$14=!0,new Promise(function(e){return window.setTimeout(e,d)}).then(function(){return e.$27()}).catch(function(e){})}}},n.$28=function(){return this.$11!=null},n.$24=function(t,n){var e,a=this,i=typeof t=="string"?new TextEncoder().encode(t):t,l=String(this.$17++);(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").RECEIVED,{},l);var s=_(this.$5,l),u={amend:{amendment:i,instrumentation_data:s}};n&&u.amend&&(u.amend.amendment_id=l);var c=o("CompactSerializerPolyfill").serialize(u,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload),d=Date.now();if(this.$29()&&this.$11!=null){var m,f,g;return n&&this.$19.add(l),this.$11.send(c).then(function(e){var t;p(e);var n=(Date.now()-d).toString();(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").PUBACK,{latency:n},l)}).catch(function(e){var t;(t=a.$6)==null||t.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:e.message},l),a.$19.reject(l,e)}),(m=this.$6)==null||m.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").SENT,{data_size:(f=t==null||(g=t.length)==null?void 0:g.toString())!=null?f:"0"},l),l}else{var h;(h=this.$6)==null||h.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").AMENDMENT,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},l)}},n.$26=async function(n){var t=this;if(this.$9)throw new Error("stream_already_canceled");var a,i=this.$2||this.$1;try{var l=this.$30();this.$13=l;var s=i.headers.graphiql_sandbox,u=babelHelpers.extends({},i.headers,this.$31());s!=null&&(u=babelHelpers.extends({},u,{www_sandbox:s,distillery_sandbox:s+":8086"}));var c=o("DGWRequestStreamUtils").convertHeaders(u,i.body!=null,this.$5,void 0,this.$4.webdriver_test_request_id);this.$11=await this.$20.establishStream(c,l,this.$7)}catch(e){var d=typeof e=="string"?o("DGWStream").StreamError.cast(e):void 0;if(d===o("DGWStream").StreamError.ESTABLISHMENT_ERROR||d!=null&&!o("DGWStream").isRetryableError(d))throw d;if(d!=null&&o("DGWStream").isRetryableError(d)){this.$32(d);return}throw e}if(this.$9){this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0);return}var m=new Uint8Array([]);if(i.body!=null){var _={request_body:{body:i.body}};m=o("CompactSerializerPolyfill").serialize(_,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload)}if(!this.$11)throw new Error("dgwstream_is_null");var f=this.$11.send(m).then(function(e){p(e),t.$9&&t.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.UserIntention,"user cancel the stream",!0)});return(a=this.$6)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").SENT,{},n,String(this.$18)),this.$12=e,f},n.$29=function(){return this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started||this.$8.flowStatus===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Accepted},n.$25=function(t,n,r){var e;this.$11&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError&&t!==o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination&&this.$11.close(),(e=this.$13)==null||e.stop(),this.$11=null,this.$10=!0,this.$33(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped)&&this.$3.onFlowStatus(o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Stopped),r&&!this.$9&&this.$3.onTermination("terminate stream because "+t+" with msg : "+n)},n.$33=function(t){var e=this.$8;return this.$8=o("RequestStreamState").getNextState(e,t),e!==this.$8},n.$27=function(){return this.$12--,this.$18++,this.$15.onRetry(),this.start(!0)},n.$34=function(t){var e=this,n=o("CompactSerializerPolyfill").deserialize(t,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").deserializePayload);if(n.response){var a,i,l=o("DGWRequestStreamUtils").getInstrumentationDataFieldsFromPayload(n),s=l==null?void 0:l.auxId,u=l==null?void 0:l.dfTraceId;if(!this.$28()){var c;(c=this.$6)==null||c.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"response_received_after_close"},s,String(this.$18),u);return}var d;(a=this.$6)==null||a.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").RECEIVED,f(n.response),s,String(this.$18),u,d);var m=n.response.delta;m.forEach(function(t){if(t.data)e.$15.resetErrorAndRetryCount(),e.$3.onData(new TextDecoder("utf-8").decode(t.data.bytes));else if(t.flow_status){var n=t.flow_status;n===o("RequestStreamCommonRequestStreamCommonTypes").FlowStatus.Started&&e.$15.resetErrorAndRetryCount(),e.$33(n)&&e.$3.onFlowStatus(n)}else if(t.termination){var r,a=(r=t.termination.message)!=null?r:"unknown termination msg";e.$2=null,e.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,a,t.termination.reason===o("RequestStreamCommonRequestStreamCommonTypes").TerminationReason.TryAgain,t.termination.retry_delay_ms!=null?parseInt(t.termination.retry_delay_ms,10):null)}else if(t.log)e.$3.onLog(t.log.message);else if(t.amend_ack){var i=t.amend_ack.amendment_id;if(i!=null){var l=t.amend_ack.accepted||!1;e.$19.resolve(i,l)}}else if(t.rewrite){var s=o("DGWRequestStreamUtils").transformContextWithRewriteDelta(e.$1,t.rewrite);t.rewrite.temporary===!0?e.$2=s:e.$1=s}}),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").SENT,f(n.response),s,String(this.$18),u),n.response.ack_level===o("RequestStreamCommonRequestStreamCommonTypes").AckLevel.Device&&n.response.response_id!=null&&this.$35(n.response.response_id,s)}else{var p;(p=this.$6)==null||p.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"unexpected_payload_type"},null,String(this.$18))}},n.$35=function(t,n){var e={ack:{response_id:t,ack:o("RequestStreamSingleChannelSingleChannelRequestStreamTypes").Ack.Success}},a=o("CompactSerializerPolyfill").serialize(e,o("RequestStreamSingleChannelSingleChannelRequestStreamSerializers").serializePayload);if(this.$11!=null){var i;this.$11.send(a),(i=this.$6)==null||i.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").SENT,{},n,String(this.$18))}else{var l;(l=this.$6)==null||l.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE_ACK,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"not_started"},n,String(this.$18))}},n.$22=function(){return this.$1.headers.method==="Falco"},n.$30=function(){var e=this;return new(r("DGWStreamHandler"))(function(t){return e.$36(t)},function(t){return e.$37(t)},function(t){return e.$32(t)},function(t,n){return e.$38(t,n)},function(t){return e.$39(t)})},n.$39=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Has FinishedSendingData"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDataEnd,"Client receive OnServerHasFinishedSendingData and Server will not send more data",!0)},n.$36=function(t){var e;(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").REQUEST_STREAM,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:"OnClose: Server Close Connection"},null,String(this.$18)),this.$25(o("RequestStreamCloseReason").RequestStreamCloseReason.RemoteTermination,"Client receive OnClose and Server will not send more data",!0)},n.$37=function(t){try{this.$34(t)}catch(t){var e,n=r("getErrorSafe")(t);(e=this.$6)==null||e.logE2EEvent(r("RequestStreamE2EClientLoggerMessageType").RESPONSE,r("RequestStreamE2EClientLoggerEvent").FAILURE,{reason:n.message},null,String(this.$18)),this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ClientError,n.message,!1)}},n.$32=function(t){var e="",n=o("DGWStream").isRetryableError(t);e="StreamError: Received "+t,this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.StreamError,e,n)},n.$38=function(t,n){this.shouldTerminateOrRetry(o("RequestStreamCloseReason").RequestStreamCloseReason.ServerDrain,n,!0)},n.$31=function(){return r("RtiWebRequestStreamClient").overrideHeaders},n.$23=function(){return{pending_amendments_size:this.$19.getSize().toString()}},t})();l.default=g}),98);
__d("DGWStreamFactory",["DGWClient","DGWStreamGroupHandler","Promise","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s="realtime",u=1e4,c=null,d=(function(){function t(e){this.$1=e,this.$2={}}t.get=function(n){return c==null&&(c=new t(n)),c};var o=t.prototype;return o.$3=function(t){this.$2[t]={dgwStreamGroup:null,multiStreamGroupLoggingId:null,multiStreamGroupPriorStreamCountGuess:0,authType:null}},o.getStreamGroupLoggingId=function(t){var e;return t===void 0&&(t=null),(e=this.$2[t!=null?t:s])==null?void 0:e.multiStreamGroupLoggingId},o.guessStreamGroupPriorStreamCount=function(t){var e;return t===void 0&&(t=null),((e=this.$2[t!=null?t:s])==null?void 0:e.multiStreamGroupPriorStreamCountGuess)||0},o.establishStream=function(o,a,i){var t=this,l=i.serviceId==null?s:i.serviceId,c=this.$2[l],d=c==null?void 0:c.dgwStreamGroup,m=c==null?void 0:c.authType,p=i.authType,_=d!=null&&m!==p;if(d==null||!d.canCreateGroupedStream()||_){var f={deviceId:i.deviceId,serviceId:l,disableFalcoLogging:i.disableFalcoLogging,streamGroupAppHeaders:{"stream-group":"group1"},authToken:i.authToken,authType:i.authType};i.overrideUrl!=null&&(f.overrideUrl=i.overrideUrl),f.keepAliveMs=u,this.$1.log_dgw_streamgroup&&(f.loggingId=r("uuidv4")());try{d=r("DGWClient")().createStreamGroup(new(r("DGWStreamGroupHandler"))(function(){t.$3(l)},function(){t.$3(l)},function(){t.$3(l)}),f),this.$2[l]={dgwStreamGroup:d,multiStreamGroupLoggingId:f.loggingId,multiStreamGroupPriorStreamCountGuess:0,authType:i.authType}}catch(t){return(e||(e=n("Promise"))).reject(t)}}return this.$2[l].multiStreamGroupPriorStreamCountGuess++,d.establishStream({loggingId:i.loggingId,disableFalcoLogging:i.disableFalcoLogging,groupedStreamHeaders:o},a)},t})();l.default=d}),98);
__d("DGWRequestStreamClient",["DGWRequestStreamRef","DGWStreamFactory","Promise","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t){this.$1=e,this.$2=t!=null?t:r("DGWStreamFactory").get(e.dgwStreamFactoryConfig)}var o=t.prototype;return o.createStream=function(o,a,i,l,s){var t=i;return(e||(e=n("Promise"))).resolve(new(r("DGWRequestStreamRef"))(o,a,l,s,t,this.$2,this.$1.dgwRequestStreamRefConfig))},t})();l.default=s}),98);
__d("EBMinosVerifySingleEpoch",["EBAPIMinosVerifySingleEpoch"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r,a,i,l,s){var u=await o("EBAPIMinosVerifySingleEpoch").minosVerifySingleEpoch({minosEpochAnonId:e,minosMailboxAuthPublicKey:a,minosMailboxEncryptionPublicKey:r,minosMailboxSigningPublicKey:n,previousEpochHead:i,qplFlow:s,selfEpochSignature:l,userId:t});return Promise.resolve([u])}l.minosVerifySingleEpoch=e}),98);
__d("EBWriteMinosMailboxKeysToCache",["EBAPIWriteMinosPublicKeysForRecipient","FBLogger","Promise","cr:12495","getErrorSafe","getSafeQplErrorMessage","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var a=t.contactId,i=t.encryptionPublicKey,l=t.epochAnonId,u=t.epochHead,c=t.epochHeadCreationTime,d=t.publicKeyFbid,m=t.qplFlow;return m.addPoint("write_keys_start",{string:{contactId:a}}),n("cr:12495")!=null&&r("promiseDone")(n("cr:12495").writeStorageAlertAndAdminMessageBridgedAPI(a,u,c)),r("promiseDone")(o("EBAPIWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipientAPI({contactId:a,encryptionPublicKey:i,epochAnonId:l,epochHead:u,epochHeadCreationTime:c,publicKeyFbid:d}),function(){m.addPoint("write_keys_end"),m.endSuccess()},function(t){var n=r("getErrorSafe")(t);m.addPoint("write_keys_end"),r("FBLogger")("wmi").MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web minos] error writing minos mailbox keys to cache: ",""])),n.message),m.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(n))}),(s||(s=n("Promise"))).resolve()}l.writeMinosMailboxKeysToCache=u}),98);
__d("LogWebQplNOP",["I64","LSIntEnum","Promise","QPLUserFlow","WAHashStringToNumber","WALogger","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e){var t=e==null?null:(c||(c=o("I64"))).to_int32(e);switch(t){case 521476165:return r("qpl")._(521476165,"2432");case 521481602:return r("qpl")._(521481602,"829");default:return null}}function m(t,a,i,l,m,p){return new(s||(s=n("Promise")))(function(n,s){try{var _=m?(u||(u=o("LSIntEnum"))).unwrapIntEnum(m):null,f=d(a);if(f!=null&&i!=null){var g,h={int:{num_messages:(c||(c=o("I64"))).to_int32(l)},string:{message_count:String(l),taskSource:(g=_==null?void 0:_.toString())!=null?g:"unknown"}};p===!0?r("QPLUserFlow").endSuccess(f,{annotations:h,instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)}):p===!1?r("QPLUserFlow").endFailure(f,i,{annotations:h,instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)}):(r("QPLUserFlow").addAnnotations(f,h,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)}),r("QPLUserFlow").addPoint(f,i,{instanceKey:o("WAHashStringToNumber").hashStringToNumber(t)}))}n()}catch(t){o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["LSLogWebQpl error: ",""])),t),n()}})}l.call=m}),98);
/**
 * License: https://www.facebook.com/legal/license/ZMc_bSwzLKC/
 */
__d("ristretto255-0.1.1",["tweetnacl-1.0.3"],(function(t,n,r,o,a,i,l){var e=r("tweetnacl-1.0.3")();Uint8Array.prototype.slice||Object.defineProperty(Uint8Array.prototype,"slice",{value:function(t,n){return new Uint8Array(Array.prototype.slice.call(this,t,n))}});var s={},u=e.lowlevel,c=u.gf([1]);function d(){return[u.gf(),u.gf(),u.gf(),u.gf()]}var m=new Uint8Array([226,242,174,10,106,188,78,113,168,132,169,97,197,0,81,95,88,227,11,106,165,130,221,141,182,166,89,69,224,141,45,118]),p=new Float64Array([235,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function _(e,t,n){for(var r=new Float64Array(64),o=0;o<32;o++)for(var a=0;a<32;a++)r[o+a]+=t[o]*n[a];u.modL(e,r)}function f(e,t){_(e,t,t)}function g(e,t){for(var n=0;n<32;n++)e[n]=t[n];for(var r=251;r>=0;r--)f(e,e),(p[r>>3]>>(r&7)&1)!==0&&_(e,e,t)}var h=u.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]),y=u.gf([11803,18811,63136,32407,21693,7032,36364,44957,53757,12789,64713,3900,18604,11139,12735,14185]),C=u.gf([16618,32861,64938,39368,29374,23105,5655,40239,55360,65025,31633,5826,64674,53167,35077,30828]),b=u.gf([49526,37983,2497,57980,13583,52574,41272,11393,57316,48752,43997,39316,57559,45747,29352,656]),v=u.gf([19744,17645,23210,12717,6553,45086,18988,53918,20203,21147,54063,19676,8769,63084,45946,22888]);function S(e){var t=new Uint8Array(32);u.pack25519(t,e);for(var n=1,r=0;r<32;r++)n&=t[r]===0;return n}function R(e,t,n){for(var r,o=-n,a=0;a<16;a++)r=e[a]^t[a],r&=o,e[a]^=r}function L(e){var t=new Uint8Array(32);return u.pack25519(t,e),t[0]&1}function E(e,t){u.Z(e,u.gf(),t)}function k(e,t,n){var r=u.gf();E(r,t),u.set25519(e,t),R(e,r,n)}function I(e,t){k(e,t,L(t))}function T(e,t,n){var r=u.gf(),o=u.gf(),a=u.gf(),i=u.gf(),l=u.gf(),s=u.gf();u.S(r,n),u.M(r,r,n),u.S(e,r),u.M(e,e,n),u.M(e,e,t),u.pow2523(e,e),u.M(e,e,r),u.M(e,e,t),u.S(o,e),u.M(o,o,n),u.Z(a,o,t),u.A(i,o,t),u.M(l,t,h),u.A(l,o,l);var c=S(a),d=S(i),m=S(l);return u.M(s,e,h),R(e,s,d|m),I(e,e),c|d}function D(e){var t=u.gf(),n=u.gf(),r=u.gf(),o=u.gf(),a=u.gf(),i=u.gf(),l=u.gf(),s=u.gf(),d=u.gf(),m=u.gf(),p=u.gf(),_=u.gf(),f=u.gf(),g=u.gf(),y=u.gf(),b=u.gf(),v=u.gf(),S=0,E=new Uint8Array(32);return u.A(m,e[2],e[1]),u.Z(v,e[2],e[1]),u.M(m,m,v),u.M(p,e[0],e[1]),u.S(_,p),u.M(_,m,_),T(a,c,_),u.M(t,a,m),u.M(n,a,p),u.M(b,t,n),u.M(b,b,e[3]),u.M(i,e[0],h),u.M(l,e[1],h),u.M(o,t,C),u.M(d,e[3],b),S=L(d),f=u.gf(e[0]),g=u.gf(e[1]),r=u.gf(n),R(f,l,S),R(g,i,S),R(r,o,S),u.M(y,f,b),k(g,g,L(y)),u.Z(s,e[2],g),u.M(s,r,s),I(s,s),u.pack25519(E,s),E}function x(e){for(var t=e[31]&127^127,n=30;n>0;n--)t|=e[n]^255;t=(t|0)-1>>8;var r=236-(e[0]|0)>>8;return 1-((t&r|e[0])&1|(e[31]&255)>>7)}function $(e,t){var n=u.gf(),r=u.gf(),o=u.gf(),a=u.gf(),i=u.gf(),l=u.gf(),s=u.gf(),d=u.gf(),m=u.gf(),p=u.gf();if(x(t)===0)return-1;u.unpack25519(o,t),u.S(a,o),u.set25519(i,c),u.Z(i,i,a),u.S(s,i),u.set25519(l,c),u.A(l,l,a),u.S(d,l),u.M(m,u.D,s),E(m,m),u.Z(m,m,d),u.M(p,m,d),u.set25519(r,c);var _=T(n,r,p);return u.M(e[0],n,l),u.M(e[1],n,e[0]),u.M(e[1],e[1],m),u.M(e[0],e[0],o),u.A(e[0],e[0],e[0]),I(e[0],e[0]),u.M(e[1],i,e[1]),u.set25519(e[2],c),u.M(e[3],e[0],e[1]),-(1-_|L(e[3])|S(e[1]))}function P(e,t){var n=u.gf(),r=u.gf(),o=u.gf(),a=u.gf(),i=u.gf(),l=u.gf(),s=u.gf(),d=u.gf(),m=u.gf(),p=u.gf(),_=u.gf(),f=u.gf(),g=u.gf(),C=u.gf();u.set25519(o,c),u.S(a,t),u.M(a,h,a),u.A(m,a,o),u.M(m,m,b),u.set25519(n,c),E(n,n),u.A(i,a,u.D),u.M(p,a,u.D),u.Z(p,n,p),u.M(p,p,i);var S=1-T(l,m,p);u.M(s,l,t),I(s,s),E(s,s),R(l,s,S),R(n,a,S),u.Z(r,a,o),u.M(r,r,n),u.M(r,r,v),u.Z(r,r,p),u.A(_,l,l),u.M(_,_,p),u.M(f,r,y),u.S(d,l),u.Z(g,o,d),u.A(C,o,d),u.M(e[0],_,C),u.M(e[1],g,f),u.M(e[2],f,C),u.M(e[3],_,g)}function N(e){var t=u.gf(),n=u.gf(),r=d(),o=d();return u.unpack25519(t,e.slice(0,32)),u.unpack25519(n,e.slice(32,64)),P(r,t),P(o,n),u.add(r,o),r}function M(e){var t=d();return u.scalarbase(t,e),D(t)}function w(e,t){var n=d(),r=d();if($(n,t)!==0)throw new Error("Invalid argument");return u.scalarmult(r,n,e),D(r)}function A(e){var t=d();return $(t,e)!==-1}function F(e,t){var n=d(),r=d();if($(n,e)===-1)throw new Error("Invalid argument");if($(r,t)===-1)throw new Error("Invalid argument");return[n,r]}function O(e,t){var n=F(e,t),r=n[0],o=n[1];return u.add(r,o),D(r)}function B(e,t){var n=u.gf();E(n,t[3]);var r=u.gf();E(r,t[0]);var o=[r,t[1],t[2],n];u.add(e,o)}function W(e,t){var n=F(e,t),r=n[0],o=n[1];return B(r,o),D(r)}function q(){var t=e.randomBytes(64);return N(t)}function U(e){return D(N(e))}function V(){return D(q())}function H(){var t=new Uint8Array(32),n=0;do{t=e.randomBytes(32),t[31]&=31;var r=32,o=1;do r--,n|=t[r]-u.L[r]>>8&o,o&=(t[r]^u.L[r])-1>>8;while(r!==0)}while(n===0);return t}function G(e){var t=new Uint8Array(32);return g(t,e),t}function z(e){for(var t=new Float64Array(64),n=0;n<32;n++)t[n]=-e[n];var r=new Uint8Array(32);return u.modL(r,t),r}function j(e,t){for(var n=new Float64Array(64),r=0;r<32;r++)n[r]=e[r]+t[r];var o=new Uint8Array(32);return u.modL(o,n),o}function K(e,t){return j(e,z(t))}function Q(e,t){var n=new Uint8Array(32);return _(n,e,t),n}s.scalarMultBase=M,s.scalarMult=w,s.isValid=A,s.add=O,s.sub=W,s.fromHash=U,s.getRandom=V,s.basePoint=m,s.scalar={},s.scalar.getRandom=H,s.scalar.invert=G,s.scalar.negate=z,s.scalar.add=j,s.scalar.sub=K,s.scalar.mul=Q,s.unsafe={},s.unsafe.point={},s.unsafe.point.toBytes=D,s.unsafe.point.fromBytes=$,s.unsafe.point.fromHash=N,s.unsafe.point.sub=B,s.unsafe.point.add=u.add,s.unsafe.point.scalarMultBase=u.scalarbase,s.unsafe.point.scalarMult=u.scalarmult,s.unsafe.point.getRandom=q,s.unsafe.point.alloc=d,s.unsafe.constants={},s.unsafe.constants.LSub2=p,s.unsafe.constants.sqrtm1=h,s.unsafe.constants.sqrtadm1=y,s.unsafe.constants.invsqrtamd=C,s.unsafe.constants.onemsqd=b,s.unsafe.constants.sqdmone=v,i.exports=s}),34);
__d("ristretto255",["ristretto255-0.1.1"],(function(t,n,r,o,a,i){a.exports=n("ristretto255-0.1.1")}),null);/*FB_PKG_DELIM*/
__d("AudioClipsBrowserBlockMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("73"),s=o("FalcoLoggerInternal").create("audio_clips_browser_block_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsCancelledByUserFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("39"),s=o("FalcoLoggerInternal").create("audio_clips_cancelled_by_user",e),u=s;l.default=u}),98);
__d("AudioClipsDialogNotnowMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("74"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_notnow_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsDialogOkMicAccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("75"),s=o("FalcoLoggerInternal").create("audio_clips_dialog_ok_mic_access",e),u=s;l.default=u}),98);
__d("AudioClipsMicAccessCheckFailedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("76"),s=o("FalcoLoggerInternal").create("audio_clips_mic_access_check_failed",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackPauseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("44"),s=o("FalcoLoggerInternal").create("audio_clips_playback_pause",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackResumeFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("45"),s=o("FalcoLoggerInternal").create("audio_clips_playback_resume",e),u=s;l.default=u}),98);
__d("AudioClipsPlaybackStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("47"),s=o("FalcoLoggerInternal").create("audio_clips_playback_start",e),u=s;l.default=u}),98);
__d("AudioClipsStartRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("51"),s=o("FalcoLoggerInternal").create("audio_clips_start_recording_click",e),u=s;l.default=u}),98);
__d("AudioClipsStopRecordingClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("52"),s=o("FalcoLoggerInternal").create("audio_clips_stop_recording_click",e),u=s;l.default=u}),98);
__d("MessageFeedbackType",[],(function(t,n,r,o,a,i){var e=Object.freeze({POSITIVE:0,NEGATIVE:1});i.default=e}),66);
__d("LSSubmitMessageFeedback",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("feedback_type",e[0]),r[0].set("message_id",e[1]),r[0].set("page_id",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"submit_message_feedback",t.i64.cast([0,811]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxSubmitMessageFeedbackStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSSubmitMessageFeedbackStoredProcedure",["LSSubmitMessageFeedback","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSubmitMessageFeedback"),a.feedbackType,a.messageId,a.pageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("useSubmitBusinessMessageFeedbackAction",["LSFactory","LSIntEnum","LSSubmitMessageFeedbackStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(t,n,a,l){var u=o("react-compiler-runtime").c(6),c=(e||(e=r("useReStore")))(),d;return u[0]!==l||u[1]!==c||u[2]!==a||u[3]!==t||u[4]!==n?(d=function(){r("promiseDone")(c.runInTransaction(function(e){return r("LSSubmitMessageFeedbackStoredProcedure")(r("LSFactory")(e),{feedbackType:(s||(s=o("LSIntEnum"))).ofNumber(a),messageId:t,pageId:n})},"readwrite",void 0,void 0,i.id+":38"),l)},u[0]=l,u[1]=c,u[2]=a,u[3]=t,u[4]=n,u[5]=d):d=u[5],d}l.default=d}),98);
__d("useBusinessMessageNegativeFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useGenAiFeedbackSubmittedToast")(e),a=r("useSubmitBusinessMessageFeedbackAction")(e==null?void 0:e.messageId,e==null?void 0:e.senderId,r("MessageFeedbackType").NEGATIVE,n),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Bad response"),t[0]=i):i=t[0];var l=i,u;return t[1]!==a?(u=[a,l],t[1]=a,t[2]=u):u=t[2],u}l.default=e}),226);
__d("BusinessMessageNegativeFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessageNegativeFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useBusinessMessageNegativeFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useBusinessMessagePositiveFeedback",["fbt","MessageFeedbackType","react-compiler-runtime","useGenAiFeedbackSubmittedToast","useSubmitBusinessMessageFeedbackAction"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useGenAiFeedbackSubmittedToast")(e),a=r("useSubmitBusinessMessageFeedbackAction")(e==null?void 0:e.messageId,e==null?void 0:e.senderId,r("MessageFeedbackType").POSITIVE,n),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Good response"),t[0]=i):i=t[0];var l=i,u;return t[1]!==a?(u=[a,l],t[1]=a,t[2]=u):u=t[2],u}l.default=e}),226);
__d("BusinessMessagePositiveFeedbackMenuItem.react",["MWXMenuItem.react","react","react-compiler-runtime","useBusinessMessagePositiveFeedback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.message,a=r("useBusinessMessagePositiveFeedback")(n),i=a[0],l=a[1],u;return t[0]!==i||t[1]!==l?(u=s.jsx(r("MWXMenuItem.react"),{"aria-label":l,onClick:i,primaryText:l,testid:void 0}),t[0]=i,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("ChangeVoteFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5497"),s=o("FalcoLoggerInternal").create("change_vote",e),u=s;l.default=u}),98);
__d("cometMessengerFileUploadComposerPluginSupportedTypes",[],(function(t,n,r,o,a,i){"use strict";var e=["photo","video","file"],l=e;i.default=l}),66);
__d("useCometLexicalDragAndDrop",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(8),r=t.onDragEnter,a=t.onDragLeave,i=t.onDragOver,l=t.onDrop,u=t.onPaste,c,d;n[0]!==e||n[1]!==r||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==u?(c=function(){if(e!=null)return e.registerRootListener(function(e,t){t!=null&&(r&&t.removeEventListener("dragenter",r),a&&t.removeEventListener("dragleave",a),i&&t.removeEventListener("dragover",i),l&&t.removeEventListener("drop",l,!0),u&&t.removeEventListener("paste",u,!0)),e!==null&&(r&&e.addEventListener("dragenter",r),a&&e.addEventListener("dragleave",a),i&&e.addEventListener("dragover",i),l&&e.addEventListener("drop",l,!0),u&&e.addEventListener("paste",u,!0))})},d=[e,r,a,i,l,u],n[0]=e,n[1]=r,n[2]=a,n[3]=i,n[4]=l,n[5]=u,n[6]=c,n[7]=d):(c=n[6],d=n[7]),s(c,d)}l.default=u}),98);
__d("useCometLexicalFileDragAndDrop",["react","react-compiler-runtime","useCometLexicalDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(26),n=e.editor,a=e.isMimeTypeAcceptable,i=e.onHover,l=e.onSubmit,s=i===void 0?_:i,u=l===void 0?p:l,d=c(0),f;t[0]!==a?(f=function(t){return Array.from(t).filter(a)},t[0]=a,t[1]=f):f=t[1];var g=f,h;t[2]!==g||t[3]!==s?(h=function(t){d.current=d.current+1;var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[2]=g,t[3]=s,t[4]=h):h=t[4];var y=h,C;t[5]!==s?(C=function(t){if(d.current=d.current-1,d.current===0)return s([],!1)},t[5]=s,t[6]=C):C=t[6];var b=C,v;t[7]!==g||t[8]!==s?(v=function(t){var e=t.dataTransfer;if(e==null)return s([],!0);var n=g(e.items);return n.length>0&&t.preventDefault(),s(n,!0)},t[7]=g,t[8]=s,t[9]=v):v=t[9];var S=v,R;t[10]!==g||t[11]!==u?(R=function(t,n){var e=g(n.items),r=e.map(m).filter(Boolean);return r.length>0?(t.stopPropagation(),t.preventDefault(),u(r)):u([])},t[10]=g,t[11]=u,t[12]=R):R=t[12];var L=R,E;t[13]!==L||t[14]!==s||t[15]!==u?(E=function(t){var e=t.dataTransfer;return d.current=0,s([],!1),e!=null?L(t,e):u([])},t[13]=L,t[14]=s,t[15]=u,t[16]=E):E=t[16];var k=E,I;t[17]!==L||t[18]!==u?(I=function(t){var e=t.clipboardData;if(e==null)return u([]);var n=e.types,r=n.includes("text/plain")&&n.includes("text/html")||n.includes("text/rtf");return r?u([]):L(t,e)},t[17]=L,t[18]=u,t[19]=I):I=t[19];var T=I,D;t[20]!==y||t[21]!==b||t[22]!==S||t[23]!==k||t[24]!==T?(D={onDragEnter:y,onDragLeave:b,onDragOver:S,onDrop:k,onPaste:T},t[20]=y,t[21]=b,t[22]=S,t[23]=k,t[24]=T,t[25]=D):D=t[25],r("useCometLexicalDragAndDrop")(n,D)}function m(e){return e.getAsFile()}function p(){}function _(){}l.default=d}),98);
__d("useCometMessengerFileUploadPaste",["react","react-compiler-runtime","useCometLexicalFileDragAndDrop"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a=e.handlePastedFiles,i=e.isMimeTypeAcceptable,l;t[0]!==a?(l=function(t){t.length>0&&a(t)},t[0]=a,t[1]=l):l=t[1];var s=l,u;t[2]!==n||t[3]!==i||t[4]!==s?(u={editor:n,isMimeTypeAcceptable:i,onSubmit:s},t[2]=n,t[3]=i,t[4]=s,t[5]=u):u=t[5],r("useCometLexicalFileDragAndDrop")(u)}l.default=u}),98);
__d("CometMessengerHandlePastedFileComposerPlugin",["cometIsMimeTypeForMedia","cometMessengerFileUploadComposerPluginSupportedTypes","react-compiler-runtime","useCometMessengerFileUploadPaste"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e.kind!=="file")return!1;for(var t of r("cometMessengerFileUploadComposerPluginSupportedTypes"))switch(t){case"photo":if(o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(e.type))return!0;break;case"video":if(o("cometIsMimeTypeForMedia").isMimeTypeForVideo(e.type))return!0;break;case"file":if(o("cometIsMimeTypeForMedia").isMimeTypeForFile(e.type))return!0;break;default:}return!1}function s(t){var n=o("react-compiler-runtime").c(3),a=t.editor,i=t.handlePastedFiles,l;return n[0]!==a||n[1]!==i?(l={editor:a,handlePastedFiles:i,isMimeTypeAcceptable:e},n[0]=a,n[1]=i,n[2]=l):l=n[2],r("useCometMessengerFileUploadPaste")(l),null}l.default=s}),98);
__d("CreatorMessagingRecipientFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4151"),s=o("FalcoLoggerInternal").create("creator_messaging_recipient",e),u=s;l.default=u}),98);
__d("ExistingPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5498"),s=o("FalcoLoggerInternal").create("existing_poll_submit_error",e),u=s;l.default=u}),98);
__d("ExistingPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5499"),s=o("FalcoLoggerInternal").create("existing_poll_submit_success",e),u=s;l.default=u}),98);
__d("FDSTwoButtonDialog.react",["fbt","CometTrackingNodeProvider.react","FDSDialog.react","FDSDialogConfirmationFooter.react","FDSDialogHeader.react","FDSText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={content:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,position:"x1n2onr6",$$css:!0}},d={dialog:"comet-two-button-dialog",primary:"comet-two-button-dialog-primary",secondary:"comet-two-button-dialog-secondary"};function m(e){var t=o("react-compiler-runtime").c(37),n=e.disabled,a=e.onClose,i=e.testids,l=e.body,m=e.primary,p=e.secondary,_=e.title,f=n===void 0?!1:n,g=i===void 0?d:i,h;t[0]!==m?(h=m!=null?m:s._(/*BTDS*/"Confirm"),t[0]=m,t[1]=h):h=t[1];var y;t[2]!==a?(y=function(){return a("PRIMARY")},t[2]=a,t[3]=y):y=t[3];var C;t[4]!==f||t[5]!==h||t[6]!==y||t[7]!==g.primary?(C={disabled:f,label:h,onPress:y,testid:g.primary},t[4]=f,t[5]=h,t[6]=y,t[7]=g.primary,t[8]=C):C=t[8];var b;t[9]!==p?(b=p!=null?p:s._(/*BTDS*/"Cancel"),t[9]=p,t[10]=b):b=t[10];var v;t[11]!==a?(v=function(){return a("SECONDARY")},t[11]=a,t[12]=v):v=t[12];var S;t[13]!==f||t[14]!==b||t[15]!==v||t[16]!==g.secondary?(S={disabled:f,label:b,onPress:v,testid:g.secondary},t[13]=f,t[14]=b,t[15]=v,t[16]=g.secondary,t[17]=S):S=t[17];var R;t[18]!==C||t[19]!==S?(R=u.jsx(r("FDSDialogConfirmationFooter.react"),{primary:C,secondary:S}),t[18]=C,t[19]=S,t[20]=R):R=t[20];var L;t[21]!==a?(L=function(){return a("EXIT")},t[21]=a,t[22]=L):L=t[22];var E;t[23]!==L||t[24]!==_?(E=u.jsx(r("FDSDialogHeader.react"),{onClose:L,text:_,withCloseButton:!0}),t[23]=L,t[24]=_,t[25]=E):E=t[25];var k;t[26]!==a?(k=function(){return a("EXIT")},t[26]=a,t[27]=k):k=t[27];var I;t[28]!==l?(I=u.jsx(o("react-strict-dom").html.div,{style:c.content,children:u.jsx(r("FDSText.react"),{type:"body3",children:l})}),t[28]=l,t[29]=I):I=t[29];var T;return t[30]!==E||t[31]!==k||t[32]!==I||t[33]!==R||t[34]!==g.dialog||t[35]!==_?(T=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:163,children:u.jsx(r("FDSDialog.react"),{"aria-label":_,footer:R,header:E,onClose:k,testid:void 0,children:I})}),t[30]=E,t[31]=k,t[32]=I,t[33]=R,t[34]=g.dialog,t[35]=_,t[36]=T):T=t[36],T}l.default=m}),226);
__d("FDSConfirmationDialogImpl.react",["FDSTwoButtonDialog.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.body,a=e.cancel,i=e.confirm,l=e.disabled,u=e.onClose,c=e.title,d=l===void 0?!1:l,m;t[0]!==u?(m=function(t){return u(t==="PRIMARY")},t[0]=u,t[1]=m):m=t[1];var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p={dialog:"FDSConfirmationDialogImpl",primary:"CometConfirmationDialogConfirmButton",secondary:"CometConfirmationDialogCancelButton"},t[2]=p):p=t[2];var _;return t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==d||t[7]!==m||t[8]!==c?(_=s.jsx(r("FDSTwoButtonDialog.react"),{body:n,disabled:d,onClose:m,primary:i,secondary:a,testids:p,title:c}),t[3]=n,t[4]=a,t[5]=i,t[6]=d,t[7]=m,t[8]=c,t[9]=_):_=t[9],_}l.default=u}),98);
__d("GroupPollEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({START_NEW_POLL:"start_new_poll",SUBMIT_NEW_POLL:"submit_new_poll",NEW_POLL_SUBMIT_ERROR:"new_poll_submit_error",NEW_POLL_SUBMIT_SUCCESS:"new_poll_submit_success",OPEN_EXISTING_POLL:"open_existing_poll",CHANGE_VOTE:"change_vote",SHOW_VOTERS:"show_voters",SUBMIT_EXISTING_POLL:"submit_existing_poll",EXISTING_POLL_SUBMIT_ERROR:"existing_poll_submit_error",EXISTING_POLL_SUBMIT_SUCCESS:"existing_poll_submit_success"}),l=e;i.default=l}),66);
__d("LSDeleteMessageStoredProcedure",["LSDeleteMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSDeleteMessage"),a.threadKey,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticSetOrUnsetPinnedMessage",["LSIssueNewTask","LSShimThreadPinMessage.nop","LSShimThreadUnpinMessage.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.i64.neq(e[1],void 0)?t.i64.eq(e[3],t.i64.cast([0,1]))||t.i64.eq(e[3],t.i64.cast([0,2]))?t.sequence([function(r){return t.nativeOperation(n("LSShimThreadPinMessage.nop"),e[0],e[2],e[1])},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[0]=r[5])})},function(o){return r[2]=new t.Map,r[2].set("armadillo_thread_key",e[1]),r[2].set("offline_threading_id",e[0]),r[2].set("timestamp_ms",e[2]),r[2].set("sync_group",r[0]),r[3]=r[2].get("timestamp_ms"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),["e2ee_pin_msg","_",t.i64.to_string(r[3])].join(""),t.i64.cast([0,1010]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.sequence([function(r){return t.nativeOperation(n("LSShimThreadUnpinMessage.nop"),e[0],e[1])},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[0]=r[5])})},function(o){return r[2]=new t.Map,r[2].set("armadillo_thread_key",e[1]),r[2].set("offline_threading_id",e[0]),r[2].set("timestamp_ms",e[2]),r[2].set("sync_group",r[0]),r[3]=r[2].get("timestamp_ms"),r[4]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),["e2ee_unpin_msg","_",t.i64.to_string(r[3])].join(""),t.i64.cast([0,1011]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}]):t.resolve()},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxOptimisticSetOrUnsetPinnedMessageStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure",["LSOptimisticSetOrUnsetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticSetOrUnsetPinnedMessage"),a.offlineThreadingId,a.threadKey,a.timestampMs,a.state);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSOptimisticSetPinnedMessage",["LSIssueNewTaskWithExtraOperations","LSSetPinnedMessage"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.i64.eq(e[3],t.i64.cast([0,2]))?t.storedProcedure(n("LSSetPinnedMessage"),e[0],e[1],e[2],t.i64.cast([0,1])):t.storedProcedure(n("LSSetPinnedMessage"),e[0],e[1],e[2],e[3])},function(o){return t.i64.eq(e[3],t.i64.cast([0,2]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[0].set("pinned_location",t.i64.cast([0,1])),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,430]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.i64.eq(e[3],t.i64.cast([0,1]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[0].set("should_replace_oldest_pin",e[4]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["pin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,430]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.i64.eq(e[3],t.i64.cast([0,0]))?(r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("message_id",e[1]),r[0].set("timestamp_ms",e[2]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["unpin_msg_v2","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,431]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))):t.resolve(0)}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticSetPinnedMessageStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSOptimisticSetPinnedMessageStoredProcedure",["LSOptimisticSetPinnedMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticSetPinnedMessage"),a.threadKey,a.messageId,a.pinnedTimestampMs,a.state,a.shouldReplaceOldestPin);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPinnedMessageState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_PINNED:0,PINNED:1,PINNED_AND_FEATURED:2});i.default=e}),66);
__d("Ls1lcFeatureOpenFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("153"),s=o("FalcoLoggerInternal").create("ls_1lc_feature_open",e),u=s;l.default=u}),98);
__d("MAWEditMenuItem.react",["fbt","MWXMenuItem.react","react","react-compiler-runtime","useTriggerEditAction"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.disableReason,a=e.message,i=e.onEditClickCallback,l=e.threadType,c=i===void 0?null:i,d=r("useTriggerEditAction")(a,l),m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Edit"),t[0]=m):m=t[0];var p=m,_=n!==void 0,f;t[1]!==c||t[2]!==d?(f=function(){d(),c&&c()},t[1]=c,t[2]=d,t[3]=f):f=t[3];var g;return t[4]!==n||t[5]!==_||t[6]!==f?(g=u.jsx(r("MWXMenuItem.react"),{"aria-label":p,disabled:_,onClick:f,primaryText:p,secondaryText:n,testid:void 0}),t[4]=n,t[5]=_,t[6]=f,t[7]=g):g=t[7],g}l.default=c}),226);
__d("MLCHealthLoggerEvent",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({COMMIT_CREATE:"commit_create",COMMIT_EDIT:"commit_edit",DAILY_INTERACTION_WITH_SURFACE:"daily_interaction_with_surface"}),l=e;i.default=l}),66);
__d("MlcHealthBizappEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2646"),s=o("FalcoLoggerInternal").create("mlc_health_bizapp_event",e),u=s;l.default=u}),98);
__d("MlcHealthFacebookAndWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2647"),s=o("FalcoLoggerInternal").create("mlc_health_facebook_and_workplace_event",e),u=s;l.default=u}),98);
__d("MlcHealthFacebookEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2648"),s=o("FalcoLoggerInternal").create("mlc_health_facebook_event",e),u=s;l.default=u}),98);
__d("MlcHealthInstagramEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3766"),s=o("FalcoLoggerInternal").create("mlc_health_instagram_event",e),u=s;l.default=u}),98);
__d("MlcHealthInternalToolsEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2649"),s=o("FalcoLoggerInternal").create("mlc_health_internal_tools_event",e),u=s;l.default=u}),98);
__d("MlcHealthMessagingLightswitchEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2650"),s=o("FalcoLoggerInternal").create("mlc_health_messaging_lightswitch_event",e),u=s;l.default=u}),98);
__d("MlcHealthWorkplaceEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2651"),s=o("FalcoLoggerInternal").create("mlc_health_workplace_event",e),u=s;l.default=u}),98);
__d("MLCHealthInstrumentationPlugin__INTERNAL.react",["Lexical","LexicalComposerContext","LexicalUtils","MLCInstrumentationCommands","MlcHealthBizappEventFalcoEvent","MlcHealthFacebookAndWorkplaceEventFalcoEvent","MlcHealthFacebookEventFalcoEvent","MlcHealthInstagramEventFalcoEvent","MlcHealthInternalToolsEventFalcoEvent","MlcHealthMessagingLightswitchEventFalcoEvent","MlcHealthWorkplaceEventFalcoEvent","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect,u=new Set;function c(e){switch(e){case"facebook":return r("MlcHealthFacebookEventFalcoEvent");case"workplace":return r("MlcHealthWorkplaceEventFalcoEvent");case"facebook_and_workplace":return r("MlcHealthFacebookAndWorkplaceEventFalcoEvent");case"internal_tools":return r("MlcHealthInternalToolsEventFalcoEvent");case"messaging_lightswitch":return r("MlcHealthMessagingLightswitchEventFalcoEvent");case"bizapp":return r("MlcHealthBizappEventFalcoEvent");case"instagram":return r("MlcHealthInstagramEventFalcoEvent");default:return null}}function d(e,t,n){var r;(r=c(e))==null||r.log(function(){return{event:n,surface:t}})}function m(e){var t=e.policyProduct,n=e.surface,r=o("LexicalComposerContext").useLexicalComposerContext(),a=r[0];return s(function(){var e=function(){};return u.has(n)||(e=a.registerUpdateListener(function(r){var o=r.dirtyLeaves,i=r.tags;if(u.has(n)){e();return}o.size===0||i.has("history-merge")||!a.isEditable()||(u.add(n),d(t,n,"daily_interaction_with_surface"),e())})),o("LexicalUtils").mergeRegister(e,a.registerCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,function(e){return e==="create"?d(t,n,"commit_create"):d(t,n,"commit_edit"),!1},o("Lexical").COMMAND_PRIORITY_CRITICAL))},[a,t,n]),null}l.default=m}),98);
__d("MLCInteractionInstrumentationPlugin__INTERNAL.react",["cr:3286","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return n("cr:3286")&&s.jsx(n("cr:3286"),babelHelpers.extends({},e))}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MLCTextLengthBucket",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["S","M","L","XL"]);function l(t){return t<=500?e.S:t<=1e3?e.M:t<=2500?e.L:e.XL}i.TextLengthBucketEnum=e,i.getTextLengthBucket=l}),66);
__d("mlcInternBootstrapTypingPerformance__INTERNAL",["OneTraceQPLLogger","one-trace","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(e){switch(e.traceType){case"TYPING":return r("qpl")._(406397789,"516")}return null}function u(){e||(e=!0,r("one-trace").subscribe("trace-start",function(e){o("OneTraceQPLLogger").initQPL(s(e),e)}),r("one-trace").subscribe("trace-end",function(e){o("OneTraceQPLLogger").logQPL(s(e),e)}))}l.default=u}),98);
__d("MLCTypingPerformancePlugin__INTERNAL.react",["LexicalComposerContext","LexicalText","MLCTextLengthBucket","mlcInternBootstrapTypingPerformance__INTERNAL","one-trace","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useLayoutEffect,c=new RegExp("[^,;\\s]{200,}"),d=new RegExp("[^,;\\s]{100,199}"),m=new RegExp("[^,;\\s]{50,99}");function p(e){return e===""?0:c.test(e)?200:d.test(e)?100:m.test(e)?50:0}function _(e){return r("mlcInternBootstrapTypingPerformance__INTERNAL")(),s.jsx(f,babelHelpers.extends({},e))}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=e.format__DEPRECATED,n=e.surface,a=e.typingPerformanceID,i=a===void 0?"":a,l=o("LexicalComposerContext").useLexicalComposerContext(),s=l[0];return u(function(){var e=babelHelpers.extends({largeWord:p(s.getEditorState().read(o("LexicalText").$rootTextContent)),textLengthBucket:o("MLCTextLengthBucket").getTextLengthBucket(s.getEditorState().read(o("LexicalText").$rootTextContent).length)},n==="FeedComposerCometStatusArea"?{autolinkFastPath:String(!0)}:null),a;l();function l(){a==null||a();var o=null,l=s.registerRootListener(function(a){a!==o&&(o!==null&&r("one-trace").unregisterTypingPerf(o),a!==null&&r("one-trace").trackTypingPerf(a,n,o,babelHelpers.extends({},e,{editor:"LexicalEditor",format:t!=null?t:"",typingPerformanceID:i})),o=a)});a=function(){l(),o!==null&&r("one-trace").unregisterTypingPerf(o)}}var u=s.registerTextContentListener(function(t){var n=p(t);n!==e.largeWord&&(e.largeWord=n,l())}),c=s.registerTextContentListener(function(t){var n=o("MLCTextLengthBucket").getTextLengthBucket(t.length);n!==e.textLengthBucket&&(e.textLengthBucket=n,l())});return function(){a==null||a(),u==null||u(),c==null||c()}},[i,s,t,n]),null}f.displayName=f.name+" [from "+i.id+"]",l.default=_}),98);
__d("MLCInstrumentationPlugin__INTERNAL.react",["MLCHealthInstrumentationPlugin__INTERNAL.react","MLCInteractionInstrumentationPlugin__INTERNAL.react","MLCTypingPerformancePlugin__INTERNAL.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="facebook",c=u;function d(e){return s.jsxs(s.Fragment,{children:[s.jsx(r("MLCTypingPerformancePlugin__INTERNAL.react"),babelHelpers.extends({},e)),s.jsx(r("MLCHealthInstrumentationPlugin__INTERNAL.react"),babelHelpers.extends({},e)),s.jsx(r("MLCInteractionInstrumentationPlugin__INTERNAL.react"),babelHelpers.extends({},e))]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWCMCreateSubthreadMenuItem.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWXMenuItem.react","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadMenuItem.react");function d(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=r("useMWCMCreateSubthread")(n),i=a[0],l=a[1],d=r("useOpenSubthreadView")(),m=n.subthreadKey,p,_;t[0]!==n.messageId||t[1]!==n.threadKey||t[2]!==i||t[3]!==d||t[4]!==m?(p=function(){c.onReady(function(e){return e.log(function(){var e={};return{action:{container_module:"MWCMCreateSubthreadMenuItem",type:m!=null?105:104},error:{message:void 0},extra:e,message:{attachment_type:"",entry_point:o("LsFalcoEventEntryPoint").messageActions,id:n.messageId,recipient_id:void 0},thread:{group_size:(s||(s=o("I64"))).to_string(s.zero),id:s.to_string(n.threadKey),type:18}}})}),m!=null?d(m):i()},_=[n.messageId,n.threadKey,i,d,m],t[0]=n.messageId,t[1]=n.threadKey,t[2]=i,t[3]=d,t[4]=m,t[5]=p,t[6]=_):(p=t[5],_=t[6]);var f=o("Int64Hooks").useCallbackInt64(p,_),g=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,h=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,y;return t[7]!==l||t[8]!==f||t[9]!==g||t[10]!==h?(y=u.jsx(r("MWXMenuItem.react"),{"aria-label":g,disabled:l,onClick:f,primaryText:h}),t[7]=l,t[8]=f,t[9]=g,t[10]=h,t[11]=y):y=t[11],y}l.default=d}),98);
__d("MWChatAudioLog",["AudioClipsBrowserBlockMicAccessFalcoEvent","AudioClipsCancelledByUserFalcoEvent","AudioClipsDialogNotnowMicAccessFalcoEvent","AudioClipsDialogOkMicAccessFalcoEvent","AudioClipsMicAccessCheckFailedFalcoEvent","AudioClipsPlaybackPauseFalcoEvent","AudioClipsPlaybackResumeFalcoEvent","AudioClipsPlaybackStartFalcoEvent","AudioClipsStartRecordingClickFalcoEvent","AudioClipsStopRecordingClickFalcoEvent","I64","Ls1lcFeatureOpenFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){r("AudioClipsStopRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:"true",position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function u(){r("AudioClipsStartRecordingClickFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}}),r("Ls1lcFeatureOpenFalcoEvent").log(function(){return{extra:void 0,feature:13,feature_sessionid:void 0,screen_orientation:void 0,stage:7,thread:void 0}})}function c(){r("AudioClipsCancelledByUserFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function d(){r("AudioClipsBrowserBlockMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function m(t){r("AudioClipsPlaybackStartFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function p(t,n){r("AudioClipsPlaybackPauseFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function _(t,n){r("AudioClipsPlaybackResumeFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:(e||(e=o("I64"))).to_string(e.of_float(t)),entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:e.to_string(e.of_float(n)),rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function f(){r("AudioClipsDialogOkMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function g(){r("AudioClipsDialogNotnowMicAccessFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}function h(){r("AudioClipsMicAccessCheckFailedFalcoEvent").log(function(){return{attachment_id:void 0,connection_quality:void 0,duration:void 0,entry_point:void 0,error_code:void 0,has_access_token:void 0,is_prefetch:void 0,position:void 0,rtc_call_type:void 0,source_click_category:2,with_captions:void 0}})}l.logClickStopRecording=s,l.logClickStartRecording=u,l.logDeleteRecording=c,l.logBrowserDenyAccess=d,l.logPlaybackStart=m,l.logPlaybackPause=p,l.logPlaybackResume=_,l.logDialogOk=f,l.logDialogNotNow=g,l.logMicAccessCheckFailed=h}),98);
__d("useMWChatPromptSuggestions",["fbt","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useMemo,c=[s._(/*BTDS*/"How did you learn about this channel?"),s._(/*BTDS*/"What should I use this channel for?"),s._(/*BTDS*/"What song are you listening to?"),s._(/*BTDS*/"Make me laugh \ud83d\udc80"),s._(/*BTDS*/"Favorite thing right now \ud83d\udc98"),s._(/*BTDS*/"Favorite travel destination \u2708\ufe0f"),s._(/*BTDS*/"Your happy place \u2763\ufe0f"),s._(/*BTDS*/"Something you're proud of \ud83d\udc9f"),s._(/*BTDS*/"Ten years ago, I was..."),s._(/*BTDS*/"What are you grateful for today? \ud83e\udef6"),s._(/*BTDS*/"What would your dream job be if money didn't matter?"),s._(/*BTDS*/"What's inspiring you right now? \ud83c\udf1f"),s._(/*BTDS*/"What's something unique about yourself?"),s._(/*BTDS*/"A movie you enjoyed recently \ud83c\udfa5"),s._(/*BTDS*/"Health is wealth \ud83d\udcaa\ud83e\udd57"),s._(/*BTDS*/"The last concert you went to \ud83d\udc69\u200d\ud83c\udfa4"),s._(/*BTDS*/"Today I learned..."),s._(/*BTDS*/"What are you doing tonight?")];function d(e){for(var t=e.slice(),n=t.length-1;n>=0;n--){var r=Math.floor(Math.random()*(n+1)),o=t[n];t[n]=t[r],t[r]=o}return t}function m(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=d(c),e[0]=t):t=e[0],t}l.default=m}),226);
__d("MWChatPromptFlyoutSuggestions.react",["FocusGroup.react","MWXPressable.react","MWXScrollableArea.react","MWXText.react","focusScopeQueries","react","react-compiler-runtime","useMWChatPromptSuggestions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=8,c={pressable:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",marginTop:"xw7yly9",marginBottom:"x1yztbdb",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,$$css:!0},scrollArea:{maxWidth:"x193iq5w",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.onPress,a=e.text,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 xx7qk4p x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 xwflfxt x78zum5 x2lah0s x1vqgdyp xl56j7k x1kbpmyu x1y1aw1k xf159sx xwib8y2 xmzvs34 x2b8uid"},t[0]=i):i=t[0];var l;t[1]!==a?(l=s.jsx("div",babelHelpers.extends({},i,{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:a})})),t[1]=a,t[2]=l):l=t[2];var u;return t[3]!==n||t[4]!==l?(u=s.jsx(r("MWXPressable.react"),{onPress:n,overlayRadius:"inherit",xstyle:c.pressable,children:l}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}var m=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),p=m[0],_=m[1];function f(e){var t=o("react-compiler-runtime").c(11),n=e.onPressSuggestion,a=r("useMWChatPromptSuggestions")(),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx("div",{className:"x2lah0s x1xc55vz"}),t[0]=i):i=t[0];var l;if(t[1]!==n||t[2]!==a){var u;t[4]!==n?(u=function(t,r){return s.jsx(_,{children:s.jsx(d,{onPress:function(){return n(t,r)},text:t})},r)},t[4]=n,t[5]=u):u=t[5],l=a.map(u),t[1]=n,t[2]=a,t[3]=l}else l=t[3];var m;t[6]!==l?(m=s.jsx(p,{orientation:"horizontal",tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:l}),t[6]=l,t[7]=m):m=t[7];var f;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=s.jsx("div",{className:"x2lah0s x1xc55vz"}),t[8]=f):f=t[8];var g;return t[9]!==m?(g=s.jsxs(r("MWXScrollableArea.react"),{horizontal:!0,vertical:!1,xstyle:c.scrollArea,children:[i,m,f]}),t[9]=m,t[10]=g):g=t[10],g}l.default=f}),98);
__d("MWChatPromptDialog.react",["fbt","FBLogger","FocusRegion.react","I64","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutSuggestions.react","MWPromptCreationUtils","MWXDialog.react","MWXDialogFooter.react","MWXDialogHeader.react","MWXText.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollCallPromptType","react","react-compiler-runtime","useMWXPushToast","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=e||(e=r("react")),_=m.useCallback,f=m.useState;function g(e){var t=o("react-compiler-runtime").c(47),n=e.onClose,a=e.threadKey,i=(c||(c=r("useReStore")))(),l=r("useMWXPushToast")(),d=f(""),m=d[0],_=d[1],g=f(!1),y=g[0],C=g[1],b;t[0]!==n||t[1]!==a?(b=function(){n(),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:303,source:156,surface:7,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[0]=n,t[1]=a,t[2]=b):b=t[2];var v=b,S;t[3]!==i||t[4]!==v||t[5]!==m||t[6]!==l||t[7]!==a?(S=function(){(async function(){C(!0),await o("MWPromptCreationUtils").createAuthoritiativeRollCall(i,a,m,r("RollCallPromptType").TEXT),v()})().catch(function(e){C(!1),r("FBLogger")("messenger_web").catching(e).mustfix("Creating prompt"),l({body:s._(/*BTDS*/"Could not create prompt")})}),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:304,source:17,surface:101,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[3]=i,t[4]=v,t[5]=m,t[6]=l,t[7]=a,t[8]=S):S=t[8];var R=S,L;t[9]!==a?(L=function(t,n){_(t.toString()),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:366,extra:{suggestion_position:n.toString(),suggestion_text:t.toString()},source:173,surface:101,thread_id:(u||(u=o("I64"))).to_string(a)}})},t[9]=a,t[10]=L):L=t[10];var E=L,k=h,I;t[11]!==a?(I={onImpressionStart:function(){r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:2,event_name:301,source:156,surface:7,thread_id:(u||(u=o("I64"))).to_string(a)}})}},t[11]=a,t[12]=I):I=t[12];var T=r("useSinglePartialViewImpression")(I),D;t[13]!==y||t[14]!==m?(D=y||m.trim()==="",t[13]=y,t[14]=m,t[15]=D):D=t[15];var x;t[16]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Send"),t[16]=x):x=t[16];var $;t[17]!==R||t[18]!==D?($={disabled:D,label:x,onPress:R},t[17]=R,t[18]=D,t[19]=$):$=t[19];var P;t[20]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"Cancel"),t[20]=P):P=t[20];var N;t[21]!==v?(N={label:P,onPress:v},t[21]=v,t[22]=N):N=t[22];var M;t[23]!==$||t[24]!==N?(M=p.jsx(r("MWXDialogFooter.react"),{callToActionGroupDirection:"backward",primaryCallToAction:$,secondaryCallToAction:N}),t[23]=$,t[24]=N,t[25]=M):M=t[25];var w;t[26]===Symbol.for("react.memo_cache_sentinel")?(w=s._(/*BTDS*/"New prompt"),t[26]=w):w=t[26];var A;t[27]!==v?(A=p.jsx(r("MWXDialogHeader.react"),{onClose:v,title:w,withCloseButton:!0}),t[27]=v,t[28]=A):A=t[28];var F;t[29]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf"},t[29]=F):F=t[29];var O;t[30]===Symbol.for("react.memo_cache_sentinel")?(O={className:"x1y1aw1k x1n2onr6"},t[30]=O):O=t[30];var B;t[31]===Symbol.for("react.memo_cache_sentinel")?(B=function(t){_(t.target.value)},t[31]=B):B=t[31];var W;t[32]!==m?(W=p.jsx("div",babelHelpers.extends({},O,{children:p.jsx(r("MWChatPromptFlyoutFrontCard.react"),{maxLength:75,onChange:B,showFacepile:!1,value:m})})),t[32]=m,t[33]=W):W=t[33];var q;t[34]!==E?(q=p.jsx(r("MWChatPromptFlyoutSuggestions.react"),{onPressSuggestion:E}),t[34]=E,t[35]=q):q=t[35];var U;t[36]===Symbol.for("react.memo_cache_sentinel")?(U={className:"xyamay9 x2b8uid"},t[36]=U):U=t[36];var V;t[37]===Symbol.for("react.memo_cache_sentinel")?(V=p.jsx("div",babelHelpers.extends({},U,{children:p.jsx(r("MWXText.react"),{type:"meta4",children:s._(/*BTDS*/"Members can respond with text for 24 hours.")})})),t[37]=V):V=t[37];var H;t[38]!==T||t[39]!==W||t[40]!==q?(H=p.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:k,children:p.jsxs("div",babelHelpers.extends({},F,{ref:T,children:[W,q,V]}))}),t[38]=T,t[39]=W,t[40]=q,t[41]=H):H=t[41];var G;return t[42]!==v||t[43]!==M||t[44]!==A||t[45]!==H?(G=p.jsx(r("MWXDialog.react"),{footer:M,header:A,onClose:v,size:"small",children:H}),t[42]=v,t[43]=M,t[44]=A,t[45]=H,t[46]=G):G=t[46],G}function h(e){return e==="textarea"}l.default=g}),226);
__d("NewPollSubmitErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5500"),s=o("FalcoLoggerInternal").create("new_poll_submit_error",e),u=s;l.default=u}),98);
__d("NewPollSubmitSuccessFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5501"),s=o("FalcoLoggerInternal").create("new_poll_submit_success",e),u=s;l.default=u}),98);
__d("OpenExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5502"),s=o("FalcoLoggerInternal").create("open_existing_poll",e),u=s;l.default=u}),98);
__d("ShowVotersFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5503"),s=o("FalcoLoggerInternal").create("show_voters",e),u=s;l.default=u}),98);
__d("StartNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5504"),s=o("FalcoLoggerInternal").create("start_new_poll",e),u=s;l.default=u}),98);
__d("SubmitExistingPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5505"),s=o("FalcoLoggerInternal").create("submit_existing_poll",e),u=s;l.default=u}),98);
__d("SubmitNewPollFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5506"),s=o("FalcoLoggerInternal").create("submit_new_poll",e),u=s;l.default=u}),98);
__d("MWGroupPollLogger",["ChangeVoteFalcoEvent","ExistingPollSubmitErrorFalcoEvent","ExistingPollSubmitSuccessFalcoEvent","NewPollSubmitErrorFalcoEvent","NewPollSubmitSuccessFalcoEvent","OpenExistingPollFalcoEvent","ShowVotersFalcoEvent","StartNewPollFalcoEvent","SubmitExistingPollFalcoEvent","SubmitNewPollFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){switch(e){case"start_new_poll":r("StartNewPollFalcoEvent").log(function(){return t});break;case"submit_new_poll":r("SubmitNewPollFalcoEvent").log(function(){return t});break;case"open_existing_poll":r("OpenExistingPollFalcoEvent").log(function(){return t});break;case"submit_existing_poll":r("SubmitExistingPollFalcoEvent").log(function(){return t});break;case"change_vote":r("ChangeVoteFalcoEvent").log(function(){return t});break;case"show_voters":r("ShowVotersFalcoEvent").log(function(){return t});break;case"existing_poll_submit_error":r("ExistingPollSubmitErrorFalcoEvent").log(function(){return t});break;case"existing_poll_submit_success":r("ExistingPollSubmitSuccessFalcoEvent").log(function(){return t});break;case"new_poll_submit_error":r("NewPollSubmitErrorFalcoEvent").log(function(){return t});break;case"new_poll_submit_success":r("NewPollSubmitSuccessFalcoEvent").log(function(){return t});break}}l.log=e}),98);
__d("MWOpenMediaManagerUtils",["fbt","I64","LSFactory","LSGenerateTraceId","LSIntEnum","LSMarkSubJobCompletedV2StoredProcedure","MWChatInteraction","MWConsole","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","cr:6057","emptyFunction","err","promiseDone","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(e){return n("cr:6057").preload(),Promise.all(e.map(function(e){var t=e[0],n=e[1];if(t.type==="application/zip")return Promise.reject("invalid file type");var r={file:t,offlineAttachmentId:n};return Promise.resolve(r)}))}function d(t,n,a,l,u,c,d,p,_,f,g){u===void 0&&(u=r("emptyFunction")),c===void 0&&(c=r("emptyFunction")),d===void 0&&(d=r("emptyFunction"));var h=function(n,a){var e=a.event;if(e.lengthComputable){var l=e.loaded/e.total;r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").updateMediaStaging(e,n,function(e){return babelHelpers.extends({},e,{progress:l})})},"readwrite",void 0,void 0,i.id+":88"))}},y=function(p,_){if(_==null||_.length===0){var u="";r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").deleteMediaStaging(e,p).then(function(){return m(e,p)}).then(function(){var e=a.find(function(e){return e.offlineAttachmentId===p});e!=null&&e.file.type==="application/zip"?(l(s._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]"),s._(/*BTDS*/"The file you have selected is not a valid format.")),u="null_fbid_invalid_file_format"):(l(s._(/*BTDS*/"Upload failed")),u="null_fbid_other")})},"readwrite",void 0,void 0,i.id+":106"),function(){return d(u,p)});return}r("promiseDone")(t.runInTransaction(function(t){var a=o("MWPOpenComposerUtils").updateMediaStaging(t,p,function(t){return babelHelpers.extends({},t,{fbid:(e||(e=o("I64"))).of_string(_),progress:1})}),i=t.media_send_jobs.get(p).then(function(a){if(a==null)return Promise.resolve();var i=r("LSFactory")(t),l=a.offlineThreadingId,s=a.offlineAttachmentId;return r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(_),offlineAttachmentId:p}).then(function(){return o("MWPOpenComposerUtils").deleteMediaStaging(t,p)}).then(function(){return o("MWPOpenComposerUtils").updateAttachment(t,n,l,s,function(e){return babelHelpers.extends({},e,{attachmentFbid:_.toString()})})}).then(function(){return o("MWPOpenComposerUtils").resumeSendJob(i,l,r("LSGenerateTraceId")())})});return Promise.all([a,i])},"readwrite",void 0,void 0,i.id+":145"),function(){return c(p)})},C=function(n,a){r("promiseDone")(t.runInTransaction(function(e){return o("MWPOpenComposerUtils").updateMediaStaging(e,n,function(e){return babelHelpers.extends({},e,{hasError:!0})}).then(function(){return m(e,n,a)})},"readwrite",void 0,void 0,i.id+":198"),function(){var e;d((e=a.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",n)})},b=a.map(function(e){return e.offlineAttachmentId}),v=a.map(function(e){return e.file});return o("MWPComposerMediaUploadUtil").startUpload(u,h,y,C,void 0,v,b,p,_,void 0,f,g)}async function m(e,t,n){var a=await e.media_send_jobs.get(t);if(a!=null){var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages.index("optimistic")).getKeyRange(a.offlineThreadingId));if(i!=null){var l=babelHelpers.extends({},i,{sendStatusV2:(u||(u=o("LSIntEnum"))).ofNumber(4)}),s=p(a.offlineThreadingId);if(s!=null){var c,d,m,_="failed_upload_media_to_backend";n!=null&&(c=n.response)!=null&&(c=c.payload)!=null&&(c=c.responseText)!=null&&c.includes("InvariantViolationException")&&n!=null&&(d=n.response)!=null&&(d=d.payload)!=null&&(d=d.responseText)!=null&&d.includes("Null handle provided to EverstoreApi")&&(_="video_thumbail_missing"),o("sendToSentQPLLogger").markSendToSentFail(s,"failed_upload_media_to_backend",r("err")(_+": "+((m=n==null?void 0:n.response.error)!=null?m:"unknown error code")))}await e.messages.put(l)}}}function p(e){var t=o("MWChatInteraction").get(o("MWChatInteraction").s2sKey(e));return t==null?null:Number(t)}l.preprocess=c,l.upload=d}),226);
__d("MWPReplyLogging",["I64","QPLUserFlow","deepEquals","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map;function u(t){var n=Date.now()|0;return s.set((e||(e=o("I64"))).to_string(t),n),n}function c(t){var n=s.get((e||(e=o("I64"))).to_string(t));return n==null?u(t):n}function d(t,n,a){if(a){t?r("QPLUserFlow").endCancel(r("qpl")._(25298086,"3996"),{instanceKey:c(n)}):r("QPLUserFlow").endSuccess(r("qpl")._(25298086,"3996"),{instanceKey:c(n)}),s.delete((e||(e=o("I64"))).to_string(n));return}}function m(e,t,n){if(e!=null){if(r("deepEquals")(e,t)){r("QPLUserFlow").addPoint(r("qpl")._(25298086,"3996"),"same_message",{instanceKey:c(n)});return}if(!r("deepEquals")(e,t)){var o=c(n);r("QPLUserFlow").addPoint(r("qpl")._(25298086,"3996"),"switch_message",{instanceKey:o}),r("QPLUserFlow").endCancel(r("qpl")._(25298086,"3996"),{instanceKey:o}),r("QPLUserFlow").start(r("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:u(n),timeoutInMs:6e4});return}}r("QPLUserFlow").start(r("qpl")._(25298086,"3996"),{cancelOnUnload:!0,instanceKey:u(n),timeoutInMs:6e4})}var p={logClearReply:d,logSetReply:m};l.default=p}),98);
__d("MWPinnedMessagesDialogNUXFactoryRequireNUX.react",["nux:345"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){var e;return(e=n("nux:345"))==null?void 0:e("WEB_MSGR_PINNED_MESSAGES_NUX")},s=e;l.default=s}),98);
__d("MlsMessageActionsSource",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({MESSAGE_DOT_MENU:"message_dot_menu",MESSAGE_DOUBLE_CLICK:"message_double_click",REACTION_TRAY:"reaction_tray",MESSAGE_TRAY:"message_tray",COMPOSER:"composer",MESSAGE_REACTIONS_DETAILS_TRAY:"message_reactions_details_tray",MEDIA_STAGING_TRAY:"media_staging_tray",DIRECT_CLICK:"direct_click",INSTANT_REACT:"instant_react",PINNED_MESSAGE_LIST_DOT_MENU:"pinned_message_list_dot_menu",FULL_SCREEN_MEDIA_VIEWER:"full_screen_media_viewer"}),l=e;i.default=l}),66);
__d("useMAWToggleSecurePinMessage",["I64","LSFactory","LSOptimisticSetOrUnsetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","react","useAsyncReStore","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e,t){var n=r("useAsyncReStore")(),a=r("useMWPIsMessagePinned")(e),l=e.offlineThreadingId,c=e.threadKey,d=o("ServerTime").getMillis(),m=r("MessengerWebUXLogger").useInteractionLogger(),p=async function(){var e=await n,u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(c));await e.runInTransaction(function(e){var n=a?r("LSPinnedMessageState").NOT_PINNED:r("LSPinnedMessageState").PINNED,i=a?"unpin_message":"pin_message",p=a?"unpin":"pin";return t==="message_dot_menu"?m==null||m({eventName:i,threadKey:c,threadType:u==null?void 0:u.threadType}):p==="unpin"&&t==="pinned_message_list_dot_menu"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin"),r("LSOptimisticSetOrUnsetPinnedMessageStoredProcedure")(r("LSFactory")(e),{offlineThreadingId:l,state:(s||(s=o("I64"))).of_int32(n),threadKey:c,timestampMs:s.of_int32(d)})},"readwrite",void 0,void 0,i.id+":50")};return u(p,[n,a,c,d,l,t,m])}l.default=c}),98);
__d("useMWPinnedMessageLimitReached",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=50;function u(t){var n=o("react-compiler-runtime").c(12),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.msg_pinned_messages_v2||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.msg_pinned_messages_v2).getKeyRange(t)},n[0]=a.tables.msg_pinned_messages_v2,n[1]=t,n[2]=l):l=n[2];var u;n[3]!==a||n[4]!==t?(u=[a,t],n[3]=a,n[4]=t,n[5]=u):u=n[5];var c=o("ReQLSuspense").useArray(l,u,i.id+":27").length,d;n[6]!==a.tables.client_web_pinned_messages||n[7]!==t?(d=function(){return o("ReQL").fromTableAscending(a.tables.client_web_pinned_messages).getKeyRange(t)},n[6]=a.tables.client_web_pinned_messages,n[7]=t,n[8]=d):d=n[8];var m;n[9]!==a||n[10]!==t?(m=[a,t],n[9]=a,n[10]=t,n[11]=m):m=n[11];var p=o("ReQLSuspense").useArray(d,m,i.id+":35").length;return c>=s||p>=s}l.default=u}),98);
__d("useMWTogglePinMessage",["I64","LSFactory","LSOptimisticSetPinnedMessageStoredProcedure","LSPinnedMessageState","MWPActor.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ServerTime","promiseDone","react","requireDeferred","useAsyncReStore","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("MWLogMessageAction").__setRef("useMWTogglePinMessage");function d(e,t){var n=r("useAsyncReStore")(),a=r("useMWPIsMessagePinned")(e),l=e.messageId,d=e.senderId,m=e.threadKey,p=o("ServerTime").getMillis(),_=o("MWPActor.react").useActor(),f=r("MessengerWebUXLogger").useInteractionLogger(),g=async function(){var e=await n,u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(m));await e.runInTransaction(function(n){var i=a?r("LSPinnedMessageState").NOT_PINNED:r("LSPinnedMessageState").PINNED,g=a?"unpin_message":"pin_message",h=a?"unpin":"pin";return t==="message_dot_menu"?(c.onReady(function(n){return r("promiseDone")(n.log(e,l,m,t,h,void 0,void 0,void 0,d,void 0,_))}),f==null||f({eventName:g,threadKey:m,threadType:u==null?void 0:u.threadType})):h==="unpin"&&t==="pinned_message_list_dot_menu"&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","unpin"),r("LSOptimisticSetPinnedMessageStoredProcedure")(r("LSFactory")(n),{messageId:l,pinnedTimestampMs:(s||(s=o("I64"))).of_int32(p),state:s.of_int32(i),threadKey:m})},"readwrite",void 0,void 0,i.id+":57")};return u(g,[_,n,a,m,p,t,l,d,f])}l.default=d}),98);
__d("MWPinMessageMenuItem.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWLSThread","MWPinnedMessagesDialogNUXFactoryRequireNUX.react","MWXMenuItem.react","promiseDone","react","useMAWToggleSecurePinMessage","useMWPIsMessagePinned","useMWPinnedMessageLimitReached","useMWTogglePinMessage","useMWXLazyDialog","useSharedNUX"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWPinnedMessageLimitReachedDialog.react").__setRef("MWPinMessageMenuItem.react");function d(e){var t=e.message,n=e.onClick,a=e.onPinCompleted,i=s._(/*BTDS*/"Pin"),l=s._(/*BTDS*/"Unpin"),d=r("useMWPIsMessagePinned")(t),m=r("MWPinnedMessagesDialogNUXFactoryRequireNUX.react")(),p=r("useMWXLazyDialog")(c),_=p[0],f=o("MWLSThread").useThread(t.threadKey),g=f!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(f==null?void 0:f.threadType),h=r("useMWTogglePinMessage")(t,"message_dot_menu"),y=r("useMAWToggleSecurePinMessage")(t,"message_dot_menu"),C=g?y:h,b=r("useMWPinnedMessageLimitReached")(t.threadKey),v=r("useSharedNUX")("WEB_MSGR_PINNED_MESSAGES_NUX"),S=v[0],R=function(t){return m!=null?m({children:t,dialogProps:{onClose:function(){},pinMessageHandler:function(){return r("promiseDone")(C(),a)}}}):u.jsx(u.Fragment,{children:t(function(){return r("promiseDone")(C(),a)})})},L=function(o){return u.jsx(r("MWXMenuItem.react"),{"aria-haspopup":!d&&S?"dialog":void 0,onClick:function(a){if(b&&!d)return _({threadKey:t.threadKey},function(){});d?r("promiseDone")(C()):o(),n&&n(d)},primaryText:d?l:i})};return R(L)}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MWV2ChatHotlikeSoundsConfig",["bx"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=r("bx")).getURL(e("273031")),u=e.getURL(e("273032")),c=e.getURL(e("273039")),d=e.getURL(e("273040")),m=e.getURL(e("273033")),p=e.getURL(e("273034")),_=e.getURL(e("273035")),f=e.getURL(e("273036")),g=e.getURL(e("273037")),h=e.getURL(e("273038"));l.hotlikeGrowMp3Url=s,l.hotlikeGrowOggUrl=u,l.hotlikePopMp3Url=c,l.hotlikePopOggUrl=d,l.hotlikeOutgoingLargeMp3Url=m,l.hotlikeOutgoingLargeOggUrl=p,l.hotlikeOutgoingMediumMp3Url=_,l.hotlikeOutgoingMediumOggUrl=f,l.hotlikeOutgoingSmallMp3Url=g,l.hotlikeOutgoingSmallOggUrl=h}),98);
__d("MWV2ChatHotlikeSounds",["LSHotEmojiSize","MWChatSettingsQuery","MWV2ChatHotlikeSoundsConfig","Sound"],(function(t,n,r,o,a,i,l){"use strict";var e,s=[(e=o("MWV2ChatHotlikeSoundsConfig")).hotlikeGrowMp3Url,e.hotlikeGrowOggUrl],u=[e.hotlikePopMp3Url,e.hotlikePopOggUrl],c=[e.hotlikeOutgoingSmallMp3Url,e.hotlikeOutgoingSmallOggUrl],d=[e.hotlikeOutgoingMediumMp3Url,e.hotlikeOutgoingMediumOggUrl],m=[e.hotlikeOutgoingLargeMp3Url,e.hotlikeOutgoingLargeOggUrl],p=!1;function _(){p=!1,y(s)}function f(){p=!0,o("Sound").stop(s)}function g(){f(),y(u)}function h(e){f(),e===r("LSHotEmojiSize").SMALL?y(c):e===r("LSHotEmojiSize").MEDIUM?y(d):e===r("LSHotEmojiSize").LARGE&&y(m)}function y(e){o("MWChatSettingsQuery").areChatTabsSoundsOn(function(t){var n=e===s&&p;!n&&t!=null&&t===!0&&o("Sound").play(e,void 0,!1)})}l.start=_,l.pop=g,l.snap=h}),98);
__d("MWV2ForwardMenuItem.react",["fbt","I64","LSMessagingThreadTypeUtil","MWPActor.react","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","react","react-compiler-runtime","useMWV2MessageForwardAction","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useContext;function m(e){var t=o("react-compiler-runtime").c(12),n=e.message,a=e.threadType,i=r("MessengerWebUXLogger").useInteractionLogger(),l=d(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),m=l.setLoggingData,p=o("MWPActor.react").useActor(),_;t[0]!==a?(_=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),t[0]=a,t[1]=_):_=t[1];var f=_,g=r("useMWV2MessageForwardAction")(f,n,a),h;t[2]!==p||t[3]!==g||t[4]!==i||t[5]!==n||t[6]!==m||t[7]!==a?(h=function(){var e=n.threadKey,t=(u||(u=o("I64"))).equal(n.senderId,p),l={extraData:{actor_type:t?"sender":"receiver",component:"MWV2ForwardMenuItem"},flowInstanceId:r("uuidv4")(),threadKey:e,threadType:a};i==null||i(babelHelpers.extends({},l,{eventName:"open_forward_message_dialog"})),m(l),g()},t[2]=p,t[3]=g,t[4]=i,t[5]=n,t[6]=m,t[7]=a,t[8]=h):h=t[8];var y=h,C;t[9]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"Forward"),t[9]=C):C=t[9];var b=C,v;return t[10]!==y?(v=c.jsx(r("MWXMenuItem.react"),{"aria-label":b,onClick:y,primaryText:b,testid:void 0}),t[10]=y,t[11]=v):v=t[11],v}l.default=m}),226);
__d("MWV2GlobalReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","LSMessagingThreadTypeUtil","MWReportingUtils","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(15),n=e.icon,a=e.messageId,i=e.threadKey,l=e.threadType,c;t[0]!==l?(c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(l),t[0]=l,t[1]=c):c=t[1];var d=c,m=r("useMWLSMessageReportingToken")(a,i),p="report_long_press",_=o("MWReportingUtils").useGetNFXStoryLocationType(l),f;t[2]!==d||t[3]!==m?(f=d?window.btoa("message_thread:encrypted"):m,t[2]=d,t[3]=m,t[4]=f):f=t[4];var g;t[5]!==_||t[6]!==f?(g={entryPoint:p,id:f,location:_},t[5]=_,t[6]=f,t[7]=g):g=t[7];var h=g,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Report"),t[8]=y):y=t[8];var C=y,b=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),h),v=b[0],S;t[9]!==v||t[10]!==i?(S=function(){v({threadKey:i})},t[9]=v,t[10]=i,t[11]=S):S=t[11];var R=S,L;return t[12]!==n||t[13]!==R?(L=u.jsx(r("MWXMenuItem.react"),{"aria-label":C,icon:n,loggingEvent:"report_thread",onClick:R,primaryText:C}),t[12]=n,t[13]=R,t[14]=L):L=t[14],L}l.default=d}),226);
__d("MWV2MessageReactionMenuItem.react",["fbt","MWChatReactionsActionContainer.react","MWV2MessageRowActionsContext.react","MWXMenuItem.react","ODS","emptyFunction","react","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect;function _(e){var t=e.closeActionsMenu,n=e.message,a=e.onReactionsSendLogger,i=e.reactionsPopoverResource,l=e.threadType,d=s._(/*BTDS*/"React"),_=r("useMWV2ShouldDisableReactions.react")(l,n.threadKey),f=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),g=f.openReactionsMenu,h=m(function(){g.current=r("emptyFunction")},[g]);p(function(){return h},[h]);var y=r("useMWChatReactionsActionContainerProps.react")(n,t,l,a,r("emptyFunction"),i);return _?null:c.jsx(r("MWChatReactionsActionContainer.react"),babelHelpers.extends({},y,{children:function(t,n,a,i,l,s){var e=function(){n(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};return g.current=e,c.jsx(r("MWXMenuItem.react"),{"aria-label":d,loggingEvent:"click_react_to_message",onClick:e,onHoverIn:i,onHoverOut:l,onPressIn:s,preventClosingMenuOnSelect:!0,primaryText:d,ref:t})}}))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2RemoveMenuItem.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSDeleteMessageStoredProcedure","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWMessageDeliveryStatus","MWPActor.react","MWV2LogMessageClick","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXMenuItem.react","MessengerWebUXLogger","WebUserFlowLoggingDataContextProvider.react","gkx","isDeliveryStatusErrorState","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleRemoveLocalMessage","useIsSecureMessage","useMWXEntryPointDialog","useMWXLazyDialog","useReStore","uuidv4"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useRef,g=r("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2RemoveMenuItem.react");function h(t){var n=o("react-compiler-runtime").c(61),a=t.canRemoveMessageGlobally,l=t.canRemoveMessageLocally,d=t.hasUnremovablelSubthread,p=t.learnMoreOnMessageRemove,h=t.message,y=t.onRemoveMessageLogger,C=t.threadType,b=t.title,v=d===void 0?!1:d,S=(e||(e=r("useReStore")))(),R=h.messageId,L=h.threadKey,E;n[0]!==C?(E={fallbackThreadType:C},n[0]=C,n[1]=E):E=n[1];var k=r("useIsSecureMessage")(S,h,E),I=r("useGetMediaGroupInformation")(h,k),T;n[2]!==h.sendStatusV2||n[3]!==C?(T=r("mwCMIsAnyCMThread")(C)&&(u||(u=o("I64"))).equal(h.sendStatusV2,(c||(c=o("LSIntEnum"))).ofNumber(4)),n[2]=h.sendStatusV2,n[3]=C,n[4]=T):T=n[4];var D=T,x,$;n[5]!==S||n[6]!==R||n[7]!==L?(x=function(){r("promiseDone")(S.runInTransaction(function(e){return r("LSDeleteMessageStoredProcedure")(r("LSFactory")(e),{messageId:R,threadKey:L})},"readwrite",void 0,void 0,i.id+":81"))},$=[S,L,R],n[5]=S,n[6]=R,n[7]=L,n[8]=x,n[9]=$):(x=n[8],$=n[9]);var P=o("Int64Hooks").useCallbackInt64(x,$),N=f(null),M=o("MWPActor.react").useActor(),w;n[10]!==M||n[11]!==h.senderId?(w=(u||(u=o("I64"))).equal(h.senderId,M),n[10]=M,n[11]=h.senderId,n[12]=w):w=n[12];var A=w,F=A&&a,O;n[13]!==p||n[14]!==h||n[15]!==b?(O={learnMoreOnMessageRemove:p,message:h,title:b},n[13]=p,n[14]=h,n[15]=b,n[16]=O):O=n[16];var B=O,W;n[17]!==a||n[18]!==l||n[19]!==p||n[20]!==h||n[21]!==y||n[22]!==C||n[23]!==b?(W={canRemoveMessageGlobally:a,canRemoveMessageLocally:l,learnMoreOnMessageRemove:p,message:h,removeLogger:y,threadType:C,title:b},n[17]=a,n[18]=l,n[19]=p,n[20]=h,n[21]=y,n[22]=C,n[23]=b,n[24]=W):W=n[24];var q=W,U=r("MessengerWebUXLogger").useInteractionLogger(),V=_(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),H=V.setLoggingData,G;n[25]===Symbol.for("react.memo_cache_sentinel")?(G={},n[25]=G):G=n[25];var z=r("useMWXEntryPointDialog")(r("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),G),j=z[0],K=r("useMWXLazyDialog")(g),Q=K[0],X=r("useHandleRemoveLocalMessage")(C,h,y),Y;n[26]!==q||n[27]!==B||n[28]!==A||n[29]!==h.isUnsent||n[30]!==h.sendStatusV2||n[31]!==X||n[32]!==Q||n[33]!==j||n[34]!==C?(Y=function(t){if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(h.sendStatusV2))){X(t);return}o("MWCMThreadTypes.react").isJoinedCMThread(C)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(C)||A&&!r("gkx")("24140")&&!h.isUnsent||o("LSMessagingThreadTypeUtil").isCMSubthread(C)?j(B):Q(q)},n[26]=q,n[27]=B,n[28]=A,n[29]=h.isUnsent,n[30]=h.sendStatusV2,n[31]=X,n[32]=Q,n[33]=j,n[34]=C,n[35]=Y):Y=n[35];var J=Y,Z;n[36]!==S||n[37]!==P||n[38]!==D||n[39]!==A||n[40]!==U||n[41]!==h||n[42]!==J||n[43]!==H||n[44]!==L||n[45]!==C?(Z=function(){var e={extraData:{actor_type:A?"sender":"receiver"},flowInstanceId:r("uuidv4")(),threadKey:L,threadType:C};return U==null||U(babelHelpers.extends({},e,{eventName:"message_remove_attempt"})),H(e),o("MWV2LogMessageClick").log(S,h,45),h.subscriptErrorMessage!=null&&D?P():J(e)},n[36]=S,n[37]=P,n[38]=D,n[39]=A,n[40]=U,n[41]=h,n[42]=J,n[43]=H,n[44]=L,n[45]=C,n[46]=Z):Z=n[46];var ee=Z,te;n[47]!==F?(te=F?s._(/*BTDS*/"Unsend message"):s._(/*BTDS*/"Remove message"),n[47]=F,n[48]=te):te=n[48];var ne;n[49]!==F?(ne=F?s._(/*BTDS*/"Unsend"):s._(/*BTDS*/"Remove"),n[49]=F,n[50]=ne):ne=n[50];var re;n[51]!==v||n[52]!==A||n[53]!==I?(re=I!=null&&(I!=null&&I.hasMissingMessages||I!=null&&I.hasMissingMedia)?A?s._(/*BTDS*/"Images that failed to load won't be unsent"):s._(/*BTDS*/"Images that failed to load won't be removed"):v?s._(/*BTDS*/"Messages with side chats can't be deleted"):void 0,n[51]=v,n[52]=A,n[53]=I,n[54]=re):re=n[54];var oe;return n[55]!==ee||n[56]!==v||n[57]!==te||n[58]!==ne||n[59]!==re?(oe=m.jsx(r("MWXMenuItem.react"),{"aria-label":te,disabled:v,onClick:ee,primaryText:ne,ref:N,secondaryText:re,testid:void 0}),n[55]=ee,n[56]=v,n[57]=te,n[58]=ne,n[59]=re,n[60]=oe):oe=n[60],oe}l.default=h}),226);
__d("MWV2ReplyMenuItem.react",["fbt","MWPReplyContext.react","MWXMenuItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(8),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Reply"),t[0]=a):a=t[0];var i=a,l=c(o("MWPReplyContext.react").MWPReplyContext),d=l.setReply,m;return t[1]!==n.messageId||t[2]!==n.offlineThreadingId||t[3]!==n.sendStatusV2||t[4]!==n.threadKey||t[5]!==n.timestampMs||t[6]!==d?(m=u.jsx(r("MWXMenuItem.react"),{"aria-label":i,onClick:function(){return d({messageId:n.messageId,offlineThreadingId:n.offlineThreadingId,sendStatusV2:n.sendStatusV2,threadKey:n.threadKey,timestampMs:n.timestampMs},n.threadKey)},primaryText:i,testid:void 0}),t[1]=n.messageId,t[2]=n.offlineThreadingId,t[3]=n.sendStatusV2,t[4]=n.threadKey,t[5]=n.timestampMs,t[6]=d,t[7]=m):m=t[7],m}l.default=d}),226);
__d("MWV2ReportMessageMenuItem.react",["fbt","CometFRX.entrypoint","MWXMenuItem.react","react","react-compiler-runtime","useMWLSMessageReportingToken","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.isSubthread,a=e.message,i=n===void 0?!1:n,l=r("useMWLSMessageReportingToken")(a.messageId,a.threadKey),c=i?"messenger_community_messaging_subthread_view":"messenger_community_messaging_group_thread_details",d;t[0]!==l||t[1]!==c?(d={entryPoint:"GROUPS_REPORT_LONG_PRESS_TO_ADMIN",id:l,location:c},t[0]=l,t[1]=c,t[2]=d):d=t[2];var m=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),d),p=m[0],_;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Report to group admins"),t[3]=_):_=t[3];var f=_,g;return t[4]!==p?(g=u.jsx(r("MWXMenuItem.react"),{"aria-label":f,onClick:function(){return p({})},primaryText:f,testid:void 0}),t[4]=p,t[5]=g):g=t[5],g}l.default=c}),226);
__d("useSubthreadShouldShowReplyCTAForMessage",["ChatGeminiDisplayContextProvider.react","gkx","react-compiler-runtime","useSubthreadInfoSafeForNonWork"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),a=r("useSubthreadInfoSafeForNonWork")(e,t),i=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),l=r("gkx")("16795")&&(i==null?void 0:i.displaySurface)!=="subthread"&&a!=null,s;return n[0]!==l||n[1]!==a?(s={shouldShowSubthreadCTA:l,subthread:a},n[0]=l,n[1]=a,n[2]=s):s=n[2],s}l.default=e}),98);
__d("MWV2ContextualActionsMenu.react",["fbt","BusinessMessageNegativeFeedbackMenuItem.react","BusinessMessagePositiveFeedbackMenuItem.react","FDSMenuSeparator.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWEditMenuItem.react","MWBroadcastChannelLoggingShapes","MWCMCreateSubthreadMenuItem.react","MWChatMessageBothOrientationFocusGroup.react","MWEncryptedBackupsLocalStorageEntryEnum","MWEncryptedBackupsSharedState","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWPThreadCapabilitiesContext","MWPinMessageMenuItem.react","MWV2ForwardMenuItem.react","MWV2GlobalReportMessageMenuItem.react","MWV2MessageReactionMenuItem.react","MWV2RemoveMenuItem.react","MWV2ReplyMenuItem.react","MWV2ReportMessageMenuItem.react","MWV2ReportMessageToFBMenuItem.react","MWXMenu.react","MWXPopover.react","MessagingAttachmentType","MessagingThreadSubtype","WebUXLoggingSurfaceContextProvider","cr:1111","cr:1200","cr:12502","cr:12503","cr:2243","cr:4140","cr:5790","focusScopeQueries","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPCanUserEditMessage","useSubthreadShouldShowReplyCTAForMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react"));function p(e,t){var n=o("react-compiler-runtime").c(1),r;return n[0]===Symbol.for("react.memo_cache_sentinel")?(r={messageKeys:null,reactionsKeys:null},n[0]=r):r=n[0],r}var _=(e=n("cr:12503"))!=null?e:p;function f(e){var t,a=o("react-compiler-runtime").c(109),i=e.attachment,l=e.canRemoveMessageGlobally,u=e.canRemoveMessageLocally,p=e.containerThreadKey,f=e.extraActions,g=e.isOutgoing,h=e.isSecureMessage,y=e.learnMoreOnMessageRemove,C=e.message,b=e.onClose,v=e.onRemoveMessageLogger,S=e.removeMessageDialogTitle,R=e.showBusinessMessageFeedbackOptionsInContextualMenu,L=e.showCreateSubthread,E=e.showFeedbackOptionsInContextualMenu,k=e.showForwardActionInContextualMenu,I=e.showPinMessageActionInContextualMenu,T=e.showReactionInContextualMenu,D=e.showReplyActionInContextualMenu,x=e.showReportCommunityMessageToAdmin,$=e.showReportCommunityMessageToFacebook,P=e.showReportMessageToFacebook,N=e.showUnsendInContextualMenu,M=e.thread,w=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),A=w.blurMediaEnabled,F=r("gkx")("24098")&&A,O;a[0]!==i?(O=i!=null?(c||(c=o("I64"))).equal(i.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):!1,a[0]=i,a[1]=O):O=a[1];var B=O,W;a[2]!==i?(W=i!=null?(c||(c=o("I64"))).equal(i.attachmentType,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):!1,a[2]=i,a[3]=W):W=a[3];var q=W,U=F&&(B||q),V=r("useMWEntrypoint")(),H=M==null?void 0:M.threadType,G=M==null?void 0:M.threadSubtype,z=r("useMWFalcoFeatureEventLogger")(C.threadKey,H),j=r("useSubthreadShouldShowReplyCTAForMessage")(C.threadKey,C.messageId),K=j.shouldShowSubthreadCTA,Q=o("MWPActor.react").useActor(),X;a[4]!==Q||a[5]!==C.senderId?(X=(c||(c=o("I64"))).equal(C.senderId,Q),a[4]=Q,a[5]=C.senderId,a[6]=X):X=a[6];var Y=X,J=Y&&!((t=C.isUnsent)!=null&&t),Z=K&&!J,ee;a[7]===Symbol.for("react.memo_cache_sentinel")?(ee=s._(/*BTDS*/"More actions"),a[7]=ee):ee=a[7];var te=ee,ne;a[8]!==G?(ne=G!=null&&(c||(c=o("I64"))).equal(G,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),a[8]=G,a[9]=ne):ne=a[9];var re=ne,oe=r("useMWPCanUserEditMessage")(C,M,p),ae;a[10]!==M.threadType?(ae=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(M.threadType),a[10]=M.threadType,a[11]=ae):ae=a[11];var ie=ae,le=o("MWEncryptedBackupsSharedState").useEBSharedStateEntry(r("MWEncryptedBackupsLocalStorageEntryEnum").VERIFY_KEYS_IN_CHAT_ENABLED),se=le[0],ue=se==="true",ce=_(C,h),de=ce.messageKeys,me=ce.reactionsKeys,pe;a[12]!==C||a[13]!==U||a[14]!==D?(pe=D&&!U?m.jsx(r("MWV2ReplyMenuItem.react"),{message:C}):null,a[12]=C,a[13]=U,a[14]=D,a[15]=pe):pe=a[15];var _e;a[16]!==C||a[17]!==b||a[18]!==T||a[19]!==H?(_e=T?m.jsx(r("MWV2MessageReactionMenuItem.react"),{closeActionsMenu:b,message:C,threadType:H}):null,a[16]=C,a[17]=b,a[18]=T,a[19]=H,a[20]=_e):_e=a[20];var fe;a[21]!==C||a[22]!==oe||a[23]!==H?(fe=oe?m.jsx(r("MAWEditMenuItem.react"),{message:C,threadType:H}):null,a[21]=C,a[22]=oe,a[23]=H,a[24]=fe):fe=a[24];var ge;a[25]!==l||a[26]!==u||a[27]!==Z||a[28]!==y||a[29]!==C||a[30]!==v||a[31]!==S||a[32]!==N||a[33]!==H?(ge=N?m.jsx(r("MWV2RemoveMenuItem.react"),{canRemoveMessageGlobally:l,canRemoveMessageLocally:u,hasUnremovablelSubthread:Z,learnMoreOnMessageRemove:y,message:C,onRemoveMessageLogger:v,threadType:H,title:S}):null,a[25]=l,a[26]=u,a[27]=Z,a[28]=y,a[29]=C,a[30]=v,a[31]=S,a[32]=N,a[33]=H,a[34]=ge):ge=a[34];var he;a[35]!==C||a[36]!==k||a[37]!==H?(he=k?m.jsx(r("MWV2ForwardMenuItem.react"),{message:C,threadType:H}):null,a[35]=C,a[36]=k,a[37]=H,a[38]=he):he=a[38];var ye;a[39]!==C||a[40]!==L?(ye=L?m.jsx(r("MWCMCreateSubthreadMenuItem.react"),{message:C}):null,a[39]=C,a[40]=L,a[41]=ye):ye=a[41];var Ce;a[42]!==V||a[43]!==ie||a[44]!==z||a[45]!==C||a[46]!==I||a[47]!==M.threadKey?(Ce=I?m.jsx(r("MWPinMessageMenuItem.react"),{message:C,onClick:function(t){if(ie){var e=t?o("MWBroadcastChannelLoggingShapes").UNPIN_MESSAGE:o("MWBroadcastChannelLoggingShapes").PIN_MESSAGE;o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers.extends({},e,{threadFbid:M.threadKey}))}},onPinCompleted:function(){z(V,"pin_message")}}):null,a[42]=V,a[43]=ie,a[44]=z,a[45]=C,a[46]=I,a[47]=M.threadKey,a[48]=Ce):Ce=a[48];var be;a[49]!==C||a[50]!==x?(be=x?m.jsx(r("MWV2ReportMessageMenuItem.react"),{message:C}):null,a[49]=C,a[50]=x,a[51]=be):be=a[51];var ve;a[52]!==C.messageId||a[53]!==C.threadKey||a[54]!==$||a[55]!==H?(ve=$?m.jsx(r("MWV2ReportMessageToFBMenuItem.react"),{isSubthread:o("LSMessagingThreadTypeUtil").isCMSubthread(H),menuItemLabel:s._(/*BTDS*/"Report"),messageId:C.messageId,threadKey:C.threadKey}):null,a[52]=C.messageId,a[53]=C.threadKey,a[54]=$,a[55]=H,a[56]=ve):ve=a[56];var Se;a[57]!==C.messageId||a[58]!==C.threadKey||a[59]!==P||a[60]!==H?(Se=P?m.jsx(r("MWV2GlobalReportMessageMenuItem.react"),{messageId:C.messageId,threadKey:C.threadKey,threadType:H}):null,a[57]=C.messageId,a[58]=C.threadKey,a[59]=P,a[60]=H,a[61]=Se):Se=a[61];var Re;a[62]!==h||a[63]!==ue||a[64]!==C||a[65]!==de||a[66]!==me?(Re=ue&&n("cr:12502")!=null&&h?m.jsxs(m.Fragment,{children:[m.jsx(r("FDSMenuSeparator.react"),{}),m.jsx(n("cr:12502"),{message:C,messageKeys:de,reactionsKeys:me})]}):null,a[62]=h,a[63]=ue,a[64]=C,a[65]=de,a[66]=me,a[67]=Re):Re=a[67];var Le;a[68]!==C?(Le=n("cr:5790")?m.jsx(n("cr:5790"),{message:C}):null,a[68]=C,a[69]=Le):Le=a[69];var Ee;a[70]!==g||a[71]!==re||a[72]!==C?(Ee=n("cr:2243")!=null&&!g&&re&&m.jsx(n("cr:2243"),{message:C}),a[70]=g,a[71]=re,a[72]=C,a[73]=Ee):Ee=a[73];var ke;a[74]!==C||a[75]!==E?(ke=n("cr:1200")!=null&&E&&m.jsx(n("cr:1200"),{message:C}),a[74]=C,a[75]=E,a[76]=ke):ke=a[76];var Ie;a[77]!==C||a[78]!==E?(Ie=n("cr:1111")!=null&&E&&m.jsx(n("cr:1111"),{message:C}),a[77]=C,a[78]=E,a[79]=Ie):Ie=a[79];var Te;a[80]!==C||a[81]!==R?(Te=r("BusinessMessagePositiveFeedbackMenuItem.react")!=null&&R&&m.jsx(r("BusinessMessagePositiveFeedbackMenuItem.react"),{message:C}),a[80]=C,a[81]=R,a[82]=Te):Te=a[82];var De;a[83]!==C||a[84]!==R?(De=r("BusinessMessageNegativeFeedbackMenuItem.react")!=null&&R&&m.jsx(r("BusinessMessageNegativeFeedbackMenuItem.react"),{message:C}),a[83]=C,a[84]=R,a[85]=De):De=a[85];var xe;a[86]!==i||a[87]!==C?(xe=n("cr:4140")?m.jsxs(m.Fragment,{children:[r("gkx")("731")?m.jsx(r("FDSMenuSeparator.react"),{}):null,m.jsx(n("cr:4140"),{attachment:i,message:C})]}):null,a[86]=i,a[87]=C,a[88]=xe):xe=a[88];var $e;return a[89]!==f||a[90]!==ge||a[91]!==he||a[92]!==ye||a[93]!==Ce||a[94]!==be||a[95]!==ve||a[96]!==Se||a[97]!==Re||a[98]!==Le||a[99]!==Ee||a[100]!==ke||a[101]!==Ie||a[102]!==Te||a[103]!==De||a[104]!==xe||a[105]!==pe||a[106]!==_e||a[107]!==fe?($e=m.jsx(r("MWXPopover.react"),{role:"menu",withArrow:!0,children:m.jsx(o("MWChatMessageBothOrientationFocusGroup.react").keyCommands,{children:m.jsx(o("MWChatMessageBothOrientationFocusGroup.react").FocusGroup,{allowModifiers:!0,orientation:"both",preventScrollOnFocus:!1,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,children:m.jsx(r("MWXMenu.react"),{"aria-label":te,size:"full",truncate:!0,children:m.jsxs(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_view_message_options",children:[pe,_e,fe,ge,he,ye,Ce,be,ve,Se,Re,Le,Ee,ke,Ie,Te,De,f,xe]})})})})}),a[89]=f,a[90]=ge,a[91]=he,a[92]=ye,a[93]=Ce,a[94]=be,a[95]=ve,a[96]=Se,a[97]=Re,a[98]=Le,a[99]=Ee,a[100]=ke,a[101]=Ie,a[102]=Te,a[103]=De,a[104]=xe,a[105]=pe,a[106]=_e,a[107]=fe,a[108]=$e):$e=a[108],$e}l.default=f}),226);
__d("MessageThreadEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5034"),s=o("FalcoLoggerInternal").create("message_thread_events",e),u=s;l.default=u}),98);
__d("MessagingAiAgentInteractionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4183"),s=o("FalcoLoggerInternal").create("messaging_ai_agent_interactions",e),u=s;l.default=u}),98);
__d("MetaAiIntentsImageEditingEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5317"),s=o("FalcoLoggerInternal").create("meta_ai_intents_image_editing_events",e),u=s;l.default=u}),98);
__d("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5396"),s=o("FalcoLoggerInternal").create("mwb_group_blockee_messages_tap_to_reveal_action",e),u=s;l.default=u}),98);
__d("getUpgradedCometEmojiComposerHandler",["CometLexicalEmojiNode","EmojiRenderer","FBEmojiResource","Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.registerNodeTransform(o("Lexical").TextNode,function(e){if(e.isSimpleText()){var n=e.getTextContent(),a=e,i=void 0,l=0;o("EmojiRenderer").parse(n).forEach(function(e){var n=e.emoji,s=e.length,u=e.offset,c=n.join(""),d=r("FBEmojiResource").fromCodepoints(n);if(d!=null){var m=d.getImageURL(t);if(m!=null){var p=c,_=o("CometLexicalEmojiNode").$createEmojiNode(c,p,m,t),f=u-l,g=f+s;if(f===0){var h=a.splitText(g);i=h[0],a=h[1]}else{var y=a.splitText(f,g);i=y[1],a=y[2]}l+=g,i.replace(_),i=_}}})}});return function(){n()}}l.default=e}),98);/*FB_PKG_DELIM*/
__d("TrustedTypesChromecastScriptURLPolicy",["TrustedTypes","err"],(function(t,n,r,o,a,i,l){"use strict";var e=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"];function s(t){var n=e.join("|"),r=new RegExp("^chrome-extension://(?:null|"+n+")/cast_sender\\.js$");return r.test(t)}var u={createScriptURL:function(t){if(s(t))return t;throw r("err")("Violated policy TrustedTypesChromecastScriptURLPolicy: "+t+" is not a Chromecast extension URI.")}},c=r("TrustedTypes").createPolicy("chromecast-extension-uri",u),d=c;l.default=d}),98);
__d("CastingChromecastAPI",["TrustedTypesChromecastScriptURLPolicy"],(function(t,n,r,o,a,i,l){"use strict";var e=18e4,s=["pkedcjkdefgpdelpbcmbmeomcjbeemfm","hfaagokkkhdbgiakmmlclaapfelnkoah","fmfcbgogabcbclcofgocippekhfcmgfj","enhhojjnijigcajfphajepfemndkmdlo"],u=null,c=function(t){var e=t.appID,n=t.receiverListener,r=t.sessionListener;return f().then(function(t){var o=new t.ApiConfig(new t.SessionRequest(e),r,n,t.AutoJoinPolicy.ORIGIN_SCOPED,t.DefaultActionPolicy.CAST_THIS_TAB);return new Promise(function(e,n){t.initialize(o,e,n)})})},d=function(t){return f().then(function(e){e.addReceiverActionListener(function(n,r){switch(r){case e.ReceiverAction.CAST:t.onCast(n);break;case e.ReceiverAction.STOP:t.onStop();break}})})},m=function(n){return f().then(function(t){var r=new t.SessionRequest(n,[t.Capability.VIDEO_OUT,t.Capability.AUDIO_OUT],e);return new Promise(function(e,n){t.requestSession(e,n,r)})})},p=function(t){return f().then(function(e){return t===e.ReceiverAvailability.AVAILABLE})},_=function(){return f().then(function(e){return e.media.DEFAULT_MEDIA_RECEIVER_APP_ID})},f=function(){return u||(t.chrome?t.chrome.cast&&t.chrome.cast.isAvailable?(u=Promise.resolve(t.chrome.cast),u):(u=Promise.resolve().then(function(){return g()}).then(function(e){return new Promise(function(n,o){t.chrome.cast=t.chrome.cast||{},t.chrome.cast.extensionId=e,t.__onGCastApiAvailable=function(e,r){r?o(r):n(t.chrome.cast)};var a=document.createElement("script");if(a.onerror=o,e==null){o({code:"extension_not_available",description:null,details:null});return}else a.src=r("TrustedTypesChromecastScriptURLPolicy").createScriptURL(y(e));var i=document.head||document.documentElement;if(i==null){o({code:"extension_no_casting_script",description:null,details:null});return}i.appendChild(a)})}),u):(u=Promise.reject({code:"not_supported",description:null,details:null}),u))};async function g(){for(var e=0;e<s.length;e++){var t=s[e],n=await h(t);if(n)return t}return null}function h(e){return new Promise(function(t,n){var r=y(e),o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===4&&t(o.status===200)},o.onerror=function(){t(!1)},o.open("GET",r,!0),o.send()})}function y(e){return"chrome-extension://"+e+"/cast_sender.js"}var C={addReceiverListener:d,getDefaultAppID:_,getIsAvailable:p,getSession:m,initialize:c},b=C;l.default=b}),98);
__d("CastingChromecastAPIWrapper",["cr:1885117"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1885117")}),98);
__d("CastingChromecastSession",["FBLogger","Promise","err","removeFromArray","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(function(){function t(e,t,n){var o=this;this.$3=null,this.$4=[],this.$5=[],this.$6=[],this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=function(e,t){if(e===o.$2){var n=o.$4.slice();n.forEach(function(e){e(t)})}else o.$6.slice().forEach(function(t){t(r("err")("Namespace does not match. Expected "+o.$2+" but received "+e),"CastingChromecastSession._onMessageReceived")})},this.$1=e,this.$2=t,this.$3=n,n.addMessageListener(this.$2,this.$12)}var o=t.prototype;return o.destroy=function(){var e=this.$3;e!=null&&(e.status!=null&&e.status!=="disconnected"&&r("FBLogger")("comet_cast_sender").mustfix("Destroying receiver session that is not disconnected. Status, %s",e.status),e.removeMessageListener(this.$2,this.$12)),this.$3=null},o.isCasting=function(){return this.$3!=null},o.isConnected=function(){return this.$3!=null&&this.$3.status==="connected"},o.isDisconnected=function(){return this.$3!=null&&this.$3.status==="disconnected"},o.disconnect=function(){var t=this;return this.$5.slice().forEach(function(e){r("vulture")("3Wdd-hvEpY_QT9SbwElQMHyLer8="),e()}),new(e||(e=n("Promise")))(function(e,n){t.$3!=null?t.$3.stop(e,n):e()}).catch(function(e){if(t.$3!=null&&t.$3.status!=="stopped")throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.disconnect")}),e}).finally(function(){var e=t.$3;t.$3=null,e&&e.removeMessageListener(t.$2,t.$12),t.$7.slice().forEach(function(e){e()})})},o.getVolume=function(){var e=this.$13();return e?e.level:null},o.getFriendlyName=function(){return this.$14()},o.setVolume=function(o){var t=this,a=this.$3;return new(e||(e=n("Promise")))(function(e,t){if(a==null){t(r("err")("Cannot set volume without a session"));return}a.setReceiverVolumeLevel(o,e,t)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.setVolume")}),e})},o.isMuted=function(){var e=this.$13();return e?e.muted:null},o.mute=function(){return this.$15(!0)},o.unmute=function(){return this.$15(!1)},o.sendMessage=function(o){var t=this;return new(e||(e=n("Promise")))(function(e,n){var a=t.$3;if(a==null){n(r("err")("The message can not be sent without a session"));return}a.sendMessage(t.$2,o,e,n)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession.sendMessage")}),e})},o.$13=function(){var e,t=(e=this.$3)==null||(e=e.receiver)==null?void 0:e.volume;return t==null?null:t},o.$14=function(){var e,t;return(e=(t=this.$3)==null?void 0:t.receiver.friendlyName)!=null?e:null},o.$15=function(o){var t=this;return new(e||(e=n("Promise")))(function(e,n){var a=t.$3;if(a==null){n(r("err")("The muted state can not be set without a session"));return}a.setReceiverMuted(o,e,n)}).catch(function(e){throw t.$6.slice().forEach(function(t){t(e,"CastingChromecastSession._setIsMuted")}),e})},o.onMessage=function(t){var e=this.$4;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onDisconnecting=function(t){var e=this.$5;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onError=function(t){var e=this.$6;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onDisconnected=function(t){var e=this.$7;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoLoading=function(t){var e=this.$8;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoLoaded=function(t){var e=this.$9;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoPlaying=function(t){var e=this.$10;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},o.onVideoPaused=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=s}),98);
__d("CastingErrorUtils",["ErrorMetadata","err","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e!=null&&typeof e=="object"&&typeof e.code=="string"&&e.code===t}function s(e){return e!=null&&typeof e=="object"&&typeof e.code=="string"?r("err")("Chromecast error: %s, keys: %s","cast.ChromecastError",JSON.stringify({code:e.code})):r("getErrorSafe")(e)}function u(e,t){e.metadata==null&&(e.metadata=new(r("ErrorMetadata")));var n=e.metadata,o=t==null?void 0:t.videoID;return o!=null&&n.addEntries(["COMET_VIDEO","VIDEO_ID",o]),e}l.isChromecastError=e,l.getCastingErrorSafe=s,l.appendCastingMetadataToExpandedError=u}),98);
__d("ConnectedTvLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1843753"),s=o("FalcoLoggerInternal").create("connected_tv_logging",e),u=s;l.default=u}),98);
__d("CastingChromecastScanner",["CastingChromecastAPIWrapper","CastingChromecastSession","CastingErrorUtils","ConnectedTvLoggingFalcoEvent","Promise","err","performanceAbsoluteNow","promiseDone","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(e,t){this.$6=null,this.$7=[],this.$8=[],this.$9=[],this.$10=[],this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$1=e,this.$2=t,this.$4=!1,this.$3=!1,this.$5=new Set}var a=t.prototype;return a.init=function(){return this.$6!=null?(s||(s=n("Promise"))).reject(r("err")("Scanner can only be initialized once.")):(this.$6=this.$16(),this.$6)},a.ready=function(){return this.$6==null?(s||(s=n("Promise"))).reject(r("err")("Scanner should be initialized.")):this.$6},a.hasSupport=function(){return this.$3},a.hasFoundReceiver=function(){return this.$4},a.getSession=function(){var e=this;return this.$4?(this.$13.slice().forEach(function(e){e()}),this.$17().then(function(t){var n=e.$18(t);return e.$5.add(n),e.$14.slice().forEach(function(e){e(n)}),n}).catch(function(t){throw e.$10.slice().forEach(function(e){e()}),e.$11.slice().forEach(function(e){e()}),t})):(s||(s=n("Promise"))).reject(r("err")("No receivers found"))},a.$16=function(){var e=this;return this.$3=!0,this.$19().then(function(t){return e.$20()}).then(function(t){e.$9.slice().forEach(function(e){e()})}).then(function(t){return e.$21()}).catch(function(t){throw!o("CastingErrorUtils").isChromecastError(t,"not_supported")&&!o("CastingErrorUtils").isChromecastError(t,"extension_not_available")&&!o("CastingErrorUtils").isChromecastError(t,"extension_no_casting_script")&&e.$8.slice().forEach(function(e){e(t,"CastingChromecastScanner._init")}),t})},a.$21=function(){var e=this,t=this.$1;if(t==null)return(s||(s=n("Promise"))).reject(r("err")("App ID is not defined"));var o=function(n){var t=e.$18(n);e.$14.slice().forEach(function(e){e(t)})},a=function(n){r("promiseDone")(r("CastingChromecastAPIWrapper").getIsAvailable(n).then(function(t){e.$4=t,e.$15.slice().forEach(function(t){t({foundReceiver:e.$4})})}))};return r("CastingChromecastAPIWrapper").initialize({appID:t,receiverListener:a,sessionListener:o}).then(function(){}).catch(function(t){throw e.$8.slice().forEach(function(e){e(t,"CastingChromecastScanner._initializeApi")}),t})},a.$19=function(){var e=this;return this.$1!=null?(s||(s=n("Promise"))).resolve():r("CastingChromecastAPIWrapper").getDefaultAppID().then(function(t){e.$1=t})},a.$17=function(){var t=this.$1;if(t==null)return(s||(s=n("Promise"))).reject(r("err")("App ID is not defined"));var o=(e||(e=r("performanceAbsoluteNow")))();return r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_requested"}}),r("CastingChromecastAPIWrapper").getSession(t).then(function(t){return r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_started",perf_time_ms:Math.floor((e||(e=r("performanceAbsoluteNow")))()-o)}}),t}).catch(function(t){throw r("ConnectedTvLoggingFalcoEvent").log(function(){return{event:"sender_session_failed",perf_time_ms:Math.floor((e||(e=r("performanceAbsoluteNow")))()-o),session_failure_code:typeof t.code=="string"?t.code:null,session_failure_description:t.description}}),t})},a.$18=function(t){var e=this,n=new(r("CastingChromecastSession"))(this.$1||"",this.$2||"",t),o=n.onDisconnecting(function(){e.$12.slice().forEach(function(e){e()})}),a=n.onError(function(t,n){e.$8.slice().forEach(function(e){e(t,n)})}),i=n.onDisconnected(function(){e.$11.slice().forEach(function(e){e()}),e.$5.delete(n),o.remove(),a.remove(),i.remove()});return n},a.$20=function(){var e=this;return r("CastingChromecastAPIWrapper").addReceiverListener({onCast:function(n){e.$7.slice().forEach(function(e){e(n)})},onStop:function(){e.$5.forEach(function(e){return e.disconnect()})}})},a.onCast=function(t){var e=this.$7;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onError=function(t){var e=this.$8;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onInit=function(t){var e=this.$9;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionCancelled=function(t){var e=this.$10;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnected=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnecting=function(t){var e=this.$12;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionRequested=function(t){var e=this.$13;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionStarted=function(t){var e=this.$14;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onStatusChanged=function(t){var e=this.$15;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=u}),98);
__d("CastingState",[],(function(t,n,r,o,a,i){"use strict";function e(){return{isCastPending:!1,receiverExperience:null,receiverFriendlyName:null,receiverIsConnected:!1,receiverIsMuted:null,receiverVolume:null}}function l(){return{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null,type:"video_channel"}}function s(){return{type:"photo"}}function u(){return{currentAssetID:null,currentPlaybackState:null,type:"photo_album"}}i.initialCastingState=e,i.initialVideoChannelExperienceState=l,i.initialPhotoExperienceState=s,i.initialPhotoAlbumExperienceState=u}),66);
__d("TV2PhotoAlbumReportedState",[],(function(t,n,r,o,a,i){"use strict";function e(e){return m(JSON.parse(e),y("TV2PhotoAlbumReportedState"))}function l(e){return JSON.stringify(p(e,y("TV2PhotoAlbumReportedState")),null,2)}function s(e,t,n){throw n===void 0&&(n=""),Error(n?'Invalid value for key "'+n+'". Expected type '+JSON.stringify(e)+" but got "+JSON.stringify(t):"Invalid value "+JSON.stringify(t)+" for type "+JSON.stringify(e))}function u(e){if(e.jsonToJS===void 0){var t={};e.props.forEach(function(e){return t[e.json]={key:e.js,typ:e.typ}}),e.jsonToJS=t}return e.jsonToJS}function c(e){if(e.jsToJSON===void 0){var t={};e.props.forEach(function(e){return t[e.js]={key:e.json,typ:e.typ}}),e.jsToJSON=t}return e.jsToJSON}function d(e,t,n,r){r===void 0&&(r="");function o(e,t){return typeof e==typeof t?t:s(e,t,r)}function a(e,t){for(var r=e.length,o=0;o<r;o++){var a=e[o];try{return d(t,a,n)}catch(e){}}return s(e,t)}function i(e,t){return e.indexOf(t)!==-1?t:s(e,t)}function l(e,t){return Array.isArray(t)?t.map(function(t){return d(t,e,n)}):s("array",t)}function u(e){if(e===null)return null;var t=new Date(e);return isNaN(t.valueOf())?s("Date",e):t}function c(e,t,r){if(r===null||typeof r!="object"||Array.isArray(r))return s("object",r);var o={};return Object.getOwnPropertyNames(e).forEach(function(t){var a=e[t],i=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;o[a.key]=d(i,a.typ,n,a.key)}),Object.getOwnPropertyNames(r).forEach(function(a){Object.prototype.hasOwnProperty.call(e,a)||(o[a]=d(r[a],t,n,a))}),o}if(t==="any")return e;if(t===null)return e===null?e:s(t,e);if(t===!1)return s(t,e);for(;typeof t=="object"&&t.ref!==void 0;)t=C[t.ref];return Array.isArray(t)?i(t,e):typeof t=="object"?Object.prototype.hasOwnProperty.call(t,"unionMembers")?a(t.unionMembers,e):Object.prototype.hasOwnProperty.call(t,"arrayItems")?l(t.arrayItems,e):Object.prototype.hasOwnProperty.call(t,"props")?c(n(t),t.additional,e):s(t,e):t===Date&&typeof e!="number"?u(e):o(t,e)}function m(e,t){return d(e,t,u)}function p(e,t){return d(e,t,c)}function _(e){return{arrayItems:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function g(e,t){return{props:e,additional:t}}function h(e){return{props:[],additional:e}}function y(e){return{ref:e}}var C={TV2PhotoAlbumReportedState:g([{json:"media_parameters",js:"media_parameters",typ:y("MediaParameters")},{json:"media_state",js:"media_state",typ:y("MediaState")}],"any"),MediaParameters:g([{json:"album_id",js:"album_id",typ:""}],"any"),MediaState:g([{json:"photo_state",js:"photo_state",typ:f(void 0,y("PhotoMediaState"))},{json:"video_state",js:"video_state",typ:f(void 0,y("VideoMediaState"))}],"any"),PhotoMediaState:g([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"photo_id",js:"photo_id",typ:""},{json:"photo_playback_state",js:"photo_playback_state",typ:y("PhotoPlaybackState")},{json:"position_ms",js:"position_ms",typ:3.14}],"any"),VideoMediaState:g([{json:"duration_ms",js:"duration_ms",typ:3.14},{json:"position_ms",js:"position_ms",typ:3.14},{json:"video_id",js:"video_id",typ:""},{json:"video_playback_state",js:"video_playback_state",typ:y("VideoPlaybackState")}],"any"),PhotoPlaybackState:["paused","play"],VideoPlaybackState:["ended","paused","play","seeking","unknown"]};a.exports={TV2PhotoAlbumReportedStateToJson:l,toTV2PhotoAlbumReportedState:e}}),null);
__d("TV2UniqueIDs",["guid"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map;function s(t){var n,r=(n=e.get(t))!=null?n:0;return e.set(t,r+1),""+t+r.toString(36)}function u(){return s("id_tv2_vcr_")}function c(){return s("id_tv2_veqe_")}function d(){return s("id_tv2_toast_")}function m(){return s("id_tv2_rvr_")}function p(){return r("guid")()}l.makeTV2VideoCastRequestID=u,l.makeTV2VideoExperienceQueueEntryID=c,l.makeTV2ToastID=d,l.makeTV2RelatedVideosRequestID=m,l.makeTV2ChainingSessionID=p}),98);
__d("getTV2QueryStringCheatcodeValue",[],(function(t,n,r,o,a,i){"use strict";function e(e){try{var n=new RegExp("\\b"+e+"=([^&]*)"),r=n.exec(t.location.search);return!r||r[1]==null?null:r[1]}catch(e){return null}}i.default=e}),66);
__d("getTV2QueryStringCheatcode",["getTV2QueryStringCheatcodeValue"],(function(t,n,r,o,a,i,l){"use strict";function e(e){try{return r("getTV2QueryStringCheatcodeValue")(e)==="1"}catch(e){return!1}}l.default=e}),98);
__d("getTV2DebuggingEnabled",["getTV2QueryStringCheatcode"],(function(t,n,r,o,a,i,l){"use strict";function e(){return r("getTV2QueryStringCheatcode")("debugging")}l.default=e}),98);
__d("TV2CommsParseUtils",["TV2PhotoAlbumReportedState","TV2UniqueIDs","err","getErrorSafe","getTV2DebuggingEnabled"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===null?"null":e===""?"empty string":Array.isArray(e)?"array":typeof e=="object"?"object with keys: "+JSON.stringify(Object.keys(e).sort()):typeof e}function s(t,n,o){if(typeof t!="string"||t===""){var a=r("err")("Message parse error: %s expected JSON string, got %s",o,e(t));throw a}var i;try{return i=JSON.parse(t),n(i,o)}catch(e){if(typeof e=="object"&&e!=null&&"messageFormat"in e&&typeof e.messageFormat=="string"&&"messageParams"in e&&Array.isArray(e.messageParams))throw e;var l=r("getErrorSafe")(e),s=r("err")("Message parse error: %s expected JSON string, got error: %s",o,l.message);throw s}}function u(t,n){if(typeof t!="object"||t==null){var o=r("err")("Message parse error: %s expected object, got %s",n,e(t));throw o}return t}function c(t,n){if(t==null)return null;if(typeof t!="object"||t==null){var o=r("err")("Message parse error: %s expected object, got %s",n,e(t));throw o}return t}function d(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t}function m(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t.map(function(e){return _(e,n)})}function p(t,n){if(!Array.isArray(t)){var o=r("err")("Message parse error: %s expected array, got %s",n,e(t));throw o}return t.filter(Boolean).map(function(e){return _(e,n)})}function _(t,n){if(typeof t!="string"||t===""){var o=r("err")("Message parse error: %s expected non-empty string, got %s",n,e(t));throw o}return t}function f(t,n){if(t==null)return null;if(typeof t!="string"||t===""){var o=r("err")("Message parse error: %s expected optional non-empty string, got %s",n,e(t));throw o}return t}function g(t,n){if(t==null)return null;if(typeof t!="string"){var o=r("err")("Message parse error: %s expected optional string, got %s",n,e(t));throw o}return t}function h(t,n){if(t==null)return null;if(!(typeof t=="number"&&Number.isFinite(t)||typeof t=="string"&&t!=="")){var o=r("err")("Message parse error: %s expected optional non-empty string or number, got %s",n,e(t));throw o}return t}function y(t,n){if(typeof t!="number"||!Number.isFinite(t)){var o=r("err")("Message parse error: %s expected finite number, got %s",n,e(t));throw o}return t}function C(t,n){if(t==null)return null;if(typeof t!="number"||!Number.isFinite(t)){var o=r("err")("Message parse error: %s expected optional finite number, got %s",n,e(t));throw o}return t}function b(e,t){return e==="true"||e===!0}function v(e,t,n){return n===void 0&&(n=!1),e==null?n:e===!0}function S(t,n){if(typeof t!="boolean"){var o=r("err")("Parse error: %s expected boolean, got %s",n,e(t));throw o}return t}function R(e,t){var n=e!=null?u(e,t):null;if(n==null)return null;var r=_(n.uri,t+".uri"),o=y(n.width,t+".width"),a=y(n.height,t+".height");return{height:a,uri:r,width:o}}function L(e,t){var n=e!=null?u(e,t):null;if(n==null)return null;var r=u(n.image,t+".image"),o=_(r.uri,t+".image.uri");return{uri:o}}function E(e,t){if(e==null)return null;var n=d(e,t);return n.map(function(e,t){return _(e,"["+t+"]")})}function k(e,t){return s(e,function(e,t){var n=d(e,t);return n.map(function(e,n){var r=t+"."+n;return T(u(e,r),r)})},t)}function I(e,t){return s(e,function(e,t){return T(u(e,t),t)},t)}function T(e,n){var a=_(e.access_token,n+".access_token"),i=String(h(e.app_id,n+".app_id")),l=g(e.app_version,n+".app_version"),s=R(e.background_image,n+".background_image"),u=f(e.channel_token,n+".channel_token"),c=f(e.channel_session_id,n+".channel_session_id"),d=g(e.end_cursor,n+".end_cursor")||null,m=v(e.from_next_video_query,n+".from_next_video_query"),y=v(e.is_ad,n+".is_ad"),C=E(e.dash_prefetched_representation_ids,n+".dash_prefetched_representation_ids"),b=f(e.entry_point,n+".entry_point"),S=f(e.player_origin===""?null:e.player_origin,n+".player_origin"),k=f(e.player_suborigin===""?null:e.player_suborigin,n+".player_suborigin"),I=L(e.preferred_thumbnail,n+".preferred_thumbnail"),T=f(e.video_channel_id,n+".video_channel_id"),D=_(e.root_video_id,n+".root_video_id"),x=r("getTV2DebuggingEnabled")()?/\bvideo_id=([0-9]+)\b/.exec(t.location.search):null,$=x&&x[1]?x[1]:_(e.video_id,n+".video_id"),P=e.tracking_codes!=null?p(e.tracking_codes,n+".tracking_codes"):null;return{accessToken:a,appID:i,appVersion:l,backgroundImage:s,chainingEnabled:!1,channelSessionID:c,channelToken:u,dashPrefetchedRepresentationIDs:C,endCursor:d,entryPoint:b,fromNextVideoQuery:m,isAd:y,playerOrigin:S,playerSuborigin:k,preferredThumbnail:I,rootVideoID:D,startTimestamp:0,trackingCodes:P,videoCastRequestID:o("TV2UniqueIDs").makeTV2VideoCastRequestID(),videoChannelID:T,videoID:$}}function D(t,n){var o=u(t,n),a=_(o.type,n+".type");switch(a){case"version_response":return o;case"version_launch_response":return o;case"experience_state":return o;case"command_result":return o;case"duration_change":return o;case"status_update":return o;case"experience_status_update":return o}var i=r("err")("Parse error: %s expected response message type, got %s","parseTV2CommsFBAppOutboundMessageFromObject",e(o));throw i}function x(e){return s(e,D,".")}function $(t){var n=x(t);switch(n.type){case"version_response":case"version_launch_response":case"experience_state":case"command_result":return n}var o=r("err")("Parse error: %s expected response message type, got %s","parseCastingReceiverResponseMessageFromJSON",e(n));throw o}function P(e){return o("TV2PhotoAlbumReportedState").toTV2PhotoAlbumReportedState(e)}l.parseJSONString=s,l.parseObject=u,l.parseOptionalObject=c,l.parseArray=d,l.parseStringArray=m,l.parseTrackingCodes=p,l.parseNonEmptyString=_,l.parseOptionalNonEmptyString=f,l.parseOptionalString=g,l.parseNumber=y,l.parseOptionalNumber=C,l.parseOptionalStringishBoolean=b,l.parseOptionalBoolean=v,l.parseBoolean=S,l.parseVideoCastingPayloadBackgroundImage=R,l.parseVideoCastingPayloadPreferredThumbnail=L,l.parseVideoCastingPayloadListJSONAsTV2VideoCastRequestArray=k,l.parseVideoCastingPayloadJSONAsTV2VideoCastRequest=I,l.parseVideoCastingPayloadAsTV2VideoCastRequest=T,l.parseTV2CommsFBAppOutboundMessageFromJSON=x,l.parseCastingReceiverResponseMessageFromJSON=$,l.parseCastingReceiverPhotoAlbumReportedState=P}),98);
__d("fetchCtvCastPayloadQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29808457688745543"}),null);
__d("fetchCtvCastPayloadQuery.graphql",["fetchCtvCastPayloadQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},t={defaultValue:null,kind:"LocalArgument",name:"mediaParameters"},r={defaultValue:null,kind:"LocalArgument",name:"requestID"},o=[{alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Literal",name:"caster_id",value:0},{kind:"Variable",name:"media_parameters_json",variableName:"mediaParameters"},{kind:"Literal",name:"receiver_app_id",value:0x5bc08d3f803b9},{kind:"Variable",name:"request_id",variableName:"requestID"},{kind:"Literal",name:"uses_secure_connection",value:!0}],kind:"ScalarField",name:"ctv_cast_payload",storageKey:null}];return{fragment:{argumentDefinitions:[e,t,r],kind:"Fragment",metadata:null,name:"fetchCtvCastPayloadQuery",selections:o,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[e,r,t],kind:"Operation",name:"fetchCtvCastPayloadQuery",selections:o},params:{id:n("fetchCtvCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchCtvCastPayloadQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("fetchCtvCastPayload",["CometRelay","err","fetchCtvCastPayloadQuery.graphql","getErrorSafe","guid"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("fetchCtvCastPayloadQuery.graphql");function u(e){var t=e.castSessionID,n=e.environment;return o("CometRelay").fetchQuery(n,s,{castSessionID:t,mediaParameters:"{}",requestID:r("guid")()}).toPromise().then(function(e){return e!=null&&e.ctv_cast_payload!=null&&typeof e.ctv_cast_payload=="string"?{payload:e.ctv_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}function c(e){var t=e.albumID,n=e.castSessionID,a=e.environment;return o("CometRelay").fetchQuery(a,s,{castSessionID:n,mediaParameters:JSON.stringify({album_id:t}),requestID:r("guid")()}).toPromise().then(function(e){return typeof(e==null?void 0:e.ctv_cast_payload)=="string"?{payload:e.ctv_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}l.fetchPhotoCastPayload=u,l.fetchAlbumCastPayload=c}),98);
__d("fetchVideoCastPayloadQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9544699068932467"}),null);
__d("fetchVideoCastPayloadQuery.graphql",["fetchVideoCastPayloadQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"castSessionID"},t={defaultValue:null,kind:"LocalArgument",name:"playerOrigin"},r={defaultValue:null,kind:"LocalArgument",name:"playerSubOrigin"},o={defaultValue:null,kind:"LocalArgument",name:"videoID"},a=[{kind:"Variable",name:"id",variableName:"videoID"}],i={alias:null,args:[{kind:"Variable",name:"cast_session_id",variableName:"castSessionID"},{kind:"Variable",name:"player_origin",variableName:"playerOrigin"},{kind:"Variable",name:"player_suborigin",variableName:"playerSubOrigin"}],kind:"ScalarField",name:"video_cast_payload",storageKey:null};return{fragment:{argumentDefinitions:[e,t,r,o],kind:"Fragment",metadata:null,name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:a,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[i],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[o,t,r,e],kind:"Operation",name:"fetchVideoCastPayloadQuery",selections:[{alias:null,args:a,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("fetchVideoCastPayloadQuery_facebookRelayOperation"),metadata:{},name:"fetchVideoCastPayloadQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("fetchVideoCastPayload",["CometRelay","Promise","err","fetchVideoCastPayloadQuery.graphql","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("fetchVideoCastPayloadQuery.graphql");function c(e){var t=e.castSessionID,a=e.environment,i=e.playerOrigin,l=e.playerSubOrigin,c=e.videoID;return r("gkx")("20113")?(s||(s=n("Promise"))).resolve({type:"video_cannot_be_casted"}):o("CometRelay").fetchQuery(a,u,{castSessionID:t,playerOrigin:i,playerSubOrigin:l,videoID:c}).toPromise().then(function(e){return e==null||e.video==null||e.video.video_cast_payload==null?{type:"video_cannot_be_casted"}:typeof e.video.video_cast_payload=="string"?{payload:e.video.video_cast_payload,type:"loaded"}:{error:r("err")("Payload was not string"),type:"error"}}).catch(function(e){var t=r("getErrorSafe")(e);return{error:t,type:"error"}})}l.default=c}),98);
__d("CastingController",["CastingErrorUtils","CastingState","FBLogger","Promise","SubscriptionsHandler","TV2CommsParseUtils","err","fetchCtvCastPayload","fetchVideoCastPayload","getErrorSafe","performanceAbsoluteNow","promiseDone","removeFromArray","uuidv4","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u="PhotoAlbum",c="ChannelVideo",d="Photo",m=(function(){function t(e,t){var n=this;this.$5=[],this.$6=[],this.$7=[],this.$9=function(){var e=o("CastingState").initialCastingState();n.$12(e),n.$13(null)},this.$10=function(e){switch(e.type){case"status_update":n.$16(e);break;case"experience_status_update":n.$17(e);break;default:break}},this.$11=function(e,t){var a;if(o("CastingErrorUtils").isChromecastError(e,"cancel"))r("FBLogger")("fbtv").warn("ChromecastError while casting. Received ChromecastError with cancel code.");else if(((a=n.$2)==null?void 0:a.type)==="video_channel"){var i,l=(i=n.$2)==null?void 0:i.currentVideoID,s=o("CastingErrorUtils").appendCastingMetadataToExpandedError(o("CastingErrorUtils").getCastingErrorSafe(e),babelHelpers.extends({},l!=null?{videoID:l}:{}));r("FBLogger")("comet_cast_sender").catching(s).mustfix("Receiver error at %s while playing video channel",t),r("promiseDone")(n.$4.stopCasting())}else{var u,c=o("CastingErrorUtils").appendCastingMetadataToExpandedError(o("CastingErrorUtils").getCastingErrorSafe(e),{}),d=((u=n.$2)==null?void 0:u.type)||"";r("FBLogger")("comet_cast_sender").catching(c).mustfix("Receiver error at %s while playing in experience %s",t,d),r("promiseDone")(n.$4.stopCasting())}},this.$1=o("CastingState").initialCastingState(),this.$2=null,this.$3=t,this.$4=e,this.$8=new(r("SubscriptionsHandler")),this.$8.addSubscriptions(this.$4.onReceiverDisconnected(this.$9),this.$4.onSessionDisconnected(this.$9),this.$4.onSessionMessage(this.$10),this.$4.onError(this.$11))}var a=t.prototype;return a.destroy=function(){this.$8.release()},a.getCastingState=function(){return this.$1},a.getCastingExperienceState=function(){return this.$2},a.setCastingState=function(t){this.$1=t},a.setCastingExperienceState=function(t){this.$2=t},a.subscribeToCastingStateChange=function(t){var e=this;return this.$5.push(t),function(){r("removeFromArray")(e.$5,t)}},a.subscribeToCastingExperienceStateChange=function(t){var e=this;return this.$6.push(t),function(){r("removeFromArray")(e.$6,t)}},a.subscribeToCastingEvent=function(t){var e=this;return this.$7.push(t),function(){r("removeFromArray")(e.$7,t)}},a.startPlayVideoNow=function(a){var t=this,i=a.environment,l=a.origin,u=a.position,d=a.subOrigin,m=a.videoID;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),this.$14({data:{type:"cast_requested",videoID:m},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),r("promiseDone")((e||(e=n("Promise"))).all([r("fetchVideoCastPayload")({castSessionID:this.$3,environment:i,playerOrigin:l,playerSubOrigin:d,videoID:m}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){var i=a[0],l=a[1];if(i.type==="video_cannot_be_casted")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("err")("video_cannot_be_casted"),{videoID:m})).mustfix("The video is not eligible to be casted. The cast request is ignored."),(e||(e=n("Promise"))).resolve();if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{videoID:m})).mustfix("There was a failure retrieving video cast payload. Video failed to play."),(e||(e=n("Promise"))).resolve();var s=t.$4.isCasting(c),d=null;return s?d=t.$4.playVideoNow({position:u},i.payload):d=t.$4.startCasting(c,{position:u},i.payload),d.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e);var n=o("CastingState").initialVideoChannelExperienceState();t.$13(n)})}).catch(function(e){t.$14({data:{type:"cast_failed",videoID:m},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{videoID:m})).mustfix("Failed to cast video.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.startPhotoCasting=function(a){var t=this,i=a.environment;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),this.$14({data:{type:"photo_cast_requested"},timestamp:(s||(s=r("performanceAbsoluteNow")))()}),r("promiseDone")((e||(e=n("Promise"))).all([o("fetchCtvCastPayload").fetchPhotoCastPayload({castSessionID:this.$3,environment:i}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){r("vulture")("qPXMZG0PSaH9Vn1iXFlpU3QuEMY=");var i=a[0],l=a[1];if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{})).mustfix("There was a failure retrieving photo cast payload."),(e||(e=n("Promise"))).resolve();var s=t.$4.startCasting(d,{},i.payload);return s.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e),t.$13(o("CastingState").initialPhotoExperienceState())})}).catch(function(e){o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{})).mustfix("Failed to start photo casting session.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.startAlbumSlideshow=function(a){var t=this,i=a.albumID,l=a.environment;this.$1.isCastPending||(this.$12(babelHelpers.extends({},this.$1,{isCastPending:!0})),this.$13(null),r("promiseDone")((e||(e=n("Promise"))).all([o("fetchCtvCastPayload").fetchAlbumCastPayload({albumID:i,castSessionID:this.$3,environment:l}),this.$4.getSession().then(function(e){return t.$12(babelHelpers.extends({},t.$1,{receiverIsConnected:!0})),e})]).then(function(a){var i=a[0],l=a[1];if(i.type==="error")return r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(i.error,{})).mustfix("There was a failure retrieving album cast payload."),(e||(e=n("Promise"))).resolve();var s=t.$4.startCasting(u,{},i.payload);return s.then(function(){var e=babelHelpers.extends({},t.$1,t.$15());t.$12(e);var n=o("CastingState").initialPhotoAlbumExperienceState();t.$13(n)})}).catch(function(e){o("CastingErrorUtils").isChromecastError(e,"cancel")||r("FBLogger")("comet_cast_sender").catching(o("CastingErrorUtils").appendCastingMetadataToExpandedError(r("getErrorSafe")(e),{})).mustfix("Failed to cast album.")}).finally(function(){var e=babelHelpers.extends({},t.$1,{isCastPending:!1});t.$12(e)})))},a.disconnect=function(){r("promiseDone")(this.$4.stopCasting())},a.play=function(){r("promiseDone")(this.$4.playVideo())},a.pause=function(){r("promiseDone")(this.$4.pauseVideo())},a.setVolume=function(t){r("promiseDone")(this.$4.setVolume(t))},a.mute=function(){r("promiseDone")(this.$4.mute())},a.unmute=function(){r("promiseDone")(this.$4.unmute())},a.seek=function(t){r("promiseDone")(this.$4.seekVideo(t))},a.showSingleMedia=function(t){var e=null;switch(t.type){case"photo":e={photo_id:t.photoID};break;case"video":e={video_id:t.videoID};break;default:t.type;return}r("promiseDone")(this.$4.showPhoto({media_parameters:e,request_id:r("uuidv4")()}))},a.playAlbumSlideshow=function(){r("promiseDone")(this.$4.playAlbumSlideshow())},a.pauseAlbumSlideshow=function(){r("promiseDone")(this.$4.pauseAlbumSlideshow())},a.nextPhotoAlbumSlideshow=function(){r("promiseDone")(this.$4.nextPhotoAlbumSlideshow())},a.previousPhotoAlbumSlideshow=function(){r("promiseDone")(this.$4.previousPhotoAlbumSlideshow())},a.$12=function(t){t!==this.$1&&(this.$1=t,this.$5.slice().forEach(function(e){e(t)}))},a.$13=function(t){t!==this.$2&&(this.$2=t,this.$6.slice().forEach(function(e){e(t)}))},a.$14=function(t){this.$7.slice().forEach(function(e){e(t)})},a.$16=function(t){var e=this.$1,n=this.$2;if(n!=null&&n.type==="video_channel"){var o=t.data.video_id,a=this.$4.getVolume()||0,i=this.$4.isMuted()||!1;o!=null&&this.$14({data:{playbackState:t.data.state,playerInfo:(t==null?void 0:t.player_info)||null,receiverInfo:(t==null?void 0:t.receiver_info)||null,type:"video_status_update",videoID:o},timestamp:(s||(s=r("performanceAbsoluteNow")))()});var l={receiverIsConnected:!0,receiverIsMuted:i,receiverVolume:a};if(o==null)this.$12(babelHelpers.extends({},e,l)),this.$13(babelHelpers.extends({},n,{currentDuration:null,currentPlaybackState:null,currentPosition:null,currentVideoID:null}));else{var u=babelHelpers.extends({},e,l);this.$12(u),this.$13(babelHelpers.extends({},n,{currentDuration:t.data.duration!=null?t.data.duration:n.currentDuration,currentPlaybackState:t.data.state,currentPosition:t.data.position,currentVideoID:o}))}}},a.$17=function(t){var e=this.$2;if(e!=null&&e.type==="photo_album"&&t.data.name==="PhotoAlbum"){var n,r,a,i=o("TV2CommsParseUtils").parseCastingReceiverPhotoAlbumReportedState(t.data.payload),l=i.media_state,s=((n=(r=l.photo_state)==null?void 0:r.photo_id)!=null?n:(a=l.video_state)==null?void 0:a.video_id)||null,u=this.$18(l);this.$13(babelHelpers.extends({},e,{currentAssetID:s,currentPlaybackState:u}))}},a.$15=function(){return{receiverFriendlyName:this.$4.getFriendlyName()||null,receiverIsMuted:this.$4.isMuted()||null,receiverVolume:this.$4.getVolume()||0}},a.$18=function(t){return t.photo_state!=null?t.photo_state.photo_playback_state==="play"?"play":"paused":t.video_state!=null?["play","seeking"].includes(t.video_state.video_playback_state)?"play":"paused":null},t})();l.default=m}),98);
__d("CastingEventReporter",["ConnectedTvLoggingFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=this;this.$4=function(e){switch(e.data.type){case"cast_requested":t.logWithAvailableContext({event:"cast_requested",video_id_override:e.data.videoID}),t.$5(e);break;case"photo_cast_requested":t.logWithAvailableContext({event:"photo_cast_requested"}),t.$5(e);break;case"cast_failed":t.$5(e);break;case"video_status_update":{t.$6(e.data.receiverInfo,e.data.playerInfo),t.$5(e);break}default:break}},this.$1=null,this.$2=null,this.$3={cast_session_id:e,is_google_cast_bg:null,third_party_app_id:null,tv_os_version:null,tv_player_instance_key:null,tv_player_version:null,tv_session_id:null,tv_web_client_revision:null}}var t=e.prototype;return t.destroy=function(){this.$1!=null&&this.$1(),this.$1=null},t.bindToCastingController=function(t){this.$1=t.subscribeToCastingEvent(this.$4)},t.logWithAvailableContext=function(t){var e=this;r("ConnectedTvLoggingFalcoEvent").log(function(){return babelHelpers.extends({},e.$3,t)})},t.$5=function(t){var e=t.data;switch(e.type){case"cast_requested":this.$2={data:e,timestamp:t.timestamp};break;case"cast_failed":{var n=this.$2;this.logWithAvailableContext({event:"cast_failed",perf_time_ms:Math.floor(n!=null?t.timestamp-n.timestamp:0),video_id_override:e.videoID}),this.$2=null;break}case"video_status_update":{var r=this.$2;if(r==null)break;var o=r.data.videoID;e.videoID===o&&e.playbackState==="play"?(this.logWithAvailableContext({event:"cast_started",perf_time_ms:Math.floor(t.timestamp-r.timestamp)}),this.$2=null):e.videoID!==o&&(this.$2=null);break}}},t.$6=function(t,n){var e,r,o,a,i,l,s=(e=t==null?void 0:t.third_party_app_id)!=null?e:null,u=(t==null?void 0:t.cast_receiver_logger_session_id)||null,c=(r=t==null?void 0:t.is_google_cast_bg)!=null?r:null,d=(o=t==null?void 0:t.os_version)!=null?o:null,m=(a=t==null?void 0:t.web_client_revision)!=null?a:null,p=(i=n==null?void 0:n.player_instance_key)!=null?i:null,_=(l=n==null?void 0:n.player_version)!=null?l:null;this.$3=babelHelpers.extends({},this.$3,{is_google_cast_bg:c,third_party_app_id:s,tv_os_version:d,tv_player_instance_key:p,tv_player_version:_,tv_session_id:u,tv_web_client_revision:m})},e})();l.default=e}),98);
__d("TV2MessageTypes",[],(function(t,n,r,o,a,i){"use strict";var e="urn:x-cast:com.facebook.fb",l="urn:x-cast:com.google.cast.media";i.FBAPP_CAST_PROTOCOL_NAMESPACE=e,i.GOOGLE_CAST_MEDIA_PROTOCOL_NAMESPACE=l}),66);
__d("TV2PhotoShowRequest",[],(function(t,n,r,o,a,i){"use strict";function e(e){return m(JSON.parse(e),y("TV2PhotoShowRequest"))}function l(e){return JSON.stringify(p(e,y("TV2PhotoShowRequest")),null,2)}function s(e,t,n){throw n===void 0&&(n=""),Error(n?'Invalid value for key "'+n+'". Expected type '+JSON.stringify(e)+" but got "+JSON.stringify(t):"Invalid value "+JSON.stringify(t)+" for type "+JSON.stringify(e))}function u(e){if(e.jsonToJS===void 0){var t={};e.props.forEach(function(e){return t[e.json]={key:e.js,typ:e.typ}}),e.jsonToJS=t}return e.jsonToJS}function c(e){if(e.jsToJSON===void 0){var t={};e.props.forEach(function(e){return t[e.js]={key:e.json,typ:e.typ}}),e.jsToJSON=t}return e.jsToJSON}function d(e,t,n,r){r===void 0&&(r="");function o(e,t){return typeof e==typeof t?t:s(e,t,r)}function a(e,t){for(var r=e.length,o=0;o<r;o++){var a=e[o];try{return d(t,a,n)}catch(e){}}return s(e,t)}function i(e,t){return e.indexOf(t)!==-1?t:s(e,t)}function l(e,t){return Array.isArray(t)?t.map(function(t){return d(t,e,n)}):s("array",t)}function u(e){if(e===null)return null;var t=new Date(e);return isNaN(t.valueOf())?s("Date",e):t}function c(e,t,r){if(r===null||typeof r!="object"||Array.isArray(r))return s("object",r);var o={};return Object.getOwnPropertyNames(e).forEach(function(t){var a=e[t],i=Object.prototype.hasOwnProperty.call(r,t)?r[t]:void 0;o[a.key]=d(i,a.typ,n,a.key)}),Object.getOwnPropertyNames(r).forEach(function(a){Object.prototype.hasOwnProperty.call(e,a)||(o[a]=d(r[a],t,n,a))}),o}if(t==="any")return e;if(t===null)return e===null?e:s(t,e);if(t===!1)return s(t,e);for(;typeof t=="object"&&t.ref!==void 0;)t=C[t.ref];return Array.isArray(t)?i(t,e):typeof t=="object"?Object.prototype.hasOwnProperty.call(t,"unionMembers")?a(t.unionMembers,e):Object.prototype.hasOwnProperty.call(t,"arrayItems")?l(t.arrayItems,e):Object.prototype.hasOwnProperty.call(t,"props")?c(n(t),t.additional,e):s(t,e):t===Date&&typeof e!="number"?u(e):o(t,e)}function m(e,t){return d(e,t,u)}function p(e,t){return d(e,t,c)}function _(e){return{arrayItems:e}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{unionMembers:t}}function g(e,t){return{props:e,additional:t}}function h(e){return{props:[],additional:e}}function y(e){return{ref:e}}var C={TV2PhotoShowRequest:g([{json:"media_parameters",js:"media_parameters",typ:y("MediaParameters")},{json:"request_id",js:"request_id",typ:""}],"any"),MediaParameters:g([{json:"photo_id",js:"photo_id",typ:f(void 0,"")},{json:"video_id",js:"video_id",typ:f(void 0,"")}],"any")};a.exports={TV2PhotoShowRequestToJson:l,toTV2PhotoShowRequest:e}}),null);
__d("CastingReceiverManager",["CastingChromecastScanner","FBLogger","Promise","Random","SubscriptionsHandler","TV2CommsParseUtils","TV2MessageTypes","TV2PhotoShowRequest","getErrorSafe","promiseDone","removeFromArray"],(function(t,n,r,o,a,i,l){"use strict";var e,s="1.2.0",u=(function(){function t(e){var t=this;this.$5=null,this.$6=null,this.$10=null,this.$11=[],this.$12=[],this.$13=[],this.$14=[],this.$15=[],this.$16=[],this.$17=[],this.$18=[],this.$19=[],this.$4=new(r("CastingChromecastScanner"))(e,o("TV2MessageTypes").FBAPP_CAST_PROTOCOL_NAMESPACE),this.$2=null,this.$1=!1,this.$3=0,this.$6=null,this.$9=new Map,this.$20=new(r("SubscriptionsHandler")),this.$20.addSubscriptions(this.$4.onStatusChanged(function(e){var n=e.foundReceiver;t.$15.slice().forEach(function(e){e(!!n)})}),this.$4.onSessionDisconnected(function(){t.$21(),t.$14.slice().forEach(function(e){e()})}),this.$4.onSessionStarted(function(e){t.$22(e)}),this.$4.onError(function(e,n){t.$11.slice().forEach(function(t){t(e,n)})})),this.$7=this.$4.init(),r("promiseDone")(this.$7.then(function(){t.$2=!0,t.$1=!0,t.$13.slice().forEach(function(e){e()})},function(e){t.$2=!1,t.$12.slice().forEach(function(t){t(e)})}))}var a=t.prototype;return a.ready=function(){return this.$7},a.hasSupport=function(){return this.$2},a.hasFoundReceiver=function(){return this.$4.hasFoundReceiver()},a.isCasting=function(t){var e=!!this.$5&&this.$5.isCasting();return e&&t!=null&&(e=this.$6!=null&&this.$6.indexOf(t)>=0),e},a.getSession=function(){var e=this;return this.ready().then(function(){var t=e.$5;t!=null&&!t.isConnected()&&e.$21()}).then(function(){return e.$5?e.$5:(e.$8||(e.$8=e.$23()),e.$8)}).catch(function(t){throw e.$11.slice().forEach(function(e){e(t,"CastingReceiverManager.getSession")}),t}).finally(function(){e.$8=null})},a.startCasting=function(t,n,r){var e=this;return this.$24(t,n,r).then(function(t){t.success?e.$6=t.target:e.$6=null})},a.stopCasting=function(){var t=this;return this.isCasting()?this.ready().then(function(){var e=t.$5;return e!=null&&e.isDisconnected()&&t.$21(),t.$5}).then(function(t){return t==null?(e||(e=n("Promise"))).resolve(null):t.disconnect()}).then(function(){t.$21()}):(e||(e=n("Promise"))).resolve()},a.playVideoNow=function(r,o){return this.isCasting()?this.$25("next_video",babelHelpers.extends({},r,{auto_advance:!0}),o).then(function(){}):(e||(e=n("Promise"))).resolve()},a.skipToNextVideo=function(){return this.isCasting()?this.$25("skip_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.playVideo=function(r){return this.isCasting()?this.$25("play_video",{position:r||0}).then(function(){}):(e||(e=n("Promise"))).resolve()},a.pauseVideo=function(){return this.isCasting()?this.$25("pause_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.seekVideo=function(r){return this.isCasting()?this.$25("seek_video",{position:r}).then(function(){}):(e||(e=n("Promise"))).resolve()},a.showPhoto=function(r){return this.isCasting()?this.$25("show_photo",void 0,o("TV2PhotoShowRequest").TV2PhotoShowRequestToJson(r),"Photo").then(function(){}):(e||(e=n("Promise"))).resolve()},a.stopVideo=function(){return this.isCasting()?this.$25("stop_video").then(function(){}):(e||(e=n("Promise"))).resolve()},a.playAlbumSlideshow=function(){return this.isCasting()?this.$25("play_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.pauseAlbumSlideshow=function(){return this.isCasting()?this.$25("pause_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.nextPhotoAlbumSlideshow=function(){return this.isCasting()?this.$25("next_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.previousPhotoAlbumSlideshow=function(){return this.isCasting()?this.$25("previous_photo",void 0,void 0,"PhotoAlbum").then(function(){}):(e||(e=n("Promise"))).resolve()},a.getFriendlyName=function(){return this.$5==null?null:this.$5.getFriendlyName()},a.getVolume=function(){return this.$5==null?null:this.$5.getVolume()},a.setVolume=function(r){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.setVolume(r)},a.isMuted=function(){return!this.isCasting()||this.$5==null?null:this.$5.isMuted()},a.mute=function(){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.mute()},a.unmute=function(){return!this.isCasting()||this.$5==null?(e||(e=n("Promise"))).resolve():this.$5.unmute()},a.$26=function(){var e=this,t=this.$27();return this.$28(function(e){return{data:{client_cast_session:t,version:s},num:e,target:"version",timestamp:Date.now(),type:"version_request"}}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="version_response")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_response"');if(e.data==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Version response is missing data");return e.data})},a.$24=function(t,n,o){var e=this,a=this.$27();return this.$28(function(e){return{data:{client_cast_session:a,name:t,params:n,payload:o,version:s},num:e,target:"version_launch",timestamp:Date.now(),type:"version_launch"}}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="version_launch_response")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "version_launch_response"');if(e.data==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Version launch response is missing data");return e.data})},a.$30=function(){var t=this;return this.$6!=null?(e||(e=n("Promise"))).resolve(this.$6):this.getSession().then(function(e){return t.$26()}).then(function(e){var n=null;if(typeof e.currently_running_experience=="object"&&(n=e.currently_running_experience),n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Session has no target");return t.$6=n,t.$6})},a.$27=function(){var e=null;return localStorage&&(e=localStorage.getItem("CastingSessionKey")),e==null&&(e=r("Random").uint32().toString(16),localStorage&&localStorage.setItem("CastingSessionKey",e)),e},a.$28=function(t){var e=this.$3+=2;return this.getSession().then(function(n){if(n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("The message can not be sent without a session");var o=t(e);return n.sendMessage(o)}).then(function(){return{messageNum:e}})},a.$29=function(a){return this.getSession().then(function(t){if(t==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("The message cannot be received without a session");return new(e||(e=n("Promise")))(function(e,n){var r=t.onMessage(function(t){try{var i=o("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(t);if(i.type==="version_response"||i.type==="version_launch_response"||i.type==="experience_state"||i.type==="command_result"){var l=!a||a(i);l&&(r.remove(),e(i))}}catch(e){r.remove(),n(e)}})})})},a.$25=function(t,n,o,a){var e=this;return this.$30().then(function(r){return e.$28(function(e){return{data:{cmd:t,name:a,params:n,payload:o},num:e,target:r,timestamp:Date.now(),type:"experience_command"}})}).then(function(t){var n=t.messageNum;return e.$29(function(e){return e.response_num===n})}).then(function(e){if(e.type!=="command_result")throw r("FBLogger")("comet_cast_sender").mustfixThrow('Response message was not a "command_result"');return e.data})},a.$23=function(){var e=this;return this.$4.getSession().then(function(t){return e.$5==null&&(e.$5=t),e.$5})},a.$22=function(t){var e=this;this.$5=t;var n="extension";this.$8&&(n="site"),r("promiseDone")(this.$26().then(function(a){var i=null;typeof a.currently_running_experience=="object"&&(i=a.currently_running_experience),i!=null&&(e.$6=i),e.$18.slice().forEach(function(r){r(t,{session:t,source:n,success:!0,target:e.$6})}),e.$10=t.onMessage(function(t){try{var n=o("TV2CommsParseUtils").parseTV2CommsFBAppOutboundMessageFromJSON(t);e.$17.slice().forEach(function(e){e(n)})}catch(t){var a=r("getErrorSafe")(t);e.$11.slice().forEach(function(e){e(a,"CastingReceiverManager._onSessionStartedHandler")})}})}))},a.$21=function(){this.$10!=null&&(this.$10.remove(),this.$10=null);var e=this.$5;e!=null&&e.destroy(),this.$5=null,this.$6=null},a.onError=function(t){var e=this.$11;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onExperienceNotSupported=function(t){var e=this.$12;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onExperienceReady=function(t){var e=this.$13;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onReceiverDisconnected=function(t){var e=this.$14;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onReceiverStatusChanged=function(t){var e=this.$15;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionDisconnected=function(t){var e=this.$16;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionMessage=function(t){var e=this.$17;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onSessionStarted=function(t){var e=this.$18;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},a.onStopView=function(t){var e=this.$19;return e.push(t),{remove:function(){r("removeFromArray")(e,t)}}},t})();l.default=u}),98);
__d("CastingControllerHooks",["CastingContext","CastingController","CastingEventReporter","CastingReceiverManager","CurrentUser","ExecutionEnvironment","FBLogger","Promise","guid","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useContext,m=c.useEffect,p=c.useState,_=null;function f(){if(_!=null)return _;var e=new(r("CastingReceiverManager"))("AAF8F49E"),t=r("guid")(),n=new(r("CastingController"))(e,t),o=new(r("CastingEventReporter"))(t);return o.bindToCastingController(n),_={castingController:n,castingEventReporter:o,castingReceiverManager:e},_}function g(){var e=h(),t=e.castingReceiverManager;return t}function h(){var t=o("react-compiler-runtime").c(1);if((s||(s=r("ExecutionEnvironment"))).canUseDOM&&r("CurrentUser").isLoggedIn()){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=f(),t[0]=a):a=t[0],a}throw new(e||(e=n("Promise")))(y)}function y(){}function C(){var e=h(),t=e.castingController;return t}function b(){var e=o("react-compiler-runtime").c(6),t=g(),n=d(o("CastingContext").SetCastingControllerContext),r=p(!1),a=r[0],i=r[1],l=p(!1),s=l[0],u=l[1],c,_;e[0]!==t?(c=function(){var e=t.onExperienceReady(function(){i(t.hasSupport()||!1)});return i(t.hasSupport()||!1),(function(){return e.remove()})},_=[t],e[0]=t,e[1]=c,e[2]=_):(c=e[1],_=e[2]),m(c,_);var f,h;return e[3]!==t?(f=function(){var e=t.onReceiverStatusChanged(function(){u(t.hasFoundReceiver()||!1)});return u(t.hasFoundReceiver()||!1),(function(){return e.remove()})},h=[t],e[3]=t,e[4]=f,e[5]=h):(f=e[4],h=e[5]),m(f,h),!(n==null||!a||!s)}function v(){var e=o("react-compiler-runtime").c(4),t=C(),n=d(o("CastingContext").SetCastingControllerContext);if(n==null)throw r("FBLogger")("comet_cast_sender").mustfixThrow("Casting has to be initialized inside CastingProvider.");var a,i;e[0]!==t||e[1]!==n?(a=function(){n(t)},i=[n,t],e[0]=t,e[1]=n,e[2]=a,e[3]=i):(a=e[2],i=e[3]),m(a,i)}l.useCastingController=C,l.useIsCastAvailable=b,l.useCastingInitializeIfNecessary=v}),98);
__d("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql",["VideoPlayerRelay_video$normalization.graphql"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},a=[{kind:"Literal",name:"delight_surface",value:"COMMENT"}],i=[r],l={kind:"Variable",name:"scale",variableName:"scale"},s={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},d={kind:"InlineFragment",selections:i,type:"Node",abstractKey:"__isNode"},m={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},p=[r,m],_={kind:"InlineFragment",selections:i,type:"XFBTopicTag",abstractKey:null},f={alias:null,args:null,kind:"ScalarField",name:"is_verified",storageKey:null},g={alias:null,args:null,concreteType:"WorkForeignEntityInfo",kind:"LinkedField",name:"work_foreign_entity_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},h=[u];return{kind:"SplitOperation",metadata:{},name:"CometTextWithEntitiesRelay_textWithEntities$normalization",selections:[{alias:null,args:null,concreteType:"DelightAtRange",kind:"LinkedField",name:"delight_ranges",plural:!0,selections:[e,t,{alias:null,args:null,concreteType:"TextDelightCampaign",kind:"LinkedField",name:"campaign",plural:!1,selections:[r,o,{alias:null,args:a,concreteType:"TextDelightStylePair",kind:"LinkedField",name:"delight_styles",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"value",storageKey:null}],storageKey:'delight_styles(delight_surface:"COMMENT")'},{alias:null,args:a,concreteType:"DelightsAnimation",kind:"LinkedField",name:"delight_asset",plural:!1,selections:i,storageKey:'delight_asset(delight_surface:"COMMENT")'}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ImageAtRange",kind:"LinkedField",name:"image_ranges",plural:!0,selections:[e,t,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity_with_image",plural:!1,selections:[o,{alias:null,args:[l],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[s,{alias:null,args:null,kind:"ScalarField",name:"scale",storageKey:null},u,c],storageKey:null},d,{kind:"InlineFragment",selections:i,type:"CatalogMarketplaceEnhancementTransformedImage",abstractKey:null},{kind:"InlineFragment",selections:i,type:"XFBBasicMarketplaceImage",abstractKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"InlineStyleAtRange",kind:"LinkedField",name:"inline_style_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"inline_style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AggregatedEntitiesAtRange",kind:"LinkedField",name:"aggregated_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"sample_entities",plural:!0,selections:[o,{kind:"InlineFragment",selections:p,type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[r,m,{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"should_prioritize_ig_display_name",storageKey:null}],type:"InstagramUserV2",abstractKey:null},d,_],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"EntityAtRange",kind:"LinkedField",name:"ranges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"entity",plural:!1,selections:[o,{kind:"TypeDiscriminator",abstractKey:"__isEntity"},{alias:null,args:[{kind:"Literal",name:"site",value:"comet"}],kind:"ScalarField",name:"url",storageKey:'url(site:"comet")'},{alias:"mobileUrl",args:[{kind:"Literal",name:"site",value:"mobile"}],kind:"ScalarField",name:"url",storageKey:'url(site:"mobile")'},{kind:"InlineFragment",selections:[r,{kind:"InlineFragment",selections:[{alias:"profile_url",args:null,kind:"ScalarField",name:"url",storageKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"Actor",abstractKey:"__isActor"},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"GroupsCometHashtagsStoryMessageHashtagLink_hashtag",fragmentPropName:"hashtag",kind:"ModuleImport"}],type:"GroupHashtag",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"PagesCometPageLink_page",fragmentPropName:"page",kind:"ModuleImport"},{alias:null,args:null,kind:"ScalarField",name:"category_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"verification_status",storageKey:null},r,f],type:"Page",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"CometTextWithEntitiesRelay_textWithEntities",fragmentName:"ProfileGeminiWeakReferenceLink_user",fragmentPropName:"user",kind:"ModuleImport"},g,{alias:null,args:null,concreteType:"WorkUserInfo",kind:"LinkedField",name:"work_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_account",storageKey:null}],storageKey:null},f,r],type:"User",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"external_url",storageKey:null}],type:"ExternalUrl",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"time_index",storageKey:null}],type:"VideoTimeIndex",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null}],type:"WebLinkable",abstractKey:"__isWebLinkable"},{kind:"InlineFragment",selections:[g,{alias:null,args:null,kind:"ScalarField",name:"is_multi_company_group",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"work_official_status",storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[{alias:"imageScaledForFeed",args:[l,{kind:"Literal",name:"width",value:680}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[s,u,c],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"accessibility_caption",storageKey:null}],type:"Photo",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:[{kind:"Literal",name:"height",value:64},{kind:"Literal",name:"media_type",value:"image/png"},l,{kind:"Literal",name:"width",value:64}],concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null}],type:"XFBWorkCustomEmoji",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,fragment:n("VideoPlayerRelay_video$normalization.graphql"),kind:"FragmentSpread"},{alias:"thumbnailImage",args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:h,storageKey:null},c,s,{alias:null,args:null,kind:"ScalarField",name:"is_animated_gif",storageKey:null}],type:"Video",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"target_group",plural:!1,selections:[{args:null,documentName:"CometTitleSentenceGroupJoinButtonRenderer_entity",fragmentName:"CometFeedStoryCommunityAttributionTitleJoinButton_group",fragmentPropName:"group",kind:"ModuleImport"},r],storageKey:null}],type:"TitleSentenceGroupJoinButton",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"deep_link_number",storageKey:null}],type:"PageWhatsAppNumber",abstractKey:null},{kind:"InlineFragment",selections:[m,{alias:null,args:null,kind:"ScalarField",name:"ticker_symbol",storageKey:null}],type:"KGTickerNode",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"snapshot_url",storageKey:null},{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"DataSnapshotMetadata",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"ratio",storageKey:null}],storageKey:null}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null}],type:"Entity",abstractKey:"__isEntity"}],type:"XFBProdQuartzVizirSnapshot",abstractKey:null},d,_],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entity_is_weak_reference",storageKey:null},e,t],storageKey:null},{alias:null,args:null,concreteType:"ColorAtRange",kind:"LinkedField",name:"color_ranges",plural:!0,selections:[e,t,{alias:null,args:null,kind:"ScalarField",name:"hex_rgb_color_with_pound_key",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}]}})();a.exports=e}),null);
__d("LogoutHandler.react",["cr:11880"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:11880")}),98);
__d("MWChatLogOpenChatTab",["MessengerWebEntryPointsUtil","MessengerWebEventsFalcoEvent","ODS"],(function(t,n,r,o,a,i,l){"use strict";var e,s={};function u(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_user");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,other_user_fbid:t?null:n}})}function c(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_group");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,thread_fbid:t?null:n}})}function d(t,n,a){t===void 0&&(t=!1),(e||(e=o("ODS"))).bumpEntityKey(3185,"mwchat_tab","open_page");var i=o("MessengerWebEntryPointsUtil").cast(a);return s[n]=i,r("MessengerWebEventsFalcoEvent").log(function(){return{entry_point:i,event_name:"open_chat_tab",is_secured:t,other_user_fbid:t?null:n}})}l.logOpenUserTab=u,l.logOpenGroupTab=c,l.logOpenPageTab=d}),98);
__d("MWChatOpenSecureTabForUserCallback",["cr:312"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,r,o,a){if(n("cr:312")==null){a.addMarkerPoint("MAWChatOpenTabForUser_dependency_missing","AppTiming");return}return n("cr:312").openChatTab(e,t,r,o,a)}l.openChatTab=e}),98);
__d("MWChatOpenTabForGroupCallback",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagingThreadTypeUtil","Promise","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t){var a=(s||(s=o("I64"))).of_string(t);r("promiseDone")((c||(c=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(t){return t.runInTransaction(function(t){return o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.threads).getKeyRange(a)).then(function(i){return i!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType)?(r("FBLogger")("messenger_web_entrypoints").mustfix("Preloading secure thread not implemented yet"),(e||(e=n("Promise"))).resolve()):o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages_ranges_v2__generated).getKeyRange(a)).then(function(e){if(e!=null&&e.minMessageId===e.maxMessageId)return r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),{direction:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:a})}):(e||(e=n("Promise"))).resolve()})},"readwrite",void 0,void 0,i.id+":27")}))}l.call=d}),98);
__d("getLSMediaContactProfilePictureLargeUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.profilePictureLargeUrlExpirationTimestampMs;if(t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)){var n;return(n=e.profilePictureLargeFallbackUrl)!=null?n:e.profilePictureLargeUrl}else return e.profilePictureLargeUrl}l.default=e}),98);
__d("MWDesktopNotifications",["fbt","I64","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSMessagingThreadTypeUtil","MAWAttachmentBlob.react","MAWGetAttachmentThumbnailBlob","MessagingAttachmentType","ReQL","cr:2472","getLSMediaContactProfilePictureLargeUrl","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","getMWPAttachmentMessageAnnouncement","promiseDone"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;async function c(t,n,a){var i,l,s;if(((i=Notification)==null?void 0:i.permission)==="granted"){var u=await Promise.all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n.threadKey)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange(n.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.participants).getKeyRange(n.threadKey,n.senderId)),o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(n.threadKey,n.messageId))]),c=u[0],_=u[1],f=u[2],g=u[3];if(!(c==null||_==null||f==null)){var h=o("LSMessagingThreadTypeUtil").isGroup(c.threadType),y=d(h,c.threadName,f.nickname,_.name),C=m(n,g),b=await p(g,o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType)),v=new Notification(y,{body:C,icon:(l=(s=r("getLSMediaThreadPictureUrl")(c))!=null?s:r("getLSMediaContactProfilePictureLargeUrl")(_))!=null?l:r("getLSMediaContactProfilePictureUrl")(_),image:b,tag:n.messageId,timestamp:(e||(e=o("I64"))).to_float(n.timestampMs)});v.onclick=function(){window.focus(),r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(n.threadKey)),function(e){e!=null&&a.openInbox({threadKey:n.threadKey,threadType:e.threadType},"desktopNotification")})}}}}function d(e,t,n,r){var o=n!=null?n:r;return e&&t!=null?s._(/*BTDS*/"{senderName} to {threadName}",[s._param("senderName",o),s._param("threadName",t)]).toString():e?s._(/*BTDS*/"{senderName} to your group",[s._param("senderName",o)]).toString():o}function m(e,t){var o,a=e.text,i=a!=null?n("cr:2472")==null?a:n("cr:2472").unvault(a):null;return i!=null&&i!==""?i:(o=r("getMWPAttachmentMessageAnnouncement")(t,!1))==null?void 0:o.toString()}async function p(t,n){if(t.length!==0){var a=t[0];if(!n)return o("LSMediaUrlAttachment").previewUrl(a);var i=a.attachmentFbid,l=a.attachmentType,s=a.authorityLevel;if(!(i===(e||(e=o("I64"))).to_string((e||(e=o("I64"))).max_int)&&(e||(e=o("I64"))).equal(s,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))))switch(!0){case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):try{return o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense(a,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)):if(a.previewUrl!=null)return o("LSMediaUrlAttachment").previewUrl(a);try{return o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)):case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)):case(e||(e=o("I64"))).equal(l,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):try{return o("MAWAttachmentBlob.react").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWDesktopNotifications",void 0,a.attachmentFbid+"_MWDesktopNotifications")}catch(e){if(e instanceof Promise)return e;throw e}}}}l.triggerLocalNotification=c}),226);
__d("ReStoreDbClosedError",["ClientConsistencyEventEmitter","MAWCurrentUser"],(function(t,n,r,o,a,i,l){"use strict";var e="ReStore DB closed",s=(function(t){function n(n){var a,i=n!=null?n:e;switch(a=t.call(this,i)||this,a.message=i,o("MAWCurrentUser").getAppID()){case 772021112871879:r("ClientConsistencyEventEmitter").emit("hardRefresh","restore_db_closed");break;default:r("ClientConsistencyEventEmitter").emit("softRefresh","restore_db_closed")}return a}return babelHelpers.inheritsLoose(n,t),n})(babelHelpers.wrapNativeSuper(Error));l.default=s}),98);
__d("MWLSPreloadThreadForContact",["FBLogger","I64","LSDatabaseSingleton","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSVerifyThreadRowExistsStoredProcedure","MAWVerifyThreadCutover","Promise","ReQL","ReStoreDbClosedError","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t){r("promiseDone")((s||(s=o("LSDatabaseSingleton"))).LSDatabaseSingleton.then(function(a){return a.runInTransaction(function(i){var l=(c||(c=o("I64"))).of_string(t);return o("MAWVerifyThreadCutover").verifyThreadCutover((e||(e=n("Promise"))).resolve(a),l).then(function(e){if(!e)return o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.messages_ranges_v2__generated).getKeyRange(l)).then(function(e){return e!=null?e.minMessageId===e.maxMessageId&&e.minMessageId!==""?r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(i),{direction:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:e.minTimestampMs,threadKey:l}):void 0:r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(i),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:l})})})},"readwrite",void 0,void 0,i.id+":29").catch(function(e){if(e instanceof r("ReStoreDbClosedError"))r("FBLogger")("messenger_web").info("Failed to preload thread, db closed.");else throw e})}))}function m(){return d}l.verifyThreadExists=d,l.usePreloaderForUser=m}),98);
__d("MessengerLogoutHandler.react",["DTSG","DTSGUtils","FBLogger","Run","SprinkleConfig","WebStorage","XMessengerDotComLogoutController","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useImperativeHandle,_=c.useRef;function f(e){var t=o("react-compiler-runtime").c(8),n=e.ref,a=e.shouldInitiateLogout,i=_(!1),l=_(),s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=function(){i.current=!0;var e=l.current;if(e==null){r("FBLogger")("web_navigation_and_bookmarks").mustfix("Unable to get logout form ref to submit","comet_ui");return}o("Run").onUnload(h),e.submit()},t[0]=s):s=t[0];var c=s,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=function(){return{logout:c}},t[1]=d):d=t[1],p(n,d);var f,y;t[2]!==a?(f=function(){l.current==null?r("FBLogger")("web_navigation_and_bookmarks").mustfix("Expected logout form ref to be valid"):a===!0&&c()},y=[c,a],t[2]=a,t[3]=f,t[4]=y):(f=t[3],y=t[4]),m(f,y);var C,b;if(t[5]===Symbol.for("react.memo_cache_sentinel")){var v=r("XMessengerDotComLogoutController").getURIBuilder().getURI();C={};var S=o("DTSG").getToken();S!=null&&S.length>0&&(C.fb_dtsg=S,r("SprinkleConfig").param_name.length>0&&(C[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(S))),b=v.toString(),t[5]=C,t[6]=b}else C=t[5],b=t[6];var R;return t[7]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx("form",{action:b,method:"POST",ref:l,style:{display:"none"},children:Object.entries(C).map(g)}),t[7]=R):R=t[7],R}function g(e){var t=e[0],n=e[1];return u.jsx("input",{name:t,type:"hidden",value:n},t)}g.displayName=g.name+" [from "+i.id+"]";function h(){var t,n;(t=(e||(e=r("WebStorage"))).getSessionStorage())==null||t.clear(),(n=(e||(e=r("WebStorage"))).getLocalStorage())==null||n.clear()}l.default=f}),98);
__d("VideoPlayerCastControlIcon.react",["fbt","ix","CastingControllerHooks","CometRelay","CometWatchAndScrollVideoContext","FBLogger","JSResourceForInteraction","VideoPlayerControlIcon.react","VideoPlayerHooks","emptyFunction","fbicon","react","react-compiler-runtime","useCometLazyDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useContext,f=r("JSResourceForInteraction")("CometCastingStopWatchAndScrollDialog.react").__setRef("VideoPlayerCastControlIcon.react");function g(e){var t,n=o("react-compiler-runtime").c(14),a=e.subOrigin;o("CastingControllerHooks").useCastingInitializeIfNecessary();var i=(t=(c||(c=o("VideoPlayerHooks"))).useVideoFbid())!=null?t:"",l=(c||(c=o("VideoPlayerHooks"))).useController(),m=o("CometRelay").useRelayEnvironment(),p=o("CastingControllerHooks").useCastingController(),g=_(r("CometWatchAndScrollVideoContext")),h=r("useCometLazyDialog")(f),y=h[0],C=g==null?void 0:g.videoID,b;n[0]!==p||n[1]!==m||n[2]!==a||n[3]!==l||n[4]!==i?(b=function(){if(i!=null){var e=l.getPlayheadPosition();p.startPlayVideoNow({environment:m,origin:"video_home",position:e,subOrigin:a,videoID:i})}else r("FBLogger")("comet_video_player").mustfix("Could not transition to Cast player because videoID was null")},n[0]=p,n[1]=m,n[2]=a,n[3]=l,n[4]=i,n[5]=b):b=n[5];var v=b,S;n[6]!==v||n[7]!==y||n[8]!==C?(S=function(){C!=null?y({onContinue:v,startingVideoType:"cast"},r("emptyFunction")):v()},n[6]=v,n[7]=y,n[8]=C,n[9]=S):S=n[9];var R=S,L;n[10]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Cast video to your TV"),n[10]=L):L=n[10];var E=L,k;n[11]===Symbol.for("react.memo_cache_sentinel")?(k=o("fbicon")._(u("788899"),20),n[11]=k):k=n[11];var I;return n[12]!==R?(I=d.jsx(r("VideoPlayerControlIcon.react"),{color:"white",icon:k,label:E,onPress:R,tooltip:E}),n[12]=R,n[13]=I):I=n[13],I}l.default=g}),226);
__d("VideoPlayerCastControl.react",["CastingControllerHooks","VideoPlayerCastControlIcon.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.subOrigin,a=o("CastingControllerHooks").useIsCastAvailable()&&!r("gkx")("20113");if(!a)return null;var i;return t[0]!==n?(i=s.jsx(r("VideoPlayerCastControlIcon.react"),{subOrigin:n}),t[0]=n,t[1]=i):i=t[1],i}l.default=u}),98);
__d("VideoPlayerSettingsMenuAudioTrackPaneToggle.react",["ix","CometImage.react","CometPressable.react","CometVideoPlayerAutoDubbingWWWStrings","CurrentLocale","VideoPlayerAudioTrackUtils","VideoPlayerSettingsMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={pressableOption:{width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(30),n=e.setPane,a=e.targetAudioTrack,i,l,d,m,p,_,f,g;if(t[0]!==n||t[1]!==(a==null?void 0:a.lang)||t[2]!==(a==null?void 0:a.role)){var h=o("VideoPlayerAudioTrackUtils").getIntlDisplayName(r("CurrentLocale").get(),a==null?void 0:a.lang);i=r("CometPressable.react"),t[11]!==n?(p=function(){n(o("VideoPlayerSettingsMenu.react").VideoPlayerSettingsMenuPaneType.AUDIO)},t[11]=n,t[12]=p):p=t[12],_="VideoPlayerSettingsMenu/mainPaneAudioTrackItem",f=c.pressableOption,t[13]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx("div",{className:"x1ypdohk x1s688f",children:o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_MENU_ITEM}),m={className:"x6s0dn4 x14ctfv x1ypdohk x78zum5 x1bhwmg6 x13a6bvl x13fj5qh x450l9j xn80e1m"},t[13]=m,t[14]=g):(m=t[13],g=t[14]),l="VideoPlayerSettingsMenu/mainPaneAudioTrackItemLabelManuallySelected",d=(a==null?void 0:a.role)===null?o("CometVideoPlayerAutoDubbingWWWStrings").VOD_TRANSLATIONS_OFF:(a==null?void 0:a.role)==="dub"&&h!=null?o("CometVideoPlayerAutoDubbingWWWStrings").getLanguageLabel(h):null,t[0]=n,t[1]=a==null?void 0:a.lang,t[2]=a==null?void 0:a.role,t[3]=i,t[4]=l,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=f,t[10]=g}else i=t[3],l=t[4],d=t[5],m=t[6],p=t[7],_=t[8],f=t[9],g=t[10];var y;t[15]!==l||t[16]!==d?(y=u.jsx("span",{"data-testid":void 0,children:d}),t[15]=l,t[16]=d,t[17]=y):y=t[17];var C;t[18]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x3nfvp2 xmgb6t1 xwklpps"},t[18]=C):C=t[18];var b;t[19]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx("span",babelHelpers.extends({},C,{children:u.jsx(r("CometImage.react"),{isDecorative:!0,src:s("480587")})})),t[19]=b):b=t[19];var v;t[20]!==m||t[21]!==y?(v=u.jsxs("div",babelHelpers.extends({},m,{children:[y,b]})),t[20]=m,t[21]=y,t[22]=v):v=t[22];var S;return t[23]!==i||t[24]!==v||t[25]!==p||t[26]!==_||t[27]!==f||t[28]!==g?(S=u.jsxs(i,{onPress:p,testid:void 0,xstyle:f,children:[g,v]}),t[23]=i,t[24]=v,t[25]=p,t[26]=_,t[27]=f,t[28]=g,t[29]=S):S=t[29],S}l.default=d}),98);
__d("XMDSToast.react",["fbt","BaseToast.react","CometThemeInfraUtils","MetaBrandXFilled24Icon.react","XMDSIcon.react","XMDSIconButton.react","XMDSText.react","XMDSThemeConfig","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={header:{marginBottom:"x1e56ztr",$$css:!0},link:{paddingTop:"x1iorvi4",paddingBottom:"xjkvuk6",wordBreak:"xdnwjd9",$$css:!0}},d={margin20:{marginBottom:"xieb3on",$$css:!0},margin32:{marginBottom:"x1iymm2a",$$css:!0},margin48:{marginBottom:"x13ihpsm",$$css:!0},margin64:{marginBottom:"x16bybu0",$$css:!0}},m={20:d.margin20,32:d.margin32,48:d.margin48,64:d.margin64};function p(e){var t=o("react-compiler-runtime").c(20),n=e.action,a=e.addOnStart,i=e.density,l=e.header,d=e.message,p=e.offsetFooter,g=e.onDismiss,h=e.ref,y=e.size,C=e.testid,b=e.withoutCloseButton,v=y===void 0?"full-width":y,S=b===void 0?!1:b,R;t[0]!==n||t[1]!==g?(R=n!=null?{label:n.label,labelRenderer:f,onPress:function(t){n.onPress(t,n.dismissToastOnPress===!0?g:_)},testid:n.testid}:void 0,t[0]=n,t[1]=g,t[2]=R):R=t[2];var L;t[3]!==g||t[4]!==S?(L=!S&&u.jsx(r("XMDSIconButton.react"),{"aria-label":s._(/*BTDS*/"Close"),onPress:g,children:u.jsx(r("XMDSIcon.react"),{color:"toast-DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",icon:r("MetaBrandXFilled24Icon.react"),size:24})}),t[3]=g,t[4]=S,t[5]=L):L=t[5];var E;t[6]!==l||t[7]!==d?(E=function(t){var e=t.toastMessageId;return u.jsxs("div",{className:"x78zum5 xdt5ytf",id:e,children:[l!=null&&u.jsx(r("XMDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"bodyEmphasized",xstyle:c.header,children:l}),u.jsx(r("XMDSText.react"),{color:"toastText_DO_NOT_USE_WILL_BE_DELETED_WITHOUT_NOTICE",textStyle:"body",children:d})]})},t[6]=l,t[7]=d,t[8]=E):E=t[8];var k=p&&m[p],I;return t[9]!==a||t[10]!==i||t[11]!==g||t[12]!==h||t[13]!==v||t[14]!==R||t[15]!==L||t[16]!==E||t[17]!==k||t[18]!==C?(I=u.jsx(r("BaseToast.react"),{action:R,addOnStart:a,closeButton:L,density:i,message:E,offsetStyles:k,onDismiss:g,size:v,testid:void 0,themeConfigOverride:o("CometThemeInfraUtils").enableCometThemeInfraThemeInXMDSComponents()?void 0:r("XMDSThemeConfig"),toastRef:h}),t[9]=a,t[10]=i,t[11]=g,t[12]=h,t[13]=v,t[14]=R,t[15]=L,t[16]=E,t[17]=k,t[18]=C,t[19]=I):I=t[19],I}function _(){}function f(e){return u.jsx(r("XMDSText.react"),{color:"toastTextLink",textStyle:"body",xstyle:c.link,children:e})}f.displayName=f.name+" [from "+i.id+"]",l.default=p}),226);/*FB_PKG_DELIM*/
__d("MAWConstants",[],(function(t,n,r,o,a,i){"use strict";var e=5,l="Facebook user",s="Instagram user",u=3;i.MESSAGE_RETRY_COUNT_LIMIT=e,i.FB_UNKNOWN_USER=l,i.INS_UNKNOWN_USER=s,i.CURRENT_REGISTRATION_VERSION=u}),66);
__d("WAArmadilloICDC.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={};s.name="ICDCIdentityList",s.internalSpec={seq:[1,(e=o("WAProtoConst")).TYPES.INT32],timestamp:[2,e.TYPES.INT64],devices:[3,e.FLAGS.REPEATED|e.TYPES.BYTES],signingDeviceIndex:[4,e.TYPES.INT32]},u.name="SignedICDCIdentityList",u.internalSpec={details:[1,e.TYPES.BYTES],signature:[2,e.TYPES.BYTES]},l.ICDCIdentityListSpec=s,l.SignedICDCIdentityListSpec=u}),98);
__d("WACryptoCurveConstants",[],(function(t,n,r,o,a,i){"use strict";var e=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),l=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752"),s=BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),u=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),c=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989");i.P=e,i.I=l,i.D=s,i.A=u,i.L=c}),66);
__d("WACryptoCurveEncoding",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=BigInt(0),n=0;n<e.length;n++)t|=BigInt(e[n])<<BigInt(8)*BigInt(n);return t}function s(e){for(var t=new Uint8Array(32),n=e,r=0;r<32;r++)t[r]=Number(n&BigInt(255)),n>>=BigInt(8);return t}function u(e){if(e.length%2)throw r("err")("hexToU8: odd string length");for(var t=new Uint8Array(e.length/2),n=0;n<t.length;n++)t[n]=parseInt(e.slice(2*n,2*n+2),16);return t}l.bytesToBigIntLE=e,l.bigIntTo32LE=s,l.hexToU8=u}),98);
__d("WACryptoCurveTransformations",["WACryptoCurveConstants","WACryptoCurveEncoding","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return(e%o("WACryptoCurveConstants").P+o("WACryptoCurveConstants").P)%o("WACryptoCurveConstants").P}function s(e){return u(e,o("WACryptoCurveConstants").P-BigInt(2))}function u(t,n){for(var r=e(t),o=n,a=BigInt(1);o>BigInt(0);)o&BigInt(1)&&(a=e(a*r)),r=e(r*r),o>>=BigInt(1);return a}function c(t,n){var a=e(t*s(n)),i=u(a,o("WACryptoCurveConstants").P+BigInt(3)>>BigInt(3)),l=e(i*i);if(l!==a&&(i=e(i*o("WACryptoCurveConstants").I),l=e(i*i),l!==a))throw r("err")("Montgomery u is on the twist (no sqrt for v)");return i}function d(t){var n=e(o("WACryptoCurveEncoding").bytesToBigIntLE(t));if(n===o("WACryptoCurveConstants").P-BigInt(1))throw r("err")("u == -1 (mod p): cannot convert");var a=e(e(n-BigInt(1))*s(e(n+BigInt(1))));return o("WACryptoCurveEncoding").bigIntTo32LE(a)}function m(t,n){return{X:t,Y:n,Z:BigInt(1),T:e(t*n)}}function p(t){var n=e(t.x),o=e(t.y),a=e(BigInt(1)-o);if(a===BigInt(0))throw r("err")("y == 1: map undefined");var i=e((BigInt(1)+o)*s(a)),l=n===BigInt(0)?void 0:e(i*s(n));return{u:i,v:l}}function _(e){var t=e.x,n=e.y,r=o("WACryptoCurveEncoding").bigIntTo32LE(n),a=(t&BigInt(1))===BigInt(1)?128:0;return r[31]|=a,r}function f(t){if(!(t instanceof Uint8Array)||t.length!==32)throw r("err")("Compressed Ed25519 key is not 32 bytes");var n=t[31],a=(n&128)!==0,i=t.slice();i[31]&=127;var l=e(o("WACryptoCurveEncoding").bytesToBigIntLE(i)),s=e(l*l),u=e(s-BigInt(1)),d=e(o("WACryptoCurveConstants").D*s+BigInt(1)),m=c(u,d);if((m&BigInt(1))!==(a?BigInt(1):BigInt(0))&&(m=e(-m)),m===BigInt(0)&&a)throw r("err")("Error during decompression of Ed25519: x coord is 0 but sign bit set");return{x:m,y:l}}l.mod=e,l.toEdwardsCompressed=d,l.affineToExtended=m,l.fromAffineToMontgomeryUV=p,l.compressEd25519=_,l.decompressEd25519=f}),98);
__d("WACryptoCurveEd25519PointOps",["WACryptoCurveConstants","WACryptoCurveTransformations","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n,r=e.T,a=e.X,i=e.Y,l=e.Z,s=t.T,u=t.X,c=t.Y,d=t.Z,m=(n=o("WACryptoCurveTransformations")).mod(a*u),p=n.mod(i*c),_=n.mod(r*o("WACryptoCurveConstants").D*s),f=n.mod(l*d),g=n.mod((a+i)*(u+c)-m-p),h=n.mod(f-_),y=n.mod(f+_),C=n.mod(p-o("WACryptoCurveConstants").A*m),b=n.mod(g*h),v=n.mod(y*C),S=n.mod(h*y),R=n.mod(g*C);return{X:b,Y:v,Z:S,T:R}}function s(e){var t,n=e.X,r=e.Y,a=e.Z,i=(t=o("WACryptoCurveTransformations")).mod(n*n),l=t.mod(r*r),s=t.mod(BigInt(2)*t.mod(a*a)),u=t.mod(o("WACryptoCurveConstants").A*i),c=n+r,d=t.mod(t.mod(c*c)-i-l),m=t.mod(u+l),p=t.mod(m-s),_=t.mod(u-l);return{X:t.mod(d*p),Y:t.mod(m*_),Z:t.mod(p*m),T:t.mod(d*_)}}function u(e,t){var n,r=e.X,a=e.Y,i=e.Z,l=t.X,s=t.Y,u=t.Z,c=(n=o("WACryptoCurveTransformations")).mod(r*u),d=n.mod(l*i),m=n.mod(a*u),p=n.mod(s*i);return c===d&&m===p}function c(t,n){for(var r={X:BigInt(0),Y:BigInt(1),Z:BigInt(1),T:BigInt(0)},o=t,a=n;a>BigInt(0);)a&BigInt(1)&&(r=e(r,o)),o=s(o),a>>=BigInt(1);return r}function d(e){var t,n=e.T,a=e.X,i=e.Y,l=e.Z,s=(t=o("WACryptoCurveTransformations")).mod(a*a),u=t.mod(i*i),c=t.mod(l*l),d=t.mod(c*c),m=t.mod(s*o("WACryptoCurveConstants").A),p=t.mod(c*t.mod(m+u)),_=t.mod(d+t.mod(o("WACryptoCurveConstants").D*t.mod(s*u)));if(p!==_)throw r("err")("bad point: equation left != right (1)");var f=o("WACryptoCurveTransformations").mod(a*i),g=o("WACryptoCurveTransformations").mod(l*n);if(f!==g)throw r("err")("bad point: equation left != right (2)");return!0}l.addPoints=e,l.doublePoint=s,l.equalPoints=u,l.scalarMult=c,l.isPointValid=d}),98);
__d("WACryptoCurveKeyCanonicalCheck",["WACryptoCurveConstants","WACryptoCurveEd25519PointOps","WACryptoCurveEncoding","WACryptoCurveTransformations"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("WACryptoCurveEd25519PointOps").equalPoints(e,{X:BigInt(0),Y:BigInt(1),Z:BigInt(1),T:BigInt(0)})}function s(e){var t=o("WACryptoCurveEncoding").bytesToBigIntLE(e);return t<o("WACryptoCurveConstants").P}function u(t){try{var n=o("WACryptoCurveTransformations").toEdwardsCompressed(t),r=o("WACryptoCurveTransformations").decompressEd25519(n),a=r.x,i=r.y,l=o("WACryptoCurveTransformations").affineToExtended(a,i),s=o("WACryptoCurveEd25519PointOps").scalarMult(l,o("WACryptoCurveConstants").L);return e(s)}catch(e){return!1}}function c(e){return u(e)&&s(e)}l.isIdentity=e,l.isInRange=s,l.isTorsionFree=u,l.isCanonical=c}),98);
__d("WACryptoEd25519",["WACryptoPrimitives","err"],(function(t,n,r,o,a,i,l){"use strict";var e=null;function s(t){var n=e;e=[];try{return t()}finally{(e!=null?e:[]).forEach(function(e){return void e.fill(0)}),e=n}}function u(t,n){if(e==null)throw r("err")("allocate called outside of active scope");return new t(n)}function c(e,t,n){o("WACryptoPrimitives").lowlevel.crypto_hash(e,t,n)}function d(e,t){for(var n=0;n<64;++n)t[n]=e[n],e[n]=0;_(e,t),t.fill(0)}function m(e,t){var n=[p(),p(),p(),p()];o("WACryptoPrimitives").lowlevel.scalarbase(n,t),j(e,n)}function p(e){var t=u(Float64Array,16);if(e){if(e.length>16)throw r("err")("Incorrect initialiser array provided to the fieldElement");for(var n=0;n<e.length;n++)t[n]=e[n]}return t}function _(e,t){o("WACryptoPrimitives").lowlevel.modL(e,t)}var f=function(){return p([0])},g=function(){return p([1])},h=function(){return p([2])},y=function(){return p([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139])};function C(){return[p(),p(),p(),p()]}function b(){return[p(),p(),p(),p()]}function v(){return[p(),p(),p()]}function S(e,t){for(var n=0,r=t;r>0;){var o=r%65536;e[n]=o,r=(r-o)/65536,n++}}function R(e,t){return Q(e,t)?0:1}function L(e){var t=o("WACryptoPrimitives").lowlevel.pack25519,n=u(Uint8Array,32);return t(n,e),n[0]&1}function E(e,t){var n=o("WACryptoPrimitives").lowlevel.M,r=o("WACryptoPrimitives").lowlevel.S,a=h(),i=p();r(i,t),n(e,a,i)}function k(e,t){var n=o("WACryptoPrimitives").lowlevel.A,r=o("WACryptoPrimitives").lowlevel.M,a=o("WACryptoPrimitives").lowlevel.S,i=f(),l=g(),s=p(),u=p(),c=p(),d=p();S(i,486662),a(s,t),r(u,i,t),n(c,s,u),n(d,c,l),r(e,t,d)}function I(e,t,n){n===1&&e.set(t)}var T=new Uint8Array([176,160,14,74,39,27,238,196,120,228,47,173,6,24,67,47,167,215,251,61,153,0,77,43,11,223,193,79,128,36,131,43]);function D(e,t){var n,r=(n=o("WACryptoPrimitives")).lowlevel.M,a=n.lowlevel.S,i=n.lowlevel.pow2523,l=n.lowlevel.unpack25519,s=p();l(s,T);var u=p();i(u,t);var c=p();r(c,t,u);var d=p();a(d,c);var m=p();r(m,c,s),I(c,m,1^R(d,t)),e.set(c)}function x(e,t){var n=o("WACryptoPrimitives").lowlevel.A,r=o("WACryptoPrimitives").lowlevel.M,a=o("WACryptoPrimitives").lowlevel.Z,i=g(),l=p(),s=p(),u=p();a(l,t,i),n(s,t,i),K(u,s),r(e,l,u)}function $(e,t){var n=o("WACryptoPrimitives").lowlevel.Z,r=f();n(e,r,t)}function P(e,t){var n=o("WACryptoPrimitives").lowlevel.M;n(e[0],t[0],t[3]),n(e[1],t[1],t[2]),n(e[2],t[2],t[3])}function N(e,t){var n=o("WACryptoPrimitives").lowlevel.M;n(e[0],t[0],t[3]),n(e[1],t[1],t[2]),n(e[2],t[2],t[3]),n(e[3],t[0],t[1])}function M(e,t){var n=o("WACryptoPrimitives").lowlevel.A,r=o("WACryptoPrimitives").lowlevel.S,a=o("WACryptoPrimitives").lowlevel.Z;r(e[0],t[0]),r(e[2],t[1]),E(e[3],t[2]),n(e[1],t[0],t[1]);var i=p();r(i,e[1]),n(e[1],e[2],e[0]),a(e[2],e[2],e[0]),a(e[0],i,e[1]),a(e[3],e[3],e[2])}var w=new Uint8Array([6,126,69,255,170,4,110,204,130,26,125,75,209,211,161,197,126,79,252,3,220,8,123,210,187,6,160,96,244,237,38,15]);function A(e,t,n){var r=o("WACryptoPrimitives").lowlevel.M,a=o("WACryptoPrimitives").lowlevel.unpack25519,i=p();a(i,w);var l=p();x(l,t);var s=p();k(s,t);var u=p();D(u,s);var c=p();r(c,t,i);var d=p();K(d,u);var m=p();r(m,c,d);var _=p();$(_,m),I(m,_,L(m)^n),e[0].set(m),e[1].set(l),e[2].set(g()),r(e[3],e[0],e[1])}function F(e,t){e[0].set(t[0]),e[1].set(t[1]),e[2].set(t[2])}function O(e,t){var n=v();F(n,t),M(e,n)}function B(e,t){var n=b(),r=v();O(n,t),P(r,n),M(n,r),P(r,n),M(n,r),N(e,n)}function W(e){var t,n=(t=o("WACryptoPrimitives")).lowlevel.M,r=t.lowlevel.S,a=t.lowlevel.pack25519,i=t.lowlevel.pow2523,l=p(),s=p(),u=p(),c=p(),d=p();i(l,e),r(s,l),r(u,s),n(c,u,e),n(d,c,e);var m=new Uint8Array(32);return a(m,d),1&m[31]}function q(e,t){$(e[0],t[0]),e[1].set(t[1]),e[2].set(t[2]),$(e[3],t[3])}function U(e,t){var n=C(),r=X(n,t);return r!==0?-1:(q(e,n),0)}function V(e,t){var n=o("WACryptoPrimitives").lowlevel.A,r=o("WACryptoPrimitives").lowlevel.M,a=t,i=g(),l=f();S(l,486662);var s=p();E(s,a);var u=p();n(u,s,i);var c=p();K(c,u);var d=p();r(d,c,l);var m=p();$(m,d);var _=p();k(_,m);var h=W(_),y=p([0]);I(y,l,h);var C=p();n(C,m,y);var b=p();$(b,C),I(C,b,h),e.set(C)}function H(e){var t=o("WACryptoPrimitives").lowlevel.unpack25519,n=o("WACryptoPrimitives").hash(e),r=(n[31]&128)>>7;n[31]&=127;var a=p();t(a,n);var i=p();G(i,a);var l=C();A(l,i,r);var s=C();return B(s,l),s}function G(e,t){return s(function(){return V(e,t)})}function z(e){return s(function(){return H(e)})}function j(e,t){var n=p(),r=p(),a=p(),i=o("WACryptoPrimitives").lowlevel.M,l=o("WACryptoPrimitives").lowlevel.pack25519;K(a,t[2]),i(n,t[0],a),i(r,t[1],a),l(e,r);var s=new Uint8Array(32);l(s,n),e[31]^=(s[0]&1)<<7}function K(e,t){var n=p();n.set(t);for(var r=o("WACryptoPrimitives").lowlevel.M,a=o("WACryptoPrimitives").lowlevel.S,i=253;i>=0;--i)a(n,n),i!==2&&i!==4&&r(n,n,t);e.set(n)}function Q(e,t){var n=o("WACryptoPrimitives").lowlevel.crypto_verify_32,r=o("WACryptoPrimitives").lowlevel.pack25519,a=new Uint8Array(32),i=new Uint8Array(32);return r(a,e),r(i,t),n(a,0,i,0)}function X(e,t){var n,r=(n=o("WACryptoPrimitives")).lowlevel.A,a=n.lowlevel.D,i=n.lowlevel.M,l=n.lowlevel.S,s=n.lowlevel.Z,u=n.lowlevel.pow2523,c=n.lowlevel.set25519,d=n.lowlevel.unpack25519,m=p(),_=p(),h=p(),C=p(),b=p(),v=p(),S=p();return c(e[2],g()),d(e[1],t),l(h,e[1]),i(C,h,a),s(h,h,e[2]),r(C,e[2],C),l(b,C),l(v,b),i(S,v,b),i(m,S,h),i(m,m,C),u(m,m),i(m,m,h),i(m,m,C),i(m,m,C),i(e[0],m,C),l(_,e[0]),i(_,_,C),Q(_,h)&&i(e[0],e[0],y()),l(_,e[0]),i(_,_,C),Q(_,h)?-1:(Y(e[0])===t[31]>>7&&s(e[0],f(),e[0]),i(e[3],e[0],e[1]),0)}function Y(e){var t=o("WACryptoPrimitives").lowlevel.pack25519,n=new Uint8Array(32);return t(n,e),n[0]&1}l.runInAllocationScope=s,l.allocate=u,l.hashSha512=c,l.reduce=d,l.scalarmultBase=m,l.fieldElement=p,l.modL=_,l.p3Element=C,l.unpack=U,l.elligator=G,l.hashToPoint=z,l.pack=j,l.inv25519=K,l.unpackneg=X}),98);
__d("WALock",["Promise","WAResolvable","WATagsLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return{lock:function(a,i){var r=new(o("WAResolvable")).Resolvable,l=a.map(function(e){return[e,new(o("WAResolvable")).Resolvable]});return(s||(s=n("Promise"))).all(l.map(function(e){var n=e[0],o=e[1];return t.enqueue(n,function(){return o.resolve(),r.promise})})).catch(function(){o("WATagsLogger").TAGS(["WALock"]).ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Lock failed for ",""])),a)}),s.all(l.map(function(e){var t=e[0],n=e[1];return n.promise})).then(function(){return i()}).finally(function(){r.resolve()})},wait:function(n){return t.wait(n)}}}l.makeLock=u}),98);
__d("WALockMap",["WALock","WAPromiseQueue"],(function(t,n,r,o,a,i,l){"use strict";function e(e){e===void 0&&(e=-1);var t=new(o("WAPromiseQueue")).PromiseQueueMap(e);return o("WALock").makeLock(t)}l.makeLockMap=e}),98);
__d("WACryptoLibraryConfig",[],(function(t,n,r,o,a,i){"use strict";var e={signalFutureMessagesMax:2e3,S508658AutoAcknowledgeStaleSessions:!1,baseKeyCanonicalCheck:!1};function l(){return e}function s(t){e=t}i.getCryptoLibraryConfig=l,i.setCryptoLibraryConfig=s}),66);
__d("WASignalSessions",["WABinary","WACryptoLibraryConfig","WASignalKeys","WASignalOther","err"],(function(t,n,r,o,a,i,l){"use strict";var e=3;function s(e){return!o("WACryptoLibraryConfig").getCryptoLibraryConfig().S508658AutoAcknowledgeStaleSessions||e.initialExchangeInfo==null?e:y(e.local,e.remote,e.rootKey,e.recvChains,e.sendChain,null,e.prevSendChainHighestIndex,e.prevSessions,e.aliceBaseKey)}function u(e,t){return c(e,0,t,[])}function c(e,t,n,r){return{ratchetPubKey:e,nextMsgIndex:t,chainKey:n,unusedMsgKeys:r}}function d(e,t){return m(e,0,t)}function m(e,t,n){return{ratchetKey:e,nextMsgIndex:t,chainKey:n}}function p(e,t,n){return{remoteOneTimeId:e,remoteSignedId:t,localOneTimePubKey:n}}function _(e,t){return y(e.local,e.remote,e.rootKey,e.recvChains,e.sendChain,e.initialExchangeInfo,e.prevSendChainHighestIndex,t,e.aliceBaseKey)}function f(e,t,n){return y(e.local,e.remote,e.rootKey,t,n,e.initialExchangeInfo,e.prevSendChainHighestIndex,e.prevSessions,e.aliceBaseKey)}function g(e,t,n,r){return n===void 0&&(n=e.sendChain),y(e.local,e.remote,r,t,n,null,Math.max(e.sendChain.nextMsgIndex-1,0),e.prevSessions,e.aliceBaseKey)}function h(e,t,n,r,o,a,i){return y(e,t,n,r,o,a,0,[],i)}function y(e,t,n,r,o,a,i,l,s){return{local:e,remote:t,rootKey:n,sendChain:o,recvChains:r,initialExchangeInfo:a,prevSendChainHighestIndex:i,prevSessions:l,aliceBaseKey:s}}function C(e,t){var n=new(o("WABinary")).Binary(t),r=o("WASignalOther").readBytes(n,32),a=o("WASignalOther").readBytes(n,32),i=o("WASignalOther").readBytes(n,16);return b(e,r,a,i)}function b(e,t,n,r){return{index:e,cipherKey:t,macKey:n,iv:r}}function v(e){return{senderRatchetKey:e.ratchetPubKey,chainKey:{index:e.nextMsgIndex,key:e.chainKey},messageKeys:e.unusedMsgKeys}}function S(e){var t=e.ratchetKey;return{senderRatchetKey:t.serializedPubKey,senderRatchetKeyPrivate:t.privateKey,chainKey:{index:e.nextMsgIndex,key:e.chainKey}}}function R(t){var n=t.initialExchangeInfo,r=t.local,o=t.remote,a=void 0;if(n){var i=n.remoteOneTimeId;a={preKeyId:i!=null?i:void 0,signedPreKeyId:n.remoteSignedId,baseKey:n.localOneTimePubKey}}return{currentSession:{sessionVersion:e,localIdentityPublic:r.pubKey,remoteIdentityPublic:o.pubKey,rootKey:t.rootKey,previousCounter:t.prevSendChainHighestIndex,senderChain:S(t.sendChain),receiverChains:t.recvChains.map(v),pendingPreKey:a,remoteRegistrationId:o.regId,localRegistrationId:r.regId,aliceBaseKey:t.aliceBaseKey},previousSessions:t.prevSessions}}function L(t){var n=t.initialExchangeInfo,r=t.local,a=t.remote,i=t.sendChain,l=void 0;if(n){var s=n.remoteOneTimeId;l={preKeyId:s!=null?s:void 0,signedPreKeyId:n.remoteSignedId,baseKey:o("WASignalOther").toBuffer(n.localOneTimePubKey)}}return{sessionVersion:e,localIdentityPublic:o("WASignalOther").toBuffer(r.pubKey),remoteIdentityPublic:o("WASignalOther").toBuffer(a.pubKey),rootKey:o("WASignalOther").toBuffer(t.rootKey),previousCounter:t.prevSendChainHighestIndex,senderChain:{senderRatchetKey:o("WASignalOther").toBuffer(i.ratchetKey.serializedPubKey),senderRatchetKeyPrivate:o("WASignalOther").toBuffer(i.ratchetKey.privateKey),chainKey:{index:i.nextMsgIndex,key:o("WASignalOther").toBuffer(i.chainKey)},messageKeys:[]},receiverChains:t.recvChains.map(function(e){return{senderRatchetKey:o("WASignalOther").toBuffer(e.ratchetPubKey),chainKey:{index:e.nextMsgIndex,key:o("WASignalOther").toBuffer(e.chainKey)},messageKeys:e.unusedMsgKeys.map(function(e){return{index:e.index,cipherKey:o("WASignalOther").toBuffer(e.cipherKey),macKey:o("WASignalOther").toBuffer(e.macKey),iv:o("WASignalOther").toBuffer(e.iv)}})}}),pendingPreKey:l,remoteRegistrationId:a.regId,localRegistrationId:r.regId,aliceBaseKey:t.aliceBaseKey==null?void 0:o("WASignalOther").toBuffer(t.aliceBaseKey)}}function E(e){var t=$(e.currentSession,"currentSession");return I(t,e.previousSessions)}function k(e){return I(e,[])}function I(t,n){var a=$(t.sessionVersion,"sessionVersion");if(a!==e)throw r("err")("Signal: bad session version "+a);var i=$(t.senderChain,"senderChain"),l=$(i.chainKey,"senderChain.chainKey"),s=m(o("WASignalKeys").makeSerializedKeyPairFrom(x(i.senderRatchetKeyPrivate,32,"senderRatchetKeyPrivate"),D(i.senderRatchetKey,"senderRatchetKey")),$(l.index,"senderChain.chainKey.index"),x(l.key,32,"senderChain.chainKey.key")),u=$(t.receiverChains,"receiverChains").map(function(e){var t=$(e.chainKey,"receiverChains[].chainKey");return c(D(e.senderRatchetKey,"receiverChains[].senderRatchetKey"),$(t.index,"receiverChains[].chainKey.index"),x(t.key,32,"receiverChains[].chainKey.key"),T(e.messageKeys))}),d={regId:o("WASignalOther").castRegistrationId($(t.localRegistrationId,"localRegistrationId")),pubKey:D(t.localIdentityPublic,"localIdentityPublic")},_={regId:o("WASignalOther").castRegistrationId($(t.remoteRegistrationId,"remoteRegistrationId")),pubKey:D(t.remoteIdentityPublic,"remoteIdentityPublic")},f=t.pendingPreKey,g=null;if(f){var h=f.preKeyId;g=p(h!=null?o("WASignalKeys").castToPreKeyId(h):null,o("WASignalKeys").castToSignedPreKeyId($(f.signedPreKeyId,"pendingPreKey.signedPreKeyId")),D(f.baseKey,"pendingPreKey.baseKey"))}var C=t.aliceBaseKey==null?null:D(t.aliceBaseKey,"aliceBaseKey");return y(d,_,x(t.rootKey,32,"rootKey"),u,s,g,t.previousCounter||0,n,C)}function T(e){return e.map(function(e){return{index:$(e.index,"messageKeys[].index"),cipherKey:x(e.cipherKey,32,"messageKeys[].cipherKey"),macKey:x(e.macKey,32,"messageKeys[].macKey"),iv:x(e.iv,16,"messageKeys[].iv")}})}function D(e,t){return o("WASignalKeys").castToSerializedPubKey(new Uint8Array($(e,t)))}function x(e,t,n){return o("WASignalOther").toBytes($(e,n),t)}function $(e,t){if(e==null)throw r("err")("Signal: protobuf is missing "+t);return e}l.FORMAT_VERSION=e,l.maybeClearPendingPreKey=s,l.makeFreshRecvChain=u,l.makeRecvChain=c,l.makeFreshSendChain=d,l.makeSendChain=m,l.makeInitialExchangeInfo=p,l.setPrevSessions=_,l.updateChains=f,l.ratchetSession=g,l.makeFreshSession=h,l.makeSession=y,l.splitMsgKey=C,l.serializeSession=R,l.detachSession=L,l.parseSessionFromRecord=E,l.parseSession=k,l._parseSession=I,l.bytesOrThrow=x,l.definedOrThrow=$}),98);
__d("WASignalSignatures",["Promise","WACryptoDependencies","WACryptoEd25519","WACryptoPrimitives","WAHex","WALongInt","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return o("WACryptoEd25519").runInAllocationScope(function(){var r,a=t.length,i=e.privateKey,l=new Uint8Array(32);(r=o("WACryptoEd25519")).scalarmultBase(l,i);var s=l[31]&128,u=new Uint8Array(a+128);u[0]=254,u.fill(255,1,32),u.set(i,32),u.set(t,64),u.set(n,a+64);var c=r.allocate(Uint8Array,64);r.hashSha512(c,u,a+128),u.set(l,32);var d=r.allocate(Float64Array,64);r.reduce(c,d),r.scalarmultBase(u,c);var m=r.allocate(Uint8Array,64);r.hashSha512(m,u,a+64),r.reduce(m,d);var p,_;for(p=0;p<32;++p)d[p]=c[p];for(p=0;p<32;++p)for(_=0;_<32;++_)d[p+_]+=m[p]*i[_];return r.modL(u.subarray(32,64),d),{pubKeyNegative:s!==0,signedMsg:u}})}function u(t,r){return(e||(e=n("Promise"))).resolve().then(function(){var e=o("WASignalOther").makeBytes(64);return o("WACryptoDependencies").getCrypto().getRandomValues(e),d(t,r,e)})}function c(e,t,n){var r=n[63];return r&96?!1:o("WACryptoEd25519").runInAllocationScope(function(){var a,i,l=(a=o("WACryptoPrimitives")).lowlevel.A,s=a.lowlevel.M,u=a.lowlevel.Z,c=a.lowlevel.pack25519,d=a.lowlevel.unpack25519,m=(i=o("WACryptoEd25519")).allocate(Uint8Array,64);m.set(n),m[63]=r&127;var p=i.fieldElement(),_=i.fieldElement(),f=i.fieldElement(),g=i.fieldElement(),h=i.fieldElement(),y=i.allocate(Uint8Array,32),C=i.fieldElement();return C[0]=1,d(p,e.subarray(1)),u(_,p,C),l(f,p,C),i.inv25519(g,f),s(h,_,g),c(y,h),y[31]=y[31]&127|r&128,a.signDetachedVerify(t,m,y)})}function d(e,t,n){var r=s(e,t,n),a=o("WASignalOther").sliceBytes(r.signedMsg,0,64);return a[63]=a[63]&127|(r.pubKeyNegative?128:0),a}function m(e,t,n){var a=o("WASignalKeys").makeKeyPair(),i=o("WASignalOther").makeBytes(64);o("WACryptoDependencies").getCrypto().getRandomValues(i);var l=d(n,o("WASignalKeys").serializePubKey(a),i);if(!Number.isSafeInteger(t))throw r("err")("Expected timestamp to be a safe integer, given "+String(t));return{id:o("WASignalKeys").castToPreKeyId(e),ts:t,keyPair:a,signature:l}}function p(e,t){var n=o("WASignalOther").makeBytes(64);return o("WACryptoDependencies").getCrypto().getRandomValues(n),d(e,t,n)}function _(e){var t=e.id,n=e.keyPair;return o("WASignalOther").encodeSignalProto(o("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,{id:t,publicKey:o("WASignalKeys").serializePubKey(n),privateKey:n.privateKey,signature:e.signature,timestamp:e.ts})}function f(e){try{var t=o("decodeProtobuf").decodeProtobuf(o("WASignalLocalStorageProtocol.pb").SignedPreKeyRecordStructureSpec,e),n=t.id,r=t.privateKey,a=t.publicKey,i=t.signature,l=t.timestamp;return n==null||a==null||r==null||i==null||l==null?null:{id:o("WASignalKeys").castToSignedPreKeyId(n),ts:o("WALongInt").numberOrThrowIfTooLarge(l),keyPair:o("WASignalKeys").makeKeyPairFromSerialized(o("WASignalOther").toBytes(r,32),o("WASignalKeys").castToSerializedPubKey(new Uint8Array(a))),signature:o("WASignalOther").toBytes(i,64)}}catch(e){return null}}function g(e){return new Uint8Array(o("WAHex").parseHex(e))}function h(e){if(e.length===33)return o("WASignalKeys").castToSerializedPubKey(e);if(e.length===32)return o("WASignalKeys").serializeIdentity(e);throw r("err")("verifyCertificate publicKey incorrect length")}function y(t,r,o){return(e||(e=n("Promise"))).resolve().then(function(){var e=m(t,r,o),n=_(e);return{plainObject:e,record:n}})}l.signMsg=u,l.verifyMsgSignalVariant=c,l.makeSignature=d,l.makeSignedPreKey=m,l.signSenderKeyMessage=p,l.serializeSignedPreKeyForPrivateStorage=_,l.deserializeSignedPreKey=f,l.convertPublicKeyHexToUint8Array=g,l.convertPublicKeyToSerializedPubKey=h,l.generateSignedPreKey=y}),98);
__d("WASignalWhisperTextProtocol.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={},p={};s.internalSpec={ratchetKey:[1,(e=o("WAProtoConst")).TYPES.BYTES],counter:[2,e.TYPES.UINT32],previousCounter:[3,e.TYPES.UINT32],ciphertext:[4,e.TYPES.BYTES]},u.internalSpec={registrationId:[5,e.TYPES.UINT32],preKeyId:[1,e.TYPES.UINT32],signedPreKeyId:[6,e.TYPES.UINT32],baseKey:[2,e.TYPES.BYTES],identityKey:[3,e.TYPES.BYTES],message:[4,e.TYPES.BYTES]},c.internalSpec={id:[1,e.TYPES.UINT32],baseKey:[2,e.TYPES.BYTES],ratchetKey:[3,e.TYPES.BYTES],identityKey:[4,e.TYPES.BYTES],baseKeySignature:[5,e.TYPES.BYTES]},d.internalSpec={id:[1,e.TYPES.UINT32],iteration:[2,e.TYPES.UINT32],ciphertext:[3,e.TYPES.BYTES]},m.internalSpec={id:[1,e.TYPES.UINT32],iteration:[2,e.TYPES.UINT32],chainKey:[3,e.TYPES.BYTES],signingKey:[4,e.TYPES.BYTES]},p.internalSpec={generation:[1,e.TYPES.UINT32],signature:[2,e.TYPES.BYTES]},l.SignalMessageSpec=s,l.PreKeySignalMessageSpec=u,l.KeyExchangeMessageSpec=c,l.SenderKeyMessageSpec=d,l.SenderKeyDistributionMessageSpec=m,l.DeviceConsistencyCodeMessageSpec=p}),98);
__d("WASignalGroupSession",["WASignalKeys","WASignalSessions"],(function(t,n,r,o,a,i,l){"use strict";var e=5,s=3;function u(e){var t=o("WASignalSessions").definedOrThrow(e.senderSigningKey,"senderSigningKey"),n=o("WASignalSessions").definedOrThrow(e.senderMessageKeys,"senderMessageKeys"),r=o("WASignalSessions").definedOrThrow(e.senderChainKey,"senderChainKey");return{senderSigningKeyPublic:S(t.public,"public"),senderSigningKeyPrivate:t.private?o("WASignalSessions").bytesOrThrow(t.private,32,"private"):void 0,senderKeyId:o("WASignalSessions").definedOrThrow(e.senderKeyId,"senderKeyId"),unusedMsgKeys:n.map(function(e){return _(o("WASignalSessions").definedOrThrow(e.iteration,"iteration"),o("WASignalSessions").bytesOrThrow(e.seed,50,"seed"))}),senderKeyChainKey:f(o("WASignalSessions").definedOrThrow(r.iteration,"iteration"),o("WASignalSessions").bytesOrThrow(r.seed,32,"seed"))}}function c(e,t,n,r,o){return{senderSigningKeyPublic:e,senderSigningKeyPrivate:t,senderKeyChainKey:n,senderKeyId:r,unusedMsgKeys:o==null?[]:o}}function d(e,t){var n=e.senderKeyStates.findIndex(function(e){return e.senderKeyId===t.senderKeyId});return{senderKeyStates:e.senderKeyStates.map(function(e,r){return r===n?t:e})}}function m(t,n){var r=t.senderKeyStates.slice(t.senderKeyStates.length>e-1?1:0);return r.push(n),{senderKeyStates:r}}function p(e){return{senderKeyStates:[e]}}function _(e,t){return{iteration:e,seed:t}}function f(e,t){return{nextMsgIndex:e,chainKey:t}}function g(e){var t=o("WASignalSessions").definedOrThrow(e.senderKeyStates,"senderKeyStates");return h(t)}function h(e){return y(e)}function y(e){var t=e.map(function(e){return u(e)});return{senderKeyStates:t}}function C(e,t){var n=e.senderKeyStates.findIndex(function(e){return e.senderKeyId===t});if(n!==-1)return e.senderKeyStates[n]}function b(e){return{senderKeyStates:e.senderKeyStates.map(function(e){return v(e)})}}function v(e){return{senderKeyId:e.senderKeyId,senderChainKey:{iteration:e.senderKeyChainKey.nextMsgIndex,seed:e.senderKeyChainKey.chainKey},senderSigningKey:{public:e.senderSigningKeyPublic,private:e.senderSigningKeyPrivate},senderMessageKeys:e.unusedMsgKeys.map(function(e){var t=e.iteration,n=e.seed;return{iteration:t,seed:n}})}}function S(e,t){return o("WASignalKeys").castToSerializedPubKey(new Uint8Array(o("WASignalSessions").definedOrThrow(e,t)))}function R(e){return e}l.FORMAT_VERSION=s,l.makeSenderKeyState=c,l.updateSessionWithUpdatedSenderKeyState=d,l.updateSessionWithNewSenderKeyState=m,l.makeNewSenderKeySession=p,l.makeSenderKeyMsgKey=_,l.makeSenderKeyChainKey=f,l.parseSessionFromRecord=g,l._parseSession=h,l.makeSenderKeySessionFromRecord=y,l.findSenderKeyState=C,l.serializeSession=b,l.serializeSenderKeyState=v,l.convertFromRawToSenderKeyState=R}),98);
__d("WASignalWhitepaper",["WABinary","WACryptoDependencies","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions"],(function(t,n,r,o,a,i,l){"use strict";var e=new Uint8Array(32);e.fill(255);var s=new Uint8Array([1]),u=new Uint8Array([2]);async function c(t,n,r){var a,i=t.regId,l=t.staticKeyPair,s=n.identity,u=n.signedKey.publicKey,c=r.privateKey,d=l.privateKey,m=(a=n.oneTimeKey)==null?void 0:a.publicKey,p=o("WABinary").Binary.build(e,y(d,u),y(c,s),y(c,u),m&&y(c,m)).readByteArrayView(),_=await h(p,"WhisperText"),f=_[0],C=_[1],b=n.ratchetKey,v=o("WASignalSessions").makeFreshRecvChain(b,C),S=o("WASignalKeys").makeSerializedKeyPair(),R=await g(f,S,b),L=o("WASignalSessions").makeInitialExchangeInfo(n.oneTimeKey==null?null:n.oneTimeKey.id,n.signedKey.id,o("WASignalKeys").serializePubKey(r));return o("WASignalSessions").makeFreshSession({regId:i,pubKey:o("WASignalKeys").serializePubKey(l)},{regId:n.regId,pubKey:s},R.rootKey,[v],o("WASignalSessions").makeFreshSendChain(S,R.chainKey),L,o("WASignalKeys").serializePubKey(r))}async function d(t,n,r,a){var i,l=t.regId,s=t.staticKeyPair,u=s.privateKey,c=a.signed.privateKey,d=r,m=n.pubKey,p=(i=a.oneTime)==null?void 0:i.privateKey,_=o("WABinary").Binary.build(e,C(m,c),C(d,u),C(d,c),p&&C(d,p)).readByteArrayView(),f=await h(_,"WhisperText"),g=f[0],y=f[1],b=a.ratchet,v=o("WASignalSessions").makeFreshSendChain(b,y);return o("WASignalSessions").makeSession({regId:l,pubKey:o("WASignalKeys").serializePubKey(s)},n,g,[],v,null,0,[],r)}function m(e){var t=o("WASignalGroupSession").makeSenderKeyState(o("WASignalKeys").serializePubKey(e),e.privateKey,o("WASignalGroupSession").makeSenderKeyChainKey(0,o("WASignalKeys").makeRawSenderKey()),o("WASignalOther").makeSenderKeyId(),[]);return Promise.resolve(o("WASignalGroupSession").makeNewSenderKeySession(t))}function p(e,t,n,r,a){var i=o("WASignalGroupSession").makeSenderKeyState(n,void 0,o("WASignalGroupSession").makeSenderKeyChainKey(t,r),e,[]),l=null;return a?l=o("WASignalGroupSession").updateSessionWithNewSenderKeyState(a,i):l=o("WASignalGroupSession").makeNewSenderKeySession(i),Promise.resolve(l)}async function _(e,t){var n=await o("WASignalOther").makeCryptoKey(t,"hmac-sha256"),r=function(t){return o("WACryptoDependencies").getCrypto().subtle.sign({name:"HMAC",hash:"SHA-256"},n,t)},a=r(s).then(function(e){return o("WASignalOther").hkdf(new Uint8Array(e),null,"WhisperMessageKeys",80)}).then(function(t){return o("WASignalSessions").splitMsgKey(e,t)}),i=r(u).then(function(e){return o("WASignalOther").toBytes(e,32)});return Promise.all([i,a])}async function f(e,t){var n=await o("WASignalOther").makeCryptoKey(t,"hmac-sha256"),r=function(t){return o("WACryptoDependencies").getCrypto().subtle.sign({name:"HMAC",hash:"SHA-256"},n,t)},a=r(s).then(function(e){return o("WASignalOther").hkdf(new Uint8Array(e),null,"WhisperGroup",50)}).then(function(t){return o("WASignalGroupSession").makeSenderKeyMsgKey(e,t)}),i=r(u).then(function(e){return o("WASignalOther").toBytes(e,32)});return Promise.all([i,a])}async function g(e,t,n){var r=t.privateKey,a=n,i=o("WASignalKeys").ecdh(r,a),l=await h(new Uint8Array(i),"WhisperRatchet",e),s=l[0],u=l[1];return{rootKey:s,chainKey:u}}async function h(e,t,n){n===void 0&&(n=null);var r=await o("WASignalOther").hkdf(e,n,t,64);return[o("WASignalOther").sliceBytes(r,0,32),o("WASignalOther").sliceBytes(r,32,32)]}function y(e,t){return new Uint8Array(o("WASignalKeys").ecdh(e,t))}function C(e,t){return y(t,e)}l.initiateSessionOutgoing=c,l.initiateSessionIncoming=d,l.initiateSenderKeySessionOutgoing=m,l.initiateSenderKeySessionIncoming=p,l.deriveMsgKey=_,l.deriveSenderKeyMsgKey=f,l.calculateRatchet=g}),98);
__d("WASignalCipher",["WABinary","WACryptoCurveKeyCanonicalCheck","WACryptoDependencies","WACryptoLibraryConfig","WACryptoUtils","WAResultOrError","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","decodeProtobuf","encodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";var e=40,s=8,u=2e3;async function c(e,t){var n=e.sendChain,r=await o("WASignalWhitepaper").deriveMsgKey(n.nextMsgIndex,n.chainKey),a=r[0],i=r[1],l=await S(i),u=l.cipherKey,c=l.macKey,d=await o("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-CBC",iv:i.iv},u,t),m=new(o("WABinary")).Binary;m.writeByteArray(e.local.pubKey),m.writeByteArray(e.remote.pubKey);var p=m.size();m.writeUint8(C(o("WASignalSessions").FORMAT_VERSION,o("WASignalSessions").FORMAT_VERSION)),o("encodeProtobuf").encodeProtobuf(o("WASignalWhisperTextProtocol.pb").SignalMessageSpec,{ratchetKey:n.ratchetKey.serializedPubKey,counter:i.index,previousCounter:e.prevSendChainHighestIndex,ciphertext:d},m);var _=m.readByteArrayView(),f=await v(c,_),g=_.subarray(p),h=o("WABinary").Binary.build(g,new Uint8Array(f,0,s)).readByteArrayView(),y,b,R=e.initialExchangeInfo;if(R!=null){var L,E=new(o("WABinary")).Binary;E.writeUint8(C(o("WASignalSessions").FORMAT_VERSION,o("WASignalSessions").FORMAT_VERSION)),o("encodeProtobuf").encodeProtobuf(o("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,{registrationId:e.local.regId,preKeyId:(L=R.remoteOneTimeId)!=null?L:void 0,signedPreKeyId:R.remoteSignedId,baseKey:R.localOneTimePubKey,identityKey:e.local.pubKey,message:h},E),y="pkmsg",b=E.readByteArrayView()}else y="msg",b=h;var k=o("WASignalSessions").makeSendChain(n.ratchetKey,i.index+1,a),I=o("WASignalSessions").updateChains(e,e.recvChains,k);return[I,{type:y,ciphertext:b}]}async function d(e,t){if(e==null)return o("WAResultOrError").makeError("errSignalNoSession");var n=await g(e,t);if(n.success){var r=n.value,a=r[0],i=r[1];return o("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:a,plaintext:i})}else{for(var l=e.prevSessions,s=n,u=0;!s.success&&u<l.length;u++){var c=o("WASignalSessions").maybeClearPendingPreKey(o("WASignalSessions").parseSession(l[u])),d=await g(c,t);if(d.success){var m=d.value,p=m[0],_=m[1],f=o("WASignalSessions").setPrevSessions(p,[o("WASignalSessions").detachSession(e)].concat(l.slice(0,u),l.slice(u+1))),h=!e||!o("WACryptoUtils").serializedPubKeysEqual(f.remote.pubKey,e.remote.pubKey)?f.remote.pubKey:null;s=o("WAResultOrError").makeResult({newSessionInfo:{newIdentity:h,baseSession:c,usedPreKey:null},updatedSession:f,plaintext:_})}}return s}}function m(e,t){if(e==null)return o("WAResultOrError").makeResult(null);var n=e;if(R(n,t))return o("WAResultOrError").makeResult(n);for(var r=n.prevSessions,a=0;a<r.length;a++){var i=o("WASignalSessions").parseSession(r[a]);if(R(i,t))return o("WAResultOrError").makeError("errSignalInvalidMsg")}return o("WAResultOrError").makeResult(null)}async function p(t,n,r,a){var i,l=a.localSignedPreKey;if(l==null)return o("WAResultOrError").makeError("errSignalInvalidSignedPreKey");var s=o("WASignalSignatures").deserializeSignedPreKey(l);if(s==null)return o("WAResultOrError").makeError("errSignalSignedPreKeyDeserialization");if(s.id!==r.localSignedPreKeyId)return o("WAResultOrError").makeError("errSignalSignedPreKeyIdMismatch");var u=null;if(r.localOneTimeKeyId!=null){var c=a.localOneTimeKey;if(c==null)return o("WAResultOrError").makeError("errSignalInvalidOneTimeKey");if(u=o("WASignalKeys").deserializePreKey(c),u==null)return o("WAResultOrError").makeError("errSignalOneTimeKeyDeserialization");if(u.id!==r.localOneTimeKeyId)return o("WAResultOrError").makeError("errSignalOneTimeKeyMismatch")}if(o("WACryptoLibraryConfig").getCryptoLibraryConfig().baseKeyCanonicalCheck&&!o("WACryptoCurveKeyCanonicalCheck").isCanonical(r.sessionBaseKey.subarray(1)))return o("WAResultOrError").makeError("errSignalBaseKeyIsNotCanonical");var d=await o("WASignalWhitepaper").initiateSessionIncoming(t,r.remote,r.sessionBaseKey,{signed:s.keyPair,oneTime:(i=u)==null?void 0:i.keyPair,ratchet:o("WASignalKeys").toSerializedKeyPair(s.keyPair)}),m=d.remote.pubKey,p=!n||!o("WACryptoUtils").serializedPubKeysEqual(m,n.remote.pubKey)?m:null;n&&!p&&(d=o("WASignalSessions").setPrevSessions(d,[o("WASignalSessions").detachSession(n)].concat(n.prevSessions.slice(0,e-1))));var _=await g(d,r);if(!_.success)return _;var f=_.value,h=f[0],y=f[1];return o("WAResultOrError").makeResult({newIdentity:p,baseSession:d,updatedSession:h,plaintext:y})}function _(e){var t,n,r=null;try{var a=y(e,o("WASignalSessions").FORMAT_VERSION,s);if(!a.success)return a;var i=o("decodeProtobuf").decodeProtobuf(o("WASignalWhisperTextProtocol.pb").SignalMessageSpec,a.value),l=i.ratchetKey;if(r=i.counter,n=i.ciphertext,l==null||r==null||n==null)return o("WAResultOrError").makeError("errSignalDeserializeInvalidProtoFormat");t=o("WASignalKeys").castToSerializedPubKey(new Uint8Array(l))}catch(e){return o("WAResultOrError").makeError("errSignalDeserializeRatchetKeyBadFormat")}var u={ratchetPubKey:t,counter:r,ciphertext:new Uint8Array(n),versionContentMac:e};return o("WAResultOrError").makeResult(u)}function f(e){var t=y(e,o("WASignalSessions").FORMAT_VERSION,0);if(!t.success)return t;var n,r,a,i,l;try{var s=o("decodeProtobuf").decodeProtobuf(o("WASignalWhisperTextProtocol.pb").PreKeySignalMessageSpec,t.value),u=s.baseKey,c=s.identityKey,d=s.message,m=s.preKeyId,p=s.registrationId,f=s.signedPreKeyId;if(p==null||f==null||u==null||c==null||d==null)return o("WAResultOrError").makeError("errSignalDeserializePkInvalidProtoFormat");i=o("WASignalKeys").castToSerializedPubKey(new Uint8Array(u)),n={regId:o("WASignalOther").castRegistrationId(p),pubKey:o("WASignalKeys").castToSerializedPubKey(new Uint8Array(c))},a=m!=null?o("WASignalKeys").castToPreKeyId(m):null,r=o("WASignalKeys").castToSignedPreKeyId(f),l=new Uint8Array(d)}catch(e){return o("WAResultOrError").makeError("errSignalDeserializePkKeyBadFormat")}var g=_(l);return g.success?o("WAResultOrError").makeResult(babelHelpers.extends({},g.value,{remote:n,sessionBaseKey:i,localSignedPreKeyId:r,localOneTimeKeyId:a})):g}async function g(e,t){var n=t.ciphertext,r=t.counter,a=t.ratchetPubKey,i=t.versionContentMac,l=e.recvChains,u=e.recvChains.findIndex(function(e){return o("WACryptoUtils").serializedPubKeysEqual(e.ratchetPubKey,a)}),c,d;if(u===-1){var m=await o("WASignalWhitepaper").calculateRatchet(e.rootKey,e.sendChain.ratchetKey,a),p=o("WASignalSessions").makeFreshRecvChain(a,m.chainKey),_=await h(p,r);if(!_.success)return _;var f=_.value,g=o("WASignalKeys").makeSerializedKeyPair(),y=await o("WASignalWhitepaper").calculateRatchet(m.rootKey,g,a),C=l.slice(-4);C.push(f.updatedChain),d=f.msgKey,c=o("WASignalSessions").ratchetSession(e,C,o("WASignalSessions").makeFreshSendChain(g,y.chainKey),y.rootKey)}else{var b=await h(l[u],r);if(!b.success)return b;var R=b.value,L=l.slice();L[u]=R.updatedChain,d=R.msgKey,c=o("WASignalSessions").updateChains(e,L,e.sendChain)}var E=await S(d),k=E.cipherKey,I=E.macKey,T=o("WABinary").Binary.build(e.remote.pubKey,e.local.pubKey,i.subarray(0,-s)).readByteArrayView(),D=await v(I,T),x=i.subarray(-s),$=!o("WACryptoUtils").uint8ArraysEqual(new Uint8Array(D,0,s),x),P=null;try{P=await o("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-CBC",iv:d.iv},k,n)}catch(e){}return $&&P==null?u===-1?o("WAResultOrError").makeError("errInvalidMacInvalidCipherKeyNewChain"):o("WAResultOrError").makeError("errInvalidMacInvalidCipherKey"):$?o("WAResultOrError").makeError("errInvalidMacWithDecryptedPlaintext"):P==null?o("WAResultOrError").makeError("errUnknownInvalidCipherKey"):o("WAResultOrError").makeResult([c,P])}async function h(e,t){var n=t-e.nextMsgIndex,r=o("WACryptoLibraryConfig").getCryptoLibraryConfig().signalFutureMessagesMax;if(n>r)return o("WAResultOrError").makeError("errSignalTooManyMessagesInFuture");var a=e.unusedMsgKeys;if(n<0){var i=a.findIndex(function(e){return e.index===t});return i===-1?o("WAResultOrError").makeError("errDuplicateMsg"):o("WAResultOrError").makeResult({msgKey:a[i],updatedChain:o("WASignalSessions").makeRecvChain(e.ratchetPubKey,e.nextMsgIndex,e.chainKey,b(a,i))})}var l=e.nextMsgIndex,s=await o("WASignalWhitepaper").deriveMsgKey(l,e.chainKey),c=s[0],d=s[1],m=null;if(n>0){var p=n+a.length-u;p>0?(m=a.slice(p),p-=a.length):m=a.slice();for(var _=l+1;_<=t;_++){p>0?p--:m.push(d);var f=await o("WASignalWhitepaper").deriveMsgKey(_,c);c=f[0],d=f[1]}}return o("WAResultOrError").makeResult({msgKey:d,updatedChain:o("WASignalSessions").makeRecvChain(e.ratchetPubKey,t+1,c,m||a)})}function y(e,t,n){if(e.length<1)return o("WAResultOrError").makeError("errSignalEmptyVersionContentSuffix");var r=e[0]>>>4;if(r!==t)return r<t?o("WAResultOrError").makeError("errSignalLegacyMsg"):o("WAResultOrError").makeError("errSignalInvalidVersion");var a=e.length-n;return a<1?o("WAResultOrError").makeError("errSignalContentExceededExpectedLength"):o("WAResultOrError").makeResult(e.subarray(1,a))}function C(e,t){return(e<<4|t)&255}function b(e,t){for(var n=[],r=0;r<e.length;r++)r!==t&&n.push(e[r]);return n}function v(e,t){return o("WACryptoDependencies").getCrypto().subtle.sign(o("WASignalOther").HMAC_SHA256,e,t)}function S(e){return Promise.all([o("WASignalOther").makeCryptoKey(e.cipherKey,"aes-cbc"),o("WASignalOther").makeCryptoKey(e.macKey,"hmac-sha256")]).then(function(e){var t=e[0],n=e[1];return{cipherKey:t,macKey:n}})}function R(e,t){var n=e.aliceBaseKey;return n?o("WACryptoUtils").serializedPubKeysEqual(n,t):!1}l.MAX_UNUSED_KEYS=u,l.encryptMsg=c,l.decryptMsg=d,l.findMatchingSession=m,l.decryptPkMsgWithNewSession=p,l.deserializeMsg=_,l.deserializePkMsg=f,l.decryptMsgFromSession=g,l.readContent=y,l.versionByte=C}),98);
__d("WASignalGroupCipher",["WABinary","WACryptoDependencies","WACryptoLibraryConfig","WALogger","WAResultOrError","WASignalCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSessions","WASignalSignatures","WASignalWhisperTextProtocol.pb","WASignalWhitepaper","decodeProtobuf","encodeProtobuf"],(function(t,n,r,o,a,i,l){"use strict";var e,s=64;async function u(e,t){var n=p(e);if(!n.success)return n;var r=n.value,a=r.chainKey,i=r.iteration,l=r.senderKeyId,s=r.signingKeyPublic,u=await o("WASignalWhitepaper").initiateSenderKeySessionIncoming(l,i,s,a,t);return o("WAResultOrError").makeResult(u)}function c(e){var t=o("WASignalGroupSession").serializeSenderKeyState(e),n=new(o("WABinary")).Binary;return n.writeUint8(o("WASignalCipher").versionByte(o("WASignalGroupSession").FORMAT_VERSION,o("WASignalGroupSession").FORMAT_VERSION)),o("encodeProtobuf").encodeProtobuf(o("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,{id:t.senderKeyId,iteration:o("WASignalSessions").definedOrThrow(t.senderChainKey,"senderChainKey").iteration,chainKey:o("WASignalSessions").definedOrThrow(t.senderChainKey,"senderChainKey").seed,signingKey:o("WASignalSessions").definedOrThrow(t.senderSigningKey,"senderSigningKey").public},n),n.readByteArrayView()}async function d(e,t){if(!e.senderKeyStates||e.senderKeyStates.length===0)return o("WAResultOrError").makeError("errSignalNoSession");var n=e.senderKeyStates[e.senderKeyStates.length-1],r=await o("WASignalWhitepaper").deriveSenderKeyMsgKey(n.senderKeyChainKey.nextMsgIndex,n.senderKeyChainKey.chainKey),a=r[0],i=r[1],l=await f(i.seed),s=l[0],u=l[1],c=await o("WACryptoDependencies").getCrypto().subtle.encrypt({name:"AES-CBC",iv:u},s,t),d=new(o("WABinary")).Binary;o("encodeProtobuf").encodeProtobuf(o("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,{id:n.senderKeyId,iteration:i.iteration,ciphertext:c},d);var m=new(o("WABinary")).Binary;m.writeUint8(o("WASignalCipher").versionByte(o("WASignalGroupSession").FORMAT_VERSION,o("WASignalGroupSession").FORMAT_VERSION)),m.writeBinary(d);var p=o("WASignalKeys").makeKeyPairFromSerialized(o("WASignalSessions").definedOrThrow(n.senderSigningKeyPrivate,"senderSigningKeyPrivate"),n.senderSigningKeyPublic),_=o("WASignalSignatures").signSenderKeyMessage(p,m.readByteArrayView()),g=new(o("WABinary")).Binary;g.writeUint8(o("WASignalCipher").versionByte(o("WASignalGroupSession").FORMAT_VERSION,o("WASignalGroupSession").FORMAT_VERSION)),g.writeBinary(d),g.writeByteArray(_);var h=o("WASignalGroupSession").makeSenderKeyChainKey(i.iteration+1,a),y=o("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(e,o("WASignalGroupSession").makeSenderKeyState(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,h,n.senderKeyId,n.unusedMsgKeys));return o("WAResultOrError").makeResult([y,g.readByteArrayView()])}async function m(e,t){var n=t.ciphertext,r=t.iteration,a=t.senderKeyMessageId,i=t.versionContentMac,l=o("WASignalGroupSession").findSenderKeyState(e,a);if(l==null)return o("WAResultOrError").makeError("errSignalNoSession");var s=l.senderSigningKeyPublic,u=g(i,s);if(!u)return o("WAResultOrError").makeError("errSignalInvalidKey");var c=await h(l,r);if(!c.success)return c;var d=c.value,m=d.msgKey,p=o("WASignalGroupSession").updateSessionWithUpdatedSenderKeyState(e,d.updatedSenderKeyState),_=await f(m.seed),y=_[0],C=_[1],b=await o("WACryptoDependencies").getCrypto().subtle.decrypt({name:"AES-CBC",iv:C},y,n);return o("WAResultOrError").makeResult([p,b])}function p(e){var t,n,r,a,i;try{if(i=o("WASignalCipher").readContent(e,o("WASignalGroupSession").FORMAT_VERSION,0),!i.success)return i;var l=o("decodeProtobuf").decodeProtobuf(o("WASignalWhisperTextProtocol.pb").SenderKeyDistributionMessageSpec,i.value);t=l.id,n=l.iteration;var s=o("WASignalSessions").bytesOrThrow(l.signingKey,33,"signingKey");if(r=o("WASignalKeys").castToSerializedPubKey(s),a=o("WASignalSessions").bytesOrThrow(l.chainKey,32,"chainKey"),t==null||n==null)return o("WAResultOrError").makeError("errSignalGrpInvalidProtoFormat")}catch(e){return o("WAResultOrError").makeError("errSignalGrpInvalidKeyFormat")}return o("WAResultOrError").makeResult({senderKeyId:t,iteration:n,signingKeyPublic:r,chainKey:a})}function _(t){if(t.length<1)return o("WAResultOrError").makeError("errSignalGrpVersionContentEmpty");var n=t[0]>>>4;if(n!==o("WASignalGroupSession").FORMAT_VERSION)return n<o("WASignalGroupSession").FORMAT_VERSION?o("WAResultOrError").makeError("errSignalLegacyMsg"):o("WAResultOrError").makeError("errSignalInvalidVersion");if(t.length<1+s)return o("WAResultOrError").makeError("errSignalGrpInvalidVersionContentLength");var r,a,i;try{var l=t.subarray(1,-s),u=o("decodeProtobuf").decodeProtobuf(o("WASignalWhisperTextProtocol.pb").SenderKeyMessageSpec,l);if(r=u.id,a=u.iteration,i=u.ciphertext,r==null||a==null||i==null)return o("WAResultOrError").makeError("errSignalGrpSenderKeyInvalidProtoFormat")}catch(t){return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Exception caught during SenderKeyMessageSpec Proto: ",""])),t),o("WAResultOrError").makeError("errSignalGrpSenderKeyProtoError")}return o("WAResultOrError").makeResult({senderKeyMessageId:r,iteration:a,ciphertext:new Uint8Array(i),versionContentMac:t})}async function f(e){var t=new(o("WABinary")).Binary(e),n=o("WASignalOther").readBytes(t,16),r=o("WASignalOther").readBytes(t,32);return[await o("WASignalOther").makeCryptoKey(r,"aes-cbc"),n]}function g(e,t){var n=e.subarray(e.length-s),r=e.subarray(0,e.length-s);return o("WASignalSignatures").verifyMsgSignalVariant(t,r,o("WASignalOther").toBytes(o("WASignalOther").toBuffer(n),64))}async function h(e,t){var n=e,r=t-n.senderKeyChainKey.nextMsgIndex,a=o("WACryptoLibraryConfig").getCryptoLibraryConfig().signalFutureMessagesMax;if(r>a)return o("WAResultOrError").makeError("errSignalGrpTooManyMessagesInFuture");var i=e.unusedMsgKeys||[];if(r<0){var l=i.findIndex(function(e){return e.iteration===t});return l===-1?o("WAResultOrError").makeError("errDuplicateMsg"):o("WAResultOrError").makeResult({msgKey:i[l],updatedSenderKeyState:o("WASignalGroupSession").makeSenderKeyState(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,n.senderKeyChainKey,n.senderKeyId,y(i,l))})}var s=n.senderKeyChainKey.nextMsgIndex,u=await o("WASignalWhitepaper").deriveSenderKeyMsgKey(s,n.senderKeyChainKey.chainKey),c=u[0],d=u[1],m=null;if(r>0){var p=r+i.length-o("WASignalCipher").MAX_UNUSED_KEYS;p>0?(m=i.slice(p),p-=i.length):m=i.slice();for(var _=s+1;_<=t;_++){p>0?p--:m.push(d);var f=await o("WASignalWhitepaper").deriveSenderKeyMsgKey(_,c);c=f[0],d=f[1]}}return o("WAResultOrError").makeResult({msgKey:d,updatedSenderKeyState:o("WASignalGroupSession").makeSenderKeyState(n.senderSigningKeyPublic,n.senderSigningKeyPrivate,o("WASignalGroupSession").makeSenderKeyChainKey(t+1,c),e.senderKeyId,m||i)})}function y(e,t){for(var n=[],r=0;r<e.length;r++)r!==t&&n.push(e[r]);return n}l.processSenderKeyDistributionMsg=u,l.createSenderKeyDistributionProto=c,l.encryptSenderKeyMsgWithSession=d,l.decryptSenderKeyMsgFromSession=m,l.deserializeSenderKeyMsg=_}),98);
__d("WACryptoLibrary",["WACryptoUtils","WAJids","WALockMap","WALogger","WAResultOrError","WASignalCipher","WASignalGroupCipher","WASignalGroupSession","WASignalKeys","WASignalOther","WASignalSignatures","WASignalWhitepaper"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WALockMap").makeLockMap(6e4),u=[],c=300;function d(e){u.push(e),u.length>=c&&u.shift()}function m(e){e(u),u=[]}async function p(e,t){d("createOutgoingSession");var n=R(t),r=n.signedKey,a=await o("WASignalSignatures").verifyMsgSignalVariant(n.identity,r.publicKey,r.signature);if(!a)return d("createOutgoingSession: errSignalInvalidKey"),o("WAResultOrError").makeError("errSignalInvalidKey");var i=await o("WASignalWhitepaper").initiateSessionOutgoing(e,n,o("WASignalKeys").makeKeyPair());return o("WAResultOrError").makeResult(i)}async function _(e,t,n,r,o){var a=e.handleNewSession;d("establishOutgoingSession");var i=await p(t,r);if(!i.success)return i;var l=i.value;return a(n,l,l.remote.pubKey,null,o)}function f(e,t,n,r){var a=e.handleNewSession,i=e.loadSession;return d("encryptContent"),s.lock([o("WAJids").extractUserJid(t)],async function(){var e=null;do{var l=await i(t,"cryptoLibraryEncryptContent");if(l==null)return d("encryptContent: errSignalInvalidKey"),o("WAResultOrError").makeError("errSignalInvalidKey");if(r!=null&&!o("WACryptoUtils").uint8ArraysEqual(r,l.remote.pubKey))return d("encryptContent: identity-mismatch"),o("WAResultOrError").makeError("identity-mismatch");var s=await o("WASignalCipher").encryptMsg(l,n),u=s[0],c=s[1],m=await a(t,u,u.remote.pubKey);m.success?e=o("WAResultOrError").makeResult(babelHelpers.extends({},c,{baseKey:u.aliceBaseKey})):m.error}while(e==null);return e})}function g(e,t,n,r,a){var i=e.handleNewSession,l=e.loadOneTimePreKey,u=e.loadSession,c=e.loadSignedPreKey;return d("decryptContent"),s.lock([o("WAJids").extractUserJid(n)],async function(){var e=!1,s=await u(n,"decryptContent"),m;if(r.type==="pkmsg"){var p=o("WASignalCipher").deserializePkMsg(r.ciphertext);if(!p.success)return d("decryptContent: errCryptoDeserialization"),o("WAResultOrError").makeError("errCryptoDeserialization");var _=p.value,f=await h({loadSignedPreKey:c,loadOneTimePreKey:l},t,_,s);if(!f.success)return f;m=f.value}else{r.type;var g=o("WASignalCipher").deserializeMsg(r.ciphertext);if(!g.success)return d("decryptContent: errCryptoDeserialization"),o("WAResultOrError").makeError("errCryptoDeserialization");var y=g.value,C=await o("WASignalCipher").decryptMsg(s,y);if(!C.success)return C;m=C.value}var b=m,v=b.newSessionInfo;if(v&&(v.newIdentity!=null||v.usedPreKey!=null)&&await i(n,v.baseSession,v.newIdentity,v.usedPreKey),!e){var S=v==null?void 0:v.baseSession.remote.pubKey;await a(new Uint8Array(m.plaintext),S),e=!0}return await i(n,m.updatedSession,m.updatedSession.remote.pubKey),o("WAResultOrError").makeResult()})}async function h(e,t,n,r){var a=e.loadOneTimePreKey,i=e.loadSignedPreKey;d("decryptPkMsg");var l=o("WASignalCipher").findMatchingSession(r,n.sessionBaseKey);if(!l.success)return l;var s=l.value;if(s){var u=await o("WASignalCipher").decryptMsgFromSession(s,n);if(!u.success)return u;var c=u.value,m=c[0],p=c[1];return o("WAResultOrError").makeResult({newSessionInfo:null,updatedSession:m,plaintext:p})}else{var _=n.localOneTimeKeyId,f=await i(n.localSignedPreKeyId),g=_==null?null:await a(_),h=await o("WASignalCipher").decryptPkMsgWithNewSession(t,r,n,{localSignedPreKey:f,localOneTimeKey:g});if(!h.success)return h;var y=h.value,C=y.baseSession,b=y.newIdentity,v=y.plaintext,S=y.updatedSession;return o("WAResultOrError").makeResult({newSessionInfo:{newIdentity:b,baseSession:C,usedPreKey:_},updatedSession:S,plaintext:v})}}function y(e,t,n,r){var a=e.loadSenderKeySession,i=e.saveSenderKeySession;return d("encryptGroupContent"),s.lock([t,o("WAJids").extractUserJid(n)],async function(){var e=null;do{var l=await a(t,n);if(!l.success)return o("WAResultOrError").makeError(l.error);var s=l.value,u=await o("WASignalGroupCipher").encryptSenderKeyMsgWithSession(s,r);if(u.success){var c=u.value,m=c[0],p=c[1];await i(t,n,m);var _=s.senderKeyStates[s.senderKeyStates.length-1];e=o("WAResultOrError").makeResult({ciphertext:{ciphertext:p,type:"skmsg"},senderKeyId:_.senderKeyId,senderKeyDistributionProto:o("WASignalGroupCipher").createSenderKeyDistributionProto(o("WASignalGroupSession").convertFromRawToSenderKeyState(_))})}else return d("encryptGroupContent: sender-key-no-session"),o("WAResultOrError").makeError("sender-key-no-session")}while(e==null);return e})}function C(t,n,r,a,i){var l=t.loadSenderKeySession,u=t.saveSenderKeySession;return d("decryptGroupContent"),s.lock([n,o("WAJids").extractUserJid(r)],async function(){var t=!1,s=await l(n,r);if(!s.success)return o("WALogger").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[WACryptoLibrary] Unable to load sender key session for group during decryptGroupContent: ",", author: ",""])),n,r),o("WAResultOrError").makeError(s.error);var c=o("WASignalGroupCipher").deserializeSenderKeyMsg(a);if(!c.success)return d("decryptGroupContent: errCryptoDeserialization"),o("WAResultOrError").makeError("errCryptoDeserialization");var m=s.value,p=await o("WASignalGroupCipher").decryptSenderKeyMsgFromSession(m,c.value);if(!p.success)return p;var _=p.value,f=_[0],g=_[1];return t||(await i(new Uint8Array(g)),t=!0),await u(n,r,f),o("WAResultOrError").makeResult()})}function b(e,t,n,r){var a=e.loadSenderKeySession,i=e.saveSenderKeySession;return d("saveSenderKeySession"),s.lock([t,o("WAJids").extractUserJid(n)],async function(){var e=null;if(a){var l=await a(t,n);e=l.success?l.value:null}var s=await o("WASignalGroupCipher").processSenderKeyDistributionMsg(r,e);if(!s.success)return s;var u=s.value;return await i(t,n,u),o("WAResultOrError").makeResult()})}function v(e,t,n,r){var a=e.saveSenderKeySession;return d("rotateGroupSenderKey"),s.lock([t,o("WAJids").extractUserJid(n)],async function(){var e=await o("WASignalWhitepaper").initiateSenderKeySessionOutgoing(r),i=e.senderKeyStates[0].senderKeyId;return await a(t,n,e),{senderKeyId:i}})}async function S(e,t,n){var r=e.loadSenderKeySession,a=e.saveSenderKeySession;d("createSenderKeyDistributionMsg");var i=await r(t,n),l=i.error;if(!i.success&&l==="errLoadSenderKeySession"){var s=await o("WASignalKeys").makeKeyPair();await v({saveSenderKeySession:a},t,n,s),i=await r(t,n)}if(i.success){var u=i.value.senderKeyStates.slice(-1);if(u.length>0)return o("WAResultOrError").makeResult(o("WASignalGroupCipher").createSenderKeyDistributionProto(o("WASignalGroupSession").convertFromRawToSenderKeyState(u[0])))}return d("createSenderKeyDistributionMsg: errGetSenderKeyProto"),o("WAResultOrError").makeError("errGetSenderKeyProto")}function R(e){var t=e.identity,n=e.oneTimeKey,r=e.regId,a=e.signedKey;d("sanitizeInitialSessionInfo");var i=o("WASignalKeys").castToSerializedPubKey(a.publicKey);return{regId:o("WASignalOther").castRegistrationId(r),identity:o("WASignalKeys").castToSerializedPubKey(t),signedKey:{id:o("WASignalKeys").castToSignedPreKeyId(a.id),publicKey:i,signature:o("WASignalOther").ensureSize(a.signature,64)},oneTimeKey:n&&{id:o("WASignalKeys").castToPreKeyId(n.id),publicKey:o("WASignalKeys").castToSerializedPubKey(n.publicKey)},ratchetKey:i}}l.publishLogs=m,l.createOutgoingSession=p,l.establishOutgoingSession=_,l.encryptContent=f,l.decryptContent=g,l.encryptGroupContent=y,l.decryptGroupContent=C,l.saveSenderKeySession=b,l.rotateGroupSenderKey=v,l.createSenderKeyDistributionMsg=S}),98);
__d("WACryptoManager",["WABridge","WACryptoLibrary","WACryptoUtils","WAGlobals","WAJids","WALogger","WALoggerTag","WANullthrows","WAOdsEnums","WAPromiseQueue","WAResultOrError","WASignalCipher","WASignalGroupSession","WASignalKeys","WASignalLocalStorageProtocol.pb","WASignalOther","WASignalSessions","WASignalSignatures","WATagsLogger","WATimeUtils","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=o("WATagsLogger").TAGS([r("WALoggerTag").CryptoManager]),_={type:"default"};function f(e){return{flush:function(){return e.storage.savePendingToDatabase().then(function(){})}}}function g(e){return{regInfo:e.regInfo,network:e.network,storage:e.storage}}async function h(e,t,n,r,a){var i=await r(t,a);if(i!=null&&n.type!=="requestNewSession"){var l=i;if(n.type==="default")return o("WAResultOrError").makeResult(l);if(l.aliceBaseKey!=null&&n.session.baseKey!=null&&(n.type,!o("WACryptoUtils").uint8ArraysEqual(n.session.baseKey,l.aliceBaseKey)))return o("WAResultOrError").makeResult(l)}var s;if(n.type==="useSession")s=n.session.keys;else{n.type;var u=await e.network.requestKeys(t);if(!u.success)return u;s=u.value.keys,n.type==="compareTSAndUseSession"&&n.session.timestamp>=u.value.timestamp&&(s=n.session.keys)}var c=await o("WACryptoLibrary").createOutgoingSession(e.regInfo,s);return c.success?o("WAResultOrError").makeResult(c.value):c}function y(e,t,n,r){return o("WACryptoLibrary").establishOutgoingSession({handleNewSession:e.storage.handleNewSession},e.regInfo,t,n,r)}async function C(t,n){var r=await t.storage.loadSessions(n),a=n.filter(function(e){return!r.has(e)});if(a.length===0)return r;var i=await t.network.bulkRequestKeys(a);if(!i.success)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[sessions] fail during key requesting"]))),r;for(var l of r.entries()){var u=l[0],c=l[1];c.sendChain.nextMsgIndex>=o("WAGlobals").getConfig().sessionDropIfTooOld()&&(r.delete(u),o("WABridge").getBridge().fireAndForget("event","odsBumpEntityKey",{entity:o("WAOdsEnums").Entity.WA_LONG_SESSION_DROP,key:"decryption"}))}var d=i.value,m=new(o("WAPromiseQueue")).PromiseQueue;return d.forEach(function(e,n){m.enqueue(function(){return o("WACryptoLibrary").createOutgoingSession(t.regInfo,e.keys).then(function(e){e.success===!1?o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[sessions] Failed to create a session"]))):r.set(n,e.value)})})}),await m.wait(),r}async function b(e,t){var n=Array.from(t.keys());o("WALogger").LOG(u||(u=babelHelpers.taggedTemplateLiteralLoose(["[SendMessage] sendWrittenMsg bulkEncryptContent"])));var a=await C(e,n),i=new Map;return Promise.all(Array.from(a.entries()).map(async function(n){var a,l=n[0],s=n[1],u=await o("WASignalCipher").encryptMsg(s,r("WANullthrows")((a=t.get(l))==null?void 0:a.plaintext)),c=u[0],d=u[1];return i.set(l,babelHelpers.extends({},d,{baseKey:null})),e.storage.handleNewSession(l,c,c.remote.pubKey)})).then(function(){return o("WAResultOrError").makeResult(i)})}function v(e,t,n,r,a){return o("WACryptoLibrary").encryptContent({loadSession:function(n){return h(e,n,r,e.storage.loadSession,"cryptoManagerEncryptContent").then(function(e){return e.success===!0?e.value:null})},handleNewSession:e.storage.handleNewSession},t,n,a)}function S(e,t,n,r){return o("WACryptoLibrary").decryptContent({loadSession:e.storage.loadSession,handleNewSession:e.storage.handleNewSession,loadSignedPreKey:e.storage.loadSignedPreKey,loadOneTimePreKey:e.storage.loadOneTimePreKey},e.regInfo,t,n,r)}async function R(e,t){var n=await e.storage.loadSession(t,"getParticipantInfo");return n==null?void 0:n.remote}async function L(e){var t,n,a=await e.storage.getLastPreKeyGenerationId(),i=((t=a==null?void 0:a.lastPreKeyId)!=null?t:0)+1,l=o("WASignalKeys").makePreKeys(i,1)[0],s=await e.storage.saveOneTimePreKey({keyId:l.plainObject.id,encoded:l.record});if(s.success)return l.plainObject;throw r("err")("Cannot save one time prekey: "+s.error+", LastPreKeyId: "+((n=a==null?void 0:a.lastPreKeyId)!=null?n:0))}async function E(e,t){var n;t===void 0&&(t=o("WAGlobals").getConfig().maxPrekeysToUpload());var r=await e.storage.getLastPreKeyGenerationId(),a=o("WASignalKeys").makePreKeys(((n=r==null?void 0:r.lastPreKeyId)!=null?n:0)+1,t);return e.storage.savePreKeysGeneration(a.map(function(e){var t=e.plainObject,n=e.record;return{keyId:t.id,encoded:n}}))}function k(e){return e.storage.loadLatestSignedPreKey().then(function(t){if(t.success===!1){var n,a,i;throw p.TAGS([r("WALoggerTag").SignedPrekey]).ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate signed prekey ",""])),t==null||(n=t.payload)==null?void 0:n.toString()),r("err")("Failed to generate signed prekey: "+((a=t==null||(i=t.payload)==null?void 0:i.message)!=null?a:""))}var l=t.value,s=o("WASignalSignatures").deserializeSignedPreKey(l);if(s==null)throw p.TAGS([r("WALoggerTag").SignedPrekey]).ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["Failed to deserialize signed prekey: ",""])),t),r("err")("failed to deserialize signed prekey");var u=s.id+1>=o("WASignalKeys").PRE_KEY_NON_INCLUSIVE_UPPER_BORDER?1:s.id+1;return I(e,u)})}function I(e,t){var n=o("WASignalSignatures").makeSignedPreKey(t,o("WATimeUtils").unixTimeMs(),e.regInfo.staticKeyPair),a=o("WASignalSignatures").serializeSignedPreKeyForPrivateStorage(n);return e.storage.saveSignedPreKeyIfNew(n.id,a).then(function(e){return e.type==="success"?o("WAResultOrError").makeResult(n):(e.type,o("WAResultOrError").makeResult(e.key))}).then(function(e){if(!e.success){var t,n;throw p.TAGS([r("WALoggerTag").SignedPrekey]).ERROR(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate signed prekey with id: ",""])),e),r("err")("Unexpected error when generateSignedPreKeyWithId: "+((t=e==null||(n=e.payload)==null?void 0:n.message)!=null?t:e.error))}return e.value})}function T(e,t,n,r){return o("WACryptoLibrary").encryptGroupContent({loadSenderKeySession:e.storage.loadSenderKeySession,saveSenderKeySession:e.storage.saveSenderKeySession},t,n,r)}function D(e,t,n,r,a){return o("WACryptoLibrary").decryptGroupContent({loadSenderKeySession:e.storage.loadSenderKeySession,saveSenderKeySession:e.storage.saveSenderKeySession},t,n,r,a)}function x(e,t,n,r){return o("WACryptoLibrary").saveSenderKeySession({saveSenderKeySession:e.storage.saveSenderKeySession},t,n,r)}async function $(e,t,n){var r=await L(e);return o("WACryptoLibrary").rotateGroupSenderKey({saveSenderKeySession:e.storage.saveSenderKeySession},t,n,r.keyPair)}function P(e){return Promise.resolve().then(function(){return{regId:o("WASignalOther").makeRegistrationId(e),staticKeyPair:o("WASignalKeys").makeKeyPair(),authKeyPair:o("WASignalKeys").makeKeyPair()}})}function N(e){return o("WASignalOther").encodeSignalProto(o("WASignalLocalStorageProtocol.pb").RecordStructureSpec,o("WASignalSessions").serializeSession(e))}function M(e){return o("WASignalOther").decodeSignalProto(o("WASignalLocalStorageProtocol.pb").RecordStructureSpec,e,o("WASignalSessions").parseSessionFromRecord)}function w(e){return o("WASignalOther").encodeSignalProto(o("WASignalLocalStorageProtocol.pb").SenderKeyRecordStructureSpec,o("WASignalGroupSession").serializeSession(e))}function A(e){return o("WASignalOther").decodeSignalProto(o("WASignalLocalStorageProtocol.pb").SenderKeyRecordStructureSpec,e,o("WASignalGroupSession").parseSessionFromRecord)}function F(e){return e}function O(e,t){return e+"|"+t}function B(e){var t=e.split("|");if(t.length!==2)throw r("err")("Incorrect ComplexSenderKey");return{groupId:o("WAJids").unsafeCoerceToGroupJid(t[0]),deviceId:o("WAJids").unsafeCoerceToDeviceJid(t[1])}}l.DEFAULT_SESSION_REQUEST=_,l.cryptoManagerFlushable=f,l.initCryptoManager=g,l.getSessionForRecipient=h,l.establishOutgoingSession=y,l.ensureSessionsExists=C,l.bulkEncryptContent=b,l.encryptContent=v,l.decryptContent=S,l.getParticipantInfo=R,l.generateOneTimePreKey=L,l.generatePreKeys=E,l.generateSignedPreKey=k,l.generateSignedPreKeyWithId=I,l.encryptGroupContent=T,l.decryptGroupContent=D,l.saveSenderKeySession=x,l.rotateGroupSenderKey=$,l.generateRegistrationInfo=P,l.encodeSession=N,l.decodeSession=M,l.encodeSenderKeySession=w,l.decodeSenderKeySession=A,l.castToPreKeyGenerationId=F,l.encodeSenderKey=O,l.decodeSenderKey=B}),98);
__d("WADbMetaTxns",["WADbSignal","WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.meta.bulkGet([o("WADbSignal").MetaKeysEnum.lastSignedPrekeyId,o("WADbSignal").MetaKeysEnum.identityKeyPair]).then(function(e){var t=e[0],n=e[1],r=t==null?void 0:t.value.lastSignedPrekeyId,o=n==null?void 0:n.value.identityKeyPair;return{identityPair:o,keyId:r}})}var s=function(t){return o("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",async function(e){return await e.stores.meta.bulkPut([{key:o("WADbSignal").MetaKeysEnum.cat,value:{cat:t}}]),t},o("WASignalDB").signalOp("saveCAT"))};l.maybeGetLastSignedPrekeyIdAndIdentity=e,l.saveCAT=s}),98);
__d("WADbRegistrationApi",["WADbSignal","WAJids","WALogger","WASignalDB","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n){return o("WASignalDB").getDb().runInTransaction(["contacts"],"readwrite",async function(e){var r=await e.stores.contacts.get(t);return r!=null?e.stores.contacts.bulkPut([babelHelpers.extends({},r,{icdcInfo:n})]):e.stores.contacts.bulkPut([{contactJid:t,dhash:null,icdcInfo:n}])},o("WASignalDB").signalOp("saveICDC")).then(function(){})};function u(e){return o("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(t){return t.stores.meta.bulkPut([{key:o("WADbSignal").MetaKeysEnum.deviceId,value:{deviceId:e}}])},o("WASignalDB").signalOp("saveDeviceId")).then(function(){})}function c(e,t){return o("WASignalDB").getDb().runInTransaction(["meta","signedPrekey"],"readwrite",async function(n){var r;await Promise.all([n.stores.meta.bulkPut([{key:(r=o("WADbSignal")).MetaKeysEnum.deviceUUID,value:{deviceUUID:t.deviceUUID}},{key:r.MetaKeysEnum.fbid,value:{fbid:e}},{key:r.MetaKeysEnum.regId,value:{regId:t.signalRegInfo.regId}},{key:r.MetaKeysEnum.identityKeyPair,value:{identityKeyPair:t.signalRegInfo.identityKeyPair}},{key:r.MetaKeysEnum.lastSignedPrekeyId,value:{lastSignedPrekeyId:t.signalRegInfo.signedPreKey.keyId}},{key:r.MetaKeysEnum.registrationVersion,value:{registrationVersion:t.registrationVersion}},{key:r.MetaKeysEnum.authKeyPair,value:{authKeyPair:t.signalRegInfo.authKeyPair}},{key:r.MetaKeysEnum.deviceRegUnixTime,value:{deviceRegUnixTime:t.registrationUnixTime}}]),n.stores.signedPrekey.bulkPut([t.signalRegInfo.signedPreKey])])},o("WASignalDB").signalOp("saveRegistrationMeta"))}var d=function(t){var e=t.sessionId;return o("WASignalDB").getDb().runInTransaction(["meta"],"readwrite",function(t){return t.stores.meta.bulkPut([{key:o("WADbSignal").MetaKeysEnum.lastSessionDeviceWasLinkedTo,value:{lastSessionDeviceWasLinkedTo:e}}])},o("WASignalDB").signalOp("saveLastSessionDeviceWasLinkedTo")).then(function(){})};function m(){return o("WASignalDB").getDb().runInTransaction(["meta"],"readonly",async function(t){var n,a=await t.stores.meta.bulkGet([(n=o("WADbSignal")).MetaKeysEnum.fbid,n.MetaKeysEnum.deviceId,n.MetaKeysEnum.cat,n.MetaKeysEnum.regId,n.MetaKeysEnum.identityKeyPair,n.MetaKeysEnum.authKeyPair]),i=a[0],l=a[1],s=a[2],u=a[3],c=a[4],d=a[5];o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["worker: got db data"])));var m=i==null?void 0:i.value.fbid,p=l==null?void 0:l.value.deviceId,_=s==null?void 0:s.value.cat,f=u==null?void 0:u.value.regId,g=c==null?void 0:c.value.identityKeyPair,h=d==null?void 0:d.value.authKeyPair;if(m==null)throw r("err")("fbid not set");if(p==null)throw r("err")("deviceId not set");if(_==null)throw r("err")("fbCat not set");if(f==null||g==null)throw r("err")("regInfo not set");return{deviceJid:o("WAJids").toDeviceJid(o("WAJids").toMsgrUserJid(m),p),fbCat:_.encrypted_serialized_cat,regInfo:{authKeyPair:h,regId:f,staticKeyPair:g},userJid:o("WAJids").toMsgrUserJid(m)}},o("WASignalDB").signalOp("loadAllRegistrationMeta"))}l.saveICDC=s,l.saveDeviceId=u,l.saveRegistrationMeta=c,l.saveLastSessionDeviceWasLinkedTo=d,l.loadAllRegistrationMetaInTransaction=m}),98);
__d("WAIdentityUtils",["WABinary","WACryptoDependencies","WASignalOther"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.length===33&&e[0]===5;return t?e.slice(1):e}function s(e,t){for(var n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return e[n]-t[n];return e.length-t.length}function u(t){var n=t.map(function(t){return e(t)}),r=new(o("WABinary")).Binary;n.sort(s).forEach(function(e){return r.writeByteArray(e)});var a=o("WACryptoDependencies").getCrypto().subtle.digest("SHA-256",r.readByteArrayView());return a.then(function(e){var t=new Uint8Array(e);return o("WASignalOther").sliceBytes(t,0,10)})}l.removeKeyTypeIfNeeded=e,l.computeIdentitiesHash=u}),98);
__d("WAICDCUtils",["WAArmadilloICDC.pb","WABase64","WABinary","WACryptoDependencies","WACryptoEd25519","WACryptoUtils","WAIdentityUtils","WALogger","WASignalKeys","WASignalOther","WASignalSignatures","WATimeUtils","decodeProtobuf","encodeProtobuf","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d;function m(t,n,r,a){if(t!==a.details.seq)return o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched sequence between XML node and byte structure"]))),null;if(r!==a.details.timestamp)return o("WALogger").ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched timestamp between XML node and byte structure"]))),null;if(a.details.signingDeviceIndex==null)return o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["Received ICDC has mismatched missed signingDeviceIndex"]))),null;var i=a.details.signingDeviceIndex;return{dirty:n,sequence:t,timestamp:r,signingDeviceIndex:i,devices:a.details.devices.map(function(e){return new Uint8Array(e)})}}function p(e){return e.signingDeviceIndex<0||e.signingDeviceIndex>=e.devices.length}function _(e){var t=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,e),n=t.signature,r=o("decodeProtobuf").decodeProtobuf(o("WAArmadilloICDC.pb").ICDCIdentityListSpec,t.details);return{signature:n,details:r}}function f(e){return e.map(function(e){return o("WASignalKeys").serializeIdentity(new Uint8Array(o("WABase64").decodeB64UrlSafe(e)))})}function g(e,t,n,a,i){var l=o("WAIdentityUtils").removeKeyTypeIfNeeded(e.publicKey),s=n.map(function(e){return o("WAIdentityUtils").removeKeyTypeIfNeeded(e)}),u=s.findIndex(function(e){return o("WACryptoUtils").uint8ArraysEqual(e,l)});if(u===-1)throw o("WALogger").ERROR(c||(c=babelHelpers.taggedTemplateLiteralLoose(["signingDeviceIndex not found. This should never happen. ",". caller: ",""])),a,i),r("err")("signingDeviceIndex not found");var m=t==null?1:t+1,p=o("WATimeUtils").unixTime();p<0&&o("WALogger").ERROR(d||(d=babelHelpers.taggedTemplateLiteralLoose(["ICDC timestamp is negative. time: ",", closkSkew: ",""])),Date.now(),o("WATimeUtils").getClockSkew());var _={seq:m,timestamp:p,devices:s,signingDeviceIndex:u},f=o("encodeProtobuf").encodeProtobuf(o("WAArmadilloICDC.pb").ICDCIdentityListSpec,_).readBuffer(),g=h(e,o("WABinary").Binary.build(f).readByteArrayView()),y={details:f,signature:g},C=o("encodeProtobuf").encodeProtobuf(o("WAArmadilloICDC.pb").SignedICDCIdentityListSpec,y).readBuffer();return{icdcInfo:_,encodedSignedICDC:C}}function h(e,t){var n=o("WASignalOther").makeBytes(64);o("WACryptoDependencies").getCrypto().getRandomValues(n);var r=new Uint8Array(64);o("WACryptoEd25519").hashSha512(r,t,t.length);var a=o("WASignalSignatures").makeSignature(e,t,n);return o("WABinary").Binary.build(a).readBuffer()}var y=4*o("WATimeUtils").HOUR_SECONDS;function C(e){return e==null?!0:!o("WATimeUtils").happenedWithin(e,y)}l.validateAndPrepareICDCFromNotification=m,l.isICDCIndexInvalid=p,l.decodeICDCInfo=_,l.base64DeviceIdentitiesToSerializedPubKeys=f,l.computeICDCInfoForUpload=g,l.isLastSyncTsExpired=C}),98);
__d("WARandomJitter",[],(function(t,n,r,o,a,i){"use strict";function e(){return Math.round(Math.random()*500-250)}i.getRandomJitter=e}),66);
__d("WARetryUtils",["WARandomJitter"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e?{algo:{backoff:{first:1,second:1,type:"fibonacci"},toMs:function(t){return(1+t)*1e3+o("WARandomJitter").getRandomJitter()},type:"adjust"},relativeDelay:!0,max:6e5}:{algo:{type:"adjust",backoff:{type:"fibonacci",first:1,second:1},toMs:function(t){return(9+t)*1e3}},max:62e4}}l.fibonacciBackoff=e}),98);/*FB_PKG_DELIM*/
/**
 *
 * This file is generated from fbsource. Please do not modify it directly.
 *
 *
 * @nolint
 * @generated
 * @nopackage
 * @fullSyntaxTransform
 * @preserve-whitespace
 */__d("ls_voprf_utils_v2",["Promise"],(function $module_ls_voprf_utils_v2(global,require,requireDynamic,requireLazy,module,exports){var _require_closure_Promise;


var Module=function(){
var _scriptDir=typeof document!=='undefined'&&document.currentScript?document.currentScript.src:undefined;

return(
function(moduleArg){if(moduleArg===void 0){moduleArg={};}

var Module=moduleArg;var readyPromiseResolve,readyPromiseReject;Module["ready"]=new(_require_closure_Promise||(_require_closure_Promise=require("Promise")))(function(resolve,reject){readyPromiseResolve=resolve;readyPromiseReject=reject;});["_main","getExceptionMessage","___get_exception_message","_free","_memory","_curve_create","_curve_free","_curve_init_ristretto","_get_curve_element_bytes","_get_curve_scalar_bytes","_kdf_create","_kdf_free","_kdf_init_naor_reingold","_sodiumInit","_voprf_create","_voprf_free","_voprf_init_exp_twohashdh","_blind","_verifiable_unblind","_voprf_client_finalize","_voprf_setup","_voprf_evaluate","_voprf_server_finalize","_get_voprf_final_evaluation_bytes","___indirect_function_table","__embind_initialize_bindings","_fflush","___start_em_asm","___stop_em_asm","onRuntimeInitialized"].forEach(function(prop){if(!Object.getOwnPropertyDescriptor(Module["ready"],prop)){Object.defineProperty(Module["ready"],prop,{get:function get(){return abort("You are getting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");},set:function set(){return abort("You are setting "+prop+" on the Promise object, instead of the instance. Use .then() to get called back with the instance, see the MODULARIZE docs in src/settings.js");}});}});var moduleOverrides=Object.assign({},Module);var arguments_=[];var thisProgram="./this.program";var quit_=function quit_(status,toThrow){throw toThrow;};var ENVIRONMENT_IS_WEB=true;var ENVIRONMENT_IS_WORKER=false;var ENVIRONMENT_IS_NODE=false;var ENVIRONMENT_IS_SHELL=false;if(Module["ENVIRONMENT"]){throw new Error("Module.ENVIRONMENT has been deprecated. To force the environment, use the ENVIRONMENT compile-time option (for example, -sENVIRONMENT=web or -sENVIRONMENT=node)");}var scriptDirectory="";function locateFile(path){if(Module["locateFile"]){return Module["locateFile"](path,scriptDirectory);}return scriptDirectory+path;}var read_,readAsync,readBinary,setWindowTitle;if(typeof document!="undefined"&&document.currentScript){scriptDirectory=document.currentScript.src;}if(_scriptDir){scriptDirectory=_scriptDir;}if(scriptDirectory.indexOf("blob:")!==0){scriptDirectory=scriptDirectory.substr(0,scriptDirectory.replace(/[?#].*/,"").lastIndexOf("/")+1);}else{scriptDirectory="";}if(!(typeof window=="object"||typeof importScripts=="function"))throw new Error("not compiled for this environment (did you build to HTML and try to run it not on the web, or set ENVIRONMENT to something - like node - and run it someplace else - like on the web?)");{read_=function read_(url){var xhr=new XMLHttpRequest();xhr.open("GET",url,false);xhr.send(null);return xhr.responseText;};readAsync=function readAsync(url,onload,onerror){var xhr=new XMLHttpRequest();xhr.open("GET",url,true);xhr.responseType="arraybuffer";xhr.onload=function(){if(xhr.status==200||xhr.status==0&&xhr.response){onload(xhr.response);return;}onerror();};xhr.onerror=onerror;xhr.send(null);};}setWindowTitle=function setWindowTitle(title){return document.title=title;};var out=Module["print"]||console.log.bind(console);var err=Module["printErr"]||console.error.bind(console);Object.assign(Module,moduleOverrides);moduleOverrides=null;checkIncomingModuleAPI();if(Module["arguments"])arguments_=Module["arguments"];legacyModuleProp("arguments","arguments_");if(Module["thisProgram"])thisProgram=Module["thisProgram"];legacyModuleProp("thisProgram","thisProgram");if(Module["quit"])quit_=Module["quit"];legacyModuleProp("quit","quit_");assert(typeof Module["memoryInitializerPrefixURL"]=="undefined","Module.memoryInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["pthreadMainPrefixURL"]=="undefined","Module.pthreadMainPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["cdInitializerPrefixURL"]=="undefined","Module.cdInitializerPrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["filePackagePrefixURL"]=="undefined","Module.filePackagePrefixURL option was removed, use Module.locateFile instead");assert(typeof Module["read"]=="undefined","Module.read option was removed (modify read_ in JS)");assert(typeof Module["readAsync"]=="undefined","Module.readAsync option was removed (modify readAsync in JS)");assert(typeof Module["readBinary"]=="undefined","Module.readBinary option was removed (modify readBinary in JS)");assert(typeof Module["setWindowTitle"]=="undefined","Module.setWindowTitle option was removed (modify setWindowTitle in JS)");assert(typeof Module["TOTAL_MEMORY"]=="undefined","Module.TOTAL_MEMORY has been renamed Module.INITIAL_MEMORY");legacyModuleProp("asm","wasmExports");legacyModuleProp("read","read_");legacyModuleProp("readAsync","readAsync");legacyModuleProp("readBinary","readBinary");legacyModuleProp("setWindowTitle","setWindowTitle");assert(!ENVIRONMENT_IS_WORKER,"worker environment detected but not enabled at build time.  Add 'worker' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_NODE,"node environment detected but not enabled at build time.  Add 'node' to `-sENVIRONMENT` to enable.");assert(!ENVIRONMENT_IS_SHELL,"shell environment detected but not enabled at build time.  Add 'shell' to `-sENVIRONMENT` to enable.");var wasmBinary;if(Module["wasmBinary"])wasmBinary=Module["wasmBinary"];legacyModuleProp("wasmBinary","wasmBinary");var noExitRuntime=Module["noExitRuntime"]||true;legacyModuleProp("noExitRuntime","noExitRuntime");if(typeof WebAssembly!="object"){abort("no native wasm support detected");}var wasmMemory;var wasmExports;var ABORT=false;var EXITSTATUS;function assert(condition,text){if(!condition){abort("Assertion failed"+(text?": "+text:""));}}var HEAP8,HEAPU8,HEAP16,HEAPU16,HEAP32,HEAPU32,HEAPF32,HEAPF64;function updateMemoryViews(){var b=wasmMemory.buffer;Module["HEAP8"]=HEAP8=new Int8Array(b);Module["HEAP16"]=HEAP16=new Int16Array(b);Module["HEAP32"]=HEAP32=new Int32Array(b);Module["HEAPU8"]=HEAPU8=new Uint8Array(b);Module["HEAPU16"]=HEAPU16=new Uint16Array(b);Module["HEAPU32"]=HEAPU32=new Uint32Array(b);Module["HEAPF32"]=HEAPF32=new Float32Array(b);Module["HEAPF64"]=HEAPF64=new Float64Array(b);}assert(!Module["STACK_SIZE"],"STACK_SIZE can no longer be set at runtime.  Use -sSTACK_SIZE at link time");assert(typeof Int32Array!="undefined"&&typeof Float64Array!=="undefined"&&Int32Array.prototype.subarray!=undefined&&Int32Array.prototype.set!=undefined,"JS engine does not provide full typed array support");assert(!Module["wasmMemory"],"Use of `wasmMemory` detected.  Use -sIMPORTED_MEMORY to define wasmMemory externally");assert(!Module["INITIAL_MEMORY"],"Detected runtime INITIAL_MEMORY setting.  Use -sIMPORTED_MEMORY to define wasmMemory dynamically");var wasmTable;function writeStackCookie(){var max=_emscripten_stack_get_end2();assert((max&3)==0);if(max==0){max+=4;}HEAPU32[max>>2]=34821223;HEAPU32[max+4>>2]=2310721022;HEAPU32[0>>2]=1668509029;}function checkStackCookie(){if(ABORT)return;var max=_emscripten_stack_get_end2();if(max==0){max+=4;}var cookie1=HEAPU32[max>>2];var cookie2=HEAPU32[max+4>>2];if(cookie1!=34821223||cookie2!=2310721022){abort("Stack overflow! Stack cookie has been overwritten at "+ptrToString(max)+", expected hex dwords 0x89BACDFE and 0x2135467, but received "+ptrToString(cookie2)+" "+ptrToString(cookie1));}if(HEAPU32[0>>2]!=1668509029){abort("Runtime error: The application has corrupted its heap memory area (address zero)!");}}(function(){var h16=new Int16Array(1);var h8=new Int8Array(h16.buffer);h16[0]=25459;if(h8[0]!==115||h8[1]!==99)throw"Runtime error: expected the system to be little-endian! (Run with -sSUPPORT_BIG_ENDIAN to bypass)";})();var __ATPRERUN__=[];var __ATINIT__=[];var __ATPOSTRUN__=[];var runtimeInitialized=false;var runtimeKeepaliveCounter=0;function preRun(){if(Module["preRun"]){if(typeof Module["preRun"]=="function")Module["preRun"]=[Module["preRun"]];while(Module["preRun"].length){addOnPreRun(Module["preRun"].shift());}}callRuntimeCallbacks(__ATPRERUN__);}function initRuntime(){assert(!runtimeInitialized);runtimeInitialized=true;checkStackCookie();callRuntimeCallbacks(__ATINIT__);}function postRun(){checkStackCookie();if(Module["postRun"]){if(typeof Module["postRun"]=="function")Module["postRun"]=[Module["postRun"]];while(Module["postRun"].length){addOnPostRun(Module["postRun"].shift());}}callRuntimeCallbacks(__ATPOSTRUN__);}function addOnPreRun(cb){__ATPRERUN__.unshift(cb);}function addOnInit(cb){__ATINIT__.unshift(cb);}function addOnPostRun(cb){__ATPOSTRUN__.unshift(cb);}assert(Math.imul,"This browser does not support Math.imul(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.fround,"This browser does not support Math.fround(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.clz32,"This browser does not support Math.clz32(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");assert(Math.trunc,"This browser does not support Math.trunc(), build with LEGACY_VM_SUPPORT or POLYFILL_OLD_MATH_FUNCTIONS to add in a polyfill");var runDependencies=0;var runDependencyWatcher=null;var dependenciesFulfilled=null;var runDependencyTracking={};function addRunDependency(id){runDependencies++;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(!runDependencyTracking[id]);runDependencyTracking[id]=1;if(runDependencyWatcher===null&&typeof setInterval!="undefined"){runDependencyWatcher=setInterval(function(){if(ABORT){clearInterval(runDependencyWatcher);runDependencyWatcher=null;return;}var shown=false;for(var dep in runDependencyTracking){if(!shown){shown=true;err("still waiting on run dependencies:");}err("dependency: "+dep);}if(shown){err("(end of list)");}},1e4);}}else{err("warning: run dependency added without ID");}}function removeRunDependency(id){runDependencies--;if(Module["monitorRunDependencies"]){Module["monitorRunDependencies"](runDependencies);}if(id){assert(runDependencyTracking[id]);delete runDependencyTracking[id];}else{err("warning: run dependency removed without ID");}if(runDependencies==0){if(runDependencyWatcher!==null){clearInterval(runDependencyWatcher);runDependencyWatcher=null;}if(dependenciesFulfilled){var callback=dependenciesFulfilled;dependenciesFulfilled=null;callback();}}}function abort(what){if(Module["onAbort"]){Module["onAbort"](what);}what="Aborted("+what+")";err(what);ABORT=true;EXITSTATUS=1;var e=new WebAssembly.RuntimeError(what);readyPromiseReject(e);throw e;}var FS={error:function error(){abort("Filesystem support (FS) was not included. The problem is that you are using files from JS, but files were not used from C/C++, so filesystem support was not auto-included. You can force-include filesystem support with -sFORCE_FILESYSTEM");},init:function init(){FS.error();},createDataFile:function createDataFile(){FS.error();},createPreloadedFile:function createPreloadedFile(){FS.error();},createLazyFile:function createLazyFile(){FS.error();},open:function open(){FS.error();},mkdev:function mkdev(){FS.error();},registerDevice:function registerDevice(){FS.error();},analyzePath:function analyzePath(){FS.error();},ErrnoError:function ErrnoError(){FS.error();}};Module["FS_createDataFile"]=FS.createDataFile;Module["FS_createPreloadedFile"]=FS.createPreloadedFile;var dataURIPrefix="data:application/octet-stream;base64,";function isDataURI(filename){return filename.startsWith(dataURIPrefix);}function isFileURI(filename){return filename.startsWith("file://");}function createExportWrapper(name){return function(){assert(runtimeInitialized,"native function `"+name+"` called before runtime initialization");var f=wasmExports[name];assert(f,"exported native function `"+name+"` not found");return f.apply(null,arguments);};}var _EmscriptenEH3=function(_Error){"use strict";function EmscriptenEH(){return _Error.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenEH,_Error);return EmscriptenEH;}(babelHelpers.wrapNativeSuper(Error));var _EmscriptenSjLj=function(_EmscriptenEH){"use strict";function EmscriptenSjLj(){return _EmscriptenEH.apply(this,arguments)||this;}babelHelpers.inheritsLoose(EmscriptenSjLj,_EmscriptenEH);return EmscriptenSjLj;}(_EmscriptenEH3);var _CppException=function(_EmscriptenEH2){"use strict";function CppException(excPtr){var _this;_this=_EmscriptenEH2.call(this,excPtr)||this;_this.excPtr=excPtr;var excInfo=getExceptionMessage(excPtr);_this.name=excInfo[0];_this.message=excInfo[1];return _this;}babelHelpers.inheritsLoose(CppException,_EmscriptenEH2);return CppException;}(_EmscriptenEH3);var wasmBinaryFile;wasmBinaryFile="crypto_utils_v2.wasm";if(!isDataURI(wasmBinaryFile)){wasmBinaryFile=locateFile(wasmBinaryFile);}function getBinarySync(file){if(file==wasmBinaryFile&&wasmBinary){return new Uint8Array(wasmBinary);}if(readBinary){return readBinary(file);}throw"both async and sync fetching of the wasm failed";}function getBinaryPromise(binaryFile){if(!wasmBinary&&(ENVIRONMENT_IS_WEB||ENVIRONMENT_IS_WORKER)){if(typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){if(!response["ok"]){throw"failed to load wasm binary file at '"+binaryFile+"'";}return response["arrayBuffer"]();})["catch"](function(){return getBinarySync(binaryFile);});}}return(_require_closure_Promise||(_require_closure_Promise=require("Promise"))).resolve().then(function(){return getBinarySync(binaryFile);});}function instantiateArrayBuffer(binaryFile,imports,receiver){return getBinaryPromise(binaryFile).then(function(binary){return WebAssembly.instantiate(binary,imports);}).then(function(instance){return instance;}).then(receiver,function(reason){err("failed to asynchronously prepare wasm: "+reason);if(isFileURI(wasmBinaryFile)){err("warning: Loading from a file URI ("+wasmBinaryFile+") is not supported in most browsers. See https://emscripten.org/docs/getting_started/FAQ.html#how-do-i-run-a-local-webserver-for-testing-why-does-my-program-stall-in-downloading-or-preparing");}abort(reason);});}function instantiateAsync(binary,binaryFile,imports,callback){if(!binary&&typeof WebAssembly.instantiateStreaming=="function"&&!isDataURI(binaryFile)&&typeof fetch=="function"){return fetch(binaryFile,{credentials:"same-origin"}).then(function(response){var result=WebAssembly.instantiateStreaming(response,imports);return result.then(callback,function(reason){err("wasm streaming compile failed: "+reason);err("falling back to ArrayBuffer instantiation");return instantiateArrayBuffer(binaryFile,imports,callback);});});}return instantiateArrayBuffer(binaryFile,imports,callback);}function createWasm(){var info={"env":wasmImports,"wasi_snapshot_preview1":wasmImports};function receiveInstance(instance,module){var exports=instance.exports;wasmExports=exports;wasmMemory=wasmExports["memory"];Module["wasmMemory"]=wasmMemory;assert(wasmMemory,"memory not found in wasm exports");updateMemoryViews();wasmTable=wasmExports["__indirect_function_table"];assert(wasmTable,"table not found in wasm exports");addOnInit(wasmExports["__wasm_call_ctors"]);removeRunDependency("wasm-instantiate");return exports;}addRunDependency("wasm-instantiate");var trueModule=Module;function receiveInstantiationResult(result){assert(Module===trueModule,"the Module object should not be replaced during async compilation - perhaps the order of HTML elements is wrong?");trueModule=null;receiveInstance(result["instance"]);}if(Module["instantiateWasm"]){try{return Module["instantiateWasm"](info,receiveInstance);}catch(e){err("Module.instantiateWasm callback failed with error: "+e);readyPromiseReject(e);}}instantiateAsync(wasmBinary,wasmBinaryFile,info,receiveInstantiationResult)["catch"](readyPromiseReject);return{};}function legacyModuleProp(prop,newName,incomming){if(incomming===void 0){incomming=true;}if(!Object.getOwnPropertyDescriptor(Module,prop)){Object.defineProperty(Module,prop,{configurable:true,get:function get(){var extra=incomming?" (the initial value can be provided on Module, but after startup the value is only looked for on a local variable of that name)":"";abort("`Module."+prop+"` has been replaced by `"+newName+"`"+extra);}});}}function ignoredModuleProp(prop){if(Object.getOwnPropertyDescriptor(Module,prop)){abort("`Module."+prop+"` was supplied but `"+prop+"` not included in INCOMING_MODULE_JS_API");}}function isExportedByForceFilesystem(name){return name==="FS_createPath"||name==="FS_createDataFile"||name==="FS_createPreloadedFile"||name==="FS_unlink"||name==="addRunDependency"||name==="FS_createLazyFile"||name==="FS_createDevice"||name==="removeRunDependency";}function missingGlobal(sym,msg){if(typeof globalThis!=="undefined"){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){_warnOnce("`"+sym+"` is not longer defined by emscripten. "+msg);return undefined;}});}}missingGlobal("buffer","Please use HEAP8.buffer or wasmMemory.buffer");function missingLibrarySymbol(sym){if(typeof globalThis!=="undefined"&&!Object.getOwnPropertyDescriptor(globalThis,sym)){Object.defineProperty(globalThis,sym,{configurable:true,get:function get(){var msg="`"+sym+"` is a library symbol and not included by default; add it to your library.js __deps or to DEFAULT_LIBRARY_FUNCS_TO_INCLUDE on the command line";var librarySymbol=sym;if(!librarySymbol.startsWith("_")){librarySymbol="$"+sym;}msg+=" (e.g. -sDEFAULT_LIBRARY_FUNCS_TO_INCLUDE='"+librarySymbol+"')";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}_warnOnce(msg);return undefined;}});}unexportedRuntimeSymbol(sym);}function unexportedRuntimeSymbol(sym){if(!Object.getOwnPropertyDescriptor(Module,sym)){Object.defineProperty(Module,sym,{configurable:true,get:function get(){var msg="'"+sym+"' was not exported. add it to EXPORTED_RUNTIME_METHODS (see the Emscripten FAQ)";if(isExportedByForceFilesystem(sym)){msg+=". Alternatively, forcing filesystem support (-sFORCE_FILESYSTEM) can export this for you";}abort(msg);}});}}var ASM_CONSTS={50356:function _(){return Module.getRandomValue();},50392:function _(){if(Module.getRandomValue===undefined){try{var window_="object"===typeof window?window:self;var crypto_=typeof window_.crypto!=="undefined"?window_.crypto:window_.msCrypto;var randomValuesStandard=function randomValuesStandard(){var buf=new Uint32Array(1);crypto_.getRandomValues(buf);return buf[0]>>>0;};randomValuesStandard();Module.getRandomValue=randomValuesStandard;}catch(e){{throw"No secure random number generator found";}}}}};function ExitStatus(status){this.name="ExitStatus";this.message="Program terminated with exit("+status+")";this.status=status;}var callRuntimeCallbacks=function callRuntimeCallbacks(callbacks){while(callbacks.length>0){callbacks.shift()(Module);}};var withStackSave=function withStackSave(f){var stack=stackSave();var ret=f();stackRestore(stack);return ret;};var UTF8Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf8"):undefined;var UTF8ArrayToString=function UTF8ArrayToString(heapOrArray,idx,maxBytesToRead){var endIdx=idx+maxBytesToRead;var endPtr=idx;while(heapOrArray[endPtr]&&!(endPtr>=endIdx))++endPtr;if(endPtr-idx>16&&heapOrArray.buffer&&UTF8Decoder){return UTF8Decoder.decode(heapOrArray.subarray(idx,endPtr));}var str="";while(idx<endPtr){var u0=heapOrArray[idx++];if(!(u0&128)){str+=String.fromCharCode(u0);continue;}var u1=heapOrArray[idx++]&63;if((u0&224)==192){str+=String.fromCharCode((u0&31)<<6|u1);continue;}var u2=heapOrArray[idx++]&63;if((u0&240)==224){u0=(u0&15)<<12|u1<<6|u2;}else{if((u0&248)!=240)_warnOnce("Invalid UTF-8 leading byte "+ptrToString(u0)+" encountered when deserializing a UTF-8 string in wasm memory to a JS string!");u0=(u0&7)<<18|u1<<12|u2<<6|heapOrArray[idx++]&63;}if(u0<65536){str+=String.fromCharCode(u0);}else{var ch=u0-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}}return str;};var UTF8ToString=function UTF8ToString(ptr,maxBytesToRead){assert(typeof ptr=="number");return ptr?UTF8ArrayToString(HEAPU8,ptr,maxBytesToRead):"";};var getExceptionMessageCommon=function getExceptionMessageCommon(ptr){return withStackSave(function(){var type_addr_addr=stackAlloc(4);var message_addr_addr=stackAlloc(4);___get_exception_message(ptr,type_addr_addr,message_addr_addr);var type_addr=HEAPU32[type_addr_addr>>2];var message_addr=HEAPU32[message_addr_addr>>2];var type=UTF8ToString(type_addr);_free(type_addr);var message;if(message_addr){message=UTF8ToString(message_addr);_free(message_addr);}return[type,message];});};function getExceptionMessage(ptr){return getExceptionMessageCommon(ptr);}Module["getExceptionMessage"]=getExceptionMessage;function getValue(ptr,type){if(type===void 0){type="i8";}if(type.endsWith("*"))type="*";switch(type){case"i1":return HEAP8[ptr>>0];case"i8":return HEAP8[ptr>>0];case"i16":return HEAP16[ptr>>1];case"i32":return HEAP32[ptr>>2];case"i64":abort("to do getValue(i64) use WASM_BIGINT");case"float":return HEAPF32[ptr>>2];case"double":return HEAPF64[ptr>>3];case"*":return HEAPU32[ptr>>2];default:abort("invalid type for getValue: "+type);}}var ptrToString=function ptrToString(ptr){assert(typeof ptr==="number");ptr>>>=0;return"0x"+ptr.toString(16).padStart(8,"0");};var _warnOnce=function warnOnce(text){if(!_warnOnce.shown)_warnOnce.shown={};if(!_warnOnce.shown[text]){_warnOnce.shown[text]=1;err(text);}};var ___assert_fail=function ___assert_fail(condition,filename,line,func){abort("Assertion failed: "+UTF8ToString(condition)+", at: "+[filename?UTF8ToString(filename):"unknown filename",line,func?UTF8ToString(func):"unknown function"]);};var exceptionCaught=[];var uncaughtExceptionCount=0;function ___cxa_begin_catch(ptr){var info=new ExceptionInfo(ptr);if(!info.get_caught()){info.set_caught(true);uncaughtExceptionCount--;}info.set_rethrown(false);exceptionCaught.push(info);___cxa_increment_exception_refcount(info.excPtr);return info.get_exception_ptr();}var exceptionLast=0;function ExceptionInfo(excPtr){this.excPtr=excPtr;this.ptr=excPtr-24;this.set_type=function(type){HEAPU32[this.ptr+4>>2]=type;};this.get_type=function(){return HEAPU32[this.ptr+4>>2];};this.set_destructor=function(destructor){HEAPU32[this.ptr+8>>2]=destructor;};this.get_destructor=function(){return HEAPU32[this.ptr+8>>2];};this.set_caught=function(caught){caught=caught?1:0;HEAP8[this.ptr+12>>0]=caught;};this.get_caught=function(){return HEAP8[this.ptr+12>>0]!=0;};this.set_rethrown=function(rethrown){rethrown=rethrown?1:0;HEAP8[this.ptr+13>>0]=rethrown;};this.get_rethrown=function(){return HEAP8[this.ptr+13>>0]!=0;};this.init=function(type,destructor){this.set_adjusted_ptr(0);this.set_type(type);this.set_destructor(destructor);};this.set_adjusted_ptr=function(adjustedPtr){HEAPU32[this.ptr+16>>2]=adjustedPtr;};this.get_adjusted_ptr=function(){return HEAPU32[this.ptr+16>>2];};this.get_exception_ptr=function(){var isPointer=___cxa_is_pointer_type(this.get_type());if(isPointer){return HEAPU32[this.excPtr>>2];}var adjusted=this.get_adjusted_ptr();if(adjusted!==0)return adjusted;return this.excPtr;};}function ___resumeException(ptr){if(!exceptionLast){exceptionLast=new _CppException(ptr);}throw exceptionLast;}var findMatchingCatch=function findMatchingCatch(args){var thrown=exceptionLast&&exceptionLast.excPtr;if(!thrown){setTempRet0(0);return 0;}var info=new ExceptionInfo(thrown);info.set_adjusted_ptr(thrown);var thrownType=info.get_type();if(!thrownType){setTempRet0(0);return thrown;}for(var arg in args){var caughtType=args[arg];if(caughtType===0||caughtType===thrownType){break;}var adjusted_ptr_addr=info.ptr+16;if(___cxa_can_catch(caughtType,thrownType,adjusted_ptr_addr)){setTempRet0(caughtType);return thrown;}}setTempRet0(thrownType);return thrown;};var ___cxa_find_matching_catch_2=function ___cxa_find_matching_catch_2(){return findMatchingCatch([]);};var ___cxa_find_matching_catch_3=function ___cxa_find_matching_catch_3(arg0){return findMatchingCatch([arg0]);};function __embind_register_bigint(primitiveType,name,size,minRange,maxRange){}function getShiftFromSize(size){switch(size){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+size);}}function embind_init_charCodes(){var codes=new Array(256);for(var i=0;i<256;++i){codes[i]=String.fromCharCode(i);}embind_charCodes=codes;}var embind_charCodes=undefined;function readLatin1String(ptr){var ret="";var c=ptr;while(HEAPU8[c]){ret+=embind_charCodes[HEAPU8[c++]];}return ret;}var awaitingDependencies={};var registeredTypes={};var typeDependencies={};var BindingError=undefined;function throwBindingError(message){throw new BindingError(message);}var InternalError=undefined;function throwInternalError(message){throw new InternalError(message);}function sharedRegisterType(rawType,registeredInstance,options){if(options===void 0){options={};}var name=registeredInstance.name;if(!rawType){throwBindingError("type \""+name+"\" must have a positive integer typeid pointer");}if(Object.prototype.hasOwnProperty.call(registeredTypes,rawType)){if(options.ignoreDuplicateRegistrations){return;}else{throwBindingError("Cannot register type '"+name+"' twice");}}registeredTypes[rawType]=registeredInstance;delete typeDependencies[rawType];if(Object.prototype.hasOwnProperty.call(awaitingDependencies,rawType)){var callbacks=awaitingDependencies[rawType];delete awaitingDependencies[rawType];callbacks.forEach(function(cb){return cb();});}}function registerType(rawType,registeredInstance,options){if(options===void 0){options={};}if(!("argPackAdvance"in registeredInstance)){throw new TypeError("registerType registeredInstance requires argPackAdvance");}return sharedRegisterType(rawType,registeredInstance,options);}function __embind_register_bool(rawType,name,size,trueValue,falseValue){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(wt){return!!wt;},"toWireType":function toWireType(destructors,o){return o?trueValue:falseValue;},"argPackAdvance":8,"readValueFromPointer":function readValueFromPointer(pointer){var heap;if(size===1){heap=HEAP8;}else if(size===2){heap=HEAP16;}else if(size===4){heap=HEAP32;}else{throw new TypeError("Unknown boolean type size: "+name);}return this["fromWireType"](heap[pointer>>shift]);},destructorFunction:null});}function handleAllocatorInit(){Object.assign(HandleAllocator.prototype,{get:function get(id){assert(this.allocated[id]!==undefined,"invalid handle: "+id);return this.allocated[id];},has:function has(id){return this.allocated[id]!==undefined;},allocate:function allocate(handle){var id=this.freelist.pop()||this.allocated.length;this.allocated[id]=handle;return id;},free:function free(id){assert(this.allocated[id]!==undefined);this.allocated[id]=undefined;this.freelist.push(id);}});}function HandleAllocator(){this.allocated=[undefined];this.freelist=[];}var emval_handles=new HandleAllocator();function __emval_decref(handle){if(handle>=emval_handles.reserved&&0===--emval_handles.get(handle).refcount){emval_handles.free(handle);}}function count_emval_handles(){var count=0;for(var i=emval_handles.reserved;i<emval_handles.allocated.length;++i){if(emval_handles.allocated[i]!==undefined){++count;}}return count;}function init_emval(){emval_handles.allocated.push({value:undefined},{value:null},{value:true},{value:false});emval_handles.reserved=emval_handles.allocated.length;Module["count_emval_handles"]=count_emval_handles;}var Emval={toValue:function toValue(handle){if(!handle){throwBindingError("Cannot use deleted val. handle = "+handle);}return emval_handles.get(handle).value;},toHandle:function toHandle(value){switch(value){case undefined:return 1;case null:return 2;case true:return 3;case false:return 4;default:{return emval_handles.allocate({refcount:1,value:value});}}}};function simpleReadValueFromPointer(pointer){return this["fromWireType"](HEAP32[pointer>>2]);}function __embind_register_emval(rawType,name){name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(handle){var rv=Emval.toValue(handle);__emval_decref(handle);return rv;},"toWireType":function toWireType(destructors,value){return Emval.toHandle(value);},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:null});}function embindRepr(v){if(v===null){return"null";}var t=typeof v;if(t==="object"||t==="array"||t==="function"){return v.toString();}else{return""+v;}}function floatReadValueFromPointer(name,shift){switch(shift){case 2:return function(pointer){return this["fromWireType"](HEAPF32[pointer>>2]);};case 3:return function(pointer){return this["fromWireType"](HEAPF64[pointer>>3]);};default:throw new TypeError("Unknown float type: "+name);}}function __embind_register_float(rawType,name,size){var shift=getShiftFromSize(size);name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":function fromWireType(value){return value;},"toWireType":function toWireType(destructors,value){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert "+embindRepr(value)+" to "+this.name);}return value;},"argPackAdvance":8,"readValueFromPointer":floatReadValueFromPointer(name,shift),destructorFunction:null});}function integerReadValueFromPointer(name,shift,signed){switch(shift){case 0:return signed?function readS8FromPointer(pointer){return HEAP8[pointer];}:function readU8FromPointer(pointer){return HEAPU8[pointer];};case 1:return signed?function readS16FromPointer(pointer){return HEAP16[pointer>>1];}:function readU16FromPointer(pointer){return HEAPU16[pointer>>1];};case 2:return signed?function readS32FromPointer(pointer){return HEAP32[pointer>>2];}:function readU32FromPointer(pointer){return HEAPU32[pointer>>2];};default:throw new TypeError("Unknown integer type: "+name);}}function __embind_register_integer(primitiveType,name,size,minRange,maxRange){name=readLatin1String(name);if(maxRange===-1){maxRange=4294967295;}var shift=getShiftFromSize(size);var fromWireType=function fromWireType(value){return value;};if(minRange===0){var bitshift=32-8*size;fromWireType=function fromWireType(value){return value<<bitshift>>>bitshift;};}var isUnsignedType=name.includes("unsigned");var checkAssertions=function checkAssertions(value,toTypeName){if(typeof value!="number"&&typeof value!="boolean"){throw new TypeError("Cannot convert \""+embindRepr(value)+"\" to "+toTypeName);}if(value<minRange||value>maxRange){throw new TypeError("Passing a number \""+embindRepr(value)+"\" from JS side to C/C++ side to an argument of type \""+name+"\", which is outside the valid range ["+minRange+", "+maxRange+"]!");}};var toWireType;if(isUnsignedType){toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value>>>0;};}else{toWireType=function toWireType(destructors,value){checkAssertions(value,this.name);return value;};}registerType(primitiveType,{name:name,"fromWireType":fromWireType,"toWireType":toWireType,"argPackAdvance":8,"readValueFromPointer":integerReadValueFromPointer(name,shift,minRange!==0),destructorFunction:null});}function __embind_register_memory_view(rawType,dataTypeIndex,name){var typeMapping=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];var TA=typeMapping[dataTypeIndex];function decodeMemoryView(handle){handle=handle>>2;var heap=HEAPU32;var size=heap[handle];var data=heap[handle+1];return new TA(heap.buffer,data,size);}name=readLatin1String(name);registerType(rawType,{name:name,"fromWireType":decodeMemoryView,"argPackAdvance":8,"readValueFromPointer":decodeMemoryView},{ignoreDuplicateRegistrations:true});}var stringToUTF8Array=function stringToUTF8Array(str,heap,outIdx,maxBytesToWrite){assert(typeof str==="string");if(!(maxBytesToWrite>0))return 0;var startIdx=outIdx;var endIdx=outIdx+maxBytesToWrite-1;for(var i=0;i<str.length;++i){var u=str.charCodeAt(i);if(u>=55296&&u<=57343){var u1=str.charCodeAt(++i);u=65536+((u&1023)<<10)|u1&1023;}if(u<=127){if(outIdx>=endIdx)break;heap[outIdx++]=u;}else if(u<=2047){if(outIdx+1>=endIdx)break;heap[outIdx++]=192|u>>6;heap[outIdx++]=128|u&63;}else if(u<=65535){if(outIdx+2>=endIdx)break;heap[outIdx++]=224|u>>12;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}else{if(outIdx+3>=endIdx)break;if(u>1114111)_warnOnce("Invalid Unicode code point "+ptrToString(u)+" encountered when serializing a JS string to a UTF-8 string in wasm memory! (Valid unicode code points should be in range 0-0x10FFFF).");heap[outIdx++]=240|u>>18;heap[outIdx++]=128|u>>12&63;heap[outIdx++]=128|u>>6&63;heap[outIdx++]=128|u&63;}}heap[outIdx]=0;return outIdx-startIdx;};var stringToUTF8=function stringToUTF8(str,outPtr,maxBytesToWrite){assert(typeof maxBytesToWrite=="number","stringToUTF8(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");return stringToUTF8Array(str,HEAPU8,outPtr,maxBytesToWrite);};var lengthBytesUTF8=function lengthBytesUTF8(str){var len=0;for(var i=0;i<str.length;++i){var c=str.charCodeAt(i);if(c<=127){len++;}else if(c<=2047){len+=2;}else if(c>=55296&&c<=57343){len+=4;++i;}else{len+=3;}}return len;};function __embind_register_std_string(rawType,name){name=readLatin1String(name);var stdStringIsUTF8=name==="std::string";registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var payload=value+4;var str;if(stdStringIsUTF8){var decodeStartPtr=payload;for(var i=0;i<=length;++i){var currentBytePtr=payload+i;if(i==length||HEAPU8[currentBytePtr]==0){var maxRead=currentBytePtr-decodeStartPtr;var stringSegment=UTF8ToString(decodeStartPtr,maxRead);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+1;}}}else{var a=new Array(length);for(var i=0;i<length;++i){a[i]=String.fromCharCode(HEAPU8[payload+i]);}str=a.join("");}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(value instanceof ArrayBuffer){value=new Uint8Array(value);}var length;var valueIsOfTypeString=typeof value=="string";if(!(valueIsOfTypeString||value instanceof Uint8Array||value instanceof Uint8ClampedArray||value instanceof Int8Array)){throwBindingError("Cannot pass non-string to std::string");}if(stdStringIsUTF8&&valueIsOfTypeString){length=lengthBytesUTF8(value);}else{length=value.length;}var base=_malloc(4+length+1);var ptr=base+4;HEAPU32[base>>2]=length;if(stdStringIsUTF8&&valueIsOfTypeString){stringToUTF8(value,ptr,length+1);}else{if(valueIsOfTypeString){for(var i=0;i<length;++i){var charCode=value.charCodeAt(i);if(charCode>255){_free(ptr);throwBindingError("String has UTF-16 code units that do not fit in 8 bits");}HEAPU8[ptr+i]=charCode;}}else{for(var i=0;i<length;++i){HEAPU8[ptr+i]=value[i];}}}if(destructors!==null){destructors.push(_free,base);}return base;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});}var UTF16Decoder=typeof TextDecoder!="undefined"?new TextDecoder("utf-16le"):undefined;var UTF16ToString=function UTF16ToString(ptr,maxBytesToRead){assert(ptr%2==0,"Pointer passed to UTF16ToString must be aligned to two bytes!");var endPtr=ptr;var idx=endPtr>>1;var maxIdx=idx+maxBytesToRead/2;while(!(idx>=maxIdx)&&HEAPU16[idx])++idx;endPtr=idx<<1;if(endPtr-ptr>32&&UTF16Decoder)return UTF16Decoder.decode(HEAPU8.subarray(ptr,endPtr));var str="";for(var i=0;!(i>=maxBytesToRead/2);++i){var codeUnit=HEAP16[ptr+i*2>>1];if(codeUnit==0)break;str+=String.fromCharCode(codeUnit);}return str;};var stringToUTF16=function stringToUTF16(str,outPtr,maxBytesToWrite){assert(outPtr%2==0,"Pointer passed to stringToUTF16 must be aligned to two bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF16(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<2)return 0;maxBytesToWrite-=2;var startPtr=outPtr;var numCharsToWrite=maxBytesToWrite<str.length*2?maxBytesToWrite/2:str.length;for(var i=0;i<numCharsToWrite;++i){var codeUnit=str.charCodeAt(i);HEAP16[outPtr>>1]=codeUnit;outPtr+=2;}HEAP16[outPtr>>1]=0;return outPtr-startPtr;};var lengthBytesUTF16=function lengthBytesUTF16(str){return str.length*2;};var UTF32ToString=function UTF32ToString(ptr,maxBytesToRead){assert(ptr%4==0,"Pointer passed to UTF32ToString must be aligned to four bytes!");var i=0;var str="";while(!(i>=maxBytesToRead/4)){var utf32=HEAP32[ptr+i*4>>2];if(utf32==0)break;++i;if(utf32>=65536){var ch=utf32-65536;str+=String.fromCharCode(55296|ch>>10,56320|ch&1023);}else{str+=String.fromCharCode(utf32);}}return str;};var stringToUTF32=function stringToUTF32(str,outPtr,maxBytesToWrite){assert(outPtr%4==0,"Pointer passed to stringToUTF32 must be aligned to four bytes!");assert(typeof maxBytesToWrite=="number","stringToUTF32(str, outPtr, maxBytesToWrite) is missing the third parameter that specifies the length of the output buffer!");if(maxBytesToWrite===undefined){maxBytesToWrite=2147483647;}if(maxBytesToWrite<4)return 0;var startPtr=outPtr;var endPtr=startPtr+maxBytesToWrite-4;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343){var trailSurrogate=str.charCodeAt(++i);codeUnit=65536+((codeUnit&1023)<<10)|trailSurrogate&1023;}HEAP32[outPtr>>2]=codeUnit;outPtr+=4;if(outPtr+4>endPtr)break;}HEAP32[outPtr>>2]=0;return outPtr-startPtr;};var lengthBytesUTF32=function lengthBytesUTF32(str){var len=0;for(var i=0;i<str.length;++i){var codeUnit=str.charCodeAt(i);if(codeUnit>=55296&&codeUnit<=57343)++i;len+=4;}return len;};var __embind_register_std_wstring=function __embind_register_std_wstring(rawType,charSize,name){name=readLatin1String(name);var decodeString,encodeString,getHeap,lengthBytesUTF,shift;if(charSize===2){decodeString=UTF16ToString;encodeString=stringToUTF16;lengthBytesUTF=lengthBytesUTF16;getHeap=function getHeap(){return HEAPU16;};shift=1;}else if(charSize===4){decodeString=UTF32ToString;encodeString=stringToUTF32;lengthBytesUTF=lengthBytesUTF32;getHeap=function getHeap(){return HEAPU32;};shift=2;}registerType(rawType,{name:name,"fromWireType":function fromWireType(value){var length=HEAPU32[value>>2];var HEAP=getHeap();var str;var decodeStartPtr=value+4;for(var i=0;i<=length;++i){var currentBytePtr=value+4+i*charSize;if(i==length||HEAP[currentBytePtr>>shift]==0){var maxReadBytes=currentBytePtr-decodeStartPtr;var stringSegment=decodeString(decodeStartPtr,maxReadBytes);if(str===undefined){str=stringSegment;}else{str+=String.fromCharCode(0);str+=stringSegment;}decodeStartPtr=currentBytePtr+charSize;}}_free(value);return str;},"toWireType":function toWireType(destructors,value){if(!(typeof value=="string")){throwBindingError("Cannot pass non-string to C++ string type "+name);}var length=lengthBytesUTF(value);var ptr=_malloc(4+length+charSize);HEAPU32[ptr>>2]=length>>shift;encodeString(value,ptr+4,length+charSize);if(destructors!==null){destructors.push(_free,ptr);}return ptr;},"argPackAdvance":8,"readValueFromPointer":simpleReadValueFromPointer,destructorFunction:function destructorFunction(ptr){_free(ptr);}});};function __embind_register_void(rawType,name){name=readLatin1String(name);registerType(rawType,{isVoid:true,name:name,"argPackAdvance":0,"fromWireType":function fromWireType(){return undefined;},"toWireType":function toWireType(destructors,o){return undefined;}});}var _abort=function _abort(){abort("native code called abort()");};var readEmAsmArgsArray=[];var readEmAsmArgs=function readEmAsmArgs(sigPtr,buf){assert(Array.isArray(readEmAsmArgsArray));assert(buf%16==0);readEmAsmArgsArray.length=0;var ch;buf>>=2;while(ch=HEAPU8[sigPtr++]){var chr=String.fromCharCode(ch);var validChars=["d","f","i"];assert(validChars.includes(chr),"Invalid character "+ch+"(\""+chr+"\") in readEmAsmArgs! Use only ["+validChars+"], and do not specify \"v\" for void return argument.");buf+=ch!=105&buf;readEmAsmArgsArray.push(ch==105?HEAP32[buf]:HEAPF64[buf++>>1]);++buf;}return readEmAsmArgsArray;};var runEmAsmFunction=function runEmAsmFunction(code,sigPtr,argbuf){var args=readEmAsmArgs(sigPtr,argbuf);if(!Object.prototype.hasOwnProperty.call(ASM_CONSTS,code))abort("No EM_ASM constant found at address "+code);return ASM_CONSTS[code].apply(null,args);};var _emscripten_asm_const_int=function _emscripten_asm_const_int(code,sigPtr,argbuf){return runEmAsmFunction(code,sigPtr,argbuf);};var getHeapMax=function getHeapMax(){return 1048576;};var _emscripten_get_heap_max=function _emscripten_get_heap_max(){return getHeapMax();};var growMemory=function growMemory(size){var b=wasmMemory.buffer;var pages=size-b.byteLength+65535>>>16;try{wasmMemory.grow(pages);updateMemoryViews();return 1;}catch(e){err("growMemory: Attempted to grow heap from "+b.byteLength+" bytes to "+size+" bytes, but got error: "+e);}};var _emscripten_resize_heap=function _emscripten_resize_heap(requestedSize){var oldSize=HEAPU8.length;requestedSize>>>=0;assert(requestedSize>oldSize);var maxHeapSize=getHeapMax();if(requestedSize>maxHeapSize){err("Cannot enlarge memory, asked to go up to "+requestedSize+" bytes, but the limit is "+maxHeapSize+" bytes!");return false;}var alignUp=function alignUp(x,multiple){return x+(multiple-x%multiple)%multiple;};for(var cutDown=1;cutDown<=4;cutDown*=2){var overGrownHeapSize=oldSize*(1+.2/cutDown);overGrownHeapSize=Math.min(overGrownHeapSize,requestedSize+100663296);var newSize=Math.min(maxHeapSize,alignUp(Math.max(requestedSize,overGrownHeapSize),65536));var replacement=growMemory(newSize);if(replacement){return true;}}err("Failed to grow the heap from "+oldSize+" bytes to "+newSize+" bytes, not enough memory!");return false;};var SYSCALLS={varargs:undefined,get:function get(){assert(SYSCALLS.varargs!=undefined);SYSCALLS.varargs+=4;var ret=HEAP32[SYSCALLS.varargs-4>>2];return ret;},getStr:function getStr(ptr){var ret=UTF8ToString(ptr);return ret;}};var _fd_close=function _fd_close(fd){abort("fd_close called without SYSCALLS_REQUIRE_FILESYSTEM");};function convertI32PairToI53Checked(lo,hi){assert(lo==lo>>>0||lo==(lo|0));assert(hi===(hi|0));return hi+2097152>>>0<4194305-!!lo?(lo>>>0)+hi*4294967296:NaN;}function _fd_seek(fd,offset_low,offset_high,whence,newOffset){var offset=convertI32PairToI53Checked(offset_low,offset_high);return 70;}var printCharBuffers=[null,[],[]];var printChar=function printChar(stream,curr){var buffer=printCharBuffers[stream];assert(buffer);if(curr===0||curr===10){(stream===1?out:err)(UTF8ArrayToString(buffer,0));buffer.length=0;}else{buffer.push(curr);}};var flush_NO_FILESYSTEM=function flush_NO_FILESYSTEM(){_fflush(0);if(printCharBuffers[1].length)printChar(1,10);if(printCharBuffers[2].length)printChar(2,10);};var _fd_write=function _fd_write(fd,iov,iovcnt,pnum){var num=0;for(var i=0;i<iovcnt;i++){var ptr=HEAPU32[iov>>2];var len=HEAPU32[iov+4>>2];iov+=8;for(var j=0;j<len;j++){printChar(fd,HEAPU8[ptr+j]);}num+=len;}HEAPU32[pnum>>2]=num;return 0;};var getWasmTableEntry=function getWasmTableEntry(funcPtr){return wasmTable.get(funcPtr);};var writeArrayToMemory=function writeArrayToMemory(array,buffer){assert(array.length>=0,"writeArrayToMemory array must have a length (should be an array or typed array)");HEAP8.set(array,buffer);};embind_init_charCodes();BindingError=Module["BindingError"]=function(_Error2){"use strict";function BindingError(message){var _this2;_this2=_Error2.call(this,message)||this;_this2.name="BindingError";return _this2;}babelHelpers.inheritsLoose(BindingError,_Error2);return BindingError;}(babelHelpers.wrapNativeSuper(Error));InternalError=Module["InternalError"]=function(_Error3){"use strict";function InternalError(message){var _this3;_this3=_Error3.call(this,message)||this;_this3.name="InternalError";return _this3;}babelHelpers.inheritsLoose(InternalError,_Error3);return InternalError;}(babelHelpers.wrapNativeSuper(Error));handleAllocatorInit();init_emval();function checkIncomingModuleAPI(){ignoredModuleProp("fetchSettings");}var wasmImports={__assert_fail:___assert_fail,__cxa_begin_catch:___cxa_begin_catch,__cxa_find_matching_catch_2:___cxa_find_matching_catch_2,__cxa_find_matching_catch_3:___cxa_find_matching_catch_3,__resumeException:___resumeException,_embind_register_bigint:__embind_register_bigint,_embind_register_bool:__embind_register_bool,_embind_register_emval:__embind_register_emval,_embind_register_float:__embind_register_float,_embind_register_integer:__embind_register_integer,_embind_register_memory_view:__embind_register_memory_view,_embind_register_std_string:__embind_register_std_string,_embind_register_std_wstring:__embind_register_std_wstring,_embind_register_void:__embind_register_void,abort:_abort,emscripten_asm_const_int:_emscripten_asm_const_int,emscripten_get_heap_max:_emscripten_get_heap_max,emscripten_resize_heap:_emscripten_resize_heap,fd_close:_fd_close,fd_seek:_fd_seek,fd_write:_fd_write,invoke_ii:invoke_ii,invoke_iii:invoke_iii,invoke_iiii:invoke_iiii,invoke_v:invoke_v,invoke_vi:invoke_vi,invoke_vii:invoke_vii,invoke_viii:invoke_viii,invoke_viiii:invoke_viiii};var asm=createWasm();var ___wasm_call_ctors=createExportWrapper("__wasm_call_ctors");var _curve_create=Module["_curve_create"]=createExportWrapper("curve_create");var _malloc=Module["_malloc"]=createExportWrapper("malloc");var _curve_free=Module["_curve_free"]=createExportWrapper("curve_free");var _free=Module["_free"]=createExportWrapper("free");var _curve_init_ristretto=Module["_curve_init_ristretto"]=createExportWrapper("curve_init_ristretto");var _get_curve_element_bytes=Module["_get_curve_element_bytes"]=createExportWrapper("get_curve_element_bytes");var _get_curve_scalar_bytes=Module["_get_curve_scalar_bytes"]=createExportWrapper("get_curve_scalar_bytes");var _kdf_create=Module["_kdf_create"]=createExportWrapper("kdf_create");var _kdf_free=Module["_kdf_free"]=createExportWrapper("kdf_free");var _kdf_init_naor_reingold=Module["_kdf_init_naor_reingold"]=createExportWrapper("kdf_init_naor_reingold");var _sodiumInit=Module["_sodiumInit"]=createExportWrapper("sodiumInit");var _voprf_create=Module["_voprf_create"]=createExportWrapper("voprf_create");var _voprf_free=Module["_voprf_free"]=createExportWrapper("voprf_free");var _voprf_init_exp_twohashdh=Module["_voprf_init_exp_twohashdh"]=createExportWrapper("voprf_init_exp_twohashdh");var _blind=Module["_blind"]=createExportWrapper("blind");var _verifiable_unblind=Module["_verifiable_unblind"]=createExportWrapper("verifiable_unblind");var _voprf_client_finalize=Module["_voprf_client_finalize"]=createExportWrapper("voprf_client_finalize");var _voprf_setup=Module["_voprf_setup"]=createExportWrapper("voprf_setup");var _voprf_evaluate=Module["_voprf_evaluate"]=createExportWrapper("voprf_evaluate");var _voprf_server_finalize=Module["_voprf_server_finalize"]=createExportWrapper("voprf_server_finalize");var _get_voprf_final_evaluation_bytes=Module["_get_voprf_final_evaluation_bytes"]=createExportWrapper("get_voprf_final_evaluation_bytes");var ___errno_location=createExportWrapper("__errno_location");var ___getTypeName=createExportWrapper("__getTypeName");var __embind_initialize_bindings=Module["__embind_initialize_bindings"]=createExportWrapper("_embind_initialize_bindings");var _fflush=Module["_fflush"]=createExportWrapper("fflush");var _emscripten_builtin_memalign=createExportWrapper("emscripten_builtin_memalign");var _setThrew=createExportWrapper("setThrew");var setTempRet0=createExportWrapper("setTempRet0");var _emscripten_stack_init2=function _emscripten_stack_init(){return(_emscripten_stack_init2=wasmExports["emscripten_stack_init"])();};var _emscripten_stack_get_free2=function _emscripten_stack_get_free(){return(_emscripten_stack_get_free2=wasmExports["emscripten_stack_get_free"])();};var _emscripten_stack_get_base2=function _emscripten_stack_get_base(){return(_emscripten_stack_get_base2=wasmExports["emscripten_stack_get_base"])();};var _emscripten_stack_get_end2=function _emscripten_stack_get_end(){return(_emscripten_stack_get_end2=wasmExports["emscripten_stack_get_end"])();};var stackSave=createExportWrapper("stackSave");var stackRestore=createExportWrapper("stackRestore");var stackAlloc=createExportWrapper("stackAlloc");var _emscripten_stack_get_current2=function _emscripten_stack_get_current(){return(_emscripten_stack_get_current2=wasmExports["emscripten_stack_get_current"])();};var ___cxa_free_exception=createExportWrapper("__cxa_free_exception");var ___cxa_increment_exception_refcount=createExportWrapper("__cxa_increment_exception_refcount");var ___cxa_decrement_exception_refcount=createExportWrapper("__cxa_decrement_exception_refcount");var ___get_exception_message=Module["___get_exception_message"]=createExportWrapper("__get_exception_message");var ___cxa_can_catch=createExportWrapper("__cxa_can_catch");var ___cxa_is_pointer_type=createExportWrapper("__cxa_is_pointer_type");var dynCall_iiiji=Module["dynCall_iiiji"]=createExportWrapper("dynCall_iiiji");var dynCall_iiij=Module["dynCall_iiij"]=createExportWrapper("dynCall_iiij");var dynCall_iijii=Module["dynCall_iijii"]=createExportWrapper("dynCall_iijii");var dynCall_iiijiji=Module["dynCall_iiijiji"]=createExportWrapper("dynCall_iiijiji");var dynCall_iiijiii=Module["dynCall_iiijiii"]=createExportWrapper("dynCall_iiijiii");var dynCall_jiji=Module["dynCall_jiji"]=createExportWrapper("dynCall_jiji");function invoke_v(index){var sp=stackSave();try{getWasmTableEntry(index)();}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vii(index,a1,a2){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viiii(index,a1,a2,a3,a4){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3,a4);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_ii(index,a1){var sp=stackSave();try{return getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iii(index,a1,a2){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_viii(index,a1,a2,a3){var sp=stackSave();try{getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_vi(index,a1){var sp=stackSave();try{getWasmTableEntry(index)(a1);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}function invoke_iiii(index,a1,a2,a3){var sp=stackSave();try{return getWasmTableEntry(index)(a1,a2,a3);}catch(e){stackRestore(sp);if(!(e instanceof _EmscriptenEH3))throw e;_setThrew(1,0);}}Module["wasmMemory"]=wasmMemory;Module["getValue"]=getValue;Module["stringToUTF8"]=stringToUTF8;Module["lengthBytesUTF8"]=lengthBytesUTF8;Module["writeArrayToMemory"]=writeArrayToMemory;var missingLibrarySymbols=["writeI53ToI64","writeI53ToI64Clamped","writeI53ToI64Signaling","writeI53ToU64Clamped","writeI53ToU64Signaling","readI53FromI64","readI53FromU64","convertI32PairToI53","convertU32PairToI53","zeroMemory","exitJS","isLeapYear","ydayFromDate","arraySum","addDays","setErrNo","inetPton4","inetNtop4","inetPton6","inetNtop6","readSockaddr","writeSockaddr","getHostByName","initRandomFill","randomFill","getCallstack","emscriptenLog","convertPCtoSourceLocation","runMainThreadEmAsm","jstoi_q","jstoi_s","getExecutableName","listenOnce","autoResumeAudioContext","dynCallLegacy","getDynCaller","dynCall","setWasmTableEntry","handleException","runtimeKeepalivePush","runtimeKeepalivePop","callUserCallback","maybeExit","safeSetTimeout","asmjsMangle","asyncLoad","alignMemory","mmapAlloc","getNativeTypeSize","STACK_SIZE","STACK_ALIGN","POINTER_SIZE","ASSERTIONS","getCFunc","ccall","cwrap","uleb128Encode","sigToWasmTypes","generateFuncType","convertJsFunctionToWasm","getEmptyTableSlot","updateTableMap","getFunctionAddress","addFunction","removeFunction","reallyNegative","unSign","strLen","reSign","formatString","intArrayFromString","intArrayToString","AsciiToString","stringToAscii","stringToNewUTF8","stringToUTF8OnStack","registerKeyEventCallback","maybeCStringToJsString","findEventTarget","findCanvasEventTarget","getBoundingClientRect","fillMouseEventData","registerMouseEventCallback","registerWheelEventCallback","registerUiEventCallback","registerFocusEventCallback","fillDeviceOrientationEventData","registerDeviceOrientationEventCallback","fillDeviceMotionEventData","registerDeviceMotionEventCallback","screenOrientation","fillOrientationChangeEventData","registerOrientationChangeEventCallback","fillFullscreenChangeEventData","registerFullscreenChangeEventCallback","JSEvents_requestFullscreen","JSEvents_resizeCanvasForFullscreen","registerRestoreOldStyle","hideEverythingExceptGivenElement","restoreHiddenElements","setLetterbox","softFullscreenResizeWebGLRenderTarget","doRequestFullscreen","fillPointerlockChangeEventData","registerPointerlockChangeEventCallback","registerPointerlockErrorEventCallback","requestPointerLock","fillVisibilityChangeEventData","registerVisibilityChangeEventCallback","registerTouchEventCallback","fillGamepadEventData","registerGamepadEventCallback","registerBeforeUnloadEventCallback","fillBatteryEventData","battery","registerBatteryEventCallback","setCanvasElementSize","getCanvasElementSize","demangle","demangleAll","jsStackTrace","stackTrace","getEnvStrings","checkWasiClock","wasiRightsToMuslOFlags","wasiOFlagsToMuslOFlags","createDyncallWrapper","setImmediateWrapped","clearImmediateWrapped","polyfillSetImmediate","getPromise","makePromise","idsToPromises","makePromiseCallback","setMainLoop","getSocketFromFD","getSocketAddress","FS_createPreloadedFile","FS_modeStringToFlags","FS_getMode","FS_stdin_getChar","_setNetworkCallback","heapObjectForWebGLType","heapAccessShiftForWebGLHeap","webgl_enable_ANGLE_instanced_arrays","webgl_enable_OES_vertex_array_object","webgl_enable_WEBGL_draw_buffers","webgl_enable_WEBGL_multi_draw","emscriptenWebGLGet","computeUnpackAlignedImageSize","colorChannelsInGlTextureFormat","emscriptenWebGLGetTexPixelData","__glGenObject","emscriptenWebGLGetUniform","webglGetUniformLocation","webglPrepareUniformLocationsBeforeFirstUse","webglGetLeftBracePos","emscriptenWebGLGetVertexAttrib","__glGetActiveAttribOrUniform","writeGLArray","registerWebGlEventCallback","runAndAbortIfError","SDL_unicode","SDL_ttfContext","SDL_audio","GLFW_Window","ALLOC_NORMAL","ALLOC_STACK","allocate","writeStringToMemory","writeAsciiToMemory","getTypeName","heap32VectorToArray","requireRegisteredType","init_embind","throwUnboundTypeError","ensureOverloadTable","exposePublicSymbol","replacePublicSymbol","extendError","createNamedFunction","getBasestPointer","registerInheritedInstance","unregisterInheritedInstance","getInheritedInstance","getInheritedInstanceCount","getLiveInheritedInstances","enumReadValueFromPointer","runDestructors","craftInvokerFunction","embind__requireFunction","genericPointerToWireType","constNoSmartPtrRawPointerToWireType","nonConstNoSmartPtrRawPointerToWireType","init_RegisteredPointer","RegisteredPointer","RegisteredPointer_getPointee","RegisteredPointer_destructor","RegisteredPointer_deleteObject","RegisteredPointer_fromWireType","runDestructor","releaseClassHandle","detachFinalizer","attachFinalizer","makeClassHandle","init_ClassHandle","ClassHandle","ClassHandle_isAliasOf","throwInstanceAlreadyDeleted","ClassHandle_clone","ClassHandle_delete","ClassHandle_isDeleted","ClassHandle_deleteLater","flushPendingDeletes","setDelayFunction","RegisteredClass","shallowCopyInternalPointer","downcastPointer","upcastPointer","validateThis","char_0","char_9","makeLegalFunctionName","getStringOrSymbol","craftEmvalAllocator","emval_get_global","emval_lookupTypes","emval_allocateDestructors","emval_addMethodCaller"];missingLibrarySymbols.forEach(missingLibrarySymbol);var unexportedSymbols=["run","addOnPreRun","addOnInit","addOnPreMain","addOnExit","addOnPostRun","addRunDependency","removeRunDependency","FS_createFolder","FS_createPath","FS_createDataFile","FS_createLazyFile","FS_createLink","FS_createDevice","FS_unlink","out","err","callMain","abort","keepRuntimeAlive","wasmTable","wasmExports","stackAlloc","stackSave","stackRestore","getTempRet0","setTempRet0","writeStackCookie","checkStackCookie","convertI32PairToI53Checked","ptrToString","getHeapMax","growMemory","ENV","MONTH_DAYS_REGULAR","MONTH_DAYS_LEAP","MONTH_DAYS_REGULAR_CUMULATIVE","MONTH_DAYS_LEAP_CUMULATIVE","ERRNO_CODES","ERRNO_MESSAGES","DNS","Protocols","Sockets","timers","warnOnce","UNWIND_CACHE","readEmAsmArgsArray","readEmAsmArgs","runEmAsmFunction","getWasmTableEntry","handleAllocatorInit","HandleAllocator","freeTableIndexes","functionsInTableMap","setValue","PATH","PATH_FS","UTF8Decoder","UTF8ArrayToString","UTF8ToString","stringToUTF8Array","UTF16Decoder","UTF16ToString","stringToUTF16","lengthBytesUTF16","UTF32ToString","stringToUTF32","lengthBytesUTF32","JSEvents","specialHTMLTargets","currentFullscreenStrategy","restoreOldWindowedStyle","ExitStatus","flush_NO_FILESYSTEM","promiseMap","uncaughtExceptionCount","exceptionLast","exceptionCaught","ExceptionInfo","findMatchingCatch","getExceptionMessageCommon","incrementExceptionRefcount","decrementExceptionRefcount","getExceptionMessage","Browser","wget","SYSCALLS","preloadPlugins","FS_stdin_getChar_buffer","FS","MEMFS","TTY","PIPEFS","SOCKFS","tempFixedLengthArray","miniTempWebGLFloatBuffers","miniTempWebGLIntBuffers","GL","emscripten_webgl_power_preferences","AL","GLUT","EGL","GLEW","IDBStore","SDL","SDL_gfx","GLFW","allocateUTF8","allocateUTF8OnStack","InternalError","BindingError","throwInternalError","throwBindingError","registeredTypes","awaitingDependencies","typeDependencies","tupleRegistrations","structRegistrations","sharedRegisterType","whenDependentTypesAreResolved","embind_charCodes","embind_init_charCodes","readLatin1String","UnboundTypeError","PureVirtualError","embindRepr","registeredInstances","registeredPointers","registerType","getShiftFromSize","integerReadValueFromPointer","floatReadValueFromPointer","simpleReadValueFromPointer","finalizationRegistry","detachFinalizer_deps","deletionQueue","delayFunction","emval_handles","emval_symbols","init_emval","count_emval_handles","Emval","emval_newers","emval_methodCallers","emval_registeredMethods"];unexportedSymbols.forEach(unexportedRuntimeSymbol);var calledRun;dependenciesFulfilled=function runCaller(){if(!calledRun)run();if(!calledRun)dependenciesFulfilled=runCaller;};function stackCheckInit(){_emscripten_stack_init2();writeStackCookie();}function run(){if(runDependencies>0){return;}stackCheckInit();preRun();if(runDependencies>0){return;}function doRun(){if(calledRun)return;calledRun=true;Module["calledRun"]=true;if(ABORT)return;initRuntime();readyPromiseResolve(Module);if(Module["onRuntimeInitialized"])Module["onRuntimeInitialized"]();assert(!Module["_main"],'compiled without a main, but one is present. if you added it from JS, use Module["onRuntimeInitialized"]');postRun();}if(Module["setStatus"]){Module["setStatus"]("Running...");setTimeout(function(){setTimeout(function(){Module["setStatus"]("");},1);doRun();},1);}else{doRun();}checkStackCookie();}if(Module["preInit"]){if(typeof Module["preInit"]=="function")Module["preInit"]=[Module["preInit"]];while(Module["preInit"].length>0){Module["preInit"].pop()();}}run();


return moduleArg.ready;
});


}();
if(typeof exports==='object'&&typeof module==='object')
module.exports=Module;else
if(typeof define==='function'&&define['amd'])
define([],function(){return Module;});}),null);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/9cisb7Fe7ih/
 */
__d("immutable-3.7.3",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(t,n){typeof e=="object"&&typeof l!="undefined"?l.exports=n():t.Immutable=n()})(this,function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}var n="delete",r=5,o=1<<r,a=o-1,i={},l={value:!1},s={value:!1};function u(e){return e.value=!1,e}function c(e){e&&(e.value=!0)}function d(){}function m(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function p(e){return e.size===void 0&&(e.size=e.__iterate(f)),e.size}function _(e,t){return t>=0?+t:p(e)+ +t}function f(){return!0}function g(e,t,n){return(e===0||n!==void 0&&e<=-n)&&(t===void 0||n!==void 0&&t>=n)}function h(e,t){return C(e,t,0)}function y(e,t){return C(e,t,t)}function C(e,t,n){return e===void 0?n:e<0?Math.max(0,t+e):t===void 0?e:Math.min(t,e)}function b(e){return L(e)?e:j(e)}t(v,b);function v(e){return E(e)?e:K(e)}t(S,b);function S(e){return k(e)?e:Q(e)}t(R,b);function R(e){return L(e)&&!I(e)?e:X(e)}function L(e){return!!(e&&e[D])}function E(e){return!!(e&&e[x])}function k(e){return!!(e&&e[$])}function I(e){return E(e)||k(e)}function T(e){return!!(e&&e[P])}b.isIterable=L,b.isKeyed=E,b.isIndexed=k,b.isAssociative=I,b.isOrdered=T,b.Keyed=v,b.Indexed=S,b.Set=R;var D="@@__IMMUTABLE_ITERABLE__@@",x="@@__IMMUTABLE_KEYED__@@",$="@@__IMMUTABLE_INDEXED__@@",P="@@__IMMUTABLE_ORDERED__@@",N=0,M=1,w=2,A=typeof Symbol=="function"&&Symbol.iterator,F="@@iterator",O=A||F;function B(e){this.next=e}B.prototype.toString=function(){return"[Iterator]"},B.KEYS=N,B.VALUES=M,B.ENTRIES=w,B.prototype.inspect=B.prototype.toSource=function(){return this.toString()},B.prototype[O]=function(){return this};function W(e,t,n,r){var o=e===0?t:e===1?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function q(){return{value:void 0,done:!0}}function U(e){return!!G(e)}function V(e){return e&&typeof e.next=="function"}function H(e){var t=G(e);return t&&t.call(e)}function G(e){var t=e&&(A&&e[A]||e[F]);if(typeof t=="function")return t}function z(e){return e&&typeof e.length=="number"}t(j,b);function j(e){return e==null?oe():L(e)?e.toSeq():le(e)}j.of=function(){return j(arguments)},j.prototype.toSeq=function(){return this},j.prototype.toString=function(){return this.__toString("Seq {","}")},j.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},j.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},j.prototype.__iterator=function(e,t){return ce(this,e,t,!0)},t(K,j);function K(e){return e==null?oe().toKeyedSeq():L(e)?E(e)?e.toSeq():e.fromEntrySeq():ae(e)}K.prototype.toKeyedSeq=function(){return this},t(Q,j);function Q(e){return e==null?oe():L(e)?E(e)?e.entrySeq():e.toIndexedSeq():ie(e)}Q.of=function(){return Q(arguments)},Q.prototype.toIndexedSeq=function(){return this},Q.prototype.toString=function(){return this.__toString("Seq [","]")},Q.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},Q.prototype.__iterator=function(e,t){return ce(this,e,t,!1)},t(X,j);function X(e){return(e==null?oe():L(e)?E(e)?e.entrySeq():e:ie(e)).toSetSeq()}X.of=function(){return X(arguments)},X.prototype.toSetSeq=function(){return this},j.isSeq=ne,j.Keyed=K,j.Set=X,j.Indexed=Q;var Y="@@__IMMUTABLE_SEQ__@@";j.prototype[Y]=!0,t(J,Q);function J(e){this._array=e,this.size=e.length}J.prototype.get=function(e,t){return this.has(e)?this._array[_(this,e)]:t},J.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(e(n[t?r-o:o],o,this)===!1)return o+1;return o},J.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,o=0;return new B(function(){return o>r?q():W(e,o,n[t?r-o++:o++])})},t(Z,K);function Z(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}Z.prototype.get=function(e,t){return t!==void 0&&!this.has(e)?t:this._object[e]},Z.prototype.has=function(e){return this._object.hasOwnProperty(e)},Z.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,a=0;a<=o;a++){var i=r[t?o-a:a];if(e(n[i],i,this)===!1)return a+1}return a},Z.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,o=r.length-1,a=0;return new B(function(){var i=r[t?o-a:a];return a++>o?q():W(e,i,n[i])})},Z.prototype[P]=!0,t(ee,Q);function ee(e){this._iterable=e,this.size=e.length||e.size}ee.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=H(n),o=0;if(V(r))for(var a;!(a=r.next()).done&&e(a.value,o++,this)!==!1;);return o},ee.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=H(n);if(!V(r))return new B(q);var o=0;return new B(function(){var t=r.next();return t.done?t:W(e,o++,t.value)})},t(te,Q);function te(e){this._iterator=e,this._iteratorCache=[]}te.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(e(r[o],o++,this)===!1)return o;for(var a;!(a=n.next()).done;){var i=a.value;if(r[o]=i,e(i,o++,this)===!1)break}return o},te.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new B(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return W(e,o,r[o++])})};function ne(e){return!!(e&&e[Y])}var re;function oe(){return re||(re=new J([]))}function ae(e){var t=Array.isArray(e)?new J(e).fromEntrySeq():V(e)?new te(e).fromEntrySeq():U(e)?new ee(e).fromEntrySeq():typeof e=="object"?new Z(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function ie(e){var t=se(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function le(e){var t=se(e)||typeof e=="object"&&new Z(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function se(e){return z(e)?new J(e):V(e)?new te(e):U(e)?new ee(e):void 0}function ue(e,t,n,r){var o=e._cache;if(o){for(var a=o.length-1,i=0;i<=a;i++){var l=o[n?a-i:i];if(t(l[1],r?l[0]:i,e)===!1)return i+1}return i}return e.__iterateUncached(t,n)}function ce(e,t,n,r){var o=e._cache;if(o){var a=o.length-1,i=0;return new B(function(){var e=o[n?a-i:i];return i++>a?q():W(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}t(de,b);function de(){throw TypeError("Abstract")}t(me,de);function me(){}t(pe,de);function pe(){}t(_e,de);function _e(){}de.Keyed=me,de.Indexed=pe,de.Set=_e;function fe(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if(typeof e.valueOf=="function"&&typeof t.valueOf=="function"){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(typeof e.equals=="function"&&typeof t.equals=="function"&&e.equals(t))}function ge(e,t){return t?he(t,e,"",{"":e}):ye(e)}function he(e,t,n,r){return Array.isArray(t)?e.call(r,n,Q(t).map(function(n,r){return he(e,n,r,t)})):Ce(t)?e.call(r,n,K(t).map(function(n,r){return he(e,n,r,t)})):t}function ye(e){return Array.isArray(e)?Q(e).map(ye).toList():Ce(e)?K(e).map(ye).toMap():e}function Ce(e){return e&&(e.constructor===Object||e.constructor===void 0)}var be=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(t,n){t=t|0,n=n|0;var e=t&65535,r=n&65535;return e*r+((t>>>16)*r+e*(n>>>16)<<16>>>0)|0};function ve(e){return e>>>1&1073741824|e&3221225471}function Se(e){if(e===!1||e===null||e===void 0||typeof e.valueOf=="function"&&(e=e.valueOf(),e===!1||e===null||e===void 0))return 0;if(e===!0)return 1;var t=typeof e;if(t==="number"){var n=e|0;for(n!==e&&(n^=e*4294967295);e>4294967295;)e/=4294967295,n^=e;return ve(n)}return t==="string"?e.length>Ne?Re(e):Le(e):typeof e.hashCode=="function"?e.hashCode():Ee(e)}function Re(e){var t=Ae[e];return t===void 0&&(t=Le(e),we===Me&&(we=0,Ae={}),we++,Ae[e]=t),t}function Le(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ve(t)}function Ee(e){var t;if(De&&(t=xe.get(e),t!==void 0)||(t=e[Pe],t!==void 0)||!Ie&&(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe],t!==void 0||(t=Te(e),t!==void 0)))return t;if(t=++$e,$e&1073741824&&($e=0),De)xe.set(e,t);else{if(ke!==void 0&&ke(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Ie)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable!==void 0&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else if(e.nodeType!==void 0)e[Pe]=t;else throw new Error("Unable to set a non-enumerable property on object.")}return t}var ke=Object.isExtensible,Ie=(function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}})();function Te(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var De=typeof WeakMap=="function",xe;De&&(xe=new WeakMap);var $e=0,Pe="__immutablehash__";typeof Symbol=="function"&&(Pe=Symbol(Pe));var Ne=16,Me=255,we=0,Ae={};function Fe(e,t){if(!e)throw new Error(t)}function Oe(e){Fe(e!==1/0,"Cannot perform this action with an infinite size.")}t(Be,K);function Be(e,t){this._iter=e,this._useKeys=t,this.size=e.size}Be.prototype.get=function(e,t){return this._iter.get(e,t)},Be.prototype.has=function(e){return this._iter.has(e)},Be.prototype.valueSeq=function(){return this._iter.valueSeq()},Be.prototype.reverse=function(){var e=this,t=Ge(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Be.prototype.map=function(e,t){var n=this,r=He(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},Be.prototype.__iterate=function(e,t){var n=this,r;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?st(this):0,function(o){return e(o,t?--r:r++,n)}),t)},Be.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(M,t),r=t?st(this):0;return new B(function(){var o=n.next();return o.done?o:W(e,t?--r:r++,o.value,o)})},Be.prototype[P]=!0,t(We,Q);function We(e){this._iter=e,this.size=e.size}We.prototype.includes=function(e){return this._iter.includes(e)},We.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},We.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t),r=0;return new B(function(){var t=n.next();return t.done?t:W(e,r++,t.value,t)})},t(qe,X);function qe(e){this._iter=e,this.size=e.size}qe.prototype.has=function(e){return this._iter.includes(e)},qe.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},qe.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new B(function(){var t=n.next();return t.done?t:W(e,t.value,t.value,t)})},t(Ue,K);function Ue(e){this._iter=e,this.size=e.size}Ue.prototype.entrySeq=function(){return this._iter.toSeq()},Ue.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){lt(t);var r=L(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Ue.prototype.__iterator=function(e,t){var n=this._iter.__iterator(M,t);return new B(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){lt(r);var o=L(r);return W(e,o?r.get(0):r[0],o?r.get(1):r[1],t)}}})},We.prototype.cacheResult=Be.prototype.cacheResult=qe.prototype.cacheResult=Ue.prototype.cacheResult=dt;function Ve(e){var t=ct(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=dt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===w){var r=e.__iterator(t,n);return new B(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===M?N:M,n)},t}function He(e,t,n){var r=ct(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var a=e.get(r,i);return a===i?o:t.call(n,a,r,e)},r.__iterateUncached=function(r,o){var a=this;return e.__iterate(function(e,o,i){return r(t.call(n,e,o,i),o,a)!==!1},o)},r.__iteratorUncached=function(r,o){var a=e.__iterator(w,o);return new B(function(){var o=a.next();if(o.done)return o;var i=o.value,l=i[0];return W(r,l,t.call(n,i[1],l,e),o)})},r}function Ge(e,t){var n=ct(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Ve(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=dt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ze(e,t,n,r){var o=ct(e);return r&&(o.has=function(r){var o=e.get(r,i);return o!==i&&!!t.call(n,o,r,e)},o.get=function(r,o){var a=e.get(r,i);return a!==i&&t.call(n,a,r,e)?a:o}),o.__iterateUncached=function(o,a){var i=this,l=0;return e.__iterate(function(e,a,s){if(t.call(n,e,a,s))return l++,o(e,r?a:l-1,i)},a),l},o.__iteratorUncached=function(o,a){var i=e.__iterator(w,a),l=0;return new B(function(){for(;;){var a=i.next();if(a.done)return a;var s=a.value,u=s[0],c=s[1];if(t.call(n,c,u,e))return W(o,r?u:l++,c,a)}})},o}function je(e,t,n){var r=_t().asMutable();return e.__iterate(function(o,a){r.update(t.call(n,o,a,e),0,function(e){return e+1})}),r.asImmutable()}function Ke(e,t,n){var r=E(e),o=(T(e)?dn():_t()).asMutable();e.__iterate(function(a,i){o.update(t.call(n,a,i,e),function(e){return e=e||[],e.push(r?[i,a]:a),e})});var a=ut(e);return o.map(function(t){return it(e,a(t))})}function Qe(e,t,n,r){var o=e.size;if(g(t,n,o))return e;var a=h(t,o),i=y(n,o);if(a!==a||i!==i)return Qe(e.toSeq().cacheResult(),t,n,r);var l=i-a,s;l===l&&(s=l<0?0:l);var u=ct(e);return u.size=s,!r&&ne(e)&&s>=0&&(u.get=function(t,n){return t=_(this,t),t>=0&&t<s?e.get(t+a,n):n}),u.__iterateUncached=function(t,n){var o=this;if(s===0)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,u=0;return e.__iterate(function(e,n){if(!(l&&(l=i++<a)))return u++,t(e,r?n:u-1,o)!==!1&&u!==s}),u},u.__iteratorUncached=function(t,n){if(s!==0&&n)return this.cacheResult().__iterator(t,n);var o=s!==0&&e.__iterator(t,n),i=0,l=0;return new B(function(){for(;i++<a;)o.next();if(++l>s)return q();var e=o.next();return r||t===M?e:t===N?W(t,l-1,void 0,e):W(t,l-1,e.value[1],e)})},u}function Xe(e,t,n){var r=ct(e);return r.__iterateUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterate(r,o);var i=0;return e.__iterate(function(e,o,l){return t.call(n,e,o,l)&&++i&&r(e,o,a)}),i},r.__iteratorUncached=function(r,o){var a=this;if(o)return this.cacheResult().__iterator(r,o);var i=e.__iterator(w,o),l=!0;return new B(function(){if(!l)return q();var e=i.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(n,u,s,a)?r===w?e:W(r,s,u,e):(l=!1,q())})},r}function Ye(e,t,n,r){var o=ct(e);return o.__iterateUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterate(o,a);var l=!0,s=0;return e.__iterate(function(e,a,u){if(!(l&&(l=t.call(n,e,a,u))))return s++,o(e,r?a:s-1,i)}),s},o.__iteratorUncached=function(o,a){var i=this;if(a)return this.cacheResult().__iterator(o,a);var l=e.__iterator(w,a),s=!0,u=0;return new B(function(){var e,a,c;do{if(e=l.next(),e.done)return r||o===M?e:o===N?W(o,u++,void 0,e):W(o,u++,e.value[1],e);var d=e.value;a=d[0],c=d[1],s&&(s=t.call(n,c,a,i))}while(s);return o===w?e:W(o,a,c,e)})},o}function Je(e,t){var n=E(e),r=[e].concat(t).map(function(e){return L(e)?n&&(e=v(e)):e=n?ae(e):ie(Array.isArray(e)?e:[e]),e}).filter(function(e){return e.size!==0});if(r.length===0)return e;if(r.length===1){var o=r[0];if(o===e||n&&E(o)||k(e)&&k(o))return o}var a=new J(r);return n?a=a.toKeyedSeq():k(e)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=r.reduce(function(e,t){if(e!==void 0){var n=t.size;if(n!==void 0)return e+n}},0),a}function Ze(e,t,n){var r=ct(e);return r.__iterateUncached=function(r,o){var a=0,i=!1;function l(e,s){var u=this;e.__iterate(function(e,o){return(!t||s<t)&&L(e)?l(e,s+1):r(e,n?o:a++,u)===!1&&(i=!0),!i},o)}return l(e,0),a},r.__iteratorUncached=function(r,o){var a=e.__iterator(r,o),i=[],l=0;return new B(function(){for(;a;){var e=a.next();if(e.done!==!1){a=i.pop();continue}var s=e.value;if(r===w&&(s=s[1]),(!t||i.length<t)&&L(s))i.push(a),a=s.__iterator(r,o);else return n?e:W(r,l++,s,e)}return q()})},r}function et(e,t,n){var r=ut(e);return e.toSeq().map(function(o,a){return r(t.call(n,o,a,e))}).flatten(!0)}function tt(e,t){var n=ct(e);return n.size=e.size&&e.size*2-1,n.__iterateUncached=function(n,r){var o=this,a=0;return e.__iterate(function(e,r){return(!a||n(t,a++,o)!==!1)&&n(e,a++,o)!==!1},r),a},n.__iteratorUncached=function(n,r){var o=e.__iterator(M,r),a=0,i;return new B(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?W(n,a++,t):W(n,a++,i.value,i)})},n}function nt(e,t,n){t||(t=mt);var r=E(e),o=0,a=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?K(a):k(e)?Q(a):X(a)}function rt(e,t,n){if(t||(t=mt),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return ot(t,e[1],n[1])?n:e});return r&&r[0]}else return e.reduce(function(e,n){return ot(t,e,n)?n:e})}function ot(e,t,n){var r=e(n,t);return r===0&&n!==t&&(n==null||n!==n)||r>0}function at(e,t,n){var r=ct(e);return r.size=new J(n).map(function(e){return e.size}).min(),r.__iterate=function(e,t){for(var n=this.__iterator(M,t),r,o=0;!(r=n.next()).done&&e(r.value,o++,this)!==!1;);return o},r.__iteratorUncached=function(e,r){var o=n.map(function(e){return e=b(e),H(r?e.reverse():e)}),a=0,i=!1;return new B(function(){var n;return i||(n=o.map(function(e){return e.next()}),i=n.some(function(e){return e.done})),i?q():W(e,a++,t.apply(null,n.map(function(e){return e.value})))})},r}function it(e,t){return ne(e)?t:e.constructor(t)}function lt(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function st(e){return Oe(e.size),p(e)}function ut(e){return E(e)?v:k(e)?S:R}function ct(e){return Object.create((E(e)?K:k(e)?Q:X).prototype)}function dt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):j.prototype.cacheResult.call(this)}function mt(e,t){return e>t?1:e<t?-1:0}function pt(e){var t=H(e);if(!t){if(!z(e))throw new TypeError("Expected iterable or array-like: "+e);t=H(b(e))}return t}t(_t,me);function _t(e){return e==null?Tt():ft(e)?e:Tt().withMutations(function(t){var n=v(e);Oe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}_t.prototype.toString=function(){return this.__toString("Map {","}")},_t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},_t.prototype.set=function(e,t){return Dt(this,e,t)},_t.prototype.setIn=function(e,t){return this.updateIn(e,i,function(){return t})},_t.prototype.remove=function(e){return Dt(this,e,i)},_t.prototype.deleteIn=function(e){return this.updateIn(e,function(){return i})},_t.prototype.update=function(e,t,n){return arguments.length===1?e(this):this.updateIn([e],t,n)},_t.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Bt(this,pt(e),t,n);return r===i?void 0:r},_t.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Tt()},_t.prototype.merge=function(){return At(this,void 0,arguments)},_t.prototype.mergeWith=function(t){var n=e.call(arguments,1);return At(this,t,n)},_t.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Tt(),function(e){return typeof e.merge=="function"?e.merge.apply(e,n):n[n.length-1]})},_t.prototype.mergeDeep=function(){return At(this,Ft(void 0),arguments)},_t.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return At(this,Ft(t),n)},_t.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,Tt(),function(e){return typeof e.mergeDeep=="function"?e.mergeDeep.apply(e,n):n[n.length-1]})},_t.prototype.sort=function(e){return dn(nt(this,e))},_t.prototype.sortBy=function(e,t){return dn(nt(this,t,e))},_t.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},_t.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new d)},_t.prototype.asImmutable=function(){return this.__ensureOwner()},_t.prototype.wasAltered=function(){return this.__altered},_t.prototype.__iterator=function(e,t){return new Rt(this,e,t)},_t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},_t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)};function ft(e){return!!(e&&e[gt])}_t.isMap=ft;var gt="@@__IMMUTABLE_MAP__@@",ht=_t.prototype;ht[gt]=!0,ht[n]=ht.remove,ht.removeIn=ht.deleteIn;function yt(e,t){this.ownerID=e,this.entries=t}yt.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(fe(n,o[a][0]))return o[a][1];return r},yt.prototype.update=function(e,t,n,r,o,a,l){for(var s=o===i,u=this.entries,d=0,p=u.length;d<p&&!fe(r,u[d][0]);d++);var _=d<p;if(_?u[d][1]===o:s)return this;if(c(l),(s||!_)&&c(a),!(s&&u.length===1)){if(!_&&!s&&u.length>=Ht)return Nt(e,u,r,o);var f=e&&e===this.ownerID,g=f?u:m(u);return _?s?d===p-1?g.pop():g[d]=g.pop():g[d]=[r,o]:g.push([r,o]),f?(this.entries=g,this):new yt(e,g)}};function Ct(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}Ct.prototype.get=function(e,t,n,o){t===void 0&&(t=Se(n));var i=1<<((e===0?t:t>>>e)&a),l=this.bitmap;return(l&i)===0?o:this.nodes[Wt(l&i-1)].get(e+r,t,n,o)},Ct.prototype.update=function(e,t,n,o,l,s,u){n===void 0&&(n=Se(o));var c=(t===0?n:n>>>t)&a,d=1<<c,m=this.bitmap,p=(m&d)!==0;if(!p&&l===i)return this;var _=Wt(m&d-1),f=this.nodes,g=p?f[_]:void 0,h=xt(g,e,t+r,n,o,l,s,u);if(h===g)return this;if(!p&&h&&f.length>=Gt)return wt(e,f,m,c,h);if(p&&!h&&f.length===2&&$t(f[_^1]))return f[_^1];if(p&&h&&f.length===1&&$t(h))return h;var y=e&&e===this.ownerID,C=p?h?m:m^d:m|d,b=p?h?qt(f,_,h,y):Vt(f,_,y):Ut(f,_,h,y);return y?(this.bitmap=C,this.nodes=b,this):new Ct(e,C,b)};function bt(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}bt.prototype.get=function(e,t,n,o){t===void 0&&(t=Se(n));var i=(e===0?t:t>>>e)&a,l=this.nodes[i];return l?l.get(e+r,t,n,o):o},bt.prototype.update=function(e,t,n,o,l,s,u){n===void 0&&(n=Se(o));var c=(t===0?n:n>>>t)&a,d=l===i,m=this.nodes,p=m[c];if(d&&!p)return this;var _=xt(p,e,t+r,n,o,l,s,u);if(_===p)return this;var f=this.count;if(!p)f++;else if(!_&&(f--,f<zt))return Mt(e,m,f,c);var g=e&&e===this.ownerID,h=qt(m,c,_,g);return g?(this.count=f,this.nodes=h,this):new bt(e,f,h)};function vt(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}vt.prototype.get=function(e,t,n,r){for(var o=this.entries,a=0,i=o.length;a<i;a++)if(fe(n,o[a][0]))return o[a][1];return r},vt.prototype.update=function(e,t,n,r,o,a,l){n===void 0&&(n=Se(r));var s=o===i;if(n!==this.keyHash)return s?this:(c(l),c(a),Pt(this,e,t,n,[r,o]));for(var u=this.entries,d=0,p=u.length;d<p&&!fe(r,u[d][0]);d++);var _=d<p;if(_?u[d][1]===o:s)return this;if(c(l),(s||!_)&&c(a),s&&p===2)return new St(e,this.keyHash,u[d^1]);var f=e&&e===this.ownerID,g=f?u:m(u);return _?s?d===p-1?g.pop():g[d]=g.pop():g[d]=[r,o]:g.push([r,o]),f?(this.entries=g,this):new vt(e,this.keyHash,g)};function St(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}St.prototype.get=function(e,t,n,r){return fe(n,this.entry[0])?this.entry[1]:r},St.prototype.update=function(e,t,n,r,o,a,l){var s=o===i,u=fe(r,this.entry[0]);if(u?o===this.entry[1]:s)return this;if(c(l),s){c(a);return}return u?e&&e===this.ownerID?(this.entry[1]=o,this):new St(e,this.keyHash,[r,o]):(c(a),Pt(this,e,t,Se(r),[r,o]))},yt.prototype.iterate=vt.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(e(n[t?o-r:r])===!1)return!1},Ct.prototype.iterate=bt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var a=n[t?o-r:r];if(a&&a.iterate(e,t)===!1)return!1}},St.prototype.iterate=function(e,t){return e(this.entry)},t(Rt,B);function Rt(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Et(e._root)}Rt.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o;if(n.entry){if(r===0)return Lt(e,n.entry)}else if(n.entries){if(o=n.entries.length-1,r<=o)return Lt(e,n.entries[this._reverse?o-r:r])}else if(o=n.nodes.length-1,r<=o){var a=n.nodes[this._reverse?o-r:r];if(a){if(a.entry)return Lt(e,a.entry);t=this._stack=Et(a,t)}continue}t=this._stack=this._stack.__prev}return q()};function Lt(e,t){return W(e,t[0],t[1])}function Et(e,t){return{node:e,index:0,__prev:t}}function kt(e,t,n,r){var o=Object.create(ht);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var It;function Tt(){return It||(It=kt(0))}function Dt(e,t,n){var r,o;if(e._root){var a=u(l),c=u(s);if(r=xt(e._root,e.__ownerID,0,void 0,t,n,a,c),!c.value)return e;o=e.size+(a.value?n===i?-1:1:0)}else{if(n===i)return e;o=1,r=new yt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?kt(o,r):Tt()}function xt(e,t,n,r,o,a,l,s){return e?e.update(t,n,r,o,a,l,s):a===i?e:(c(s),c(l),new St(t,r,[o,a]))}function $t(e){return e.constructor===St||e.constructor===vt}function Pt(e,t,n,o,i){if(e.keyHash===o)return new vt(t,o,[e.entry,i]);var l=(n===0?e.keyHash:e.keyHash>>>n)&a,s=(n===0?o:o>>>n)&a,u,c=l===s?[Pt(e,t,n+r,o,i)]:(u=new St(t,o,i),l<s?[e,u]:[u,e]);return new Ct(t,1<<l|1<<s,c)}function Nt(e,t,n,r){e||(e=new d);for(var o=new St(e,Se(n),[n,r]),a=0;a<t.length;a++){var i=t[a];o=o.update(e,0,void 0,i[0],i[1])}return o}function Mt(e,t,n,r){for(var o=0,a=0,i=new Array(n),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];c!==void 0&&l!==r&&(o|=s,i[a++]=c)}return new Ct(e,o,i)}function wt(e,t,n,r,a){for(var i=0,l=new Array(o),s=0;n!==0;s++,n>>>=1)l[s]=n&1?t[i++]:void 0;return l[r]=a,new bt(e,i+1,l)}function At(e,t,n){for(var r=[],o=0;o<n.length;o++){var a=n[o],i=v(a);L(a)||(i=i.map(function(e){return ge(e)})),r.push(i)}return Ot(e,t,r)}function Ft(e){return function(t,n,r){return t&&t.mergeDeepWith&&L(n)?t.mergeDeepWith(e,n):e?e(t,n,r):n}}function Ot(e,t,n){return n=n.filter(function(e){return e.size!==0}),n.length===0?e:e.size===0&&!e.__ownerID&&n.length===1?e.constructor(n[0]):e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,i,function(e){return e===i?n:t(e,n,r)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})}function Bt(e,t,n,r){var o=e===i,a=t.next();if(a.done){var l=o?n:e,s=r(l);return s===l?e:s}Fe(o||e&&e.set,"invalid keyPath");var u=a.value,c=o?i:e.get(u,i),d=Bt(c,t,n,r);return d===c?e:d===i?e.remove(u):(o?Tt():e).set(u,d)}function Wt(e){return e=e-(e>>1&1431655765),e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e=e+(e>>8),e=e+(e>>16),e&127}function qt(e,t,n,r){var o=r?e:m(e);return o[t]=n,o}function Ut(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var a=new Array(o),i=0,l=0;l<o;l++)l===t?(a[l]=n,i=-1):a[l]=e[l+i];return a}function Vt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),o[i]=e[i+a];return o}var Ht=o/4,Gt=o/2,zt=o/4;t(jt,pe);function jt(e){var t=nn();if(e==null)return t;if(Kt(e))return e;var n=S(e),a=n.size;return a===0?t:(Oe(a),a>0&&a<o?en(0,a,r,null,new Yt(n.toArray())):t.withMutations(function(e){e.setSize(a),n.forEach(function(t,n){return e.set(n,t)})}))}jt.of=function(){return this(arguments)},jt.prototype.toString=function(){return this.__toString("List [","]")},jt.prototype.get=function(e,t){if(e=_(this,e),e<0||e>=this.size)return t;e+=this._origin;var n=ln(this,e);return n&&n.array[e&a]},jt.prototype.set=function(e,t){return rn(this,e,t)},jt.prototype.remove=function(e){return this.has(e)?e===0?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},jt.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):nn()},jt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){sn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},jt.prototype.pop=function(){return sn(this,0,-1)},jt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){sn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},jt.prototype.shift=function(){return sn(this,1)},jt.prototype.merge=function(){return un(this,void 0,arguments)},jt.prototype.mergeWith=function(t){var n=e.call(arguments,1);return un(this,t,n)},jt.prototype.mergeDeep=function(){return un(this,Ft(void 0),arguments)},jt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return un(this,Ft(t),n)},jt.prototype.setSize=function(e){return sn(this,0,e)},jt.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:sn(this,h(e,n),y(t,n))},jt.prototype.__iterator=function(e,t){var n=0,r=Zt(this,t);return new B(function(){var t=r();return t===Jt?q():W(e,n++,t)})},jt.prototype.__iterate=function(e,t){for(var n=0,r=Zt(this,t),o;(o=r())!==Jt&&e(o,n++,this)!==!1;);return n},jt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?en(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)};function Kt(e){return!!(e&&e[Qt])}jt.isList=Kt;var Qt="@@__IMMUTABLE_LIST__@@",Xt=jt.prototype;Xt[Qt]=!0,Xt[n]=Xt.remove,Xt.setIn=ht.setIn,Xt.deleteIn=Xt.removeIn=ht.removeIn,Xt.update=ht.update,Xt.updateIn=ht.updateIn,Xt.mergeIn=ht.mergeIn,Xt.mergeDeepIn=ht.mergeDeepIn,Xt.withMutations=ht.withMutations,Xt.asMutable=ht.asMutable,Xt.asImmutable=ht.asImmutable,Xt.wasAltered=ht.wasAltered;function Yt(e,t){this.array=e,this.ownerID=t}Yt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var o=n>>>t&a;if(o>=this.array.length)return new Yt([],e);var i=o===0,l;if(t>0){var s=this.array[o];if(l=s&&s.removeBefore(e,t-r,n),l===s&&i)return this}if(i&&!l)return this;var u=an(this,e);if(!i)for(var c=0;c<o;c++)u.array[c]=void 0;return l&&(u.array[o]=l),u},Yt.prototype.removeAfter=function(e,t,n){if(n===t?1<<t:this.array.length===0)return this;var o=n-1>>>t&a;if(o>=this.array.length)return this;var i=o===this.array.length-1,l;if(t>0){var s=this.array[o];if(l=s&&s.removeAfter(e,t-r,n),l===s&&i)return this}if(i&&!l)return this;var u=an(this,e);return i||u.array.pop(),l&&(u.array[o]=l),u};var Jt={};function Zt(e,t){var n=e._origin,a=e._capacity,i=cn(a),l=e._tail;return s(e._root,e._level,0);function s(e,t,n){return t===0?u(e,n):c(e,t,n)}function u(e,r){var s=r===i?l&&l.array:e&&e.array,u=r>n?0:n-r,c=a-r;return c>o&&(c=o),function(){if(u===c)return Jt;var e=t?--c:u++;return s&&s[e]}}function c(e,i,l){var u,c=e&&e.array,d=l>n?0:n-l>>i,m=(a-l>>i)+1;return m>o&&(m=o),function(){do{if(u){var e=u();if(e!==Jt)return e;u=null}if(d===m)return Jt;var n=t?--m:d++;u=s(c&&c[n],i-r,l+(n<<i))}while(!0)}}}function en(e,t,n,r,o,a,i){var l=Object.create(Xt);return l.size=t-e,l._origin=e,l._capacity=t,l._level=n,l._root=r,l._tail=o,l.__ownerID=a,l.__hash=i,l.__altered=!1,l}var tn;function nn(){return tn||(tn=en(0,0,r))}function rn(e,t,n){if(t=_(e,t),t>=e.size||t<0)return e.withMutations(function(e){t<0?sn(e,t).set(0,n):sn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,a=u(s);return t>=cn(e._capacity)?r=on(r,e.__ownerID,0,t,n,a):o=on(o,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e):en(e._origin,e._capacity,e._level,o,r):e}function on(e,t,n,o,i,l){var s=o>>>n&a,u=e&&s<e.array.length;if(!u&&i===void 0)return e;var d;if(n>0){var m=e&&e.array[s],p=on(m,t,n-r,o,i,l);return p===m?e:(d=an(e,t),d.array[s]=p,d)}return u&&e.array[s]===i?e:(c(l),d=an(e,t),i===void 0&&s===d.array.length-1?d.array.pop():d.array[s]=i,d)}function an(e,t){return t&&e&&t===e.ownerID?e:new Yt(e?e.array.slice():[],t)}function ln(e,t){if(t>=cn(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,o=e._level;n&&o>0;)n=n.array[t>>>o&a],o-=r;return n}}function sn(e,t,n){var o=e.__ownerID||new d,i=e._origin,l=e._capacity,s=i+t,u=n===void 0?l:n<0?l+n:i+n;if(s===i&&u===l)return e;if(s>=u)return e.clear();for(var c=e._level,m=e._root,p=0;s+p<0;)m=new Yt(m&&m.array.length?[void 0,m]:[],o),c+=r,p+=1<<c;p&&(s+=p,i+=p,u+=p,l+=p);for(var _=cn(l),f=cn(u);f>=1<<c+r;)m=new Yt(m&&m.array.length?[m]:[],o),c+=r;var g=e._tail,h=f<_?ln(e,u-1):f>_?new Yt([],o):g;if(g&&f>_&&s<l&&g.array.length){m=an(m,o);for(var y=m,C=c;C>r;C-=r){var b=_>>>C&a;y=y.array[b]=an(y.array[b],o)}y.array[_>>>r&a]=g}if(u<l&&(h=h&&h.removeAfter(o,0,u)),s>=f)s-=f,u-=f,c=r,m=null,h=h&&h.removeBefore(o,0,s);else if(s>i||f<_){for(p=0;m;){var v=s>>>c&a;if(v!==f>>>c&a)break;v&&(p+=(1<<c)*v),c-=r,m=m.array[v]}m&&s>i&&(m=m.removeBefore(o,c,s-p)),m&&f<_&&(m=m.removeAfter(o,c,f-p)),p&&(s-=p,u-=p)}return e.__ownerID?(e.size=u-s,e._origin=s,e._capacity=u,e._level=c,e._root=m,e._tail=h,e.__hash=void 0,e.__altered=!0,e):en(s,u,c,m,h)}function un(e,t,n){for(var r=[],o=0,a=0;a<n.length;a++){var i=n[a],l=S(i);l.size>o&&(o=l.size),L(i)||(l=l.map(function(e){return ge(e)})),r.push(l)}return o>e.size&&(e=e.setSize(o)),Ot(e,t,r)}function cn(e){return e<o?0:e-1>>>r<<r}t(dn,_t);function dn(e){return e==null?fn():mn(e)?e:fn().withMutations(function(t){var n=v(e);Oe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}dn.of=function(){return this(arguments)},dn.prototype.toString=function(){return this.__toString("OrderedMap {","}")},dn.prototype.get=function(e,t){var n=this._map.get(e);return n!==void 0?this._list.get(n)[1]:t},dn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):fn()},dn.prototype.set=function(e,t){return gn(this,e,t)},dn.prototype.remove=function(e){return gn(this,e,i)},dn.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},dn.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},dn.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},dn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?pn(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)};function mn(e){return ft(e)&&T(e)}dn.isOrderedMap=mn,dn.prototype[P]=!0,dn.prototype[n]=dn.prototype.remove;function pn(e,t,n,r){var o=Object.create(dn.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}var _n;function fn(){return _n||(_n=pn(Tt(),nn()))}function gn(e,t,n){var r=e._map,a=e._list,l=r.get(t),s=l!==void 0,u,c;if(n===i){if(!s)return e;a.size>=o&&a.size>=r.size*2?(c=a.filter(function(e,t){return e!==void 0&&l!==t}),u=c.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(u.__ownerID=c.__ownerID=e.__ownerID)):(u=r.remove(t),c=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(n===a.get(l)[1])return e;u=r,c=a.set(l,[t,n])}else u=r.set(t,a.size),c=a.set(a.size,[t,n]);return e.__ownerID?(e.size=u.size,e._map=u,e._list=c,e.__hash=void 0,e):pn(u,c)}t(hn,pe);function hn(e){return e==null?Rn():yn(e)?e:Rn().unshiftAll(e)}hn.of=function(){return this(arguments)},hn.prototype.toString=function(){return this.__toString("Stack [","]")},hn.prototype.get=function(e,t){var n=this._head;for(e=_(this,e);n&&e--;)n=n.next;return n?n.value:t},hn.prototype.peek=function(){return this._head&&this._head.value},hn.prototype.push=function(){if(arguments.length===0)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):vn(e,t)},hn.prototype.pushAll=function(e){if(e=S(e),e.size===0)return this;Oe(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):vn(t,n)},hn.prototype.pop=function(){return this.slice(1)},hn.prototype.unshift=function(){return this.push.apply(this,arguments)},hn.prototype.unshiftAll=function(e){return this.pushAll(e)},hn.prototype.shift=function(){return this.pop.apply(this,arguments)},hn.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Rn()},hn.prototype.slice=function(e,t){if(g(e,t,this.size))return this;var n=h(e,this.size),r=y(t,this.size);if(r!==this.size)return pe.prototype.slice.call(this,e,t);for(var o=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=o,this._head=a,this.__hash=void 0,this.__altered=!0,this):vn(o,a)},hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?vn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new B(function(){if(r){var t=r.value;return r=r.next,W(e,n++,t)}return q()})};function yn(e){return!!(e&&e[Cn])}hn.isStack=yn;var Cn="@@__IMMUTABLE_STACK__@@",bn=hn.prototype;bn[Cn]=!0,bn.withMutations=ht.withMutations,bn.asMutable=ht.asMutable,bn.asImmutable=ht.asImmutable,bn.wasAltered=ht.wasAltered;function vn(e,t,n,r){var o=Object.create(bn);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}var Sn;function Rn(){return Sn||(Sn=vn(0))}t(Ln,_e);function Ln(e){return e==null?$n():En(e)?e:$n().withMutations(function(t){var n=R(e);Oe(n.size),n.forEach(function(e){return t.add(e)})})}Ln.of=function(){return this(arguments)},Ln.fromKeys=function(e){return this(v(e).keySeq())},Ln.prototype.toString=function(){return this.__toString("Set {","}")},Ln.prototype.has=function(e){return this._map.has(e)},Ln.prototype.add=function(e){return Tn(this,this._map.set(e,!0))},Ln.prototype.remove=function(e){return Tn(this,this._map.remove(e))},Ln.prototype.clear=function(){return Tn(this,this._map.clear())},Ln.prototype.union=function(){var t=e.call(arguments,0);return t=t.filter(function(e){return e.size!==0}),t.length===0?this:this.size===0&&!this.__ownerID&&t.length===1?this.constructor(t[0]):this.withMutations(function(e){for(var n=0;n<t.length;n++)R(t[n]).forEach(function(t){return e.add(t)})})},Ln.prototype.intersect=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return R(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Ln.prototype.subtract=function(){var t=e.call(arguments,0);if(t.length===0)return this;t=t.map(function(e){return R(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Ln.prototype.merge=function(){return this.union.apply(this,arguments)},Ln.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Ln.prototype.sort=function(e){return Pn(nt(this,e))},Ln.prototype.sortBy=function(e,t){return Pn(nt(this,t,e))},Ln.prototype.wasAltered=function(){return this._map.wasAltered()},Ln.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Ln.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Ln.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)};function En(e){return!!(e&&e[kn])}Ln.isSet=En;var kn="@@__IMMUTABLE_SET__@@",In=Ln.prototype;In[kn]=!0,In[n]=In.remove,In.mergeDeep=In.merge,In.mergeDeepWith=In.mergeWith,In.withMutations=ht.withMutations,In.asMutable=ht.asMutable,In.asImmutable=ht.asImmutable,In.__empty=$n,In.__make=Dn;function Tn(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:t.size===0?e.__empty():e.__make(t)}function Dn(e,t){var n=Object.create(In);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var xn;function $n(){return xn||(xn=Dn(Tt()))}t(Pn,Ln);function Pn(e){return e==null?Fn():Nn(e)?e:Fn().withMutations(function(t){var n=R(e);Oe(n.size),n.forEach(function(e){return t.add(e)})})}Pn.of=function(){return this(arguments)},Pn.fromKeys=function(e){return this(v(e).keySeq())},Pn.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function Nn(e){return En(e)&&T(e)}Pn.isOrderedSet=Nn;var Mn=Pn.prototype;Mn[P]=!0,Mn.__empty=Fn,Mn.__make=wn;function wn(e,t){var n=Object.create(Mn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}var An;function Fn(){return An||(An=wn(fn()))}t(On,me);function On(e,t){var n,r=function(i){if(i instanceof r)return i;if(!(this instanceof r))return new r(i);if(!n){n=!0;var a=Object.keys(e);Un(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=_t(i)},o=r.prototype=Object.create(Bn);return o.constructor=r,r}On.prototype.toString=function(){return this.__toString(qn(this)+" {","}")},On.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},On.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},On.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Wn(this,Tt()))},On.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+qn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:Wn(this,n)},On.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Wn(this,t)},On.prototype.wasAltered=function(){return this._map.wasAltered()},On.prototype.__iterator=function(e,t){var n=this;return v(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},On.prototype.__iterate=function(e,t){var n=this;return v(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},On.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Wn(this,t,e):(this.__ownerID=e,this._map=t,this)};var Bn=On.prototype;Bn[n]=Bn.remove,Bn.deleteIn=Bn.removeIn=ht.removeIn,Bn.merge=ht.merge,Bn.mergeWith=ht.mergeWith,Bn.mergeIn=ht.mergeIn,Bn.mergeDeep=ht.mergeDeep,Bn.mergeDeepWith=ht.mergeDeepWith,Bn.mergeDeepIn=ht.mergeDeepIn,Bn.setIn=ht.setIn,Bn.update=ht.update,Bn.updateIn=ht.updateIn,Bn.withMutations=ht.withMutations,Bn.asMutable=ht.asMutable,Bn.asImmutable=ht.asImmutable;function Wn(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function qn(e){return e._name||e.constructor.name||"Record"}function Un(e,t){try{t.forEach(Vn.bind(void 0,e))}catch(e){}}function Vn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Fe(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Hn(e,t){if(e===t)return!0;if(!L(t)||e.size!==void 0&&t.size!==void 0&&e.size!==t.size||e.__hash!==void 0&&t.__hash!==void 0&&e.__hash!==t.__hash||E(e)!==E(t)||k(e)!==k(t)||T(e)!==T(t))return!1;if(e.size===0&&t.size===0)return!0;var n=!I(e);if(T(e)){var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&fe(o[1],e)&&(n||fe(o[0],t))})&&r.next().done}var o=!1;if(e.size===void 0)if(t.size===void 0)typeof e.cacheResult=="function"&&e.cacheResult();else{o=!0;var a=e;e=t,t=a}var l=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!fe(t,e.get(r,i)):!fe(e.get(r,i),t))return l=!1,!1});return l&&e.size===s}t(Gn,Q);function Gn(e,t,n){if(!(this instanceof Gn))return new Gn(e,t,n);if(Fe(n!==0,"Cannot step a Range by 0"),e=e||0,t===void 0&&(t=1/0),n=n===void 0?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),this.size===0){if(zn)return zn;zn=this}}Gn.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},Gn.prototype.get=function(e,t){return this.has(e)?this._start+_(this,e)*this._step:t},Gn.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Gn.prototype.slice=function(e,t){return g(e,t,this.size)?this:(e=h(e,this.size),t=y(t,this.size),t<=e?new Gn(0,0):new Gn(this.get(e,this._end),this.get(t,this._end),this._step))},Gn.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Gn.prototype.lastIndexOf=function(e){return this.indexOf(e)},Gn.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;a<=n;a++){if(e(o,a,this)===!1)return a+1;o+=t?-r:r}return a},Gn.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,a=0;return new B(function(){var i=o;return o+=t?-r:r,a>n?q():W(e,a++,i)})},Gn.prototype.equals=function(e){return e instanceof Gn?this._start===e._start&&this._end===e._end&&this._step===e._step:Hn(this,e)};var zn;t(jn,Q);function jn(e,t){if(!(this instanceof jn))return new jn(e,t);if(this._value=e,this.size=t===void 0?1/0:Math.max(0,t),this.size===0){if(Kn)return Kn;Kn=this}}jn.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},jn.prototype.get=function(e,t){return this.has(e)?this._value:t},jn.prototype.includes=function(e){return fe(this._value,e)},jn.prototype.slice=function(e,t){var n=this.size;return g(e,t,n)?this:new jn(this._value,y(t,n)-h(e,n))},jn.prototype.reverse=function(){return this},jn.prototype.indexOf=function(e){return fe(this._value,e)?0:-1},jn.prototype.lastIndexOf=function(e){return fe(this._value,e)?this.size:-1},jn.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},jn.prototype.__iterator=function(e,t){var n=this,r=0;return new B(function(){return r<n.size?W(e,r++,n._value):q()})},jn.prototype.equals=function(e){return e instanceof jn?fe(this._value,e._value):Hn(e)};var Kn;function Qn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}b.Iterator=B,Qn(b,{toArray:function(){Oe(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new We(this)},toJS:function(){return this.toSeq().map(function(e){return e&&typeof e.toJS=="function"?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&typeof e.toJSON=="function"?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new Be(this,!0)},toMap:function(){return _t(this.toKeyedSeq())},toObject:function(){Oe(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return dn(this.toKeyedSeq())},toOrderedSet:function(){return Pn(E(this)?this.valueSeq():this)},toSet:function(){return Ln(E(this)?this.valueSeq():this)},toSetSeq:function(){return new qe(this)},toSeq:function(){return k(this)?this.toIndexedSeq():E(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return hn(E(this)?this.valueSeq():this)},toList:function(){return jt(E(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return this.size===0?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var t=e.call(arguments,0);return it(this,Je(this,t))},contains:function(e){return this.includes(e)},includes:function(e){return this.some(function(t){return fe(t,e)})},entries:function(){return this.__iterator(w)},every:function(e,t){Oe(this.size);var n=!0;return this.__iterate(function(r,o,a){if(!e.call(t,r,o,a))return n=!1,!1}),n},filter:function(e,t){return it(this,ze(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,o,a){if(e.call(t,r,o,a))return n=[o,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return Oe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Oe(this.size),e=e!==void 0?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=r!=null?r.toString():""}),t},keys:function(){return this.__iterator(N)},map:function(e,t){return it(this,He(this,e,t))},reduce:function(e,t,n){Oe(this.size);var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,a,i){o?(o=!1,r=t):r=e.call(n,r,t,a,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return it(this,Ge(this,!0))},slice:function(e,t){return it(this,Qe(this,e,t,!0))},some:function(e,t){return!this.every(er(e),t)},sort:function(e){return it(this,nt(this,e))},values:function(){return this.__iterator(M)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,t){return p(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return je(this,e,t)},equals:function(e){return Hn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new J(e._cache);var t=e.toSeq().map(Zn).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(er(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(f)},flatMap:function(e,t){return it(this,et(this,e,t))},flatten:function(e){return it(this,Ze(this,e,!0))},fromEntrySeq:function(){return new Ue(this)},get:function(e,t){return this.find(function(t,n){return fe(n,e)},void 0,t)},getIn:function(e,t){for(var n=this,r=pt(e),o;!(o=r.next()).done;){var a=o.value;if(n=n&&n.get?n.get(a,i):i,n===i)return t}return n},groupBy:function(e,t){return Ke(this,e,t)},has:function(e){return this.get(e,i)!==i},hasIn:function(e){return this.getIn(e,i)!==i},isSubset:function(e){return e=typeof e.includes=="function"?e:b(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(Jn).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return rt(this,e)},maxBy:function(e,t){return rt(this,t,e)},min:function(e){return rt(this,e?tr(e):or)},minBy:function(e,t){return rt(this,t?tr(t):or,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return it(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return it(this,Ye(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(er(e),t)},sortBy:function(e,t){return it(this,nt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return it(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return it(this,Xe(this,e,t))},takeUntil:function(e,t){return this.takeWhile(er(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ar(this))}});var Xn=b.prototype;Xn[D]=!0,Xn[O]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=nr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,(function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!b.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(e.indexOf("_wrapObject")===-1)return console&&console.warn&&""+e,this.size}}})}catch(e){}})(),Qn(v,{flip:function(){return it(this,Ve(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return fe(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return fe(t,e)})},mapEntries:function(e,t){var n=this,r=0;return it(this,this.toSeq().map(function(o,a){return e.call(t,[a,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return it(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}});var Yn=v.prototype;Yn[x]=!0,Yn[O]=Xn.entries,Yn.__toJS=Xn.toObject,Yn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+nr(e)},Qn(S,{toKeyedSeq:function(){return new Be(this,!1)},filter:function(e,t){return it(this,ze(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return t===void 0?-1:t},lastIndexOf:function(e){return this.toSeq().reverse().indexOf(e)},reverse:function(){return it(this,Ge(this,!1))},slice:function(e,t){return it(this,Qe(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t|0,0),n===0||n===2&&!t)return this;e=h(e,this.size);var r=this.slice(0,e);return it(this,n===1?r:r.concat(m(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return n===void 0?-1:n},first:function(){return this.get(0)},flatten:function(e){return it(this,Ze(this,e,!1))},get:function(e,t){return e=_(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=_(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return it(this,tt(this,e))},interleave:function(){var e=[this].concat(m(arguments)),t=at(this.toSeq(),Q.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),it(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return it(this,Ye(this,e,t,!1))},zip:function(){var e=[this].concat(m(arguments));return it(this,at(this,rr,e))},zipWith:function(e){var t=m(arguments);return t[0]=this,it(this,at(this,e,t))}}),S.prototype[$]=!0,S.prototype[P]=!0,Qn(R,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),R.prototype.has=Xn.includes,Qn(K,v.prototype),Qn(Q,S.prototype),Qn(X,R.prototype),Qn(me,v.prototype),Qn(pe,S.prototype),Qn(_e,R.prototype);function Jn(e,t){return t}function Zn(e,t){return[t,e]}function er(e){return function(){return!e.apply(this,arguments)}}function tr(e){return function(){return-e.apply(this,arguments)}}function nr(e){return typeof e=="string"?JSON.stringify(e):e}function rr(){return m(arguments)}function or(e,t){return e<t?1:e>t?-1:0}function ar(e){if(e.size===1/0)return 0;var t=T(e),n=E(e),r=t?1:0,o=e.__iterate(n?t?function(e,t){r=31*r+lr(Se(e),Se(t))|0}:function(e,t){r=r+lr(Se(e),Se(t))|0}:t?function(e){r=31*r+Se(e)|0}:function(e){r=r+Se(e)|0});return ir(o,r)}function ir(e,t){return t=be(t,3432918353),t=be(t<<15|t>>>-15,461845907),t=be(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=be(t^t>>>16,2246822507),t=be(t^t>>>13,3266489909),t=ve(t^t>>>16),t}function lr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var sr={Iterable:b,Seq:j,Collection:de,Map:_t,OrderedMap:dn,List:jt,Stack:hn,Set:Ln,OrderedSet:Pn,Record:On,Range:Gn,Repeat:jn,is:fe,fromJS:ge};return sr})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("immutable",["immutable-3.7.3"],(function(t,n,r,o,a,i){a.exports=n("immutable-3.7.3")()}),null);
/**
 * License: https://www.facebook.com/legal/license/CCT5pM3qiNk/
 */
__d("tweetnacl-util-0.15.1",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){(function(e,t){typeof l!="undefined"&&l.exports?l.exports=t():(e.nacl||(e.nacl={}),e.nacl.util=t())})(this,function(){var e={};function t(e){if(!/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/.test(e))throw new TypeError("invalid encoding")}return e.decodeUTF8=function(e){if(typeof e!="string")throw new TypeError("expected string");var t,n=unescape(encodeURIComponent(e)),r=new Uint8Array(n.length);for(t=0;t<n.length;t++)r[t]=n.charCodeAt(t);return r},e.encodeUTF8=function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(String.fromCharCode(e[t]));return decodeURIComponent(escape(n.join("")))},typeof atob=="undefined"?typeof Buffer.from!="undefined"?(e.encodeBase64=function(e){return Buffer.from(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(Buffer.from(e,"base64"),0))}):(e.encodeBase64=function(e){return new Buffer(e).toString("base64")},e.decodeBase64=function(e){return t(e),new Uint8Array(Array.prototype.slice.call(new Buffer(e,"base64"),0))}):(e.encodeBase64=function(e){var t,n=[],r=e.length;for(t=0;t<r;t++)n.push(String.fromCharCode(e[t]));return btoa(n.join(""))},e.decodeBase64=function(e){t(e);var n,r=atob(e),o=new Uint8Array(r.length);for(n=0;n<r.length;n++)o[n]=r.charCodeAt(n);return o}),e})}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("tweetnacl-util",["tweetnacl-util-0.15.1"],(function(t,n,r,o,a,i){a.exports=n("tweetnacl-util-0.15.1")()}),null);/*FB_PKG_DELIM*/
__d("BTManifestName",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({MAIN:"main",LONGTAIL:"longtail"}),l=e;i.default=l}),66);
__d("BtLongtailHashFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5779"),s=o("FalcoLoggerInternal").create("bt_longtail_hash",e),u=s;l.default=u}),98);
__d("ChannelConstants",[],(function(t,n,r,o,a,i){var e="channel/",l={CHANNEL_MANUAL_RECONNECT_DEFER_MSEC:2e3,MUTE_WARNING_TIME_MSEC:25e3,WARNING_COUNTDOWN_THRESHOLD_MSEC:15e3,ON_SHUTDOWN:e+"shutdown",ON_INVALID_HISTORY:e+"invalid_history",ON_CONFIG:e+"config",ON_ENTER_STATE:e+"enter_state",ON_EXIT_STATE:e+"exit_state",ATTEMPT_RECONNECT:e+"attempt_reconnect",RTI_SESSION:e+"new_rti_address",CONSOLE_LOG:e+"message:console_log",GET_RTI_SESSION_REQUEST:e+"rti_session_request",SKYWALKER:e+"skywalker",CHANNEL_ESTABLISHED:e+"established",OK:"ok",ERROR:"error",ERROR_MAX:"error_max",ERROR_MISSING:"error_missing",ERROR_MSG_TYPE:"error_msg_type",ERROR_SHUTDOWN:"error_shutdown",ERROR_STALE:"error_stale",SYS_OWNER:"sys_owner",SYS_NONOWNER:"sys_nonowner",SYS_ONLINE:"sys_online",SYS_OFFLINE:"sys_offline",SYS_TIMETRAVEL:"sys_timetravel",HINT_AUTH:"shutdown auth",HINT_CONN:"shutdown conn",HINT_DISABLED:"shutdown disabled",HINT_INVALID_STATE:"shutdown invalid state",HINT_MAINT:"shutdown maint",HINT_UNSUPPORTED:"shutdown unsupported",reason_Unknown:0,reason_AsyncError:1,reason_TooLong:2,reason_Refresh:3,reason_RefreshDelay:4,reason_UIRestart:5,reason_NeedSeq:6,reason_PrevFailed:7,reason_IFrameLoadGiveUp:8,reason_IFrameLoadRetry:9,reason_IFrameLoadRetryWorked:10,reason_PageTransitionRetry:11,reason_IFrameLoadMaxSubdomain:12,reason_NoChannelInfo:13,reason_NoChannelHost:14,CAPABILITY_VOIP_INTEROP:8,CAPABILITY_ACTIVE_ON_DESKTOP_APP:16384,CAPABILITY_PLAYING_INSTANT_GAME:2097152,SUBSCRIBE:"subscribe",UNSUBSCRIBE:"unsubscribe",FAKE_DFF:"fake_dff",THROTTLED:e+"throttled",JUMPSTART:e+"jumpstart",ENTITY_PRESENCE_ACTIVE_PING:"entity_presence/active_ping",ENTITY_PRESENCE_SKIPPED_PING:"entity_presence/skipped_ping",SUBSCRIPTION_STATE:{SUBSCRIBE:"s",MUTATE_CONTEXT:"m",UNSUBSCRIBE:"u"},DEFAULT_MAX_SUBSCRIPTIONS:300,DEFAULT_EVICTION_BATCH_SIZE:20,DEFAULT_MAX_SUBSCRIPTION_FLUSH_BATCH_SIZE:300,DEFAULT_MAX_CONSECUTIVE_FLUSH_FAILURES:3,getArbiterType:function(n){return e+"message:"+n},getRTISkywalkerArbiterType:function(n,r){return e+"skywalker:"+n+":"+r}};a.exports=l}),null);
__d("CometBTManifestLoader",["BootloaderEvents","BtLongtailHashFalcoEvent","ClientConsistencyEventEmitter","FBLogger","ODS","SiteData","TrustedTypes","XHRRequest","err","getErrorSafe","justknobx","promiseDone","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Set;async function u(e,t,n,o){var a=await new Promise(function(a,i){new(r("XHRRequest"))(e+"/btmanifest/"+n+"/"+t+"/"+o).setMethod("GET").setResponseHandler(function(e){return a(e.toString())}).setErrorHandler(function(e){return i(e)}).send()});if(typeof a!="string")throw r("FBLogger")("binary_transparency","bt_invalid_manifest_response").mustfixThrow("Invalid response from BT manifest endpoint");return a}function c(t,n){(e||(e=o("ODS"))).bumpEntityKey(454,"obc.www.all","bt.comet_manifest_loader.0."+o("SiteData").pkg_cohort+"."+t+"."+n)}function d(e,t,n){r("vulture")("IP8FCZoGIEdkGDgnYB-ERbwf7AA=");var o;if(n instanceof Error)o=n;else if(typeof n=="object"){var a=JSON.stringify(n);o=r("err")("(XHRRequest): %s",a.slice(0,300)+(a.length>300?"...":""))}else o=r("err")(n);r("FBLogger")("binary_transparency","bt_download_manifest_error").catching(o).mustfix('Unable to download and inject BT manifest "%s" for version: %s',t,e)}var m=r("TrustedTypes").createPolicy("bt-manifest",{createScript:function(t){return t}});async function p(e,t){if(!(!o("SiteData").manifest_origin||o("SiteData").manifest_version_prefix==null||o("SiteData").manifest_base_uri==null)){var n=e+"_"+t,a=""+o("SiteData").manifest_version_prefix+e;if(!s.has(n)){c(t,"start"),s.add(n);try{var i,l=document.createElement("script"),p=await u(o("SiteData").manifest_base_uri,o("SiteData").manifest_origin,a,t);r("justknobx")._("3786")?l.text=m.createScript(p):l.text=p,l.type="application/json",l.setAttribute("name","binary-transparency-manifest"),l.dataset.manifestRev=a,l.dataset.manifestType=t,(i=document.head)==null||i.appendChild(l),c(t,"complete")}catch(e){var _=r("getErrorSafe")(e);c(t,"failed"),d(a,t,_),s.delete(n)}}}}function _(){r("promiseDone")(p(o("SiteData").client_revision,"main")),o("BootloaderEvents").onResourceInLongTailBTManifest(function(e){r("promiseDone")(p(o("SiteData").client_revision,"longtail")),e.hashes.forEach(function(t){r("BtLongtailHashFalcoEvent").log(function(){return{client_revision:String(o("SiteData").client_revision),ef_page:o("SiteData").ef_page||"",hash:t,pkg_cohort:o("SiteData").pkg_cohort,reference:e.source,rls_id:o("SiteData").hsi}})})}),r("ClientConsistencyEventEmitter").addListener("newRevision",function(e){r("promiseDone")(p(e,"main")),r("promiseDone")(p(e,"longtail"))})}l.init=_}),98);
__d("CometIconWirelessSlashFilled.react",["CometSVGIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{d:"M23.7805.2195c.2925.293.2925.768 0 1.061l-22.5 22.5C1.134 23.927.942 24 .75 24c-.192 0-.384-.073-.5305-.2195-.2925-.293-.2925-.768 0-1.061l12.1967947-12.1971509c-2.3773758-.1150468-4.79162015.7286756-6.6038447 2.5401009-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.024 0-1.414 2.65728981-2.65728981 6.3696459-3.62280965 9.8005664-2.90852144l2.430738-2.43186193C11.7816792 4.58111626 6.15198938 5.65271062 2.27735 9.52735c-.3905.3905-1.0235.3905-1.414 0-.3905-.3905-.3905-1.0235 0-1.414 4.6714534-4.67191574 11.571522-5.78608437 17.3096457-3.34843552L22.7195.2195c.293-.2925.768-.2925 1.061 0zM12 18.5c.6905 0 1.25.5595 1.25 1.25S12.6905 21 12 21s-1.25-.5595-1.25-1.25.5595-1.25 1.25-1.25zm1.4175-4.81495c.9705.2455 1.8905.741 2.6485 1.499.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.512-.0975-.707-.293-.7835333-.7835333-1.8301422-1.1445778-2.8581093-1.0880116L11.574 15.52855l1.8435-1.8435zm3.8154-3.8154c.848.4725 1.649 1.059 2.3685 1.779.391.39.391 1.023 0 1.414-.195.195-.451.293-.707.293-.2555 0-.5115-.098-.707-.293-.7285-.728-1.5575-1.291-2.439-1.7085zm2.1908-2.1908l1.4425-1.4425c.8.545 1.5615 1.168 2.2705 1.877.3905.3905.3905 1.0235 0 1.414-.1955.1955-.451.293-.707.293-.256 0-.5115-.0975-.707-.293-.5933333-.59333333-1.2283333-1.11861111-1.895162-1.57959491L19.4237 7.67885l1.4425-1.4425z"}),t[0]=n):n=t[0];var a;return t[1]!==e?(a=s.jsx(r("CometSVGIcon.react"),babelHelpers.extends({viewBox:"0 0 24 24"},e,{children:n})),t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("FDSWirelessFilled24Icon",["cr:15876"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15876")}),98);
__d("CometNetworkStatusToast",["fbt","BaseToasterStateManager","CometIconWirelessSlashFilled.react","CometRelayEnvironmentFactory","FDSIcon.react","FDSWirelessFilled24Icon","NetworkStatus","SVGIcon","cometPushToast","gkx","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=null,d=null,m=r("gkx")("22885");function p(e){var t=e.online,n=r("BaseToasterStateManager").getInstance();c!=null&&(n.expire(c),c=null),t&&!m&&(c=o("cometPushToast").cometPushToast({icon:u.jsx(r("FDSIcon.react"),{color:"positive",icon:r("FDSWirelessFilled24Icon"),size:24}),message:s._(/*BTDS*/"Your internet connection was restored.")},4e3,n)),t||(c=o("cometPushToast").cometPushToast({action:m?void 0:{label:s._(/*BTDS*/"Refresh"),onPress:function(){o("CometRelayEnvironmentFactory").commitLocalUpdateForEachEnvironment(function(e,t,n){n.invalidateStore()})}},icon:u.jsx(r("FDSIcon.react"),{color:"disabled",icon:o("SVGIcon").legacySVGIcon(r("CometIconWirelessSlashFilled.react")),size:24}),message:s._(/*BTDS*/"You are currently offline.")},1/0,n))}function _(){d=r("NetworkStatus").onChange(p)}function f(){var e;(e=d)==null||e.remove(),d=null}l.subscribe=_,l.unsubscribe=f}),226);
__d("useScrollDefaultItemIntoView",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(3),n=e.autoScrollOnLoad,r=e.pressableElementRef,a=c(n),i,l;t[0]!==r?(i=function(){var e=r.current;a.current&&e!=null&&(a.current=!1,e.scrollIntoView({block:"nearest"}))},l=[r],t[0]=r,t[1]=i,t[2]=l):(i=t[1],l=t[2]),u(i,l)}l.default=d}),98);
__d("useScrollVisuallyFocusedItemIntoView",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(4),n=e.pressableElementRef,r=e.visuallyFocused,a=c(r),i,l;t[0]!==n||t[1]!==r?(i=function(){var e=n.current;!a.current&&r&&e!=null&&e.scrollIntoView({block:"nearest"})},l=[n,r],t[0]=n,t[1]=r,t[2]=i,t[3]=l):(i=t[2],l=t[3]),u(i,l)}l.default=d}),98);
__d("FDSMenuItemBase.react",["BaseMenuContext","BaseMenuFocusGroup","BaseNonBreakingSpace.react","CometFocusGroupFirstLetterNavigation","FDSMenuItemBaseRoleContext","FDSPressable.react","FDSText.react","FDSTextPairing.react","FDSTextWithIcon.react","XPlatReactEnvironment","mergeRefs","react","react-strict-dom","useScrollDefaultItemIntoView","useScrollVisuallyFocusedItemIntoView"],(function(t,n,r,o,a,i,l){"use strict";var e=["download","href","iconNode","overlayRadius","ref","routeTarget","target","traceParams","alignCenter","autoScrollOnLoad","aux","badge","bodyColor","bodyText","disabled","focusRingPosition","id","isIconAnImage","onClick","onFocusIn","onFocusOut","onHoverIn","onHoverOut","onPressIn","passthroughProps","prefetchQueriesOnHover","preventClosingMenuOnSelect","preventLocalNavigation","primaryColor","primaryColor_DEPRECATED","primaryText","role","secondaryColor","secondaryText","testid","visuallyFocused"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useMemo,_=c.useRef,f={aux:{flexShrink:"x2lah0s",marginInlineStart:"x1diwwjn",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",minWidth:"xeuugli",$$css:!0},disabled:{cursor:"x1h6gzvc",$$css:!0},extraHorizontalPadding:{paddingInlineStart:"xmzvs34",paddingInlineEnd:"xf159sx",paddingLeft:null,paddingRight:null,$$css:!0},listItem:{alignItems:"x6s0dn4",appearance:"xjyslct",boxSizing:"x9f619",cursor:"x1ypdohk",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"x2lah0s",marginTop:"x1i6fsjq",marginBottom:"xfvfia3",marginInlineStart:"x8e7100",marginInlineEnd:"x1a16bkn",marginLeft:null,marginRight:null,paddingTop:"x10wwi4t",paddingBottom:"x1x7e7qh",paddingInlineStart:"xgm7xcn",paddingInlineEnd:"x1ynn3ck",paddingLeft:null,paddingRight:null,position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},listItemAlignedCenter:{alignItems:"x6s0dn4",$$css:!0},listItemWithIcon:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1qpxxdj",paddingInlineEnd:"xa6wxux",paddingLeft:null,paddingRight:null,$$css:!0},pressableOverlay:{borderStartStartRadius:"xbxg5aw",borderStartEndRadius:"xxh58k5",borderEndEndRadius:"xzw787d",borderEndStartRadius:"xk59nb",$$css:!0}};function g(t){var n,a=t.download,i=t.href,l=t.iconNode,s=t.overlayRadius,c=s===void 0?o("XPlatReactEnvironment").isWeb()?void 0:4:s,g=t.ref,h=t.routeTarget,y=t.target,C=t.traceParams,b=t.alignCenter,v=b===void 0?!1:b,S=t.autoScrollOnLoad,R=S===void 0?!1:S,L=t.aux,E=t.badge,k=t.bodyColor,I=t.bodyText,T=t.disabled,D=T===void 0?!1:T,x=t.focusRingPosition,$=t.id,P=t.isIconAnImage,N=t.onClick,M=t.onFocusIn,w=t.onFocusOut,A=t.onHoverIn,F=t.onHoverOut,O=t.onPressIn,B=t.passthroughProps,W=t.prefetchQueriesOnHover,q=t.preventClosingMenuOnSelect,U=q===void 0?!1:q,V=t.preventLocalNavigation,H=t.primaryColor,G=t.primaryColor_DEPRECATED,z=t.primaryText,j=t.role,K=t.secondaryColor,Q=t.secondaryText,X=t.testid,Y=t.visuallyFocused,J=Y===void 0?!1:Y,Z=babelHelpers.objectWithoutPropertiesLoose(t,e),ee=H||G,te=_(null),ne=m(r("BaseMenuContext")),re=U!==!0&&ne?ne.onClose:null,oe=i!=null||h!=null||y!=null?{download:a,passthroughProps:B,prefetchQueriesOnHover:W,preventLocalNavigation:V,routeTarget:h,target:y,traceParams:C,url:i}:void 0,ae=d(function(e){re!=null&&re(),N&&N(e)},[N,re]),ie=m(r("FDSMenuItemBaseRoleContext")),le=(n=j!=null?j:ie)!=null?n:void 0;r("useScrollDefaultItemIntoView")({autoScrollOnLoad:R,pressableElementRef:te}),r("useScrollVisuallyFocusedItemIntoView")({pressableElementRef:te,visuallyFocused:J});var se=_(null),ue=o("CometFocusGroupFirstLetterNavigation").useFirstLetterNavigationTag(se),ce=p(function(){return r("mergeRefs")(g,te)},[g]),de=E!=null?typeof E=="number"?u.jsxs(u.Fragment,{children:[z,u.jsx(r("BaseNonBreakingSpace.react"),{size:.5}),u.jsx(r("FDSText.react"),{color:D?"disabled":ee,type:"body4",children:E})]}):u.jsx(r("FDSTextWithIcon.react"),{iconAfter:E,children:z}):z;return u.jsx(r("BaseMenuFocusGroup").FocusItem,{disabled:D,tag:ue,children:u.jsx(r("FDSPressable.react"),babelHelpers.extends({},Z,{disabled:D,display:o("XPlatReactEnvironment").isWeb()?"inline":void 0,id:$,linkProps:oe,onFocusIn:M,onFocusOut:w,onHoverIn:A,onHoverOut:F,onPress:ae,onPressIn:O,overlayFocusRingPosition:x,overlayFocused:J,overlayRadius:c,overlayXStyle:c==null?f.pressableOverlay:null,ref:ce,role:le,suppressFocusRing:!0,testid:void 0,xstyle:[f.listItem,v&&f.listItemAlignedCenter,l!=null&&f.listItemWithIcon,D&&f.disabled],children:u.jsxs(u.Fragment,{children:[l,u.jsxs(o("react-strict-dom").html.div,{style:[f.content,(P!=null?P:!1)&&f.extraHorizontalPadding],children:[u.jsx(r("FDSTextPairing.react"),{body:I,bodyColor:D?"disabled":k,headline:de,headlineColor:D?"disabled":ee,headlineRef:se,level:4,meta:Q,metaColor:D?"disabled":K,reduceEmphasis:!0}),L!=null&&u.jsx(o("react-strict-dom").html.div,{style:f.aux,children:L})]})]})}))})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("MDSCardedDialog.react",["BaseDialogLabelIDProvider","BaseHeadingContextWrapper.react","MDSDialogContainerLegacy.react","MDSDialogHeader.react","MDSDialogPageLegacy.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","callToActionGroupWrap","children","closeButtonType","onClose","header","title","titleHorizontalAlignment","withBackButton","onBack","backButtonType","withCloseButton","primaryCallToAction","secondaryCallToAction","callToActionGroupDirection","closeButtonTestId","hasTextOnlyContent"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(46),a,i,l,s,c,m,p,_,f,g,h,y,C,b,v,S,R,L;n[0]!==t?(c=t.ref,h=t.callToActionGroupWrap,i=t.children,l=t.closeButtonType,y=t.onClose,p=t.header,L=t.title,C=t.titleHorizontalAlignment,b=t.withBackButton,_=t.onBack,a=t.backButtonType,v=t.withCloseButton,f=t.primaryCallToAction,g=t.secondaryCallToAction,S=t.callToActionGroupDirection,R=t.closeButtonTestId,m=t.hasTextOnlyContent,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=p,n[8]=_,n[9]=f,n[10]=g,n[11]=h,n[12]=y,n[13]=C,n[14]=b,n[15]=v,n[16]=S,n[17]=R,n[18]=L):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],p=n[7],_=n[8],f=n[9],g=n[10],h=n[11],y=n[12],C=n[13],b=n[14],v=n[15],S=n[16],R=n[17],L=n[18]);var E=h===void 0?"none":h,k=y===void 0?d:y,I=C===void 0?"center":C,T=b===void 0?!1:b,D=v===void 0?!1:v,x=S===void 0?"forward":S,$=R===void 0?"close_button":R,P=p!=null?p:null,N=p==null?L:null,M;n[19]!==a||n[20]!==$||n[21]!==l||n[22]!==_||n[23]!==k||n[24]!==N||n[25]!==I||n[26]!==T||n[27]!==D?(M=u.jsx(r("MDSDialogHeader.react"),{backButtonType:a,closeButtonTestId:$,closeButtonType:l,onBack:_,onClose:k,title:N,titleHorizontalAlignment:I,withBackButton:T,withCloseButton:D}),n[19]=a,n[20]=$,n[21]=l,n[22]=_,n[23]=k,n[24]=N,n[25]=I,n[26]=T,n[27]=D,n[28]=M):M=n[28];var w;n[29]!==x||n[30]!==E||n[31]!==i||n[32]!==m||n[33]!==f||n[34]!==g?(w=u.jsx(r("BaseHeadingContextWrapper.react"),{children:u.jsx(r("MDSDialogPageLegacy.react"),{callToActionGroupDirection:x,callToActionGroupWrap:E,hasTextOnlyContent:m,primaryCallToAction:f,secondaryCallToAction:g,children:i})}),n[29]=x,n[30]=E,n[31]=i,n[32]=m,n[33]=f,n[34]=g,n[35]=w):w=n[35];var A;n[36]!==M||n[37]!==w?(A=u.jsxs(r("BaseHeadingContextWrapper.react"),{children:[M,w]}),n[36]=M,n[37]=w,n[38]=A):A=n[38];var F;return n[39]!==s||n[40]!==c||n[41]!==k||n[42]!==A||n[43]!==P||n[44]!==L?(F=u.jsx(o("BaseDialogLabelIDProvider").BaseDialogLabelIDProvider,{children:u.jsxs(r("MDSDialogContainerLegacy.react"),babelHelpers.extends({onClose:k,ref:c,title:L},s,{children:[P,A]}))}),n[39]=s,n[40]=c,n[41]=k,n[42]=A,n[43]=P,n[44]=L,n[45]=F):F=n[45],F}function d(){}l.default=c}),98);
__d("MDSControlledUserBlockingDialog.react",["BaseModal.react","CometPlaceholder.react","MDSCardedDialog.react","MDSCardedDialogLoadingState.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(16),n=e.callToActionGroupDirection,a=e.children,i=e.disableClosingWithMask,l=e.onDismiss,u=e.primaryCallToAction,c=e.secondaryCallToAction,d=e.size,m=e.title,p=e.titleHorizontalAlignment,_=e.withCloseButton,f=l===void 0?r("emptyFunction"):l,g=d===void 0?"small":d,h;t[0]!==f?(h=s.jsx(r("MDSCardedDialogLoadingState.react"),{onClose:f}),t[0]=f,t[1]=h):h=t[1];var y;t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==f||t[6]!==u||t[7]!==c||t[8]!==g||t[9]!==m||t[10]!==p||t[11]!==_?(y=s.jsx(r("MDSCardedDialog.react"),{callToActionGroupDirection:n,disableClosingWithMask:i,onClose:f,primaryCallToAction:u,secondaryCallToAction:c,size:g,title:m,titleHorizontalAlignment:p,withCloseButton:_,children:a}),t[2]=n,t[3]=a,t[4]=i,t[5]=f,t[6]=u,t[7]=c,t[8]=g,t[9]=m,t[10]=p,t[11]=_,t[12]=y):y=t[12];var C;return t[13]!==h||t[14]!==y?(C=s.jsx(r("BaseModal.react"),{blockKeyCommands:!0,stackingBehavior:"above-everything",children:s.jsx(r("CometPlaceholder.react"),{fallback:h,name:"MDSControlledUserBlockingDialog",children:y})}),t[13]=h,t[14]=y,t[15]=C):C=t[15],C}l.default=u}),98);
__d("MDSFacepilePhoto.react",["fbt","BaseContainerQueryElement.react","BaseTheme.react","FocusGroup.react","MDSPhotoUtils","MDSPressable.react","MDSProfilePhoto.react","MDSText.react","MDSTooltip.react","ReactDOM","focusScopeQueries","gkx","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIntersectionObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["isDecorative"],u=["FocusItemComponent","divClassName","parentRef","tooltip"],c=["FocusItemComponent","count","ellipsisTooltip","parentRef","size","spacing"],d,m,p=m||(m=o("react")),_=m,f=_.useCallback,g=_.useId,h=_.useRef,y=_.useState,C=o("FocusGroup.react").createFocusGroup(o("focusScopeQueries").tabbableScopeQuery),b=C[0],v=C[1],S=4,R=3,L={dark:{"secondary-button-background":"#4A4A4A"},light:{"secondary-button-background":"#A8A8A8"},type:"VARIABLES"},E={hideLastItem:{opacity:"xg01cxk",$$css:!0},item:{position:"x1n2onr6",$$css:!0},itemWithSpacing:{marginInlineStart:"xdwrcjd",$$css:!0},overflowItem:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",flexShrink:"x2lah0s",justifyContent:"xl56j7k",pointerEvents:"x71s49j",$$css:!0},overlappingLargeItem:{marginInlineStart:"x1hb08if",$$css:!0},overlappingMediumItem:{marginInlineStart:"xe9ewy2",$$css:!0},overlappingSmallItem:{marginInlineStart:"x165d6jo",$$css:!0}};function k(t){var n=o("react-compiler-runtime").c(33),a=t.count,i=t.ellipsisTooltip,l=t.items,u=t.onPressOverflow,c=t.size,m=t.testid,_=o("MDSPhotoUtils").getHorizontalFacepileCutoffSpacing(c),f=a!=null?a:l.length,y=h(null),C=g(),S=f-R+1,k;n[0]!==S?(k=r("intlSummarizeNumber")(S),n[0]=S,n[1]=k):k=n[1];var D=k,x;n[2]!==D?(x=s._(/*BTDS*/"+{number more}",[s._param("number more",D)]),n[2]=D,n[3]=x):x=n[3];var $=x,P=c/2,N=f>R,M;n[4]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x78zum5 x1q0g3np xhsvlbd x16pr9af x6ikm8r x10wlt62 x889kno x1a8lsjc x1n2onr6"},n[4]=M):M=n[4];var w;n[5]!==l||n[6]!==N||n[7]!==c||n[8]!==_?(w=l.slice(0,R).map(function(t,n){var o=t.isDecorative,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return p.jsxs(p.Fragment,{children:[p.jsx(r("BaseContainerQueryElement.react"),{breakpoint:(n+1)*(c+_)-_,inverseToContainer:!0,maxWidth:"100%",minWidth:0}),p.jsx(I,babelHelpers.extends({},a,{FocusItemComponent:v,"aria-hidden":n===R-1&&N,divClassName:(d||(d=r("stylex")))(E.item,n>0&&E.itemWithSpacing,n>0&&c<36&&E.overlappingSmallItem,n>0&&c>=36&&E.overlappingMediumItem,n>0&&c>=72&&E.overlappingLargeItem,N&&n===R-1&&r("gkx")("5751")&&E.hideLastItem),isOverlapped:n>0,parentRef:y,size:c}))]},n)}),n[5]=l,n[6]=N,n[7]=c,n[8]=_,n[9]=w):w=n[9];var A;n[10]!==i||n[11]!==l||n[12]!==f||n[13]!==C||n[14]!==$||n[15]!==u||n[16]!==S||n[17]!==D||n[18]!==P||n[19]!==N||n[20]!==c||n[21]!==_||n[22]!==m?(A=N&&p.jsxs("div",{className:"x1jn9clo x78zum5 x1q0g3np xtijo5x x1o0tod x47corl x10l6tqk x1eu8d0j",role:"listitem",children:[l.slice(0,Math.min(f,R)+1).map(function(e,t){return t===0&&f>1?null:p.jsx(r("BaseContainerQueryElement.react"),{breakpoint:(t+1)*(c+_)-_,maxWidth:t===f-1?"100%":c+_,minWidth:0},"overflowPusher"+t)}),p.jsx(T,{FocusItemComponent:v,"aria-label":u!=null?s._(/*BTDS*/"_j{\"*\":\"View {number} more profiles\",\"_1\":\"View 1 more profile\"}",[s._plural(S,"number",D)]):s._(/*BTDS*/"_j{\"*\":\"{number} more profiles\",\"_1\":\"1 more profile\"}",[s._plural(S,"number",D)]),count:f,ellipsisTooltip:i,onPress:u,overlayDisabled:!0,parentRef:y,size:c,spacing:_,style:{height:c,width:c},testid:void 0,xstyle:E.overflowItem,children:function(t){var e=t.hovered,n=t.pressed;return p.jsxs(p.Fragment,{children:[p.jsxs("svg",{className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy","aria-hidden":!0,height:c,viewBox:"0 0 "+c+" "+c,width:c,children:[p.jsx("title",{children:s._(/*BTDS*/"_j{\"*\":\"+ {number} more profiles\",\"_1\":\"+ 1 more profile\"}",[s._plural(S,"number",D)])}),p.jsxs("mask",{id:C,suppressHydrationWarning:!0,children:[p.jsx("circle",{cx:P,cy:P,fill:"white",r:P}),p.jsx("circle",{cx:-P+4,cy:P,fill:"black",r:P+2})]}),p.jsx("circle",{className:"x1wwyv1r",cx:P,cy:P,mask:"url(#"+C+")",r:P,suppressHydrationWarning:!0}),p.jsx("circle",babelHelpers.extends({},{0:{className:"x1wnuiir xg01cxk x1ebt8du x19991ni x1dhq9h"},2:{className:"x19991ni x1dhq9h x4bmajx x1hc1fzr x1mq3mr6"},1:{className:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6"},3:{className:"x19991ni x1dhq9h x1tgjyoi x1hc1fzr x1mq3mr6"}}[!!e<<1|!!n<<0],{cx:P,cy:P,mask:"url(#"+C+")",r:P,suppressHydrationWarning:!0}))]}),c>=72?p.jsx(r("MDSText.react"),{color:r("gkx")("5751")?"primary":"white",numberOfLines:1,type:"bodyLink3",children:$}):p.jsx(r("MDSText.react"),{color:r("gkx")("5751")?"primary":"white",numberOfLines:1,type:"bodyLink4",children:$})]})}})]}),n[10]=i,n[11]=l,n[12]=f,n[13]=C,n[14]=$,n[15]=u,n[16]=S,n[17]=D,n[18]=P,n[19]=N,n[20]=c,n[21]=_,n[22]=m,n[23]=A):A=n[23];var F;n[24]!==w||n[25]!==A?(F=p.jsxs("div",babelHelpers.extends({},M,{ref:y,role:"list",children:[w,A]})),n[24]=w,n[25]=A,n[26]=F):F=n[26];var O=F,B;n[27]===Symbol.for("react.memo_cache_sentinel")?(B={className:"x78zum5 xdt5ytf"},n[27]=B):B=n[27];var W;n[28]!==O?(W=p.jsx(b,{orientation:"horizontal",tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrap:!0,children:p.jsx(r("BaseTheme.react"),{config:r("gkx")("5751")?void 0:L,children:O})}),n[28]=O,n[29]=W):W=n[29];var q;return n[30]!==W||n[31]!==m?(q=p.jsx("div",babelHelpers.extends({},B,{"data-testid":void 0,children:W})),n[30]=W,n[31]=m,n[32]=q):q=n[32],q}function I(e){var t=o("react-compiler-runtime").c(23),n,a,i,l,s;t[0]!==e?(n=e.FocusItemComponent,a=e.divClassName,i=e.parentRef,s=e.tooltip,l=babelHelpers.objectWithoutPropertiesLoose(e,u),t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=s):(n=t[1],a=t[2],i=t[3],l=t[4],s=t[5]);var c=y(!1),d=c[0],m=c[1],_;t[6]===Symbol.for("react.memo_cache_sentinel")?(_=function(t){var e=t.intersectionRatio;m(e<.5)},t[6]=_):_=t[6];var f=_,g;t[7]!==i?(g={root:function(){var e;return(e=i.current)!=null?e:null},threshold:.5},t[7]=i,t[8]=g):g=t[8];var h=r("useIntersectionObserver")(f,g),C;t[9]!==l?(C=p.jsx(r("MDSProfilePhoto.react"),babelHelpers.extends({},l)),t[9]=l,t[10]=C):C=t[10];var b=C;if(s!=null){var v;t[11]!==b||t[12]!==s?(v=p.jsx(r("MDSTooltip.react"),{tooltip:s,children:b}),t[11]=b,t[12]=s,t[13]=v):v=t[13],b=v}var S=l["aria-hidden"],R;t[14]!==n||t[15]!==d||t[16]!==b?(R=p.jsx(n,{disabled:d,children:b}),t[14]=n,t[15]=d,t[16]=b,t[17]=R):R=t[17];var L;return t[18]!==a||t[19]!==h||t[20]!==S||t[21]!==R?(L=p.jsx("div",{"aria-hidden":S,className:a,ref:h,role:"listitem",children:R}),t[18]=a,t[19]=h,t[20]=S,t[21]=R,t[22]=L):L=t[22],L}function T(e){var t=o("react-compiler-runtime").c(28),n,a,i,l,s,u;if(t[0]!==e){var d=e.FocusItemComponent,m=e.count,_=e.ellipsisTooltip,f=e.parentRef,g=e.size,h=e.spacing,C=babelHelpers.objectWithoutPropertiesLoose(e,c);n=d,a=_,i=f,s=g,u=h,l=C,t[0]=e,t[1]=n,t[2]=a,t[3]=i,t[4]=l,t[5]=s,t[6]=u}else n=t[1],a=t[2],i=t[3],l=t[4],s=t[5],u=t[6];var b=y(!1),v=b[0],S=b[1],R=y(null),L=R[0],E=R[1],k;t[7]===Symbol.for("react.memo_cache_sentinel")?(k=function(t){var e=t.intersectionRatio;o("ReactDOM").flushSync(function(){S(e<.5)})},t[7]=k):k=t[7];var I=k,T;t[8]!==i?(T={root:function(){var e;return(e=i.current)!=null?e:null},threshold:.5},t[8]=i,t[9]=T):T=t[9];var D=r("useIntersectionObserver")(I,T),x;t[10]!==i||t[11]!==s||t[12]!==u?(x=function(t){if(t){var e=i.current;if(e){var n=e.getBoundingClientRect(),r=n.width,o=Math.floor((r+u)/(s+u));E(o-1)}}},t[10]=i,t[11]=s,t[12]=u,t[13]=x):x=t[13];var $=x,P;t[14]!==D||t[15]!==l?(P=p.jsx(r("MDSPressable.react"),babelHelpers.extends({},l,{ref:D})),t[14]=D,t[15]=l,t[16]=P):P=t[16];var N=P;if(a){var M;t[17]!==a||t[18]!==L?(M=L!=null?a(L):"",t[17]=a,t[18]=L,t[19]=M):M=t[19];var w;t[20]!==N||t[21]!==$||t[22]!==M?(w=p.jsx(r("MDSTooltip.react"),{align:"middle",onVisibilityChange:$,position:"below",tooltip:M,children:N}),t[20]=N,t[21]=$,t[22]=M,t[23]=w):w=t[23],N=w}var A;return t[24]!==n||t[25]!==N||t[26]!==v?(A=p.jsx(n,{disabled:v,children:N}),t[24]=n,t[25]=N,t[26]=v,t[27]=A):A=t[27],A}l.default=k}),226);
__d("MessengerCamcorder.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M9 9.5a4 4 0 0 0-4 4v9a4 4 0 0 0 4 4h10a4 4 0 0 0 4-4v-9a4 4 0 0 0-4-4H9zM25.829 21.532l3.723 1.861A1 1 0 0 0 31 22.5V13.5a1 1 0 0 0-1.448-.894l-3.723 1.861A1.5 1.5 0 0 0 25 15.81v4.38a1.5 1.5 0 0 0 .829 1.342z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerDesktopNotificationPermissions",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:"default",DENIED:"denied",GRANTED:"granted"});i.default=e}),66);
__d("PresenceConfig",["PresenceConfigInitialData"],(function(t,n,r,o,a,i,l){var e=babelHelpers.extends({},r("PresenceConfigInitialData"));function s(t,n){return t in e?e[t]:n}l.get=s}),98);
__d("PresenceViewerCapabilities",["ArbiterMixin","PresenceConfig"],(function(t,n,r,o,a,i,l){"use strict";var e=null,s=babelHelpers.extends({},r("ArbiterMixin"));Object.assign(s,{get:function(){return e!=null||(e=o("PresenceConfig").get("viewer_presence_capabilities")),e}});var u=s;l.default=u}),98);
__d("WorkplaceChatHelper",["ChannelConstants","CurrentUser","PresenceViewerCapabilities"],(function(t,n,r,o,a,i,l){"use strict";function e(){return window.workchat!==void 0}function s(){return window.workchat.appId}function u(){window.workchat.showWindow()}function c(){var e,t=(e=window.workchat)==null?void 0:e.getIsSystemDoNotDisturbOn;return t==null?!1:t()}function d(){return window.workchat.getScreenSharingSourceID()}function m(){return window.workchat.stopScreenSharing()}function p(){return r("CurrentUser").isWorkUser()&&(r("PresenceViewerCapabilities").get()&o("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP)==o("ChannelConstants").CAPABILITY_ACTIVE_ON_DESKTOP_APP}l.isDesktopChatApp=e,l.getAppID=s,l.showWindow=u,l.getIsSystemDoNotDisturbOn=c,l.getScreenSharingSourceID=d,l.stopScreenSharing=m,l.suppressChatIfActiveOnDesktop=p}),98);
__d("MessengerDesktopNotifications",["MessengerDesktopNotificationPermissions","Run","UserAgent","WorkplaceChatHelper","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e=5e3,s=new Map;function u(){s.forEach(function(e,t,n){e.close&&e.close()})}var c=null;function d(){return!!window.Notification}function m(){if(window.Notification)return window.Notification.permission}function p(){return r("UserAgent").isBrowser("FireFox")&&r("UserAgent").isPlatform("Mac OS X")}function _(){return m()===r("MessengerDesktopNotificationPermissions").DENIED}function f(){return m()===r("MessengerDesktopNotificationPermissions").GRANTED}function g(e){window.Notification&&r("promiseDone")(window.Notification.requestPermission(),e)}function h(t){if(f()){var n=window.Notification?new window.Notification(t.title,{body:t.body,icon:t.icon,tag:t.tag,silent:t.silent}):{};return s.set(t.tag,n),t.onShow&&t.onShow(),n.onclick=function(){o("WorkplaceChatHelper").isDesktopChatApp()&&o("WorkplaceChatHelper").showWindow(),t.onClick()},n.onclose=function(){s.delete(t.tag)},c=setTimeout(function(){n.close()},t.closeTime||e),n}else return null}function y(e){var t=s.get(e);t&&t.close()}o("Run").onUnload(u),l.isSupported=d,l.checkPermission=m,l.hasDefaultSound=p,l.isDenied=_,l.isGranted=f,l.requestPermission=g,l.showNotification=h,l.removeNotification=y}),98);
__d("MessengerLock.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 36 36",width:"1em",height:"1em",fill:"currentColor"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.25 15.5a.25.25 0 0 0 .25-.25V12a5.5 5.5 0 1 1 11 0v3.25c0 .138.112.25.25.25h.75a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-13a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h.75zm3 0h5.5a.25.25 0 0 0 .25-.25V12a3 3 0 1 0-6 0v3.25c0 .138.112.25.25.25z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerPhone.svg.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs("svg",babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em"},e,{children:[e.title!=null&&s.jsx("title",{children:e.title}),e.children!=null&&s.jsx("defs",{children:e.children}),s.jsx("path",{d:"M25.753 28.2c1.07-.357 1.816-1.275 2.423-2.225a2.05 2.05 0 0 0 .037-2.151 4.998 4.998 0 0 0-.723-.963 11.594 11.594 0 0 0-2.888-2.112c-.58-.299-1.272-.212-1.808.159l-2.098 1.452a.472.472 0 0 1-.437.055 11.557 11.557 0 0 1-4.045-2.63 11.554 11.554 0 0 1-2.63-4.044.472.472 0 0 1 .056-.437l1.453-2.098c.37-.536.457-1.228.158-1.807A11.587 11.587 0 0 0 13.14 8.51a4.995 4.995 0 0 0-.963-.723 2.05 2.05 0 0 0-2.15.037c-.951.607-1.87 1.353-2.225 2.424-1.174 3.527 1.187 8.461 5.338 12.613 4.152 4.151 9.086 6.512 12.614 5.338z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("RTWebIncomingUnsupportedE2EEDialogNameQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9971941799537105"}),null);
__d("RTWebMDSCallNotificationDialogLayout.react",["fbt","I64","LSMessagingThreadTypeUtil","MDSCircleButton.react","MDSColumn.react","MDSColumnItem.react","MDSControlledUserBlockingDialog.react","MDSIcon.react","MDSRow.react","MDSRowItem.react","MDSText.react","MDSTheme.react","MWXText.react","MessengerCamcorder.svg.react","MessengerCross.svg.react","MessengerLock.svg.react","MessengerPhone.svg.react","SVGIcon","ZenonProductConnectFunnel","nullthrows","react","react-compiler-runtime","useGroupCallBlockedUserWarningInterstitial"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={content:{maxWidth:"x1tkr9og",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(60),n=e.acceptLabel,a=e.acceptTestid,i=e.declineLabel,l=e.headline,m=e.isE2EECall,p=e.isVideoCall,_=e.metaContent,f=e.notificationType,g=e.onAccept,h=e.onClose,y=e.onDecline,C=e.profileSection,b=e.threadJid,v=e.threadType,S=e.title,R=m===void 0?!1:m,L;t[0]!==h||t[1]!==y?(L=function(){r("ZenonProductConnectFunnel").clearPreJoinTimings(),y(),h()},t[0]=h,t[1]=y,t[2]=L):L=t[2];var E=L,k=o("useGroupCallBlockedUserWarningInterstitial").useGroupCallBlockedUserWarningInterstitial(),I;t[3]!==R||t[4]!==f||t[5]!==g||t[6]!==h||t[7]!==k||t[8]!==b||t[9]!==v?(I=function(){var e=function(){f==="missed"?r("ZenonProductConnectFunnel").setUITriggered():r("ZenonProductConnectFunnel").setUIAccepted(),g()};if(b!=null&&o("LSMessagingThreadTypeUtil").isGroup((u||(u=o("I64"))).of_int32(r("nullthrows")(v))))if(f==="missed"||f==="ringing")k({callType:f==="missed"?"start":"join",isE2eeMandated:R,onContinue:function(){return e()},threadID:b,threadType:(u||(u=o("I64"))).of_int32(r("nullthrows")(v))});else return e();else e();h()},t[3]=R,t[4]=f,t[5]=g,t[6]=h,t[7]=k,t[8]=b,t[9]=v,t[10]=I):I=t[10];var T=I,D;t[11]!==R?(D=R&&c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MDSIcon.react"),{color:"secondary",icon:o("SVGIcon").svgIcon(r("MessengerLock.svg.react")),size:20})}),t[11]=R,t[12]=D):D=t[12];var x;t[13]!==R||t[14]!==_?(x=R?s._(/*BTDS*/"End-to-end encrypted"):_,t[13]=R,t[14]=_,t[15]=x):x=t[15];var $;t[16]!==x?($=c.jsx(r("MDSRowItem.react"),{children:x}),t[16]=x,t[17]=$):$=t[17];var P;t[18]!==D||t[19]!==$?(P=c.jsx(r("MDSText.react"),{align:"center",type:"meta2",children:c.jsxs(r("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacing:0,verticalAlign:"center",children:[D,$]})}),t[18]=D,t[19]=$,t[20]=P):P=t[20];var N=P,M;t[21]!==C?(M=c.jsx(r("MDSColumnItem.react"),{"aria-hidden":!0,paddingVertical:8,children:C}),t[21]=C,t[22]=M):M=t[22];var w;t[23]!==l?(w=c.jsx(r("MWXText.react"),{align:"center",isSemanticHeading:!0,type:"headlineEmphasized1",children:l}),t[23]=l,t[24]=w):w=t[24];var A;t[25]!==N||t[26]!==w?(A=c.jsx(r("MDSColumnItem.react"),{children:c.jsxs(r("MDSColumn.react"),{spacing:32,children:[w,N]})}),t[25]=N,t[26]=w,t[27]=A):A=t[27];var F;t[28]===Symbol.for("react.memo_cache_sentinel")?(F=o("SVGIcon").svgIcon(r("MessengerCross.svg.react")),t[28]=F):F=t[28];var O;t[29]!==E||t[30]!==i?(O=c.jsx(r("MDSColumnItem.react"),{children:c.jsx(r("MDSCircleButton.react"),{color:"white",icon:F,label:i,onPress:E,size:40,testid:void 0,type:"red"})}),t[29]=E,t[30]=i,t[31]=O):O=t[31];var B;t[32]!==i?(B=c.jsx(r("MDSColumnItem.react"),{children:c.jsx(r("MDSText.react"),{align:"center",type:"body4",children:i})}),t[32]=i,t[33]=B):B=t[33];var W;t[34]!==O||t[35]!==B?(W=c.jsx(r("MDSRowItem.react"),{children:c.jsxs(r("MDSColumn.react"),{align:"center",paddingHorizontal:16,spacing:12,children:[O,B]})}),t[34]=O,t[35]=B,t[36]=W):W=t[36];var q;t[37]!==p?(q=p===!0?o("SVGIcon").svgIcon(r("MessengerCamcorder.svg.react")):o("SVGIcon").svgIcon(r("MessengerPhone.svg.react")),t[37]=p,t[38]=q):q=t[38];var U;t[39]!==T||t[40]!==n||t[41]!==a||t[42]!==q?(U=c.jsx(r("MDSColumnItem.react"),{children:c.jsx(r("MDSCircleButton.react"),{color:"white",icon:q,label:n,onPress:T,size:40,testid:void 0,type:"green"})}),t[39]=T,t[40]=n,t[41]=a,t[42]=q,t[43]=U):U=t[43];var V;t[44]!==n?(V=c.jsx(r("MDSColumnItem.react"),{children:c.jsx(r("MDSText.react"),{align:"center",type:"body4",children:n})}),t[44]=n,t[45]=V):V=t[45];var H;t[46]!==U||t[47]!==V?(H=c.jsx(r("MDSRowItem.react"),{children:c.jsxs(r("MDSColumn.react"),{align:"center",paddingHorizontal:16,spacing:12,children:[U,V]})}),t[46]=U,t[47]=V,t[48]=H):H=t[48];var G;t[49]!==W||t[50]!==H?(G=c.jsx(r("MDSColumnItem.react"),{align:"stretch",expanding:!0,paddingVertical:12,children:c.jsxs(r("MDSRow.react"),{align:"center",expanding:!0,children:[W,H]})}),t[49]=W,t[50]=H,t[51]=G):G=t[51];var z;t[52]!==A||t[53]!==G||t[54]!==M?(z=c.jsxs(r("MDSColumn.react"),{align:"center",expanding:!0,paddingHorizontal:20,xstyle:d.content,children:[M,A,G]}),t[52]=A,t[53]=G,t[54]=M,t[55]=z):z=t[55];var j;return t[56]!==E||t[57]!==z||t[58]!==S?(j=c.jsx(r("MDSTheme.react"),{children:c.jsx(r("MDSControlledUserBlockingDialog.react"),{disableClosingWithMask:!0,onDismiss:E,size:"content",title:S,withCloseButton:!0,children:z})}),t[56]=E,t[57]=z,t[58]=S,t[59]=j):j=t[59],j}l.default=m}),226);
__d("RTWebMDSCallNotificationDialog.react",["MDSFacepilePhoto.react","RTWebMDSCallNotificationDialogLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(18),n=e.acceptLabel,a=e.acceptTestid,i=e.declineLabel,l=e.headline,u=e.isE2EECall,c=e.isVideoCall,d=e.metaContent,m=e.notificationType,p=e.onAccept,_=e.onClose,f=e.onDecline,g=e.profiles,h=e.threadJid,y=e.threadType,C=e.title,b=u===void 0?!1:u,v;t[0]!==g?(v=s.jsx(r("MDSFacepilePhoto.react"),{items:g,size:60}),t[0]=g,t[1]=v):v=t[1];var S=v,R;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==b||t[7]!==c||t[8]!==d||t[9]!==m||t[10]!==p||t[11]!==_||t[12]!==f||t[13]!==S||t[14]!==h||t[15]!==y||t[16]!==C?(R=s.jsx(r("RTWebMDSCallNotificationDialogLayout.react"),{acceptLabel:n,acceptTestid:a,declineLabel:i,headline:l,isE2EECall:b,isVideoCall:c,metaContent:d,notificationType:m,onAccept:p,onClose:_,onDecline:f,profileSection:S,threadJid:h,threadType:y,title:C}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=b,t[7]=c,t[8]=d,t[9]=m,t[10]=p,t[11]=_,t[12]=f,t[13]=S,t[14]=h,t[15]=y,t[16]=C,t[17]=R):R=t[17],R}l.default=u}),98);
__d("RelayFBConsoleLog",["cr:1121434"],(function(t,n,r,o,a,i,l){"use strict";var e=n("cr:1121434")!=null?n("cr:1121434")():null,s=e;l.default=s}),98);
__d("liveQueryFetchWithWWWInitialWrapper",["JSResource","RelayRuntime","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){return n.config_id!=null?o("RelayRuntime").Observable.create(function(o){var i;return r("promiseDone")(r("JSResource")("liveQueryFetchWithWWWInitial").__setRef("liveQueryFetchWithWWWInitialWrapper").load().then(function(r){var l=r(e,t,n,a);i=l.subscribe(o)}).catch(function(e){return o.error(e)})),function(){i&&i.unsubscribe()}}):a}l.default=e}),98);
__d("RelayFBEnvironmentDefinitions",["RelayFBConsoleLog","RelayFBEnvironmentActorID","RelayFBGCScheduler","RelayFBHandlerProvider","RelayFBOperationLoader","RelayFBScheduler","RelayFieldLogger","createRelayFBNetwork","createRelayFBNetworkFetch","createRelayFBSubscribeFunction","getRelayFBMissingFieldHandlers","liveQueryFetchWithWWWInitialWrapper","relay-runtime","relayFBGetDataID"],(function(t,n,r,o,a,i){"use strict";var e=["actorID","handlerProvider","log","missingFieldHandlers","operationLoader","store","relayFieldLogger","scheduler","getDataID"],l=["networkConfig"],s,u=n("RelayFBEnvironmentActorID").getActorID,c=(s=n("relay-runtime")).Environment,d=s.QueryResponseCache,m=s.RecordSource,p=s.Store;function _(t){var r,o,a=t.actorID,i=t.handlerProvider,s=i===void 0?n("RelayFBHandlerProvider"):i,u=t.log,_=u===void 0?(r=t.log)!=null?r:n("RelayFBConsoleLog"):u,f=t.missingFieldHandlers,g=f===void 0?n("getRelayFBMissingFieldHandlers")():f,h=t.operationLoader,y=h===void 0?n("RelayFBOperationLoader"):h,C=t.store,b=C===void 0?new p(new m,{gcReleaseBufferSize:10,gcScheduler:n("RelayFBGCScheduler"),getDataID:(o=t.getDataID)!=null?o:n("relayFBGetDataID"),log:_,operationLoader:n("RelayFBOperationLoader"),queryCacheExpirationTime:300*1e3}):C,v=t.relayFieldLogger,S=v===void 0?n("RelayFieldLogger").create():v,R=t.scheduler,L=R===void 0?n("RelayFBScheduler"):R,E=t.getDataID,k=E===void 0?n("relayFBGetDataID"):E,I=babelHelpers.objectWithoutPropertiesLoose(t,e),T={actorID:a};if(I.network)return new c(babelHelpers.extends({},I,{getDataID:k,handlerProvider:s,log:_,missingFieldHandlers:g,operationLoader:y,options:T,relayFieldLogger:S,scheduler:L,store:b}));var D,x,$=I.networkConfig,P=babelHelpers.objectWithoutPropertiesLoose(I,l),N=(D=$==null?void 0:$.queryResponseCache)!=null?D:new d({size:10,ttl:300*1e3}),M=(x=$==null?void 0:$.liveQueryFetchWithWWWInitialFn)!=null?x:n("liveQueryFetchWithWWWInitialWrapper"),w=n("createRelayFBNetwork")(n("createRelayFBNetworkFetch")(babelHelpers.extends({},$,{actorID:a,liveQueryFetchWithWWWInitialFn:M,queryResponseCache:N})),n("createRelayFBSubscribeFunction")({actorID:a,queryResponseCache:N}));return new c(babelHelpers.extends({},P,{getDataID:k,handlerProvider:s,log:_,missingFieldHandlers:g,network:w,operationLoader:y,options:T,relayFieldLogger:S,scheduler:L,store:b}))}function f(e){var t=new Map;return{commitLocalUpdateForEachEnvironment:function(n){var e=function(){var e=r[1];e.commitUpdate(function(t){n(u(e),e,t)})};for(var r of t)e()},getForActorID:function(r,o){var n=r+(o!=null?o:""),a=t.get(n);return a||(a=_(e(r,o)),t.set(n,a)),a}}}a.exports={createEnvironment:_,createEnvironmentFactory:f}}),null);
__d("RelayFBEnvironmentFactory",["RelayFBEnvironmentDefinitions"],(function(t,n,r,o,a,i){"use strict";var e=n("RelayFBEnvironmentDefinitions").createEnvironmentFactory;a.exports=e(function(e){return{configName:"RelayFBEnvironment",actorID:e}})}),null);
__d("RelayModern",["RelayFBEnvironmentDefinitions","RelayFBMutations","RelayFBSubscription","configureRelayForWWW","enqueueMutation","react-relay/ReactRelayContext","react-relay/ReactRelayFragmentContainer","react-relay/ReactRelayLocalQueryRenderer","react-relay/ReactRelayPaginationContainer","react-relay/ReactRelayQueryRenderer","react-relay/ReactRelayRefetchContainer","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e,l=n("RelayFBEnvironmentDefinitions").createEnvironment,s=n("RelayFBEnvironmentDefinitions").createEnvironmentFactory,u=n("enqueueMutation").enqueueMutation,c=(e=n("relay-runtime")).fetchQuery_DEPRECATED;n("configureRelayForWWW")();var d=n("RelayFBSubscription").addFBisms(e.requestSubscription);a.exports={ConnectionHandler:e.ConnectionHandler,QueryRenderer:n("react-relay/ReactRelayQueryRenderer"),LocalQueryRenderer:n("react-relay/ReactRelayLocalQueryRenderer"),MutationTypes:e.MutationTypes,RangeOperations:e.RangeOperations,ReactRelayContext:n("react-relay/ReactRelayContext"),applyOptimisticMutation:e.applyOptimisticMutation,commitLocalUpdate:e.commitLocalUpdate,createFragmentContainer:n("react-relay/ReactRelayFragmentContainer").createContainer,createPaginationContainer:n("react-relay/ReactRelayPaginationContainer").createContainer,createRefetchContainer:n("react-relay/ReactRelayRefetchContainer").createContainer,fetchQuery_DEPRECATED:e.fetchQuery_DEPRECATED,graphql:e.graphql,readInlineData:e.readInlineData,commitMutation:n("RelayFBMutations").addFBisms(e.commitMutation),enqueueMutation:n("RelayFBMutations").addFBisms(u),requestSubscription:d,createEnvironment:l,createEnvironmentFactory:s,fetchQuery:c}}),null);/*FB_PKG_DELIM*/
__d("jsbi",[],(function(t,n,r,o,a,i){(function(e,t){typeof i=="object"&&typeof a!="undefined"?a.exports=t():typeof define=="function"&&define.amd?define(t):e.JSBI=t()})(this,function(){"use strict";function e(t){return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n,r=0;r<t.length;r++)n=t[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function o(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}function a(e){return a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},a(e)}function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function l(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function s(){return s=l()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=Function.bind.apply(e,r),a=new o;return n&&i(a,n.prototype),a},s.apply(null,arguments)}function u(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function c(e){var t=typeof Map=="function"?new Map:void 0;return c=function(e){function n(){return s(e,arguments,a(this).constructor)}if(e===null||!u(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t!="undefined"){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i(n,e)},c(e)}function d(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e,t){return t&&(typeof t=="object"||typeof t=="function")?t:d(e)}var p=(function(n){var i=Math.abs,l=Math.max,s=Math.imul,u=Math.clz32;function c(e,n){var r;if(t(this,c),e>c.__kMaxLength)throw new RangeError("Maximum BigInt size exceeded");return r=m(this,a(c).call(this,e)),r.sign=n,r}return o(c,n),r(c,[{key:"toDebugString",value:function(){var e=["BigInt["],t=!0,n=!1,r=void 0;try{for(var o,a,i=this[Symbol.iterator]();!(t=(o=i.next()).done);t=!0)a=o.value,e.push((a&&(a>>>0).toString(16))+", ")}catch(e){n=!0,r=e}finally{try{t||i.return==null||i.return()}finally{if(n)throw r}}return e.push("]"),e.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:10;if(2>e||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return this.length===0?"0":(e&e-1)==0?c.__toStringBasePowerOfTwo(this,e):c.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new c(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];t===0;)e--,t=this[e-1],this.pop();return e===0&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return u(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,n){n>this.length&&(n=this.length);for(var r=65535&e,o=e>>>16,a=0,i=65535&t,l=t>>>16,u=0;u<n;u++){var c=this.__digit(u),d=65535&c,m=c>>>16,p=s(d,r),_=s(d,o),f=s(m,r),g=s(m,o),h=i+(65535&p),y=l+a+(h>>>16)+(p>>>16)+(65535&_)+(65535&f);i=(_>>>16)+(f>>>16)+(65535&g)+(y>>>16),a=i>>>16,i&=65535,l=g>>>16,this.__setDigit(u,65535&h|y<<16)}if(a!==0||i!==0||l!==0)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,n){for(var r,o=0,a=0;a<n;a++)r=this.__halfDigit(t+a)+e.__halfDigit(a)+o,o=r>>>16,this.__setHalfDigit(t+a,r);return o}},{key:"__inplaceSub",value:function(e,t,n){var r=0;if(1&t){t>>=1;for(var o=this.__digit(t),a=65535&o,i=0;i<n-1>>>1;i++){var l=e.__digit(i),s=(o>>>16)-(65535&l)-r;r=1&s>>>16,this.__setDigit(t+i,s<<16|65535&a),o=this.__digit(t+i+1),a=(65535&o)-(l>>>16)-r,r=1&a>>>16}var u=e.__digit(i),c=(o>>>16)-(65535&u)-r;if(r=1&c>>>16,this.__setDigit(t+i,c<<16|65535&a),t+i+1>=this.length)throw new RangeError("out of bounds");(1&n)==0&&(o=this.__digit(t+i+1),a=(65535&o)-(u>>>16)-r,r=1&a>>>16,this.__setDigit(t+e.length,4294901760&o|65535&a))}else{t>>=1;for(var d=0;d<e.length-1;d++){var m=this.__digit(t+d),p=e.__digit(d),_=(65535&m)-(65535&p)-r;r=1&_>>>16;var f=(m>>>16)-(p>>>16)-r;r=1&f>>>16,this.__setDigit(t+d,f<<16|65535&_)}var g=this.__digit(t+d),h=e.__digit(d),y=(65535&g)-(65535&h)-r;r=1&y>>>16;var C=0;(1&n)==0&&(C=(g>>>16)-(h>>>16)-r,r=1&C>>>16),this.__setDigit(t+d,C<<16|65535&y)}return r}},{key:"__inplaceRightShift",value:function(e){if(e!==0){for(var t,n=this.__digit(0)>>>e,r=this.length-1,o=0;o<r;o++)t=this.__digit(o+1),this.__setDigit(o,t<<32-e|n),n=t>>>e;this.__setDigit(r,n)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return 65535>=this.__unsignedDigit(e-1)?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var n=e>>>1,r=this.__digit(n),o=1&e?65535&r|t<<16:4294901760&r|65535&t;this.__setDigit(n,o)}}],[{key:"BigInt",value:function(t){var n=Math.floor,r=Number.isFinite;if(typeof t=="number"){if(t===0)return c.__zero();if((0|t)===t)return 0>t?c.__oneDigit(-t,!0):c.__oneDigit(t,!1);if(!r(t)||n(t)!==t)throw new RangeError("The number "+t+" cannot be converted to BigInt because it is not an integer");return c.__fromDouble(t)}if(typeof t=="string"){var o=c.__fromString(t);if(o===null)throw new SyntaxError("Cannot convert "+t+" to a BigInt");return o}if(typeof t=="boolean")return t===!0?c.__oneDigit(1,!1):c.__zero();if(e(t)==="object"){if(t.constructor===c)return t;var a=c.__toPrimitive(t);return c.BigInt(a)}throw new TypeError("Cannot convert "+t+" to a BigInt")}},{key:"toNumber",value:function(e){var t=e.length;if(t===0)return 0;if(t===1){var n=e.__unsignedDigit(0);return e.sign?-n:n}var r=e.__digit(t-1),o=u(r),a=32*t-o;if(1024<a)return e.sign?-1/0:1/0;var i=a-1,l=r,s=t-1,d=o+1,m=d===32?0:l<<d;m>>>=12;var p=d-12,_=12<=d?0:l<<20+d,f=20+d;0<p&&0<s&&(s--,l=e.__digit(s),m|=l>>>32-p,_=l<<p,f=p),0<f&&0<s&&(s--,l=e.__digit(s),_|=l>>>32-f,f-=32);var g=c.__decideRounding(e,f,s,l);if((g===1||g===0&&(1&_)==1)&&(_=_+1>>>0,_===0&&(m++,m>>>20!=0&&(m=0,i++,1023<i))))return e.sign?-1/0:1/0;var h=e.sign?-2147483648:0;return i=i+1023<<20,c.__kBitConversionInts[1]=h|i|m,c.__kBitConversionInts[0]=_,c.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(e.length===0)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?c.__absoluteSubOne(e).__trim():c.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(t.length===0)return c.__oneDigit(1,!1);if(e.length===0)return e;if(e.length===1&&e.__digit(0)===1)return e.sign&&(1&t.__digit(0))==0?c.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var n=t.__unsignedDigit(0);if(n===1)return e;if(n>=c.__kMaxLengthBits)throw new RangeError("BigInt too big");if(e.length===1&&e.__digit(0)===2){var r=1+(n>>>5),o=e.sign&&(1&n)!=0,a=new c(r,o);a.__initializeDigits();var i=1<<(31&n);return a.__setDigit(r-1,i),a}var l=null,s=e;for((1&n)!=0&&(l=e),n>>=1;n!==0;n>>=1)s=c.multiply(s,s),(1&n)!=0&&(l===null?l=s:l=c.multiply(l,s));return l}},{key:"multiply",value:function(e,t){if(e.length===0)return e;if(t.length===0)return t;var n=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&n--;var r=new c(n,e.sign!==t.sign);r.__initializeDigits();for(var o=0;o<e.length;o++)c.__multiplyAccumulate(t,e.__digit(o),r,o);return r.__trim()}},{key:"divide",value:function(e,t){if(t.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(e,t))return c.__zero();var n,r=e.sign!==t.sign,o=t.__unsignedDigit(0);if(t.length===1&&65535>=o){if(o===1)return r===e.sign?e:c.unaryMinus(e);n=c.__absoluteDivSmall(e,o,null)}else n=c.__absoluteDivLarge(e,t,!0,!1);return n.sign=r,n.__trim()}},{key:"remainder",value:function(t,n){if(n.length===0)throw new RangeError("Division by zero");if(0>c.__absoluteCompare(t,n))return t;var e=n.__unsignedDigit(0);if(n.length===1&&65535>=e){if(e===1)return c.__zero();var r=c.__absoluteModSmall(t,e);return r===0?c.__zero():c.__oneDigit(r,t.sign)}var o=c.__absoluteDivLarge(t,n,!1,!0);return o.sign=t.sign,o.__trim()}},{key:"add",value:function(e,t){var n=e.sign;return n===t.sign?c.__absoluteAdd(e,t,n):0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n)}},{key:"subtract",value:function(e,t){var n=e.sign;return n===t.sign?0<=c.__absoluteCompare(e,t)?c.__absoluteSub(e,t,n):c.__absoluteSub(t,e,!n):c.__absoluteAdd(e,t,n)}},{key:"leftShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__rightShiftByAbsolute(e,t):c.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return t.length===0||e.length===0?e:t.sign?c.__leftShiftByAbsolute(e,t):c.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return 0>c.__compareToBigInt(e,t)}},{key:"lessThanOrEqual",value:function(e,t){return 0>=c.__compareToBigInt(e,t)}},{key:"greaterThan",value:function(e,t){return 0<c.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=c.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e.__digit(n)!==t.__digit(n))return!1;return!0}},{key:"notEqual",value:function(e,t){return!c.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length)+1,r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteOr(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}return c.__absoluteAndNot(e,c.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return c.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var n=l(e.length,t.length),r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return c.__absoluteXor(r,o,r).__trim()}var a=l(e.length,t.length)+1;if(e.sign){var i=[t,e];e=i[0],t=i[1]}var s=c.__absoluteSubOne(t,a);return s=c.__absoluteXor(s,e,s),c.__absoluteAddOne(s,!0,s).__trim()}},{key:"bitwiseOr",value:function(e,t){var n=l(e.length,t.length);if(!e.sign&&!t.sign)return c.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var r=c.__absoluteSubOne(e,n),o=c.__absoluteSubOne(t);return r=c.__absoluteAnd(r,o,r),c.__absoluteAddOne(r,!0,r).__trim()}if(e.sign){var a=[t,e];e=a[0],t=a[1]}var i=c.__absoluteSubOne(t,n);return i=c.__absoluteAndNot(i,e,i),c.__absoluteAddOne(i,!0,i).__trim()}},{key:"asIntN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=t.__unsignedDigit(n-1),o=1<<(31&e-1);if(t.length===n&&r<o)return t;if((r&o)!==o)return c.__truncateToNBits(e,t);if(!t.sign)return c.__truncateAndSubFromPowerOfTwo(e,t,!0);if((r&o-1)==0){for(var a=n-2;0<=a;a--)if(t.__digit(a)!==0)return c.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===n&&r===o?t:c.__truncateToNBits(e,t)}return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}},{key:"asUintN",value:function(e,t){if(t.length===0)return t;if(e===0)return c.__zero();if(t.sign){if(e>c.__kMaxLengthBits)throw new RangeError("BigInt too big");return c.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(e>=c.__kMaxLengthBits)return t;var n=e+31>>>5;if(t.length<n)return t;var r=31&e;if(t.length==n){if(r==0)return t;var o=t.__digit(n-1);if(!(o>>>r))return t}return c.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string")return typeof t!="string"&&(t=t.toString()),e+t;if(typeof t=="string")return e.toString()+t;if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)&&c.__isBigInt(t))return c.add(e,t);if(typeof e=="number"&&typeof t=="number")return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return c.__compare(e,t,0)}},{key:"LE",value:function(e,t){return c.__compare(e,t,1)}},{key:"GT",value:function(e,t){return c.__compare(e,t,2)}},{key:"GE",value:function(e,t){return c.__compare(e,t,3)}},{key:"EQ",value:function(t,n){for(;;){if(c.__isBigInt(t))return c.__isBigInt(n)?c.equal(t,n):c.EQ(n,t);if(typeof t=="number"){if(c.__isBigInt(n))return c.__equalToNumber(n,t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="string"){if(c.__isBigInt(n))return t=c.__fromString(t),t!==null&&c.equal(t,n);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(typeof t=="boolean"){if(c.__isBigInt(n))return c.__equalToNumber(n,+t);if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="symbol"){if(c.__isBigInt(n))return!1;if(e(n)!=="object")return t==n;n=c.__toPrimitive(n)}else if(e(t)==="object"){if(e(n)==="object"&&n.constructor!==c)return t==n;t=c.__toPrimitive(t)}else return t==n}}},{key:"NE",value:function(e,t){return!c.EQ(e,t)}},{key:"__zero",value:function(){return new c(0,!1)}},{key:"__oneDigit",value:function(e,t){var n=new c(1,t);return n.__setDigit(0,e),n}},{key:"__decideRounding",value:function(e,t,n,r){if(0<t)return-1;var o;if(0>t)o=-t-1;else{if(n===0)return-1;n--,r=e.__digit(n),o=31}var a=1<<o;if((r&a)==0)return-1;if(a-=1,(r&a)!=0)return 1;for(;0<n;)if(n--,e.__digit(n)!==0)return 1;return 0}},{key:"__fromDouble",value:function(e){c.__kBitConversionDouble[0]=e;var t,n=2047&c.__kBitConversionInts[1]>>>20,r=n-1023,o=(r>>>5)+1,a=new c(o,0>e),i=1048575&c.__kBitConversionInts[1]|1048576,l=c.__kBitConversionInts[0],s=20,u=31&r,d=0;if(u<s){var m=s-u;d=m+32,t=i>>>m,i=i<<32-m|l>>>m,l<<=32-m}else if(u===s)d=32,t=i,i=l;else{var p=u-s;d=32-p,t=i<<p|l>>>32-p,i=l<<p}a.__setDigit(o-1,t);for(var _=o-2;0<=_;_--)0<d?(d-=32,t=i,i=l):t=0,a.__setDigit(_,t);return a.__trim()}},{key:"__isWhitespace",value:function(e){return 13>=e&&9<=e||(159>=e?e==32:131071>=e?e==160||e==5760:196607>=e?(e&=131071,10>=e||e==40||e==41||e==47||e==95||e==4096):e==65279)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,n=0,r=e.length,o=0;if(o===r)return c.__zero();for(var a=e.charCodeAt(o);c.__isWhitespace(a);){if(++o===r)return c.__zero();a=e.charCodeAt(o)}if(a===43){if(++o===r)return null;a=e.charCodeAt(o),n=1}else if(a===45){if(++o===r)return null;a=e.charCodeAt(o),n=-1}if(t===0){if(t=10,a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(t=16,++o===r)return null;a=e.charCodeAt(o)}else if(a===79||a===111){if(t=8,++o===r)return null;a=e.charCodeAt(o)}else if(a===66||a===98){if(t=2,++o===r)return null;a=e.charCodeAt(o)}}}else if(t===16&&a===48){if(++o===r)return c.__zero();if(a=e.charCodeAt(o),a===88||a===120){if(++o===r)return null;a=e.charCodeAt(o)}}for(;a===48;){if(++o===r)return c.__zero();a=e.charCodeAt(o)}var i=r-o,l=c.__kMaxBitsPerChar[t],s=c.__kBitsPerCharTableMultiplier-1;if(i>1073741824/l)return null;var u=l*i+s>>>c.__kBitsPerCharTableShift,d=new c(u+31>>>5,!1),m=10>t?t:10,p=10<t?t-10:0;if((t&t-1)==0){l>>=c.__kBitsPerCharTableShift;var _=[],f=[],g=!1;do{for(var h,y=0,C=0;;){if(h=void 0,a-48>>>0<m)h=a-48;else if((32|a)-97>>>0<p)h=(32|a)-87;else{g=!0;break}if(C+=l,y=y<<l|h,++o===r){g=!0;break}if(a=e.charCodeAt(o),32<C+l)break}_.push(y),f.push(C)}while(!g);c.__fillFromParts(d,_,f)}else{d.__initializeDigits();var b=!1,v=0;do{for(var S,R=0,L=1;;){if(S=void 0,a-48>>>0<m)S=a-48;else if((32|a)-97>>>0<p)S=(32|a)-87;else{b=!0;break}var E=L*t;if(4294967295<E)break;if(L=E,R=R*t+S,v++,++o===r){b=!0;break}a=e.charCodeAt(o)}s=32*c.__kBitsPerCharTableMultiplier-1;var k=l*v+s>>>c.__kBitsPerCharTableShift+5;d.__inplaceMultiplyAdd(L,R,k)}while(!b)}if(o!==r){if(!c.__isWhitespace(a))return null;for(o++;o<r;o++)if(a=e.charCodeAt(o),!c.__isWhitespace(a))return null}return n!==0&&t!==10?null:(d.sign=n===-1,d.__trim())}},{key:"__fillFromParts",value:function(e,t,n){for(var r=0,o=0,a=0,i=t.length-1;0<=i;i--){var l=t[i],s=n[i];o|=l<<a,a+=s,a===32?(e.__setDigit(r++,o),a=0,o=0):32<a&&(e.__setDigit(r++,o),a-=32,o=l>>>s-a)}if(o!==0){if(r>=e.length)throw new Error("implementation bug");e.__setDigit(r++,o)}for(;r<e.length;r++)e.__setDigit(r,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var n=e.length,r=t-1;r=(85&r>>>1)+(85&r),r=(51&r>>>2)+(51&r),r=(15&r>>>4)+(15&r);var o=r,a=t-1,i=e.__digit(n-1),l=u(i),s=0|(32*n-l+o-1)/o;if(e.sign&&s++,268435456<s)throw new Error("string too long");for(var d=Array(s),m=s-1,p=0,_=0,f=0;f<n-1;f++){var g=e.__digit(f),h=(p|g<<_)&a;d[m--]=c.__kConversionChars[h];var y=o-_;for(p=g>>>y,_=32-y;_>=o;)d[m--]=c.__kConversionChars[p&a],p>>>=o,_-=o}var C=(p|i<<_)&a;for(d[m--]=c.__kConversionChars[C],p=i>>>o-_;p!==0;)d[m--]=c.__kConversionChars[p&a],p>>>=o;if(e.sign&&(d[m--]="-"),m!==-1)throw new Error("implementation bug");return d.join("")}},{key:"__toStringGeneric",value:function(e,t,n){var r=e.length;if(r===0)return"";if(r===1){var o=e.__unsignedDigit(0).toString(t);return n===!1&&e.sign&&(o="-"+o),o}var a=32*r-u(e.__digit(r-1)),i=c.__kMaxBitsPerChar[t],l=i-1,s=a*c.__kBitsPerCharTableMultiplier;s+=l-1,s=0|s/l;var d,m,p=s+1>>1,_=c.exponentiate(c.__oneDigit(t,!1),c.__oneDigit(p,!1)),f=_.__unsignedDigit(0);if(_.length===1&&65535>=f){d=new c(e.length,!1),d.__initializeDigits();for(var g,h=0,y=2*e.length-1;0<=y;y--)g=h<<16|e.__halfDigit(y),d.__setHalfDigit(y,0|g/f),h=0|g%f;m=h.toString(t)}else{var C=c.__absoluteDivLarge(e,_,!0,!0);d=C.quotient;var b=C.remainder.__trim();m=c.__toStringGeneric(b,t,!0)}d.__trim();for(var v=c.__toStringGeneric(d,t,!0);m.length<p;)m="0"+m;return n===!1&&e.sign&&(v="-"+v),v+m}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var n=e.sign;if(n!==t.sign)return c.__unequalSign(n);var r=c.__absoluteCompare(e,t);return 0<r?c.__absoluteGreater(n):0>r?c.__absoluteLess(n):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var n=e.sign,r=0>t;if(n!==r)return c.__unequalSign(n);if(e.length===0){if(r)throw new Error("implementation bug");return t===0?0:-1}if(1<e.length)return c.__absoluteGreater(n);var o=i(t),a=e.__unsignedDigit(0);return a>o?c.__absoluteGreater(n):a<o?c.__absoluteLess(n):0}return c.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!==t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var n=e.sign;if(n!==0>t)return c.__unequalSign(n);if(t===0)throw new Error("implementation bug: should be handled elsewhere");if(e.length===0)return-1;c.__kBitConversionDouble[0]=t;var r=2047&c.__kBitConversionInts[1]>>>20;if(r==2047)throw new Error("implementation bug: handled elsewhere");var o=r-1023;if(0>o)return c.__absoluteGreater(n);var a=e.length,i=e.__digit(a-1),l=u(i),s=32*a-l,d=o+1;if(s<d)return c.__absoluteLess(n);if(s>d)return c.__absoluteGreater(n);var m=1048576|1048575&c.__kBitConversionInts[1],p=c.__kBitConversionInts[0],_=20,f=31-l;if(f!==(s-1)%31)throw new Error("implementation bug");var g,h=0;if(f<_){var y=_-f;h=y+32,g=m>>>y,m=m<<32-y|p>>>y,p<<=32-y}else if(f===_)h=32,g=m,m=p;else{var C=f-_;h=32-C,g=m<<C|p>>>32-C,m=p<<C}if(i>>>=0,g>>>=0,i>g)return c.__absoluteGreater(n);if(i<g)return c.__absoluteLess(n);for(var b=a-2;0<=b;b--){0<h?(h-=32,g=m>>>0,m=p,p=0):g=0;var v=e.__unsignedDigit(b);if(v>g)return c.__absoluteGreater(n);if(v<g)return c.__absoluteLess(n)}if(m!==0||p!==0){if(h===0)throw new Error("implementation bug");return c.__absoluteLess(n)}return 0}},{key:"__equalToNumber",value:function(e,t){return t|t===0?t===0?e.length===0:e.length===1&&e.sign===0>t&&e.__unsignedDigit(0)===i(t):c.__compareToDouble(e,t)===0}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return 0>e;case 1:return 0>=e;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,n){if(e=c.__toPrimitive(e),t=c.__toPrimitive(t),typeof e=="string"&&typeof t=="string")switch(n){case 0:return e<t;case 1:return e<=t;case 2:return e>t;case 3:return e>=t}if(c.__isBigInt(e)&&typeof t=="string")return t=c.__fromString(t),t!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof e=="string"&&c.__isBigInt(t))return e=c.__fromString(e),e!==null&&c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(e=c.__toNumeric(e),t=c.__toNumeric(t),c.__isBigInt(e)){if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToBigInt(e,t),n);if(typeof t!="number")throw new Error("implementation bug");return c.__comparisonResultToBool(c.__compareToNumber(e,t),n)}if(typeof e!="number")throw new Error("implementation bug");if(c.__isBigInt(t))return c.__comparisonResultToBool(c.__compareToNumber(t,e),2^n);if(typeof t!="number")throw new Error("implementation bug");return n===0?e<t:n===1?e<=t:n===2?e>t:n===3?e>=t:void 0}},{key:"__absoluteAdd",value:function(e,t,n){if(e.length<t.length)return c.__absoluteAdd(t,e,n);if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);var r=e.length;(e.__clzmsd()===0||t.length===e.length&&t.__clzmsd()===0)&&r++;for(var o=new c(r,n),a=0,i=0;i<t.length;i++){var l=t.__digit(i),s=e.__digit(i),u=(65535&s)+(65535&l)+a,d=(s>>>16)+(l>>>16)+(u>>>16);a=d>>>16,o.__setDigit(i,65535&u|d<<16)}for(;i<e.length;i++){var m=e.__digit(i),p=(65535&m)+a,_=(m>>>16)+(p>>>16);a=_>>>16,o.__setDigit(i,65535&p|_<<16)}return i<o.length&&o.__setDigit(i,a),o.__trim()}},{key:"__absoluteSub",value:function(e,t,n){if(e.length===0)return e;if(t.length===0)return e.sign===n?e:c.unaryMinus(e);for(var r=new c(e.length,n),o=0,a=0;a<t.length;a++){var i=e.__digit(a),l=t.__digit(a),s=(65535&i)-(65535&l)-o;o=1&s>>>16;var u=(i>>>16)-(l>>>16)-o;o=1&u>>>16,r.__setDigit(a,65535&s|u<<16)}for(;a<e.length;a++){var d=e.__digit(a),m=(65535&d)-o;o=1&m>>>16;var p=(d>>>16)-o;o=1&p>>>16,r.__setDigit(a,65535&m|p<<16)}return r.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length;n===null?n=new c(r,t):n.sign=t;for(var o=!0,a=0;a<r;a++){var i=e.__digit(a),l=i===-1;o&&(i=0|i+1),o=l,n.__setDigit(a,i)}return o&&n.__setDigitGrow(r,1),n}},{key:"__absoluteSubOne",value:function(e,t){var n=e.length;t=t||n;for(var r=new c(t,!1),o=!0,a=0;a<n;a++){var i=e.__digit(a),l=i===0;o&&(i=0|i-1),o=l,r.__setDigit(a,i)}for(var s=n;s<t;s++)r.__setDigit(s,0);return r}},{key:"__absoluteAnd",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=a;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)&t.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteAndNot",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;r<o&&(a=r);var i=r;n===null?n=new c(i,!1):i=n.length;for(var l=0;l<a;l++)n.__setDigit(l,e.__digit(l)&~t.__digit(l));for(;l<r;l++)n.__setDigit(l,e.__digit(l));for(;l<i;l++)n.__setDigit(l,0);return n}},{key:"__absoluteOr",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)|t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteXor",value:function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,r=e.length,o=t.length,a=o;if(r<o){a=r;var i=e,l=r;e=t,r=o,t=i,o=l}var s=r;n===null?n=new c(s,!1):s=n.length;for(var u=0;u<a;u++)n.__setDigit(u,e.__digit(u)^t.__digit(u));for(;u<r;u++)n.__setDigit(u,e.__digit(u));for(;u<s;u++)n.__setDigit(u,0);return n}},{key:"__absoluteCompare",value:function(e,t){var n=e.length-t.length;if(n!=0)return n;for(var r=e.length-1;0<=r&&e.__digit(r)===t.__digit(r);)r--;return 0>r?0:e.__unsignedDigit(r)>t.__unsignedDigit(r)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,n,r){if(t!==0){for(var o=65535&t,a=t>>>16,i=0,l=0,u=0,c=0;c<e.length;c++,r++){var d=n.__digit(r),m=65535&d,p=d>>>16,_=e.__digit(c),f=65535&_,g=_>>>16,h=s(f,o),y=s(f,a),C=s(g,o),b=s(g,a);m+=l+(65535&h),p+=u+i+(m>>>16)+(h>>>16)+(65535&y)+(65535&C),i=p>>>16,l=(y>>>16)+(C>>>16)+(65535&b)+i,i=l>>>16,l&=65535,u=b>>>16,d=65535&m|p<<16,n.__setDigit(r,d)}for(;i!==0||l!==0||u!==0;r++){var v=n.__digit(r),S=(65535&v)+l,R=(v>>>16)+(S>>>16)+u+i;l=0,u=0,i=R>>>16,v=65535&S|R<<16,n.__setDigit(r,v)}}}},{key:"__internalMultiplyAdd",value:function(e,t,n,r,o){for(var a=n,i=0,l=0;l<r;l++){var u=e.__digit(l),c=s(65535&u,t),d=(65535&c)+i+a;a=d>>>16;var m=s(u>>>16,t),p=(65535&m)+(c>>>16)+a;a=p>>>16,i=m>>>16,o.__setDigit(l,p<<16|65535&d)}if(o.length>r)for(o.__setDigit(r++,a+i);r<o.length;)o.__setDigit(r++,0);else if(a+i!==0)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,n){n===null&&(n=new c(e.length,!1));for(var r=0,o=2*e.length-1;0<=o;o-=2){var a=(r<<16|e.__halfDigit(o))>>>0,i=0|a/t;r=0|a%t,a=(r<<16|e.__halfDigit(o-1))>>>0;var l=0|a/t;r=0|a%t,n.__setDigit(o>>>1,i<<16|l)}return n}},{key:"__absoluteModSmall",value:function(e,t){for(var n,r=0,o=2*e.length-1;0<=o;o--)n=(r<<16|e.__halfDigit(o))>>>0,r=0|n%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,n,r){var o=t.__halfDigitLength(),a=t.length,i=e.__halfDigitLength()-o,l=null;n&&(l=new c(i+2>>>1,!1),l.__initializeDigits());var u=new c(o+2>>>1,!1);u.__initializeDigits();var d=c.__clz16(t.__halfDigit(o-1));0<d&&(t=c.__specialLeftShift(t,d,0));for(var m=c.__specialLeftShift(e,d,1),p=t.__halfDigit(o-1),_=0,f=i;0<=f;f--){var g=65535,h=m.__halfDigit(f+o);if(h!==p){var y=(h<<16|m.__halfDigit(f+o-1))>>>0;g=0|y/p;for(var C=0|y%p,b=t.__halfDigit(o-2),v=m.__halfDigit(f+o-2);s(g,b)>>>0>(C<<16|v)>>>0&&(g--,C+=p,!(65535<C)););}c.__internalMultiplyAdd(t,g,0,a,u);var S=m.__inplaceSub(u,f,o+1);S!==0&&(S=m.__inplaceAdd(t,f,o),m.__setHalfDigit(f+o,m.__halfDigit(f+o)+S),g--),n&&(1&f?_=g<<16:l.__setDigit(f>>>1,_|g))}return r?(m.__inplaceRightShift(d),n?{quotient:l,remainder:m}:m):n?l:void 0}},{key:"__clz16",value:function(e){return u(e)-16}},{key:"__specialLeftShift",value:function(e,t,n){var r=e.length,o=new c(r+n,!1);if(t===0){for(var a=0;a<r;a++)o.__setDigit(a,e.__digit(a));return 0<n&&o.__setDigit(r,0),o}for(var i,l=0,s=0;s<r;s++)i=e.__digit(s),o.__setDigit(s,i<<t|l),l=i>>>32-t;return 0<n&&o.__setDigit(r,l),o}},{key:"__leftShiftByAbsolute",value:function(e,t){var n=c.__toShiftAmount(t);if(0>n)throw new RangeError("BigInt too big");var r=n>>>5,o=31&n,a=e.length,i=o!==0&&e.__digit(a-1)>>>32-o!=0,l=a+r+(i?1:0),s=new c(l,e.sign);if(o===0){for(var u=0;u<r;u++)s.__setDigit(u,0);for(;u<l;u++)s.__setDigit(u,e.__digit(u-r))}else{for(var d=0,m=0;m<r;m++)s.__setDigit(m,0);for(var p,_=0;_<a;_++)p=e.__digit(_),s.__setDigit(_+r,p<<o|d),d=p>>>32-o;if(i)s.__setDigit(a+r,d);else if(d!==0)throw new Error("implementation bug")}return s.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var n=e.length,r=e.sign,o=c.__toShiftAmount(t);if(0>o)return c.__rightShiftByMaximum(r);var a=o>>>5,i=31&o,l=n-a;if(0>=l)return c.__rightShiftByMaximum(r);var s=!1;if(r){if((e.__digit(a)&(1<<i)-1)!=0)s=!0;else for(var u=0;u<a;u++)if(e.__digit(u)!==0){s=!0;break}}if(s&&i===0){var d=e.__digit(n-1);~d==0&&l++}var m=new c(l,r);if(i===0)for(var p=a;p<n;p++)m.__setDigit(p-a,e.__digit(p));else{for(var _,f=e.__digit(a)>>>i,g=n-a-1,h=0;h<g;h++)_=e.__digit(h+a+1),m.__setDigit(h,_<<32-i|f),f=_>>>i;m.__setDigit(g,f)}return s&&(m=c.__absoluteAddOne(m,!0,m)),m.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?c.__oneDigit(1,!0):c.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;var t=e.__unsignedDigit(0);return t>c.__kMaxLengthBits?-1:t}},{key:"__toPrimitive",value:function(t){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"default";if(e(t)!=="object"||t.constructor===c)return t;var r=t[Symbol.toPrimitive];if(r){var o=r(n);if(e(o)!=="object")return o;throw new TypeError("Cannot convert object to primitive value")}var a=t.valueOf;if(a){var i=a.call(t);if(e(i)!=="object")return i}var l=t.toString;if(l){var s=l.call(t);if(e(s)!=="object")return s}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return c.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(t){return e(t)==="object"&&t.constructor===c}},{key:"__truncateToNBits",value:function(e,t){for(var n=e+31>>>5,r=new c(n,t.sign),o=n-1,a=0;a<o;a++)r.__setDigit(a,t.__digit(a));var i=t.__digit(o);if((31&e)!=0){var l=32-(31&e);i=i<<l>>>l}return r.__setDigit(o,i),r.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,n){for(var r=Math.min,o=e+31>>>5,a=new c(o,n),i=0,l=o-1,s=0,u=r(l,t.length);i<u;i++){var d=t.__digit(i),m=0-(65535&d)-s;s=1&m>>>16;var p=0-(d>>>16)-s;s=1&p>>>16,a.__setDigit(i,65535&m|p<<16)}for(;i<l;i++)a.__setDigit(i,0|-s);var _,f=l<t.length?t.__digit(l):0,g=31&e;if(g===0){var h=0-(65535&f)-s;s=1&h>>>16;var y=0-(f>>>16)-s;_=65535&h|y<<16}else{var C=32-g;f=f<<C>>>C;var b=1<<32-C,v=(65535&b)-(65535&f)-s;s=1&v>>>16;var S=(b>>>16)-(f>>>16)-s;_=65535&v|S<<16,_&=b-1}return a.__setDigit(l,_),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var n=1;0<t;)1&t&&(n*=e),t>>>=1,e*=e;return n}}]),c})(c(Array));return p.__kMaxLength=33554432,p.__kMaxLengthBits=p.__kMaxLength<<5,p.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],p.__kBitsPerCharTableShift=5,p.__kBitsPerCharTableMultiplier=1<<p.__kBitsPerCharTableShift,p.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],p.__kBitConversionBuffer=new ArrayBuffer(8),p.__kBitConversionDouble=new Float64Array(p.__kBitConversionBuffer),p.__kBitConversionInts=new Int32Array(p.__kBitConversionBuffer),p})}),null);
__d("TCompactProtocolPolyfill",["StringToUtf8","ThriftTypes","Utf8ToString","jsbi"],(function(t,n,r,o,a,i,l){var e,s,u=Object.freeze({CT_STOP:0,CT_BOOLEAN_TRUE:1,CT_BOOLEAN_FALSE:2,CT_BYTE:3,CT_I16:4,CT_I32:5,CT_I64:6,CT_DOUBLE:7,CT_BINARY:8,CT_LIST:9,CT_SET:10,CT_MAP:11,CT_STRUCT:12,CT_FLOAT:13}),c=Object.freeze({NONE:-1,CT_BOOLEAN_TRUE:u.CT_BOOLEAN_TRUE,CT_BOOLEAN_FALSE:u.CT_BOOLEAN_FALSE}),d=[u.CT_STOP,0,u.CT_BOOLEAN_TRUE,u.CT_BYTE,u.CT_DOUBLE,0,u.CT_I16,0,u.CT_I32,0,u.CT_I64,u.CT_BINARY,u.CT_STRUCT,u.CT_MAP,u.CT_SET,u.CT_LIST,0,0,0,u.CT_FLOAT],m=Math.pow(2,7)-1,p=-1*Math.pow(2,7),_=Math.pow(2,15)-1,f=-1*Math.pow(2,15),g=Math.pow(2,31)-1,h=-1*Math.pow(2,31),y=Math.pow(2,32)-1,C=(s=r("jsbi")).BigInt("9223372036854775807"),b=s.BigInt("-9223372036854775808"),v=s.BigInt("18446744073709551615"),S=s.BigInt(63),R=s.BigInt(1),L=s.BigInt(0),E=s.BigInt(7),k=s.BigInt(70),I=s.BigInt(127),T=s.BigInt(128),D=Math.pow(2,4),x=(function(){function t(e){this.$4=null,this.$5=null,this.$1=e,this.$2=[],this.$3=0,this.$6=new DataView(new ArrayBuffer(1))}var n=t.prototype;return n.readStructBegin=function(){this.$2.push(this.$3),this.$3=0},n.readStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeStructBegin=function(t){return this.$2.push(this.$3),this.$3=0,0},n.writeStructEnd=function(){return this.$3=this.$2.pop(),0},n.writeFieldBegin=function(n){return n.ftype===(e||(e=r("ThriftTypes"))).BOOL?(this.$4={fid:n.fid,fname:n.fname,ftype:n.ftype},0):this.$7(n,c.NONE)},n.writeListBegin=function(t){return this.$8(t)},n.writeListEnd=function(){return 0},n.writeSetBegin=function(t){return this.$8(t)},n.writeSetEnd=function(){return 0},n.writeMapBegin=function(t){var e=0;if(t.size===0)e+=this.$1.writeByte(0);else if(e+=this.writeVarint32(t.size),t.ktype!=null&&t.vtype!=null)e+=this.$1.writeByte(this.$9(t.ktype)<<4|this.$9(t.vtype));else throw new Error("received invalid map info: "+JSON.stringify(t));return e},n.writeMapEnd=function(){return 0},n.$7=function(t,n){var e=0,r=n===c.NONE?this.$9(t.ftype):n;return t.fid>this.$3&&t.fid-this.$3<=D-1?e+=this.$1.writeByte(t.fid-this.$3<<4|r):(e+=this.$1.writeByte(r),e+=this.writeI16(t.fid)),this.$3=t.fid,e},n.$8=function(t){var e=0,n=this.$9(t.etype);return t.size<=D-2?e+=this.$1.writeByte(t.size<<4|n):(e+=this.$1.writeByte(240|n),e+=this.writeVarint32(t.size)),e},n.readFieldBegin=function(){var t=this.$1.readByte(),n=t&15;if(n===(e||(e=r("ThriftTypes"))).STOP)return{ftype:(e||(e=r("ThriftTypes"))).STOP,fid:0};var o=(t&240)>>>4,a;o===0?a=this.readI16():a=this.$3+o;var i=this.$10(n);return(n===u.CT_BOOLEAN_TRUE||n===u.CT_BOOLEAN_FALSE)&&(this.$5=n===u.CT_BOOLEAN_TRUE),this.$3=a,{ftype:i,fid:a}},n.readListBegin=function(){return this.$11()},n.readListEnd=function(){return 0},n.readSetBegin=function(){return this.$11()},n.readSetEnd=function(){return 0},n.readMapBegin=function(){var e=this.readVarint32();if(e>0){var t=this.$1.readByte(),n=this.$12(t>>4,"readMapBegin:key"),r=this.$12(t&15,"readMapBegin:value");return{ktype:this.$10(n),vtype:this.$10(r),size:e}}return{size:e}},n.readMapEnd=function(){return 0},n.$12=function(t,n){if(t<0||t>13)throw new Error(n+" read invalid compact type: "+t);return t},n.$11=function(){var e=this.$1.readByte(),t=this.$12(e&15,"_readListOrSetBegin"),n=this.$10(t),r=e>>4&15;return r===15&&(r=this.readVarint32()),{etype:n,size:r}},n.readFieldEnd=function(){return 0},n.readByte=function(){return this.$6.setUint8(0,this.$1.readByte()),this.$6.getInt8(0)},n.writeByte=function(t){if(t<p||t>m)throw new Error("byte to write is out of range: "+t);return this.$6.setInt8(0,t),this.$1.writeByte(this.$6.getUint8(0))},n.readFloat=function(){return this.$1.readFloatBE()},n.writeFloat=function(t){return this.$1.writeFloatBE(t)},n.readDouble=function(){return this.$1.readDoubleBE()},n.writeDouble=function(t){return this.$1.writeDoubleBE(t)},n.writeString=function(t){return this.writeBinary(o("StringToUtf8").StringToUtf8(t))},n.skip=function(n){switch(n){case(e||(e=r("ThriftTypes"))).STOP:return;case(e||(e=r("ThriftTypes"))).BOOL:this.readBool();break;case(e||(e=r("ThriftTypes"))).BYTE:this.readByte();break;case(e||(e=r("ThriftTypes"))).DOUBLE:this.readDouble();break;case(e||(e=r("ThriftTypes"))).I16:this.readI16();break;case(e||(e=r("ThriftTypes"))).I32:this.readI32();break;case(e||(e=r("ThriftTypes"))).I64:this.readI64();break;case(e||(e=r("ThriftTypes"))).STRING:this.readString();break;case(e||(e=r("ThriftTypes"))).STRUCT:{this.readStructBegin();for(var t;t=this.readFieldBegin(),t.ftype!==(e||(e=r("ThriftTypes"))).STOP;)this.skip(t.ftype);this.readStructEnd();break}case(e||(e=r("ThriftTypes"))).MAP:{var o=this.readMapBegin();if(o.size>0&&o.ktype!=null&&o.vtype!=null)for(var a=o.ktype,i=o.vtype,l=0;l<o.size;l++)this.skip(a),this.skip(i);break}case(e||(e=r("ThriftTypes"))).SET:case(e||(e=r("ThriftTypes"))).LIST:{for(var s=this.$11(),u=0;u<s.size;u++)this.skip(s.etype);break}case(e||(e=r("ThriftTypes"))).FLOAT:this.readFloat();break;default:throw new Error("encoutered unknow thrift type: "+n+" in skip")}},n.toByteArray=function(){return this.$1.toByteArray()},n.writeFieldEnd=function(){return 0},n.writeFieldStop=function(){return this.$1.writeByte((e||(e=r("ThriftTypes"))).STOP)},n.writeI16=function(t){if(t<f||t>_)throw new Error("trying to write i16 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI16=function(){var e=this.zigzagToI32(this.readVarint32());if(e<f||e>_)throw new Error("read invalid i16: "+e);return e},n.writeI32=function(t){if(t<h||t>g)throw new Error("i32 out of range: "+t);return this.writeVarint32(this.i32ToZigzag(t))},n.readI32=function(){return this.zigzagToI32(this.readVarint32())},n.writeI64=function(t){return this.writeVarint64(this.i64ToZigzag(t))},n.readI64=function(){return this.zigzagToI64(this.readVarint64())},n.readBool=function(){var e;return this.$5!=null?(e=this.$5,this.$5=null):e=this.$1.readByte()===u.CT_BOOLEAN_TRUE,e},n.writeBool=function(t){var e=0;return this.$4!=null?(e+=this.$7(this.$4,t?c.CT_BOOLEAN_TRUE:c.CT_BOOLEAN_FALSE),this.$4=null):e+=this.$1.writeByte(t?u.CT_BOOLEAN_TRUE:u.CT_BOOLEAN_FALSE),e},n.readBinary=function(){var e=this.readVarint32();return e===0?new Uint8Array(0):this.$1.readBytes(e)},n.writeBinary=function(t){var e=0;return e+=this.writeVarint32(t.length),e+=this.$1.write(t),e},n.i32ToZigzag=function(t){if(t<h||t>g)throw new Error("number: "+t+" is out of range of i32");return(t<<1^(t<0?4294967295:0))>>>0},n.zigzagToI32=function(t){if(t<0||t>y)throw new Error("number: "+t+" is out of range of uint32");return t>>>1^-1*(t&1)},n.i64ToZigzag=function(t){if(r("jsbi").greaterThan(t,C)||r("jsbi").lessThan(t,b))throw new Error("i64 out of range: "+t.toString());return r("jsbi").bitwiseXor(r("jsbi").signedRightShift(t,S),r("jsbi").leftShift(t,R))},n.zigzagToI64=function(t){if(r("jsbi").lessThan(t,0)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());return r("jsbi").equal(r("jsbi").bitwiseAnd(t,R),R)?r("jsbi").bitwiseNot(r("jsbi").signedRightShift(t,R)):r("jsbi").signedRightShift(t,R)},n.writeVarint32=function(t){if(t<0||t>y)throw new Error("writeVarint32 received out of range uint32: "+t);for(var e=t,n=0;;)if(e>>>7)this.$1.writeByte(e&127|128),n++,e>>>=7;else{this.$1.writeByte(e),n++;break}return n},n.readVarint32=function(){for(var e=0,t=0,n;;){if(n=this.$1.readByte(),e=(e|(n&127)<<t)>>>0,t+=7,(n&128)==0){if(t===35&&(n&240)!=0)throw new Error("result exceeded 32 bit limit");break}if(t>28)throw new Error("result exceeded 32 bit limit")}return e},n.writeVarint64=function(t){if(r("jsbi").lessThan(t,L)||r("jsbi").greaterThan(t,v))throw new Error("invalid uint64: "+t.toString());for(var e=t,n=0;;)if(r("jsbi").equal(r("jsbi").signedRightShift(e,E),L)){this.$1.writeByte(r("jsbi").toNumber(e)),n++;break}else{var o,a=(o=r("jsbi")).toNumber(o.bitwiseOr(o.bitwiseAnd(e,I),T));this.$1.writeByte(a),n++,e=o.signedRightShift(e,E)}return n},n.readVarint64=function(){for(var e=L,t=L,n;;){var o;if(n=(o=r("jsbi")).BigInt(this.$1.readByte()),e=o.bitwiseOr(e,o.leftShift(o.bitwiseAnd(n,I),t)),t=o.add(t,E),r("jsbi").equal(r("jsbi").bitwiseAnd(n,T),L)){if(r("jsbi").equal(t,k)&&r("jsbi").notEqual(n,R))throw new Error("result exceeded 64 bit limit");break}if(r("jsbi").greaterThan(t,S))throw new Error("result exceeded 64 bit limit")}return e},n.readString=function(){return o("Utf8ToString").Utf8ToString(this.readBinary())},n.getLastFieldId=function(){return this.$3},n.getLastField=function(){return this.$2},n.getBooleanFieldInfo=function(){return this.$4},n.getBooleanValue=function(){return this.$5},n.$9=function(t){return d[t]},n.$10=function(n){switch(n){case u.CT_STOP:return(e||(e=r("ThriftTypes"))).STOP;case u.CT_BOOLEAN_FALSE:case u.CT_BOOLEAN_TRUE:return(e||(e=r("ThriftTypes"))).BOOL;case u.CT_BYTE:return(e||(e=r("ThriftTypes"))).BYTE;case u.CT_I16:return(e||(e=r("ThriftTypes"))).I16;case u.CT_I32:return(e||(e=r("ThriftTypes"))).I32;case u.CT_I64:return(e||(e=r("ThriftTypes"))).I64;case u.CT_DOUBLE:return(e||(e=r("ThriftTypes"))).DOUBLE;case u.CT_FLOAT:return(e||(e=r("ThriftTypes"))).FLOAT;case u.CT_BINARY:return(e||(e=r("ThriftTypes"))).STRING;case u.CT_LIST:return(e||(e=r("ThriftTypes"))).LIST;case u.CT_SET:return(e||(e=r("ThriftTypes"))).SET;case u.CT_MAP:return(e||(e=r("ThriftTypes"))).MAP;case u.CT_STRUCT:return(e||(e=r("ThriftTypes"))).STRUCT;default:throw new Error("don't know what type")}},t})();l.default=x}),98);
__d("CompactSerializerPolyfill",["TCompactProtocolPolyfill","TNoOpWriteBuffer","TReadBuffer","TWriteBuffer","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=new(r("TReadBuffer"))(e),o=new(r("TCompactProtocolPolyfill"))(n);return t(o)}function s(t,n,o){try{return e(t,n)}catch(e){o!=null&&o(r("getErrorSafe")(e))}return null}function u(e,t,n){n===void 0&&(n=!1);var o;if(n){var a=new(r("TNoOpWriteBuffer")),i=new(r("TCompactProtocolPolyfill"))(a);t(e,i),o=new(r("TWriteBuffer"))(a.currentSize())}else o=new(r("TWriteBuffer"));var l=new(r("TCompactProtocolPolyfill"))(o);return t(e,l),l.toByteArray()}function c(e,t,n,o){n===void 0&&(n=!1);try{return u(e,t,n)}catch(e){o!=null&&o(r("getErrorSafe")(e))}return null}l.deserialize=e,l.deserializeNoThrow=s,l.serialize=u,l.serializeNoThrow=c}),98);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(t,n,r,o,a,i){var e="client_event",l="navigation",s=18e4,u="marauder",c="marauder_last_event_time",d="marauder_last_session_id",m={},p=[],_=!1,f=null,g=null,h=null,y=0,C,b,v=!1,S=null;function R(){P().set(c,L())}n("Banzai").subscribe(n("Banzai").SHUTDOWN,R);function L(){return C=C||P().get(c)||0,C}function E(){v||(b=P().get(d),v=!0);var e=Date.now();return(!b||e-s>L())&&(b=e.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),P().set(d,b)),b}function k(){var e;return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:(e=window.screen.devicePixelRatio)!=null?e:null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function I(){return{locale:navigator.language}}function T(e,t,n,r,o,a,i){var l=i!=null&&i!=0?i:Date.now();C=i!=null&&i!=0?Date.now():l;var s=t!=null&&t!=""?t:f;return{name:e,time:l/1e3,module:s,obj_type:r,obj_id:o,uuid:a,extra:n}}function D(e,t,n){return T("content",null,{flags:t},null,null,e,n)}function x(e){var t=window.__mrdr;if(t)for(var n in t){var r=t[n];if(r[3]!==0){if(delete t[n],n==="1")if(h!==null)n=h;else continue;e.push(D(n,1,r[1])),e.push(D(n,2,r[2])),e.push(D(n,3,r[3]))}}}function $(t,r){if(x(t),t.length!==0){_&&t.push(T("counters",null,m));var o=n("Banzai").BASIC;r==="vital"&&(o=n("Banzai").VITAL);var a=n("MarauderConfig").gk_enabled;if(y===0&&a&&(t.push(T("device_status",null,I())),o={delay:5e3}),r==="signal"&&(o={signal:!0}),a&&Math.random()<.01&&t.push(T("device_info",null,k())),h!==null)for(var i=0;i<t.length;i++){var l=t[i];l.uuid==null&&(l.uuid=h)}var s={app_ver:n("MarauderConfig").app_version,data:t,device_id:void 0,log_type:e,seq:y++,session_id:E()},c=P().get("device_id");c&&(s.device_id=c),m={},_=!1,n("Banzai").post(u,s,o)}}function P(){return S||(S=new(n("CacheStorage"))("localstorage","")),S}function N(e){m[e]||(m[e]=0),m[e]++,_=!0}function M(e,t,n,r,o,a,i,l){$([T(e,t,n,r,o,a,i)],l)}function w(e,t){f!==t&&(p.push(T(l,f,{dest_module:t,source_url:g,destination_url:e})),f=t,g=e)}function A(e,t){f!==t&&(h=null,w(e,t))}function F(e,t,n){M(t?"show_module":"hide_module",e,n)}function O(e){f=e}function B(){return f}function W(e){h===null&&(h=e,e!==null&&($(p),p=[]))}a.exports={count:N,log:M,navigateTo:A,navigateWithinSession:w,toggleModule:F,setUUID:W,setNavigationModule:O,getNavigationModule:B}}),null);/*FB_PKG_DELIM*/
__d("EBMinosWasm.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={},R={},L={},E={},k={},I={},T={},D={},x={},$={},P={},N={},M={},w={},A={},F={},O={},B={},W={},q={},U={},V={},H={},G={},z={},j={},K={},Q={},X={},Y={},J={},Z={},ee={},te={},ne={},re={},oe={},ae={},ie={},le={},se={};s.name="MinosMessageMetadata",s.internalSpec={mekId:[1,(e=o("WAProtoConst")).FLAGS.REQUIRED|e.TYPES.BYTES],timestamp:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],messageId:[3,e.FLAGS.REQUIRED|e.TYPES.STRING],threadId:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES]},u.name="MinosClientConfig",u.internalSpec={preferredMessageEncryptionVersion:[1,e.FLAGS.REQUIRED|e.TYPES.INT32],preferredMekEncryptionVersion:[2,e.FLAGS.REQUIRED|e.TYPES.INT32]},c.name="MinosEncryptAndSignMessageInput",c.internalSpec={transportSigningSk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mek:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],plaintext:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],metadata:[4,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,s],transportSigningPk:[5,e.TYPES.BYTES],conf:[6,e.TYPES.MESSAGE,u]},d.name="MinosEncryptAndSignMessageResult",d.internalSpec={ciphertext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[3,e.FLAGS.REQUIRED|e.TYPES.INT32]},m.name="MinosDecryptAndVerifyMessageInput",m.internalSpec={transportSigningPk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mek:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],encryptedMessageCiphertext:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],encryptedMessageSignature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],metadata:[5,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,s],messageEncryptionVersion:[6,e.TYPES.INT32],conf:[7,e.TYPES.MESSAGE,u]},p.name="MinosDecryptAndVerifyMessageResult",p.internalSpec={success:[1,e.TYPES.MESSAGE,_],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},_.name="MinosDecryptAndVerifyMessageSuccess",_.internalSpec={plaintext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},f.name="MekBundle",f.internalSpec={key:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mekId:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},g.name="GenerateMekInput",g.internalSpec={epochHeads:[1,e.FLAGS.REPEATED|e.TYPES.BYTES]},h.name="GenerateMekResult",h.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f]},y.name="GenerateMekRosterHashInput",y.internalSpec={epochHeads:[1,e.FLAGS.REPEATED|e.TYPES.BYTES]},C.name="GenerateMekRosterHashResult",C.internalSpec={rosterHash:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},b.name="EncryptMekForDistributionInput",b.internalSpec={senderEpochHead:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],toMailboxPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],fromKeypair:[3,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,v],mek:[4,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f],toEpochHead:[5,e.TYPES.BYTES],conf:[6,e.TYPES.MESSAGE,u]},v.name="EncryptMekForDistributionInput$MailboxAuthKP",v.internalSpec={sk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],pk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},S.name="EncryptMekForDistributionResult",S.internalSpec={ciphertext:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},R.name="DecryptMekForDistributionInput",R.internalSpec={toMailboxSk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],fromPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],mekId:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],senderEpochHead:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[5,e.FLAGS.REQUIRED|e.TYPES.BYTES],ciphertext:[6,e.FLAGS.REQUIRED|e.TYPES.BYTES],toEpochHead:[7,e.TYPES.BYTES],mekEncryptionVersion:[8,e.TYPES.INT32],conf:[9,e.TYPES.MESSAGE,u]},L.name="DecryptMekForDistributionResult",L.internalSpec={success:[1,e.TYPES.MESSAGE,E],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},E.name="DecryptMekForDistributionSuccess",E.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},k.name="EncryptMeksForDistributionFromTransportSenderInput",k.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,f],transportSigningKp:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,I],recipientMailboxEncryptionPks:[3,e.FLAGS.REPEATED|e.TYPES.BYTES],recipientEpochHeads:[4,e.FLAGS.REPEATED|e.TYPES.BYTES],conf:[5,e.TYPES.MESSAGE,u]},I.name="EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKP",I.internalSpec={sk:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],pk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},T.name="EncryptMeksForDistributionFromTransportSenderResult",T.internalSpec={encryptedMeks:[1,e.FLAGS.REPEATED|e.TYPES.BYTES],ephemeralEncryptionPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],signingPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64]},D.name="DecryptMekForDistributionFromTransportSenderInput",D.internalSpec={mekDistribution:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,x],mekId:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],rosterHash:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],recipientEncSk:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],version:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64],conf:[6,e.TYPES.MESSAGE,u]},x.name="DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipient",x.internalSpec={encryptedMek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],ephemeralEncryptionPk:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES],signingPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],signature:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],recipientEpochHead:[5,e.TYPES.BYTES]},$.name="DecryptMekForDistributionFromTransportSenderResult",$.internalSpec={success:[1,e.TYPES.MESSAGE,P],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["success","errorMessage"]}},P.name="DecryptMekForDistributionFromTransportSenderSuccess",P.internalSpec={mek:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},N.name="WrapTransportSigningPublicKeyInput",N.internalSpec={keyBytes:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},M.name="WrapTransportSigningPublicKeyResult",M.internalSpec={prefixedKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},w.name="WrapTransportSigningSecretKeyInput",w.internalSpec={keyBytes:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},A.name="WrapTransportSigningSecretKeyResult",A.internalSpec={prefixedKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},F.name="DeriveMailboxSigningKeypairInput",F.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},O.name="DeriveMailboxSigningKeypairResult",O.internalSpec={mailboxSigningPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxSigningPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},B.name="DeriveMailboxEncryptionKeypairInput",B.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},W.name="DeriveMailboxEncryptionKeypairResult",W.internalSpec={mailboxEncryptionPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxEncryptionPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},q.name="DeriveMailboxAuthKeypairInput",q.internalSpec={exportRootKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64]},U.name="DeriveMailboxAuthKeypairResult",U.internalSpec={mailboxAuthPublicKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxAuthPrivateKey:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},V.name="DeriveAttachmentAccessTokenSecretInput",V.internalSpec={mediaKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},H.name="DeriveAttachmentAccessTokenSecretResult",H.internalSpec={attachmentAccessTokenSecret:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},G.name="DeriveAttachmentPrimaryKeySecretInput",G.internalSpec={mediaKey:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},z.name="DeriveAttachmentPrimaryKeySecretResult",z.internalSpec={attachmentPrimaryKeySecret:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},j.name="EpochPublicData",j.internalSpec={epochNumber:[1,e.FLAGS.REQUIRED|e.TYPES.UINT64],userFbid:[2,e.FLAGS.REQUIRED|e.TYPES.STRING],mailboxSigningPk:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxEncryptionPk:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],mailboxAuthPk:[5,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousEpochHead:[6,e.TYPES.BYTES]},K.name="EpochSignatures",K.internalSpec={selfSignature:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES],prevSignature:[2,e.TYPES.BYTES]},Q.name="MinosSignedEpoch",Q.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signatures:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,K],epochHead:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},X.name="MinosOpenInitialEpochInput",X.internalSpec={userFbid:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],exportRootKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES]},Y.name="MinosOpenInitialEpochResult",Y.internalSpec={minosSignedEpoch:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,Q]},J.name="MinosOpenEpochInput",J.internalSpec={userFbid:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],epochNumber:[2,e.FLAGS.REQUIRED|e.TYPES.UINT64],exportRootKey:[3,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousExportRootKey:[4,e.FLAGS.REQUIRED|e.TYPES.BYTES],previousEpochNumber:[5,e.FLAGS.REQUIRED|e.TYPES.UINT64],previousEpochHead:[6,e.FLAGS.REQUIRED|e.TYPES.BYTES]},Z.name="MinosOpenEpochResult",Z.internalSpec={minosSignedEpoch:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,Q]},ee.name="MinosValidateEpochInput",ee.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],previousEpochPublicData:[2,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signatures:[3,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,K]},te.name="MinosValidateEpochResult",te.internalSpec={valid:[1,e.TYPES.BOOL],errorMessage:[2,e.TYPES.STRING],__oneofs__:{result:["valid","errorMessage"]}},ne.name="MinosVerifySingleEpochInput",ne.internalSpec={epochPublicData:[1,e.FLAGS.REQUIRED|e.TYPES.MESSAGE,j],signature:[2,e.FLAGS.REQUIRED|e.TYPES.BYTES]},re.name="MinosVerifySingleEpochResult",re.internalSpec={valid:[1,e.FLAGS.REQUIRED|e.TYPES.BOOL]},oe.name="MinosThreadIdFromOneToOneThreadInput",oe.internalSpec={actThreadId:[1,e.FLAGS.REQUIRED|e.TYPES.STRING],selfFbid:[2,e.FLAGS.REQUIRED|e.TYPES.STRING]},ae.name="MinosThreadIdFromOneToOneThreadResult",ae.internalSpec={threadId:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},ie.name="MinosThreadIdFromActThreadIdInput",ie.internalSpec={actThreadId:[1,e.FLAGS.REQUIRED|e.TYPES.STRING]},le.name="MinosThreadIdFromActThreadIdResult",le.internalSpec={threadId:[1,e.FLAGS.REQUIRED|e.TYPES.BYTES]},se.name="MinosCommand",se.internalSpec={encryptAndSignMessage:[1,e.TYPES.MESSAGE,c],decryptAndVerifyMessage:[2,e.TYPES.MESSAGE,m],generateMek:[3,e.TYPES.MESSAGE,g],generateMekRosterHash:[4,e.TYPES.MESSAGE,y],encryptMekForDistribution:[5,e.TYPES.MESSAGE,b],decryptMekForDistribution:[6,e.TYPES.MESSAGE,R],encryptMeksForDistributionFromTransportSender:[7,e.TYPES.MESSAGE,k],decryptMekForDistributionFromTransportSender:[8,e.TYPES.MESSAGE,D],wrapTransportSigningPublicKey:[9,e.TYPES.MESSAGE,N],wrapTransportSigningSecretKey:[10,e.TYPES.MESSAGE,w],deriveMailboxSigningKeypair:[11,e.TYPES.MESSAGE,F],deriveMailboxEncryptionKeypair:[12,e.TYPES.MESSAGE,B],deriveMailboxAuthKeypair:[13,e.TYPES.MESSAGE,q],deriveAttachmentAccessTokenSecret:[14,e.TYPES.MESSAGE,V],deriveAttachmentPrimaryKeySecret:[15,e.TYPES.MESSAGE,G],minosOpenInitialEpoch:[16,e.TYPES.MESSAGE,X],minosOpenEpoch:[17,e.TYPES.MESSAGE,J],minosValidateEpoch:[18,e.TYPES.MESSAGE,ee],minosVerifySingleEpoch:[19,e.TYPES.MESSAGE,ne],minosThreadIdFromOneToOneThread:[20,e.TYPES.MESSAGE,oe],minosThreadIdFromActThreadId:[21,e.TYPES.MESSAGE,ie],__oneofs__:{commandInput:["encryptAndSignMessage","decryptAndVerifyMessage","generateMek","generateMekRosterHash","encryptMekForDistribution","decryptMekForDistribution","encryptMeksForDistributionFromTransportSender","decryptMekForDistributionFromTransportSender","wrapTransportSigningPublicKey","wrapTransportSigningSecretKey","deriveMailboxSigningKeypair","deriveMailboxEncryptionKeypair","deriveMailboxAuthKeypair","deriveAttachmentAccessTokenSecret","deriveAttachmentPrimaryKeySecret","minosOpenInitialEpoch","minosOpenEpoch","minosValidateEpoch","minosVerifySingleEpoch","minosThreadIdFromOneToOneThread","minosThreadIdFromActThreadId"]}},l.MinosMessageMetadataSpec=s,l.MinosClientConfigSpec=u,l.MinosEncryptAndSignMessageInputSpec=c,l.MinosEncryptAndSignMessageResultSpec=d,l.MinosDecryptAndVerifyMessageInputSpec=m,l.MinosDecryptAndVerifyMessageResultSpec=p,l.MinosDecryptAndVerifyMessageSuccessSpec=_,l.MekBundleSpec=f,l.GenerateMekInputSpec=g,l.GenerateMekResultSpec=h,l.GenerateMekRosterHashInputSpec=y,l.GenerateMekRosterHashResultSpec=C,l.EncryptMekForDistributionInputSpec=b,l.EncryptMekForDistributionInput$MailboxAuthKPSpec=v,l.EncryptMekForDistributionResultSpec=S,l.DecryptMekForDistributionInputSpec=R,l.DecryptMekForDistributionResultSpec=L,l.DecryptMekForDistributionSuccessSpec=E,l.EncryptMeksForDistributionFromTransportSenderInputSpec=k,l.EncryptMeksForDistributionFromTransportSenderInput$TransportSigningKPSpec=I,l.EncryptMeksForDistributionFromTransportSenderResultSpec=T,l.DecryptMekForDistributionFromTransportSenderInputSpec=D,l.DecryptMekForDistributionFromTransportSenderInput$TransportSenderMEKDistributionSingleRecipientSpec=x,l.DecryptMekForDistributionFromTransportSenderResultSpec=$,l.DecryptMekForDistributionFromTransportSenderSuccessSpec=P,l.WrapTransportSigningPublicKeyInputSpec=N,l.WrapTransportSigningPublicKeyResultSpec=M,l.WrapTransportSigningSecretKeyInputSpec=w,l.WrapTransportSigningSecretKeyResultSpec=A,l.DeriveMailboxSigningKeypairInputSpec=F,l.DeriveMailboxSigningKeypairResultSpec=O,l.DeriveMailboxEncryptionKeypairInputSpec=B,l.DeriveMailboxEncryptionKeypairResultSpec=W,l.DeriveMailboxAuthKeypairInputSpec=q,l.DeriveMailboxAuthKeypairResultSpec=U,l.DeriveAttachmentAccessTokenSecretInputSpec=V,l.DeriveAttachmentAccessTokenSecretResultSpec=H,l.DeriveAttachmentPrimaryKeySecretInputSpec=G,l.DeriveAttachmentPrimaryKeySecretResultSpec=z,l.EpochPublicDataSpec=j,l.EpochSignaturesSpec=K,l.MinosSignedEpochSpec=Q,l.MinosOpenInitialEpochInputSpec=X,l.MinosOpenInitialEpochResultSpec=Y,l.MinosOpenEpochInputSpec=J,l.MinosOpenEpochResultSpec=Z,l.MinosValidateEpochInputSpec=ee,l.MinosValidateEpochResultSpec=te,l.MinosVerifySingleEpochInputSpec=ne,l.MinosVerifySingleEpochResultSpec=re,l.MinosThreadIdFromOneToOneThreadInputSpec=oe,l.MinosThreadIdFromOneToOneThreadResultSpec=ae,l.MinosThreadIdFromActThreadIdInputSpec=ie,l.MinosThreadIdFromActThreadIdResultSpec=le,l.MinosCommandSpec=se}),98);
__d("EBGetMinosWasm",["WAWasmModuleCache","bx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("31853")),s=function(){return o("WAWasmModuleCache").loadWasmModule(e)};l.getMinosWasm=s}),98);
__d("WASIContext",[],(function(t,n,r,o,a,i){"use strict";var e=function(t){var e,n,r,o,a,i;this.fs=(e=t==null?void 0:t.fs)!=null?e:{},this.args=(n=t==null?void 0:t.args)!=null?n:[],this.env=(r=t==null?void 0:t.env)!=null?r:{},this.stdin=(o=t==null?void 0:t.stdin)!=null?o:function(){return null},this.stdout=(a=t==null?void 0:t.stdout)!=null?a:function(){},this.stderr=(i=t==null?void 0:t.stderr)!=null?i:function(){},this.debug=t==null?void 0:t.debug,this.isTTY=!!(t!=null&&t.isTTY)};i.WASIContext=e}),66);
__d("WASISnapshotPreview1",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=Object.freeze({SUCCESS:0,E2BIG:1,EACCESS:2,EADDRINUSE:3,EADDRNOTAVAIL:4,EAFNOSUPPORT:5,EAGAIN:6,EALREADY:7,EBADF:8,EBADMSG:9,EBUSY:10,ECANCELED:11,ECHILD:12,ECONNABORTED:13,ECONNREFUSED:14,ECONNRESET:15,EDEADLK:16,EDESTADDRREQ:17,EDOM:18,EDQUOT:19,EEXIST:20,EFAULT:21,EFBIG:22,EHOSTUNREACH:23,EIDRM:24,EILSEQ:25,EINPROGRESS:26,EINTR:27,EINVAL:28,EIO:29,EISCONN:30,EISDIR:31,ELOOP:32,EMFILE:33,EMLINK:34,EMSGSIZE:35,EMULTIHOP:36,ENAMETOOLONG:37,ENETDOWN:38,ENETRESET:39,ENETUNREACH:40,ENFILE:41,ENOBUFS:42,ENODEV:43,ENOENT:44,ENOEXEC:45,ENOLCK:46,ENOLINK:47,ENOMEM:48,ENOMSG:49,ENOPROTOOPT:50,ENOSPC:51,ENOSYS:52,ENOTCONN:53,ENOTDIR:54,ENOTEMPTY:55,ENOTRECOVERABLE:56,ENOTSOCK:57,ENOTSUP:58,ENOTTY:59,ENXIO:60,EOVERFLOW:61,EOWNERDEAD:62,EPERM:63,EPIPE:64,EPROTO:65,EPROTONOSUPPORT:66,EPROTOTYPE:67,ERANGE:68,EROFS:69,ESPIPE:70,ESRCH:71,ESTALE:72,ETIMEDOUT:73,ETXTBSY:74,EXDEV:75,ENOTCAPABLE:76}),s=(e=n("$InternalEnum"))({REALTIME:0,MONOTONIC:1,PROCESS_CPUTIME_ID:2,THREAD_CPUTIME_ID:3}),u=e({SET:0,CUR:1,END:2}),c=e({UNKNOWN:0,BLOCK_DEVICE:1,CHARACTER_DEVICE:2,DIRECTORY:3,REGULAR_FILE:4,SOCKET_DGRAM:5,SOCKET_STREAM:6,SYMBOLIC_LINK:7}),d=e({DIR:0}),m=e({CLOCK:0,FD_READ:1,FD_WRITE:2}),p={SYMLINK_FOLLOW:1},_={CREAT:1,DIRECTORY:2,EXCL:4,TRUNC:8},f={APPEND:1,DSYNC:2,NONBLOCK:4,RSYNC:8,SYNC:16},g={FD_DATASYNC:BigInt(1)<<BigInt(0),FD_READ:BigInt(1)<<BigInt(1),FD_SEEK:BigInt(1)<<BigInt(2),FD_FDSTAT_SET_FLAGS:BigInt(1)<<BigInt(3),FD_SYNC:BigInt(1)<<BigInt(4),FD_TELL:BigInt(1)<<BigInt(5),FD_WRITE:BigInt(1)<<BigInt(6),FD_ADVISE:BigInt(1)<<BigInt(7),FD_ALLOCATE:BigInt(1)<<BigInt(8),PATH_CREATE_DIRECTORY:BigInt(1)<<BigInt(9),PATH_CREATE_FILE:BigInt(1)<<BigInt(10),PATH_LINK_SOURCE:BigInt(1)<<BigInt(11),PATH_LINK_TARGET:BigInt(1)<<BigInt(12),PATH_OPEN:BigInt(1)<<BigInt(13),FD_READDIR:BigInt(1)<<BigInt(14),PATH_READLINK:BigInt(1)<<BigInt(15),PATH_RENAME_SOURCE:BigInt(1)<<BigInt(16),PATH_RENAME_TARGET:BigInt(1)<<BigInt(17),PATH_FILESTAT_GET:BigInt(1)<<BigInt(18),PATH_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(19),PATH_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(20),FD_FILESTAT_GET:BigInt(1)<<BigInt(21),FD_FILESTAT_SET_SIZE:BigInt(1)<<BigInt(22),FD_FILESTAT_SET_TIMES:BigInt(1)<<BigInt(23),PATH_SYMLINK:BigInt(1)<<BigInt(24),PATH_REMOVE_DIRECTORY:BigInt(1)<<BigInt(25),PATH_UNLINK_FILE:BigInt(1)<<BigInt(26),POLL_FD_READWRITE:BigInt(1)<<BigInt(27),SOCK_SHUTDOWN:BigInt(1)<<BigInt(28),SOCK_ACCEPT:BigInt(1)<<BigInt(29)},h={ATIM:1,ATIM_NOW:2,MTIM:4,MTIM_NOW:8},y={SUBSCRIPTION_CLOCK_ABSTIME:1},C={FD_READWRITE_HANGUP:1},b=64,v=48,S=32;i.RESULT=l,i.Clock=s,i.Whence=u,i.FileType=c,i.PreopenType=d,i.EventType=m,i.LookupFlags=p,i.OpenFlags=_,i.FileDescriptorFlags=f,i.RightsFlags=g,i.FileStatTimestampFlags=h,i.SubscriptionClockFlags=y,i.EventReadWriteFlags=C,i.FILESTAT_SIZE=b,i.SUBSCRIPTION_SIZE=v,i.EVENT_SIZE=S}),66);
__d("WASIDrive",["WASISnapshotPreview1","WATextEncoding"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.nextFD=10,this.openMap=new Map,this.fs=babelHelpers.extends({},e),this.openMap.set(3,new c(this.fs,"/"))}var t=e.prototype;return t.$1=function(t,n,r){var e=new s(t,r);n&&(e.buffer=new Uint8Array(new ArrayBuffer(1024),0,0));var a=this.nextFD;return this.openMap.set(a,e),this.nextFD++,[o("WASISnapshotPreview1").RESULT.SUCCESS,a]},t.$2=function(t,n){var e=new c(t,n),r=this.nextFD;return this.openMap.set(r,e),this.nextFD++,[o("WASISnapshotPreview1").RESULT.SUCCESS,r]},t.$3=function(t,n){return n==="."?!0:t.containsDirectory(n)},t.open=function(t,n,r,a){var e,i=!!(r&(e=o("WASISnapshotPreview1")).OpenFlags.CREAT),l=!!(r&e.OpenFlags.DIRECTORY),s=!!(r&e.OpenFlags.EXCL),u=!!(r&e.OpenFlags.TRUNC),d=this.openMap.get(t);if(!(d instanceof c))return[o("WASISnapshotPreview1").RESULT.EBADF];if(d.containsFile(n)){if(l)return[o("WASISnapshotPreview1").RESULT.ENOTDIR];if(s)return[o("WASISnapshotPreview1").RESULT.EEXIST];var m=d.get(n);return this.$1(m,u,a)}else if(this.$3(d,n)){if(n===".")return this.$2(this.fs,"/");var p="/"+n+"/",_=Object.entries(this.fs).filter(function(e){var t=e[0];return t.startsWith(p)});return this.$2(Object.fromEntries(_),p)}else{if(i){var f=d.fullPath(n);return this.fs[f]={path:f,mode:"binary",content:new Uint8Array(0),timestamps:{access:new Date,modification:new Date,change:new Date}},this.$1(this.fs[f],u,a)}return[o("WASISnapshotPreview1").RESULT.ENOTCAPABLE]}},t.close=function(t){if(!this.openMap.has(t))return o("WASISnapshotPreview1").RESULT.EBADF;var e=this.openMap.get(t);return e instanceof s&&e.sync(),this.openMap.delete(t),o("WASISnapshotPreview1").RESULT.SUCCESS},t.read=function(t,n){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.read(n)]},t.pread=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.pread(n,r)]},t.write=function(t,n){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.write(n),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.pwrite=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.pwrite(n,r),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.sync=function(t){var e=this.openMap.get(t);return!e||e instanceof c?o("WASISnapshotPreview1").RESULT.EBADF:(e.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS)},t.seek=function(t,n,r){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.seek(n,r)]},t.tell=function(t){var e=this.openMap.get(t);return!e||e instanceof c?[o("WASISnapshotPreview1").RESULT.EBADF]:[o("WASISnapshotPreview1").RESULT.SUCCESS,e.tell()]},t.renumber=function(t,n){if(!this.exists(t)||!this.exists(n))return o("WASISnapshotPreview1").RESULT.EBADF;if(t===n)return o("WASISnapshotPreview1").RESULT.SUCCESS;this.close(n);var e=this.openMap.get(t);return this.openMap.set(n,e),o("WASISnapshotPreview1").RESULT.SUCCESS},t.unlink=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(!e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOENT;for(var r of Object.keys(this.fs))(r===e.fullPath(n)||r.startsWith(e.fullPath(n)+"/"))&&delete this.fs[r];return o("WASISnapshotPreview1").RESULT.SUCCESS},t.rename=function(t,n,r,a){var e=this.openMap.get(t),i=this.openMap.get(r);if(!(e instanceof c)||!(i instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(!e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOENT;if(i.contains(a))return o("WASISnapshotPreview1").RESULT.EEXIST;var l=e.fullPath(n),s=i.fullPath(a);for(var u of Object.keys(this.fs))if(u.startsWith(l)){var d=u.replace(l,s);this.fs[d]=this.fs[u],this.fs[d].path=d,delete this.fs[u]}return o("WASISnapshotPreview1").RESULT.SUCCESS},t.list=function(t){var e=this.openMap.get(t);return e instanceof c?[o("WASISnapshotPreview1").RESULT.SUCCESS,e.list()]:[o("WASISnapshotPreview1").RESULT.EBADF]},t.stat=function(t){var e=this.openMap.get(t);return e instanceof s?[o("WASISnapshotPreview1").RESULT.SUCCESS,e.stat()]:[o("WASISnapshotPreview1").RESULT.EBADF]},t.pathStat=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return[o("WASISnapshotPreview1").RESULT.EBADF];if(e.containsFile(n)){var r=e.fullPath(n),a=new s(this.fs[r],0).stat();return[o("WASISnapshotPreview1").RESULT.SUCCESS,a]}else if(this.$3(e,n)){if(n===".")return[o("WASISnapshotPreview1").RESULT.SUCCESS,new c(this.fs,"/").stat()];var i="/"+n+"/",l=Object.entries(this.fs).filter(function(e){var t=e[0];return t.startsWith(i)}),u=new c(Object.fromEntries(l),i).stat();return[o("WASISnapshotPreview1").RESULT.SUCCESS,u]}else return[o("WASISnapshotPreview1").RESULT.ENOTCAPABLE]},t.setFlags=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setFlags(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setSize=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setSize(Number(n)),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setAccessTime=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setAccessTime(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.setModificationTime=function(t,n){var e=this.openMap.get(t);return e instanceof s?(e.setModificationTime(n),o("WASISnapshotPreview1").RESULT.SUCCESS):o("WASISnapshotPreview1").RESULT.EBADF},t.pathSetAccessTime=function(t,n,r){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;var a=e.get(n);if(a==null)return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var i=new s(a,0);return i.setAccessTime(r),i.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS},t.pathSetModificationTime=function(t,n,r){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;var a=e.get(n);if(a==null)return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var i=new s(a,0);return i.setModificationTime(r),i.sync(),o("WASISnapshotPreview1").RESULT.SUCCESS},t.pathCreateDir=function(t,n){var e=this.openMap.get(t);if(!(e instanceof c))return o("WASISnapshotPreview1").RESULT.EBADF;if(e.contains(n))return o("WASISnapshotPreview1").RESULT.ENOTCAPABLE;var r=e.fullPath(n)+"/.runno";return this.fs[r]={path:r,timestamps:{access:new Date,modification:new Date,change:new Date},mode:"string",content:""},o("WASISnapshotPreview1").RESULT.SUCCESS},t.exists=function(t){return this.openMap.has(t)},t.fileType=function(t){var e=this.openMap.get(t);return e?e instanceof s?o("WASISnapshotPreview1").FileType.REGULAR_FILE:o("WASISnapshotPreview1").FileType.DIRECTORY:o("WASISnapshotPreview1").FileType.UNKNOWN},t.fileFdflags=function(t){var e=this.openMap.get(t);return e instanceof s?e.fdflags:0},e})(),s=(function(){function e(e,t){if(this.$1=BigInt(0),this.isDirty=!1,this.file=e,this.file.mode==="string"){var n=this.file.content,r=o("WATextEncoding").newTextEncoder();this.buffer=r.encode(n)}else this.buffer=this.file.content;this.fdflags=t,this.flagAppend=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.APPEND),this.flagDSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.DSYNC),this.flagNonBlock=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.NONBLOCK),this.flagRSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.RSYNC),this.flagSync=!!(t&o("WASISnapshotPreview1").FileDescriptorFlags.SYNC)}var t=e.prototype;return t.getOffset=function(){return Number(this.$1)},t.read=function(t){var e=this.buffer.subarray(this.getOffset(),this.getOffset()+t);return this.$1+=BigInt(e.length),e},t.pread=function(t,n){return this.buffer.subarray(n,n+t)},t.write=function(t){if(this.isDirty=!0,this.flagAppend){var e=this.buffer.length;this.$2(e+t.byteLength),this.buffer.set(t,e)}else{var n=Math.max(this.getOffset()+t.byteLength,this.buffer.byteLength);this.$2(n),this.buffer.set(t,this.getOffset()),this.$1+=BigInt(t.byteLength)}(this.flagDSync||this.flagSync)&&this.sync()},t.pwrite=function(t,n){if(this.isDirty=!0,this.flagAppend){var e=this.buffer.length;this.$2(e+t.byteLength),this.buffer.set(t,e)}else{var r=Math.max(n+t.byteLength,this.buffer.byteLength);this.$2(r),this.buffer.set(t,n)}(this.flagDSync||this.flagSync)&&this.sync()},t.sync=function(){if(this.isDirty){if(this.isDirty=!1,this.file.mode==="binary"){this.file.content=new Uint8Array(this.buffer);return}var e=o("WATextEncoding").newTextDecoder();this.file.content=e.decode(this.buffer)}},t.seek=function(t,n){switch(n){case o("WASISnapshotPreview1").Whence.SET:this.$1=t;break;case o("WASISnapshotPreview1").Whence.CUR:this.$1+=t;break;case o("WASISnapshotPreview1").Whence.END:this.$1=BigInt(this.buffer.length)+t;break}return this.$1},t.tell=function(){return this.$1},t.stat=function(){return{path:this.file.path,timestamps:this.file.timestamps,type:o("WASISnapshotPreview1").FileType.REGULAR_FILE,byteLength:this.buffer.length}},t.setFlags=function(t){this.fdflags=t},t.setSize=function(t){this.$2(t)},t.setAccessTime=function(t){this.file.timestamps.access=t},t.setModificationTime=function(t){this.file.timestamps.modification=t},t.$2=function(t){if(t<=this.buffer.buffer.byteLength){this.buffer=new Uint8Array(this.buffer.buffer,0,t);return}var e;this.buffer.buffer.byteLength===0?e=new ArrayBuffer(t<1024?1024:t*2):t>this.buffer.buffer.byteLength*2?e=new ArrayBuffer(t*2):e=new ArrayBuffer(this.buffer.buffer.byteLength*2);var n=new Uint8Array(e,0,t);n.set(this.buffer),this.buffer=n},e})();function u(e,t){var n=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp("^"+n);return e.replace(r,"")}var c=(function(){function e(e,t){this.dir=e,this.prefix=t}var t=e.prototype;return t.containsFile=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n===t)return!0}return!1},t.containsDirectory=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n.startsWith(t+"/"))return!0}return!1},t.contains=function(t){for(var e of Object.keys(this.dir)){var n=u(e,this.prefix);if(n===t||n.startsWith(t+"/"))return!0}return!1},t.get=function(t){return this.dir[this.fullPath(t)]},t.fullPath=function(t){return""+this.prefix+t},t.list=function(){var e=[],t=new Set;for(var n of Object.keys(this.dir)){var r=u(n,this.prefix);if(r.includes("/")){var a=r.split("/")[0];if(t.has(a))continue;t.add(a),e.push({name:a,type:o("WASISnapshotPreview1").FileType.DIRECTORY})}else e.push({name:r,type:o("WASISnapshotPreview1").FileType.REGULAR_FILE})}return e},t.stat=function(){return{path:this.prefix,timestamps:{access:new Date,modification:new Date,change:new Date},type:o("WASISnapshotPreview1").FileType.DIRECTORY,byteLength:0}},e})();l.WASIDrive=e}),98);
__d("WASMMemoryLogger",["FBLogger","QPLFlow","WAHashStringToNumber","justknobx","qpl","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e=r("justknobx")._("168"),s=(function(){function e(){var e=this;this.$1=new FinalizationRegistry(function(t){e.$3-=t.numBytes;var n=t.wasmModule;if(n!=null){var r=e.$2.get(n);if(r!=null){var o=r-t.numBytes;o<=0?e.$2.delete(n):e.$2.set(n,o)}}}),this.$3=0,this.$2=new Map}var t=e.prototype;return t.addWasmInstanceToSet=function(t,n){var e=t.buffer.byteLength;if(this.$1.register(t,{numBytes:e,wasmModule:n}),this.$3+=e,n!=null){var r,o=(r=this.$2.get(n))!=null?r:0;this.$2.set(n,o+e)}},t.getCurrentWasmMemoryUsage=function(){return this.$3},t.getWasmMemoryUsagePerModuleAnnotationsObject=function(){var e={};return this.$2.forEach(function(t,n){e["wasm_memory_usage_"+n]=t}),e},e})(),u;function c(){if(u==null){if(typeof FinalizationRegistry!="function"){r("FBLogger")("wmi").warn("unable to run wasm memory logger - finalization registry not supported in browser");return}u=new s,window.setInterval(function(){var e=r("qpl")._(994782764,"418"),t=o("WAHashStringToNumber").hashStringToNumber(r("uuidv4")()),n=u.getWasmMemoryUsagePerModuleAnnotationsObject(),a=o("QPLFlow").startQPLFlow(e,{annotations:{int:babelHelpers.extends({},n,{wasm_total_memory_usage:u.getCurrentWasmMemoryUsage()})},instanceKey:t});a.endSuccess()},e)}return u}l.getOrInitWasmMemoryLogger=c}),98);
__d("WASI",["WACryptoDependencies","WASIContext","WASIDrive","WASISnapshotPreview1","WASMMemoryLogger","WATextEncoding","err","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t,n=new(o("WASIContext")).WASIContext(e),a=new(o("WASIDrive")).WASIDrive(n.fs);function i(){return Object.entries(n.env).map(function(e){var t=e[0],n=e[1];return t+"="+n})}var l={args_get:function(r,a){var e=r,i=a,l=new DataView(t.buffer);for(var s of n.args){l.setUint32(e,i,!0),e+=4;var u=o("WATextEncoding").newTextEncoder().encode(s+"\0"),c=new Uint8Array(t.buffer,i,u.byteLength);c.set(u),i+=u.byteLength}return o("WASISnapshotPreview1").RESULT.SUCCESS},args_sizes_get:function(r,a){var e=n.args,i=e.reduce(function(e,t){return e+o("WATextEncoding").newTextEncoder().encode(t+"\0").byteLength},0),l=new DataView(t.buffer);return l.setUint32(r,e.length,!0),l.setUint32(a,i,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},clock_res_get:function(){throw r("err")("clock_res_get is not implemented")},clock_time_get:function(n,r,a){var e=o("WASISnapshotPreview1").Clock.cast(n);if(e==null)return o("WASISnapshotPreview1").RESULT.EINVAL;switch(e){case o("WASISnapshotPreview1").Clock.REALTIME:case o("WASISnapshotPreview1").Clock.MONOTONIC:case o("WASISnapshotPreview1").Clock.PROCESS_CPUTIME_ID:case o("WASISnapshotPreview1").Clock.THREAD_CPUTIME_ID:{var i=new DataView(t.buffer);return i.setBigUint64(a,f(new Date),!0),o("WASISnapshotPreview1").RESULT.SUCCESS}}},environ_get:function(n,r){var e=n,a=r,l=new DataView(t.buffer);for(var s of i()){l.setUint32(e,a,!0),e+=4;var u=o("WATextEncoding").newTextEncoder().encode(s+"\0"),c=new Uint8Array(t.buffer,a,u.byteLength);c.set(u),a+=u.byteLength}return o("WASISnapshotPreview1").RESULT.SUCCESS},environ_sizes_get:function(n,r){var e=i().reduce(function(e,t){return e+o("WATextEncoding").newTextEncoder().encode(t+"\0").byteLength},0),a=new DataView(t.buffer);return a.setUint32(n,i().length,!0),a.setUint32(r,e,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_advise:function(){throw r("err")("fd_advise is not implemented")},fd_allocate:function(){throw r("err")("fd_allocate is not implemented")},fd_close:function(t){return a.close(t)},fd_datasync:function(){throw r("err")("fd_datasync is not implemented")},fd_fdstat_get:function(r,i){if(r<3){var e;if(n.isTTY){var l=c^o("WASISnapshotPreview1").RightsFlags.FD_SEEK^o("WASISnapshotPreview1").RightsFlags.FD_TELL;e=p(o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0,l)}else e=p(o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE,0);var s=new Uint8Array(t.buffer,i,e.byteLength);return s.set(e),o("WASISnapshotPreview1").RESULT.SUCCESS}if(!a.exists(r))return o("WASISnapshotPreview1").RESULT.EBADF;var u=a.fileType(r),d=a.fileFdflags(r),m=p(u,d),_=new Uint8Array(t.buffer,i,m.byteLength);return _.set(m),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_fdstat_set_flags:function(t,n){return a.setFlags(t,n)},fd_fdstat_set_rights:function(){return o("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_get:function(n,r){if(n<3){var e;switch(n){case 0:e="/dev/stdin";break;case 1:e="/dev/stdout";break;case 2:e="/dev/stderr";break;default:e="/dev/undefined";break}var i=m({path:e,byteLength:0,timestamps:{access:new Date,modification:new Date,change:new Date},type:o("WASISnapshotPreview1").FileType.CHARACTER_DEVICE}),l=new Uint8Array(t.buffer,r,i.byteLength);return l.set(i),o("WASISnapshotPreview1").RESULT.SUCCESS}var s=a.stat(n);if(s.length===1)return s[0];var u=s[1],c=m(u),d=new Uint8Array(t.buffer,r,c.byteLength);return d.set(c),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_filestat_set_size:function(){throw r("err")("fd_filestat_set_size is not implemented")},fd_filestat_set_times:function(){throw r("err")("fd_filestat_set_times is not implemented")},fd_pread:function(){throw r("err")("fd_pread is not implemented")},fd_prestat_dir_name:function(n,r,a){if(n!==3)return o("WASISnapshotPreview1").RESULT.EBADF;var e=o("WATextEncoding").newTextEncoder().encode("/"),i=new Uint8Array(t.buffer,r,a);return i.set(e.subarray(0,a)),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_prestat_get:function(n,r){if(n!==3)return o("WASISnapshotPreview1").RESULT.EBADF;var e=o("WATextEncoding").newTextEncoder().encode("."),a=new DataView(t.buffer,r);return a.setUint8(0,o("WASISnapshotPreview1").PreopenType.DIR),a.setUint32(4,e.byteLength,!0),o("WASISnapshotPreview1").RESULT.SUCCESS},fd_pwrite:function(){throw r("err")("fd_pwrite is not implemented")},fd_read:function(r,i,l,s){if(r===1||r===2)return o("WASISnapshotPreview1").RESULT.ENOTSUP;var e=new DataView(t.buffer),u=d(e,i,l),c=o("WATextEncoding").newTextEncoder(),m=0,p=o("WASISnapshotPreview1").RESULT.SUCCESS;for(var _ of u){var f=void 0;if(r===0){var g=n.stdin(_.byteLength);if(g==null)break;f=c.encode(g)}else{var h=a.read(r,_.byteLength);if(h.length===1){p=h[0];break}else f=h[1]}var y=Math.min(_.byteLength,f.byteLength);_.set(f.subarray(0,y)),m+=y}return e.setUint32(s,m,!0),p},fd_readdir:function(){throw r("err")("fd_readdir is not implemented")},fd_renumber:function(){throw r("err")("fd_renumber is not implemented")},fd_seek:function(n,i,l,s){var e=o("WASISnapshotPreview1").Whence.cast(l);if(e==null)throw r("err")("fd_seek: invalid whence");var u=a.seek(n,i,e);if(u.length===1)return u[0];var c=u[0],d=u[1],m=new DataView(t.buffer);return m.setBigUint64(s,d,!0),c},fd_sync:function(){throw r("err")("fd_sync is not implemented")},fd_tell:function(n,r){var e=a.tell(n);if(e.length===1)return e[0];var o=e[0],i=e[1],l=new DataView(t.buffer);return l.setBigUint64(r,i,!0),o},fd_write:function(r,i,l,s){if(r===0)return o("WASISnapshotPreview1").RESULT.ENOTSUP;var e=new DataView(t.buffer),u=d(e,i,l),c=o("WATextEncoding").newTextDecoder(),m=0,p=o("WASISnapshotPreview1").RESULT.SUCCESS;for(var _ of u)if(_.byteLength!==0){if(r===1||r===2){var f=r===1?n.stdout:n.stderr,g=c.decode(_);f(g)}else if(p=a.write(r,_),p!==o("WASISnapshotPreview1").RESULT.SUCCESS)break;m+=_.byteLength}return e.setUint32(s,m,!0),p},path_create_directory:function(){throw r("err")("path_create_directory is not implemented")},path_filestat_get:function(){throw r("err")("path_filestat_get is not implemented")},path_filestat_set_times:function(){throw r("err")("path_filestat_set_times is not implemented")},path_link:function(){throw r("err")("path_link is not implemented")},path_open:function(n,r,o,i,l,s,u,c,d){var e=new DataView(t.buffer),m=_(t,o,i),p=a.open(n,m,l,c);if(p.length===1)return p[0];var f=p[0],g=p[1];return e.setUint32(d,g,!0),f},path_readlink:function(){throw r("err")("path_readlink is not implemented")},path_remove_directory:function(){throw r("err")("path_remove_directory is not implemented")},path_rename:function(){throw r("err")("path_rename is not implemented")},path_symlink:function(){throw r("err")("path_symlink is not implemented")},path_unlink_file:function(){throw r("err")("path_unlink_file is not implemented")},poll_oneoff:function(){throw r("err")("poll_oneoff is not implemented")},proc_exit:function(t){throw new u(t)},proc_raise:function(){throw r("err")("proc_raise is not implemented")},random_get:function(n,r){var e=new Uint8Array(t.buffer,n,r);return o("WACryptoDependencies").getCrypto().getRandomValues(e),o("WASISnapshotPreview1").RESULT.SUCCESS},sched_yield:function(){throw r("err")("sched_yield is not implemented")},sock_accept:function(){throw r("err")("sock_accept is not implemented")},sock_recv:function(){throw r("err")("sock_recv is not implemented")},sock_send:function(){throw r("err")("sock_send is not implemented")},sock_shutdown:function(){throw r("err")("sock_shutdown is not implemented")}};return{getImportObject:function(){return{wasi_snapshot_preview1:l}},start:function(i){var n=i.exports.memory;if(n instanceof WebAssembly.Memory){if(t=n,r("gkx")("4444")){var l=o("WASMMemoryLogger").getOrInitWasmMemoryLogger();l!=null&&l.addWasmInstanceToSet(t,e.moduleName)}}else throw r("err")("Expected memory object");var s=i.exports._start;try{s()}catch(e){if(e instanceof u)return{exitCode:e.code,fs:a.fs};if(e instanceof WebAssembly.RuntimeError)return{exitCode:134,fs:a.fs};throw e}return{exitCode:0,fs:a.fs}},initialize:function(n){var e=n.exports.memory;if(e instanceof WebAssembly.Memory)t=e;else throw r("err")("Expected memory object");var o=n.exports;if("_initialize"in o){var i=o._initialize;i()}return{exports:o,drive:a}}}}var u=(function(e){function t(t){var n;return n=e.call(this)||this,n.code=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error)),c=(e=o("WASISnapshotPreview1")).RightsFlags.FD_DATASYNC|e.RightsFlags.FD_READ|e.RightsFlags.FD_SEEK|e.RightsFlags.FD_FDSTAT_SET_FLAGS|e.RightsFlags.FD_SYNC|e.RightsFlags.FD_TELL|e.RightsFlags.FD_WRITE|e.RightsFlags.FD_ADVISE|e.RightsFlags.FD_ALLOCATE|e.RightsFlags.PATH_CREATE_DIRECTORY|e.RightsFlags.PATH_CREATE_FILE|e.RightsFlags.PATH_LINK_SOURCE|e.RightsFlags.PATH_LINK_TARGET|e.RightsFlags.PATH_OPEN|e.RightsFlags.FD_READDIR|e.RightsFlags.PATH_READLINK|e.RightsFlags.PATH_RENAME_SOURCE|e.RightsFlags.PATH_RENAME_TARGET|e.RightsFlags.PATH_FILESTAT_GET|e.RightsFlags.PATH_FILESTAT_SET_SIZE|e.RightsFlags.PATH_FILESTAT_SET_TIMES|e.RightsFlags.FD_FILESTAT_GET|e.RightsFlags.FD_FILESTAT_SET_SIZE|e.RightsFlags.FD_FILESTAT_SET_TIMES|e.RightsFlags.PATH_SYMLINK|e.RightsFlags.PATH_REMOVE_DIRECTORY|e.RightsFlags.PATH_UNLINK_FILE|e.RightsFlags.POLL_FD_READWRITE|e.RightsFlags.SOCK_SHUTDOWN|e.RightsFlags.SOCK_ACCEPT;function d(e,t,n){for(var r=new Array(n),o=t,a=0;a<n;a++){var i=e.getUint32(o,!0);o+=4;var l=e.getUint32(o,!0);o+=4,r[a]=new Uint8Array(e.buffer,i,l)}return r}function m(e){var t=new Uint8Array(o("WASISnapshotPreview1").FILESTAT_SIZE),n=new DataView(t.buffer);return n.setBigUint64(0,BigInt(0),!0),n.setBigUint64(8,BigInt(g(e.path)),!0),n.setUint8(16,e.type),n.setBigUint64(24,BigInt(1),!0),n.setBigUint64(32,BigInt(e.byteLength),!0),n.setBigUint64(40,f(e.timestamps.access),!0),n.setBigUint64(48,f(e.timestamps.modification),!0),n.setBigUint64(56,f(e.timestamps.change),!0),t}function p(e,t,n){var r=n!=null?n:c,o=n!=null?n:c,a=new Uint8Array(24),i=new DataView(a.buffer,0,24);return i.setUint8(0,e),i.setUint32(2,t,!0),i.setBigUint64(8,r,!0),i.setBigUint64(16,o,!0),a}function _(e,t,n){return o("WATextEncoding").newTextDecoder().decode(new Uint8Array(e.buffer,t,n))}function f(e){return BigInt(e.getTime())*BigInt(1e6)}function g(e,t){t===void 0&&(t=0);for(var n=3735928559^t,r=1103547991^t,o=0,a;o<e.length;o++)a=e.charCodeAt(o),n=Math.imul(n^a,2654435761),r=Math.imul(r^a,1597334677);return n=Math.imul(n^n>>>16,2246822507)^Math.imul(r^r>>>13,3266489909),r=Math.imul(r^r>>>16,2246822507)^Math.imul(n^n>>>13,3266489909),4294967296*(2097151&r)+(n>>>0)}l.createWasi=s}),98);
__d("WAWasmReactor",["FBLogger","WAPromiseQueue","WAResultOrError","WASI","WASISnapshotPreview1","WASMMemoryLogger","decodeProtobuf","encodeProtobuf","getErrorSafe","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=function(){return r("FBLogger")("wmi").tags(["WasmReactor"])},_=3e4;function f(e){var t=e.stderr,n=e.stdout;return{stderr:t,stdout:n}}var g=(function(){function t(e,t){this.$1=null,this.$4=e,this.$3=t}var n=t.prototype;return n.init=async function(n){var t=this,a=function(r){p().tags([t.$4]).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",""])),r)},i=function(t){p().INFO(s||(s=babelHelpers.taggedTemplateLiteralLoose(["",""])),t)},l=o("WASI").createWasi(f({stderr:a,stdout:i})),u=l.getImportObject,c=l.initialize,d=await n(),m=await WebAssembly.instantiate(d,u()),_=m.exports.memory,g=r("gkx")("4444"),h=o("WASMMemoryLogger").getOrInitWasmMemoryLogger();_ instanceof WebAssembly.Memory&&g&&h!=null&&h.addWasmInstanceToSet(_,this.$4),this.$1=await c(m)},n.createWasmCommand=function(n){var e=n.InputSpec,a=n.ResultSpec,i=n.validateResult,l=this;return function(s){return l.$3.enqueue(async function(){var n=l.$1;if(n==null)return p().tags([l.$4]).MUSTFIX(u||(u=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"]))),o("WAResultOrError").makeError({errorName:"wasm-internal-not-initialized",failReason:null});var d=n.drive,m="input",_="output";try{var f=o("encodeProtobuf").encodeProtobuf(e,s).readBuffer();t.$5(d,m,new Uint8Array(f),l.$4),t.$5(d,_,new Uint8Array(0),l.$4),await n.exports.execute_command();var g=t.$6(d,_,l.$4);if(g.length===0)return o("WAResultOrError").makeError({errorName:"wasm-internal-runtime-error",failReason:null});var h=o("decodeProtobuf").decodeProtobuf(a,g);return i(h)}catch(e){var y=r("getErrorSafe")(e);return p().tags([l.$4]).catching(y).MUSTFIX(c||(c=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),y.message),o("WAResultOrError").makeError({errorName:"wasm-internal-runtime-error",failReason:null})}finally{var C=t.$2;d.unlink(C,m),d.unlink(C,_)}})}},n.DEPRECATED_createWasmCommand=function(n){var e=n.InputSpec,a=n.ResultSpec,i=n.validateResult,l=this;return function(s){return l.$3.enqueue(async function(){var n=l.$1;if(n==null)return p().tags([l.$4]).MUSTFIX(d||(d=babelHelpers.taggedTemplateLiteralLoose(["WAWasmReactor not initialized"]))),o("WAResultOrError").makeError("wasm-internal-not-initialized");var u=n.drive,c="input",_="output";try{var f=o("encodeProtobuf").encodeProtobuf(e,s).readBuffer();t.$5(u,c,new Uint8Array(f),l.$4),t.$5(u,_,new Uint8Array(0),l.$4),await n.exports.execute_command();var g=t.$6(u,_,l.$4);if(g.length===0)return o("WAResultOrError").makeError("wasm-internal-runtime-error");var h=o("decodeProtobuf").decodeProtobuf(a,g);return i(h)}catch(e){var y=r("getErrorSafe")(e);return p().tags([l.$4]).catching(y).MUSTFIX(m||(m=babelHelpers.taggedTemplateLiteralLoose(["Unexpected runtime error: ",""])),y.message),o("WAResultOrError").makeError("wasm-internal-runtime-error")}finally{var C=t.$2;u.unlink(C,c),u.unlink(C,_)}})}},t.$5=function(n,r,a,i){var e=n.open(t.$2,r,o("WASISnapshotPreview1").OpenFlags.CREAT||o("WASISnapshotPreview1").OpenFlags.TRUNC,0);if(e[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([i]).mustfixThrow("Failed to open file for writing: ",r);var l=e[1];n.write(l,a),n.close(l)},t.$6=function(n,r,a){var e=n.open(t.$2,r,0,0);if(e[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([a]).mustfixThrow("Failed to open file for reading: ",r);var i=e[1],l=n.stat(i);if(l[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw n.close(i),p().tags([a]).mustfixThrow("Failed to stat file: ",r);var s=l[1].byteLength,u=n.read(i,s);if(n.close(i),u[0]!==o("WASISnapshotPreview1").RESULT.SUCCESS)throw p().tags([a]).mustfixThrow("Failed to read from file ",r);return u[1]},t})();g.$2=3;async function h(e,t){var n=new(o("WAPromiseQueue")).PromiseQueue(_),r=new g(t,n);return await r.init(e),r}l.WAWasmReactor=g,l.createWasmInstance=h}),98);
__d("EBMinosWasmReactorSingleton",["EBGetMinosWasm","WAWasmReactor","memoizeWithArgs"],(function(t,n,r,o,a,i,l){"use strict";var e="Minos_REPL",s=r("memoizeWithArgs")(function(){return o("WAWasmReactor").createWasmInstance(o("EBGetMinosWasm").getMinosWasm,e)},function(){return"cache"}),u=async function(t,n){var e=t.InputSpec,r=t.ResultSpec,o=t.validateResult,a=await s();return a.createWasmCommand({InputSpec:e,ResultSpec:r,validateResult:o})(n)},c=async function(t,n){var e=t.InputSpec,r=t.ResultSpec,o=t.validateResult,a=await s();return a.DEPRECATED_createWasmCommand({InputSpec:e,ResultSpec:r,validateResult:o})(n)};l.minosCommand=u,l.DEPRECATED_minosCommand=c}),98);
__d("EBMinosWasmVerifySingleEpoch",["EBMinosWasm.pb","EBMinosWasmReactorSingleton","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(){function e(e){var t=e.valid;return o("WAResultOrError").makeResult({valid:t})}return async function(n){var t=n.epochPublicData,r=n.signature;return await o("EBMinosWasmReactorSingleton").DEPRECATED_minosCommand({InputSpec:o("EBMinosWasm.pb").MinosCommandSpec,ResultSpec:o("EBMinosWasm.pb").MinosVerifySingleEpochResultSpec,validateResult:e},{minosVerifySingleEpoch:{epochPublicData:t,signature:r}})}}var s=e();l.verifySingleEpoch=s}),98);
__d("EBAPIMinosVerifySingleEpoch",["EBMinosLogger","EBMinosWasmVerifySingleEpoch","getSafeQplErrorMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){o("EBMinosLogger").minosLogger.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["minosVerifySingleEpoch start"])));var n=t.qplFlow,r=t.minosEpochAnonId,a=t.minosMailboxAuthPublicKey,i=t.minosMailboxEncryptionPublicKey,l=t.minosMailboxSigningPublicKey,u=t.userId,c=t.selfEpochSignature;try{var d={epochNumber:r,mailboxAuthPk:a,mailboxEncryptionPk:i,mailboxSigningPk:l,previousEpochHead:t.previousEpochHead==null?void 0:t.previousEpochHead,userFbid:u};n.addPoint("verify_single_epoch_start");var m=await o("EBMinosWasmVerifySingleEpoch").verifySingleEpoch({epochPublicData:d,signature:c});return n.addPoint("verify_single_epoch_end"),m.success?(n.endSuccess(),m.value.valid):(o("EBMinosLogger").minosLogger.ERROR(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Unable to verify epoch - WASM error ",""])),m.error),n.endFailWithError("invalid-result",m.error),!1)}catch(e){return n.endFailWithError("runtime-error",o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)),!1}}l.minosVerifySingleEpoch=u}),98);
__d("EBMinosHasNewerMailboxKeys",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){return t==null||n==null?!1:(e==null?void 0:e.epoch_head)==null||(e==null?void 0:e.epoch_head_creation_time)==null?!0:e.epoch_head_creation_time!==n&&n>e.epoch_head_creation_time}i.hasNewerMailboxKeys=e}),66);
__d("EBMinosMailboxKeysCache",["WALRUMap","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=1e3,s=new(o("WALRUMap")).LRUMap({max:e}),u=720*60,c=120;function d(e){var t=s.get(e),n=Math.floor(Date.now()/1e3);if(t!=null&&(n-t.mailboxKeys.epoch_head_creation_time<u||n-t.last_queried_time<c))return t}function m(e,t){s.set(e,{last_queried_time:o("WATimeUtils").castToUnixTime(Math.floor(Date.now()/1e3)),mailboxKeys:t})}function p(e){s.delete(e)}function _(){s.clear()}l.getCachedMailboxKeys=d,l.setCachedMailboxKeys=m,l.invalidateCachedMailboxKeys=p,l.clearMailboxKeysCache=_}),98);
__d("EBMinosSaveNewMailboxKey",["EBMinosDb","EBMinosMailboxKeysCache","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=async function(t,n,a,i,l,s){var e={contact_id:t,encryption_public_key:n,epoch_anon_id:a,epoch_head:i,epoch_head_creation_time:l,public_key_fbid:s},u=await o("EBMinosDb").getEBMinosDb();await u.runInTransaction(["secure_minos_mailbox_keys"],"readwrite",function(t){return t.stores.secure_minos_mailbox_keys.bulkPut([e])},"SaveNewMailboxKey"),r("gkx")("16129")&&o("EBMinosMailboxKeysCache").setCachedMailboxKeys(t,e)};l.saveNewMailboxKey=e}),98);
__d("EBMinosLoadMailboxKeys",["EBMinosDb","EBMinosMailboxKeysCache","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=async function(t){if(r("gkx")("16129")){var e=o("EBMinosMailboxKeysCache").getCachedMailboxKeys(t);if(e!=null)return e.mailboxKeys}var n=await o("EBMinosDb").getEBMinosDb(),a=await n.runInTransaction(["secure_minos_mailbox_keys"],"readonly",function(e){return e.stores.secure_minos_mailbox_keys.get(t)},"LoadMailboxKeys");return a!=null&&r("gkx")("16129")&&o("EBMinosMailboxKeysCache").setCachedMailboxKeys(t,a),a};l.loadMailboxKeys=e}),98);
__d("EBMinosSecureMailboxKeysForContact",["EBMinosLoadMailboxKeys","EBMinosTypes"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("EBMinosLoadMailboxKeys").loadMailboxKeys(o("EBMinosTypes").unsafeCastToUserFbId(e))}l.getSecureMailboxKeysForContact=e}),98);
__d("EBMinosWriteMinosPublicKeysForRecipient",["EBMinosHasNewerMailboxKeys","EBMinosLogger","EBMinosSaveNewMailboxKey","EBMinosSecureMailboxKeysForContact"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t){var n=t.contactId,r=t.encryptionPublicKey,a=t.epochAnonId,i=t.epochHead,l=t.epochHeadCreationTime,u=t.publicKeyFbid,c=await o("EBMinosSecureMailboxKeysForContact").getSecureMailboxKeysForContact(n);if(i==null||l==null){(c==null?void 0:c.epoch_head)!=null&&(c==null?void 0:c.epoch_head_creation_time)!=null&&(o("EBMinosLogger").minosLogger.DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Deleting mailbox keys for contact: ",""])),n),await o("EBMinosSaveNewMailboxKey").saveNewMailboxKey(n,r,a,i,l,u));return}o("EBMinosHasNewerMailboxKeys").hasNewerMailboxKeys(c,i,l)&&(o("EBMinosLogger").minosLogger.DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["Writing new mailbox keys for contact: ",""])),n),await o("EBMinosSaveNewMailboxKey").saveNewMailboxKey(n,r,a,i,l,u))}l.writeMinosMailboxKeysForRecipient=u}),98);
__d("EBAPIWriteMinosPublicKeysForRecipient",["EBMinosWriteMinosPublicKeysForRecipient"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.contactId,n=e.encryptionPublicKey,r=e.epochAnonId,a=e.epochHead,i=e.epochHeadCreationTime,l=e.publicKeyFbid;return o("EBMinosWriteMinosPublicKeysForRecipient").writeMinosMailboxKeysForRecipient({contactId:t,encryptionPublicKey:n,epochAnonId:r,epochHead:a,epochHeadCreationTime:i,publicKeyFbid:l})}l.writeMinosMailboxKeysForRecipientAPI=e}),98);
__d("LSDataTraceTag",[],(function(t,n,r,o,a,i){"use strict";var e=0,l=1,s=2,u=3,c=4,d=5,m=6,p=7,_=20,f=21,g=22,h=23,y=24,C=25,b=26,v=27,S=28,R=29,L=30,E=31,k=32,I=33,T=34,D=35,x=36,$=37,P=38,N=39,M=40,w=41,A=42;i.none=e,i.sticker=l,i.image=s,i.animatedImage=u,i.video=c,i.audio=d,i.file=m,i.xma=p,i.messageTypeNone=_,i.messageTypeText=f,i.messageTypeFutureproof=g,i.messageTypeCiphertext=h,i.messageTypeUnavailable=y,i.messageTypeImage=C,i.messageTypeVideo=b,i.messageTypePtt=v,i.messageTypeAdmin=S,i.messageTypeRevoked=R,i.messageTypeGif=L,i.messageTypeSticker=E,i.messageTypeExpiredEphemeral=k,i.messageTypeEphemeralSettingAdmin=I,i.messageTypeEphemeralSyncResponse=T,i.messageTypeEphemeralScreenshotAction=D,i.messageTypeDeleteForMe=x,i.messageTypeEphemeralSettingChangeFromCurrentDevice=$,i.messageTypeAlertICDC=P,i.messageTypeGroupInvite=N,i.messageTypeXMA=M,i.messageTypeReaction=w,i.messageTypeSenderKeyDistribution=A}),66);
__d("WACryptoCurve25519Dependencies",["Promise","WACryptoPrimitives","WASignalKeys","WASignalOther"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return(e||(e=n("Promise"))).resolve().then(function(){return o("WASignalKeys").makeKeyPair()})}function u(t,r){return(e||(e=n("Promise"))).resolve().then(function(){return o("WACryptoPrimitives").scalarMult(o("WASignalOther").ensureSize(r,32),o("WASignalOther").ensureSize(t,32)).buffer})}var c={generateIdentityKeyPair:s,calculateAgreement:u};l.calculateAgreement=u,l.CURVE25519_SIGNAL_DEPENDENCIES=c}),98);/*FB_PKG_DELIM*/
__d("BaseCalloutImpl.react",["BaseContextualLayer.react","BaseContextualLayerAnchorRootContext","BasePopoverReflowSheet.react","LayoutAnimationBoundaryContext","react","react-compiler-runtime","useCometDisplayTimingTrackerForInteraction","useMatchViewport"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(18),n=e.anchorRef,a=e.anchorRefOverride,i=e.anchorRootRefContext,l=e.animationContext,c=e.children,m=e.contextualLayerProps,p=e.imperativeRef,_=e.scrollableAreaContext,f=a===void 0?!1:a,g=r("useCometDisplayTimingTrackerForInteraction")("FDSCalloutManager"),h=r("useMatchViewport")("max","width",600)?r("BasePopoverReflowSheet.react"):s.Fragment,y,C;if(t[0]!==p||t[1]!==_?(y=function(){var e=_.map(d).filter(Boolean),t=function(){var e;return(e=p.current)==null?void 0:e.reposition()};if(e.length>0)return e.forEach(function(e){return e.addEventListener("scroll",t,{passive:!0})}),(function(){e.forEach(function(e){return e.removeEventListener("scroll",t)})})},C=[p,_],t[0]=p,t[1]=_,t[2]=y,t[3]=C):(y=t[2],C=t[3]),u(y,C),m==null||n==null)return null;var b;t[4]!==h||t[5]!==n||t[6]!==f||t[7]!==c||t[8]!==m||t[9]!==p||t[10]!==g?(b=m!=null?s.jsx(h,{children:s.jsx(r("BaseContextualLayer.react"),{align:m.align,anchorRef:f?n:void 0,contextRef:n,disableAutoAlign:m.disableAutoAlign,disableAutoFlip:m.disableAutoFlip,imperativeRef:p,position:m.position,ref:g,reflowToPosition:h!==s.Fragment,children:c})}):null,t[4]=h,t[5]=n,t[6]=f,t[7]=c,t[8]=m,t[9]=p,t[10]=g,t[11]=b):b=t[11];var v;t[12]!==i||t[13]!==b?(v=s.jsx(r("BaseContextualLayerAnchorRootContext").Provider,{value:i,children:b}),t[12]=i,t[13]=b,t[14]=v):v=t[14];var S;return t[15]!==l||t[16]!==v?(S=s.jsx(r("LayoutAnimationBoundaryContext").Provider,{value:l,children:v}),t[15]=l,t[16]=v,t[17]=S):S=t[17],S}function d(e){return e.getDOMNode()}l.default=c}),98);
__d("BaseSwitchSharedStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e=28,s=24,u={innerShadow:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",boxShadow:"xzdp66v",height:"x1fgtraw",width:"xvni27",$$css:!0},switch:{borderStartStartRadius:"x12l2aii",borderStartEndRadius:"x1mbk4o",borderEndEndRadius:"x14vvt0a",borderEndStartRadius:"x1w3ol1v",height:"x1fgtraw",width:"xvni27",$$css:!0},switchSmall:{borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",height:"xxk0z11",width:"x187nhsf",$$css:!0}};function c(e){return{innerShadow:u.innerShadow,size:e==="small"?u.switchSmall:u.switch}}l.genBaseSwitchStyles=c}),98);
__d("BaseStyledSwitchLayout.react",["BaseRow.react","BaseRowItem.react","BaseSwitchSharedStyles","BaseView.react","Locale","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("Locale").isRTL(),c="x1u38n1b-B",d={alignIcon:{alignItems:"x6s0dn4",$$css:!0},background:{backgroundColor:"xvs79uf",bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,opacity:"xg01cxk",pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",$$css:!0},backgroundActive:{opacity:"x1hc1fzr",transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},disabled:{opacity:"xti2d7y",transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},shimmer:{animationDuration:"x1m9vv7p",animationIterationCount:"xa4qsjk",animationName:"x106wr5q",animationTimingFunction:"x1esw782",backgroundImage:"x1fy9ie1",backgroundRepeat:"xiy17q3",backgroundSize:"xakli9p",borderStartStartRadius:"x1fmog5m",borderStartEndRadius:"xu25z0z",borderEndEndRadius:"x140muxe",borderEndStartRadius:"xo1y3bh",bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},slider:{backgroundColor:"x14hiurz",borderStartStartRadius:"x6nl9eh",borderStartEndRadius:"x1a5l9x9",borderEndEndRadius:"x7vuprf",borderEndStartRadius:"x1mg3h75",boxShadow:"x3bazc0",height:"xxk0z11",insetInlineStart:"xaoy8p5",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"xs7f9wi",transitionDuration:"x1eub6wo",transitionProperty:"x11xpdln",transitionTimingFunction:"x1d72o",width:"xvy4d1p",$$css:!0},sliderActive:{transitionDuration:"xii2z7h",transitionTimingFunction:"x1r7x56h",$$css:!0},sliderActiveLeft:{transform:"x92xnlw",$$css:!0},sliderActiveLeftSmall:{transform:"x13gy369",$$css:!0},sliderActiveRight:{transform:"x13t98kf",$$css:!0},sliderActiveRightSmall:{transform:"x13n5tbt",$$css:!0},sliderIconContainer:{height:"x5yr21d",width:"xh8yej3",$$css:!0},sliderSmall:{height:"x1qx5ct2",width:"xw4jnvo",$$css:!0},switch:{backgroundColor:"xvjj3ju",boxSizing:"x9f619",display:"x1rg5ohu",opacity:"x1hc1fzr",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",transitionDuration:"x1eub6wo",transitionProperty:"x19991ni",transitionTimingFunction:"x1d72o",width:"xvni27",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(35),n=e.disabled,a=e.icon,i=e.isPending,l=e.size,c=e.uncheckedXStyle,m=e.value,p=e.xstyle,_=n===void 0?!1:n,f=i===void 0?!1:i,g=l===void 0?"medium":l,h=g==="small",y;t[0]!==g?(y=o("BaseSwitchSharedStyles").genBaseSwitchStyles(g),t[0]=g,t[1]=y):y=t[1];var C=y,b=C.innerShadow,v=C.size,S=_&&d.disabled,R;t[2]!==v||t[3]!==S||t[4]!==c||t[5]!==p?(R=[d.switch,v,S,p,c],t[2]=v,t[3]=S,t[4]=c,t[5]=p,t[6]=R):R=t[6];var L;t[7]!==b||t[8]!==v||t[9]!==p?(L=[v,b,p],t[7]=b,t[8]=v,t[9]=p,t[10]=L):L=t[10];var E;t[11]!==f?(E=f&&s.jsx(r("BaseView.react"),{xstyle:d.shimmer}),t[11]=f,t[12]=E):E=t[12];var k=m&&d.backgroundActive,I;t[13]!==k?(I=s.jsx(r("BaseView.react"),{xstyle:[d.background,k]}),t[13]=k,t[14]=I):I=t[14];var T=h&&d.sliderSmall,D=m&&d.sliderActive,x;t[15]!==h||t[16]!==m?(x=m&&(u?[d.sliderActiveLeft,h&&d.sliderActiveLeftSmall]:[d.sliderActiveRight,h&&d.sliderActiveRightSmall]),t[15]=h,t[16]=m,t[17]=x):x=t[17];var $;t[18]!==T||t[19]!==D||t[20]!==x?($=[d.slider,T,D,x],t[18]=T,t[19]=D,t[20]=x,t[21]=$):$=t[21];var P;t[22]!==a?(P=a==null?null:s.jsx(r("BaseRow.react"),{align:"center",expanding:!0,verticalAlign:"center",xstyle:d.sliderIconContainer,children:s.jsx(r("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:d.alignIcon,children:a})}),t[22]=a,t[23]=P):P=t[23];var N;t[24]!==$||t[25]!==P?(N=s.jsx(r("BaseView.react"),{xstyle:$,children:P}),t[24]=$,t[25]=P,t[26]=N):N=t[26];var M;t[27]!==I||t[28]!==N||t[29]!==L||t[30]!==E?(M=s.jsxs(r("BaseView.react"),{xstyle:L,children:[E,I,N]}),t[27]=I,t[28]=N,t[29]=L,t[30]=E,t[31]=M):M=t[31];var w;return t[32]!==M||t[33]!==R?(w=s.jsx(r("BaseView.react"),{xstyle:R,children:M}),t[32]=M,t[33]=R,t[34]=w):w=t[34],w}l.default=m}),98);
__d("BaseStyledSwitch.react",["BaseStyledSwitchLayout.react","BaseSwitch.react","BaseSwitchSharedStyles","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","icon","isPending","onClick","onValueChange","ref","size","suppressFocusRing","tabIndex","testid","uncheckedXStyle","value","valueChangeAction","xstyle"],s,u=s||(s=o("react")),c=s,d=c.startTransition,m=c.useCallback;function p(t){var n=o("react-compiler-runtime").c(41),a,i,l,s,c,m,p,_,f,g,h,y,C,b,v;n[0]!==t?(_=t.disabled,i=t.icon,l=t.isPending,s=t.onClick,c=t.onValueChange,m=t.ref,f=t.size,p=t.suppressFocusRing,g=t.tabIndex,h=t.testid,y=t.uncheckedXStyle,C=t.value,b=t.valueChangeAction,v=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=p,n[8]=_,n[9]=f,n[10]=g,n[11]=h,n[12]=y,n[13]=C,n[14]=b,n[15]=v):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],p=n[7],_=n[8],f=n[9],g=n[10],h=n[11],y=n[12],C=n[13],b=n[14],v=n[15]);var S=_===void 0?!1:_,R=f===void 0?"medium":f,L;n[16]!==R?(L=o("BaseSwitchSharedStyles").genBaseSwitchStyles(R),n[16]=R,n[17]=L):L=n[17];var E=L,k=E.size,I;n[18]!==c||n[19]!==b?(I=function(t){c&&c(t),b!=null&&d(async function(){await b(t)})},n[18]=c,n[19]=b,n[20]=I):I=n[20];var T=I,D=c!=null||b!=null?T:void 0,x=h!=null?h:"BaseStyledSwitch",$=l!=null?l:!1,P;n[21]!==S||n[22]!==i||n[23]!==R||n[24]!==$||n[25]!==y||n[26]!==C||n[27]!==v?(P=u.jsx(r("BaseStyledSwitchLayout.react"),{disabled:S,icon:i,isPending:$,size:R,uncheckedXStyle:y,value:C,xstyle:v}),n[21]=S,n[22]=i,n[23]=R,n[24]=$,n[25]=y,n[26]=C,n[27]=v,n[28]=P):P=n[28];var N;return n[29]!==a||n[30]!==S||n[31]!==D||n[32]!==s||n[33]!==m||n[34]!==k||n[35]!==p||n[36]!==x||n[37]!==P||n[38]!==g||n[39]!==C?(N=u.jsx(r("BaseSwitch.react"),babelHelpers.extends({},a,{checked:C,disabled:S,onClick:s,onValueChange:D,ref:m,suppressFocusRing:p,tabIndex:g,testid:void 0,xstyle:k,children:P})),n[29]=a,n[30]=S,n[31]=D,n[32]=s,n[33]=m,n[34]=k,n[35]=p,n[36]=x,n[37]=P,n[38]=g,n[39]=C,n[40]=N):N=n[40],N}l.default=p}),98);
__d("FDSCalloutEdgeArrow.svg.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","xstyle"],s,u,c=u||(u=o("react"));function d(t){var n=t.children,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsxs("svg",babelHelpers.extends({"aria-hidden":!0,className:(s||(s=r("stylex")))(o),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&c.jsx("title",{children:a.title}),n!=null&&c.jsx("defs",{children:n}),c.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}d.displayName=d.name+" [from "+i.id+"]",d._isSVG=!0,l.default=d}),98);
__d("FDSCalloutEdge.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutEdgeArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],s,u=s||(s=o("react")),c=s.useContext,d={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},p={end:{borderEndEndRadius:"x16uus16",marginBottom:"xieb3on",$$css:!0},middle:{marginBottom:"x12nagc",$$css:!0},start:{borderEndStartRadius:"xbiv7yw",marginBottom:"xieb3on",$$css:!0}},_={end:{borderStartEndRadius:"x1ga7v0g",marginTop:"x1sy10c2",$$css:!0},middle:{marginTop:"x1gslohp",$$css:!0},start:{borderStartStartRadius:"x15mokao",marginTop:"x1sy10c2",$$css:!0}},f={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},g={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},h={end:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,transform:"xpk2tj9",$$css:!0},middle:{bottom:"x7ofzsv",insetInlineEnd:"xtijo5x",left:null,right:null,$$css:!0},start:{bottom:"x7ofzsv",insetInlineStart:"x1o0tod",left:null,right:null,$$css:!0}},y={end:{$$css:!0},middle:{$$css:!0},start:{$$css:!0}},C={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},b={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}},v={end:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x19jd1h0",$$css:!0},middle:{insetInlineEnd:"xtijo5x",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0},start:{insetInlineStart:"x1o0tod",left:null,right:null,top:"x1nl0pjx",transform:"x1oihik5",$$css:!0}},S={end:{transform:"x19jd1h0",$$css:!0},middle:{transform:"x1oihik5",$$css:!0},start:{transform:"x1oihik5",$$css:!0}};function R(e){return e==="start"?"end":e==="end"?"start":e}function L(t){var n,a,i=o("react-compiler-runtime").c(41),l,s,f,g,h,y,C,b;i[0]!==t?(s=t.children,y=t.disableAutoFocus,f=t.id,g=t.onClose,h=t.onOutsideClick,C=t.type,b=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),i[0]=t,i[1]=l,i[2]=s,i[3]=f,i[4]=g,i[5]=h,i[6]=y,i[7]=C,i[8]=b):(l=i[1],s=i[2],f=i[3],g=i[4],h=i[5],y=i[6],C=i[7],b=i[8]);var v=y===void 0?!1:y,S=C===void 0?"default":C,L=c(r("BaseContextualLayerOrientationContext")),E=L.align,T=L.position,D=E==="stretch"?"start":E,x=T==="start"?"above":T==="end"?"below":T,$=c(r("BaseContextualLayerContextSizeContext")),P=(n=c(r("BaseContextualLayerLayerAdjustmentContext")))!=null?n:0,N;i[9]!==D||i[10]!==P?(N=P!==0?R(D):D,i[9]=D,i[10]=P,i[11]=N):N=i[11];var M=N,w=(a=$==null?void 0:$.width)!=null?a:0,A;i[12]!==M||i[13]!==P||i[14]!==w?(A=I(M,w,P),i[12]=M,i[13]=P,i[14]=w,i[15]=A):A=i[15];var F=A,O=r("useOnOutsideClick")(h),B=f!=null?f:void 0,W=v?void 0:o("focusScopeQueries").tabbableScopeQuery,q=m[S],U=x==="above"&&p[M],V=x==="below"&&_[M],H;i[16]!==V||i[17]!==q||i[18]!==U||i[19]!==b?(H=[d.content,q,U,V,b],i[16]=V,i[17]=q,i[18]=U,i[19]=b,i[20]=H):H=i[20];var G;i[21]!==s||i[22]!==O||i[23]!==H?(G=u.jsx(r("BaseRow.react"),{ref:O,xstyle:H,children:s}),i[21]=s,i[22]=O,i[23]=H,i[24]=G):G=i[24];var z;i[25]!==M||i[26]!==x||i[27]!==S?(z=u.jsx(k,{align:M,position:x,type:S}),i[25]=M,i[26]=x,i[27]=S,i[28]=z):z=i[28];var j;i[29]!==g||i[30]!==G||i[31]!==z?(j=u.jsxs(r("CometHideLayerOnEscape.react"),{onHide:g,children:[G,z]}),i[29]=g,i[30]=G,i[31]=z,i[32]=j):j=i[32];var K;i[33]!==j||i[34]!==W?(K=u.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:W,children:j}),i[33]=j,i[34]=W,i[35]=K):K=i[35];var Q;return i[36]!==l||i[37]!==F||i[38]!==K||i[39]!==B?(Q=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{id:B,role:"dialog",style:F,xstyle:d.container,children:K})),i[36]=l,i[37]=F,i[38]=K,i[39]=B,i[40]=Q):Q=i[40],Q}var E=o("Locale").isRTL();function k(e){var t=o("react-compiler-runtime").c(8),n=e.align,a=e.position,i=e.type,l=i==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",s=a==="above"&&i==="default"&&(E?g[n]:f[n]),c=a==="above"&&i==="accent"&&(E?y[n]:h[n]),m=a==="below"&&i==="default"&&(E?b[n]:C[n]),p=a==="below"&&i==="accent"&&(E?S[n]:v[n]),_;t[0]!==s||t[1]!==c||t[2]!==m||t[3]!==p?(_=[d.arrow,s,c,m,p],t[0]=s,t[1]=c,t[2]=m,t[3]=p,t[4]=_):_=t[4];var R;return t[5]!==l||t[6]!==_?(R=u.jsx(r("FDSCalloutEdgeArrow.svg.react"),{fill:l,xstyle:_}),t[5]=l,t[6]=_,t[7]=R):R=t[7],R}function I(e,t,n){var r=n===0?t/2:0;if(r!==0){if(e==="start")return{transform:"translateX("+(E?-1*r:r)+"px)"};if(e==="end")return{transform:"translateX("+(E?r:-1*r)+"px)"}}}l.default=L}),98);
__d("FDSCalloutInsetArrow.svg.react",["react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","xstyle"],s,u,c=u||(u=o("react"));function d(t){var n=t.children,o=t.xstyle,a=babelHelpers.objectWithoutPropertiesLoose(t,e);return c.jsxs("svg",babelHelpers.extends({"aria-hidden":!0,className:(s||(s=r("stylex")))(o),height:"12px",viewBox:"0 0 21 12",width:"21px"},a,{children:[a.title!=null&&c.jsx("title",{children:a.title}),n!=null&&c.jsx("defs",{children:n}),c.jsx("path",{d:"M20.685.12c-2.229.424-4.278 1.914-6.181 3.403L5.4 10.94c-2.026 2.291-5.434.62-5.4-2.648V.12h20.684z"})]}))}d.displayName=d.name+" [from "+i.id+"]",d._isSVG=!0,l.default=d}),98);
__d("FDSCalloutInset.react",["BaseContextualLayerContextSizeContext","BaseContextualLayerLayerAdjustmentContext","BaseContextualLayerOrientationContext","BaseRow.react","BaseView.react","CometHideLayerOnEscape.react","FDSCalloutInsetArrow.svg.react","FocusRegionStrictMode.react","Locale","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick"],(function(t,n,r,o,a,i,l){"use strict";var e=["children","disableAutoFocus","id","onClose","onOutsideClick","type","xstyle"],s,u=s||(s=o("react")),c=s.useContext,d={arrow:{position:"x10l6tqk",$$css:!0},container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0}},m={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},p={above:{marginBottom:"x1yztbdb",$$css:!0},below:{marginTop:"xw7yly9",$$css:!0},end:{marginInlineStart:"xyqm7xq",$$css:!0}},_={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}},f={above:{bottom:"x1wa3icf",$$css:!0},below:{top:"x1jzctok",transform:"x1oihik5",$$css:!0},end:{$$css:!0}};function g(t){var n,a,i=o("react-compiler-runtime").c(38),l,s,_,f,g,y,b,v;i[0]!==t?(s=t.children,y=t.disableAutoFocus,_=t.id,f=t.onClose,g=t.onOutsideClick,b=t.type,v=t.xstyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),i[0]=t,i[1]=l,i[2]=s,i[3]=_,i[4]=f,i[5]=g,i[6]=y,i[7]=b,i[8]=v):(l=i[1],s=i[2],_=i[3],f=i[4],g=i[5],y=i[6],b=i[7],v=i[8]);var S=y===void 0?!1:y,R=b===void 0?"default":b,L=c(r("BaseContextualLayerOrientationContext")),E=L.align,k=L.position,I=E==="stretch"?"start":E,T=k==="start"?"above":k==="end"?"below":k,D=c(r("BaseContextualLayerContextSizeContext")),x=(n=c(r("BaseContextualLayerLayerAdjustmentContext")))!=null?n:0,$=(a=D==null?void 0:D.width)!=null?a:0,P;i[9]!==I||i[10]!==x||i[11]!==T||i[12]!==$?(P=C(I,T,$,x),i[9]=I,i[10]=x,i[11]=T,i[12]=$,i[13]=P):P=i[13];var N=P,M=N[0],w=N[1],A=r("useOnOutsideClick")(g),F=_!=null?_:void 0,O=S?void 0:o("focusScopeQueries").tabbableScopeQuery,B=m[R],W=p[T],q;i[14]!==B||i[15]!==W||i[16]!==v?(q=[d.content,B,W,v],i[14]=B,i[15]=W,i[16]=v,i[17]=q):q=i[17];var U;i[18]!==s||i[19]!==A||i[20]!==q?(U=u.jsx(r("BaseRow.react"),{ref:A,xstyle:q,children:s}),i[18]=s,i[19]=A,i[20]=q,i[21]=U):U=i[21];var V;i[22]!==w||i[23]!==T||i[24]!==R?(V=u.jsx(h,{arrowStyles:w,position:T,type:R}),i[22]=w,i[23]=T,i[24]=R,i[25]=V):V=i[25];var H;i[26]!==f||i[27]!==U||i[28]!==V?(H=u.jsxs(r("CometHideLayerOnEscape.react"),{onHide:f,children:[U,V]}),i[26]=f,i[27]=U,i[28]=V,i[29]=H):H=i[29];var G;i[30]!==H||i[31]!==O?(G=u.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:O,children:H}),i[30]=H,i[31]=O,i[32]=G):G=i[32];var z;return i[33]!==l||i[34]!==M||i[35]!==G||i[36]!==F?(z=u.jsx(r("BaseView.react"),babelHelpers.extends({},l,{id:F,role:"dialog",style:M,xstyle:d.container,children:G})),i[33]=l,i[34]=M,i[35]=G,i[36]=F,i[37]=z):z=i[37],z}function h(e){var t=o("react-compiler-runtime").c(7),n=e.arrowStyles,a=e.position,i=e.type,l=i==="default"?"var(--popover-background)":"var(--callout-background-color-accent, var(--accent))",s=_[a],c=i==="accent"&&f[a],m;t[0]!==s||t[1]!==c?(m=[d.arrow,s,c],t[0]=s,t[1]=c,t[2]=m):m=t[2];var p;return t[3]!==n||t[4]!==l||t[5]!==m?(p=u.jsx(r("FDSCalloutInsetArrow.svg.react"),{fill:l,style:n,xstyle:m}),t[3]=n,t[4]=l,t[5]=m,t[6]=p):p=t[6],p}var y=o("Locale").isRTL();function C(e,t,n,r){var o=Math.max(n/2-8,16)+Math.abs(r),a=n/2-8<16,i=24-n/2;if(t==="above")if(e==="start"){var l,s=y?"right":"left";return[a?{transform:"translateX("+(y?i:-i)+"px)"}:void 0,(l={},l[s]="min(calc(100% - 32px), "+o+"px)",l)]}else if(e==="end"){var u,c=y?"left":"right";return[a?{transform:"translateX("+(y?-i:i)+"px)"}:void 0,(u={},u[c]="min(calc(100% - 32px), "+o+"px)",u)]}else{var d,m=y?"left":"right",p=(y?-r:r)-8;return[void 0,(d={},d[m]="calc(50% + "+p+"px)",d)]}else if(e==="start"){var _,f=y?"right":"left";return[a?{transform:"translateX("+(y?i:-i)+"px)"}:void 0,(_={},_[f]="min(calc(100% - 32px), "+o+"px)",_)]}else if(e==="end"){var g,h=y?"left":"right";return[a?{transform:"translateX("+(y?-i:i)+"px)"}:void 0,(g={},g[h]="min(calc(100% - 32px), "+o+"px)",g)]}else{var C,b=y?"left":"right",v=(y?-r:r)-8;return[void 0,(C={},C[b]="calc(50% + "+v+"px)",C)]}}l.default=g}),98);
__d("FDSCallout.react",["fbt","ix","BaseContextualLayerOrientationContext","BasePopoverReflowSheetContext","BaseRow.react","BaseRowItem.react","BaseView.react","CometColumn.react","CometColumnItem.react","CometErrorBoundary.react","CometHideLayerOnEscape.react","FBLogger","FDSCalloutEdge.react","FDSCalloutInset.react","FDSIcon.react","FDSTextPairing.react","FocusRegionStrictMode.react","fbicon","focusScopeQueries","react","react-compiler-runtime","useOnOutsideClick","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useMemo,_={container:{display:"x78zum5",$$css:!0},content:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",boxShadow:"xofhs1l",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,$$css:!0},crossoutButton:{marginInlineEnd:"x1lxpwgx",marginTop:"x9otpla",$$css:!0},fitContent:{width:"xeq5yr9",$$css:!0},item:{paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0}},f={accent:{backgroundColor:"xdk9wry",$$css:!0},default:{backgroundColor:"x9bbmet",$$css:!0}},g={above:{marginBottom:"x12nagc",$$css:!0},below:{marginTop:"x1gslohp",$$css:!0},end:{marginInlineStart:"xdwrcjd",$$css:!0},start:{$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(66),n=e.arrowStyle,a=e.calloutID,i=e.content,l=e.contentID,d=e.disableAutoFocus,p=e.onClose,h=e.onHide,C=e.onOutsideClick,b=e.onShow,v=e.titleID,S=e.type,R=e.xstyle,L=e.addOn,E=e["aria-label"],k=e.hasCloseButton,I=e.title,T=n===void 0?"none":n,D=d===void 0?!1:d,x=S===void 0?"default":S,$=k===void 0?!0:k,P=m(r("BaseContextualLayerOrientationContext")),N=P.position,M=r("useOnOutsideClick")(C),w=m(r("BasePopoverReflowSheetContext")),A=w.isReflowSheet,F;t[0]!==h||t[1]!==b?(F={onHidden:h,onVisible:b},t[0]=h,t[1]=b,t[2]=F):F=t[2];var O=r("useVisibilityObserver")(F),B=x==="default"?"primary":"white";if(N==="end"&&(T==="inset"||T==="edge"))throw r("FBLogger")("comet_ui").mustfixThrow('"end" position with arrow is not supported yet');var W;t[3]!==E||t[4]!==l||t[5]!==I||t[6]!==v?(W=I!=null?{"aria-describedby":l,"aria-labelledby":v}:{"aria-describedby":l,"aria-label":E},t[3]=E,t[4]=l,t[5]=I,t[6]=v,t[7]=W):W=t[7];var q=W,U;t[8]!==B||t[9]!==i||t[10]!==l||t[11]!==I||t[12]!==v?(U=c.jsx(r("FDSTextPairing.react"),{body:i,bodyColor:B,bodyId:l,headline:I,headlineColor:B,headlineId:v,isSemanticHeading:!0,level:3}),t[8]=B,t[9]=i,t[10]=l,t[11]=I,t[12]=v,t[13]=U):U=t[13];var V;t[14]!==U||t[15]!==O?(V=c.jsx(r("BaseRowItem.react"),{expanding:!0,ref:O,verticalAlign:"center",xstyle:_.item,children:U}),t[14]=U,t[15]=O,t[16]=V):V=t[16];var H;t[17]!==$||t[18]!==p||t[19]!==x?(H=$&&c.jsx(r("BaseRowItem.react"),{xstyle:[_.crossoutButton,_.item],children:c.jsx(r("FDSIcon.react"),{"aria-label":s._(/*BTDS*/"Close"),color:x==="default"?"secondary":"white",focusable:!0,icon:o("fbicon")._(u("478232"),16),onPress:p,size:16})}),t[17]=$,t[18]=p,t[19]=x,t[20]=H):H=t[20];var G;t[21]!==V||t[22]!==H?(G=c.jsx(r("CometColumnItem.react"),{children:c.jsxs(r("BaseRow.react"),{children:[V,H]})}),t[21]=V,t[22]=H,t[23]=G):G=t[23];var z;t[24]!==L?(z=L!=null&&c.jsx(r("CometColumnItem.react"),{paddingTop:12,children:c.jsx(r("BaseRow.react"),{children:c.jsx(r("BaseRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:_.item,children:L})})}),t[24]=L,t[25]=z):z=t[25];var j;t[26]!==G||t[27]!==z?(j=c.jsxs(r("CometColumn.react"),{children:[G,z]}),t[26]=G,t[27]=z,t[28]=j):j=t[28];var K=j;if(!A&&T==="inset"){var Q;return t[29]!==q||t[30]!==a||t[31]!==K||t[32]!==D||t[33]!==p||t[34]!==C||t[35]!==x||t[36]!==R?(Q=c.jsx(r("FDSCalloutInset.react"),babelHelpers.extends({},q,{disableAutoFocus:D,id:a,onClose:p,onOutsideClick:C,type:x,xstyle:R,children:K})),t[29]=q,t[30]=a,t[31]=K,t[32]=D,t[33]=p,t[34]=C,t[35]=x,t[36]=R,t[37]=Q):Q=t[37],Q}if(!A&&T==="edge"){var X;return t[38]!==q||t[39]!==a||t[40]!==K||t[41]!==D||t[42]!==p||t[43]!==C||t[44]!==x||t[45]!==R?(X=c.jsx(r("FDSCalloutEdge.react"),babelHelpers.extends({},q,{disableAutoFocus:D,id:a,onClose:p,onOutsideClick:C,type:x,xstyle:R,children:K})),t[38]=q,t[39]=a,t[40]=K,t[41]=D,t[42]=p,t[43]=C,t[44]=x,t[45]=R,t[46]=X):X=t[46],X}var Y=a!=null?a:void 0,J=D?void 0:o("focusScopeQueries").tabbableScopeQuery,Z=f[x],ee=T==="none"&&g[N],te=A&&_.fitContent,ne;t[47]!==Z||t[48]!==ee||t[49]!==te||t[50]!==R?(ne=[_.content,Z,ee,R,te],t[47]=Z,t[48]=ee,t[49]=te,t[50]=R,t[51]=ne):ne=t[51];var re;t[52]!==K||t[53]!==M||t[54]!==ne?(re=c.jsx(r("BaseRow.react"),{ref:M,xstyle:ne,children:K}),t[52]=K,t[53]=M,t[54]=ne,t[55]=re):re=t[55];var oe;t[56]!==p||t[57]!==re?(oe=c.jsx(r("CometHideLayerOnEscape.react"),{onHide:p,children:re}),t[56]=p,t[57]=re,t[58]=oe):oe=t[58];var ae;t[59]!==J||t[60]!==oe?(ae=c.jsx(o("FocusRegionStrictMode.react").FocusRegion,{autoFocusQuery:J,children:oe}),t[59]=J,t[60]=oe,t[61]=ae):ae=t[61];var ie;return t[62]!==q||t[63]!==Y||t[64]!==ae?(ie=c.jsx(r("CometErrorBoundary.react"),{fallback:y,children:c.jsx(r("BaseView.react"),babelHelpers.extends({},q,{id:Y,role:"dialog",xstyle:_.container,children:ae}))}),t[62]=q,t[63]=Y,t[64]=ae,t[65]=ie):ie=t[65],ie}function y(){return c.jsx("div",{})}y.displayName=y.name+" [from "+i.id+"]",l.default=h}),226);
__d("FDSCalloutImpl.react",["BaseCalloutImpl.react","FDSCallout.react","FDSCalloutContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["disableOutsideClick","onClose"],s,u=s||(s=o("react")),c=s.useContext;function d(t){var n=o("react-compiler-runtime").c(23),a=t.calloutID,i=t.calloutProps,l=t.contentID,s=t.titleID,d=c(r("FDSCalloutContext"));if(d==null||i==null)return null;var m,p,_;n[0]!==i?(p=i.disableOutsideClick,_=i.onClose,m=babelHelpers.objectWithoutPropertiesLoose(i,e),n[0]=i,n[1]=m,n[2]=p,n[3]=_):(m=n[1],p=n[2],_=n[3]);var f;n[4]!==d||n[5]!==a||n[6]!==_?(f=function(){d.removeCallout(a),_==null||_()},n[4]=d,n[5]=a,n[6]=_,n[7]=f):f=n[7];var g;n[8]!==d||n[9]!==a||n[10]!==p||n[11]!==_?(g=function(){p!==!0&&(d.removeCallout(a),_==null||_())},n[8]=d,n[9]=a,n[10]=p,n[11]=_,n[12]=g):g=n[12];var h;n[13]!==a||n[14]!==m||n[15]!==l||n[16]!==f||n[17]!==g||n[18]!==s?(h=u.jsx(r("FDSCallout.react"),babelHelpers.extends({},m,{calloutID:a,contentID:l,onClose:f,onOutsideClick:g,titleID:s})),n[13]=a,n[14]=m,n[15]=l,n[16]=f,n[17]=g,n[18]=s,n[19]=h):h=n[19];var y;return n[20]!==t||n[21]!==h?(y=u.jsx(r("BaseCalloutImpl.react"),babelHelpers.extends({},t,{children:h})),n[20]=t,n[21]=h,n[22]=y):y=n[22],y}l.default=d}),98);
__d("FDSCardNewHighlightAnimation.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u="x1xpn5z0-B",c={borderHighlightAnimation:{animationDuration:"x1cggvi1",animationFillMode:"x1u6ievf",animationName:"x15ch6gq",animationTimingFunction:"xwyqyvi",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(2),n=e.xstyle,r;return t[0]!==n?(r=s.jsx(o("react-strict-dom").html.div,{style:[n,c.borderHighlightAnimation]}),t[0]=n,t[1]=r):r=t[1],r}l.default=d}),98);
__d("FDSCardImpl.react",["BaseView.react","CometScrollableArea.react","FDSCardNewHighlightAnimation.react","XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom","testID"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={"base-wash":{backgroundColor:"x1vtvx1t",$$css:!0},"card-flat":{backgroundColor:"xlhe6ec",$$css:!0},"dark-wash":{backgroundColor:"xatbrnm",$$css:!0},default:{backgroundColor:"x1jx94hy",$$css:!0},error:{backgroundColor:"x1ciooss",$$css:!0},highlight:{backgroundColor:"xwnonoy",$$css:!0},"light-wash":{backgroundColor:"x443n21",$$css:!0},transparent:{backgroundColor:"xjbqb8w",$$css:!0}},c={borderHighlightOverlay:{borderTopColor:"x1tz4bnf",borderInlineEndColor:"x1yqjg3l",borderBottomColor:"x25epmt",borderInlineStartColor:"xkkygvr",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"xamhcws",borderInlineEndWidth:"x1alpsbp",borderBottomWidth:"xlxy82",borderInlineStartWidth:"xyumdvf",bottom:"x1t1qrwb",left:"x1f4buv5",pointerEvents:"x47corl",position:"x10l6tqk",right:"x1bkpikb",insetInlineStart:null,insetInlineEnd:null,top:"x1qiirwl",zIndex:"x1vjfegm",$$css:!0},borderInset:{borderStartStartRadius:"xw5cjc7",borderStartEndRadius:"x1dmpuos",borderEndEndRadius:"x1vsv7so",borderEndStartRadius:"xau1kf4",bottom:"x1ey2m1c",boxShadow:"xlg9a9y",boxSizing:"x9f619",left:"xu96u03",pointerEvents:"x47corl",position:"x10l6tqk",right:"x3m8u43",insetInlineStart:null,insetInlineEnd:null,top:"x13vifvy",$$css:!0},borderOnWash:{borderTopColor:"x8cjs6t",borderInlineEndColor:"x3sou0m",borderBottomColor:"x80vd3b",borderInlineStartColor:"x12u81az",$$css:!0},borderOnWhite:{borderTopColor:"x8cjs6t",borderInlineEndColor:"x3sou0m",borderBottomColor:"x80vd3b",borderInlineStartColor:"x12u81az",$$css:!0},borderSolid:{borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0},container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},expanding:{flexGrow:"x1iyjqo2",$$css:!0},overflowHidden:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},root:{borderStartStartRadius:"xw5cjc7",borderStartEndRadius:"x1dmpuos",borderEndEndRadius:"x1vsv7so",borderEndStartRadius:"xau1kf4",boxSizing:"x9f619",width:"xh8yej3",$$css:!0},scrollable:{height:"x5yr21d",$$css:!0}},d={0:{$$css:!0},1:{boxShadow:"xquyuld",$$css:!0},2:{boxShadow:"x10h3on",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(35),n=e.allowOverflow,a=e.background,i=e.border,l=e.borderHighlight,m=e.children,p=e.dropShadow,_=e.expanding,f=e.ref,g=e.testid,h=e.xstyle,y=e["aria-label"],C=e["aria-labelledby"],b=e.focusable,v=e.scrollable,S=n===void 0?!1:n,R=a===void 0?"transparent":a,L=i===void 0?"none":i,E=p===void 0?0:p,k=_===void 0?!1:_,I=b===void 0?!1:b,T=v===void 0?!1:v,D=d[E],x=R==="white"?"default":R,$;t[0]!==y||t[1]!==C||t[2]!==I?($=y!=null&&I?{"aria-label":y,tabIndex:0}:C!=null&&I?{"aria-labelledby":C,tabIndex:0}:{},t[0]=y,t[1]=C,t[2]=I,t[3]=$):$=t[3];var P=$,N;t[4]!==m||t[5]!==P||t[6]!==T?(N=T?s.jsx(r("CometScrollableArea.react"),babelHelpers.extends({},P,{xstyle:c.scrollable,children:m})):m,t[4]=m,t[5]=P,t[6]=T,t[7]=N):N=t[7];var M=N,w=k&&c.expanding,A;t[8]!==w?(A=[c.container,w],t[8]=w,t[9]=A):A=t[9];var F;t[10]!==g?(F=r("testID")(g),t[10]=g,t[11]=F):F=t[11];var O;t[12]===Symbol.for("react.memo_cache_sentinel")?(O={borderRadius:o("XPlatReactEnvironment").isWeb()?"max(0px, min(var(--card-corner-radius), calc((100vw - 4px - 100%) * 9999))) / var(--card-corner-radius)":void 0},t[12]=O):O=t[12];var B=u[x],W=L==="solid"&&x!=="default"&&c.borderOnWash,q=L==="solid"&&x==="default"&&c.borderOnWhite,U=L==="solid"&&c.borderSolid,V=!S&&c.overflowHidden,H;t[13]!==D||t[14]!==B||t[15]!==W||t[16]!==q||t[17]!==U||t[18]!==V||t[19]!==h?(H=[B,W,q,U,c.root,V,D,h],t[13]=D,t[14]=B,t[15]=W,t[16]=q,t[17]=U,t[18]=V,t[19]=h,t[20]=H):H=t[20];var G;t[21]!==M||t[22]!==f||t[23]!==H?(G=s.jsx(r("BaseView.react"),{ref:f,style:O,xstyle:H,children:M}),t[21]=M,t[22]=f,t[23]=H,t[24]=G):G=t[24];var z;t[25]!==L?(z=L==="inset"?s.jsx(o("react-strict-dom").html.div,{style:c.borderInset}):null,t[25]=L,t[26]=z):z=t[26];var j;t[27]!==l?(j=l!=null?o("XPlatReactEnvironment").isWeb()&&l==="animated"?s.jsx(r("FDSCardNewHighlightAnimation.react"),{xstyle:c.borderHighlightOverlay}):s.jsx(o("react-strict-dom").html.div,{style:[c.borderHighlightOverlay]}):null,t[27]=l,t[28]=j):j=t[28];var K;return t[29]!==A||t[30]!==F||t[31]!==G||t[32]!==z||t[33]!==j?(K=s.jsxs(o("react-strict-dom").html.div,babelHelpers.extends({style:A},F,{children:[G,z,j]})),t[29]=A,t[30]=F,t[31]=G,t[32]=z,t[33]=j,t[34]=K):K=t[34],K}l.default=m}),98);
__d("FDSCard.react",["FDSCardImpl.react","MetaConfig","XPlatReactEnvironment","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","background"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a,i,l;n[0]!==t?(l=t.ref,a=t.background,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s=a==="dark-wash"&&o("XPlatReactEnvironment").isWeb()&&r("MetaConfig")._("73")?"base-wash":a,c;return n[4]!==i||n[5]!==l||n[6]!==s?(c=u.jsx(r("FDSCardImpl.react"),babelHelpers.extends({background:s},i,{ref:l})),n[4]=i,n[5]=l,n[6]=s,n[7]=c):c=n[7],c}l.default=c}),98);
__d("FDSControlledUserBlockingDialog.react",["BaseModal.react","CometPlaceholder.react","FDSCardedDialogLegacy.react","FDSCardedDialogLoadingStateLegacy.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(18),n=e.aboveNav,a=e.backdropXStyle,l=e.children,u=e.disableClosingWithMask,c=e.disableHeaderDivider,d=e.labelledBy,m=e.onDismiss,p=e.size,_=e.title,f=e.withCloseButton,g=n===void 0?!1:n,h=c===void 0?!1:c,y=m===void 0?r("emptyFunction"):m,C=p===void 0?"small":p,b=g===!0?"above-nav":"above-everything",v;t[0]!==y?(v=s.jsx(r("FDSCardedDialogLoadingStateLegacy.react"),{onClose:y}),t[0]=y,t[1]=v):v=t[1];var S;t[2]!==l||t[3]!==u||t[4]!==h||t[5]!==d||t[6]!==y||t[7]!==C||t[8]!==_||t[9]!==f?(S=s.jsx(r("FDSCardedDialogLegacy.react"),{disableClosingWithMask:u,disableHeaderDivider:h,labelledBy:d,onClose:y,size:C,title:_,withCloseButton:f,children:l}),t[2]=l,t[3]=u,t[4]=h,t[5]=d,t[6]=y,t[7]=C,t[8]=_,t[9]=f,t[10]=S):S=t[10];var R;t[11]!==v||t[12]!==S?(R=s.jsx(r("CometPlaceholder.react"),{fallback:v,name:i.id,children:S}),t[11]=v,t[12]=S,t[13]=R):R=t[13];var L;return t[14]!==a||t[15]!==b||t[16]!==R?(L=s.jsx(r("BaseModal.react"),{backdropXStyle:a,blockKeyCommands:!0,stackingBehavior:b,children:R}),t[14]=a,t[15]=b,t[16]=R,t[17]=L):L=t[17],L}l.default=u}),98);
__d("useFDSUncheckedStyles",["MetaConfig","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={uncheked:{backgroundColor:"x70xgpi",$$css:!0}};function c(){var e=r("MetaConfig")._("73");return e?u.uncheked:void 0}l.useFDSUncheckedStyles=c}),98);
__d("FDSSwitch.react",["BaseStyledSwitch.react","react","react-compiler-runtime","useFDSUncheckedStyles"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","disabled","onValueChange","size","testid","value","valueChangeAction","xstyle"],s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useOptimistic;function p(t){var n=o("react-compiler-runtime").c(24),a,i,l,s,c,d,p,_,f;n[0]!==t?(l=t.ref,s=t.disabled,a=t.onValueChange,c=t.size,d=t.testid,p=t.value,_=t.valueChangeAction,f=t.xstyle,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=p,n[8]=_,n[9]=f):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],p=n[7],_=n[8],f=n[9]);var g=s===void 0?!1:s,h=c===void 0?"medium":c,y=o("useFDSUncheckedStyles").useFDSUncheckedStyles(),C=m(p),b=C[0],v=C[1],S=b!==p,R=_!=null,L;n[10]!==_?(L=async function(t){_!=null&&(v(t),await _(t))},n[10]=_,n[11]=L):L=n[11];var E=L,k=d!=null?d:"FDSSwitch",I=R?b:p,T=R?E:void 0,D;return n[12]!==g||n[13]!==S||n[14]!==a||n[15]!==i||n[16]!==l||n[17]!==h||n[18]!==k||n[19]!==I||n[20]!==T||n[21]!==y||n[22]!==f?(D=u.jsx(r("BaseStyledSwitch.react"),babelHelpers.extends({},i,{disabled:g,isPending:S,onValueChange:a,ref:l,size:h,testid:void 0,uncheckedXStyle:y,value:I,valueChangeAction:T,xstyle:f})),n[12]=g,n[13]=S,n[14]=a,n[15]=i,n[16]=l,n[17]=h,n[18]=k,n[19]=I,n[20]=T,n[21]=y,n[22]=f,n[23]=D):D=n[23],D}l.default=p}),98);
__d("XMessengerHelpCenterHomeControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/help/messenger-app/",Object.freeze({region_hint:[],expand_folders:[]}),void 0),s=e;l.default=s}),98);/*FB_PKG_DELIM*/
__d("FDSMenuItemCheckbox.react",["ix","BaseIsDecorativeContext","BaseStyledSwitchLayout.react","FDSIcon.react","FDSMenuItemBase.react","FDSMenuItemIcon.react","UNTRANSLATED_STRING_FIXME","fbicon","react","react-compiler-runtime","useFDSUncheckedStyles"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ref"],u=["asSwitch","disabled","icon","iconColor","iconSize","iconStyle","isSelected","radioStyle","secondaryText"],c,d=c||(c=o("react")),m=c.useId,p={switch:{marginBottom:"x4vbgl9",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(38),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,c,_,f,g,h,y,C,b;if(n[3]!==a){var v=a,S=v.asSwitch,R=v.disabled,L=v.icon,E=v.iconColor,k=v.iconSize,I=v.iconStyle,T=v.isSelected,D=v.radioStyle,x=v.secondaryText,$=babelHelpers.objectWithoutPropertiesLoose(v,u);c=R,_=L,f=E,g=k,h=I,y=T,b=D,C=x,l=$,n[3]=a,n[4]=l,n[5]=c,n[6]=_,n[7]=f,n[8]=g,n[9]=h,n[10]=y,n[11]=C,n[12]=b}else l=n[4],c=n[5],_=n[6],f=n[7],g=n[8],h=n[9],y=n[10],C=n[11],b=n[12];var P=o("useFDSUncheckedStyles").useFDSUncheckedStyles(),N=m(),M;n[13]!==c||n[14]!==y||n[15]!==a.asSwitch||n[16]!==P?(M=a.asSwitch===!0?d.jsx(r("BaseIsDecorativeContext").Provider,{value:!0,children:d.jsx(r("BaseStyledSwitchLayout.react"),{size:"small",uncheckedXStyle:P,value:y,xstyle:p.switch})}):y?d.jsx(r("FDSIcon.react"),{color:c===!0?"disabled":"highlight",icon:o("fbicon")._(s("531032"),24)}):d.jsx(r("FDSIcon.react"),{color:c===!0?"disabled":"secondary",icon:o("fbicon")._(s("659289"),24)}),n[13]=c,n[14]=y,n[15]=a.asSwitch,n[16]=P,n[17]=M):M=n[17];var w=M,A=C!=null?N:void 0,F;n[18]!==a.primaryText?(F=r("UNTRANSLATED_STRING_FIXME")(a.primaryText.toString()),n[18]=a.primaryText,n[19]=F):F=n[19];var O;n[20]!==_||n[21]!==f||n[22]!==g||n[23]!==h?(O=_!=null?d.jsx(r("FDSMenuItemIcon.react"),{icon:_,iconColor:f,iconSize:g,use:h}):void 0,n[20]=_,n[21]=f,n[22]=g,n[23]=h,n[24]=O):O=n[24];var B;n[25]!==C||n[26]!==N?(B=C!=null?d.jsx("span",{id:N,children:C}):void 0,n[25]=C,n[26]=N,n[27]=B):B=n[27];var W;return n[28]!==w||n[29]!==l||n[30]!==c||n[31]!==y||n[32]!==i||n[33]!==A||n[34]!==F||n[35]!==O||n[36]!==B?(W=d.jsx(r("FDSMenuItemBase.react"),babelHelpers.extends({},l,{"aria-checked":y,"aria-describedby":A,"aria-label":F,aux:w,disabled:c,iconNode:O,ref:i,role:"menuitemcheckbox",secondaryText:B})),n[28]=w,n[29]=l,n[30]=c,n[31]=y,n[32]=i,n[33]=A,n[34]=F,n[35]=O,n[36]=B,n[37]=W):W=n[37],W}l.default=_}),98);
__d("LSHandleAutoRestoreDecisionResult",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.resolve(r)}e.__sproc_name__="LSEncryptedBackupsHandleAutoRestoreDecisionResultStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSHandleOnboardingStageResult",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.resolve(r)}e.__sproc_name__="LSEncryptedBackupsHandleOnboardingStageResultStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSMarkBumpedThreadsSeen",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.islc(t.filter(t.db.table(9).fetchDesc([[[e[0]]],"secondaryParentThreadKeyLastActivityTimestampMs"]),function(n){return t.i64.eq(n.secondaryParentThreadKey,e[0])&&[t.i64.cast([0,18]),t.i64.cast([0,23]),t.i64.cast([0,21]),t.i64.cast([0,27])].some(function(e){return t.i64.eq(n.threadType,e)})}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[0]=a.lastActivityTimestampMs,t.i64.gt(r[0],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[0]})},function(o){return r[2]=new t.Map,r[2].set("parent_thread_key",e[0]),r[2].set("last_seen_time_ms",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[3])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[0])?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[0]})},function(o){return r[2]=new t.Map,r[2].set("parent_thread_key",e[0]),r[2].set("last_seen_time_ms",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[3])}]):t.resolve())}):t.resolve())})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkBumpedThreadsSeenStoredProcedure",e.__tables__=["threads","folder_metadata"],a.exports=e}),null);
__d("LSMarkBumpedThreadsSeenStoredProcedure",["LSMarkBumpedThreadsSeen","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkBumpedThreadsSeen"),a.secondaryParentThreadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMarkFolderSeen",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=void 0:(t=o.item,r[0]=t.threadType)})},function(o){return t.i64.eq(r[0],t.i64.cast([0,17]))?t.sequence([function(n){return r[2]=t.i64.of_float(Date.now()),t.forEach(t.db.table(9).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastReadWatermarkTimestampMs:r[2]})})},function(o){return r[3]=t.i64.of_float(Date.now()),t.i64.gt(r[3],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[3]})},function(o){return r[6]=new t.Map,r[6].set("parent_thread_key",e[0]),r[6].set("last_seen_time_ms",r[3]),r[7]=t.toJSON(r[6]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[7])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[3])?t.sequence([function(n){return t.forEach(t.db.table(35).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastSeenRequestTimestampMs:r[3]})})},function(o){return r[6]=new t.Map,r[6].set("parent_thread_key",e[0]),r[6].set("last_seen_time_ms",r[3]),r[7]=t.toJSON(r[6]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[7])}]):t.resolve())}):t.resolve()},function(n){return r[4]=t.i64.of_float(Date.now()),t.forEach(t.db.table(162).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({readTimestampMs:r[4]})})}]):t.sequence([function(n){return t.islc(t.sortBy(t.filter(t.db.table(276).fetch(),function(n){return t.i64.eq(n.folderType,e[0])}),[["lastActivityAuthoritativeTsMs","DESC"]]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o=e.done,a=e.value;return o?r[2]=t.i64.cast([0,0]):(n=a.item,r[8]=n.lastActivityAuthoritativeTsMs,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,0]),r[2]=r[7])})},function(n){return t.islc(t.db.table(9).fetchDesc([[[e[0]]],"parentThreadKeyLastActivityTimestampMs"]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,n){var o=e.done,a=e.value;return o?r[4]=t.i64.cast([0,0]):(n=a.item,r[8]=n.lastActivityTimestampMs,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,0]),r[4]=r[7])})},function(o){return r[6]=t.i64.gt(r[2],r[4])?r[2]:r[4],t.i64.gt(r[6],t.i64.cast([0,0]))?t.db.table(35).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(35).add({parentThreadKey:e[0],lastSeenRequestTimestampMs:r[6]})},function(o){return r[8]=new t.Map,r[8].set("parent_thread_key",e[0]),r[8].set("last_seen_time_ms",r[6]),r[9]=t.toJSON(r[8]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[9])}]):(a=l.item,t.i64.lt(a.lastSeenRequestTimestampMs,r[6])?t.sequence([function(n){return t.forEach(t.db.table(35).fetch([[[e[0]]]]),function(e){var t=e.update,n=e.item;return t({lastSeenRequestTimestampMs:r[6]})})},function(o){return r[8]=new t.Map,r[8].set("parent_thread_key",e[0]),r[8].set("last_seen_time_ms",r[6]),r[9]=t.toJSON(r[8]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),"fire_forget",t.i64.cast([0,6]),r[9])}]):t.resolve())}):t.resolve()}])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkFolderSeenStoredProcedure",e.__tables__=["threads","folder_metadata","community_folders","client_threads"],a.exports=e}),null);
__d("LSMarkFolderSeenStoredProcedure",["LSMarkFolderSeen","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkFolderSeen"),a.parentThreadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpdateBackupsTable",["LSAppendDataTraceAddon","LSArrayGetObjectAt","LSDeleteAndReenrollDeviceState","LSDeleteBackupOnClient","LSFlushDataTrace.nop","LSIsEncryptionVersionSecure","LSIsMobileClient","LSLogMebClientEvent.nop"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=t.i64.of_float(Date.now()),(function(e){t.logger(e).info(e)})("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Beginning execution."),t.sequence([function(r){return e[5]!==void 0?t.storedProcedure(n("LSAppendDataTraceAddon"),e[5],t.i64.cast([0,1467]),t.i64.cast([0,2]),void 0,void 0):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[7]=t[0],t})},function(e){return r[7]?r[8]=!0:r[8]=!1,r[8]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[10]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[10]].join("")),r[9]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[10],r[9],t.i64.cast([0,3]))):t.resolve()}])},function(o){return e[0]?t.sequence([function(e){return t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}).next().then(function(e,t){var n=e.done,o=e.value;return n?r[7]=!1:(t=o.item,r[7]=!0)})},function(o){return r[7]?t.sequence([function(e){return t.islc(t.filter(t.db.table(168).fetch(),function(e){return t.i64.eq(e.authorityLevel,t.i64.cast([0,80]))}),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,o){var a,i=e.done,l=e.value;return i?(a=[void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,1]),void 0,void 0,void 0,void 0,void 0,void 0,void 0,t.i64.cast([0,20]),void 0,void 0],r[11]=a[0],r[12]=a[1],r[13]=a[2],r[14]=a[3],r[15]=a[4],r[16]=a[5],r[17]=a[6],r[18]=a[7],r[19]=a[8],r[20]=a[9],r[21]=a[10],r[22]=a[11],r[23]=a[12],r[24]=a[13],r[25]=a[14],r[26]=a[15],r[27]=a[16],r[28]=a[17],a):(o=l.item,t.sequence([function(e){return r[37]=o.backupTenancy,r[36]=o.encryptionVersion,r[32]=void 0,t.i64.neq(r[32],void 0)?t.resolve(r[33]=r[32]):t.sequence([function(e){return r[38]=t.createArray(),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,0])).then(function(e){var t;return t=e,r[39]=t[0],t})},function(e){return r[39]&&(r[48]=(r[38].push(t.i64.cast([0,0])),r[38])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,2])).then(function(e){var t;return t=e,r[40]=t[0],t})},function(e){return r[40]&&(r[48]=(r[38].push(t.i64.cast([0,2])),r[38])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,3])).then(function(e){var t;return t=e,r[41]=t[0],t})},function(e){return r[41]&&(r[48]=(r[38].push(t.i64.cast([0,3])),r[38])),t.storedProcedure(n("LSIsEncryptionVersionSecure"),t.i64.cast([0,4])).then(function(e){var t;return t=e,r[42]=t[0],t})},function(e){return r[42]&&(r[48]=(r[38].push(t.i64.cast([0,4])),r[38])),r[43]=t.createArray(),r[44]=t.i64.of_int32(r[38].length),t.i64.gt(r[44],t.i64.cast([0,0]))?t.loopAsync(r[44],function(e){return r[48]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[38],r[48]).then(function(e){var t;return t=e,r[49]=t[0],r[50]=t[1],t})},function(e){return r[51]=(r[43].push(r[49]),r[43])}])}):t.resolve()},function(e){return t.sequence([function(e){return r[48]=t.createArray(),r[49]=t.i64.of_int32(r[43].length),t.i64.gt(r[49],t.i64.cast([0,0]))?t.loopAsync(r[49],function(e){return r[51]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[43],r[51]).then(function(e){var t;return t=e,r[52]=t[0],r[53]=t[1],t})},function(e){return r[54]=(r[48].push(t.i64.to_string(r[52])),r[48])}])}):t.resolve()},function(e){return r[50]=r[48].join(","),r[45]=r[50]}])},function(e){return r[43].some(function(e){return t.i64.eq(r[36],e)})?r[46]=r[36]:r[46]=void 0,t.i64.neq(r[46],void 0)?r[47]=r[46]:r[47]=void 0,r[33]=r[47]}])},function(e){var n;return t.i64.neq(r[33],void 0)?r[34]=r[33]:r[34]=t.i64.cast([0,0]),t.i64.neq(r[37],void 0)?r[35]=r[37]:r[35]=t.i64.cast([0,1]),n=[o.backupId,o.deviceId,o.mailboxRootKeyBlob,o.ocmfClientStateBlob,void 0,void 0,r[34],r[35],o.epochAuthPublicKeyBlob,o.epochAuthPrivateKeyBlob,o.devicePublicKeyBlob,o.devicePrivateKeyBlob,o.epochStoragePublicKeyBlob,o.epochStoragePrivateKeyBlob,o.obliviousValidationTokenBlob,o.authorityLevel,void 0,void 0],r[11]=n[0],r[12]=n[1],r[13]=n[2],r[14]=n[3],r[15]=n[4],r[16]=n[5],r[17]=n[6],r[18]=n[7],r[19]=n[8],r[20]=n[9],r[21]=n[10],r[22]=n[11],r[23]=n[12],r[24]=n[13],r[25]=n[14],r[26]=n[15],r[27]=n[16],r[28]=n[17]}]))})},function(o){return r[30]=!1,r[31]=t.i64.of_int32(e[3].length),t.i64.gt(r[31],t.i64.cast([0,0]))?t.loopAsync(r[31],function(o){return r[32]=o,t.sequence([function(o){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),e[3],r[32]).then(function(e){var t;return t=e,r[33]=t[0],r[34]=t[1],t})},function(e){return r[35]=r[33].get("device_id"),r[30]=r[30]||t.i64.eq(r[12],r[35])}])}):t.resolve()},function(o){return r[30]?t.resolve():((function(e){t.logger(e).info(e)})("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Client device id not in the list of device ids associated with the backupDeleting backup client state"),t.i64.neq(r[12],void 0),t.storedProcedure(n("LSDeleteBackupOnClient"),void 0,void 0,!1,e[5],void 0,!0))}]):t.resolve()},function(e){return t.forEach(t.filter(t.db.table(184).fetch(),function(e){return t.i64.neq(e.removalStatus,t.i64.cast([0,2]))}),function(e){return e.delete()})},function(o){return r[9]=t.i64.of_int32(e[2].length),t.i64.gt(r[9],t.i64.cast([0,0]))?t.loopAsync(r[9],function(o){return r[11]=o,t.sequence([function(o){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),e[2],r[11]).then(function(e){var t;return t=e,r[12]=t[0],r[13]=t[1],t})},function(e){return r[14]=r[12].get("virtual_devices"),r[14]?r[15]=!1:r[15]=!0,r[15]?t.resolve():(r[16]=t.i64.of_int32(r[14].length),t.i64.gt(r[16],t.i64.cast([0,0]))?t.loopAsync(r[16],function(e){return r[17]=e,t.sequence([function(e){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),r[14],r[17]).then(function(e){var t;return t=e,r[18]=t[0],r[19]=t[1],t})},function(e){return r[20]=r[18].get("virtual_device_id"),r[21]=r[18].get("virtual_device_type"),r[22]=r[18].get("creation_time"),r[23]=r[18].get("device_created_on"),r[24]=r[18].get("cloud_service_account"),r[25]=r[18].get("hsm_pin_normalization_status"),r[26]=r[18].get("requires_hsm_migration"),r[27]=r[18].get("hsm_migration_status"),r[28]=r[18].get("security_question_type"),r[29]=r[18].get("trusted_contact_id"),r[30]=r[18].get("recovery_code"),r[31]=r[12].get("backup_id"),t.count(t.filter(t.db.table(184).fetch(),function(e){return t.i64.eq(e.backupId,r[31])&&t.blobs.eq(e.virtualDeviceId,r[20])})).then(function(e){return r[32]=e})},function(e){return t.i64.eq(r[32],t.i64.cast([0,0]))?(r[33]=r[12].get("backup_id"),t.db.table(184).add({pk:void 0,backupId:r[33],virtualDeviceId:r[20],virtualDeviceType:r[21],creationTime:r[22],deviceCreatedOn:r[23],requiresHsmMigration:r[26]})):t.resolve()}])}):t.resolve())}])}):t.resolve()},function(e){return t.forEach(t.db.table(172).fetch(),function(e){return e.delete()})},function(o){return r[10]=t.i64.of_int32(e[1].length),t.i64.gt(r[10],t.i64.cast([0,0]))?t.sequence([function(o){return t.nativeTypeOperation("Array",n("LSArrayGetObjectAt"),e[1],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[11]=t[0],r[12]=t[1],t})},function(e){return r[13]=r[11].get("backup_id"),r[14]=r[11].get("backup_tenancy"),t.forEach(t.filter(t.db.table(172).fetch([[[t.i64.cast([0,1])]]]),function(e){return t.i64.eq(e.pk,t.i64.cast([0,1]))&&t.i64.lt(e.authorityLevel,t.i64.cast([0,80]))}),function(e){return e.delete()})},function(n){return t.db.table(172).add({pk:t.i64.cast([0,1]),backupId:r[13],authorityLevel:t.i64.cast([0,80]),backupTenancy:r[14],isUserOptedOut:e[6],hasOtcEligibleDevices:e[7],encryptionManagementDelegatorId:e[8]})}]):t.sequence([function(e){return t.forEach(t.filter(t.db.table(172).fetch([[[t.i64.cast([0,1])]]]),function(e){return t.i64.eq(e.pk,t.i64.cast([0,1]))&&t.i64.lt(e.authorityLevel,t.i64.cast([0,80]))}),function(e){return e.delete()})},function(n){return t.db.table(172).add({pk:t.i64.cast([0,1]),authorityLevel:t.i64.cast([0,80]),isUserOptedOut:e[6],hasOtcEligibleDevices:e[7],encryptionManagementDelegatorId:e[8]})}])}]):t.sequence([function(o){return(function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] Fetch backup task did not succeed."),r[7]=t.createArray(),e[5]!==void 0&&(r[8]=(r[7].push(e[5]),r[7])),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure","Fetch backup task did not succeed.",r[7],t.i64.cast([0,3]))},function(e){return t.forEach(t.db.table(172).fetch(),function(e){return e.delete()})},function(e){return t.forEach(t.filter(t.db.table(172).fetch([[[t.i64.cast([0,1])]]]),function(e){return t.i64.eq(e.pk,t.i64.cast([0,1]))&&t.i64.lt(e.authorityLevel,t.i64.cast([0,80]))}),function(e){return e.delete()})},function(e){return t.db.table(172).add({pk:t.i64.cast([0,1]),backupId:t.i64.cast([-1,4294967295]),authorityLevel:t.i64.cast([0,80]),hasOtcEligibleDevices:!1})},function(o){return t.sequence([function(r){return e[5]!==void 0?t.nativeOperation(n("LSFlushDataTrace.nop"),e[5]):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[8]=t[0],t})},function(e){return r[8]?r[9]=!0:r[9]=!1,r[9]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[11]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[11]].join("")),r[10]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[11],r[10],t.i64.cast([0,3]))):t.resolve()}])}])},function(o){return t.sequence([function(r){return e[5]!==void 0?t.nativeOperation(n("LSFlushDataTrace.nop"),e[5]):t.resolve()},function(e){return t.storedProcedure(n("LSIsMobileClient")).then(function(e){var t;return t=e,r[7]=t[0],t})},function(e){return r[7]?r[8]=!0:r[8]=!1,r[8]?((function(e){t.logger(e).mustfix(e)})("[EncryptedBackups][MEBTraceUtils] LSDataTraceMciTraceLog native op not supported"),r[10]="LSDataTraceMciTraceLog native op not supported",(function(e){t.logger(e).mustfix(e)})(["[EncryptedBackups][MEBTraceUtils] ","",r[10]].join("")),r[9]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"MEBTraceUtils",r[10],r[9],t.i64.cast([0,3]))):t.resolve()}])},function(e){return r[1]=t.i64.of_float(Date.now()),r[2]=t.i64.random(),r[4]="Finishing execution. Execution time: ",r[5]=t.i64.to_string(t.i64.sub(r[1],r[0])),r[6]=" ms",r[3]="",(function(e){t.logger(e).info(e)})(["[EncryptedBackups][LSEncryptedBackupsUpdateBackupsTableStoredProcedure] ",r[3],r[4],r[3],r[5],r[3],r[6]].join("")),t.i64.eq(t.i64.mod_(r[2],t.i64.cast([0,1e3])),t.i64.cast([0,0]))?(r[7]=",",r[8]=t.createArray(),t.nativeOperation(n("LSLogMebClientEvent.nop"),"LSEncryptedBackupsUpdateBackupsTableStoredProcedure",[r[4],r[7],r[5],r[7],r[6]].join(""),r[8],t.i64.cast([0,4]))):t.resolve()}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSEncryptedBackupsUpdateBackupsTableStoredProcedure",e.__tables__=["secure_encrypted_backups_client_state","encrypted_backups_virtual_devices","encrypted_backups"],a.exports=e}),null);
__d("MAWBridgeTraceUtils",["I64","Promise","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,r,a){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_meta).filter(function(e){var t=e.contextThree;return t!=null&&r===t&&(s||(s=o("I64"))).equal(e.traceType,a)?e.shouldFlush===!1:!1})).then(function(t){return t.length!==0?(e||(e=n("Promise"))).resolve(t[0].traceId):(e||(e=n("Promise"))).resolve()})}l.getTraceId=u}),98);
__d("MAWBridgeStartTraceHandler",["ArmadilloDataTraceCheckPoint","ArmadilloDataTraceType","I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceTag","LSFactory","LSRequestId","MAWAckLevel","MAWBridgeTraceUtils","MAWMsg","MAWTimeUtils","Promise","gkx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t,n){return e.data_trace_meta.add({contextOne:void 0,contextThree:t.externalId,contextTwo:void 0,foregroundTimestampMs:(s||(s=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(t.ts),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:t.traceType}).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").traceCreated,dataTraceId:n,syncChannel:(s||(s=o("I64"))).neg_one})}).then(function(){var a;if(!(t.threadKey==null||!r("gkx")("23995")))return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(s||(s=o("I64"))).neg_one,tags:(a=t.threadKey)!=null?a:void 0})})}function c(t,a){var i=a.ack,l=a.traceType;return i===o("MAWAckLevel").ACK.clock?o("MAWBridgeTraceUtils").getTraceId(t,a.externalId,a.traceType).then(function(i){if(i==null){var c=r("LSRequestId").generate();return(s||(s=o("I64"))).equal(l,o("ArmadilloDataTraceType").armadilloMessageSend)?u(t,a,c).then(function(){var e=a.threadType;if(e!=="User")return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").traceGroupMessage,dataTraceId:c,syncChannel:(s||(s=o("I64"))).neg_one})}).then(function(){if(a.isFirstMsg)return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloActMessageSend,dataTraceId:c,syncChannel:(s||(s=o("I64"))).neg_one,tags:"first_msg=1"})}).then(function(){var i=a.type_,l=i===o("MAWMsg").text?o("ArmadilloDataTraceCheckPoint").traceTextMessage:i===o("MAWMsg").ptt||i===o("MAWMsg").image||i===o("MAWMsg").video||i===o("MAWMsg").gif?o("ArmadilloDataTraceCheckPoint").traceMediaMessage:void 0;return l==null||r("promiseDone")(r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:l,dataTraceId:c,syncChannel:(s||(s=o("I64"))).neg_one})),(e||(e=n("Promise"))).resolve(l)}).then(function(e){if(e!=null&&(s||(s=o("I64"))).equal(e,o("ArmadilloDataTraceCheckPoint").traceMediaMessage)){var n=a.type_,i=n===o("MAWMsg").image?o("LSDataTraceTag").image:n===o("MAWMsg").ptt?o("LSDataTraceTag").audio:n===o("MAWMsg").video?o("LSDataTraceTag").video:n===o("MAWMsg").gif?o("LSDataTraceTag").animatedImage:o("LSDataTraceTag").none;return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").richMediaMediaSendAttachmentType,dataTraceId:c,syncChannel:(s||(s=o("I64"))).neg_one,tags:String(i)})}}):u(t,a,c)}}):(e||(e=n("Promise"))).resolve()}l.call=c}),98);
__d("MAWSecureDataSource",[],(function(t,n,r,o,a,i){"use strict";var e=10;i.DEFAULT_NUM_MESSAGES=e}),66);
__d("MAWSecureLocalDBDataSource",["FBLogger","MAWBridgeSendAndReceive","MAWMessagesPaginationUtils","MAWSecureDataSource","MAWSecureLocalDBFetch","WAStanzaUtils","WATagsLogger","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WATagsLogger").TAGS(["MAWSecureLocalDBDataSource"]);function u(e){return e.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}})}var c=(function(){function t(){}var n=t.prototype;return n.requestMessages=async function(t,n,a,i,l,s,u,c){var e=await o("MAWMessagesPaginationUtils").getExternalIdByMsgId(i),d=await r("MAWSecureLocalDBFetch")({actionType:c,chatJid:n,config:u,count:s!=null?s:o("MAWSecureDataSource").DEFAULT_NUM_MESSAGES,direction:l,offsetMsg:i==null?null:{externalId:e,includeOriginalMsg:!1,messageId:i},timestampMs:a});if(d.success===!1){var m;throw(m=d.payload)!=null?m:r("err")(d.error)}var p=d.value;o("MAWMessagesPaginationUtils").populateExternalIdCache(p.msgs);var _=p.msgs.map(function(e){return{externalId:e.externalId,isOptimistic:e.ack<1,isOutgoing:e.isAuthorMe,msgType:e.type_,sortOrderMs:e.sortOrderMs}});return{hasMoreAfter:p.hasMoreAfter,hasMoreBefore:p.hasMoreBefore,msgs:_}},n.fetchSecureMessagesProtocol=function(){return r("FBLogger")("messenger_e2ee_web").warn("Secure messages protocol is not supported for old MessageList component"),Promise.resolve()},n.fetchMessagesByExternalId=function(n,r){n.length>2&&s.WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Fetching ",` messages by external id, which is not optimal.
      Consider migrating 'loadMsgsByExternalId' backend request to a batch version `])),n.length);var t=n.map(function(e){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:r,externalId:o("WAStanzaUtils").toStanzaId(e)})});return Promise.all(t).then(function(e){return e.map(function(e){return u(e)}).flat()})},t})();l.default=c}),98);
__d("MAWSyncThreadDescriptionAdminMsg",["ArmadilloDataTraceType","MAWAckLevel","MAWBridgeNewMsgHandler","MAWBridgeStartTraceHandler","MAWLocalizationType","MAWMsgType","MAWUserJidWrapper","Promise","WAJids","WATimeUtils","emptyFunction"],(function(t,n,r,o,a,i,l){"use strict";var e,s=o("WAJids").extractUserId(o("MAWUserJidWrapper").getMyUserJid());function u(t,a,i,l){var s=l.externalId,u=l.msgId;return(e||(e=n("Promise"))).all([o("MAWBridgeStartTraceHandler").call(t,c(a,s,i)),o("MAWBridgeNewMsgHandler").call(t,d(a,s,u))]).then(r("emptyFunction"))}function c(e,t,n){return{ack:o("MAWAckLevel").ACK.sent,externalId:t,isFirstMsg:!1,threadJid:e,threadKey:n,threadType:o("WAJids").switchOnMsgrChatJidType(e,{group:function(t){return"Group"},user:function(t){return"User"}}),traceType:o("ArmadilloDataTraceType").armadilloMessageSend,ts:o("WATimeUtils").castToUnixTime(0),type_:o("MAWMsgType").MSG_TYPE.ADMIN}}function d(e,t,n){return{ack:o("MAWAckLevel").ACK.sent,adminContent:[],adminType:o("MAWLocalizationType").LOCALIZATION_TYPE.E2EE_THREAD_DESCRIPTION,adminVersion:0,chatJid:e,externalId:t,forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:n,sender:s,sortOrderMs:0,ts:o("WATimeUtils").castToUnixTime(0),type_:o("MAWMsgType").MSG_TYPE.ADMIN}}l.default=u}),98);
__d("MWCMMarkBumpedThreadsSeen",["LSFactory","LSMarkBumpedThreadsSeenStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){e!=null&&await r("LSMarkBumpedThreadsSeenStoredProcedure")(r("LSFactory")(t),{secondaryParentThreadKey:e})}l.MWCMMarkBumpedThreadsSeen=e}),98);
__d("MWEBRestoreUpsellTrigger.react",["MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWEncryptedBackupsRetrieveQplLoggingAnnotations","QPLUserFlow","react","react-compiler-runtime","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(17),a=t.children,i=t.markerPrefix,l=t.qplSource,s=(e||(e=r("useReStore")))(),u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u={},n[0]=u):u=n[0];var c=r("useMWXEntryPointDialog")(r("MAWEncryptedBackupsRestoreDialog.entrypoint"),u),d=c[0],m=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),p=m.startFlow,_;n[1]!==s||n[2]!==l||n[3]!==p?(_=function(t){o("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:s,onFetch:function(n){var e=n.ebsmWiped,a=n.firstUpsellTime,i=n.hasEbKeysLocally,s=n.hasEBSM,u=n.hasPDB,c=n.hasUserRestoredBefore,d=n.hasUserRestoredBeforeTemp;p({additionalAnnotations:{eb_session_identifier:a,ebsm_wiped:e,has_eb_keys_locally:i,has_ebsm:s,has_pdb:u,has_user_restored_before:c,has_user_restored_before_temp:d,restore_upsell_first_impression_time:a},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:l}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t)}})},n[1]=s,n[2]=l,n[3]=p,n[4]=_):_=n[4];var f=_,g;n[5]!==i||n[6]!==f?(g={onVisible:function(){f(i+"_IMPRESSION")}},n[5]=i,n[6]=f,n[7]=g):g=n[7];var h=r("useVisibilityObserver")(g),y;n[8]!==i||n[9]!==l||n[10]!==d||n[11]!==f?(y=function(){f(i+"_CLICKED"),d({source:l})},n[8]=i,n[9]=l,n[10]=d,n[11]=f,n[12]=y):y=n[12];var C=y,b;return n[13]!==a||n[14]!==C||n[15]!==h?(b=a(C,h),n[13]=a,n[14]=C,n[15]=h,n[16]=b):b=n[16],b}l.default=c}),98);
__d("MWPMarkSeenDeferred",["LSFactory","LSMarkFolderSeenStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){e!=null&&await r("LSMarkFolderSeenStoredProcedure")(r("LSFactory")(t),{parentThreadKey:e})}l.markSeen=e}),98);
__d("MWSupportInboxDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26109418818744556"}),null);
__d("MWXListCellHoverActions.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={action:{marginInlineStart:"x13fj5qh",$$css:!0},menuButtonContainer:{alignItems:"x6s0dn4",bottom:"x1hgdm3",display:"x78zum5",flexDirection:"x1q0g3np",insetInlineEnd:"x9olu1o",left:null,right:null,pointerEvents:"x67bb7w",position:"x10l6tqk",top:"x1jl3hli",$$css:!0},visuallyHidden:{clip:"x1qvwoe0",clipPath:"x1vzd84k",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"x1i1rx1s",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=e.hidden,a=r&&u.visuallyHidden,i;t[0]!==a?(i=[u.menuButtonContainer,a],t[0]=a,t[1]=i):i=t[1];var l;t[2]!==n?(l=Array.isArray(n)?n.filter(m).map(d):n,t[2]=n,t[3]=l):l=t[3];var c;return t[4]!==i||t[5]!==l?(c=s.jsx(o("react-strict-dom").html.div,{role:"gridcell",style:i,children:l}),t[4]=i,t[5]=l,t[6]=c):c=t[6],c}function d(e,t){return s.jsx(o("react-strict-dom").html.div,{style:u.action,children:e},t)}d.displayName=d.name+" [from "+i.id+"]";function m(e){return e!=null}l.default=c}),98);
__d("MWXListCellHoverButton.react",["fbt","FocusWithinHandler.react","MWXCircleButton.react","MWXEntryPointPopoverTrigger.react","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["popoverProps"],u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useState;function _(t){var n=o("react-compiler-runtime").c(31),a=t.label,i=t.onFocusChange,l=t.onHoverChange,u=t.onMenuStateChange,d=t.onPress,m=t.size,_=t.testid,f=p(!1),g=f[0],h=f[1],y;n[0]!==u?(y=function(t){h(t),u!=null&&u(t)},n[0]=u,n[1]=y):y=n[1];var C=y,b;n[2]!==g||n[3]!==a||n[4]!==i||n[5]!==l||n[6]!==d||n[7]!==m||n[8]!==_?(b=function(t,n,u,p,_){return c.jsx(o("react-strict-dom").html.div,{ref:t,children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:i,children:function(t){return c.jsx(o("react-strict-dom").html.div,{children:c.jsx(r("MWXCircleButton.react"),{"aria-controls":"thread-list-menu-buttons","aria-expanded":g,"aria-haspopup":"menu","aria-label":a!=null?a:s._(/*BTDS*/"Menu"),color:"secondary",icon:r("MWXIconDots3Horizontal"),onHoverIn:function(t){u&&u(t),l&&l(!0)},onHoverOut:function(t){p&&p(),l&&l(!1)},onPress:function(){d&&d(),n()},onPressIn:_,size:m!=null?m:36,testid:void 0,type:"overlay-raised"})})}})})},n[2]=g,n[3]=a,n[4]=i,n[5]=l,n[6]=d,n[7]=m,n[8]=_,n[9]=b):b=n[9];var v=b,S;n[10]!==C||n[11]!==t.popoverFallback||n[12]!==t.popoverProps?(S={align:"middle",fallback:t.popoverFallback,onVisibilityChange:C,popoverProps:t.popoverProps,position:"below"},n[10]=C,n[11]=t.popoverFallback,n[12]=t.popoverProps,n[13]=S):S=n[13];var R=S;if(t.popoverTriggerType==="lazy"){var L;n[14]!==v?(L=function(t,n){return v(t,n)},n[14]=v,n[15]=L):L=n[15];var E;return n[16]!==R||n[17]!==t.popoverResource||n[18]!==L?(E=c.jsx(r("MWXLazyPopoverTrigger.react"),babelHelpers.extends({},R,{popoverResource:t.popoverResource,children:L})),n[16]=R,n[17]=t.popoverResource,n[18]=L,n[19]=E):E=n[19],E}else{var k,I;n[20]!==R?(k=R.popoverProps,I=babelHelpers.objectWithoutPropertiesLoose(R,e),n[20]=R,n[21]=k,n[22]=I):(k=n[21],I=n[22]);var T;n[23]!==v?(T=function(t,n,r,o,a,i){return v(t,n,o,a,i)},n[23]=v,n[24]=T):T=n[24];var D;return n[25]!==k||n[26]!==t.entryPointParams||n[27]!==t.popoverEntryPoint||n[28]!==I||n[29]!==T?(D=c.jsx(r("MWXEntryPointPopoverTrigger.react"),babelHelpers.extends({},I,{entryPointParams:t.entryPointParams,otherProps:k,popoverEntryPoint:t.popoverEntryPoint,preloadTrigger:"button_aggressive",children:T})),n[25]=k,n[26]=t.entryPointParams,n[27]=t.popoverEntryPoint,n[28]=I,n[29]=T,n[30]=D):D=n[30],D}}l.default=_}),226);
__d("useMWGetThreadTitleForLabel",["mwCMIsAnyCMThread","react-compiler-runtime","useLSGetThreadTitle.react"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.threadName,a=e.threadType,i;t[0]!==n||t[1]!==a?(i=r("mwCMIsAnyCMThread")(a)||n!=null,t[0]=n,t[1]=a,t[2]=i):i=t[2];var l=r("useLSGetThreadTitle.react")(e,i).threadTitle;return n!=null?n:l}l.default=e}),98);
__d("MWThreadListItemMoreActions.react",["fbt","I64","JSResourceForInteraction","MWPIsThreadUnread","MWThreadListFocusableTable.react","MWXListCellHoverActions.react","MWXListCellHoverButton.react","MWXPopoverLoadingState.react","MessageRequestsBulkActionsContext.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","gkx","react","react-compiler-runtime","useMWGetThreadTitleForLabel"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useMemo,_=r("JSResourceForInteraction")("MWThreadListHoverButtonDropdownMenu.react").__setRef("MWThreadListItemMoreActions.react");function f(e){var t=o("react-compiler-runtime").c(21),a=e.menuButtonVisibilityState,i=e.messagingEntrypoint,l=e.onClose,d=e.selected,p=e.thread,f=p.threadKey,g=p.threadType,h;t[0]!==f?(h=(u||(u=o("I64"))).to_string(f),t[0]=f,t[1]=h):h=t[1];var y=h,C=o("MWPIsThreadUnread").useIsThreadUnread(f),b=a[0],v=a[1],S=v.setMenuBtnFocused,R=v.setMenuBtnHovered,L=v.setMenuOpened,E=r("MessengerWebUXLogger").useInteractionLogger(),k=m(r("MessageRequestsBulkActionsContext.react")),I=k.isBulkActionsEditMode,T=r("useMWGetThreadTitleForLabel")(p),D;t[2]!==T?(D=T!=null?s._(/*BTDS*/"More options for {chat_name}",[s._param("chat_name",T)]):s._(/*BTDS*/"More options for this chat"),t[2]=T,t[3]=D):D=t[3];var x=D,$;t[4]!==y||t[5]!==I||t[6]!==b||t[7]!==C||t[8]!==x||t[9]!==E||t[10]!==i||t[11]!==l||t[12]!==d||t[13]!==S||t[14]!==R||t[15]!==L||t[16]!==f||t[17]!==g?($=I?null:c.jsx(r("MWXListCellHoverActions.react"),{hidden:!b,children:c.jsx(r("MWXListCellHoverButton.react"),{label:x,onFocusChange:S,onHoverChange:R,onMenuStateChange:function(t){return t&&(n("cr:2580")&&n("cr:2580")({threadKey:f,threadType:g},"open_thread_settings_menu",i),E==null||E({eventName:"open_thread_overflow_menu",threadKey:f,threadType:g})),L(t)},popoverFallback:c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),popoverProps:{fbid:y,isUnread:C,messagingEntrypoint:i,onCloseJewel:l,selected:d,threadKey:f},popoverResource:_,popoverTriggerType:"lazy",size:r("gkx")("23219")?32:void 0,testid:void 0})}),t[4]=y,t[5]=I,t[6]=b,t[7]=C,t[8]=x,t[9]=E,t[10]=i,t[11]=l,t[12]=d,t[13]=S,t[14]=R,t[15]=L,t[16]=f,t[17]=g,t[18]=$):$=t[18];var P;return t[19]!==$?(P=c.jsx(o("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_list_options",children:$})}),t[19]=$,t[20]=P):P=t[20],P}l.default=f}),226);
__d("MWXIconMenuItemBox",["MWXSvgIcon","SVGIcon","cr:22587","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22587")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconMenuItemCautionTriangle",["MWXSvgIcon","SVGIcon","cr:22610","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22610")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconMenuItemLeave",["MWXSvgIcon","SVGIcon","cr:22718","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22718")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconMenuItemShieldStar",["MWXSvgIcon","SVGIcon","cr:22817","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22817")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconMenuItemText",["MWXSvgIcon","SVGIcon","cr:22838","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22838")),r("gkx")("23219"));l.default=e}),98);
__d("MessengerShieldStarFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M7.5 11.928c0-.568.32-1.091.84-1.318.809-.351 1.652-.655 2.529-.972 1.918-.692 4.001-1.444 6.247-2.88a1.644 1.644 0 0 1 1.768 0c2.246 1.436 4.329 2.188 6.247 2.88.877.317 1.72.621 2.529.973.52.226.84.75.84 1.318v.073C28.5 23 21 29 18 29S7.5 23 7.5 12.002v-.074zm11.154.297c-.206-.633-1.102-.633-1.308 0l-.878 2.704a.458.458 0 0 1-.436.317h-2.843c-.666 0-.943.852-.404 1.243l2.3 1.671c.16.117.228.324.166.513l-.878 2.704c-.206.633.519 1.16 1.058.768l2.3-1.671a.458.458 0 0 1 .538 0l2.3 1.671c.54.392 1.264-.135 1.058-.768l-.878-2.704a.458.458 0 0 1 .166-.513l2.3-1.67c.54-.392.262-1.244-.404-1.244h-2.843a.458.458 0 0 1-.436-.317l-.878-2.704z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);/*FB_PKG_DELIM*/
/**
 * License: https://www.facebook.com/legal/license/t3hOLs8wlXy/
 */
__d("javascript-blowfish-1.0.5",[],(function(t,n,r,o,a,i){"use strict";var e={},l={exports:e};function s(){var e=function(t,n){this.key=t,(n==="ecb"||n==="cbc")&&(this.mode=n),this.sBox0=e.sBox0.slice(),this.sBox1=e.sBox1.slice(),this.sBox2=e.sBox2.slice(),this.sBox3=e.sBox3.slice(),this.pArray=e.pArray.slice(),this.generateSubkeys(t)};e.prototype={sBox0:null,sBox1:null,sBox2:null,sBox3:null,pArray:null,key:null,mode:"ecb",iv:"abc12345",keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encrypt:function(e,t){if(this.mode==="ecb")return this.encryptECB(e);if(this.mode==="cbc")return this.encryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},decrypt:function(e,t){if(this.mode==="ecb")return this.decryptECB(e);if(this.mode==="cbc")return this.decryptCBC(e,t);throw new Error("\u041D\u0435\u0438\u0437\u0432\u0435\u0441\u0442\u043D\u044B\u0439 \u0440\u0435\u0436\u0438\u043C \u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u0438\u044F.")},encryptECB:function(e){e=this.utf8Decode(e);for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)for(var a=8-o.length;0<a--;)o+="\0";var i,l,s=this.split64by32(o);i=s[0],l=s[1],s=this.encipher(i,l),i=s[0],l=s[1],n+=this.num2block32(i)+this.num2block32(l)}return n},encryptCBC:function(e,t){e=this.utf8Decode(e);var n=Math.ceil(e.length/8),r,o,a;a=this.split64by32(t),r=a[0],o=a[1];for(var i="",l=0;l<n;l++){var s=e.substr(l*8,8);if(s.length<8)for(var u=8-s.length;0<u--;)s+="\0";var c,d,m;m=this.split64by32(s),c=m[0],d=m[1],c=this.xor(c,r),d=this.xor(d,o),m=this.encipher(c,d),c=m[0],d=m[1],r=c,o=d,i+=this.num2block32(c)+this.num2block32(d)}return i},decryptECB:function(e){for(var t=Math.ceil(e.length/8),n="",r=0;r<t;r++){var o=e.substr(r*8,8);if(o.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u044B\u0439\u0442\u0430\u043C.");var a,i,l;l=this.split64by32(o),a=l[0],i=l[1],l=this.decipher(a,i),a=l[0],i=l[1],n+=this.num2block32(a)+this.num2block32(i)}return n=this.utf8Encode(n),n},decryptCBC:function(e,t){var n=Math.ceil(e.length/8),r,o,a,i,l;l=this.split64by32(t),r=l[0],o=l[1];for(var s="",u=0;u<n;u++){var c=e.substr(u*8,8);if(c.length<8)throw new Error("\u0417\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u0430\u044F \u0441\u0442\u0440\u043E\u043A\u0430 \u043F\u043E\u0432\u0440\u0435\u0436\u0434\u0435\u043D\u0430: \u0434\u043B\u0438\u043D\u043D\u0430 \u0437\u0430\u0448\u0438\u0444\u0440\u043E\u0432\u0430\u043D\u043D\u043E\u0439 \u0441\u0442\u0440\u043E\u043A\u0438 \u0434\u043E\u043B\u0436\u043D\u0430 \u0431\u044B\u0442\u044C \u043A\u0440\u0430\u0442\u043D\u0430 8 \u0431\u0430\u0439\u0442\u0430\u043C.");var d,m,p;p=this.split64by32(c),d=p[0],m=p[1],a=d,i=m,p=this.decipher(d,m),d=p[0],m=p[1],d=this.xor(d,r),m=this.xor(m,o),r=a,o=i,s+=this.num2block32(d)+this.num2block32(m)}return s=this.utf8Encode(s),s},F:function(e){var t=e>>>24,n=e<<8>>>24,r=e<<16>>>24,o=e<<24>>>24,a=this.addMod32(this.sBox0[t],this.sBox1[n]);return a=this.xor(a,this.sBox2[r]),a=this.addMod32(a,this.sBox3[o]),a},encipher:function(e,t){for(var n,r=0;r<16;r++)e=this.xor(e,this.pArray[r]),t=this.xor(this.F(e),t),n=e,e=t,t=n;return n=e,e=t,t=n,t=this.xor(t,this.pArray[16]),e=this.xor(e,this.pArray[17]),[e,t]},decipher:function(e,t){var n;e=this.xor(e,this.pArray[17]),t=this.xor(t,this.pArray[16]),n=e,e=t,t=n;for(var r=15;r>=0;r--)n=e,e=t,t=n,t=this.xor(this.F(e),t),e=this.xor(e,this.pArray[r]);return[e,t]},generateSubkeys:function(e){var t=0,n=0,r,o;for(r=0;r<18;r++){for(o=4;o>0;o--)t=this.fixNegative(t<<8|e.charCodeAt(n)),n=(n+1)%e.length;this.pArray[r]=this.xor(this.pArray[r],t),t=0}var a=[0,0];for(r=0;r<18;r+=2)a=this.encipher(a[0],a[1]),this.pArray[r]=a[0],this.pArray[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox0[r]=a[0],this.sBox0[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox1[r]=a[0],this.sBox1[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox2[r]=a[0],this.sBox2[r+1]=a[1];for(r=0;r<256;r+=2)a=this.encipher(a[0],a[1]),this.sBox3[r]=a[0],this.sBox3[r+1]=a[1]},block32toNum:function(e){return this.fixNegative(e.charCodeAt(0)<<24|e.charCodeAt(1)<<16|e.charCodeAt(2)<<8|e.charCodeAt(3))},num2block32:function(e){return String.fromCharCode(e>>>24)+String.fromCharCode(e<<8>>>24)+String.fromCharCode(e<<16>>>24)+String.fromCharCode(e<<24>>>24)},xor:function(e,t){return this.fixNegative(e^t)},addMod32:function(e,t){return this.fixNegative(e+t|0)},fixNegative:function(e){return e>>>0},split64by32:function(e){var t=e.substring(0,4),n=e.substring(4,8);return[this.block32toNum(t),this.block32toNum(n)]},utf8Decode:function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):r>127&&r<2048?(t+=String.fromCharCode(r>>6|192),t+=String.fromCharCode(r&63|128)):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128),t+=String.fromCharCode(r&63|128))}return t},utf8Encode:function(e){for(var t="",n=0,r=0,o=0,a=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(o=e.charCodeAt(n+1),t+=String.fromCharCode((r&31)<<6|o&63),n+=2):(o=e.charCodeAt(n+1),a=e.charCodeAt(n+2),t+=String.fromCharCode((r&15)<<12|(o&63)<<6|a&63),n+=3);return t},base64Encode:function(e){for(var t="",n,r,o,a,i,l,s,u=0;u<e.length;)n=e.charCodeAt(u++),r=e.charCodeAt(u++),o=e.charCodeAt(u++),a=n>>2,i=(n&3)<<4|r>>4,l=(r&15)<<2|o>>6,s=o&63,isNaN(r)?l=s=64:isNaN(o)&&(s=64),t=t+this.keyStr.charAt(a)+this.keyStr.charAt(i)+this.keyStr.charAt(l)+this.keyStr.charAt(s);return t},base64Decode:function(e){var t="",n,r,o,a,i,l,s,u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)a=this.keyStr.indexOf(e.charAt(u++)),i=this.keyStr.indexOf(e.charAt(u++)),l=this.keyStr.indexOf(e.charAt(u++)),s=this.keyStr.indexOf(e.charAt(u++)),n=a<<2|i>>4,r=(i&15)<<4|l>>2,o=(l&3)<<6|s,t=t+String.fromCharCode(n),l!=64&&(t=t+String.fromCharCode(r)),s!=64&&(t=t+String.fromCharCode(o));return t},trimZeros:function(e){return e.replace(/\0+$/g,"")}},e.pArray=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],e.sBox0=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],e.sBox1=[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],e.sBox2=[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],e.sBox3=[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],l.exports=e}var u=!1;function c(){return u||(u=!0,s()),l.exports}function d(e){switch(e){case void 0:return c()}}a.exports=d}),null);
__d("javascript-blowfish",["javascript-blowfish-1.0.5"],(function(t,n,r,o,a,i){a.exports=n("javascript-blowfish-1.0.5")()}),null);/*FB_PKG_DELIM*/
__d("BootloaderErrorsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5080"),s=o("FalcoLoggerInternal").create("bootloader_errors",e),u=s;l.default=u}),98);
__d("BootloaderEventsPerf",["invariant","Bootloader","BootloaderEvents","ResourceTimingStore","objectEntries","objectValues"],(function(t,n,r,o,a,i,l,s){var e=["durations","resources","start_time"],u={total_count:0,total_bytes:0,downloaded_count:0,downloaded_bytes:0,cached_count:0,cached_bytes:0,inlined_count:0,inlined_bytes:0,duration:0,missing_count:0};function c(e,t,n){return Math.max(0,(n!=null?n:0)-Math.max(e,t!=null?t:0))}function d(){return{blocking:babelHelpers.extends({},u),nonblocking:babelHelpers.extends({},u),default:babelHelpers.extends({},u)}}function m(e,t,n){var r,a;if(n==null)r=0,a="downloaded";else if(n[1])r=n[0].length,a="inlined";else{var i=o("ResourceTimingStore").getEntryForURL(n[0]);i?(r=i.encodedBodySize,a=i.transferSize===0?"cached":"downloaded"):(r=0,a="downloaded",e.missing_count++)}if(e.total_count++,e.total_bytes+=r,!!t)switch(e.duration=Math.max(e.duration,t),a){case"downloaded":e.downloaded_count++,e.downloaded_bytes+=r;break;case"inlined":e.inlined_count++,e.inlined_bytes+=r;break;case"cached":e.cached_count++,e.cached_bytes+=r;break}}function p(e,t,n,o,a){var i=r("Bootloader").getResourceState(t);m(e,c(n,i.loadStart,i.loadEnd),o),i.loadError!=null&&a.add(t)}function _(e,t,n,o){var a=d();for(var i of r("objectEntries")(e)){var l=i[0],u=i[1];for(var c of u){var m=c[0],_=c[1],f=void 0,g=void 0;switch(_.type){case"async":g=null,f=n;break;case"js":case"css":g=[_.src,_.d===1],f=a;break;default:s(0,3721)}p(f[l],m,t,g,o)}}return a}function f(e,t){var n={unpredicted:o("BootloaderEvents").newResourceMapSet(),ef:o("BootloaderEvents").newResourceMapSet(),overpredicted:o("BootloaderEvents").newResourceMapSet()};for(var a of r("objectEntries")(t)){var i=a[0],l=a[1];for(var s of l.entries()){var u=s[0],c=s[1];e[i].has(u)?n.ef[i].set(u,c):n.overpredicted[i].set(u,c)}}for(var d of r("objectEntries")(e)){var m=d[0],p=d[1];for(var _ of p.entries()){var f=_[0],g=_[1];t[m].has(f)||n.unpredicted[m].set(f,g)}}return n}function g(e){var t,n=e.efData,r=e.rsrcs,o=e.startTime,a=new Set,i,l,s;if(n){var u=f(r,n.tierOne);s=u.unpredicted,i={ef:_(u.ef,n.fetchRsrcsStart,d(),a),overpredicted:_(u.overpredicted,n.fetchRsrcsStart,d(),a)},l={ef_fetch_predictions:n.fetchPredictionsEnd-n.fetchPredictionsStart,ef_fetch_start_wait:n.fetchPredictionsEnd-n.fetchRsrcsStart,ef_head_start:o-n.fetchRsrcsStart}}else s=r,i={},l={};var c=babelHelpers.extends({unpredicted:_(s,o,d(),a)},i);return{source:e.source,source_detail:e.sourceDetail,is_first_identical:e.isFirstIdentical,timeslice_context:(t=e.timesliceContext)==null?void 0:t.name,start_time:o,err_count:a.size,resources:c,durations:babelHelpers.extends({jsmods_wait:e.jsmodsStart-o,jsmods:e.jsmodsEnd-e.jsmodsStart,jsmods_done_wait:e.jsmodsEnd-o,download_done_wait:e.logTime-o},l),payloadStats:e.payloadStats}}function h(e){var t,n=e.startTime,a=0,i=0,l=0,s=0;for(var u of e.components){var p=r("Bootloader").getComponentTiming(u),f=p.tierThreeEnd,g=p.tierThreeStart,h=p.tierTwoEnd,y=p.tierTwoStart;a=Math.max(a,c(n,y,h)),i=Math.max(i,c(n,n,h)),l=Math.max(l,c(n,g,f)),s=Math.max(s,c(n,n,f))}var C=new Set,b=d(),v=_(e.tierOne,n,b,C),S=_(e.tierTwo,n,b,C),R=_(e.tierThree,n,b,C),L=b.blocking.downloaded_count!=0,E=d(),k=o("BootloaderEvents").newResourceMapSet(),I=new Set;for(var T of[e.tierOne,e.tierTwo,e.tierThree])for(var D of r("objectValues")(T))for(var x of D.keys())I.add(x);var $=0,P=0,N=0;for(var M of e.beRequests.values()){$+=c(n,n,M.requestStart),P+=M.serverGenTime,N+=M.jsmodsEnd-M.jsmodsStart,m(E[L?"blocking":"nonblocking"],M.responseStart-M.requestStart,[M.uri,!1]);for(var w of r("objectEntries")(M.rsrcs)){var A=w[0],F=w[1];for(var O of F){var B=O[0],W=O[1];I.has(B)||k[A].set(B,W)}}}var q=_(k,n,b,C);return{ref:e.ref,components:e.components,timeslice_context:(t=e.timesliceContext)==null?void 0:t.name,start_time:n,err_count:C.size,resources:{t1:v,t2:S,t3:R,be:E,unpredicted:q,async:b},durations:{fetch_start_wait:e.fetchStartTime-n,be_start_wait:$,be_server_gen:P,be_jsmods:N,callback_wait:e.callbackStart-n,callback:e.callbackEnd-e.callbackStart,bootload_done_wait:e.callbackEnd-n,rdfd_requirelazy:a,rdfd_done_wait:i,rd_requirelazy:l,rd_done_wait:s}}}function y(t){var n=t.durations,o=t.resources,a=t.start_time,i=babelHelpers.objectWithoutPropertiesLoose(t,e);for(var l of r("objectEntries")(o)){var s=l[0],u=l[1];for(var c of r("objectEntries")(u)){var d=c[0],m=c[1];for(var p of r("objectEntries")(m)){var _=p[0],f=p[1];i[s+"_"+d+"_resources_"+_]=Math.round(Number(f))}}}for(var g of r("objectEntries")(n)){var h=g[0],y=g[1];i[h+"_duration"]=Math.round(Number(y))}if(i.payloadStats){for(var C of r("objectEntries")(i.payloadStats)){var b=C[0],v=C[1];for(var S of r("objectEntries")(v)){var R=S[0],L=S[1];i[b+"_"+R+"_count"]=Math.round(Number(L))}}delete i.payloadStats}return i}l.computeHRData=g,l.computeBLData=h,l.flattenData=y}),98);
__d("BootloaderErrorLoggerUtil",["BootloaderErrorsFalcoEvent","BootloaderEvents","BootloaderEventsPerf","ResourceTimingStore","ScriptPath","SiteData","performanceNavigationStart"],(function(t,n,r,o,a,i){var e=!1,l={initLogging:function(r){var t=r.parent_lid;if(!e){e=!0,n("ResourceTimingStore").init();var o=function(r){return{ms_since_navstart:Math.round(r-n("performanceNavigationStart")()),parent_lid:t,pkg_cohort:n("SiteData").pkg_cohort,request_path:n("ScriptPath").getScriptPath(),ef_page:n("ScriptPath").getEarlyFlushPage(),svn_rev:n("SiteData").client_revision}};n("BootloaderEvents").onBootloadError(function(e){return n("BootloaderErrorsFalcoEvent").log(function(){var t=n("BootloaderEventsPerf").computeBLData(e.bootloaderData),r=n("BootloaderEventsPerf").flattenData(t),a=babelHelpers.extends({},r,o(t.start_time),{status:"ERROR",was_offline:e.offline});return e.erroredResources!=null&&(a.errored_resource_urls=Array.from(e.erroredResources)),a})})}}};a.exports=l}),null);
__d("BootloaderLoggingStatusEnum",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["SUCCESS","TIMEOUT","ERROR"]),l=e;i.default=l}),66);
__d("CometBootloaderErrorsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1109"),s=o("FalcoLoggerInternal").create("comet_bootloader_errors",e),u=s;l.default=u}),98);
__d("CometBootloaderErrorLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderErrorsFalcoEvent","CometTimeSpentNavigation","ResourceTimingStore","SiteData","performanceNavigationStart"],(function(t,n,r,o,a,i,l){"use strict";var e=!1;function s(t){var n=t.parent_lid;e=!0,o("ResourceTimingStore").init();var a=function(t){var e;return{ms_since_navstart:Math.round(t-r("performanceNavigationStart")()),parent_lid:n,pkg_cohort:r("SiteData").pkg_cohort,request_path:(e=r("CometTimeSpentNavigation").getPathInfo())==null?void 0:e.name,svn_rev:r("SiteData").client_revision}},i=function(t,n){var e=o("BootloaderEventsPerf").computeBLData(t.bootloaderData),i=o("BootloaderEventsPerf").flattenData(e);r("CometBootloaderErrorsFalcoEvent").log(function(){var r=babelHelpers.extends({},i,a(e.start_time),{status:n,was_offline:t.offline});return t.erroredResources!=null&&(r.errored_resource_urls=Array.from(t.erroredResources)),r})};o("BootloaderEvents").onBootloadError(function(e){i(e,"ERROR")})}l.initLogging=s}),98);
__d("CometBootloaderEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("177"),s=o("FalcoLoggerInternal").create("comet_bootloader_events",e),u=s;l.default=u}),98);
__d("HasteResponseFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1823926"),s=o("FalcoLoggerInternal").create("haste_response",e),u=s;l.default=u}),98);
__d("CometBootloaderLoggerUtil",["BootloaderEvents","BootloaderEventsPerf","CometBootloaderEventsFalcoEvent","CometTimeSpentNavigation","HasteResponseFalcoEvent","ResourceTimingStore","SiteData","UserTimingUtils","gkx","performance","performanceNavigationStart"],(function(t,n,r,o,a,i,l){"use strict";var e,s=!1,u=r("gkx")("20483");function c(t){var n=t.bl_sample_rate,a=t.hr_sample_rate,i=t.parent_lid;if(!(s||!(n||a||u===!0))){s=!0,o("ResourceTimingStore").init();var l=function(t){var e;return{ms_since_navstart:Math.round(t-r("performanceNavigationStart")()),parent_lid:i,pkg_cohort:r("SiteData").pkg_cohort,request_path:(e=r("CometTimeSpentNavigation").getPathInfo())==null?void 0:e.name,svn_rev:r("SiteData").client_revision}};a&&o("BootloaderEvents").onHasteResponse(function(e){return r("HasteResponseFalcoEvent").log(function(){var t=o("BootloaderEventsPerf").computeHRData(e),n=o("BootloaderEventsPerf").flattenData(t);return babelHelpers.extends({},n,l(t.start_time))})}),u&&(o("BootloaderEvents").onBootload(function(t){o("UserTimingUtils").measureModern("Bootloader: "+t.components.join(", "),{end:t.callbackEnd-(e||(e=r("performance"))).timeOrigin,start:t.startTime-e.timeOrigin},"Bootloader Events")}),o("BootloaderEvents").onHasteResponse(function(t){o("UserTimingUtils").measureModern("Haste: "+t.source,{end:t.jsmodsEnd-(e||(e=r("performance"))).timeOrigin,properties:[["Source Detail",t.sourceDetail]],start:t.startTime-e.timeOrigin},"Bootloader Events")}));var c=function(t,n){var e=o("BootloaderEventsPerf").computeBLData(t),a=o("BootloaderEventsPerf").flattenData(e);r("CometBootloaderEventsFalcoEvent").log(function(){return babelHelpers.extends({},a,l(e.start_time),{status:n})})};n&&o("BootloaderEvents").onBootload(function(e){return c(e,"SUCCESS")}),o("BootloaderEvents").onBootloaderCallbackTimeout(function(e){return c(e,"TIMEOUT")})}}l.initLogging=c}),98);
__d("PromiseResult",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=(function(){function t(){var t=this;this.promise=new(e||(e=n("Promise")))(function(e,n){t.$1=e,t.$2=n})}var r=t.prototype;return r.resolve=function(t){this.$1(t)},r.reject=function(t){this.$2(t)},t})();i.default=l}),66);
__d("MqttFetchClient",["MqttEnv","MqttProtocolCodec","MqttUserName","MqttUtils","Promise","PromiseResult","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s="fetch_pull",u="fetch_pull_finish",c="fetch_",d=6e4,m="action",p="chunked",_="send",f="true",g=5,h=20,y=10,C=5e3,b=typeof window!="undefined"?window:self,v=(function(){function t(){this.$1="",this.$2=o("MqttEnv").Env.getLoggerInstance(),this.$3=0,this.$4="",this.$5=new(r("MqttUserName"))("",0,1,"",0,!0),this.$6=function(){},this.$7=function(e){},this.$8=function(){},this.$9=function(e){},this.$10=0,this.$11=0,this.$12=0,this.$13=0,this.$14="Ready",this.$15=[],this.$16=[],this.$17=null,this.$18=!1,this.$19=0}t.isSupported=function(){return typeof b.fetch=="function"};var a=t.prototype;return a.run=function(t,n,r,a,i,l,s,u){var e=this;this.$1=o("MqttUtils").endpointWithSessionId(t,n),this.$3=n,this.$4=r,this.$5=a,this.$6=i,this.$7=l,this.$8=s,this.$9=u,o("MqttEnv").Env.setTimeout(function(){return e.$20()},0)},a.isTopicSupported=function(t){return!0},a.publish=function(t,n){return this.$21(t,n)},a.publishBinary=function(t,n){return this.$21(t,n)},a.$21=function(o,a){if(this.$14!=="ReceivingData")return this.$2.bumpCounter(c+"publish."+o+".invalidstate"),(e||(e=n("Promise"))).reject("not connected");this.$2.bumpCounter(c+"publish."+o+".publish");var t=new(r("PromiseResult")),i={topic:o,payload:a,promiseResult:t};return this.$15.push(i),this.$22(),t.promise},a.abort=function(){this.$6=function(){},this.$7=function(e){},this.$8=function(){},this.$9=function(e){}},a.$23=function(t){var e=this;t.forEach(function(t){e.$2.bumpCounter(c+"publish."+t.topic+".resolved"),t.promiseResult.resolve()}),this.$12+=t.length},a.$24=function(t,n){var e=this;t.forEach(function(t){e.$2.bumpCounter(c+"publish."+t.topic+".rejected"),t.promiseResult.reject(n)})},a.$25=function(t,n,r,o){var e=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request failed. Publishes:"+e+", retry:"+r),this.$2.bumpCounter(c+"publish_request_failed"),this.$14!=="ReceivingData"||r===g?(this.$24(t,o),this.$18=!1,this.$2.bumpCounter(c+"publish_request_failed_final"),this.$22()):this.$26(t,n,r+1)},a.$27=function(t,n,r,o){if(!o.ok){if(this.$2.bumpCounter(c+"publish_request_failed.http."+o.status),o.status===409&&(this.$19++,this.$19>=y)){this.$2.bumpCounter(c+"409_reset"),this.$28(new Error("Too many 409 errors"));return}this.$25(t,n,r,this.$29(o));return}this.$2.bumpCounter(c+"publish_request_success");var e=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request success. Publishes:"+e+", retry:"+r),this.$23(t),this.$18=!1,this.$22()},a.$22=function(){if(this.$14==="ReceivingData"&&!this.$18&&!(this.$15.length===0&&this.$16.length===0)){this.$18=!0;var e=this.$15.slice(0,h);this.$15=this.$15.slice(h,this.$15.length),this.$17!=null&&o("MqttEnv").Env.clearTimeout(this.$17),this.$17=null;var t=this.$16.slice(0,h);this.$16=this.$16.slice(h,this.$16.length),this.$26(e,t,0)}},a.$26=function(t,n,r){var e=this,a=t.map(function(e){return e.topic}).join(",");this.$2.debugTrace("FetchClient","Fetch publish request sent. Publishes:"+a+", retry:"+r);var i=o("MqttUtils").endpointWithExtraParameter(this.$1,m,_),l=t.map(function(e){return{topic:e.topic,payload:e.payload,qos:0,messageId:o("MqttEnv").Env.random()}}),s=this.$5.gen(this.$3,[],l,n);this.$2.bumpCounter(c+"publish_request"),o("MqttUtils").promiseDoneWithTimeout(b.fetch(i,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:s,keepalive:!1}),function(o){return e.$27(t,n,r,o)},function(o){return e.$25(t,n,r,o)},d)},a.$30=function(t){var e=t.message;this.$2.debugTrace("FetchClient","Fetch request failed with error:"+e),this.$9(e),this.$31(!1,e),this.$2.bumpCounter(c+"error"),this.$14="Error"},a.$32=function(t){var e=this;this.$2.debugTrace("FetchClient","Fetch response data received");var n=o("MqttProtocolCodec").decodeByteMessages(new Uint8Array(t)),r=n.messages,a=r.filter(function(e){return e.messageType===o("MqttProtocolCodec").MESSAGE_TYPE.PINGREQ}),i=r.filter(function(e){return e.messageType===o("MqttProtocolCodec").MESSAGE_TYPE.PUBLISH}).map(function(t){if(!(t instanceof o("MqttProtocolCodec").WireMessage.Publish))return{};var n=t;return n.qos===1&&n.messageIdentifier!=null&&(e.$16.push(n.messageIdentifier),e.$17==null&&(e.$17=o("MqttEnv").Env.setTimeout(function(){e.$22()},C))),{topic:n.topic,payload:n.payloadMessage,qos:n.qos}});for(var l of i){var s;this.$2.bumpCounter(c+"response_"+((s=l.topic)!=null?s:"void"))}i&&i.length>0&&(this.$13+=i.length,this.$7(i)),a&&a.length>0&&this.$33()},a.$33=function(){this.$2.debugTrace("FetchClient","Got server ping request"),this.$2.bumpCounter(c+"ping")},a.$28=function(t){this.$2.debugTrace("FetchClient","Fetch request ended: "+t.toString()),this.$2.bumpCounter(c+"done"),this.$34(t.message),this.$8(),this.$14="Done"},a.$35=function(t,n,a){var e=this;if(a!=null)try{this.$32(a)}catch(e){this.$28(r("getErrorSafe")(e)),this.$2.bumpCounter(c+"dataDecodeException");return}if(n){this.$28(new Error("EOF"));return}o("MqttUtils").promiseDone(t.read(),function(n){var r=n.done,o=n.value;return e.$35(t,r,o)},function(t){return e.$28(t)})},a.$36=function(t){if(!t.ok){this.$2.bumpCounter(c+"error.http."+t.status),this.$30(this.$29(t));return}var e=t.body;if(!e){this.$30(new Error("Empty body"));return}var n=e.getReader();this.$6(),this.$2.bumpCounter(c+"success"),this.$31(!0,null),this.$11=Date.now(),this.$14="ReceivingData",this.$2.debugTrace("FetchClient","Fetch request success"),this.$35(n,!1,null)},a.$34=function(t){this.$2.eventLogPullFinish({pullEventName:u,sessionID:this.$3,duration:Date.now()-this.$11,errorMessage:t,publishReceived:this.$13,publishSent:this.$12})},a.$31=function(t,n){this.$2.eventLogPull({pullEventName:s,sessionID:this.$3,status:t,duration:Date.now()-this.$10,hostname:this.$1,errorMessage:n})},a.$20=function(){var e=this;if(this.$14==="Ready"){this.$2.debugTrace("FetchClient","Sending fetch request"),this.$2.bumpCounter(c+"request"),this.$10=Date.now();var t=o("MqttUtils").endpointWithExtraParameter(this.$1,p,f);o("MqttUtils").promiseDoneWithTimeout(b.fetch(t,{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",referrer:"no-referrer",body:this.$4,keepalive:!1}),function(t){return e.$36(t)},function(t){return e.$30(t)},d)}},a.$29=function(t){return new Error("Http error, status="+t.status)},t})();l.default=v}),98);
__d("MqttLongPollingClient",["MqttEnv","MqttProtocolCodec","MqttUserName","Promise","XHRRequest","getCrossOriginTransport","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=12e4,u="simple_pull",c="longpolling_",d=(function(){function t(){this.$3="",this.$4=0,this.$2=o("MqttEnv").Env.getLoggerInstance(),this.$1="Ready",this.$5="",this.$6=new(r("MqttUserName"))("",0,1,"",0,!0),this.$7=function(){},this.$8=function(e){},this.$9=function(){},this.$10=function(e){},this.$11=0,this.$12=null,this.$13=new Set(["/t_ms","/messenger_sync_get_diffs","/messenger_sync_create_queue","/webrtc","/rtc_multi"])}var a=t.prototype;return a.run=function(t,n,r,o,a,i,l,s){this.$3=t,this.$4=n,this.$5=r,this.$6=o,this.$7=a,this.$8=i,this.$9=l,this.$10=s,this.$14(this.$5)},a.isTopicSupported=function(t){return this.$13.has(t)},a.publish=function(r,o){return(e||(e=n("Promise"))).reject("not supported")},a.publishBinary=function(r,o){return(e||(e=n("Promise"))).reject("not supported")},a.abort=function(){this.$12!=null&&this.$12.abort("Disconnected")},a.$15=function(t,n){this.$1!==t&&(this.$1=t,t==="Error"&&n!=null&&this.$10(n),this.$2.debugTrace("LongPollingClient","_changeStatus : "+t))},a.$16=function(t){if(this.$1==="RequestSend"){if(!t){this.$17("EmptyResponse",null);return}this.$7(),this.$2.bumpCounter(c+"success"),this.$18(!0,null),this.$15("ResponseReceived");var e=o("MqttProtocolCodec").decodeByteMessages(new Uint8Array(t)),n=e.messages.filter(function(e){return e instanceof o("MqttProtocolCodec").WireMessage.Publish}).map(function(e){if(e instanceof o("MqttProtocolCodec").WireMessage.Publish){var t=e;return{topic:t.topic,payload:t.payloadMessage,qos:t.qos}}else return{}});this.$8(n),this.$9()}},a.$17=function(t,n){var e=n!=null?n.message:"null";this.$2.debugTrace("LongPollingClient Error","Poll failed with error:"+t+", errorMsg:"+e),this.$18(!1,t+":"+e),this.$2.bumpCounter(c+"error."+t),this.$15("Error",t)},a.$18=function(t,n){this.$2.eventLogPull({pullEventName:u,sessionID:this.$4,status:t,duration:Date.now()-this.$11,hostname:this.$3,errorMessage:n})},a.$14=function(t){var e=this;if(!(this.$1!=="Ready"||this.$12)){this.$2.bumpCounter(c+"request");try{this.$11=Date.now(),this.$12=new(r("XHRRequest"))(this.$3).setResponseType("arraybuffer").setRawData(t).setTransportBuilder(r("getCrossOriginTransport").withCredentials).setResponseHandler(function(t){return e.$16(t)}).setNetworkFailureHandler(function(t){e.$17("Network",t)}).setErrorHandler(function(t){e.$17("Error",t)}).setAbortHandler(function(t){e.$17("Abort",null)}).setTimeoutHandler(function(){e.$17("Timeout",null)}).setTimeout(s).send(),this.$15("RequestSend")}catch(e){this.$17("Error",r("getErrorSafe")(e))}}},t})();l.default=d}),98);
__d("MqttLongPollingHookCollection",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1=new Set}var t=e.prototype;return t.addHook=function(t){this.$1.add(t)},t.removeHook=function(t){this.$1.delete(t)},t.onPollRequestSent=function(){this.$1.forEach(function(e){e.onPollRequestSent()})},t.onPollRequestSuccess=function(){this.$1.forEach(function(e){e.onPollRequestSuccess()})},t.onPollResponse=function(t){this.$1.forEach(function(e){e.onPollResponse(t)})},t.onPollFinish=function(){this.$1.forEach(function(e){e.onPollFinish()})},t.onPollRequestFailed=function(t){this.$1.forEach(function(e){e.onPollRequestFailed(t)})},t.onPollShutdownAbort=function(){this.$1.forEach(function(e){e.onPollShutdownAbort()})},e})();i.default=e}),66);
__d("exponentialBackoff",["MqttEnv"],(function(t,n,r,o,a,i,l){function e(e,t){t===void 0&&(t=null);var n=null,r=0;function a(){for(var a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];var s=function(){e.apply(t,i)};if(n===null){var u=Math.max(0,Math.pow(2,Math.min(r,6))*(1e3+o("MqttEnv").Env.random()*100)-2e3);n=o("MqttEnv").Env.setTimeout(function(){s(),n=null},u)}r++}return a.reset=function(){r=0,n!=null&&(o("MqttEnv").Env.clearTimeout(n),n=null)},a.isPending=function(){return n!=null},a}l.default=e}),98);
__d("MqttLongPollingRunner",["MqttEnv","MqttFetchClient","MqttLongPollingClient","MqttLongPollingHookCollection","MqttTypes","MqttUtils","MqttWebSocketUtils","Promise","exponentialBackoff","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";var e,s=4,u=1e3,c=3e3,d="mqtt_should_longpoll",m="last_lp",p="yes",_="no",f=(function(){function t(e,t,n,a,i,l,s,u,c){var d=this;this.$23=function(){try{if(!d.$30())return;d.$5.debugTrace("LongPollingRunner","_startPollingIfNecessary called");var e=d.$31();d.$14=e;var t=d.$9(),n=d.$10(),a=t.filter(function(t){return e.isTopicSupported(t)}),i=n.filter(function(t){return e.isTopicSupported(t.topic)});if(a.length===0&&i.length===0){d.$5.debugTrace("LongPollingRunner","Poll skipped, nothing to do"),d.$14=null,o("MqttEnv").Env.setTimeout(function(){d.$23()},1e3);return}var l=o("MqttUtils").generateSessionId();e.run(d.$6,l,d.$7.gen(l,a,i),d.$7,function(){return d.$32()},function(e){return d.$33(e)},function(){return d.$34()},function(e){return d.$35(e)}),d.$19.onPollRequestSent();var s=a.join(","),u=i.map(function(e){return e.topic}).join(",");d.$5.debugTrace("LongPollingRunner","Making a poll request to "+d.$6+". SubscribedTopics:"+s+". Publishes:"+u)}catch(e){var c=r("getErrorSafe")(e);d.$5.logErrorWarn(c,"lp_js_error"),d.$11(new(o("MqttTypes")).MqttChannelError(!1,"js error lp",c)),d.$35("lp_js_error")}},this.$6=e,this.$7=t,this.$1=a,this.$2=0,this.$3=n,this.$4=o("MqttWebSocketUtils").hasWSSupport(),this.$5=o("MqttEnv").Env.getLoggerInstance(),this.$8=i,this.$9=l,this.$10=s,this.$11=u,this.$12=c,this.$13=!1,this.$14=null,this.$15="LPInactive",this.$16="NotSent",this.$17=0,this.$19=new(r("MqttLongPollingHookCollection")),this.$18=r("exponentialBackoff")(this.$23,this),this.$20=0,this.$21=_;var m=o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_lp_use_fetch),p=r("MqttFetchClient").isSupported();m?this.$5.bumpCounter("fetch_gk_pass"):this.$5.bumpCounter("fetch_gk_fail"),p?this.$5.bumpCounter("fetch_api_supported"):this.$5.bumpCounter("fetch_api_not_supported"),this.$22=m&&p}var a=t.prototype;return a.addHook=function(t){this.$19.addHook(t)},a.start=function(){var e=this;this.$21=o("MqttEnv").Env.configRead(m,_),this.$5.debugTrace("LongPollingRunner","Runner loaded, last status "+this.$21),this.$20=Date.now(),this.$23(),o("MqttEnv").Env.setTimeout(function(){e.$23()},u+100),o("MqttEnv").Env.setTimeout(function(){e.$23()},c+100)},a.shutdown=function(){this.$5.debugTrace("LongPollingRunner","Shutdown called"),this.$14&&this.$14.abort(),this.$19.onPollShutdownAbort(),this.$14=null},a.canPublish=function(){return this.$15==="LPActive"&&this.$16==="ReceivingData"},a.publish=function(t,n,r){return this.$24(t,n)},a.publishBinary=function(t,n,r){return this.$24(t,n)},a.$24=function(r,a){return o("MqttEnv").Env.genGk(o("MqttEnv").MqttGkNames.mqtt_enable_publish_over_polling)&&this.$14&&this.$14.isTopicSupported(r)?typeof a=="string"?this.$14.publish(r,a):this.$14.publishBinary(r,a):(e||(e=n("Promise"))).reject()},a.onConnectAttempt=function(){},a.onConnectFailure=function(){this.$2++,this.$23()},a.onConnected=function(){},a.onConnectSuccess=function(){this.$1=!0,o("MqttEnv").Env.configWrite(m,null)},a.onConnectionLost=function(){},a.onConnectionDisconnect=function(){},a.onSubscribe=function(t){},a.onUnsubscribe=function(t){},a.onPublish=function(t){},a.onMessage=function(t){},a.onWSFatal=function(){this.$3=!0,this.$23()},a.getStatus=function(){return this.$15},a.getRequestStatus=function(){return this.$16},a.$25=function(t){t!==this.$15&&(this.$5.debugTrace("LongPollingRunner","status changed to "+t+" from "+this.$15),this.$15=t,this.$12(this.$15,this.$16))},a.$26=function(t){this.$22&&t!==this.$16&&(this.$5.debugTrace("LongPollingRunner","request status changed to "+t+" from "+this.$16),this.$16=t,this.$12(this.$15,this.$16))},a.$27=function(){this.$17=0},a.$28=function(){this.$17++,this.$17>=s&&this.$25("LPError")},a.$29=function(){var e,t=(e=o("MqttEnv")).Env.genGk(e.MqttGkNames.mqtt_lp_no_delay),n=e.Env.genGk(e.MqttGkNames.mqtt_ws_polling_enabled),r=e.Env.genGk(e.MqttGkNames.mqtt_fast_lp);if(this.$5.debugTrace("LongPollingRunner","_shouldPoll? pollNow:"+String(t)+" enabled:"+String(n)+" fastPoll:"+String(r)+" hasWSSupport:"+String(this.$4)+" hasWsSuccessBefore:"+String(this.$1)+" failureCount:"+this.$2+" wsFatal:"+String(this.$3)),!n)return!1;if(t)return this.$5.bumpCounter(d+".nd"),!0;if(!this.$4)return this.$5.bumpCounter(d+".na"),!0;if(this.$3)return this.$5.bumpCounter(d+".fatal"),!0;if(this.$1)return!1;if(r){var a=Date.now()-this.$20;if(this.$21===p){if(this.$2>=1)return!0;if(a>u)return this.$5.bumpCounter(d+".fastdelay"),!0}else if(a>c)return this.$5.bumpCounter(d+".regulardelay"),!0}return this.$2>=3?(this.$5.bumpCounter(d+".failure"),!0):!1},a.$30=function(){if(this.$14!=null)return!1;var e=this.$29();return!this.$13&&e&&(this.$5.bumpCounter("polling_kickin"),this.$13=!0,this.$25("LPActive"),this.$27()),this.$13&&!e&&(this.$5.bumpCounter("polling_stopped"),this.$13=!1,this.$25("LPInactive"),this.$27()),e},a.$31=function(){return this.$22?(this.$5.debugTrace("LongPollingRunner","Creating polling client using Fetch API"),new(r("MqttFetchClient"))):(this.$5.debugTrace("LongPollingRunner","Creating regular Polling client"),new(r("MqttLongPollingClient")))},a.$32=function(){this.$5.debugTrace("LongPollingRunner","Poll success"),this.$19.onPollRequestSuccess(),this.$18.reset(),this.$25("LPActive"),this.$27(),o("MqttEnv").Env.configWrite(m,p),this.$26("ReceivingData")},a.$33=function(t){var e=t.map(function(e){return e.topic}).join(",");this.$5.debugTrace("LongPollingRunner","Poll response received, message received:"+e);for(var n of t)this.$19.onPollResponse(n.topic),this.$8(n.topic,n.payload,n.qos)},a.$34=function(){this.$5.debugTrace("LongPollingRunner","Poll finish"),this.$19.onPollFinish(),this.$14&&this.$14.abort(),this.$14=null,this.$23(),this.$26("NotSent")},a.$35=function(t){this.$19.onPollRequestFailed(t),this.$14&&this.$14.abort(),this.$14=null,this.$18(),this.$28(),this.$26("NotSent")},t})();l.default=f}),98);
__d("WebWorkerInitDeferred",["BootloaderErrorLoggerUtil","CometBootloaderErrorLoggerUtil","cr:7429"],(function(t,n,r,o,a,i,l){"use strict";function e(e){e.blLoggingCavalryFields&&(n("cr:7429").initLogging(e.blLoggingCavalryFields),o("CometBootloaderErrorLoggerUtil").initLogging(e.blLoggingCavalryFields),o("BootloaderErrorLoggerUtil").initLogging(e.blLoggingCavalryFields))}l.initDeferred=e}),98);/*FB_PKG_DELIM*/
__d("E2eeMetricsSerializers",["ThriftTypes"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{}}function u(){return{}}function c(){return{p2p_e2ee:s(),group_e2ee:u()}}function d(t,n){if(n.writeStructBegin("P2pE2eeMetrics"),t.engine_type!=null&&(n.writeFieldBegin({fname:"engine_type",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.engine_type)),n.writeFieldEnd()),t.status!=null&&(n.writeFieldBegin({fname:"status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.status)),n.writeFieldEnd()),t.version!=null&&(n.writeFieldBegin({fname:"version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.version)),n.writeFieldEnd()),t.gen_prekey_bundle_time_ms!=null&&(n.writeFieldBegin({fname:"gen_prekey_bundle_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.gen_prekey_bundle_time_ms)),n.writeFieldEnd()),t.encrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"encrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.encrypted_msg_time_ms)),n.writeFieldEnd()),t.decrypted_msg_time_ms!=null&&(n.writeFieldBegin({fname:"decrypted_msg_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.decrypted_msg_time_ms)),n.writeFieldEnd()),t.process_sdp_crypto_time_ms!=null&&(n.writeFieldBegin({fname:"process_sdp_crypto_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.process_sdp_crypto_time_ms)),n.writeFieldEnd()),t.create_crypto_offer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_offer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.create_crypto_offer_time_ms)),n.writeFieldEnd()),t.create_crypto_answer_time_ms!=null&&(n.writeFieldBegin({fname:"create_crypto_answer_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.create_crypto_answer_time_ms)),n.writeFieldEnd()),t.get_ik_time_ms!=null&&(n.writeFieldBegin({fname:"get_ik_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.get_ik_time_ms)),n.writeFieldEnd()),t.peer_id!=null&&(n.writeFieldBegin({fname:"peer_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.peer_id)),n.writeFieldEnd()),t.peer_connection_index!=null&&(n.writeFieldBegin({fname:"peer_connection_index",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.peer_connection_index)),n.writeFieldEnd()),t.srtp_crypto_suite!=null&&(n.writeFieldBegin({fname:"srtp_crypto_suite",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.srtp_crypto_suite)),n.writeFieldEnd()),t.engine_error!=null&&(n.writeFieldBegin({fname:"engine_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.engine_error)),n.writeFieldEnd()),t.libsignal_error!=null&&(n.writeFieldBegin({fname:"libsignal_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.libsignal_error)),n.writeFieldEnd()),t.identity_key_mode!=null&&(n.writeFieldBegin({fname:"identity_key_mode",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.identity_key_mode)),n.writeFieldEnd()),t.identity_key_num_persistent!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.identity_key_num_persistent)),n.writeFieldEnd()),t.identity_key_num_validated!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.identity_key_num_validated)),n.writeFieldEnd()),t.identity_key_num_saved!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.identity_key_num_saved)),n.writeFieldEnd()),t.identity_key_num_existing!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.identity_key_num_existing)),n.writeFieldEnd()),t.is_e2ee_mandated!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.is_e2ee_mandated)),n.writeFieldEnd()),t.local_trace_id!=null&&(n.writeFieldBegin({fname:"local_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.local_trace_id)),n.writeFieldEnd()),t.remote_trace_id!=null&&(n.writeFieldBegin({fname:"remote_trace_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.remote_trace_id)),n.writeFieldEnd()),t.local_device_id!=null&&(n.writeFieldBegin({fname:"local_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.local_device_id)),n.writeFieldEnd()),t.remote_device_id!=null&&(n.writeFieldBegin({fname:"remote_device_id",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.remote_device_id)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:26}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.gen_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.gen_dtls_auth_info_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.gen_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.gen_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"gen_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.gen_dtls_auth_info_time_ms)),n.writeFieldEnd()),t.verify_dtls_auth_info_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.verify_dtls_auth_info_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_libsignal_status!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_libsignal_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.verify_dtls_auth_info_libsignal_status)),n.writeFieldEnd()),t.verify_dtls_auth_info_time_ms!=null&&(n.writeFieldBegin({fname:"verify_dtls_auth_info_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.verify_dtls_auth_info_time_ms)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function m(t,n){if(n.writeStructBegin("GroupE2eeMetrics"),t.received_key_message_counter!=null&&(n.writeFieldBegin({fname:"received_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:1}),n.writeI64(BigInt(t.received_key_message_counter)),n.writeFieldEnd()),t.sent_key_message_counter!=null&&(n.writeFieldBegin({fname:"sent_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:2}),n.writeI64(BigInt(t.sent_key_message_counter)),n.writeFieldEnd()),t.cached_key_message_counter!=null&&(n.writeFieldBegin({fname:"cached_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:3}),n.writeI64(BigInt(t.cached_key_message_counter)),n.writeFieldEnd()),t.used_cached_key_counter!=null&&(n.writeFieldBegin({fname:"used_cached_key_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:4}),n.writeI64(BigInt(t.used_cached_key_counter)),n.writeFieldEnd()),t.unused_smu_counter!=null&&(n.writeFieldBegin({fname:"unused_smu_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:5}),n.writeI64(BigInt(t.unused_smu_counter)),n.writeFieldEnd()),t.missing_key_message_counter!=null&&(n.writeFieldBegin({fname:"missing_key_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:6}),n.writeI64(BigInt(t.missing_key_message_counter)),n.writeFieldEnd()),t.negotiate_off_status!=null&&(n.writeFieldBegin({fname:"negotiate_off_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:7}),n.writeI64(BigInt(t.negotiate_off_status)),n.writeFieldEnd()),t.cipher_suite_status!=null&&(n.writeFieldBegin({fname:"cipher_suite_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:8}),n.writeI64(BigInt(t.cipher_suite_status)),n.writeFieldEnd()),t.decrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"decrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:9}),n.writeI64(BigInt(t.decrypt_used_cached_session_counter)),n.writeFieldEnd()),t.encrypt_used_cached_session_counter!=null&&(n.writeFieldBegin({fname:"encrypt_used_cached_session_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:10}),n.writeI64(BigInt(t.encrypt_used_cached_session_counter)),n.writeFieldEnd()),t.sent_ack_message_counter!=null&&(n.writeFieldBegin({fname:"sent_ack_message_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:11}),n.writeI64(BigInt(t.sent_ack_message_counter)),n.writeFieldEnd()),t.reuse_ackd_uid_counter!=null&&(n.writeFieldBegin({fname:"reuse_ackd_uid_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:12}),n.writeI64(BigInt(t.reuse_ackd_uid_counter)),n.writeFieldEnd()),t.total_uids_created_counter!=null&&(n.writeFieldBegin({fname:"total_uids_created_counter",ftype:(e||(e=r("ThriftTypes"))).I64,fid:13}),n.writeI64(BigInt(t.total_uids_created_counter)),n.writeFieldEnd()),t.generate_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"generate_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:14}),n.writeI64(BigInt(t.generate_chain_key_failed_error)),n.writeFieldEnd()),t.set_chain_key_failed_error!=null&&(n.writeFieldBegin({fname:"set_chain_key_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:15}),n.writeI64(BigInt(t.set_chain_key_failed_error)),n.writeFieldEnd()),t.key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:16}),n.writeI64(BigInt(t.key_provider_not_found_error)),n.writeFieldEnd()),t.key_message_parse_failed_error!=null&&(n.writeFieldBegin({fname:"key_message_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:17}),n.writeI64(BigInt(t.key_message_parse_failed_error)),n.writeFieldEnd()),t.empty_pkb_result_error!=null&&(n.writeFieldBegin({fname:"empty_pkb_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:18}),n.writeI64(BigInt(t.empty_pkb_result_error)),n.writeFieldEnd()),t.empty_encrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:19}),n.writeI64(BigInt(t.empty_encrypt_result_error)),n.writeFieldEnd()),t.empty_decrypt_result_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:20}),n.writeI64(BigInt(t.empty_decrypt_result_error)),n.writeFieldEnd()),t.empty_version_error!=null&&(n.writeFieldBegin({fname:"empty_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:21}),n.writeI64(BigInt(t.empty_version_error)),n.writeFieldEnd()),t.unsupported_version_error!=null&&(n.writeFieldBegin({fname:"unsupported_version_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:22}),n.writeI64(BigInt(t.unsupported_version_error)),n.writeFieldEnd()),t.midcall_version_change_error!=null&&(n.writeFieldBegin({fname:"midcall_version_change_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:23}),n.writeI64(BigInt(t.midcall_version_change_error)),n.writeFieldEnd()),t.inconsistent_remote_maps_error!=null&&(n.writeFieldBegin({fname:"inconsistent_remote_maps_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:24}),n.writeI64(BigInt(t.inconsistent_remote_maps_error)),n.writeFieldEnd()),t.key_message_pkb_mismatch_error!=null&&(n.writeFieldBegin({fname:"key_message_pkb_mismatch_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:25}),n.writeI64(BigInt(t.key_message_pkb_mismatch_error)),n.writeFieldEnd()),t.no_key_or_ack_in_e2ee_message_error!=null&&(n.writeFieldBegin({fname:"no_key_or_ack_in_e2ee_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:26}),n.writeI64(BigInt(t.no_key_or_ack_in_e2ee_message_error)),n.writeFieldEnd()),t.receiver_key_provider_not_found_error!=null&&(n.writeFieldBegin({fname:"receiver_key_provider_not_found_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:27}),n.writeI64(BigInt(t.receiver_key_provider_not_found_error)),n.writeFieldEnd()),t.pkb_parse_failed_error!=null&&(n.writeFieldBegin({fname:"pkb_parse_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:28}),n.writeI64(BigInt(t.pkb_parse_failed_error)),n.writeFieldEnd()),t.message_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"message_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:29}),n.writeI64(BigInt(t.message_deserialized_failed_error)),n.writeFieldEnd()),t.decrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:30}),n.writeI64(BigInt(t.decrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_no_identity_key_and_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"encrypt_no_identity_key_and_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:31}),n.writeI64(BigInt(t.encrypt_no_identity_key_and_cached_session_not_used_error)),n.writeFieldEnd()),t.decrypt_ack_wrong_message_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_wrong_message_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:32}),n.writeI64(BigInt(t.decrypt_ack_wrong_message_error)),n.writeFieldEnd()),t.invalid_uid_received_error!=null&&(n.writeFieldBegin({fname:"invalid_uid_received_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:33}),n.writeI64(BigInt(t.invalid_uid_received_error)),n.writeFieldEnd()),t.ack_for_absent_user!=null&&(n.writeFieldBegin({fname:"ack_for_absent_user",ftype:(e||(e=r("ThriftTypes"))).I64,fid:34}),n.writeI64(BigInt(t.ack_for_absent_user)),n.writeFieldEnd()),t.uid_not_awaiting_ack_error!=null&&(n.writeFieldBegin({fname:"uid_not_awaiting_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:35}),n.writeI64(BigInt(t.uid_not_awaiting_ack_error)),n.writeFieldEnd()),t.decrypt_ack_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:36}),n.writeI64(BigInt(t.decrypt_ack_error)),n.writeFieldEnd()),t.empty_decrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_decrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:37}),n.writeI64(BigInt(t.empty_decrypt_result_ack_error)),n.writeFieldEnd()),t.decrypt_ack_cached_session_not_used_error!=null&&(n.writeFieldBegin({fname:"decrypt_ack_cached_session_not_used_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:38}),n.writeI64(BigInt(t.decrypt_ack_cached_session_not_used_error)),n.writeFieldEnd()),t.encrypt_ack_error!=null&&(n.writeFieldBegin({fname:"encrypt_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:39}),n.writeI64(BigInt(t.encrypt_ack_error)),n.writeFieldEnd()),t.empty_encrypt_result_ack_error!=null&&(n.writeFieldBegin({fname:"empty_encrypt_result_ack_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:40}),n.writeI64(BigInt(t.empty_encrypt_result_ack_error)),n.writeFieldEnd()),t.invalid_message_type_error!=null&&(n.writeFieldBegin({fname:"invalid_message_type_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:41}),n.writeI64(BigInt(t.invalid_message_type_error)),n.writeFieldEnd()),t.server_state_deserialized_failed_error!=null&&(n.writeFieldBegin({fname:"server_state_deserialized_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:42}),n.writeI64(BigInt(t.server_state_deserialized_failed_error)),n.writeFieldEnd()),t.crypto_engine_failure_error!=null&&(n.writeFieldBegin({fname:"crypto_engine_failure_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:43}),n.writeI64(BigInt(t.crypto_engine_failure_error)),n.writeFieldEnd()),t.empty_e2ee_client_state_error!=null&&(n.writeFieldBegin({fname:"empty_e2ee_client_state_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:44}),n.writeI64(BigInt(t.empty_e2ee_client_state_error)),n.writeFieldEnd()),t.group_e2ee_negotiated!=null&&(n.writeFieldBegin({fname:"group_e2ee_negotiated",ftype:(e||(e=r("ThriftTypes"))).I64,fid:45}),n.writeI64(BigInt(t.group_e2ee_negotiated)),n.writeFieldEnd()),t.negotiation_mode_kn!=null&&(n.writeFieldBegin({fname:"negotiation_mode_kn",ftype:(e||(e=r("ThriftTypes"))).I64,fid:46}),n.writeI64(BigInt(t.negotiation_mode_kn)),n.writeFieldEnd()),t.group_e2ee_setup_status!=null&&(n.writeFieldBegin({fname:"group_e2ee_setup_status",ftype:(e||(e=r("ThriftTypes"))).I64,fid:47}),n.writeI64(BigInt(t.group_e2ee_setup_status)),n.writeFieldEnd()),t.enable_group_e2ee!=null&&(n.writeFieldBegin({fname:"enable_group_e2ee",ftype:(e||(e=r("ThriftTypes"))).I64,fid:48}),n.writeI64(BigInt(t.enable_group_e2ee)),n.writeFieldEnd()),t.identity_key_mode_group!=null&&(n.writeFieldBegin({fname:"identity_key_mode_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:49}),n.writeI64(BigInt(t.identity_key_mode_group)),n.writeFieldEnd()),t.identity_key_num_persistent_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_persistent_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:50}),n.writeI64(BigInt(t.identity_key_num_persistent_group)),n.writeFieldEnd()),t.identity_key_num_validated_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_validated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:51}),n.writeI64(BigInt(t.identity_key_num_validated_group)),n.writeFieldEnd()),t.identity_key_num_saved_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_saved_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:52}),n.writeI64(BigInt(t.identity_key_num_saved_group)),n.writeFieldEnd()),t.identity_key_num_existing_group!=null&&(n.writeFieldBegin({fname:"identity_key_num_existing_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:53}),n.writeI64(BigInt(t.identity_key_num_existing_group)),n.writeFieldEnd()),t.max_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:54}),n.writeI64(BigInt(t.max_key_message_latency_ms)),n.writeFieldEnd()),t.max_key_message_latency_ms_joiner!=null&&(n.writeFieldBegin({fname:"max_key_message_latency_ms_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:55}),n.writeI64(BigInt(t.max_key_message_latency_ms_joiner)),n.writeFieldEnd()),t.max_smu_to_key_message_latency_ms!=null&&(n.writeFieldBegin({fname:"max_smu_to_key_message_latency_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:56}),n.writeI64(BigInt(t.max_smu_to_key_message_latency_ms)),n.writeFieldEnd()),t.process_smu_time_ms!=null&&(n.writeFieldBegin({fname:"process_smu_time_ms",ftype:(e||(e=r("ThriftTypes"))).I64,fid:57}),n.writeI64(BigInt(t.process_smu_time_ms)),n.writeFieldEnd()),t.decryption_total_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:58}),n.writeI64(BigInt(t.decryption_total_frames)),n.writeFieldEnd()),t.decryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:59}),n.writeI64(BigInt(t.decryption_total_error_frames)),n.writeFieldEnd()),t.decryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:60}),n.writeI64(BigInt(t.decryption_error_frames_alloc)),n.writeFieldEnd()),t.decryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:61}),n.writeI64(BigInt(t.decryption_error_frames_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:62}),n.writeI64(BigInt(t.decryption_error_frames_cipher)),n.writeFieldEnd()),t.decryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:63}),n.writeI64(BigInt(t.decryption_error_frames_parse)),n.writeFieldEnd()),t.decryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:64}),n.writeI64(BigInt(t.decryption_error_frames_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:65}),n.writeI64(BigInt(t.decryption_error_frames_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:66}),n.writeI64(BigInt(t.decryption_error_frames_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:67}),n.writeI64(BigInt(t.decryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:68}),n.writeI64(BigInt(t.decryption_error_frames_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:69}),n.writeI64(BigInt(t.decryption_error_frames_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:70}),n.writeI64(BigInt(t.decryption_error_frames_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:71}),n.writeI64(BigInt(t.decryption_error_frames_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:72}),n.writeI64(BigInt(t.decryption_error_frames_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:73}),n.writeI64(BigInt(t.decryption_error_frames_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:74}),n.writeI64(BigInt(t.decryption_error_frames_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:75}),n.writeI64(BigInt(t.decryption_error_frames_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:76}),n.writeI64(BigInt(t.decryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:77}),n.writeI64(BigInt(t.decryption_unencrypted_frames)),n.writeFieldEnd()),t.encryption_total_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:78}),n.writeI64(BigInt(t.encryption_total_frames)),n.writeFieldEnd()),t.encryption_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:79}),n.writeI64(BigInt(t.encryption_error_frames)),n.writeFieldEnd()),t.encryption_escape_bytes!=null&&(n.writeFieldBegin({fname:"encryption_escape_bytes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:80}),n.writeI64(BigInt(t.encryption_escape_bytes)),n.writeFieldEnd()),t.encryption_total_error_frames!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames",ftype:(e||(e=r("ThriftTypes"))).I64,fid:81}),n.writeI64(BigInt(t.encryption_total_error_frames)),n.writeFieldEnd()),t.encryption_error_frames_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:82}),n.writeI64(BigInt(t.encryption_error_frames_alloc)),n.writeFieldEnd()),t.encryption_error_frames_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:83}),n.writeI64(BigInt(t.encryption_error_frames_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:84}),n.writeI64(BigInt(t.encryption_error_frames_cipher)),n.writeFieldEnd()),t.encryption_error_frames_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:85}),n.writeI64(BigInt(t.encryption_error_frames_parse)),n.writeFieldEnd()),t.encryption_error_frames_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:86}),n.writeI64(BigInt(t.encryption_error_frames_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:87}),n.writeI64(BigInt(t.encryption_error_frames_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:88}),n.writeI64(BigInt(t.encryption_error_frames_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:89}),n.writeI64(BigInt(t.encryption_error_frames_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:90}),n.writeI64(BigInt(t.encryption_error_frames_unknown)),n.writeFieldEnd()),t.decryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:91}),n.writeI64(BigInt(t.decryption_total_frames_data_channel)),n.writeFieldEnd()),t.decryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:92}),n.writeI64(BigInt(t.decryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:93}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:94}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:95}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:96}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:97}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_missing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:98}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_missing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_out_of_ratchet_space!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_out_of_ratchet_space",ftype:(e||(e=r("ThriftTypes"))).I64,fid:99}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_out_of_ratchet_space)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:100}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_frame_too_old!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_frame_too_old",ftype:(e||(e=r("ThriftTypes"))).I64,fid:101}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_frame_too_old)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_seen_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_seen_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:102}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_seen_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_invalid_frame!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:103}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_invalid_frame)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_invalid_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:104}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_invalid_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_setting_existing_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_setting_existing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:105}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_setting_existing_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:106}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_deescape_data!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:107}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_deescape_data)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_parse_frame_or_key!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_parse_frame_or_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:108}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_parse_frame_or_key)),n.writeFieldEnd()),t.decryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"decryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:109}),n.writeI64(BigInt(t.decryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.decryption_unencrypted_frames_data_channel!=null&&(n.writeFieldBegin({fname:"decryption_unencrypted_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:110}),n.writeI64(BigInt(t.decryption_unencrypted_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:111}),n.writeI64(BigInt(t.encryption_total_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:112}),n.writeI64(BigInt(t.encryption_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_total_error_frames_data_channel!=null&&(n.writeFieldBegin({fname:"encryption_total_error_frames_data_channel",ftype:(e||(e=r("ThriftTypes"))).I64,fid:113}),n.writeI64(BigInt(t.encryption_total_error_frames_data_channel)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_alloc!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_alloc",ftype:(e||(e=r("ThriftTypes"))).I64,fid:114}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_alloc)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_params!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_params",ftype:(e||(e=r("ThriftTypes"))).I64,fid:115}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_params)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher",ftype:(e||(e=r("ThriftTypes"))).I64,fid:116}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_parse!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_parse",ftype:(e||(e=r("ThriftTypes"))).I64,fid:117}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_parse)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_invalid_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_invalid_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:118}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_invalid_key)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_cipher_auth!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_cipher_auth",ftype:(e||(e=r("ThriftTypes"))).I64,fid:119}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_cipher_auth)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_escape_data!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_escape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:120}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_escape_data)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unsupported_codec!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unsupported_codec",ftype:(e||(e=r("ThriftTypes"))).I64,fid:121}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unsupported_codec)),n.writeFieldEnd()),t.encryption_error_frames_data_channel_unknown!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_data_channel_unknown",ftype:(e||(e=r("ThriftTypes"))).I64,fid:122}),n.writeI64(BigInt(t.encryption_error_frames_data_channel_unknown)),n.writeFieldEnd()),t.num_removed_data_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_data_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:123}),n.writeI64(BigInt(t.num_removed_data_decryptors)),n.writeFieldEnd()),t.num_frame_decryptor_with_unencrypted_data!=null&&(n.writeFieldBegin({fname:"num_frame_decryptor_with_unencrypted_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:124}),n.writeI64(BigInt(t.num_frame_decryptor_with_unencrypted_data)),n.writeFieldEnd()),t.num_removed_decryptors!=null&&(n.writeFieldBegin({fname:"num_removed_decryptors",ftype:(e||(e=r("ThriftTypes"))).I64,fid:125}),n.writeI64(BigInt(t.num_removed_decryptors)),n.writeFieldEnd()),t.data_channel_encryption_not_ready_in_mandated_calls_error!=null&&(n.writeFieldBegin({fname:"data_channel_encryption_not_ready_in_mandated_calls_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:126}),n.writeI64(BigInt(t.data_channel_encryption_not_ready_in_mandated_calls_error)),n.writeFieldEnd()),t.num_e2ee_message_total_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:127}),n.writeI64(BigInt(t.num_e2ee_message_total_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_encrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_encrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:128}),n.writeI64(BigInt(t.num_e2ee_message_error_encrypt)),n.writeFieldEnd()),t.num_e2ee_message_total_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_total_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:129}),n.writeI64(BigInt(t.num_e2ee_message_total_decrypt)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt",ftype:(e||(e=r("ThriftTypes"))).I64,fid:130}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt)),n.writeFieldEnd()),t.negotiate_off_time!=null&&(n.writeFieldBegin({fname:"negotiate_off_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:131}),n.writeI64(BigInt(t.negotiate_off_time)),n.writeFieldEnd()),t.negotiated_version!=null&&(n.writeFieldBegin({fname:"negotiated_version",ftype:(e||(e=r("ThriftTypes"))).I64,fid:132}),n.writeI64(BigInt(t.negotiated_version)),n.writeFieldEnd()),t.decryptor_removed_time!=null&&(n.writeFieldBegin({fname:"decryptor_removed_time",ftype:(e||(e=r("ThriftTypes"))).I64,fid:133}),n.writeI64(BigInt(t.decryptor_removed_time)),n.writeFieldEnd()),t.is_e2ee_mandated_group!=null&&(n.writeFieldBegin({fname:"is_e2ee_mandated_group",ftype:(e||(e=r("ThriftTypes"))).I64,fid:134}),n.writeI64(BigInt(t.is_e2ee_mandated_group)),n.writeFieldEnd()),t.events!=null){n.writeFieldBegin({fname:"events",ftype:(e||(e=r("ThriftTypes"))).LIST,fid:135}),n.writeListBegin({etype:e.I64,size:t.events.length});for(var o of t.events)n.writeI64(BigInt(o));n.writeListEnd(),n.writeFieldEnd()}t.num_e2ee_message_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:136}),n.writeI64(BigInt(t.num_e2ee_message_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_non_e2ee_received!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_non_e2ee_received",ftype:(e||(e=r("ThriftTypes"))).I64,fid:137}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_non_e2ee_received)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_missing_sender!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_missing_sender",ftype:(e||(e=r("ThriftTypes"))).I64,fid:138}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_missing_sender)),n.writeFieldEnd()),t.num_e2ee_message_error_decrypt_exceeding_retry!=null&&(n.writeFieldBegin({fname:"num_e2ee_message_error_decrypt_exceeding_retry",ftype:(e||(e=r("ThriftTypes"))).I64,fid:139}),n.writeI64(BigInt(t.num_e2ee_message_error_decrypt_exceeding_retry)),n.writeFieldEnd()),t.max_media_channel_key_message_retry_count!=null&&(n.writeFieldBegin({fname:"max_media_channel_key_message_retry_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:140}),n.writeI64(BigInt(t.max_media_channel_key_message_retry_count)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:141}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:142}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:143}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key)),n.writeFieldEnd()),t.g_e2ee_decryption_error_frames_empty_supported_codes!=null&&(n.writeFieldBegin({fname:"g_e2ee_decryption_error_frames_empty_supported_codes",ftype:(e||(e=r("ThriftTypes"))).I64,fid:144}),n.writeI64(BigInt(t.g_e2ee_decryption_error_frames_empty_supported_codes)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty",ftype:(e||(e=r("ThriftTypes"))).I64,fid:146}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_empty_nalu_blocks!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_empty_nalu_blocks",ftype:(e||(e=r("ThriftTypes"))).I64,fid:147}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_empty_nalu_blocks)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h264!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h264",ftype:(e||(e=r("ThriftTypes"))).I64,fid:148}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h264)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265",ftype:(e||(e=r("ThriftTypes"))).I64,fid:149}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265)),n.writeFieldEnd()),t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block!=null&&(n.writeFieldBegin({fname:"g_e2ee_encryption_error_frames_invalid_h265_nalu_block",ftype:(e||(e=r("ThriftTypes"))).I64,fid:150}),n.writeI64(BigInt(t.g_e2ee_encryption_error_frames_invalid_h265_nalu_block)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions",ftype:(e||(e=r("ThriftTypes"))).I64,fid:151}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions)),n.writeFieldEnd()),t.g_e2ee_total_count_of_extra_encryptions_failures!=null&&(n.writeFieldBegin({fname:"g_e2ee_total_count_of_extra_encryptions_failures",ftype:(e||(e=r("ThriftTypes"))).I64,fid:152}),n.writeI64(BigInt(t.g_e2ee_total_count_of_extra_encryptions_failures)),n.writeFieldEnd()),t.encryption_error_frames_no_active_key!=null&&(n.writeFieldBegin({fname:"encryption_error_frames_no_active_key",ftype:(e||(e=r("ThriftTypes"))).I64,fid:153}),n.writeI64(BigInt(t.encryption_error_frames_no_active_key)),n.writeFieldEnd()),t.key_negotiation_protocol!=null&&(n.writeFieldBegin({fname:"key_negotiation_protocol",ftype:(e||(e=r("ThriftTypes"))).I64,fid:154}),n.writeI64(BigInt(t.key_negotiation_protocol)),n.writeFieldEnd()),t.key_messages_received_via_signaling!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling",ftype:(e||(e=r("ThriftTypes"))).I64,fid:155}),n.writeI64(BigInt(t.key_messages_received_via_signaling)),n.writeFieldEnd()),t.key_messages_received_via_media!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media",ftype:(e||(e=r("ThriftTypes"))).I64,fid:156}),n.writeI64(BigInt(t.key_messages_received_via_media)),n.writeFieldEnd()),t.key_messages_received_via_signaling_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_signaling_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:157}),n.writeI64(BigInt(t.key_messages_received_via_signaling_joiner)),n.writeFieldEnd()),t.key_messages_received_via_media_joiner!=null&&(n.writeFieldBegin({fname:"key_messages_received_via_media_joiner",ftype:(e||(e=r("ThriftTypes"))).I64,fid:158}),n.writeI64(BigInt(t.key_messages_received_via_media_joiner)),n.writeFieldEnd()),t.g_e2ee_participant_hash_verification_failed_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_participant_hash_verification_failed_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:159}),n.writeI64(BigInt(t.g_e2ee_participant_hash_verification_failed_error)),n.writeFieldEnd()),t.g_e2ee_invalid_key_distributor_id_error!=null&&(n.writeFieldBegin({fname:"g_e2ee_invalid_key_distributor_id_error",ftype:(e||(e=r("ThriftTypes"))).I64,fid:160}),n.writeI64(BigInt(t.g_e2ee_invalid_key_distributor_id_error)),n.writeFieldEnd()),t.g_e2ee_key_message_validation_failure_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_key_message_validation_failure_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:161}),n.writeI64(BigInt(t.g_e2ee_key_message_validation_failure_count)),n.writeFieldEnd()),t.g_e2ee_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:162}),n.writeI64(BigInt(t.g_e2ee_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_reapply_cached_decrypted_key_count!=null&&(n.writeFieldBegin({fname:"g_e2ee_reapply_cached_decrypted_key_count",ftype:(e||(e=r("ThriftTypes"))).I64,fid:163}),n.writeI64(BigInt(t.g_e2ee_reapply_cached_decrypted_key_count)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:164}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_obu_offset!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_obu_offset",ftype:(e||(e=r("ThriftTypes"))).I64,fid:165}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_obu_offset)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:166}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension",ftype:(e||(e=r("ThriftTypes"))).I64,fid:167}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:168}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size",ftype:(e||(e=r("ThriftTypes"))).I64,fid:169}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:170}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_leb128_parse_failure!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_leb128_parse_failure",ftype:(e||(e=r("ThriftTypes"))).I64,fid:171}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_leb128_parse_failure)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:172}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_empty_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_empty_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:173}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_empty_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:174}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:175}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_data_channel_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:176}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_data_channel_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_dec_error_frames_av1_deescape_data!=null&&(n.writeFieldBegin({fname:"g_e2ee_dec_error_frames_av1_deescape_data",ftype:(e||(e=r("ThriftTypes"))).I64,fid:177}),n.writeI64(BigInt(t.g_e2ee_dec_error_frames_av1_deescape_data)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_data_channel_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:178}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame)),n.writeFieldEnd()),t.g_e2ee_enc_error_frames_av1_invalid_frame!=null&&(n.writeFieldBegin({fname:"g_e2ee_enc_error_frames_av1_invalid_frame",ftype:(e||(e=r("ThriftTypes"))).I64,fid:179}),n.writeI64(BigInt(t.g_e2ee_enc_error_frames_av1_invalid_frame)),n.writeFieldEnd()),n.writeFieldStop(),n.writeStructEnd()}function p(t,n){if(n.writeStructBegin("E2eeMetrics"),n.writeFieldBegin({fname:"p2p_e2ee",ftype:(e||(e=r("ThriftTypes"))).STRUCT,fid:1}),t.p2p_e2ee!=null)d(t.p2p_e2ee,n);else{var o=s();d(o,n)}if(n.writeFieldEnd(),n.writeFieldBegin({fname:"group_e2ee",ftype:e.STRUCT,fid:2}),t.group_e2ee!=null)m(t.group_e2ee,n);else{var a=u();m(a,n)}n.writeFieldEnd(),n.writeFieldStop(),n.writeStructEnd()}function _(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.engine_type=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.status=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.version=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.gen_prekey_bundle_time_ms=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.encrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.decrypted_msg_time_ms=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.process_sdp_crypto_time_ms=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_offer_time_ms=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.create_crypto_answer_time_ms=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.get_ik_time_ms=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.peer_id=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.peer_connection_index=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.srtp_crypto_suite=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.engine_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.libsignal_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.local_trace_id=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.remote_trace_id=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.local_device_id=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.remote_device_id=t.readI64().toString():t.skip(a);break;case 26:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.gen_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_status=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_libsignal_status=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.verify_dtls_auth_info_time_ms=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function f(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).I64?n.received_key_message_counter=t.readI64().toString():t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).I64?n.sent_key_message_counter=t.readI64().toString():t.skip(a);break;case 3:a===(e||(e=r("ThriftTypes"))).I64?n.cached_key_message_counter=t.readI64().toString():t.skip(a);break;case 4:a===(e||(e=r("ThriftTypes"))).I64?n.used_cached_key_counter=t.readI64().toString():t.skip(a);break;case 5:a===(e||(e=r("ThriftTypes"))).I64?n.unused_smu_counter=t.readI64().toString():t.skip(a);break;case 6:a===(e||(e=r("ThriftTypes"))).I64?n.missing_key_message_counter=t.readI64().toString():t.skip(a);break;case 7:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_status=t.readI64().toString():t.skip(a);break;case 8:a===(e||(e=r("ThriftTypes"))).I64?n.cipher_suite_status=t.readI64().toString():t.skip(a);break;case 9:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 10:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_used_cached_session_counter=t.readI64().toString():t.skip(a);break;case 11:a===(e||(e=r("ThriftTypes"))).I64?n.sent_ack_message_counter=t.readI64().toString():t.skip(a);break;case 12:a===(e||(e=r("ThriftTypes"))).I64?n.reuse_ackd_uid_counter=t.readI64().toString():t.skip(a);break;case 13:a===(e||(e=r("ThriftTypes"))).I64?n.total_uids_created_counter=t.readI64().toString():t.skip(a);break;case 14:a===(e||(e=r("ThriftTypes"))).I64?n.generate_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 15:a===(e||(e=r("ThriftTypes"))).I64?n.set_chain_key_failed_error=t.readI64().toString():t.skip(a);break;case 16:a===(e||(e=r("ThriftTypes"))).I64?n.key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 17:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_parse_failed_error=t.readI64().toString():t.skip(a);break;case 18:a===(e||(e=r("ThriftTypes"))).I64?n.empty_pkb_result_error=t.readI64().toString():t.skip(a);break;case 19:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_error=t.readI64().toString():t.skip(a);break;case 20:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_error=t.readI64().toString():t.skip(a);break;case 21:a===(e||(e=r("ThriftTypes"))).I64?n.empty_version_error=t.readI64().toString():t.skip(a);break;case 22:a===(e||(e=r("ThriftTypes"))).I64?n.unsupported_version_error=t.readI64().toString():t.skip(a);break;case 23:a===(e||(e=r("ThriftTypes"))).I64?n.midcall_version_change_error=t.readI64().toString():t.skip(a);break;case 24:a===(e||(e=r("ThriftTypes"))).I64?n.inconsistent_remote_maps_error=t.readI64().toString():t.skip(a);break;case 25:a===(e||(e=r("ThriftTypes"))).I64?n.key_message_pkb_mismatch_error=t.readI64().toString():t.skip(a);break;case 26:a===(e||(e=r("ThriftTypes"))).I64?n.no_key_or_ack_in_e2ee_message_error=t.readI64().toString():t.skip(a);break;case 27:a===(e||(e=r("ThriftTypes"))).I64?n.receiver_key_provider_not_found_error=t.readI64().toString():t.skip(a);break;case 28:a===(e||(e=r("ThriftTypes"))).I64?n.pkb_parse_failed_error=t.readI64().toString():t.skip(a);break;case 29:a===(e||(e=r("ThriftTypes"))).I64?n.message_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 30:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 31:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_no_identity_key_and_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 32:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_wrong_message_error=t.readI64().toString():t.skip(a);break;case 33:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_uid_received_error=t.readI64().toString():t.skip(a);break;case 34:a===(e||(e=r("ThriftTypes"))).I64?n.ack_for_absent_user=t.readI64().toString():t.skip(a);break;case 35:a===(e||(e=r("ThriftTypes"))).I64?n.uid_not_awaiting_ack_error=t.readI64().toString():t.skip(a);break;case 36:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_error=t.readI64().toString():t.skip(a);break;case 37:a===(e||(e=r("ThriftTypes"))).I64?n.empty_decrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 38:a===(e||(e=r("ThriftTypes"))).I64?n.decrypt_ack_cached_session_not_used_error=t.readI64().toString():t.skip(a);break;case 39:a===(e||(e=r("ThriftTypes"))).I64?n.encrypt_ack_error=t.readI64().toString():t.skip(a);break;case 40:a===(e||(e=r("ThriftTypes"))).I64?n.empty_encrypt_result_ack_error=t.readI64().toString():t.skip(a);break;case 41:a===(e||(e=r("ThriftTypes"))).I64?n.invalid_message_type_error=t.readI64().toString():t.skip(a);break;case 42:a===(e||(e=r("ThriftTypes"))).I64?n.server_state_deserialized_failed_error=t.readI64().toString():t.skip(a);break;case 43:a===(e||(e=r("ThriftTypes"))).I64?n.crypto_engine_failure_error=t.readI64().toString():t.skip(a);break;case 44:a===(e||(e=r("ThriftTypes"))).I64?n.empty_e2ee_client_state_error=t.readI64().toString():t.skip(a);break;case 45:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_negotiated=t.readI64().toString():t.skip(a);break;case 46:a===(e||(e=r("ThriftTypes"))).I64?n.negotiation_mode_kn=t.readI64().toString():t.skip(a);break;case 47:a===(e||(e=r("ThriftTypes"))).I64?n.group_e2ee_setup_status=t.readI64().toString():t.skip(a);break;case 48:a===(e||(e=r("ThriftTypes"))).I64?n.enable_group_e2ee=t.readI64().toString():t.skip(a);break;case 49:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_mode_group=t.readI64().toString():t.skip(a);break;case 50:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_persistent_group=t.readI64().toString():t.skip(a);break;case 51:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_validated_group=t.readI64().toString():t.skip(a);break;case 52:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_saved_group=t.readI64().toString():t.skip(a);break;case 53:a===(e||(e=r("ThriftTypes"))).I64?n.identity_key_num_existing_group=t.readI64().toString():t.skip(a);break;case 54:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 55:a===(e||(e=r("ThriftTypes"))).I64?n.max_key_message_latency_ms_joiner=t.readI64().toString():t.skip(a);break;case 56:a===(e||(e=r("ThriftTypes"))).I64?n.max_smu_to_key_message_latency_ms=t.readI64().toString():t.skip(a);break;case 57:a===(e||(e=r("ThriftTypes"))).I64?n.process_smu_time_ms=t.readI64().toString():t.skip(a);break;case 58:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames=t.readI64().toString():t.skip(a);break;case 59:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 60:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 61:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 62:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 63:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 64:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 65:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_missing_key=t.readI64().toString():t.skip(a);break;case 66:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 67:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 68:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_frame_too_old=t.readI64().toString():t.skip(a);break;case 69:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_seen_frame=t.readI64().toString():t.skip(a);break;case 70:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_invalid_frame=t.readI64().toString():t.skip(a);break;case 71:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 72:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_setting_existing_key=t.readI64().toString():t.skip(a);break;case 73:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 74:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_deescape_data=t.readI64().toString():t.skip(a);break;case 75:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 76:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 77:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames=t.readI64().toString():t.skip(a);break;case 78:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames=t.readI64().toString():t.skip(a);break;case 79:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames=t.readI64().toString():t.skip(a);break;case 80:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_escape_bytes=t.readI64().toString():t.skip(a);break;case 81:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames=t.readI64().toString():t.skip(a);break;case 82:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_alloc=t.readI64().toString():t.skip(a);break;case 83:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_params=t.readI64().toString():t.skip(a);break;case 84:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher=t.readI64().toString():t.skip(a);break;case 85:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_parse=t.readI64().toString():t.skip(a);break;case 86:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_invalid_key=t.readI64().toString():t.skip(a);break;case 87:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_cipher_auth=t.readI64().toString():t.skip(a);break;case 88:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_escape_data=t.readI64().toString():t.skip(a);break;case 89:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unsupported_codec=t.readI64().toString():t.skip(a);break;case 90:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_unknown=t.readI64().toString():t.skip(a);break;case 91:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 92:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 93:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 94:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 95:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 96:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 97:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 98:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_missing_key=t.readI64().toString():t.skip(a);break;case 99:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_out_of_ratchet_space=t.readI64().toString():t.skip(a);break;case 100:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 101:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_frame_too_old=t.readI64().toString():t.skip(a);break;case 102:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_seen_frame=t.readI64().toString():t.skip(a);break;case 103:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_invalid_frame=t.readI64().toString():t.skip(a);break;case 104:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_invalid_key=t.readI64().toString():t.skip(a);break;case 105:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_setting_existing_key=t.readI64().toString():t.skip(a);break;case 106:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 107:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_deescape_data=t.readI64().toString():t.skip(a);break;case 108:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_parse_frame_or_key=t.readI64().toString():t.skip(a);break;case 109:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 110:a===(e||(e=r("ThriftTypes"))).I64?n.decryption_unencrypted_frames_data_channel=t.readI64().toString():t.skip(a);break;case 111:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_frames_data_channel=t.readI64().toString():t.skip(a);break;case 112:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 113:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_total_error_frames_data_channel=t.readI64().toString():t.skip(a);break;case 114:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_alloc=t.readI64().toString():t.skip(a);break;case 115:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_params=t.readI64().toString():t.skip(a);break;case 116:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher=t.readI64().toString():t.skip(a);break;case 117:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_parse=t.readI64().toString():t.skip(a);break;case 118:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_invalid_key=t.readI64().toString():t.skip(a);break;case 119:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_cipher_auth=t.readI64().toString():t.skip(a);break;case 120:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_escape_data=t.readI64().toString():t.skip(a);break;case 121:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unsupported_codec=t.readI64().toString():t.skip(a);break;case 122:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_data_channel_unknown=t.readI64().toString():t.skip(a);break;case 123:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_data_decryptors=t.readI64().toString():t.skip(a);break;case 124:a===(e||(e=r("ThriftTypes"))).I64?n.num_frame_decryptor_with_unencrypted_data=t.readI64().toString():t.skip(a);break;case 125:a===(e||(e=r("ThriftTypes"))).I64?n.num_removed_decryptors=t.readI64().toString():t.skip(a);break;case 126:a===(e||(e=r("ThriftTypes"))).I64?n.data_channel_encryption_not_ready_in_mandated_calls_error=t.readI64().toString():t.skip(a);break;case 127:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_encrypt=t.readI64().toString():t.skip(a);break;case 128:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_encrypt=t.readI64().toString():t.skip(a);break;case 129:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_total_decrypt=t.readI64().toString():t.skip(a);break;case 130:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt=t.readI64().toString():t.skip(a);break;case 131:a===(e||(e=r("ThriftTypes"))).I64?n.negotiate_off_time=t.readI64().toString():t.skip(a);break;case 132:a===(e||(e=r("ThriftTypes"))).I64?n.negotiated_version=t.readI64().toString():t.skip(a);break;case 133:a===(e||(e=r("ThriftTypes"))).I64?n.decryptor_removed_time=t.readI64().toString():t.skip(a);break;case 134:a===(e||(e=r("ThriftTypes"))).I64?n.is_e2ee_mandated_group=t.readI64().toString():t.skip(a);break;case 135:if(a===(e||(e=r("ThriftTypes"))).LIST){n.events=[];for(var l=t.readListBegin(),s=0;s<l.size;s++){var u=t.readI64().toString();n.events.push(u)}}else t.skip(a);break;case 136:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_received=t.readI64().toString():t.skip(a);break;case 137:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_non_e2ee_received=t.readI64().toString():t.skip(a);break;case 138:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_missing_sender=t.readI64().toString():t.skip(a);break;case 139:a===(e||(e=r("ThriftTypes"))).I64?n.num_e2ee_message_error_decrypt_exceeding_retry=t.readI64().toString():t.skip(a);break;case 140:a===(e||(e=r("ThriftTypes"))).I64?n.max_media_channel_key_message_retry_count=t.readI64().toString():t.skip(a);break;case 141:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions=t.readI64().toString():t.skip(a);break;case 142:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures=t.readI64().toString():t.skip(a);break;case 143:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_decryptions_failures_due_to_missing_key=t.readI64().toString():t.skip(a);break;case 144:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_decryption_error_frames_empty_supported_codes=t.readI64().toString():t.skip(a);break;case 146:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty=t.readI64().toString():t.skip(a);break;case 147:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_empty_nalu_blocks=t.readI64().toString():t.skip(a);break;case 148:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h264=t.readI64().toString():t.skip(a);break;case 149:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265=t.readI64().toString():t.skip(a);break;case 150:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_encryption_error_frames_invalid_h265_nalu_block=t.readI64().toString():t.skip(a);break;case 151:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions=t.readI64().toString():t.skip(a);break;case 152:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_total_count_of_extra_encryptions_failures=t.readI64().toString():t.skip(a);break;case 153:a===(e||(e=r("ThriftTypes"))).I64?n.encryption_error_frames_no_active_key=t.readI64().toString():t.skip(a);break;case 154:a===(e||(e=r("ThriftTypes"))).I64?n.key_negotiation_protocol=t.readI64().toString():t.skip(a);break;case 155:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling=t.readI64().toString():t.skip(a);break;case 156:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media=t.readI64().toString():t.skip(a);break;case 157:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_signaling_joiner=t.readI64().toString():t.skip(a);break;case 158:a===(e||(e=r("ThriftTypes"))).I64?n.key_messages_received_via_media_joiner=t.readI64().toString():t.skip(a);break;case 159:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_participant_hash_verification_failed_error=t.readI64().toString():t.skip(a);break;case 160:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_invalid_key_distributor_id_error=t.readI64().toString():t.skip(a);break;case 161:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_key_message_validation_failure_count=t.readI64().toString():t.skip(a);break;case 162:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 163:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_reapply_cached_decrypted_key_count=t.readI64().toString():t.skip(a);break;case 164:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 165:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_obu_offset=t.readI64().toString():t.skip(a);break;case 166:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 167:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_extension=t.readI64().toString():t.skip(a);break;case 168:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 169:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_insufficient_bytes_for_size=t.readI64().toString():t.skip(a);break;case 170:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 171:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_leb128_parse_failure=t.readI64().toString():t.skip(a);break;case 172:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 173:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_empty_frame=t.readI64().toString():t.skip(a);break;case 174:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 175:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 176:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_data_channel_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 177:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_dec_error_frames_av1_deescape_data=t.readI64().toString():t.skip(a);break;case 178:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_data_channel_av1_invalid_frame=t.readI64().toString():t.skip(a);break;case 179:a===(e||(e=r("ThriftTypes"))).I64?n.g_e2ee_enc_error_frames_av1_invalid_frame=t.readI64().toString():t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n}function g(t){var n={};for(t.readStructBegin();;){var o=t.readFieldBegin(),a=o.ftype,i=o.fid;if(a===(e||(e=r("ThriftTypes"))).STOP)break;switch(i){case 1:a===(e||(e=r("ThriftTypes"))).STRUCT?n.p2p_e2ee=_(t):t.skip(a);break;case 2:a===(e||(e=r("ThriftTypes"))).STRUCT?n.group_e2ee=f(t):t.skip(a);break;default:t.skip(a)}t.readFieldEnd()}return t.readStructEnd(),n.p2p_e2ee===void 0&&(n.p2p_e2ee=s()),n.group_e2ee===void 0&&(n.group_e2ee=u()),n}l.P2pE2eeMetrics$DefaultConstructor=s,l.GroupE2eeMetrics$DefaultConstructor=u,l.E2eeMetrics$DefaultConstructor=c,l.serializeP2pE2eeMetrics=d,l.serializeGroupE2eeMetrics=m,l.serializeE2eeMetrics=p,l.deserializeP2pE2eeMetrics=_,l.deserializeGroupE2eeMetrics=f,l.deserializeE2eeMetrics=g}),98);
__d("WebAssemblyMemorySingleton",[],(function(t,n,r,o,a,i){"use strict";var e=65536,l=5701632,s=45*e,u=l+s,c=null,d=0,m=0;function p(){return c==null&&(c=new WebAssembly.Memory({initial:u/e,maximum:2147483648/e}),d=u),c}function _(){if(c!=null){var e=c.buffer.byteLength;e!==d&&(m++,d=e)}return{memory_reallocation_count:m,memory_size_kb:d/1024}}var f={INITIAL_MEMORY_ALLOCATED_IN_BYTES:u,get:p,getMetrics:_};i.WebAssemblyMemorySingleton=f}),66);
__d("ZenonE2eeMandatedStateManager",["$InternalEnum","E2eeStateTypes","MultiwaySharedTypes","ZenonActorHooks","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["NONE","ONLY_INFRA_MANDATED_EXP_CONTROL","ONLY_INFRA_MANDATED_EXP_TEST","INFRA_AND_PRODUCT_MANDATED"]),s=null,u=(function(){function t(){this.$1=e.NONE}var n=t.prototype;return n.processE2eeMandatedStateFromProductAndRing=function(t,n){this.$1=this.$2(t,n)},n.areBothInfraAndProductE2eeMandated=function(){return this.$1===e.INFRA_AND_PRODUCT_MANDATED},n.isInfraE2eeMandated=function(){return this.areBothInfraAndProductE2eeMandated()||this.$3()},n.$3=function(){return this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST},n.processE2eeMandatedStateFromE2eeServerUpdate=function(n){this.areBothInfraAndProductE2eeMandated()||n===o("E2eeStateTypes").InfraMandatedExpStatus.TEST&&this.$1===e.ONLY_INFRA_MANDATED_EXP_TEST||n===o("E2eeStateTypes").InfraMandatedExpStatus.CONTROL&&this.$1===e.ONLY_INFRA_MANDATED_EXP_CONTROL||(this.$1=e.NONE)},n.isEligibleForE2eeInfraMandatedExperiment=function(){var e,t;return(e=(t=r("qex")._("138"))!=null?t:r("qex")._("192"))!=null?e:!1},n.isP2pMediaPathPreferredForInfraMandatedExperiment=function(){var e,t;return this.$3()&&((e=(t=r("qex")._("531"))!=null?t:r("qex")._("532"))!=null?e:!1)},n.getE2eeInfraMandatedExpStatus=function(){switch(this.$1){case e.INFRA_AND_PRODUCT_MANDATED:case e.NONE:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.NOT_SET;case e.ONLY_INFRA_MANDATED_EXP_CONTROL:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL;case e.ONLY_INFRA_MANDATED_EXP_TEST:return o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST}},n.$2=function(n,r){if(n)return e.INFRA_AND_PRODUCT_MANDATED;if(o("ZenonActorHooks").ZenonActor.getAppID()===436761779744620 .toString()||!this.isEligibleForE2eeInfraMandatedExperiment())return e.NONE;var t=this.$4();if(r==null)return t;var a=this.$5(r);return a===e.NONE?e.NONE:a===e.ONLY_INFRA_MANDATED_EXP_CONTROL?t===e.ONLY_INFRA_MANDATED_EXP_TEST?e.NONE:e.ONLY_INFRA_MANDATED_EXP_CONTROL:t===e.ONLY_INFRA_MANDATED_EXP_CONTROL?e.NONE:e.ONLY_INFRA_MANDATED_EXP_TEST},n.$4=function(){var t=this.$6();return t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:t===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},n.$6=function(){var e;return(e=r("qex")._("196"))!=null?e:r("qex")._("227")},n.$5=function(n){return n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.TEST?e.ONLY_INFRA_MANDATED_EXP_TEST:n===o("MultiwaySharedTypes").E2eeInfraMandatedExpStatus.CONTROL?e.ONLY_INFRA_MANDATED_EXP_CONTROL:e.NONE},t})();function c(){return s==null&&(s=new u),s}var d=c();l.default=d}),98);/*FB_PKG_DELIM*/
__d("WASignalLocalStorageProtocol.pb",["WAProtoConst"],(function(t,n,r,o,a,i,l){var e,s={},u={},c={},d={},m={},p={},_={},f={},g={},h={},y={},C={},b={},v={},S={};s.internalSpec={sessionVersion:[1,(e=o("WAProtoConst")).TYPES.UINT32],localIdentityPublic:[2,e.TYPES.BYTES],remoteIdentityPublic:[3,e.TYPES.BYTES],rootKey:[4,e.TYPES.BYTES],previousCounter:[5,e.TYPES.UINT32],senderChain:[6,e.TYPES.MESSAGE,d],receiverChains:[7,e.FLAGS.REPEATED|e.TYPES.MESSAGE,d],pendingKeyExchange:[8,e.TYPES.MESSAGE,c],pendingPreKey:[9,e.TYPES.MESSAGE,u],remoteRegistrationId:[10,e.TYPES.UINT32],localRegistrationId:[11,e.TYPES.UINT32],needsRefresh:[12,e.TYPES.BOOL],aliceBaseKey:[13,e.TYPES.BYTES]},u.internalSpec={preKeyId:[1,e.TYPES.UINT32],signedPreKeyId:[3,e.TYPES.INT32],baseKey:[2,e.TYPES.BYTES]},c.internalSpec={sequence:[1,e.TYPES.UINT32],localBaseKey:[2,e.TYPES.BYTES],localBaseKeyPrivate:[3,e.TYPES.BYTES],localRatchetKey:[4,e.TYPES.BYTES],localRatchetKeyPrivate:[5,e.TYPES.BYTES],localIdentityKey:[7,e.TYPES.BYTES],localIdentityKeyPrivate:[8,e.TYPES.BYTES]},d.internalSpec={senderRatchetKey:[1,e.TYPES.BYTES],senderRatchetKeyPrivate:[2,e.TYPES.BYTES],chainKey:[3,e.TYPES.MESSAGE,p],messageKeys:[4,e.FLAGS.REPEATED|e.TYPES.MESSAGE,m]},m.internalSpec={index:[1,e.TYPES.UINT32],cipherKey:[2,e.TYPES.BYTES],macKey:[3,e.TYPES.BYTES],iv:[4,e.TYPES.BYTES]},p.internalSpec={index:[1,e.TYPES.UINT32],key:[2,e.TYPES.BYTES]},_.internalSpec={currentSession:[1,e.TYPES.MESSAGE,s],previousSessions:[2,e.FLAGS.REPEATED|e.TYPES.MESSAGE,s]},f.internalSpec={id:[1,e.TYPES.UINT32],publicKey:[2,e.TYPES.BYTES],privateKey:[3,e.TYPES.BYTES]},g.internalSpec={id:[1,e.TYPES.UINT32],publicKey:[2,e.TYPES.BYTES],privateKey:[3,e.TYPES.BYTES],signature:[4,e.TYPES.BYTES],timestamp:[5,e.TYPES.FIXED64]},h.internalSpec={publicKey:[1,e.TYPES.BYTES],privateKey:[2,e.TYPES.BYTES]},y.internalSpec={senderKeyId:[1,e.TYPES.UINT32],senderChainKey:[2,e.TYPES.MESSAGE,v],senderSigningKey:[3,e.TYPES.MESSAGE,C],senderMessageKeys:[4,e.FLAGS.REPEATED|e.TYPES.MESSAGE,b]},C.internalSpec={public:[1,e.TYPES.BYTES],private:[2,e.TYPES.BYTES]},b.internalSpec={iteration:[1,e.TYPES.UINT32],seed:[2,e.TYPES.BYTES]},v.internalSpec={iteration:[1,e.TYPES.UINT32],seed:[2,e.TYPES.BYTES]},S.internalSpec={senderKeyStates:[1,e.FLAGS.REPEATED|e.TYPES.MESSAGE,y]},l.SessionStructureSpec=s,l.SessionStructure$PendingPreKeySpec=u,l.SessionStructure$PendingKeyExchangeSpec=c,l.SessionStructure$ChainSpec=d,l.SessionStructure$Chain$MessageKeySpec=m,l.SessionStructure$Chain$ChainKeySpec=p,l.RecordStructureSpec=_,l.PreKeyRecordStructureSpec=f,l.SignedPreKeyRecordStructureSpec=g,l.IdentityKeyPairStructureSpec=h,l.SenderKeyStateStructureSpec=y,l.SenderKeyStateStructure$SenderSigningKeySpec=C,l.SenderKeyStateStructure$SenderMessageKeySpec=b,l.SenderKeyStateStructure$SenderChainKeySpec=v,l.SenderKeyRecordStructureSpec=S}),98);
__d("WAXmlParsingFailure",[],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(e,t){this.parser=e,this.reason=t}var t=e.prototype;return t.toString=function(){return"XmlParsingFailure: "+this.parser+": "+this.reason},e})();i.XmlParsingFailure=e}),66);
__d("WAParsableXmlNode",["WAHasProperty","WAXmlParsingFailure","err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){throw new TypeError('"'+e+'" is read-only')}var s=(function(){function e(e,t){var n=this;this.$1=e,this.$2=t,this.$3=Array.isArray(t.content)?t.content.map(function(t){return new n.constructor(e,t)}):null}var t=e.prototype;return t.name=function(){return this.$1},t.node=function(){return this.$2},t.hasAttr=function(t){return r("WAHasProperty")(this.$2.attrs,t)},t.assertTag=function(t){this.$2.tag!==t&&this.throw("to be <"+t+">")},t.tag=function(){return this.$2.tag},t.maybeChild=function(t){var e=this.$3;if(!e)return null;for(var n=0;n<e.length;n++)if(e[n].tag()===t)return e[n];return null},t.hasChild=function(t){return!!this.maybeChild(t)},t.child=function(t){var e=this.maybeChild(t);return e||this.throw("to have child <"+t+">")},t.assertAttr=function(t,n){var e=this.attrString(t);e!==n&&this.throw('to have "'+t+'"="'+n+'", but instead has "'+e+'"')},t.attrString=function(t){return r("WAHasProperty")(this.$2.attrs,t)?this.decodeAsString(this.$2.attrs[t]):this.throw('to have attribute "'+t+'"')},t.forEachAttributeKey=function(t){var e=this.$2.attrs;Object.keys(e).forEach(function(e){return t(e)})},t.maybeAttrString=function(t){return this.hasAttr(t)?this.decodeAsString(this.$2.attrs[t]):null},t.maybeAttrInt=function(t,n,r){return this.hasAttr(t)?this.attrInt(t,n,r):null},t.attrEnumValues=function(t,n,r){var e=new Set(n),o=this.attrString(t);if(!e.has(o)){if(r!=null)return r;var a=Array.from(e).join("|");return this.throw('to have "'+t+'"={'+a+'} but has value "'+o+'"')}return o},t.attrEnum=function(t,n){var e=this.attrString(t);if(!r("WAHasProperty")(n,e)){var o=Object.keys(n).join("|");return this.throw('to have "'+t+'"={'+o+'} but has value "'+e+'"')}return n[e]},t.attrEnumOrNullIfUnknown=function(t,n){var e=this.attrString(t);return r("WAHasProperty")(n,e)?n[e]:null},t.maybeAttrEnum=function(t,n){return this.hasAttr(t)?this.attrEnum(t,n):null},t.attrInt=function(t,n,r){var e=this.attrString(t);return this.$4(e,t,n,r)},t.$4=function(t,n,r,o){var e=parseInt(t,10);return Number.isNaN(e)?this.throw('to have "'+n+'"={integer} but has value "'+t+'"'):r!==void 0&&e<r?this.throw('to have "'+n+'"={at least '+r+"} but has value "+e):o!==void 0&&e>=o?this.throw('to have "'+n+'"={below '+o+"} but has value "+e):e},t.forEachChild=function(t){var e=this.$3;if(e)e.forEach(function(e){return t(e)});else if(this.$2.content!=null)return this.throw("to have children")},t.forEachChildWithTag=function(t,n){this.forEachChild(function(e){e.tag()===t&&n(e)})},t.mapChildren=function(t){var e=this.$3;return!e&&this.$2.content!=null?this.throw("to have children"):e?e.map(function(e){return t(e)}):[]},t.mapChildrenWithTag=function(t,n){var e=this.$3;return!e&&this.$2.content!=null?this.throw("to have children"):e?e.filter(function(e){return e.tag()===t}).map(function(e){return n(e)}):[]},t.mapFirstChild=function(t){var e=this.$3;return!e||e.length===0?this.throw("to have children"):t(e[0])},t.hasContent=function(){return!this.$3&&!!this.$2.content},t.hasChildren=function(){return this.$3!=null},t.getChildren=function(){return this.$3},t.mapAttrKeys=function(t){var e=this.getAttrKeys();return e&&e.length?e.map(t):[]},t.getAttrKeys=function(){return Object.keys(this.$2.attrs)},t.hasAttrs=function(){var e=this.$2.attrs?Object.keys(this.$2.attrs):[];return e.length>0},t.getNode=function(){return this.$2},t.unsafeSetChildren=function(t){this.$3=t},t.unsafeSetNodeContent=function(t){this.$2.content=t},t.contentUint=function(t){var e=this.contentBytes(t);return u(e,t)},t.contentBytes=function(t){if(t===void 0&&(t=-1),this.$3)return this.throw("to have binary content, but has children instead");if(this.$2.content!=null){var e=this.$2.content;return t!==-1&&e.length!==t?this.throw("to be "+t+" bytes, but got "+e.length+" instead"):e}else return this.throw("to have content")},t.contentString=function(){return this.$3?this.throw("to have string content, but has children instead"):this.$2.content!=null?this.$2.content:this.throw("to have content")},t.contentInt=function(t,n){var e=this.contentString();return this.$4(e,"content",t,n)},t.contentEnum=function(t){var e=this.contentString();if(!r("WAHasProperty")(t,e)){var n=Object.keys(t).join("|");return this.throw("to have content {"+n+'} but has value "'+e+'"')}return t[e]},t.decodeAsString=function(t){if(typeof t!="string")throw r("err")("decodeAsString: attribute is "+typeof t+" not a string: "+t);return t},t.throw=function(t){throw new(o("WAXmlParsingFailure")).XmlParsingFailure(this.$1,"expected <"+this.$2.tag+"> "+t)},t.toString=function(){return this.$2.toString()},e})();function u(e,t){for(var n=0,r=0;r<t;r++)n=n*256+e[r];return n}l.ParsableXmlNode=s,l.convertBytesToUint=u}),98);
__d("WASignalOther",["WACryptoDependencies","WACryptoHkdf","WACryptoUtils","WAParsableXmlNode","decodeProtobuf","encodeProtobuf","err"],(function(t,n,r,o,a,i,l){"use strict";var e={name:"AES-CBC"},s={name:"HMAC",hash:"SHA-256"};function u(e,t){if(e.length!==t)throw r("err")("Signal expected "+t+" bytes, given "+e.length);return e}function c(e,t){return u(new Uint8Array(e),t)}function d(e){var t=e.buffer,n=e.byteOffset,r=e.length;return n===0&&r===t.byteLength?t:t.slice(n,n+r)}function m(e,t){return e.readByteArrayView(t)}function p(e){return new Uint8Array(e)}function _(e,t,n){if(e.length-t<n)throw r("err")("Can not split off "+n+" bytes from index "+t+" of "+e.length+" bytes");return e.slice(t,t+n)}function f(e){var t=e==="extendedRange"?2147483646:16380;return o("WACryptoUtils").randomNumberLessThan(t)+1}function g(e){return b(e)}function h(e){return o("WAParsableXmlNode").convertBytesToUint(e,4)}function y(){var e=2147483647;return o("WACryptoUtils").randomNumberLessThan(e)+1}function C(e){return b(e)}function b(e,t,n){if(t===void 0&&(t=0),n===void 0&&(n=4294967296),typeof e=="number"&&t<=e&&e<n&&Math.floor(e)===e)return e;throw r("err")("Expected integer in range ["+t+", "+n+"), given "+String(e))}function v(e,t){return o("encodeProtobuf").encodeProtobuf(e,t).readByteArrayView()}function S(e,t,n){return n(o("decodeProtobuf").decodeProtobuf(e,t))}function R(e,t,n,r){return o("WACryptoHkdf").extractWithSaltAndExpand(e,t,n,r).then(function(e){return new Uint8Array(e)})}function L(t,n){var r,a;return n==="hmac-sha256"?(r=s,a=["sign"]):(r=e,a=["encrypt","decrypt"]),o("WACryptoDependencies").getCrypto().subtle.importKey("raw",t,r,!1,a)}function E(e){return e}function k(e){return e}function I(e,t){return o("WACryptoUtils").arrayBuffersEqual(e,t)}l.AES_CBC=e,l.HMAC_SHA256=s,l.ensureSize=u,l.toBytes=c,l.toBuffer=d,l.readBytes=m,l.makeBytes=p,l.sliceBytes=_,l.makeRegistrationId=f,l.castRegistrationId=g,l.castRegistrationIdFromBytes=h,l.makeSenderKeyId=y,l.castSenderKeyId=C,l.ensureIntInRange=b,l.encodeSignalProto=v,l.decodeSignalProto=S,l.hkdf=R,l.makeCryptoKey=L,l.castToByteEncoded=E,l.castToSessionHash=k,l.areSessionHashesEqual=I}),98);
__d("WASignalKeys",["WACryptoDependencies","WACryptoPrimitives","WASignalLocalStorageProtocol.pb","WASignalOther","decodeProtobuf","err"],(function(t,n,r,o,a,i,l){"use strict";var e=5,s=16777215;function u(e,t){return{publicKey:e,privateKey:t}}function c(e){var t=o("WACryptoPrimitives").keypairFromSecretKey(e),n=t.publicKey,r=t.secretKey;return u(o("WASignalOther").ensureSize(n,32),o("WASignalOther").ensureSize(r,32))}function d(e,t){return{publicKey:o("WASignalOther").toBytes(e,32),privateKey:o("WASignalOther").toBytes(t,32)}}function m(){var e=o("WACryptoPrimitives").keyPair(),t=e.publicKey,n=e.secretKey;return n[0]&=248,n[31]=64|n[31]&63,u(o("WASignalOther").ensureSize(t,32),o("WASignalOther").ensureSize(n,32))}function p(e,t){return u(o("WASignalOther").sliceBytes(t,1,32),e)}function _(e,t){return{serializedPubKey:t,privateKey:e}}function f(){var e=m();return _(e.privateKey,g(e))}function g(t){var n=o("WASignalOther").makeBytes(33);return n[0]=e,n.set(t.publicKey,1),n}function h(t){var n=o("WASignalOther").makeBytes(33);return n[0]=e,n.set(o("WASignalOther").ensureSize(t,32),1),n}function y(e){return _(e.privateKey,g(e))}function C(e,t){for(var n=e>=s?0:e-1,r=[],a=0;a<t;a++){var i=n+1>=s?1:n+1,l=m(),u=o("WASignalOther").encodeSignalProto(o("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,{id:i,publicKey:g(l),privateKey:l.privateKey});r.push({plainObject:{id:i,keyPair:l},record:u}),n=i}return r}function b(e){try{var t=o("decodeProtobuf").decodeProtobuf(o("WASignalLocalStorageProtocol.pb").PreKeyRecordStructureSpec,e),n=t.id,r=t.privateKey,a=t.publicKey;return n==null||a==null||r==null?null:{id:v(n),keyPair:p(o("WASignalOther").toBytes(r,32),R(new Uint8Array(a)))}}catch(e){return null}}function v(e){return o("WASignalOther").ensureIntInRange(e,1,s)}function S(e){return o("WASignalOther").ensureIntInRange(e,0,s)}function R(t){if(t.length===0||t[0]!==e)throw r("err")("Unrecognized public key type");return o("WASignalOther").ensureSize(t,33)}function L(){var e=o("WASignalOther").makeBytes(32);return o("WACryptoDependencies").getCrypto().getRandomValues(e),e}function E(e,t){return o("WACryptoPrimitives").scalarMult(e,t.subarray(1)).buffer}l.KEY_TYPE=e,l.PRE_KEY_NON_INCLUSIVE_UPPER_BORDER=s,l.makeKeyPairFrom=c,l.makeKeyPairFromArrayBuffers=d,l.makeKeyPair=m,l.makeKeyPairFromSerialized=p,l.makeSerializedKeyPairFrom=_,l.makeSerializedKeyPair=f,l.serializePubKey=g,l.serializeIdentity=h,l.toSerializedKeyPair=y,l.makePreKeys=C,l.deserializePreKey=b,l.castToPreKeyId=v,l.castToSignedPreKeyId=S,l.castToSerializedPubKey=R,l.makeRawSenderKey=L,l.ecdh=E}),98);
__d("WADbSignal",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e}function l(e,t,n){return e+"_"+t+"_"+n}var s={abProps:"abProps",authKeyPair:"authKeyPair",cat:"cat",certificateChain:"certificateChain",clockSkew:"clockSkew",deviceId:"deviceId",deviceUUID:"deviceUUID",edgeInfo:"edgeInfo",fbid:"fbid",identityKeyPair:"identityKeyPair",lastPrekeyGenerationId:"lastPrekeyGenerationId",lastPrekeyId:"lastPrekeyId",lastSessionDeviceWasLinkedTo:"lastSessionDeviceWasLinkedTo",lastSignedPrekeyId:"lastSignedPrekeyId",regId:"regId",registrationVersion:"registrationVersion",deviceRegUnixTime:"deviceRegUnixTime"},u={msgrDeviceId:"msgrDeviceId"},c={registrationHistory:"registrationHistory"};i.unsafeCoerceToSenderKeySessionId=e,i.buildSenderKeySessionId=l,i.MetaKeysEnum=s,i.PlainTextMetaKeysEnum=c}),66);
__d("WAGetLocalPublicPrivateIdentityKeyApi",["WADbSignal","WALogger","WASignalDB","WASignalKeys","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){return o("WASignalDB").getDb().runInTransaction(["meta"],"readonly",async function(t){var n,a=await t.stores.meta.get(o("WADbSignal").MetaKeysEnum.identityKeyPair);if((a==null||(n=a.value)==null?void 0:n.identityKeyPair)==null){var i="[Remote Presence Error] Identity key pair was null";throw o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(["",""])),i),r("err")(i)}return o("WASignalKeys").toSerializedKeyPair(a.value.identityKeyPair)},o("WASignalDB").signalOp("getLocalPublicPrivateIdentityKey"))};l.getLocalPublicPrivateIdentityKey=s}),98);
__d("WAGetRemotePublicIdentity",["WAJids","WASignalDB"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){return o("WASignalDB").getDb().runInTransaction(["identity"],"readonly",async function(e){var r=o("WAJids").toMsgrUserJid(n),a=o("WAJids").toDeviceJid(r,t),i=await e.stores.identity.get(a);return i==null?void 0:i.identity},o("WASignalDB").signalOp("getRemotePublicIdentityKey"))};l.getRemotePublicIdentity=e}),98);
__d("WALoggerTag",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["CryptoManager","MediaPreview","PrekeyGenerateAndUpload","SignedPrekey","SignedPrekeyRotation","OneTimePrekey"]),l=e;i.default=l}),66);
__d("WAPromiseRetryLoop",["Promise","WALogger","WAPromiseBackoffs","WAPromiseDelays","WAResolvable","err"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_,f,g=(function(){function t(e){var t=this;this.$2=new(o("WAResolvable")).Resolvable,this.$3=null,this.$4=null,this.$5=0,this.$6=new(o("WAResolvable")).Resolvable,this.endWithValue=function(e){t.$5++,t.$2.resolve(e)},this.$1=e}var a=t.prototype;return a.resetTimeoutAfter=function(t){this.$4=Date.now()+t},a.cancelReset=function(){this.$4=null},a.reset=function(){this.$2.resolveWasCalled()||(o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""])),this.$1.name),this.$5++,this.$6.resolve(),this.$7())},a.start=function(){this.$2.resolveWasCalled()||(o("WALogger").LOG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: starting ",""])),this.$1.name),this.$5!==0&&o("WALogger").ERROR(u||(u=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop was called several times. You may have race conditions"]))),this.$5++,this.$6.resolve(),this.$7())},a.pauseOnNextIteration=function(){o("WALogger").LOG(c||(c=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: pause requested on next iteration"]))),this.$6.resolve(),this.$6=new(o("WAResolvable")).Resolvable},a.unpause=function(){this.$6.resolveWasCalled()||o("WALogger").LOG(d||(d=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: loop unpaused"]))),this.$6.resolve()},a.$7=function(){var e=this,t=this.$1,r=this.$5,a=o("WAPromiseBackoffs").createTimer(this.$1.timer);a();var i=function(){return e.$1.isPauseEnabled!==!0?(f||(f=n("Promise"))).resolve():(e.$6.resolveWasCalled()||o("WALogger").LOG(m||(m=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: loop paused - waiting for unpause"]))),e.$6.promise)},l=function(){if(!e.$2.resolveWasCalled()&&r===e.$5){var n=Date.now();return e.$3=(0,t.code)(e.endWithValue).then(function(){if(!e.$2.resolveWasCalled()){var r=t.resetDelay;(r!==void 0&&Date.now()>=n+r||e.$4!=null&&e.$4<=Date.now())&&(o("WALogger").LOG(p||(p=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: resetting ",""])),t.name),a=o("WAPromiseBackoffs").createTimer(e.$1.timer)),e.$4=null;var s=a();return o("WALogger").LOG(_||(_=babelHelpers.taggedTemplateLiteralLoose(["PromiseRetryLoop: retrying "," in ","ms"])),t.name,s),o("WAPromiseDelays").delayMs(s).then(i).then(l)}}),e.$3}};this.$3=(f||(f=n("Promise"))).resolve().then(l)},a.promise=function(){var e=this;return this.$2.resolveWasCalled()?this.$2.promise:this.$3?(f||(f=n("Promise"))).race([this.$2.promise,this.$3.then(function(){return e.$2.promise})]):(f||(f=n("Promise"))).reject(r("err")("PromiseRetryLoop "+this.$1.name+" had promise() called before start()"))},t})();l.PromiseRetryLoop=g}),98);/*FB_PKG_DELIM*/
__d("E2eeStateTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e,l=(e=n("$InternalEnum"))({NONE:0,NEGOTIATED:1,STATIC:2}),s=e({NONE:0,MEDIA_CHANNEL_KEY_PROTOCOL:1}),u=e({SENDER_KEY:0,SESSION_KEY:1}),c=e({NOT_SET:0,CONTROL:1,TEST:2}),d=e({NOT_SET:0,CONTROL:1,TEST:2}),m=e({ENABLED:0,DISABLED:1,FALLBACK:2});a.exports={E2eeKeyNegotiationProtocolEnum:u,E2eeStateCapabilitiesEnum:s,E2eeStateP2PSFrameExpStatus:d,InfraMandatedExpStatus:c,KeyNegotiationModeEnum:l,SignalingKeyMessageProtocolEnum:m}}),null);
__d("RtcWebUserActionsDebugFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744337"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions_debug",e),u=s;l.default=u}),98);
__d("RtcWebUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744338"),s=o("FalcoLoggerInternal").create("rtc_web_user_actions",e),u=s;l.default=u}),98);
__d("SoundPlayer",["ODS","URI","createArrayFromMixed"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=new Map;function c(e){var t=new(s||(s=r("URI")))(e);return t.getDomain()?e:new(s||(s=r("URI")))(window.location.href).setPath(t.getPath()).toString()}function d(e){var t=new(s||(s=r("URI")))(e).getPath();return/\.mp3$/.test(t)?"audio/mpeg":/\.og[ga]$/.test(t)?"audio/ogg":""}var m=function(t,n){for(var e of r("createArrayFromMixed")(t)){if(u.has(e))return;var o=document.createElement("audio");if(!(!o||!o.canPlayType||!o.canPlayType(d(e)))){o.preload="auto",o.src=c(e),document.body&&document.body.appendChild(o),u.set(e,o),(n==null?void 0:n.onPreload)!=null&&n.onPreload(o);return}}},p=function(n,a){a===void 0&&(a={});for(var t of r("createArrayFromMixed")(n)){u.has(t)||m(t,a.callbacks);var i=u.get(t);if(i){a.loop&&i.setAttribute("loop",""),a.volume&&(i.volume=a.volume);var l=i.play();l!=null&&typeof l.then=="function"?l.then(function(){(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","play.success")}).catch(function(t){(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","play.error")}):(e||(e=o("ODS"))).bumpEntityKey(2966,"sound_player","non_promise");return}}},_=function(t){for(var e of r("createArrayFromMixed")(t)){var n=u.get(e);if(n){n.pause();return}}},f=function(t){for(var e of r("createArrayFromMixed")(t)){var n=u.get(e);n&&(n.pause(),n.removeAttribute("src"),n.src=c(e))}};l.preload=m,l.play=p,l.pause=_,l.stop=f}),98);
__d("SoundSynchronizer",["SoundPlayer","WebStorage","createArrayFromMixed"],(function(t,n,r,o,a,i){var e,l="fb_sounds_playing3";function s(){var t=(e||(e=n("WebStorage"))).getLocalStorage();if(t)try{var r=t[l];if(r&&(r=JSON.parse(r),Array.isArray(r)))return r}catch(e){}return[]}function u(t){var r=(e||(e=n("WebStorage"))).getLocalStorage();if(r){var o=s();for(o.push(t);o.length>5;)o.shift();try{r[l]=JSON.stringify(o)}catch(e){}}}function c(e){return s().some(function(t){return t===e})}var d={play:function(t,r,o,a){t=n("createArrayFromMixed")(t),r=r||t[0]+Math.floor(Date.now()/1e3),!c(r)&&(n("SoundPlayer").play(t,{loop:!!o,callbacks:a}),u(r))},isSupported:function(){return!!(e||(e=n("WebStorage"))).getLocalStorage()}};a.exports=d}),null);
__d("SoundRPC",["FBJSON","SecurePostMessage","SoundSynchronizer","cr:950105"],(function(t,n,r,o,a,i,l){function e(e,t,n,r){o("SoundSynchronizer").play(e,t,n,r)}function s(e,t,n,r){var a={name:"SoundRPC",data:{paths:t,sync:n,loop:r}};o("SecurePostMessage").sendMessageAllowAnyOrigin_UNSAFE(e,o("FBJSON").stringify(a))}function u(){return!!window.postMessage}function c(){var t=function(n){if(/\.facebook.com$/.test(n.origin)){var t={};try{var r=n.data;typeof r=="string"&&(t=o("FBJSON").parse(r))}catch(e){}var a=t,i=a.data,l=a.name;l==="SoundRPC"&&i!=null&&typeof i=="object"&&e(i.paths,i.sync,i.loop)}};n("cr:950105")!=null?n("cr:950105").listen(window,"message",t):window.addEventListener("message",t)}l.playLocal=e,l.playRemote=s,l.supportsRPC=u,l._listen=c}),98);
__d("Sound",["SoundInitialData","SoundPlayer","SoundRPC","SoundSynchronizer","URI","UserAgent_DEPRECATED","Visibility","isFacebookURI"],(function(t,n,r,o,a,i,l){var e,s=null,u=!1;function c(e){}function d(e,t,n,r){s?o("SoundRPC").playRemote(s.contentWindow,e,t,!1):o("SoundRPC").playLocal(e,t,n,r),u=!0}function m(){return u}function p(e,t,n){!u&&r("Visibility").isHidden()||d(e,t,n)}function _(e){s||o("SoundPlayer").stop(e)}var f=new(e||(e=r("URI")))(location.href),g=new Set(["comet","www","business"]);f.getSubdomain()&&!g.has(f.getSubdomain())&&f.setSubdomain("www");var h=f.getDomain();function y(){return o("UserAgent_DEPRECATED").ie()<9||r("SoundInitialData").RPC_DISABLED?!1:o("SoundSynchronizer").isSupported()&&o("SoundRPC").supportsRPC()}r("isFacebookURI")(f)&&location.host!==h&&y()&&(s=document.createElement("iframe"),s.setAttribute("src","//"+h+"/sound_iframe.php"),s.style.display="none",document.body&&document.body.appendChild(s)),l.init=c,l.play=d,l.hasPlayedSoundBefore=m,l.playOnlyIfImmediate=p,l.stop=_}),98);
__d("ZenonSDESKeyDetector",[],(function(t,n,r,o,a,i){"use strict";var e=/inline:\s*[0-9a-zA-z+/]{40}(\b|\s|$)/;function l(t){return e.test(JSON.stringify(t))}i.default=l}),66);
__d("ZenonSharedWorkerPortManager",["Promise"],(function(t,n,r,o,a,i){"use strict";var e,l=null,s=null;function u(t){s!=null&&s(t),l=(e||(e=n("Promise"))).resolve(t)}function c(){return l==null&&(l=new(e||(e=n("Promise")))(function(e){s=e})),l}i.setSharedWorkerPort=u,i.getSharedWorkerPort=c}),66);
__d("ZenonUserActionLogger",["FBLogger","RtcWebUserActionsDebugFalcoEvent","RtcWebUserActionsFalcoEvent","ZenonDebugLogger","ZenonLoggingUtils","ZenonSDESKeyDetector"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=window.location.hostname.search("facebook")!==-1?"facebook":window.location.hostname.search("messenger")!==-1?"messenger_dot_com":null,u={logCheckpoint:function(t){u.logEvent(babelHelpers.extends({},t,{event:"checkpoint"}))},logClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logError:function(t){u.logEvent(babelHelpers.extends({},t,{event:"error"}))},logEvent:function(t){var e,n;if(r("ZenonSDESKeyDetector")(t))throw r("FBLogger")("rtc_www").mustfixThrow("ZenonUserActionLogger event contains SDES crypto key! This log entry must be removed!");if(o("ZenonLoggingUtils").shouldAllowLogging()){var a=babelHelpers.extends({},t,{page:(e=t.page)!=null?e:s}),i=babelHelpers.extends({},a,{client_time:Date.now().toString()});r("RtcWebUserActionsDebugFalcoEvent").log(function(){return i}),r("RtcWebUserActionsFalcoEvent").log(function(){return i}),r("ZenonDebugLogger").getInstance().getLogHistory().log((n=t.event)!=null?n:"null",JSON.stringify(a))}},logImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},logPreCallClick:function(t){u.logEvent(babelHelpers.extends({},t,{event:"tap"}))},logPreCallImpression:function(t){u.logEvent(babelHelpers.extends({},t,{event:"impression"}))},startTimer:function(n){var t=Date.now();e=e.set(n,t),u.logCheckpoint({checkpoint:n+"_timerStart"})},stopTimer:function(n){var t=n.checkpointName===void 0?n.timerName:n.checkpointName,r=n.event||{},o=function(n){var t=e.get(n);return t!=null?(e.delete(n),parseInt(Date.now()-t,10)):null},a=o(n.timerName);return u.logCheckpoint(babelHelpers.extends({},r,{checkpoint:t+"_timerEnd",event_time_elapsed:a==null?void 0:a.toString()})),parseInt(a,10)}};i.exports=u}),34);
__d("getByPath",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e;if(!t||!t.length)return r;for(var o=0;o<t.length;o++){var a=t[o];if(r&&typeof r!="string"&&typeof r!="number"&&a in r)r=r[a];else return n}return r}i.default=e}),66);
__d("keyMirror",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t={};if(!(e instanceof Object&&!Array.isArray(e)))throw r("FBLogger")("comet_infra").mustfixThrow("keyMirror(...): Argument must be an object.");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=n);return t}l.default=e}),98);
__d("ZenonUsersHooks",["ZenonUsers","immutable","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useDebugValue,c=s.useEffect,d=s.useLayoutEffect,m=s.useRef,p=s.useState;function _(e){var t=m(e),n=p(r("immutable").Map()),a=n[0],i=n[1];return c(function(){return function(){t.current=null}},[]),d(function(){t.current=e;var n=o("ZenonUsers").getMultiEager(e),l=n[0],s=n[1];l.equals(a)===!1&&i(l),s&&r("promiseDone")(s,function(e){var n=t.current;n&&i(function(t){return t.withMutations(function(t){n.forEach(function(n){var r=e.get(n);r&&t.set(n,r)})})})})},[e,a]),u(a),a}function f(e,t){return _(e)}function g(e){var t=m(e),n=p(function(){return o("ZenonUsers").getNow(e)}),a=n[0],i=n[1];return c(function(){t.current=e},[e]),c(function(){return function(){t.current=null}},[]),c(function(){var n=o("ZenonUsers").getNow(e);if(n!==a){i(n);return}r("promiseDone")(o("ZenonUsers").get(e),function(n){t.current===e&&i(n)})},[e,a]),u(a),a}l.useZenonUsers=_,l.useZenonUsersFromThread=f,l.useZenonUser=g}),98);/*FB_PKG_DELIM*/
__d("EncryptedBackupUploadFailureFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5728"),s=o("FalcoLoggerInternal").create("encrypted_backup_upload_failure",e),u=s;l.default=u}),98);
__d("LSDataTraceFlush",["ArmadilloDataTraceType","I64","LSDataTraceType","LSIntEnum","ODS","ReQL","clearTimeout","gkx","promiseDone","setTimeout"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("I64"))).of_string("120000"),d=e.of_string("600000"),m=new Set(["encrypted_backups_upload","encrypted_backups_media_backup"]);function p(t,n,r){var a=t.length;if(a===0)return[(e||(e=o("I64"))).neg_one,e.neg_one,void 0,void 0,void 0];var i=t.find(function(e){return e.errorMessage!=null}),l=i==null?void 0:i.errorMessage,s=t[t.length-1|0],u=(e||(e=o("I64"))).of_float(Date.now()),d=s.timestampMs,m=e.compare(e.sub(u,r),c)>=0;return!n&&m?[(e||(e=o("I64"))).sub(u,r),s.checkPointId,d,l,"trace expired"]:[e.sub(d,r),s.checkPointId,d,l,l]}function _(t){return t.reduce(function(t,n,r){var a,i=(e||(e=o("I64"))).to_string(n.checkPointId),l=n.timestampMs,s=e.to_string((a=n.syncChannel)!=null?a:(e||(e=o("I64"))).neg_one),u=n.tags,c=u!=null?","+u:"";if(r===0)t.pointsList="".concat("(",i,",",s,c,")");else{var d=String((e||(e=o("I64"))).to_int32(e.sub(l,t.lastCheckPointTimestamp)));t.pointsList=t.pointsList.concat("-",d,"-(",i,",",s,c,")")}return t.lastCheckPointTimestamp=l,t},{lastCheckPointTimestamp:(e||(e=o("I64"))).zero,pointsList:""}).pointsList}var f=e.of_string("2");function g(t){var n=t.traceType,a=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK))?"send":(e||(e=o("I64"))).equal(n,o("ArmadilloDataTraceType").armadilloMessageSend)?"armadillo send":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_UPLOAD))?"encrypted_backups_upload":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_RESTORE))?"encrypted_backups_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_BACKUP))?"encrypted_backups_media_backup":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").SAP_VESTA_LOGIN))?"sap_vesta_login":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").SAP_VESTA_REGISTRATION))?"sap_vesta_registration":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_MEDIA_RESTORE))?"encrypted_backups_media_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_INIT))?"shadow_encrypted_backups_init":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_ADD_DEVICE))?"shadow_encrypted_backups_add_device":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_UPLOAD))?"shadow_encrypted_backups_upload":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_RESTORE))?"shadow_encrypted_backups_restore":(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").ENCRYPTED_BACKUPS_SHADOW_DELETE_BACKUP))?"shadow_encrypted_backups_delete_backup":t.contextTwo;return a}function h(t,n){var r=n.traceId,a=n.shouldFlush,i=g(n),l=n.traceType,s=(e||(e=o("I64"))).equal(l,o("ArmadilloDataTraceType").armadilloMessageSend)?"tam_message_send":n.contextOne,u=(e||(e=o("I64"))).equal(n.traceType,f)?void 0:n.predefinedId,c=n.initTimestampMs;return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_addon.index("traceIdAddonId")).getKeyRange(r)).then(function(e){var t=p(e,a,c),n=t[0],r=t[1],o=t[3],i=t[4],l=e.length,s=_(e)}).then(function(){return t.data_trace_meta.delete(r)})}function y(e,t){return o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.data_trace_meta).getKeyRange(t)).then(function(t){return t!=null?h(e,t):Promise.resolve()})}var C={contents:void 0};function b(t){return o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(t.data_trace_meta.index("shouldFlushInitTimestampMsTraceId")).getKeyRange(!1).bounds({lt:o("ReQL").key((e||(e=o("I64"))).sub(e.of_float(Date.now()),c))})).then(function(t){if(r("gkx")("23914")){var n=(e||(e=o("I64"))).of_float(Date.now());return t.filter(function(t){var r=g(t);if(r!=null&&m.has(r)){var a=(e||(e=o("I64"))).compare(e.sub(n,t.initTimestampMs),d)>=0;return a}return!0})}return t})}async function v(e){var t=await b(e.tables);if(t.length!==0)return e.runInTransaction(function(e){return b(e).then(function(t){return Promise.all(t.map(function(t){return h(e,t)}))})},"readwrite",void 0,void 0,i.id+":287")}function S(){var e=C.contents;if(e!=null){r("clearTimeout")(e);return}}function R(e){return r("promiseDone")(v(e),function(){S();var t=r("setTimeout")(function(){R(e)},6e4);C.contents=t},function(){S(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mw_trace","error")}),S}var L=y,E=R,k={flush:L,flushExpiredDataTraces:E};l.default=k}),98);
__d("XPlatReactVoprf.shared",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.VoprfWasmError=e}),66);
__d("mapVoprfWasmError",["XPlatReactVoprf.shared"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){switch(e){case-1:return new u;case 1:return new c;case 2:return new d;case 3:return new m;case 4:return new p;default:return new _}}var u=(function(e){function t(t){var n;return t===void 0&&(t="Unknown error encountered by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfUnknownError",n}return babelHelpers.inheritsLoose(t,e),t})((e=o("XPlatReactVoprf.shared")).VoprfWasmError),c=(function(e){function t(t){var n;return t===void 0&&(t="Incorrect buffer length encountered by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfBufferLengthError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),d=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing curve operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfCurveOperationError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),m=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing hash operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfHashOperationError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),p=(function(e){function t(t){var n;return t===void 0&&(t="Error while performing proof operation by VOPRF WASM"),n=e.call(this,t)||this,n.name="VoprfProofError",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError),_=(function(e){function t(t){var n;return t===void 0&&(t="Unknown error code received from WASM binary"),n=e.call(this,t)||this,n.name="UnknownErrorCode",n}return babelHelpers.inheritsLoose(t,e),t})(e.VoprfWasmError);l.mapVoprfWasmError=s,l.VoprfUnknownError=u,l.VoprfBufferLengthError=c,l.VoprfCurveOperationError=d,l.VoprfHashOperationError=m,l.VoprfProofError=p,l.UnknownErrorCode=_}),98);
__d("LSVoprfWasmBuilder",["FBLogger","err","getErrorSafe","mapVoprfWasmError"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.locateFile!=null?{locateFile:t.locateFile}:{instantiateWasm:async function(n,o){try{var e=await t.getWasmModule(),a=await WebAssembly.instantiate(e,n);return o(a),{}}catch(e){var i=r("getErrorSafe")(e);return r("FBLogger")("LSVoprfWasmBuilder").mustfix("instantiateWasm failed with error: %s",i.toString()),!1}}};return s(n,e)}}function s(e,t){return new Promise(function(n,a){t(e).then(function(e){var t,i=e._sodiumInit();i!==0&&a(r("err")("Failed to initialize Sodium!")),n({createCurveRistretto:function(){var t;try{return t=e._curve_create(),e._curve_init_ristretto(t),t}catch(n){throw t!=null&&e._curve_free(t),n}},freeCurve:function(n){e._curve_free(n)},createVoprfExpTwohashdh:function(n){var t;try{return t=e._voprf_create(),e._voprf_init_exp_twohashdh(t,n),t}catch(n){throw t!=null&&e._voprf_free(t),n}},freeVoprf:function(n){e._voprf_free(n)},getCurveBytes:function(n){return e._get_curve_element_bytes(n.curvePtr)},getCurveScalarBytes:function(n){return e._get_curve_scalar_bytes(n.curvePtr)},blind:function(n,r){var t,a,i;try{var l=e._get_curve_element_bytes(n.curvePtr),s=e._get_curve_scalar_bytes(n.curvePtr);t=e._malloc(l),a=e._malloc(s),i=c(e,r);var d=e._blind(n.voprfPtr,t,l,a,s,i,r.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,t,l),p=u(e,a,s);return{blindedElement:m,blindingFactor:p}}finally{[t,a,i].forEach(function(t){t!=null&&e._free(t)})}},verifiableUnblind:function(n,r,a,i,l,s,d,m){var t,p,_,f,g,h,y;try{t=r?c(e,r):null,p=a?c(e,a):null,_=c(e,s),f=c(e,i),g=c(e,l),h=c(e,d);var C=e._get_curve_element_bytes(n.curvePtr);y=e._malloc(C);var b=e._verifiable_unblind(n.voprfPtr,y,C,t,r?r.length:0,p,a?a.length:0,f,i.length,g,l.length,_,s.length,h,d.length,+m);if(b!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(b);var v=u(e,y,C);return{unblindedElement:v}}finally{[t,p,_,f,g,h,y].forEach(function(t){t!=null&&e._free(t)})}},clientFinalize:function(n,r,a){var t,i,l;try{t=c(e,r),i=c(e,a);var s=e._get_voprf_final_evaluation_bytes(n.voprfPtr);l=e._malloc(s);var d=e._voprf_client_finalize(n.voprfPtr,l,s,t,r.length,i,a.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,l,s);return{finalEvaluation:m}}finally{[t,i,l].forEach(function(t){t!=null&&e._free(t)})}},setup:function(n){var t,r;try{var a=e._get_curve_scalar_bytes(n.curvePtr),i=e._get_curve_element_bytes(n.curvePtr);t=e._malloc(a),r=e._malloc(i);var l=e._voprf_setup(n.voprfPtr,r,i,t,a);if(l!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(l);var s=u(e,r,i),c=u(e,t,a);return{sk:s,pk:c}}finally{[t,r].forEach(function(t){t!=null&&e._free(t)})}},evaluate:function(n,r,a,i){var t,l,s,d,m;try{var p=e._get_curve_element_bytes(n.curvePtr);t=e._malloc(p);var _=i?e._get_curve_scalar_bytes(n.curvePtr):0;l=_>0?e._malloc(_):null;var f=i?e._get_curve_scalar_bytes(n.curvePtr):0;s=f>0?e._malloc(f):null,d=c(e,a),m=c(e,r);var g=e._voprf_evaluate(n.voprfPtr,t,p,l,_,s,f,m,r.length,d,a.length,+i);if(g!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(g);var h=l!==null?u(e,l,_):null,y=s!==null?u(e,s,f):null,C=u(e,t,p);return{proofC:h,proofS:y,evaluatedElement:C}}finally{[t,l,s,d,m].forEach(function(t){t!=null&&e._free(t)})}},serverFinalize:function(n,r,a){var t,i,l;try{t=c(e,r),i=c(e,a);var s=e._get_voprf_final_evaluation_bytes(n.voprfPtr);l=e._malloc(s);var d=e._voprf_server_finalize(n.voprfPtr,l,s,t,r.length,i,a.length);if(d!==0)throw o("mapVoprfWasmError").mapVoprfWasmError(d);var m=u(e,l,s);return{finalEvaluation:m}}finally{[t,i,l].forEach(function(t){t!=null&&e._free(t)})}},wasmMemory:(t=e.wasmMemory)!=null?t:void 0})}).catch(function(e){throw r("err")("Failed to initialize wasm module, "+e)})})}function u(e,t,n){for(var r=new Uint8Array(n),o=0;o<n;++o)r[o]=e.getValue(o+t,"i8");return r}function c(e,t){var n=t.length,r=e._malloc(n);return e.writeArrayToMemory(t,r),r}l.default=e}),98);
__d("LSVoprfWasm",["LSVoprfWasmBuilder","bx","ls_voprf_utils_v2"],(function(t,n,r,o,a,i,l){"use strict";var e=r("bx").getURL(r("bx")("30933")),s=function(){return e},u=r("LSVoprfWasmBuilder")(r("ls_voprf_utils_v2"));l.locateFile=s,l.LSVoprfWasm=u}),98);/*FB_PKG_DELIM*/
__d("ClientServiceWorkerMessage",[],(function(t,n,r,o,a,i){var e=(function(){function e(e,t,n){this.$1=e,this.$2=t,this.$3=n}var t=e.prototype;return t.sendViaController=function(){if(!(!navigator.serviceWorker||!navigator.serviceWorker.controller)){var e=new self.MessageChannel;this.$3&&(e.port1.onmessage=this.$3),navigator.serviceWorker.controller.postMessage({command:this.$1,data:this.$2},[e.port2])}},e})();i.default=e}),66);
__d("LoginDialog",["Cookie","setInterval"],(function(t,n,r,o,a,i,l){function e(){r("setInterval")(function(){r("Cookie").get("c_user")&&window.location.reload()},5e3)}function s(){window.location.reload()}l.pollLoginCookies=e,l.onClose=s}),98);
__d("QpActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744247"),s=o("FalcoLoggerInternal").create("qp_action",e),u=s;l.default=u}),98);
__d("QpImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1744249"),s=o("FalcoLoggerInternal").create("qp_impression",e),u=s;l.default=u}),98);
__d("ServiceWorkerRegistration",["ClientServiceWorkerMessage","EventListener","Promise","Run","promiseDone"],(function(t,n,r,o,a,i){var e,l=!!navigator.serviceWorker,s={};function u(){var e=navigator.serviceWorker;if(!l||!e)throw new Error("serviceWorker is not supported in this browser");return e}var c={isSupported:function(){return l},registerWorkerIfUnregisteredAfterDD:function(t){n("Run").onAfterLoad(function(){n("promiseDone")(c.registerWorkerIfUnregistered(t))})},registerWorkerIfUnregistered:function(r){if(s[r])return s[r];var t=u(),o=s[r]=new(e||(e=n("Promise")))(function(o,a){n("promiseDone")(c.getWorkerRegistration(r),function(i){if(i)o(i);else{var l=n("EventListener").listen(window,"message",function(e){var t;(e==null||(t=e.data)==null?void 0:t.command)==="ServiceWorkerInstallError"&&a()});n("promiseDone")((e||(e=n("Promise"))).resolve(t.register(r,{updateViaCache:"all"})),function(){l.remove(),n("promiseDone")((e||(e=n("Promise"))).resolve(t.ready),o)})}})});return o},unregisterControllingWorker:function(){return new(e||(e=n("Promise")))(function(e,t){var r=new(n("ClientServiceWorkerMessage"))("unregister",{},function(){e(!0)});r.sendViaController()})},getWorkerRegistration:function(t){var e=u();return e.getRegistration(t)},isAWorkerActivated:function(){return!navigator.serviceWorker||!navigator.serviceWorker.getRegistration?(e||(e=n("Promise"))).resolve(!1):navigator.serviceWorker.getRegistration().then(function(e){return!!(e&&e.active)})}},d=c;i.default=d}),66);
__d("legacy:cookie",["Cookie"],(function(t,n,r,o,a,i){t.getCookie=n("Cookie").get,t.setCookie=n("Cookie").set,t.clearCookie=n("Cookie").clear}),3);/*FB_PKG_DELIM*/
__d("useSharedNUX",["CometNUXManagerContext","FBLogger","react","react-compiler-runtime","useNUXLoggers","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useState;function m(e){var t=o("react-compiler-runtime").c(9),n;t[0]!==e?(n=function(){return e},t[0]=e,t[1]=n):n=t[1];var a=r("useStable")(n);a!==e&&r("FBLogger")("comet_ui").mustfix("Error nux changed at runtime from %s to %s, this is not supported and will lead to erratic behavior, we have continued to use your initially supplied nux",a!=null?a:"null",e!=null?e:"null");var i=d(!1),l=i[0],s=i[1],m=u(r("CometNUXManagerContext")),p=m.registerNUX,_=m.removeNUX,f,g;t[2]!==a||t[3]!==p?(f=function(){if(a!=null)return p(a,s,!0)},g=[a,p],t[2]=a,t[3]=p,t[4]=f,t[5]=g):(f=t[4],g=t[5]),c(f,g);var h=r("useNUXLoggers")(a,_),y;return t[6]!==l||t[7]!==h?(y=[l,h],t[6]=l,t[7]=h,t[8]=y):y=t[8],y}l.default=m}),98);/*FB_PKG_DELIM*/
__d("BrowserPushPubKey.experimental",["cr:3221"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:3221")}),98);/*FB_PKG_DELIM*/
__d("BrowserPushPubKeyJSModuleWrapper",["BrowserPushPubKey"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BrowserPushPubKey")}),98);