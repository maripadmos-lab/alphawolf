;/*FB_PKG_DELIM*/

__d("AdsAIMessengerConstants",["fbt","BotFeedbackKind","FBLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u={title:s._(/*BTDS*/"[INTERNAL ONLY] Hallucination"),value:(e=r("BotFeedbackKind")).BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY},c={title:s._(/*BTDS*/"Not relevant to my question"),value:e.BOT_FEEDBACK_NEGATIVE_HELPFUL},d={title:s._(/*BTDS*/"Not personalized"),value:e.BOT_FEEDBACK_NEGATIVE_PERSONALIZED},m={title:s._(/*BTDS*/"Incorrect information"),value:e.BOT_FEEDBACK_NEGATIVE_ACCURATE},p={title:s._(/*BTDS*/"Harmful or offensive"),value:e.BOT_FEEDBACK_NEGATIVE_SAFE},_={title:s._(/*BTDS*/"Hard to understand"),value:e.BOT_FEEDBACK_NEGATIVE_CLARITY},f={title:s._(/*BTDS*/"Something else"),value:e.BOT_FEEDBACK_NEGATIVE_OTHER},g={excludingOther:[c,d,m,p,_],feedbackOptionOther:f};function h(e){switch(e){case r("BotFeedbackKind").BOT_FEEDBACK_POSITIVE:return"BOT_FEEDBACK_POSITIVE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_GENERIC:return"BOT_FEEDBACK_NEGATIVE_GENERIC";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HELPFUL:return"BOT_FEEDBACK_NEGATIVE_HELPFUL";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_ACCURATE:return"BOT_FEEDBACK_NEGATIVE_ACCURATE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_INTERESTING:return"BOT_FEEDBACK_NEGATIVE_INTERESTING";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_SAFE:return"BOT_FEEDBACK_NEGATIVE_SAFE";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_CLARITY:return"BOT_FEEDBACK_NEGATIVE_CLARITY";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_PERSONALIZED:return"BOT_FEEDBACK_NEGATIVE_PERSONALIZED";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_OTHER:return"BOT_FEEDBACK_NEGATIVE_OTHER";case r("BotFeedbackKind").BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY:return"BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY";default:r("FBLogger")("ads_ai_chat").mustfix("Cannot find corresponding XFBBotFeedbackKind for BotFeedbackKind %s",e)}}var y=new Map([[e.BOT_FEEDBACK_POSITIVE,"ads_ai_submit_positive_feedback_generic"],[e.BOT_FEEDBACK_NEGATIVE_GENERIC,"ads_ai_submit_negative_feedback_generic"],[e.BOT_FEEDBACK_NEGATIVE_HELPFUL,"ads_ai_submit_negative_feedback_not_relevant"],[e.BOT_FEEDBACK_NEGATIVE_ACCURATE,"ads_ai_submit_negative_feedback_not_accurate"],[e.BOT_FEEDBACK_NEGATIVE_INTERESTING,"ads_ai_submit_negative_feedback_repetitive"],[e.BOT_FEEDBACK_NEGATIVE_SAFE,"ads_ai_submit_negative_feedback_harmful"],[e.BOT_FEEDBACK_NEGATIVE_CLARITY,"ads_ai_submit_negative_feedback_hard_to_understand"],[e.BOT_FEEDBACK_NEGATIVE_PERSONALIZED,"ads_ai_submit_negative_feedback_not_personalized"],[e.BOT_FEEDBACK_NEGATIVE_OTHER,"ads_ai_submit_negative_feedback_other"],[e.BOT_FEEDBACK_NEGATIVE_HALLUCINATION_INTERNAL_ONLY,"ads_ai_submit_negative_feedback_hallucination"]]),C=s._(/*BTDS*/"Let us know what's wrong with this response");l.INTERNAL_ONLY_FeedbackOptionHallucination=u,l.FEEDBACK_OPTIONS=g,l.getGraphQLBotFeedbackKind=h,l.BotFeedbackKindToLoggerEventMapping=y,l.feedbackModalHeader=C}),226);
__d("AdsAISitevarConfig.experimental",["cr:623"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:623")}),98);
__d("randomShuffleSeeded",["Alea"],(function(t,n,r,o,a,i,l){function e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var a=r("Alea").apply(void 0,n);function i(e){return Math.floor(a()*e)}for(var l=e.length-1;l>0;l--){var s=i(l+1);if(s!=l){var u=e[s];e[s]=e[l],e[l]=u}}return e}l.default=e}),98);
__d("AdsAIMessengerUtils",["AdsAIMessengerConstants","AdsAISitevarConfig.experimental","CurrentUser","I64","gkx","randomShuffleSeeded"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return d(e.senderId)}function u(e){return e.botResponseId!=null&&e.botResponseId.startsWith("ads_ai_shiba")}function c(e){return s(e)||u(e)}function d(t){return r("AdsAISitevarConfig.experimental").bot_id!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(r("AdsAISitevarConfig.experimental").bot_id))}function m(){var e=o("AdsAIMessengerConstants").FEEDBACK_OPTIONS.excludingOther,t=o("AdsAIMessengerConstants").FEEDBACK_OPTIONS.feedbackOptionOther,n=[].concat(e);return r("randomShuffleSeeded")(n,parseInt(r("CurrentUser").getID(),10)).push(t),r("gkx")("731")&&n.push(o("AdsAIMessengerConstants").INTERNAL_ONLY_FeedbackOptionHallucination),n}l.isMessageFromAdsAIBot=s,l.isMessageFromAdsAIShibaBot=u,l.isMessageFromAdsAI=c,l.isAdsAIParticipant=d,l.getRandomizedAdsAINegativeFeedbackOptions=m}),98);
__d("AdsAISitevarConfigJSModuleWrapper",["AdsAISitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("AdsAISitevarConfig")}),98);
__d("AdsMessengerContext.react",["AdsAIMessengerUtils","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext({isMessageFromAdsAI:o("AdsAIMessengerUtils").isMessageFromAdsAI,isMessageSendDisabled:!1,isMessengerInAds:!1});function d(){return u(c)}l.AdsMessengerContext=c,l.useAdsMessengerContext=d}),98);
__d("AudioContextSingleton",["FBLogger"],(function(t,n,r,o,a,i,l){var e=window.AudioContext||window.webkitAudioContext||window.mozAudioContext,s=new Map,u={get:function(n){var t=n==null?void 0:n.sampleRate,o=s.get(t);if(o==null){var a=new e({sampleRate:t});return s.set(t,a),a}if(o.state==="closed"){r("FBLogger")("project").warn("AudioContext Singleton has been closed");var i=new e({sampleRate:t});return s.set(t,i),i}return o}},c=u;l.default=c}),98);
__d("BMGenAIOnboardingSourceReferrer",[],(function(t,n,r,o,a,i){var e=Object.freeze({AYMT_ADMIN_USER_JEWEL_NOTIF:"aymt_admin_user_jewel_notif",AYMT_ANDROID_INBOX:"aymt_android_inbox",AYMT_AP_PLUS_USER_JEWEL_NOTIF:"aymt_ap_plus_user_jewel_notif",AYMT_AP_PLUS_USER_MEGAPHONE:"aymt_ap_plus_user_megaphone",AYMT_CATALOG_REFRESH_NOTIF:"aymt_catalog_refresh_notif",AYMT_CRAWLING_RESULT_NOTIF:"aymt_crawling_result_notif",AYMT_EMAIL:"aymt_email",AYMT_HOUSE_ADS:"aymt_house_ads",AYMT_INBOX:"aymt_inbox",AYMT_INBOX_INSIGHT:"aymt_inbox_insight",AYMT_IOS_INBOX:"aymt_ios_inbox",AYMT_MBS_GUIDANCE_CARD:"aymt_mbs_guidance_card",AYMT_MEGAPHONE:"aymt_megaphone",AYMT_NEWSFEED:"aymt_newsfeed",AYMT_NEWSFEED_V2:"aymt_newsfeed_v2",AYMT_PAGE_MEGAPHONE:"aymt_page_megaphone",AYMT_PERSONAL_NOTIF:"aymt_personal_notif",AYMT_PROFESSIONAL_NOTIF:"aymt_professional_notif",AYMT_START_YOUR_DAY:"aymt_start_your_day",AYMT_UPDATE_ADS_AUDIENCE:"aymt_update_ads_audience",AYMT_WWW_INBOX:"aymt_www_inbox",CONVERSATION_BOT:"conversation_bot",DEPRECATION_NOTIF:"deprecation_notif",DROPOFF_NOTIFICATION:"dropoff_notification",ELEVATED_PERMISSION_NOTIF:"elevated_permission_notif",EMAIL_CTA:"email_cta",LWI_AFTERPARTY:"lwi_afterparty",MARKETING_CAMPAIGN:"marketing_campaign",MBS_AFTERPARTY:"mbs_afterparty",MBS_COMPOSER:"mbs_composer",MBS_IN_THREAD_MOUSTACHE:"mbs_in_thread_moustache",MBS_INBOX_HEADER:"mbs_inbox_header",MBS_INBOX_HEADER_ALL:"mbs_inbox_header_all",MBS_INBOX_HEADER_NUX:"mbs_inbox_header_nux",MBS_MORE_TOOL_MENU:"mbs_more_tools_menu",MBS_SETTINGS:"mbs_settings",MBS_TOOLS:"mbs_tools",POS_OVERVIEW:"pos_overview",PREVIEW_PAGE:"preview_page",PROMO_CARD:"promo_card",SALES_CALL:"sales_call",SBG_2025_Q4_OU_MSGRBIZAI_PANCAKE_XYZ_AYMT1D:"sbg_2025_q4_ou_msgrbizai_pancake_xyz_aymt1d",SBG_2025_Q4_OU_MSGRBIZAI_PANCAKE_XYZ_AYMT1M:"sbg_2025_q4_ou_msgrbizai_pancake_xyz_aymt1m",SBG_2025_Q4_OU_MSGRBIZAI_PANCAKE_XYZ_AYMT2D:"sbg_2025_q4_ou_msgrbizai_pancake_xyz_aymt2d",SBG_2025_Q4_OU_MSGRBIZAI_PANCAKE_XYZ_AYMT2M:"sbg_2025_q4_ou_msgrbizai_pancake_xyz_aymt2m",STATISTICS_OVERVIEW:"statistics_overview",SUGGESTED_REPLY_COMPOSER:"suggested_reply_composer",UNKNOWN:"unknown",WAITLIST:"waitlist"});i.default=e}),66);
__d("BMGenAIOnboardingSourceSurface",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADS_MANAGER:"ads_manager",COMMERCE_MANAGER:"commerce_manager",EMAIL:"email",FB:"facebook",FB_NEWSFEED:"fb_newsfeed",FB_PAGES:"fb_pages",META_BUSINESS_SUITE:"meta_business_suite",PANCAKE:"pancake",SHOPIFY_META_APP:"shopify_meta_app",UNKNOWN:"unknown"});i.default=e}),66);
__d("BaseFileSelector.react",["FBLogger","Promise","promiseDone","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useRef;function _(e){return e.map(function(e){return e.indexOf("/")!==-1||e[0]==="."?e:(r("FBLogger")("comet_ui").mustfix('Accept parameter "%s" for BaseFileSelector is being interpreted as a file extension since it has no slash (/), but file extensions must start with a period (.)',e),"."+e)}).join(",")}function f(t){var o=t.accept,a=t.children,i=t.multiple,l=i===void 0?!1:i,s=t.onFilesSelected,c=p(null);m(function(){var e=c.current;if(e!=null){var t=function(t){t.stopPropagation()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}},void 0);var f=d(function(){c.current!=null&&c.current.click()},[]),g=d(function(t){var o=s(t.currentTarget.files);o instanceof(e||(e=n("Promise")))&&r("promiseDone")(o),t.currentTarget.value=""},[s]);return u.jsxs(u.Fragment,{children:[u.jsx("input",{accept:o!=null?_(o):void 0,className:"x1s85apg",multiple:l,onChange:g,ref:c,type:"file"}),a(f)]})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("BizInboxStateContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(Object.freeze({})),c=u;l.default=c}),98);
__d("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9787800071305333"}),null);
__d("BizKitBIOOrderDetailActionsQuery$Parameters",["BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("BizKitBIOOrderDetailActionsQuery_facebookRelayOperation"),metadata:{},name:"BizKitBIOOrderDetailActionsQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("EligibleForScopingGating.entrypointutils",["BizKitConfigDynamicFields","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){return o("BizKitConfigDynamicFields").is_ig_login_multi_admin}function s(){return o("BizKitConfigDynamicFields").is_ig_login}function u(){return!(!o("BizKitConfigDynamicFields").is_ig_login||o("BizKitConfigDynamicFields").is_ig_login_multi_admin)}function c(){return m()?!1:e()||u()?!0:!o("BizKitConfigDynamicFields").is_ig_login}function d(){return o("BizKitConfigDynamicFields").is_ig_login?r("gkx")("7570"):!1}function m(){return r("gkx")("22644")}l.genIsIGLoginMultiAdmin=e,l.getIsIGLogin=s,l.getIsInEnableSettingsForIGLoginUsers=u,l.getIsEligibleForScoping=c,l.genIsIGLogin25Q3PhaseUser=d}),98);
__d("ScopingBaseGating.entrypointutils",["EligibleForScopingGating.entrypointutils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return o("EligibleForScopingGating.entrypointutils").getIsEligibleForScoping()?e():!1}l.checkScopingBase=e}),98);
__d("BusinessScopingGating.entrypointutils",["EligibleForScopingGating.entrypointutils","ScopingBaseGating.entrypointutils","qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s()?!0:u()}function s(){return o("ScopingBaseGating.entrypointutils").checkScopingBase(function(){var e;return(e=r("qex")._("856"))!=null?e:!1})}function u(){return!(s()||!o("EligibleForScopingGating.entrypointutils").getIsEligibleForScoping())}l.getCanSeeBusinessScoping=e}),98);
__d("BizKitMultiAssetSelectionGating.entrypointutils",["BusinessScopingGating.entrypointutils","gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return o("BusinessScopingGating.entrypointutils").getCanSeeBusinessScoping()&&((e=r("gkx")("22624"))!=null?e:!1)}function s(){return!1}function u(){return!1}function c(){return!!e()}l.getCanSelectMultipleAssetsInSelector=e,l.getCanViewMultipleAssetsInContentV2=s,l.getCanViewMultipleAssetsInPlanner=u,l.getCanViewMultipleAssetCollectionsInSelector=c}),98);
__d("BizSuitePageGatingEventManager",["Event"],(function(t,n,r,o,a,i,l){"use strict";var e="__biz_suite_page_gating_request",s="__biz_suite_page_gating_response",u="__@@INITIALIZER@@__";function c(t,n,o){r("Event").fire(document,e,{action:"request_entry",pageID:t,universe:n,universeType:o})}function d(t){return r("Event").listen(document,e,function(e){t(e.data)})}function m(e,t){r("Event").fire(document,s,{action:"response_entry",asyncState:e,entry:t})}function p(e){return r("Event").listen(document,s,function(t){e(t.data)})}function _(e){r("Event").fire(document,u,{states:e})}function f(e){return r("Event").listen(document,u,function(t){e(t.data)})}l.INITIALIZER_UNIVERSE=u,l.dispatchRequestEntry=c,l.subscribeToRequestEntry=d,l.dispatchResponseEntry=m,l.subscribeToResponseEntry=p,l.dispatchResponseStore=_,l.subscribeToResponseStore=f}),98);
__d("BizSuitePageGatingEventTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum").Mirrored(["PENDING","FULFILLED"]);i.PageGatingAsyncState=e}),66);
__d("BizSuitePageGatingStore",["BizSuitePageGatingEventTypes"],(function(t,n,r,o,a,i,l){"use strict";var e={gk:{},qe:{},installed:!1};function s(){e.installed=!0}function u(){return e.installed}function c(t){e[t.type][t.unitID]==null&&(e[t.type][t.unitID]={}),e[t.type][t.unitID][t.name]==null&&(e[t.type][t.unitID][t.name]={asyncState:o("BizSuitePageGatingEventTypes").PageGatingAsyncState.PENDING,entry:null,exposed:!1,pristine:!1,listeners:new Set}),e[t.type][t.unitID][t.name].entry=t,e[t.type][t.unitID][t.name].asyncState=o("BizSuitePageGatingEventTypes").PageGatingAsyncState.FULFILLED}function d(t,n,r,a){return a===void 0&&(a=null),e[r][t]==null&&(e[r][t]={}),e[r][t][n]==null&&(e[r][t][n]={asyncState:o("BizSuitePageGatingEventTypes").PageGatingAsyncState.PENDING,entry:null,exposed:!1,pristine:!0,listeners:new Set}),a!=null&&e[r][t][n].listeners.add(a),e[r][t][n]}function m(t,n,r){var o;return(o=e[r])==null||(o=o[t])==null?void 0:o[n]}function p(t,n){var r;return(r=e[n])==null?void 0:r[t]}function _(e,t,n,r){r===void 0&&(r=null);var o=m(e,t,n);r!=null&&o!=null&&(o.listeners.delete(r),r.remove())}function f(){return Object.keys(e.gk).length+Object.keys(e.qe).length===0}function g(t){for(var n of Object.keys((r=e.gk[t])!=null?r:{})){var r,o;if(((o=e.gk[t])==null||(o=o[n])==null?void 0:o.entry)!=null)return!0}for(var a of Object.keys((i=e.gk[t])!=null?i:{})){var i,l;if(((l=e.qe[t])==null||(l=l[a])==null?void 0:l.entry)!=null)return!0}return!1}function h(t){var n=Object.keys(e[t]);if(n.length===0)return[];var r=e[t][n[0]];return Object.values(r!=null?r:{}).map(function(e){return e.entry}).filter(Boolean)}async function y(){var t=[];for(var n of["gk","qe"])for(var r of Object.keys(e[n]))for(var o of Object.keys(e[n][r])){var a=e[n][r][o],i=a==null?void 0:a.deferredPromise;if(i!=null){var l=i[1];l(null),t.push(i)}}e.gk={},e.qe={},await Promise.all(t.map(function(e){return e[0]}).filter(Boolean))}l.install=s,l.isInstalled=u,l.registerEntry=c,l.initializeEntryState=d,l.getPageGatingEntryState=m,l.getPageGatingStates=p,l.disposeListener=_,l.isPristine=f,l.hasEntriesForPage=g,l.getGatingListForFirstPage=h,l.resetPageGatingStore=y}),98);
__d("XBusinessExposeGatingAsyncControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/business/expose_page_gating/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("BizSuitePageGatingClient",["AsyncRequest","BizSuitePageGatingEventManager","BizSuitePageGatingEventTypes","BizSuitePageGatingStore","FBLogger","ODS","Promise","XBusinessExposeGatingAsyncControllerRouteBuilder","gkx","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("389");function c(t,r,a){var i,l=(i=o("BizSuitePageGatingStore").getPageGatingEntryState(a,r,t))!=null?i:o("BizSuitePageGatingStore").initializeEntryState(a,r,t),c;if((l==null?void 0:l.deferredPromise)!=null)return l==null?void 0:l.deferredPromise;var d,m=new(s||(s=n("Promise")))(function(n){if(d=n,c!=null&&window.clearTimeout(c),(l==null?void 0:l.asyncState)===o("BizSuitePageGatingEventTypes").PageGatingAsyncState.FULFILLED&&(l==null?void 0:l.entry)!=null)return n(l.entry);c=window.setTimeout(function(){if(n(null),a!=="0"&&(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t+"."+r+".requestTimeout"),!o("BizSuitePageGatingStore").isInstalled())(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t+"."+r+".notInstalled");else{var i=o("BizSuitePageGatingStore").getPageGatingEntryState(a,r,t);if(i!=null){var l=i.asyncState===o("BizSuitePageGatingEventTypes").PageGatingAsyncState.FULFILLED?"timeoutWithEntry":"timeoutWithoutEntry";(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t+"."+r+"."+l)}}},u)}),p=!1;function _(){return p}function f(){p||(p=!0)}var g=[m,function(e){window.clearTimeout(c),c=null,d==null||d(e)},_,f];return l.deferredPromise=g,g}function d(e,t,n,r){var a;function i(){a!=null&&(o("BizSuitePageGatingStore").disposeListener(e,t,n,a),a=null)}var l=o("BizSuitePageGatingStore").initializeEntryState(e,t,n);return a=o("BizSuitePageGatingEventManager").subscribeToResponseEntry(function(o){var a=o.asyncState,s=o.entry;l.asyncState=a,l.entry=s,m(s,t,n,e)&&r(s,a)&&i()}),l.listeners.add(a),m(l.entry,t,n,e)&&r(l.entry,l.asyncState)&&i(),o("BizSuitePageGatingEventManager").dispatchRequestEntry(e,t,n),i}function m(e,t,n,r){return(e==null?void 0:e.name)===t&&(e==null?void 0:e.type)===n&&(e==null?void 0:e.unitID)===r}function p(t,n,a){var i,l=o("BizSuitePageGatingStore").getPageGatingEntryState(t.unitID,t.name,t.type),s=t.type==="gk"?t.value:((i=t.params)==null||(i=i[n!=null?n:""])==null?void 0:i.getBool)===!0,u=s===!0?"test":"control";if((e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"ExposeAttempt"),l!=null&&!l.exposed&&t.inExperiment&&l.asyncState===o("BizSuitePageGatingEventTypes").PageGatingAsyncState.FULFILLED){l.exposed=!0;var c=new(r("AsyncRequest"))().setURI(r("XBusinessExposeGatingAsyncControllerRouteBuilder").buildUri(babelHelpers.extends({exposure_name:t.name,exposure_type:t.type,page_id:t.unitID,param_name:n!=null?n:""},a!=null?a:{})));r("promiseDone")(c.exec(!1),function(n){var r;(n==null||(r=n.payload)==null?void 0:r.exposed)===!1?((e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"ExposureIneligible"),l.exposed=!1):(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"ExposeSuccess")},function(n){r("gkx")("10411")&&(l.exposed=!1),(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"exposeFailure"),r("FBLogger")("biz_inbox_page_gating","expose").catching(n).warn("Failed to expose %s:%s for %s",t.type,t.name,t.unitID)})}else(l==null?void 0:l.exposed)===!0?(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"AlreadyExposed"):t.inExperiment===!1?(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"NotInExperiment"):(l==null?void 0:l.asyncState)!==o("BizSuitePageGatingEventTypes").PageGatingAsyncState.FULFILLED&&(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",t.type+"."+t.name+"."+u+"DataNotFetched")}var _=new Map;function f(t,n,r,a){var i=t+":"+n+":"+r+":"+a,l=r+"."+n+"."+a,s=_.get(i);s!=null&&window.clearTimeout(s),_.set(i,window.setTimeout(function(){(e||(e=o("ODS"))).bumpEntityKey(4203,"biz_inbox_page_gating",l)},100))}l.getOrCreatePromiseTuple=c,l.requestEntryByUniverse=d,l.exposeGatingEntry=p,l.ODSBumpKeyDebounced=f}),98);
__d("BmGenAiBusinessEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6276"),s=o("FalcoLoggerInternal").create("bm_gen_ai_business_event",e),u=s;l.default=u}),98);
__d("BusinessDefinedFormOpenImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3926"),s=o("FalcoLoggerInternal").create("business_defined_form_open_impression",e),u=s;l.default=u}),98);
__d("CometContainerPressable.react",["CometContainerPressableContext","FBLogger","ReactHoverEvent.react","ReactPressEvent.react","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useMemo,m=c.useRef,p=c.useState;function _(t){var n=t.children,a=t.disabled,i=a===void 0?!1:a,l=t.forwardedRef,s=t.preventDefault,c=s===void 0?!1:s,_=t.tagName,h=_===void 0?"div":_,y=t.testOnly_pressed,C=y===void 0?!1:y,b=t.xstyle,v=p(C),S=v[0],R=v[1],L=p(!1),E=L[0],k=L[1],I=p(function(){return new Map}),T=I[0],D=p(null),x=D[0],$=D[1],P=m(null);o("ReactHoverEvent.react").useHover(P,{disabled:i,onHoverChange:k}),o("ReactPressEvent.react").usePress(P,{disabled:i,onPressChange:R});var N=function(t){var e=f(T);c&&t.preventDefault(),t.button===2?e.onContextMenu(t):e.onPress(t)},M=function(t){var e=f(T);e.onContextMenu(t)},w=d(function(){return{onMount:function(t,n){T.set(n,t),t.url!=null&&$([t.url,t.target])},onUnmount:function(t){T.delete(t),$(null)}}},[T]),A=u.jsx("div",{"aria-hidden":"true",className:"x1ey2m1c x9f619 x1ypdohk xtijo5x x1o0tod x10l6tqk x13vifvy","data-pressable-container":!0,onClick:N,onContextMenu:M,ref:P});if(x!=null){var F=x[0],O=x[1];A=u.jsx("a",{"aria-hidden":"true","aria-label":"ignore this",className:"x1ey2m1c x9f619 x1ypdohk xtijo5x x1o0tod x10l6tqk x13vifvy",href:F,onClick:N,onContextMenu:M,ref:P,tabIndex:-1,target:O})}return u.jsxs(h,babelHelpers.extends({},(e||(e=r("stylex"))).props(g.container,typeof b=="function"?b({disabled:i,focused:!1,focusVisible:!1,hovered:E,pressed:C||S}):b),{ref:l,children:[u.jsx(r("CometContainerPressableContext").Provider,{value:w,children:typeof n=="function"?n({disabled:i,focused:!1,focusVisible:!1,hovered:E,pressed:C||S}):n}),A]}))}_.displayName=_.name+" [from "+i.id+"]";function f(e){var t=Array.from(e.keys())[0],n=t&&e.get(t);if(!n)throw r("FBLogger")("comet_ui").mustfixThrow(h);return n}var g={container:{display:"x78zum5",position:"x1n2onr6",zIndex:"x1ja2u2z",":not([disabled]) .x1ja2u2z_zIndex":"x12lw8ci",":not([disabled]) .x1nhjfyr_zIndex":"xvntqv7",":not([disabled]) .xlt5f95_zIndex":"x1prgb3j",$$css:!0}},h="CometContainerPressable clicked when it doesn't exactly one target pressable within";l.default=_}),98);
__d("CometLexicalContentEditableCommands",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=o("Lexical").createCommand();l.COMET_LEXICAL_ARIA_COMMAND=e}),98);
__d("LexicalContentEditable",["cr:2483"],(function(t,n,r,o,a,i){a.exports=n("cr:2483")}),null);
__d("mlcEditableSubscription",[],(function(t,n,r,o,a,i){"use strict";function e(e){return{initialValueFn:function(){return e.isEditable()},subscribe:function(n){return e.registerEditableListener(n)}}}i.default=e}),66);
__d("useCometLexicalSubscription",["react","useUnsafeRef_DEPRECATED"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useLayoutEffect,d=u.useState;function m(t){var n=(e||(e=r("useUnsafeRef_DEPRECATED")))(t.initialValueFn()),o=d(n.current),a=o[0],i=o[1];return c(function(){var e=t.initialValueFn,r=t.subscribe,o=e();return n.current!==o&&(n.current=o,i(o)),r(function(e){n.current=e,i(e)})},[t]),a}l.default=m}),98);
__d("CometLexicalContentEditable.react",["CometLexicalContentEditableCommands","Lexical","LexicalComposerContext","LexicalContentEditable","mlcEditableSubscription","react","react-compiler-runtime","stylex","useCometLexicalSubscription"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaAutoComplete","ariaDescribedBy","ariaExpanded","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwneeID","ariaRequired","autoCapitalize","autoComplete","autoCorrect","contentEditableRef","isInitiallyFocused","role","spellCheck","tabIndex","webDriverTestID","xstyle"],s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useLayoutEffect,_=d.useMemo,f=d.useState,g={editor:{color:"xzsf02u",outline:"x1a2a7pz",position:"x1n2onr6",textAlign:"x14wi4xw",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(54),a,i,l,u,d,_,h,y,C,b,v,S,R,L,E,k,I,T,D;n[0]!==t?(a=t.ariaAutoComplete,i=t.ariaDescribedBy,l=t.ariaExpanded,u=t.ariaLabel,d=t.ariaLabelledBy,_=t.ariaMultiline,h=t.ariaOwneeID,y=t.ariaRequired,C=t.autoCapitalize,b=t.autoComplete,v=t.autoCorrect,S=t.contentEditableRef,L=t.isInitiallyFocused,E=t.role,k=t.spellCheck,I=t.tabIndex,T=t.webDriverTestID,D=t.xstyle,R=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=_,n[7]=h,n[8]=y,n[9]=C,n[10]=b,n[11]=v,n[12]=S,n[13]=R,n[14]=L,n[15]=E,n[16]=k,n[17]=I,n[18]=T,n[19]=D):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],_=n[6],h=n[7],y=n[8],C=n[9],b=n[10],v=n[11],S=n[12],R=n[13],L=n[14],E=n[15],k=n[16],I=n[17],T=n[18],D=n[19]);var x=L===void 0?!1:L,$=E===void 0?"textbox":E,P=k===void 0?!1:k,N=o("LexicalComposerContext").useLexicalComposerContext(),M=N[0],w=f(void 0),A=w[0],F=w[1],O=f(void 0),B=O[0],W=O[1],q;n[20]!==M?(q=r("mlcEditableSubscription")(M),n[20]=M,n[21]=q):q=n[21];var U=r("useCometLexicalSubscription")(q),V,H;n[22]!==M?(V=function(){return M.registerCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,function(e){return Object.prototype.hasOwnProperty.call(e,"activeDescendantID")&&F(e.activeDescendantID),Object.prototype.hasOwnProperty.call(e,"controlsID")&&W(e.controlsID),!1},o("Lexical").COMMAND_PRIORITY_EDITOR)},H=[M],n[22]=M,n[23]=V,n[24]=H):(V=n[23],H=n[24]),p(V,H);var G,z;n[25]!==M||n[26]!==x?(G=function(){x&&M.focus(function(){var e=document.activeElement,t=M.getRootElement();(!(t!=null&&t.contains(e))||t!=null||e==null)&&(t==null||t.focus({preventScroll:!0}))})},z=[M,x],n[25]=M,n[26]=x,n[27]=G,n[28]=z):(G=n[27],z=n[28]),m(G,z);var j=A!=null?A:void 0,K=B!=null?B:void 0,Q;if(n[29]!==u){var X,Y;Q=(X=(Y=u)==null?void 0:Y.toString())!=null?X:void 0,n[29]=u,n[30]=Q}else Q=n[30];var J=y!=null?y:void 0,Z;n[31]!==D?(Z=(s||(s=r("stylex")))(g.editor,D),n[31]=D,n[32]=Z):Z=n[32];var ee=Z+" "+(U?"notranslate":""),te;return n[33]!==a||n[34]!==i||n[35]!==l||n[36]!==d||n[37]!==_||n[38]!==h||n[39]!==C||n[40]!==b||n[41]!==v||n[42]!==S||n[43]!==R||n[44]!==$||n[45]!==P||n[46]!==K||n[47]!==Q||n[48]!==J||n[49]!==ee||n[50]!==j||n[51]!==I||n[52]!==T?(te=c.jsx(o("LexicalContentEditable").ContentEditable,babelHelpers.extends({ariaActiveDescendant:j,ariaAutoComplete:a,ariaControls:K,ariaDescribedBy:i,ariaExpanded:l,ariaLabel:Q,ariaLabelledBy:d,ariaMultiline:_,ariaOwns:h,ariaRequired:J,autoCapitalize:C,autoComplete:b,autoCorrect:v,className:ee,"data-testid":void 0,ref:S,role:$,spellCheck:P,suppressContentEditableWarning:!0,tabIndex:I},R)),n[33]=a,n[34]=i,n[35]=l,n[36]=d,n[37]=_,n[38]=h,n[39]=C,n[40]=b,n[41]=v,n[42]=S,n[43]=R,n[44]=$,n[45]=P,n[46]=K,n[47]=Q,n[48]=J,n[49]=ee,n[50]=j,n[51]=I,n[52]=T,n[53]=te):te=n[53],te}l.default=h}),98);
__d("CometLexicalPlaceholder.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={placeholder:{color:"xi81zsa",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",whiteSpace:"xuxw1ft",width:"xh8yej3",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(5),a=t.children,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.placeholder,i),n[0]=i,n[1]=l):l=n[1];var s;return n[2]!==a||n[3]!==l?(s=u.jsx("div",babelHelpers.extends({children:a},l)),n[2]=a,n[3]=l,n[4]=s):s=n[4],s}l.default=d}),98);
__d("getPeopleTypeaheadNullStateText",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(){return s._(/*BTDS*/"No people found")}l.default=e}),226);
__d("CometMediaViewerMentionsTypeaheadEmptyState.react",["FDSText.react","getPeopleTypeaheadNullStateText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x6s0dn4 x78zum5 xc9qbxq xl56j7k"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("div",babelHelpers.extends({},t,{children:s.jsx(r("FDSText.react"),{align:"center",color:"secondary",type:"body2",children:r("getPeopleTypeaheadNullStateText")()})})),e[1]=n):n=e[1],n}l.default=u}),98);
__d("CometMentions.react",["baseTypeaheadFlattenEntries","cometTypeaheadKeyboardNavigationUtils","react","useBaseTypeaheadDataSourceFetch"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref","context","dataSource","inputElement","layoutStrategyRenderer","loggingProvider","onAriaChange","onEntriesUpdated","onHighlightEntry","onSelectedEntry","onVisibilityChange","position","queryString","viewStrategyRenderer"],s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useImperativeHandle,_=c.useRef,f=c.useState;function g(t){var n=t.ref,a=t.context,i=t.dataSource,l=t.inputElement,s=t.layoutStrategyRenderer,c=t.loggingProvider,g=t.onAriaChange,y=t.onEntriesUpdated,C=t.onHighlightEntry,b=t.onSelectedEntry,v=t.onVisibilityChange,S=t.position,R=S===void 0?"above":S,L=t.queryString,E=t.viewStrategyRenderer,k=babelHelpers.objectWithoutPropertiesLoose(t,e),I=_(null),T=f(null),D=T[0],x=T[1],$=_([]),P=f($.current),N=P[0],M=P[1],w=f(!0),A=w[0],F=w[1],O=_(null),B=_(L);m(function(){B.current=L},[L]);var W=d(function(e){C&&C(e),x(e),I.current=e},[C]),q=r("useBaseTypeaheadDataSourceFetch")({dataSource:i,onResolvePayload:d(function(e){var t,n=e.entries;$.current=n,M(n);var o=r("baseTypeaheadFlattenEntries")(n),a=o[0],i=I==null||(t=I.current)==null?void 0:t.key;a!=null&&!o.map(function(e){return e.key}).includes(i)&&W(a),y&&y(n.length>0)},[W,y])}),U=q[0].isLoading,V=q[1],H=A&&(N.length>0||U);m(function(){return H?c.startSession(B.current):c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current)),v(H),function(){c.isSessionActive()&&c.maybeEndSession(B.current,r("baseTypeaheadFlattenEntries")($.current))}},[v,c,H]),m(function(){F(!0),V({query:L})},[V,L,i]),p(n,function(){return{getViewRef:function(){return O},hasSelection:function(){return h(r("baseTypeaheadFlattenEntries")($.current),D)},moveDown:function(){o("cometTypeaheadKeyboardNavigationUtils").moveDown(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},moveUp:function(){o("cometTypeaheadKeyboardNavigationUtils").moveUp(r("baseTypeaheadFlattenEntries")($.current),D!=null?D.key:null,W,!1)},select:function(){var e=r("baseTypeaheadFlattenEntries")($.current);b&&D!=null&&h(e,D)&&(c.isSessionActive()&&c.maybeEndSession(L,e,D),b(D))}}},[D,W,b,c,L]);var G=d(function(e){var t=r("baseTypeaheadFlattenEntries")($.current);b&&h(t,e)&&(c.isSessionActive()&&c.maybeEndSession(L,t,e),b(e))},[b,c,L]);return m(function(){if(H===!1)return;function e(e,t){for(var n=e.parentElement;n!=null&&n!==t;)n=n.parentElement;return n===t}var t=function(n){var t=n.target;if(t instanceof HTMLElement){var r=O.current,o=r!==null&&(t===r||e(t,r)),a=l!==null&&(t===l||e(t,l));F(o||a)}};return document.addEventListener("click",t),function(){return document.removeEventListener("click",t)}},[l,H]),H?u.jsx(s,{ariaProps:{role:"listbox"},context:a,entries:N,highlightedEntry:D,isLoading:U,onAriaChange:g,onBlur:k.onBlur,onHighlightEntry:W,onPressEntry:G,onPressEntryIn:G,position:R,queryString:L,viewRef:O,viewStrategyRenderer:E}):null}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){if(t==null)return!1;var n=t.key;return e.find(function(e){return e.key===n})!=null}l.default=g}),98);
__d("getCometComposerMentionsSearchForLexical",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=e.anchor;if(n.type!=="text")return null;var r=n.getNode();if(t!=null&&!t()||t==null&&!r.isSimpleText())return null;var o=n.offset;return r.getTextContent().slice(0,o)}function s(t,n){return t.getEditorState().read(function(){var t=o("Lexical").$getSelection();return o("Lexical").$isRangeSelection(t)?e(t,n):null})}l.default=s}),98);
__d("useCometMentionsBootstrapForLexical",["Lexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e,t){var n=o("react-compiler-runtime").c(4),r=c(!1),a,i;n[0]!==t||n[1]!==e?(a=function(){if(!r.current){var n=e.getRootElement()===document.activeElement;if(n){t(),r.current=!0;return}var a=e.registerCommand(o("Lexical").FOCUS_COMMAND,function(){return t(),r.current=!0,a(),!1},o("Lexical").COMMAND_PRIORITY_LOW);return a}},i=[t,e,r],n[0]=t,n[1]=e,n[2]=a,n[3]=i):(a=n[2],i=n[3]),u(a,i)}l.default=d}),98);
__d("MentionsSessionEndWithoutClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("445"),s=o("FalcoLoggerInternal").create("mentions_session_end_without_click",e),u=s;l.default=u}),98);
__d("MentionsSessionStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("446"),s=o("FalcoLoggerInternal").create("mentions_session_start",e),u=s;l.default=u}),98);
__d("MentionsSuggestionClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("447"),s=o("FalcoLoggerInternal").create("mentions_suggestion_clicked",e),u=s;l.default=u}),98);
__d("WithTagSuggestionContinueClickedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3701"),s=o("FalcoLoggerInternal").create("with_tag_suggestion_continue_clicked",e),u=s;l.default=u}),98);
__d("CometMentionsLoggingProvider",["FBLogger","MentionsSessionEndWithoutClickFalcoEvent","MentionsSessionStartFalcoEvent","MentionsSuggestionClickedFalcoEvent","WithTagSuggestionContinueClickedFalcoEvent","guid"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){this.$2=!1,this.$3=null,this.$1=e}var t=e.prototype;return t.getSessionID=function(){return this.$3==null&&r("FBLogger")("search").mustfix("Mentions logging sessionID does not exist."),this.$3},t.isSessionActive=function(){return this.$2},t.startSession=function(t){var e=this;if(t!=null){var n=r("guid")();this.$3=n,this.$2=!0,r("MentionsSessionStartFalcoEvent").log(function(){return babelHelpers.extends({},e.$1,{session_id:n,typed_query:t})})}},t.maybeEndSession=function(t,n,o,a){if(t!=null){var e=n!=null?JSON.stringify(n.map(function(e){return{id:e.key}})):null,i=babelHelpers.extends({},this.$1,{serialized_candidate_suggestions:e,session_id:this.getSessionID(),typed_query:t});if(o!=null){var l,s=o.key,u=(l=n==null?void 0:n.findIndex(function(e){return e.key===s}))!=null?l:null,c=isNaN(parseInt(o.key,10))?"0":o.key;if(a===!0){r("WithTagSuggestionContinueClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})});return}else r("MentionsSuggestionClickedFalcoEvent").log(function(){return babelHelpers.extends({},i,{selected_position:String(u),selected_result_display_text:o.label,selected_result_id:c,selected_result_id_string:o.key})})}else r("MentionsSessionEndWithoutClickFalcoEvent").log(function(){return i});this.$3=null,this.$2=!1}},e})();l.default=e}),98);
__d("useCometMentionsLoggingProvider",["CometMentionsLoggingProvider","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={context_id:null,context_type:"unknown",surface:null,typeahead_type:null};function c(e){var t=o("react-compiler-runtime").c(2),n=e===void 0?u:e,a;return t[0]!==n?(a=new(r("CometMentionsLoggingProvider"))(n),t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useCometMentionsResolutionForLexical",["getCometComposerMentionsSearchForLexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.startTransition,c=s.useEffect,d=s.useState;function m(e,t){var n=window.getSelection();if(n===null||!n.isCollapsed||e===null)return!1;var r=n.anchorNode,o=e.leadOffset,a=n.anchorOffset;try{t.setStart(r,o),t.setEnd(r,a)}catch(e){return!1}return!0}function p(e,t,n){var a=o("react-compiler-runtime").c(5),i=d(null),l=i[0],s=i[1],p,_;return a[0]!==n||a[1]!==t||a[2]!==e?(p=function(){var o=document.createRange(),a=null,i=null,l=null,c=function(){var c=o,d=r("getCometComposerMentionsSearchForLexical")(e,n);if(!(d===a||c===null)){a=d;var p=t(d),_=p.dataSource,f=p.searchResult;if(!(_===i&&f===l)){var g=m(f,c);i=_,l=f,u(!g||_===null||f===null?function(){return s(null)}:function(){s({dataSource:_,range:c,searchResult:f})})}}},d=e.registerUpdateListener(c);return c(),(function(){o=null,d()})},_=[n,t,e],a[0]=n,a[1]=t,a[2]=e,a[3]=p,a[4]=_):(p=a[3],_=a[4]),c(p,_),l}l.default=p}),98);
__d("CometMentionsForLexical.react",["CometLexicalContentEditableCommands","CometMentions.react","FBLogger","Lexical","LexicalText","LexicalUtils","emptyFunction","getCometComposerMentionsSearchForLexical","react","react-compiler-runtime","useCometMentionsBootstrapForLexical","useCometMentionsLoggingProvider","useCometMentionsResolutionForLexical"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useMemo,p=u.useRef,_=u.useState;function f(e){var t=o("react-compiler-runtime").c(43),n=e.$isValidSelection,a=e.createNodeStrategy,i=e.dataSourceResolverConfig,l=e.editor,u=e.layoutStrategyRenderer,c=e.mentionsHandlerForSelectedEntry,m=e.mentionsLoggerContext,_=e.onMentionsEntrySelected,f=e.position,v=e.viewStrategyRenderer,L=i.bootstrap,E=i.resolver,k=f===void 0?"below":f,I=r("useCometMentionsResolutionForLexical")(l,E,n),T=p(!1),D=b(l),x=D[0],$=D[1],P=p(null),N=R(l);r("useCometMentionsBootstrapForLexical")(l,L);var M,w;t[0]!==l||t[1]!==N?(M=function(){return l.registerCommand(o("Lexical").BLUR_COMMAND,function(){return N(),!1},o("Lexical").COMMAND_PRIORITY_LOW)},w=[l,N],t[0]=l,t[1]=N,t[2]=M,t[3]=w):(M=t[2],w=t[3]),d(M,w);var A;t[4]!==N?(A=function(){N()},t[4]=N,t[5]=A):A=t[5];var F=A,O,B;t[6]!==$||t[7]!==l||t[8]!==N||t[9]!==x?(O=function(){var e,t=[{handler:C,type:(e=o("Lexical")).KEY_ENTER_COMMAND},{handler:y,type:e.KEY_TAB_COMMAND},{handler:h,type:e.KEY_ARROW_UP_COMMAND},{handler:g,type:e.KEY_ARROW_DOWN_COMMAND},{handler:function(){return N(),$(),!0},type:e.KEY_ESCAPE_COMMAND}];return o("LexicalUtils").mergeRegister.apply(void 0,t.map(function(e){var t=e.handler,n=e.type;return l.registerCommand(n,function(e){var n=P.current,r=T.current;if(n===null||!r||x)return!1;if(t(n)){var o=e;return o.preventDefault(),o.stopPropagation(),!0}return!1},o("Lexical").COMMAND_PRIORITY_CRITICAL)}))},B=[$,l,N,x],t[6]=$,t[7]=l,t[8]=N,t[9]=x,t[10]=O,t[11]=B):(O=t[10],B=t[11]),d(O,B);var W;t[12]===Symbol.for("react.memo_cache_sentinel")?(W=function(t){T.current=t},t[12]=W):W=t[12];var q=W,U;t[13]!==N?(U=function(t){t||N()},t[13]=N,t[14]=U):U=t[14];var V=U,H;t[15]!==n||t[16]!==a||t[17]!==E||t[18]!==$||t[19]!==l||t[20]!==N||t[21]!==c||t[22]!==_?(H=function(t){var e=r("getCometComposerMentionsSearchForLexical")(l,n);if(e==null){r("FBLogger")("search").warn("Race condition where the user selected a mention but theres no text in the editor");return}var o=E(e),i=o.searchResult;if(i==null){r("FBLogger")("CometComposer").mustfix("onPressEntry was called and no search result was found for the query %s",e);return}N();var s=c==null?void 0:c(t);s!=null&&!s.shouldMentionSelectedEntry||(S(l,a,t,i,n),_==null||_(t),$())},t[15]=n,t[16]=a,t[17]=E,t[18]=$,t[19]=l,t[20]=N,t[21]=c,t[22]=_,t[23]=H):H=t[23];var G=H,z=r("useCometMentionsLoggingProvider")(m),j,K;if(t[24]!==x||t[25]!==I?(j=function(){(I===null||x)&&(T.current=!1)},K=[I,x],t[24]=x,t[25]=I,t[26]=j,t[27]=K):(j=t[26],K=t[27]),d(j,K),I===null||x)return N(),null;var Q=I.range,X=I.dataSource,Y;t[28]!==l?(Y=l.getRootElement(),t[28]=l,t[29]=Y):Y=t[29];var J;return t[30]!==N||t[31]!==F||t[32]!==V||t[33]!==G||t[34]!==u||t[35]!==z||t[36]!==k||t[37]!==I.dataSource||t[38]!==I.range||t[39]!==I.searchResult.matchingString||t[40]!==Y||t[41]!==v?(J=s.jsx(r("CometMentions.react"),{context:Q,dataSource:X,inputElement:Y,layoutStrategyRenderer:u,loggingProvider:z,onAriaChange:N,onBlur:F,onEntriesUpdated:V,onFocus:r("emptyFunction"),onSelectedEntry:G,onVisibilityChange:q,position:k,queryString:I.searchResult.matchingString,ref:P,viewStrategyRenderer:v}),t[30]=N,t[31]=F,t[32]=V,t[33]=G,t[34]=u,t[35]=z,t[36]=k,t[37]=I.dataSource,t[38]=I.range,t[39]=I.searchResult.matchingString,t[40]=Y,t[41]=v,t[42]=J):J=t[42],J}function g(e){return e.moveDown(),!0}function h(e){return e.moveUp(),!0}function y(e){return e.hasSelection()?(e.select(),!0):!1}function C(e){return e.hasSelection()?(e.select(),!0):!1}function b(e){var t=o("react-compiler-runtime").c(7),n=_(!1),r=n[0],a=n[1],i,l;t[0]!==e||t[1]!==r?(i=function(){if(r){var t=e.getEditorState().read(o("LexicalText").$rootTextContent);return e.registerTextContentListener(function(e){e!==t&&a(!1),t=e})}},l=[e,r],t[0]=e,t[1]=r,t[2]=i,t[3]=l):(i=t[2],l=t[3]),d(i,l);var s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=function(){return a(!0)},t[4]=s):s=t[4];var u;return t[5]!==r?(u=[r,s],t[5]=r,t[6]=u):u=t[6],u}function v(e,t,n){for(var r=n,o=r;o<=t.length;o++)e.substr(-o)===t.substr(0,o)&&(r=o);return r}function S(e,t,n,r,a){e.update(function(){var e=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(e)||!e.isCollapsed())){var i=e.anchor;if(i.type==="text"){var l=i.getNode();if(!(a!=null&&!a()||a==null&&!l.isSimpleText())){var s=i.offset,u=l.getTextContent().slice(0,s),c=n.label,d=r.replaceableString.length,m=v(u,c,d),p=s-m;p<0||t({anchorNode:l,endOffset:s,selectedEntry:n,startOffset:p})}}}})}function R(e){var t=o("react-compiler-runtime").c(2),n=p(void 0),r=p(void 0),a;return t[0]!==e?(a=function(a,i){var t=n.current,l=r.current;(t!==a||l!==i)&&(n.current=a,r.current=i,e.dispatchCommand(o("CometLexicalContentEditableCommands").COMET_LEXICAL_ARIA_COMMAND,{activeDescendantID:a,controlsID:i}))},t[0]=e,t[1]=a):a=t[1],a}l.default=f}),98);
__d("useBaseMentionsLayoutStrategyARIAProps.react",["baseTypeaheadFlattenEntries","react","react-compiler-runtime","useCometTypeaheadLayoutContextualStrategyARIAProps"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(9),n=e.entries,a=e.highlightedEntry,i=e.onAriaChange,l;t[0]!==n?(l=r("baseTypeaheadFlattenEntries")(n),t[0]=n,t[1]=l):l=t[1];var u;t[2]!==a||t[3]!==l?(u={activeEntries:l,helperText:"",highlightedEntry:a,inputLabel:"",isOpened:!0,viewRole:"listbox"},t[2]=a,t[3]=l,t[4]=u):u=t[4];var c=r("useCometTypeaheadLayoutContextualStrategyARIAProps")(u),d=c.ariaInputProps,m=c.ariaViewProps,p,_;return t[5]!==d||t[6]!==i?(p=function(){return i(d["aria-activedescendant"],d["aria-controls"])},_=[d,i],t[5]=d,t[6]=i,t[7]=p,t[8]=_):(p=t[7],_=t[8]),s(p,_),m}l.default=u}),98);
__d("CometSearchTypeaheadBaseLayoutMentionsStrategy.react",["CometMediaViewerMentionsTypeaheadEmptyState.react","react","react-compiler-runtime","useBaseMentionsLayoutStrategyARIAProps.react"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoading","isLoadingIndicatorEnabled","onAriaChange","viewStrategyRenderer"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(21),a,i,l,s,c;n[0]!==t?(i=t.isLoading,c=t.isLoadingIndicatorEnabled,l=t.onAriaChange,a=t.viewStrategyRenderer,s=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=c===void 0?!1:c,m;n[6]!==l||n[7]!==s.entries||n[8]!==s.highlightedEntry?(m={entries:s.entries,highlightedEntry:s.highlightedEntry,onAriaChange:l},n[6]=l,n[7]=s.entries,n[8]=s.highlightedEntry,n[9]=m):m=n[9];var p=r("useBaseMentionsLayoutStrategyARIAProps.react")(m),_=d?i:!1,f;n[10]!==a||n[11]!==p||n[12]!==s||n[13]!==_?(f=u.jsx(a,babelHelpers.extends({},s,{ariaProps:p,isLoading:_})),n[10]=a,n[11]=p,n[12]=s,n[13]=_,n[14]=f):f=n[14];var g;n[15]!==i||n[16]!==s.entries?(g=!i&&s.entries.length===0?u.jsx(r("CometMediaViewerMentionsTypeaheadEmptyState.react"),{}):null,n[15]=i,n[16]=s.entries,n[17]=g):g=n[17];var h;return n[18]!==f||n[19]!==g?(h=u.jsxs("div",{children:[f,g]}),n[18]=f,n[19]=g,n[20]=h):h=n[20],h}l.default=c}),98);
__d("CometMentionsLayoutStrategy.react",["fbt","CometContextualLayer.react","CometSearchTypeaheadBaseLayoutMentionsStrategy.react","FDSPopover.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["ariaProps","context","entries","onBlur","position","viewRef"],u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(21),a,i,l,u,d,m,p;if(n[0]!==t?(a=t.ariaProps,i=t.context,l=t.entries,u=t.onBlur,d=t.position,p=t.viewRef,m=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=m,n[7]=p):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],m=n[6],p=n[7]),l.length===0)return null;var _;n[8]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"Mentions suggestions"),n[8]=_):_=n[8];var f;n[9]!==a||n[10]!==l||n[11]!==m?(f=c.jsx(r("CometSearchTypeaheadBaseLayoutMentionsStrategy.react"),babelHelpers.extends({ariaProps:a,entries:l,isLoading:!1},m)),n[9]=a,n[10]=l,n[11]=m,n[12]=f):f=n[12];var g;n[13]!==u||n[14]!==f||n[15]!==p?(g=c.jsx(r("FDSPopover.react"),{"aria-label":_,onBlur:u,ref:p,role:"listbox",children:f}),n[13]=u,n[14]=f,n[15]=p,n[16]=g):g=n[16];var h;return n[17]!==i||n[18]!==d||n[19]!==g?(h=c.jsx(r("CometContextualLayer.react"),{align:"start",context_DEPRECATED:i,position:d,children:g}),n[17]=i,n[18]=d,n[19]=g,n[20]=h):h=n[20],h}l.default=d}),226);
__d("LexicalErrorBoundary",["cr:2260"],(function(t,n,r,o,a,i){a.exports=n("cr:2260")}),null);
__d("LexicalHistoryPlugin",["cr:293"],(function(t,n,r,o,a,i){a.exports=n("cr:293")}),null);
__d("useDeferredModuleOnReady",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(6),n;t[0]!==e?(n=function(){return e.getModuleIfRequireable()},t[0]=e,t[1]=n):n=t[1];var r=c(n),a=r[0],i=r[1],l,s;return t[2]!==e||t[3]!==a?(l=function(){if(a==null){var t=e.onReady(function(e){i(function(){return e})});return(function(){t.remove()})}},s=[e,a],t[2]=e,t[3]=a,t[4]=l,t[5]=s):(l=t[4],s=t[5]),u(l,s),a}l.default=d}),98);
__d("MLCInstrumentationPluginDeferred__INTERNAL.react",["react","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("requireDeferred")("MLCInstrumentationPlugin__INTERNAL.react").__setRef("MLCInstrumentationPluginDeferred__INTERNAL.react");function c(e){var t=r("useDeferredModuleOnReady")(u);return t==null?null:s.jsx(t,babelHelpers.extends({},e))}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("CometSearchMentionsBaseViewItem.react",["CometTypeaheadViewItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["onPressEntryIn","queryString"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(6),a,i;if(n[0]!==t){var l=t.onPressEntryIn,s=t.queryString,c=babelHelpers.objectWithoutPropertiesLoose(t,e);a=c,i=function(t,n){n.preventDefault(),l&&l(t,n)},n[0]=t,n[1]=a,n[2]=i}else a=n[1],i=n[2];var d=i,m;return n[3]!==d||n[4]!==a?(m=u.jsx(r("CometTypeaheadViewItem.react"),babelHelpers.extends({},a,{onPressEntryIn:d})),n[3]=d,n[4]=a,n[5]=m):m=n[5],m}l.default=c}),98);
__d("MWChatComposer3PBotCommandViewItem.react",["CometSearchMentionsBaseViewItem.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(10),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.label,c=l.rawData,d=c.subtitle,m;n[3]!==s||n[4]!==d?(m=u.jsx(r("MWXTextPairing.react"),{headline:s,level:4,meta:d,metaLineLimit:1,reduceEmphasis:!0}),n[3]=s,n[4]=d,n[5]=m):m=n[5];var p;return n[6]!==a||n[7]!==i||n[8]!==m?(p=u.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,children:m})),n[6]=a,n[7]=i,n[8]=m,n[9]=p):p=n[9],p}l.default=c}),98);
__d("MWCommandsComposerPluginTextNode",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t,n){var r,o=t.commandId,a=t.commandPrefix,i=t.handle,l=t.rangeType;return r=e.call(this,""+(a!=null?a:"")+i,n)||this,r.__handle=i,r.__commandId=o,r.__rangeType=l,r.__commandPrefix=a,r}babelHelpers.inheritsLoose(t,e),t.getType=function(){return"command"},t.clone=function(n){var e,r=n.getEntity();return new t({commandId:r.commandId,commandPrefix:(e=n.__commandPrefix)!=null?e:"",handle:r.handle,rangeType:r.rangeType},n.__key)},t.importJSON=function(t){return s({commandId:t.commandId,handle:t.handle,rangeType:t.rangeType})};var n=t.prototype;return n.exportJSON=function(){return babelHelpers.extends({},e.prototype.exportJSON.call(this),{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType,type:"command"})},n.createDOM=function(n){var t=e.prototype.createDOM.call(this,n);return t.className="xv78j7m xt0e3qv x3jgonx",t.spellcheck=!1,t},n.getEntity=function(){return{commandId:this.__commandId,handle:this.__handle,rangeType:this.__rangeType}},n.getRangeType=function(){return this.__rangeType},n.getCommandId=function(){return this.__commandId},t})(o("Lexical").TextNode);function s(t){return new e(t).setMode("segmented").toggleDirectionless()}l.MessengerLexicalCommandNode=e,l.$createMessengerLexicalCommandNode=s}),98);
__d("cometBaseMentionsLexicalCreateNodeStrategy",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(t){var n=t.anchorNode,o=t.endOffset,a=t.selectedEntry,i=t.startOffset,l;if(i===0){var s=n.splitText(o);l=s[0]}else{var u=n.splitText(i,o);l=u[1]}if(l==null){r("FBLogger")("search").mustfix("createMentionNodeFromSearchResult failed to find correct offsets. Found offsets: "+i+", "+o+".");return}var c=e(a);c.setStyle(l.getStyle()),l.replace(c),c.selectNext(0,0)}}l.default=e}),98);
__d("DocumentMentionsRegex",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[A-Z][^\\s"+e+"]",s={PUNCTUATION:e,NAME:l},u=s;i.default=u}),66);
__d("createCometMentionMatchStrategy",["DocumentMentionsRegex"],(function(t,n,r,o,a,i,l){"use strict";var e="(?:\\.[ |$]| |["+r("DocumentMentionsRegex").PUNCTUATION+"]|)",s=75;function u(e,t,n){var r="[^"+e+t+"\\s]",o=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+n+"){0,"+s+"}))$"),a=50,i=new RegExp("(^|\\s|\\()(["+e+"]((?:"+r+"){0,"+a+"}))$");return{regex:o,regexAlias:i}}function c(t){var n=t.minMatchLength,o=t.name,a=t.triggers,i=t.disallowedChars,l=i===void 0?r("DocumentMentionsRegex").PUNCTUATION:i,s=t.disallowedTerms,c=t.validJoins,d=c===void 0?e:c,m=u(a,l,d),p=m.regex,_=m.regexAlias;return{findMentionableString:function(t){var e=p.exec(t);if(e===null&&(e=_.exec(t)),e!==null){var r=e[1],o=e[3];if(s!=null&&s.includes(o.toLowerCase()))return null;if(o.length>=n)return{leadOffset:e.index+r.length,matchingString:o,replaceableString:e[2]}}return null},name:o}}l.default=c}),98);
__d("createCommandsHandleMatchStrategy",[],(function(t,n,r,o,a,i){"use strict";var e="\\.,\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\[\\]\\\\/!%'\"~=<>_:;",l="\\b[\\w][^\\s"+e+"]",s="(^|\\s|\\/)((?:"+l+"{1,})$)",u=new RegExp(s);function c(e){var t=e.minMatchLength;return{findMentionableString:function(n){var e=u.exec(n);if(e===null)return null;var r=e[1],o=e[2];if(o!=null&&o.length>=t){var a=o;return r!=null&&r.startsWith("/")&&(a=""+r+o),{leadOffset:e.index+r.length,matchingString:o,replaceableString:a}}return null},name:"CommandsHandleMatchStrategy"}}i.default=c}),66);
__d("useCometMentionsDataSourceResolverConfig",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useLayoutEffect,d=s.useMemo;function m(e,t){var n=o("react-compiler-runtime").c(12),r;n[0]!==e?(r=function(){e.forEach(p)},n[0]=e,n[1]=r):r=n[1];var a=r,i,l;n[2]!==a||n[3]!==t?(i=function(){t&&a()},l=[t,a],n[2]=a,n[3]=t,n[4]=i,n[5]=l):(i=n[4],l=n[5]),c(i,l);var s;n[6]===Symbol.for("react.memo_cache_sentinel")?(s=new Map,n[6]=s):s=n[6];var u=s,d;n[7]!==e?(d=function(n){var t={dataSource:null,searchResult:null};if(n==null)return t;var r=u.get(n);if(r!=null)return r;for(var o=0;o<e.length;o++){var a=e[o],i=a.dataSource,l=a.matchStrategy,s=l.findMentionableString(n);if(s!=null){var c={dataSource:i,searchResult:s};return u.set(n,c),c}}return u.set(n,t),t},n[7]=e,n[8]=d):d=n[8];var m;return n[9]!==a||n[10]!==d?(m={bootstrap:a,resolver:d},n[9]=a,n[10]=d,n[11]=m):m=n[11],m}function p(e){var t=e.dataSource;t.bootstrap()}l.default=m}),98);
__d("useMW3PBotsCommandsDataSourceResolverConfig",["I64","Promise","ReQL","ReQLSuspense","createCometMentionMatchStrategy","createCommandsHandleMatchStrategy","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(8),a=(u||(u=r("useReStore")))(),l;t[0]!==a.tables.custom_thread_commands||t[1]!==e?(l=function(){return o("ReQL").fromTableAscending(a.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(m).map(d)},t[0]=a.tables.custom_thread_commands,t[1]=e,t[2]=l):l=t[2];var c;t[3]!==a||t[4]!==e?(c=[a,e],t[3]=a,t[4]=e,t[5]=c):c=t[5];var p=o("ReQLSuspense").useArray(l,c,i.id+":33"),_;if(t[6]!==p){var f=function(t){return{entries:t.query.length?p.filter(function(e){return e.label.toLowerCase().startsWith(t.query.toLowerCase())}):p,params:t}};_={bootstrap:function(){},fetchCache:f,fetchNetwork:function(t){return(s||(s=n("Promise"))).resolve(f(t))}},t[6]=p,t[7]=_}else _=t[7];return _}function d(t){var n=t.commandDescription,r=t.commandId,a=t.commandText;return{key:(e||(e=o("I64"))).to_string(r),label:a,rawData:{rangeType:"cu",subtitle:n},type:"entry"}}function m(e){return!e.isOpenPersistentMenu}function p(e){var t=o("react-compiler-runtime").c(9),n=c(e),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("createCommandsHandleMatchStrategy")({minMatchLength:4}),t[0]=a):a=t[0];var i;t[1]!==n?(i={dataSource:n,matchStrategy:a},t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=r("createCometMentionMatchStrategy")({minMatchLength:0,name:"CometMentionsNameMatchStrategy",triggers:"/"}),t[3]=l):l=t[3];var s;t[4]!==n?(s={dataSource:n,matchStrategy:l},t[4]=n,t[5]=s):s=t[5];var u;t[6]!==i||t[7]!==s?(u=[i,s],t[6]=i,t[7]=s,t[8]=u):u=t[8];var d=u;return r("useCometMentionsDataSourceResolverConfig")(d,!1)}l.default=p}),98);
__d("MW3PBotsCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposer3PBotCommandViewItem.react","MWCommandsComposerPluginTextNode","MWThreadKey.react","cometBaseMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useMW3PBotsCommandsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=r("useMW3PBotsCommandsDataSourceResolverConfig")(a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={viewItemStrategyRenderer:r("MWChatComposer3PBotCommandViewItem.react")},t[0]=l):l=t[0];var u=r("useCometTypeaheadViewListStrategy")(l),d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=r("cometBaseMentionsLexicalCreateNodeStrategy")(c),t[1]=d):d=t[1];var m;return t[2]!==i||t[3]!==n||t[4]!==u?(m=s.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:d,dataSourceResolverConfig:i,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:u}),t[2]=i,t[3]=n,t[4]=u,t[5]=m):m=t[5],m}function c(e){var t,n;return o("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:e.key,handle:e.label,rangeType:(t=(n=e.rawData)==null?void 0:n.rangeType)!=null?t:"n"})}l.default=u}),98);
__d("CometMessengerComposerInner.react",["fbt","CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LSMessagingThreadTypeUtil","LexicalComposerContext","LexicalErrorBoundary","LexicalHistoryPlugin","MLCInstrumentationPluginDeferred__INTERNAL.react","MW3PBotsCommandsComposerPlugin.react","cr:11486","cr:2559","react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_=r("requireDeferred")("CometMessengerHandlePastedFileComposerPlugin").__setRef("CometMessengerComposerInner.react"),f=(e=n("cr:2559").RichTextPlugin)!=null?e:n("cr:2559").PlainTextPlugin,g={editor:{flexGrow:"x1iyjqo2",maxHeight:"x19gmnou",minHeight:"xisnujt",minWidth:"xeuugli",overflowY:"x1odjw0f",$$css:!0}},h=s._(/*BTDS*/"Message").toString();function y(e){var t=o("react-compiler-runtime").c(52),a=e.ariaDescribedBy,i=e.ariaLabel,l=e.contentEditableRef,s=e.editor,u=e.endContent,d=e.handlePastedFiles,m=e.isSecureThread,p=e.mentionsPlugin,y=e.placeholderText,C=e.policyProduct,b=e.startContent,v=e.surface,S=e.testId,R=e.threadSubtype,L=e.threadType,E=e.topContent,k=y===void 0?"Aa":y,I;t[0]!==l?(I=function(t){var e=t!=null?t:null;l.current=e},t[0]=l,t[1]=I):I=t[1];var T=I,D;t[2]===Symbol.for("react.memo_cache_sentinel")?(D=o("LexicalComposerContext").createLexicalComposerContext(),t[2]=D):D=t[2];var x=D,$;t[3]!==s?($=[s,x],t[3]=s,t[4]=$):$=t[4];var P=$,N=i!=null?i:h,M;t[5]!==k?(M=c.jsx(r("CometLexicalPlaceholder.react"),{children:k}),t[5]=k,t[6]=M):M=t[6];var w;t[7]!==a||t[8]!==T||t[9]!==k||t[10]!==N||t[11]!==M||t[12]!==S?(w=c.jsx(r("CometLexicalContentEditable.react"),{"aria-placeholder":k,ariaDescribedBy:a,ariaLabel:N,contentEditableRef:T,placeholder:M,spellCheck:!0,tabIndex:0,webDriverTestID:S,xstyle:g.editor}),t[7]=a,t[8]=T,t[9]=k,t[10]=N,t[11]=M,t[12]=S,t[13]=w):w=t[13];var A=w,F;t[14]!==m||t[15]!==R||t[16]!==L?(F=!(o("LSMessagingThreadTypeUtil").isPageToUserThread(R)&&r("MW3PBotsCommandsComposerPlugin.react"))&&!o("LSMessagingThreadTypeUtil").isAiBot(L)&&!m,t[14]=m,t[15]=R,t[16]=L,t[17]=F):F=t[17];var O=F,B=r("useDeferredModuleOnReady")(_),W;t[18]===Symbol.for("react.memo_cache_sentinel")?(W={className:"x16sw7j7 x12ol6y4 x180vkcf x1khw62d x709u02 x9f619 xlai7qp x1iyjqo2 xeuugli"},t[18]=W):W=t[18];var q;t[19]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x78zum5 x13a6bvl"},t[19]=q):q=t[19];var U;t[20]===Symbol.for("react.memo_cache_sentinel")?(U={className:"x78zum5 x1iyjqo2 x1xmf6yo x1e56ztr xbmvrgn x1diwwjn xeuugli x1n2onr6"},t[20]=U):U=t[20];var V;t[21]!==C||t[22]!==v?(V=c.jsx(r("MLCInstrumentationPluginDeferred__INTERNAL.react"),{policyProduct:C,surface:v}),t[21]=C,t[22]=v,t[23]=V):V=t[23];var H;t[24]!==A?(H=f!=null&&c.jsx(f,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:A}),t[24]=A,t[25]=H):H=t[25];var G;t[26]===Symbol.for("react.memo_cache_sentinel")?(G=c.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{}),t[26]=G):G=t[26];var z;t[27]!==P||t[28]!==V||t[29]!==H?(z=c.jsx("div",babelHelpers.extends({},U,{children:c.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:P,children:[V,H,G]})})),t[27]=P,t[28]=V,t[29]=H,t[30]=z):z=t[30];var j;t[31]!==u||t[32]!==b||t[33]!==z?(j=c.jsxs("div",babelHelpers.extends({},q,{children:[b,z,u]})),t[31]=u,t[32]=b,t[33]=z,t[34]=j):j=t[34];var K;t[35]!==s||t[36]!==O?(K=O&&n("cr:11486")!=null&&c.jsx(n("cr:11486"),{editor:s}),t[35]=s,t[36]=O,t[37]=K):K=t[37];var Q;t[38]!==s||t[39]!==R?(Q=o("LSMessagingThreadTypeUtil").isPageToUserThread(R)&&r("MW3PBotsCommandsComposerPlugin.react")&&c.jsx(r("MW3PBotsCommandsComposerPlugin.react"),{editor:s}),t[38]=s,t[39]=R,t[40]=Q):Q=t[40];var X;t[41]!==B||t[42]!==s||t[43]!==d?(X=B==null?null:c.jsx(B,{editor:s,handlePastedFiles:d}),t[41]=B,t[42]=s,t[43]=d,t[44]=X):X=t[44];var Y;return t[45]!==p||t[46]!==j||t[47]!==K||t[48]!==Q||t[49]!==X||t[50]!==E?(Y=c.jsxs("div",babelHelpers.extends({},W,{children:[E,j,p,K,Q,X]})),t[45]=p,t[46]=j,t[47]=K,t[48]=Q,t[49]=X,t[50]=E,t[51]=Y):Y=t[51],Y}l.default=y}),226);
__d("CometPhotoGrid.react",["BaseAspectRatioContainer.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=4,c=6,d={item:{boxSizing:"x9f619",flexBasis:"x1yu6fn4",$$css:!0},itemEnlarged:{flexBasis:"x4pfjvb",$$css:!0},itemNarrowSpacing:{paddingTop:"x1nn3v0j",paddingInlineEnd:"x14vy60q",paddingBottom:"x1120s5i",paddingInlineStart:"xyiysdx",$$css:!0},itemWideSpacing:{paddingTop:"xyqdw3p",paddingInlineEnd:"x1im30kd",paddingBottom:"xg8j3zb",paddingInlineStart:"x1djpfga",$$css:!0},wrapper:{display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",$$css:!0},wrapperNarrowSpacing:{marginTop:"x1kgmq87",marginInlineEnd:"x11lt19s",marginBottom:"xmgb6t1",marginInlineStart:"xe9ewy2",$$css:!0},wrapperWideSpacing:{marginTop:"x1198e8h",marginInlineEnd:"x18faa90",marginBottom:"x1huwwth",marginInlineStart:"x4h0osi",$$css:!0}};function m(e,t){return e<2&&t%3===2}function p(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.spacing,i=e.uniformGrid,l=a===void 0?"narrow":a,u=i===void 0?!1:i,c;if(t[0]!==n||t[1]!==l||t[2]!==u){var p=s.Children.toArray(n),_=p.length,f=l==="narrow"&&d.wrapperNarrowSpacing,g=l==="wide"&&d.wrapperWideSpacing,h;t[4]!==f||t[5]!==g?(h=[d.wrapper,f,g],t[4]=f,t[5]=g,t[6]=h):h=t[6],c=s.jsx(o("react-strict-dom").html.div,{style:h,children:s.Children.map(p,function(e,t){return s.jsx(o("react-strict-dom").html.div,{style:[d.item,l==="wide"&&d.itemWideSpacing,l==="narrow"&&d.itemNarrowSpacing,!u&&m(t,_)&&d.itemEnlarged],children:s.jsx(r("BaseAspectRatioContainer.react"),{aspectRatio:1,children:e})})})}),t[0]=n,t[1]=l,t[2]=u,t[3]=c}else c=t[3];return c}l.default=p}),98);
__d("FDSUnitHeaderConstants",[],(function(t,n,r,o,a,i){"use strict";var e=8,l=6;i.ACTION_TEXT_OVERLAY_OFFSET=e,i.ACTION_TEXT_OVERLAY_RADIUS=l}),66);
__d("FDSUnitHeaderTextAction.react",["CometPressable.react","FDSIcon.react","FDSText.react","FDSUnitHeaderConstants","FDSUnitHeaderHierarchyLevelContext","MetaConfig","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","icon","label","linkProps","numberOfLines","onFocusVisibleChange","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","ref","testid","testOnly_actionPressed","truncationTooltip"],s,u=s||(s=o("react")),c=s.use,d=r("MetaConfig")._("338"),m={root:{alignItems:"x6s0dn4",columnGap:"x17zd0t2",display:"x78zum5",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(42),a,i,l,s,p,_,f,g,h,y,C,b,v,S,R,L;n[0]!==t?(v=t.disabled,i=t.icon,l=t.label,s=t.linkProps,p=t.numberOfLines,_=t.onFocusVisibleChange,f=t.onHoverIn,g=t.onHoverOut,h=t.onPress,y=t.onPressIn,C=t.onPressOut,b=t.ref,R=t.testid,S=t.testOnly_actionPressed,L=t.truncationTooltip,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=p,n[6]=_,n[7]=f,n[8]=g,n[9]=h,n[10]=y,n[11]=C,n[12]=b,n[13]=v,n[14]=S,n[15]=R,n[16]=L):(a=n[1],i=n[2],l=n[3],s=n[4],p=n[5],_=n[6],f=n[7],g=n[8],h=n[9],y=n[10],C=n[11],b=n[12],v=n[13],S=n[14],R=n[15],L=n[16]);var E=v===void 0?!1:v,k=c(r("FDSUnitHeaderHierarchyLevelContext")),I=E?"disabled":"blueLink",T=d?E:void 0,D=d?void 0:E,x=d&&E?void 0:h,$=d&&E?void 0:y,P=d&&E?void 0:C,N=S!=null?S:!1,M;n[17]!==I||n[18]!==i?(M=i!=null&&u.jsx(r("FDSIcon.react"),{color:I,icon:i,isDecorative:!0,size:16}),n[17]=I,n[18]=i,n[19]=M):M=n[19];var w=k===2?"body2":"body3",A;n[20]!==I||n[21]!==l||n[22]!==p||n[23]!==w||n[24]!==L?(A=u.jsx(r("FDSText.react"),{color:I,numberOfLines:p,truncationTooltip:L,type:w,children:l}),n[20]=I,n[21]=l,n[22]=p,n[23]=w,n[24]=L,n[25]=A):A=n[25];var F;return n[26]!==a||n[27]!==s||n[28]!==_||n[29]!==f||n[30]!==g||n[31]!==b||n[32]!==A||n[33]!==T||n[34]!==D||n[35]!==x||n[36]!==$||n[37]!==P||n[38]!==N||n[39]!==M||n[40]!==R?(F=u.jsxs(r("CometPressable.react"),babelHelpers.extends({},a,{"aria-disabled":T,disabled:D,linkProps:s,onFocusVisibleChange:_,onHoverIn:f,onHoverOut:g,onPress:x,onPressIn:$,onPressOut:P,overlayOffset:o("FDSUnitHeaderConstants").ACTION_TEXT_OVERLAY_OFFSET,overlayRadius:o("FDSUnitHeaderConstants").ACTION_TEXT_OVERLAY_RADIUS,ref:b,testOnly_pressed:N,testid:void 0,xstyle:m.root,children:[M,A]})),n[26]=a,n[27]=s,n[28]=_,n[29]=f,n[30]=g,n[31]=b,n[32]=A,n[33]=T,n[34]=D,n[35]=x,n[36]=$,n[37]=P,n[38]=N,n[39]=M,n[40]=R,n[41]=F):F=n[41],F}l.default=p}),98);
__d("CometTypeaheadViewListSection.react",["FDSUnitHeader.react","FDSUnitHeaderTextAction.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={header:{marginBottom:"x1e56ztr",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.action,a=e.children,i=e.emptyStateContent,l=e.entries,c=e.highlightedEntry,d=e.itemRole,m=e.onHeaderActionPress,p=e.queryString,_=e.title,f;t[0]!==n||t[1]!==l.length||t[2]!==m||t[3]!==_?(f=_!=null&&l.length!==0?s.jsx(o("react-strict-dom").html.div,{style:u.header,children:s.jsx(r("FDSUnitHeader.react"),{action:(n==null?void 0:n.type)==="link"?s.jsx(r("FDSUnitHeaderTextAction.react"),{label:n.label,linkProps:{url:n.url},onPress:m}):void 0,headline:_,level:3,paddingHorizontal:8,paddingTop:12})}):null,t[0]=n,t[1]=l.length,t[2]=m,t[3]=_,t[4]=f):f=t[4];var g=l.length===0&&i!=null&&p===""?i:null,h;t[5]!==a||t[6]!==l||t[7]!==(c==null?void 0:c.key)||t[8]!==d?(h=l.length!==0?s.jsx(o("react-strict-dom").html.ul,{children:l.map(function(e,t){return a({entry:e,index:t,isActive:e.key===(c==null?void 0:c.key),itemRole:d})})}):null,t[5]=a,t[6]=l,t[7]=c==null?void 0:c.key,t[8]=d,t[9]=h):h=t[9];var y;return t[10]!==f||t[11]!==g||t[12]!==h?(y=s.jsxs(o("react-strict-dom").html.li,{children:[f,g,h]}),t[10]=f,t[11]=g,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("CometTypeaheadSectionedViewListStrategy.react",["CometCompositeStructureContext","CometTypeaheadViewListSection.react","getItemRoleFromCompositeRole","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ariaProps","emptyStateContent","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","onHeaderActionPress","queryString","viewItemStrategyRenderer"],s,u=s||(s=o("react")),c=s.useMemo,d={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(37),a,i,l,s,c,m,p,_;if(n[0]!==t){var f=t.ariaProps,g=t.emptyStateContent,h=t.entries,y=t.extraViewProps,C=t.highlightedEntry,b=t.isLoading,v=t.onAbandonTypeahead_DO_NOT_USE,S=t.onHeaderActionPress,R=t.queryString,L=t.viewItemStrategyRenderer,E=babelHelpers.objectWithoutPropertiesLoose(t,e);i=f,l=g,s=h,c=C,m=S,p=R,a=L,_=E,n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=m,n[7]=p,n[8]=_}else a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],m=n[6],p=n[7],_=n[8];var k=i.role,I;if(k!=null){var T;n[9]!==k?(T={role:k},n[9]=k,n[10]=T):T=n[10],I=T}else{var D;n[11]===Symbol.for("react.memo_cache_sentinel")?(D={},n[11]=D):D=n[11],I=D}var x=I;if(s.length===0&&l!=null)return p===""?l:null;var $;n[12]!==k?($=r("getItemRoleFromCompositeRole")(k),n[12]=k,n[13]=$):$=n[13];var P=$,N;if(n[14]!==a||n[15]!==l||n[16]!==s||n[17]!==c||n[18]!==P||n[19]!==m||n[20]!==p||n[21]!==_){var M;n[23]!==a||n[24]!==l||n[25]!==c||n[26]!==P||n[27]!==m||n[28]!==p||n[29]!==_?(M=function(t){if(t.type==="section"){var e=t.action,n=t.entries,o=t.key,i=t.label;return u.jsx(r("CometTypeaheadViewListSection.react"),{action:e,emptyStateContent:l,entries:n,highlightedEntry:c,itemRole:P,onHeaderActionPress:m,queryString:p,title:i,children:function(t){var e=t.entry,n=t.isActive,r=t.itemRole;return u.createElement(a,babelHelpers.extends({},_,{entry:e,isActive:n,key:e.key,queryString:p,role:r}))}},o)}else{var s;return u.createElement(a,babelHelpers.extends({},_,{entry:t,isActive:t.key===((s=c)==null?void 0:s.key),key:t.key,queryString:p,role:P}))}},n[23]=a,n[24]=l,n[25]=c,n[26]=P,n[27]=m,n[28]=p,n[29]=_,n[30]=M):M=n[30],N=s.map(M),n[14]=a,n[15]=l,n[16]=s,n[17]=c,n[18]=P,n[19]=m,n[20]=p,n[21]=_,n[22]=N}else N=n[22];var w;n[31]!==x||n[32]!==N?(w=u.jsx(r("CometCompositeStructureContext").Provider,{value:x,children:N}),n[31]=x,n[32]=N,n[33]=w):w=n[33];var A;return n[34]!==i||n[35]!==w?(A=u.jsx(o("react-strict-dom").html.ul,babelHelpers.extends({},i,{"data-testid":void 0,style:d.root,children:w})),n[34]=i,n[35]=w,n[36]=A):A=n[36],A}l.default=m}),98);
__d("CometUFICommentActionLinksRewriteEnabled.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e;return(e=r("qex")._("2837"))!=null?e:!1}};l.default=e}),98);
__d("CometUFIReactionsEnableShortName.relayprovider",[],(function(t,n,r,o,a,i){"use strict";function e(){return!1}i.get=e}),66);
__d("CometUFIShareActionMigration.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e;return(e=r("gkx")("2411"))!=null?e:!1}};l.default=e}),98);
__d("CometUFISingleLineUFI.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e;return(e=r("qex")._("2362"))!=null?e:!1}l.get=e}),98);
__d("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1746398"),s=o("FalcoLoggerInternal").create("ctm_multi_photo_carousel_msgr_multi_photo_carousel_click",e),u=s;l.default=u}),98);
__d("CustomerInformationTemplateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5813"),s=o("FalcoLoggerInternal").create("customer_information_template",e),u=s;l.default=u}),98);
__d("DOMDimensions",["Style","getDocumentScrollElement"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e?e.offsetHeight:0,n=e?e.offsetWidth:0;return{height:t,width:n}}function s(e){var t=r("getDocumentScrollElement")(e),n=t.scrollWidth||0,o=t.scrollHeight||0;return{width:n,height:o}}function u(e,t,n,o,a){var i;switch(t){case"left":case"right":case"top":case"bottom":i=[t];break;case"width":i=["left","right"];break;case"height":i=["top","bottom"];break;default:throw Error("Invalid plane: "+t)}var l=function(n,o){for(var t=0,a=0;a<i.length;a++)t+=parseFloat(r("Style").get(e,n+"-"+i[a]+o))||0;return t};return(n?l("padding",""):0)+(o?l("border","-width"):0)+(a?l("margin",""):0)}l.getElementDimensions=e,l.getDocumentDimensions=s,l.measureElementBox=u}),98);
__d("E2EELinkPreviewXMADataStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({LOADED:1,LOADING:2,DISABLED:3});i.default=e}),66);
__d("FBP2MECPCheckoutDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("FBP2MECPCheckoutDialog.react").__setRef("FBP2MECPCheckoutDialog.entrypoint")};l.default=e}),98);
__d("FBPayHubTransactionDetailDialogQuery$Parameters",["cr:1932967"],(function(t,n,r,o,a,i,l){"use strict";i.exports=n("cr:1932967")}),34);
__d("FBPayHubTransactionDetailDialog.entrypoint",["FBPayHubTransactionDetailDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.transactionID;return{queries:{fBPayHubTransactionDetailDialogQueryReference:{parameters:n("FBPayHubTransactionDetailDialogQuery$Parameters"),variables:{transaction_id:e}}}}},root:r("JSResourceForInteraction")("FBPayHubTransactionDetailDialog.react").__setRef("FBPayHubTransactionDetailDialog.entrypoint")};l.default=e}),98);
__d("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("5191")===!0}};l.default=e}),98);
__d("FDSAirplaneFilled20Icon",["cr:14276"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14276")}),98);
__d("FDSAppThreadsFilled16Icon",["cr:14370"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14370")}),98);
__d("FDSBadgeCheckmarkFilled12Icon",["cr:14485"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14485")}),98);
__d("FDSCalendarAddFilled20Icon",["cr:14606"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14606")}),98);
__d("FDSCamcorderCrossFilled20Icon",["cr:14629"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14629")}),98);
__d("FDSCamcorderIncomingFilled20Icon",["cr:14633"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14633")}),98);
__d("FDSCamcorderOutgoingFilled20Icon",["cr:14638"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14638")}),98);
__d("FDSCamcorderPlusFilled20Icon",["cr:14642"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14642")}),98);
__d("FDSCheckmarkCircleFilled20Icon",["cr:13866"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13866")}),98);
__d("FDSCheckmarkFilled20Icon",["cr:14115"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14115")}),98);
__d("FDSCurrencyUsdFilled20Icon",["cr:14807"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14807")}),98);
__d("FDSDocumentFilled16Icon",["cr:13997"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13997")}),98);
__d("FDSDocumentFilled20Icon",["cr:13998"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13998")}),98);
__d("FDSFriendConfirmFilled20Icon",["cr:14220"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:14220")}),98);
__d("FDSFriendRemoveFilled20Icon",["cr:15002"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15002")}),98);
__d("FDSFriendRequestFilled20Icon",["cr:15006"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15006")}),98);
__d("FDSKeyHouseFilled20Icon",["cr:15166"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15166")}),98);
__d("FDSLocationFilled20Icon",["cr:15234"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15234")}),98);
__d("FDSMapFilled20Icon",["cr:15245"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15245")}),98);
__d("FDSPhoneCrossFilled20Icon",["cr:15388"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15388")}),98);
__d("FDSPhoneIncomingFilled20Icon",["cr:15393"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15393")}),98);
__d("FDSPhoneOutgoingFilled20Icon",["cr:15396"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15396")}),98);
__d("FDSPhotoAddFilled24Icon",["cr:15400"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15400")}),98);
__d("FDSPinFilled20Icon",["cr:13887"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13887")}),98);
__d("FDSPostClockFilled20Icon",["cr:15477"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15477")}),98);
__d("FDSPostSlashFilled20Icon",["cr:13848"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:13848")}),98);
__d("FDSShoppingCartFilled20Icon",["cr:15660"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15660")}),98);
__d("FDSTagFilled20Icon",["cr:15749"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15749")}),98);
__d("GetPreviewDimension",["Promise"],(function(t,n,r,o,a,i){"use strict";var e;function l(t){return new(e||(e=n("Promise")))(function(e){var n=new Image;n.onload=function(){return e({previewHeight:n.height,previewWidth:n.width})},n.onerror=function(){return e()},n.src=t})}function s(t){return new(e||(e=n("Promise")))(function(e){var n=document.createElement("video");n.onloadedmetadata=function(){return e({previewHeight:n.videoHeight,previewWidth:n.videoWidth})},n.onerror=function(){return e()},n.src=t})}i.getPreviewDimensions=l,i.getVideoPreviewDimensions=s}),66);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29450402841273535"}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql",["GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"MessengerPlatformCtaPostHandlingResponsePayload",kind:"LinkedField",name:"messenger_platform_cta_post_handling",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"client_mutation_id",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"GraphQLMessengerPlatformCtaPostHandlingMutation",selections:t},params:{id:n("GraphQLMessengerPlatformCtaPostHandlingMutation_facebookRelayOperation"),metadata:{},name:"GraphQLMessengerPlatformCtaPostHandlingMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25863586029927918"}),null);
__d("GroupsCometGYSJFeedItemHeight.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("10590")?206:150}};l.default=e}),98);
__d("ShouldEnableBakedInTextStories.relayprovider",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){return r("gkx")("20979")}};l.default=e}),98);
__d("StoriesArmadilloReplyEnabled.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e;return(e=r("qex")._("564"))!=null?e:!1}};l.default=e}),98);
__d("StoriesShouldIncludeFbNotes.relayprovider",["qex"],(function(t,n,r,o,a,i,l){"use strict";var e={get:function(){var e;return(e=r("qex")._("4610"))!=null?e:!1}};l.default=e}),98);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters",["CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFICommentActionLinksRewriteEnabled.relayprovider","CometUFICommentAvatarStickerAnimatedImage.relayprovider","CometUFIReactionsEnableShortName.relayprovider","CometUFIShareActionMigration.relayprovider","CometUFISingleLineUFI.relayprovider","CometUFI_dedicated_comment_routable_dialog_gk.relayprovider","FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","GHLShouldChangeAdIdFieldName.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation","GroupsCometGYSJFeedItemHeight.relayprovider","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","ShouldEnableBakedInTextStories.relayprovider","StoriesArmadilloReplyEnabled.relayprovider","StoriesShouldIncludeFbNotes.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdminActivityLogItemSeeDetailsDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeAdIdFieldNamerelayprovider:n("GHLShouldChangeAdIdFieldName.relayprovider"),__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:n("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__CometUFICommentActionLinksRewriteEnabledrelayprovider:n("CometUFICommentActionLinksRewriteEnabled.relayprovider"),__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:n("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:n("IsWorkUser.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:n("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:n("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:n("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:n("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:n("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:n("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:n("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:n("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider"),__relay_internal__pv__CometUFIReactionsEnableShortNamerelayprovider:n("CometUFIReactionsEnableShortName.relayprovider"),__relay_internal__pv__CometUFIShareActionMigrationrelayprovider:n("CometUFIShareActionMigration.relayprovider"),__relay_internal__pv__CometUFISingleLineUFIrelayprovider:n("CometUFISingleLineUFI.relayprovider"),__relay_internal__pv__CometUFI_dedicated_comment_routable_dialog_gkrelayprovider:n("CometUFI_dedicated_comment_routable_dialog_gk.relayprovider"),__relay_internal__pv__StoriesArmadilloReplyEnabledrelayprovider:n("StoriesArmadilloReplyEnabled.relayprovider"),__relay_internal__pv__FBReelsIFUTileContent_reelsIFUPlayOnHoverrelayprovider:n("FBReelsIFUTileContent_reelsIFUPlayOnHover.relayprovider"),__relay_internal__pv__GroupsCometGYSJFeedItemHeightrelayprovider:n("GroupsCometGYSJFeedItemHeight.relayprovider"),__relay_internal__pv__ShouldEnableBakedInTextStoriesrelayprovider:n("ShouldEnableBakedInTextStories.relayprovider"),__relay_internal__pv__StoriesShouldIncludeFbNotesrelayprovider:n("StoriesShouldIncludeFbNotes.relayprovider")}}};a.exports=e}),null);
__d("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint",["GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.routeProps,r=e.adminActivityID,a=e.groupID,i=e.isManagementActivityLogTargetProfilePlus,l={adminActivityID:r,feedbackSource:0,feedLocation:"GROUP_ADMIN_TO_MEMBER_FEEDBACK",focusCommentID:null,groupID:a,isManagementActivityLogTargetProfilePlus:i,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_admin_to_member_feedback",scale:o("WebPixelRatio").get(),useDefaultActor:!1};return{queries:{queryReference:{parameters:n("GroupsCometAdminActivityLogItemSeeDetailsDialogQuery$Parameters"),variables:l}}}},root:r("JSResourceForInteraction")("GroupsCometAdminActivityLogItemSeeDetailsDialog.react").__setRef("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")};l.default=e}),98);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25711301365163983"}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters",["CometImmersivePhotoCanUserDisable3DMotion.relayprovider","CometUFICommentActionLinksRewriteEnabled.relayprovider","CometUFICommentAvatarStickerAnimatedImage.relayprovider","FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider","FBReels_deprecate_short_form_video_context_gk.relayprovider","FBReels_enable_meta_ai_label_gk.relayprovider","FBReels_enable_view_dubbed_audio_type_gk.relayprovider","GHLShouldChangeSponsoredDataFieldName.relayprovider","GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation","IsMergQAPolls.relayprovider","IsWorkUser.relayprovider","TestPilotShouldIncludeDemoAdUseCase.relayprovider","WorkCometIsEmployeeGKProvider.relayprovider"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometAdmodChatsPendingPostReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsPendingPostReviewDialogQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__GHLShouldChangeSponsoredDataFieldNamerelayprovider:n("GHLShouldChangeSponsoredDataFieldName.relayprovider"),__relay_internal__pv__TestPilotShouldIncludeDemoAdUseCaserelayprovider:n("TestPilotShouldIncludeDemoAdUseCase.relayprovider"),__relay_internal__pv__CometUFICommentActionLinksRewriteEnabledrelayprovider:n("CometUFICommentActionLinksRewriteEnabled.relayprovider"),__relay_internal__pv__CometUFICommentAvatarStickerAnimatedImagerelayprovider:n("CometUFICommentAvatarStickerAnimatedImage.relayprovider"),__relay_internal__pv__IsWorkUserrelayprovider:n("IsWorkUser.relayprovider"),__relay_internal__pv__FBReels_enable_view_dubbed_audio_type_gkrelayprovider:n("FBReels_enable_view_dubbed_audio_type_gk.relayprovider"),__relay_internal__pv__CometImmersivePhotoCanUserDisable3DMotionrelayprovider:n("CometImmersivePhotoCanUserDisable3DMotion.relayprovider"),__relay_internal__pv__WorkCometIsEmployeeGKProviderrelayprovider:n("WorkCometIsEmployeeGKProvider.relayprovider"),__relay_internal__pv__IsMergQAPollsrelayprovider:n("IsMergQAPolls.relayprovider"),__relay_internal__pv__FBReels_deprecate_short_form_video_context_gkrelayprovider:n("FBReels_deprecate_short_form_video_context_gk.relayprovider"),__relay_internal__pv__FBReels_enable_meta_ai_label_gkrelayprovider:n("FBReels_enable_meta_ai_label_gk.relayprovider"),__relay_internal__pv__FBReelsMediaFooter_comet_enable_reels_ads_gkrelayprovider:n("FBReelsMediaFooter_comet_enable_reels_ads_gk.relayprovider")}}};a.exports=e}),null);
__d("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint",["GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.authorID,n=t.groupID,a=t.postID,i=t.scale;return{queries:{queryReference:{parameters:r("GroupsCometAdmodChatsPendingPostReviewDialogQuery$Parameters"),variables:{authorID:e,feedLocation:"GROUP_PENDING",groupID:n,postID:a,privacySelectorRenderLocation:"COMET_STREAM",renderLocation:"group_pending_queue",scale:i||o("WebPixelRatio").get(),useDefaultActor:!1}}}}},root:r("JSResourceForInteraction")("GroupsCometAdmodChatsPendingPostReviewDialog.react").__setRef("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint")},s=e;l.default=s}),98);
__d("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25544521358546050"}),null);
__d("GroupsCometAdmodChatsReviewDialogQuery$Parameters",["GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometAdmodChatsReviewDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometAdmodChatsReviewDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometAdmodChatsReviewDialog.entrypoint",["GroupsCometAdmodChatsReviewDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID,n=t.profileID,a=t.scale;return{queries:{queryReference:{parameters:r("GroupsCometAdmodChatsReviewDialogQuery$Parameters"),variables:{groupID:e,profileID:n,scale:a||o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("GroupsCometAdmodChatsReviewDialog.react").__setRef("GroupsCometAdmodChatsReviewDialog.entrypoint")},s=e;l.default=s}),98);
__d("HorizonWorldsUpdateSubscriptionManagementUserActionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({SUBSCRIBE:0,UNSUBSCRIBE:1});i.default=e}),66);
__d("IIGDAPI",["MAWBridge"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return o("MAWBridge").getBridge().sendAndReceive("backend","igdapi",{args:n,type:e}).then(function(){})}}l.makeBridgedApi=e}),98);
__d("IGDBridgedAPI",["IIGDAPI"],(function(t,n,r,o,a,i,l){"use strict";var e,s={33:(e=o("IIGDAPI")).makeBridgedApi("33"),46:e.makeBridgedApi("46"),sendEditMessage:e.makeBridgedApi("sendEditMessage"),sendMediaMessage:e.makeBridgedApi("sendMediaMessage"),sendOrRemoveReaction:e.makeBridgedApi("sendOrRemoveReaction"),sendXmaReceiverFetch:e.makeBridgedApi("sendXmaReceiverFetch")},u=s;l.default=u}),98);
__d("IGDChatTabsStateContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c=s.createContext(null),d=s.createContext(r("emptyFunction"));function m(){return u(c)}function p(){return u(d)}function _(){var e=m();return e==null?void 0:e.activeView}l.IGDChatTabsStateContext=c,l.IGDChatTabsDispatchContext=d,l.useIGDChatTabsState=m,l.useIGDChatTabsDispatch=p,l.useCurrentChatTabsView=_}),98);
__d("IGDChatTabsStateTypes",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({ChatTabsThreadListView:"chat_tabs_thread_list_view",ChatTabsThreadView:"chat_tabs_thread_view",ChatTabsOmnipickerView:"chat_tabs_omnipicker_view"}),l=n("$InternalEnum")({NotificationWithJewel:"notification_with_jewel",NotificationWithTabOpen:"notification_with_tab_open",ChatTabsThreadListItem:"chat_tabs_thread_list_item",ChatTabsOmnipicker:"chat_tabs_omnipicker",ChatTabsPOG:"chat_tabs_pog",Profile:"profile",UserHoverCard:"user_hover_card",DirectInbox:"direct_inbox",Unknown:"unknown",ShareSheet:"share_sheet",BusinessChats:"business_chats"});i.IGDChatTabsView=e,i.IGDChatTabsMessagingInitiationSource=l}),66);
__d("IGDCreateSlideMessageUpdateQuery_instagramRelayOperation",[],(function(t,n,r,o,a,i){a.exports="26048017414828121"}),null);
__d("IGDCreateSlideMessageUpdateQuery.graphql",["IGDCreateSlideMessageUpdateQuery_instagramRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"},t={defaultValue:null,kind:"LocalArgument",name:"message_id"},r=[{kind:"Variable",name:"id",variableName:"message_id"}],o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"content_type",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"text_body",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_reported",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"message_id",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},m={kind:"TypeDiscriminator",abstractKey:"__isSlideMessageContent"},p={kind:"InlineFragment",selections:[s],type:"SlideMessageText",abstractKey:null},_={alias:null,args:null,kind:"ScalarField",name:"is_sticker",storageKey:null},f=[d],g=[{alias:null,args:null,kind:"ScalarField",name:"eyebrow_text",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"attachment_fbid",storageKey:null},y={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_url",storageKey:null},C={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAudioAttachment",kind:"LinkedField",name:"audio_attachments",plural:!0,selections:[h,{alias:null,args:null,kind:"ScalarField",name:"waveform_data",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"playable_duration_ms",storageKey:null},y],storageKey:null}],type:"SlideMessageAudiosContent",abstractKey:null},b={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_url",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"preview_height",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"preview_width",storageKey:null},R={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"attachment_webp_url",storageKey:null},b,v,S,_,{alias:null,args:null,kind:"ScalarField",name:"attachment_mp4_url",storageKey:null}],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},L={alias:null,args:null,kind:"ScalarField",name:"attachment_type",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"preview_cdn_fallback_url",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"attachment_cdn_fallback_url",storageKey:null},I=[h,L,{kind:"InlineFragment",selections:[b,E,v,S,y,k],type:"SlideMessagingMediaAttachment",abstractKey:"__isSlideMessagingMediaAttachment"}],T={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:I,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},D={alias:null,args:null,kind:"ScalarField",name:"preview_url",storageKey:null},x=[D,v,S],$={kind:"InlineFragment",selections:x,type:"SlideMessageCutoutStickerXMAContent",abstractKey:null},P={kind:"InlineFragment",selections:x,type:"SlideMessageAIStickerXMAContent",abstractKey:null},N={kind:"InlineFragment",selections:x,type:"SlideMessageStoreStickerContent",abstractKey:null},M={kind:"InlineFragment",selections:x,type:"SlideMessageAvatarStickerXMAContent",abstractKey:null},w={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:I,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},A={alias:null,args:null,kind:"ScalarField",name:"fallback_url",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},O={alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_image",plural:!1,selections:[A,F,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"preview_image_decoration_type",storageKey:null}],storageKey:null},B={alias:null,args:null,concreteType:"XFBSlideMessageXMASingleHeaderIcon",kind:"LinkedField",name:"header_icon",plural:!1,selections:[F],storageKey:null},W={alias:null,args:null,kind:"ScalarField",name:"header_subtitle_text",storageKey:null},q={alias:null,args:null,kind:"ScalarField",name:"header_title_text",storageKey:null},U={alias:null,args:null,kind:"ScalarField",name:"verified_type",storageKey:null},V={alias:null,args:null,kind:"ScalarField",name:"target_id",storageKey:null},H={alias:null,args:null,kind:"ScalarField",name:"target_url",storageKey:null},G=[F,A],z={alias:null,args:null,concreteType:"XFBSlideMessageFavicon",kind:"LinkedField",name:"favicon",plural:!1,selections:G,storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"title_text",storageKey:null},K={alias:null,args:null,kind:"ScalarField",name:"caption_body_text",storageKey:null},Q={alias:null,args:null,kind:"ScalarField",name:"subtitle_text",storageKey:null},X={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"xma_text_body",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[d,{kind:"InlineFragment",selections:[O,B,W,q,U,V,H,z,{alias:null,args:null,kind:"ScalarField",name:"is_quoted",storageKey:null}],type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:[V,H,B,W,q,U,j,K,Q,{alias:null,args:null,kind:"ScalarField",name:"subtitle_decoration_type",storageKey:null},O,{alias:null,args:null,kind:"ScalarField",name:"preview_layout_type",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageXMAPreviewImage",kind:"LinkedField",name:"preview_extra_urls_info",plural:!0,selections:G,storageKey:null},z],type:"SlideMessageStandardXMA",abstractKey:null},{kind:"InlineFragment",selections:[K],type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[j,K],type:"SlideMessagePlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:[O,H,Q,j,z],type:"SlideMessageLayeredXMA",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"title_icon_type",storageKey:null},j,Q,K,{alias:null,args:null,kind:"ScalarField",name:"overlay_icon_glyph",storageKey:null},z],type:"SlideMessageNoteXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},Y={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"messasge_text_body",storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageGenAISearchPluginSource",kind:"LinkedField",name:"search_sources",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"source_title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_subtitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"source_url",storageKey:null}],storageKey:null}],type:"SlideMessageGenAISearchPluginResponseXMAContent",abstractKey:null},J={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"unified_response",storageKey:null}],type:"SlideMessageGenAIRichResponseXMAContent",abstractKey:null},Z={kind:"TypeDiscriminator",abstractKey:"__isSlideMessagingMediaAttachment"},ee=[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"view_mode",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachment",plural:!1,selections:[d,Z,b,E,v,S,y,k,h],storageKey:null}],type:"SlideMessageRavenContent",abstractKey:"__isSlideMessageRavenContent"}],te={kind:"InlineFragment",selections:ee,type:"SlideMessageRavenImageContent",abstractKey:null},ne={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"ordered_photo_video_attachments",plural:!0,selections:[d,h,L,Z,b,E,v,S,y,k],storageKey:null}],type:"SlideMessageMultiMediaContent",abstractKey:null},re={kind:"InlineFragment",selections:ee,type:"SlideMessageRavenVideoContent",abstractKey:null},oe={kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"media_content_fbid",storageKey:null},{alias:null,args:null,concreteType:"XDTTrackData",kind:"LinkedField",name:"audio_track",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"web_30s_preview_download_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_artist",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"audio_asset_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attribution_link",storageKey:null},D],type:"SlideMessageMusicStickerXMAContent",abstractKey:null},ae={alias:null,args:null,concreteType:"SlideMentionedUserWithoutId",kind:"LinkedField",name:"mentioned_users_without_id",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"user_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"profile_range_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null}],storageKey:null},ie={alias:null,args:null,kind:"ScalarField",name:"igd_is_forwarded",storageKey:null},le={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},se={alias:null,args:null,kind:"ScalarField",name:"client__send_status",storageKey:null};return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"IGDCreateSlideMessageUpdateQuery",selections:[{alias:null,args:r,concreteType:"SlideMessage",kind:"LinkedField",name:"fetch__SlideMessage",plural:!1,selections:[{args:[{kind:"Variable",name:"enable_off_msys_messages_list",variableName:"enable_off_msys_messages_list"}],kind:"FragmentSpread",name:"IGDCreateSlideMessage_SlideMessage"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"IGDCreateSlideMessageUpdateQuery",selections:[{alias:null,args:r,concreteType:"SlideMessage",kind:"LinkedField",name:"fetch__SlideMessage",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},a,i,{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_snippet",storageKey:null},l,s,{condition:"enable_off_msys_messages_list",kind:"Condition",passingValue:!0,selections:[u,c,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[d,m,p,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAnimatedMediaAttachment",kind:"LinkedField",name:"animated_media",plural:!0,selections:[_],storageKey:null}],type:"SlideMessageAnimatedMediaContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideAttachment",kind:"LinkedField",name:"attachments",plural:!0,selections:f,storageKey:null}],type:"SlideMessageImageContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"XFBSlideVideoAttachment",kind:"LinkedField",name:"videos",plural:!0,selections:f,storageKey:null}],type:"SlideMessageVideosContent",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"xma",plural:!1,selections:[d,{kind:"InlineFragment",selections:g,type:"SlideMessagePortraitXMA",abstractKey:null},{kind:"InlineFragment",selections:g,type:"SlideMessageExpiredPlaceholderXMA",abstractKey:null},{kind:"InlineFragment",selections:g,type:"SlideMessageStandardXMA",abstractKey:null}],storageKey:null}],type:"SlideMessageXMAContent",abstractKey:null},p,C,R,T,$,P,N,M,w,X,Y,J,te,ne,re,oe,{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_reaction_action_log",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppTextFragmentInWWW",kind:"LinkedField",name:"text_fragments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"plaintext",storageKey:null},{alias:null,args:null,concreteType:"XFBTextAppLinkTextFragmentInWWW",kind:"LinkedField",name:"link_fragment",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null}],type:"SlideMessageAdminText",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideReaction",kind:"LinkedField",name:"reactions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reaction",storageKey:null},a],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bot_response_id",storageKey:null},ae,ie,{alias:null,args:null,kind:"ScalarField",name:"replied_to_message_id",storageKey:null},{alias:null,args:null,concreteType:"SlideMessage",kind:"LinkedField",name:"replied_to_message",plural:!1,selections:[c,{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[le,o],storageKey:null},a,o,u,i,s,l,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"content",plural:!1,selections:[d,m,p,C,R,T,$,P,N,M,w,X,Y,J,te,ne,re,oe],storageKey:null},ae,ie],storageKey:null},{alias:null,args:null,concreteType:"SlideUser",kind:"LinkedField",name:"sender",plural:!1,selections:[le,o,{alias:null,args:null,kind:"ScalarField",name:"igid",storageKey:null},{alias:null,args:null,concreteType:"XDTUserDict",kind:"LinkedField",name:"user_dict",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"profile_pic_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"XDTRelationshipInfoDict",kind:"LinkedField",name:"friendship_status",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"blocking",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_restricted",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"interop_messaging_user_fbid",storageKey:null},o,{alias:null,args:null,kind:"ScalarField",name:"ai_agent_type",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"XFBSlideMessageEdit",kind:"LinkedField",name:"slide_edit_history",plural:!0,selections:[d,{alias:null,args:null,kind:"ScalarField",name:"body",storageKey:null},i],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"igd_wearables_attribution_type",storageKey:null},{kind:"ClientExtension",selections:[se]}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null},se]}],storageKey:null}]},params:{id:n("IGDCreateSlideMessageUpdateQuery_instagramRelayOperation"),metadata:{},name:"IGDCreateSlideMessageUpdateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("IGDCreateSlideMessage_SlideMessage.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"enable_off_msys_messages_list"}],kind:"Fragment",metadata:null,name:"IGDCreateSlideMessage_SlideMessage",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"sender_fbid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offline_threading_id",storageKey:null},{args:null,kind:"FragmentSpread",name:"IGDThreadLatestMessageSnippet_SlideMessage"},{args:null,kind:"FragmentSpread",name:"XFBIGDirectViewerThreadUnreadMessagesCountResolver_SlideMessage"},{condition:"enable_off_msys_messages_list",kind:"Condition",passingValue:!0,selections:[{fragment:{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"IGDMessageListRowOffMsys_SlideMessage"}],type:"SlideMessage",abstractKey:null},kind:"AliasedInlineFragmentSpread",name:"message_list_slide_message"}]},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"client__timestamp_ms",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"client__send_status",storageKey:null}]}],type:"SlideMessage",abstractKey:null};a.exports=e}),null);
__d("IGDCreateSlideMessage",["IGDCreateSlideMessageUpdateQuery.graphql","IGDCreateSlideMessage_SlideMessage.graphql","qex","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;e!==void 0||(e=n("IGDCreateSlideMessage_SlideMessage.graphql"));var u=s!==void 0?s:s=n("IGDCreateSlideMessageUpdateQuery.graphql");function c(e,t,n){var a=o("relay-runtime").createOperationDescriptor(u,{enable_off_msys_messages_list:r("qex")._("2197"),id:t});e.commitPayload(a,{fetch__SlideMessage:babelHelpers.extends({},n)})}l.createSlideMessageRecord=c}),98);
__d("IGDDisappearingMessagesStrings",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e="https://help.instagram.com/491565145294150/",u=s._(/*BTDS*/"Disappearing messages and calls are secured with end-to-end encryption.");l.LEARN_MORE_LINK=e,l.DM_SECURITY_NOTICE=u}),226);
__d("IGDGetMessagePluginInfo",["IGDInstamadilloUtils","LSIntEnum","LSPendingTasksPluginType","isInstamadillo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n){return t?u(e,t):n()}async function u(t,n){if(!r("isInstamadillo")())return{openEb:!1,pluginType:void 0};var a=await t.messages.index("messageId").get(n.messageId);if(!o("IGDInstamadilloUtils").isInstamadilloMessage(a))return{openEb:!1,pluginType:void 0};var i=await t.e2ee_igMessageAuxiliaryInfo.get(n.messageId),l=!!(i!=null&&i.openEb);return{openEb:l,pluginType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO)}}l.IGDGetMessagePluginInfo=s}),98);
__d("IGDGetSlideMessage",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"SlideMessage:"+e}function l(t,n){return t.get(e(n))}i.GetSlideMessageDataID=e,i.GetSlideMessageNullable=l}),66);
__d("IGDGetThread",[],(function(t,n,r,o,a,i){"use strict";function e(e){return"SlideThread:"+e}function l(e){return"XFBIGDirectViewerThread:"+e}function s(t,n){return t.get(e(n))}function u(e,t){return e.get(l(t))}i.GetSlideThreadDataID=e,i.GetXFBIGDirectViewerThreadDataID=l,i.getSlideThreadNullable=s,i.getIGDirectViewerThreadNullable=u}),66);
__d("IGDInboxSlideMessagesConnection",["CometRelay","FBLogger","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDInbox__slide_messages";function s(t){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t),e)}function u(t){var n=o("CometRelay").ConnectionHandler.getConnection(t,e);return n==null&&r("FBLogger")("igd_web").warn("IGDInboxSlideMessagesConnection: Messages connection record is null"),n}l.IGD_INBOX_SLIDE_MESSAGES_CONNECTION_KEY=e,l.getConnectionID=s,l.getConnectionNullable=u}),98);
__d("IGDInsertSlideMessageToMessagesConnection",["CometRelay","FBLogger","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=t.get(n);if(i==null)return r("FBLogger")("igd_web").WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["IGDInsertSlideMessageToMessagesConnection: "," record doesn't exist"])),n),o("WAResultOrError").makeResult("skip");o("CometRelay").ConnectionHandler.deleteNode(i,a.getDataID());var l=o("CometRelay").ConnectionHandler.createEdge(t,i,a,"XFBIGDirectViewerThreadSlideMessagesEdge");return o("CometRelay").ConnectionHandler.insertEdgeBefore(i,l),o("WAResultOrError").makeResult("success")}l.default=s}),98);
__d("IGDMessagesListSlideMessagesConnection",["CometRelay","FBLogger","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";var e="IGDMessagesList_slide_messages";function s(t){return o("CometRelay").ConnectionHandler.getConnectionID(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t),e)}function u(t){var n=o("CometRelay").ConnectionHandler.getConnection(t,e);return n==null&&r("FBLogger")("igd_web").warn("IGDMessagesListSlideMessagesConnection: Messages connection record is null"),n}l.IGD_MESSAGES_LIST_SLIDE_MESSAGES_CONNECTION_KEY=e,l.getConnectionID=s,l.getConnectionNullable=u}),98);
__d("IGDSlideBumpThread",["IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var r=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t));r==null||r.setValue(n,"last_activity_timestamp_ms")}l.default=e}),98);
__d("IGDSlideUpdateReadReceipt",["CometRelay","IGDGetThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r){var a,i=e.get(o("IGDGetThread").GetXFBIGDirectViewerThreadDataID(t)),l=(a=i==null?void 0:i.getLinkedRecords("slide_read_receipts"))!=null?a:[],s=l.find(function(e){return(e==null?void 0:e.getValue("participant_fbid"))===n});if(s==null){var u=e.create(o("CometRelay").generateUniqueClientID(),"XFBSlideReadReceipt");u.setValue(n,"participant_fbid"),u.setValue(r,"watermark_timestamp_ms"),i==null||i.setLinkedRecords([].concat(l,[u]),"slide_read_receipts");return}if(s.getValue("watermark_timestamp_ms")==null)s.setValue(r,"watermark_timestamp_ms");else{var c=s.getValue("watermark_timestamp_ms"),d=parseInt(c,10),m=parseInt(r,10);m>d&&s.setValue(r,"watermark_timestamp_ms")}}l.default=e}),98);
__d("IGDInsertSlideMessage",["IGDCreateSlideMessage","IGDGetSlideMessage","IGDInboxSlideMessagesConnection","IGDInsertSlideMessageToMessagesConnection","IGDMessagesListSlideMessagesConnection","IGDSlideBumpThread","IGDSlideUpdateReadReceipt","WAResultOrError"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){o("IGDCreateSlideMessage").createSlideMessageRecord(e,n.id,n);var i=o("WAResultOrError").makeResult("skip");return e.commitUpdate(function(e){var l=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n.id);l!=null&&(i=r("IGDInsertSlideMessageToMessagesConnection")(e,t,l),r("IGDSlideUpdateReadReceipt")(e,n.thread_fbid,n.sender_fbid,n.timestamp_ms),a==null||a(e))}),i}function s(e,t,n){var o=u(e,t,function(e){r("IGDSlideBumpThread")(e,t.thread_fbid,t.timestamp_ms),n==null||n(e)});return o}function u(t,n,r){var a=o("IGDInboxSlideMessagesConnection").getConnectionID(n.thread_fbid);return e(t,a,n,r)}function c(t,n,r){var a=o("IGDMessagesListSlideMessagesConnection").getConnectionID(n.thread_fbid);return e(t,a,n,r)}l.IGDInsertSlideMessageToInbox=s,l.IGDInsertSlideMessageToInboxWithoutBumpThread=u,l.IGDInsertSlideMessageToMessagesList=c}),98);
__d("IGDMaybeSetRepliedToMessage",["IGDGetSlideMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){e.commitUpdate(function(e){var r=o("IGDGetSlideMessage").GetSlideMessageNullable(e,t),a=o("IGDGetSlideMessage").GetSlideMessageNullable(e,n);a!=null&&(r==null||r.setLinkedRecord(a,"replied_to_message"))})}l.default=e}),98);
__d("IGDReplyContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useCallback,p=u.useContext,_=u.useMemo,f=u.useState,g=d({clearReply:r("emptyFunction"),setReply:r("emptyFunction")}),h=d();function y(e){var t=e.children,n=f(void 0),r=n[0],o=n[1],a=m(function(){r!=null&&o()},[r,o]),i=_(function(){return{clearReply:a,setReply:o}},[a,o]);return c.jsx(h.Provider,{value:r,children:c.jsx(g.Provider,{value:i,children:t})})}y.displayName=y.name+" [from "+i.id+"]";function C(){return p(h)}function b(){return p(g)}l.IGDReplySetterContext=g,l.IGDReplyContext=h,l.IGDReplyContextProvider=y,l.useIGDReplyContext=C,l.useIGDReplySetterContext=b}),98);
__d("IGDThreadListNewMessageLoggingDataContext",["react","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c("");function _(e){var t=e.children,n=d(p),o=m(function(){return n||r("uuidv4")()},[n]);return s.jsx(p.Provider,{value:o,children:t})}_.displayName=_.name+" [from "+i.id+"]";function f(){var e=d(p);return e||r("uuidv4")()}l.IGDThreadListNewMessageLoggingContextProvider=_,l.useFlowInstanceIdContext=f}),98);
__d("IGDWriteOptimisticRelayMessage",["IGDInsertSlideMessage","IGDMaybeSetRepliedToMessage"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("IGDInsertSlideMessage").IGDInsertSlideMessageToInbox(e,babelHelpers.extends({},t)),o("IGDInsertSlideMessage").IGDInsertSlideMessageToMessagesList(e,babelHelpers.extends({},t)),t.replied_to_message_id!=null&&r("IGDMaybeSetRepliedToMessage")(e,t.id,t.replied_to_message_id),t}l.default=e}),98);
__d("getElementText",["isElementNode","isTextNode"],(function(t,n,r,o,a,i,l){var e=null;function s(t){if(r("isTextNode")(t))return t.data;if(r("isElementNode")(t)){if(e===null){var n=document.createElement("div");e=n.textContent!=null?"textContent":"innerText"}return e==="textContent"?t.textContent||"":t.innerText||""}else return""}l.default=s}),98);
__d("isContentEditable",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t=e;t instanceof HTMLElement;){if(t.contentEditable==="true"||t.contentEditable==="plaintext-only")return!0;t=t.parentElement}return!1}i.default=e}),66);
__d("isElementInteractive",["isContentEditable"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set(["EMBED","INPUT","OBJECT","SELECT","TEXTAREA"]),s=new Set(["button","checkbox","radio","submit"]);function u(t){if(!t instanceof HTMLElement)return!1;var n=r("isContentEditable")(t),o=e.has(t.nodeName),a=t instanceof HTMLInputElement&&s.has(t.type);return(n||o)&&!a}l.default=u}),98);
__d("KeyEventController",["Bootloader","DOMQuery","Event","Run","emptyFunction","getElementText","isContentEditable","isElementInteractive","isEmpty"],(function(t,n,r,o,a,i,l){var e,s,u=null,c={BACKSPACE:[8],TAB:[9],RETURN:[13],ALT:[18],ESCAPE:[27],LEFT:[37,63234],UP:[38,63232],RIGHT:[39,63235],DOWN:[40,63233],NUMPAD_ADD:[43],NUMPAD_SUBSTRACT:[45],DELETE:[46],COMMA:[188],PERIOD:[190],SLASH:[191],"`":[192],"[":[219],"]":[221],PAGE_UP:[33],PAGE_DOWN:[34],END:[35],HOME:[36],SPACE:[32],KP_DOT:[46,110],"-":[189],"=":[187],FORWARD_SLASH:[191]},d=(e={},e[8]=1,e[9]=1,e[13]=1,e[27]=1,e[32]=1,e[37]=1,e[63234]=1,e[38]=1,e[63232]=1,e[39]=1,e[63235]=1,e[40]=1,e[63233]=1,e[46]=1,e),m=(function(){function e(){var e=this;this.handlers={},["keyup","keydown","keypress"].forEach(function(t){return document.addEventListener(t,e.onkeyevent.bind(e,"on"+t))})}var t=e.prototype;return t.mapKey=function(t){var e=t;if(/^[0-9]$/.test(e+""))return typeof e!="number"&&(e=e.charCodeAt(0)-48),[48+e,96+e];e+="";var n=c[e.toUpperCase()];return n||[e.toUpperCase().charCodeAt(0)]},t.onkeyevent=function(t,n){var e=n;e=r("Event").$E(e);var o=this.handlers[e.keyCode]||this.handlers[e.which];if(o){for(var a=function(){var n=o[l].callback,a=o[l].filter;try{if(!a||a(e,t)){var i=n(e,t),s=e.which||e.keyCode;if(r("Bootloader").loadModules(["KeyEventTypedLogger"],function(t){new t().setAction("key_shortcut").setKey(e.key||"").setKeyChar(String.fromCharCode(s)).setKeyCode(s).addToExtraData("is_trusted",e.isTrusted).log()},"KeyEventController"),i===!1)return{v:r("Event").kill(e)}}}catch(e){}},i,l=0;l<o.length;l++)if(i=a(),i)return i.v}return!0},t.resetHandlers=function(){for(var e in this.handlers)if(Object.prototype.hasOwnProperty.call(this.handlers,e)){var t=this.handlers[e].filter(function(e){return e.preserve()});t.length?this.handlers[e]=t:delete this.handlers[e]}},e.getInstance=function(){return u||(u=new e)},e.defaultFilter=function(n,o){var t=r("Event").$E(n);return e.filterEventTypes(t,o)&&e.filterEventTargets(t,o)&&e.filterEventModifiers(t,o)},e.filterEventTypes=function(t,n){return n==="onkeydown"},e.filterEventTargets=function(t,n){var e=t.getTarget();return!r("isElementInteractive")(e)||t.keyCode in d&&(o("DOMQuery").isNodeOfType(e,["input","textarea"])&&e.value.length===0||r("isContentEditable")(e)&&r("getElementText")(e).length===0)},e.filterEventModifiers=function(t,n){return!(t.ctrlKey||t.altKey||t.metaKey||t.repeat)},e.registerKeyAcrossTransitions=function(n,o,a,i){return a===void 0&&(a=e.defaultFilter),i===void 0&&(i=!1),e.registerKey(n,o,a,i,r("emptyFunction").thatReturnsTrue)},e.registerKey=function(n,a,i,l,u){i===void 0&&(i=e.defaultFilter),l===void 0&&(l=!1),u===void 0&&(u=r("emptyFunction").thatReturnsFalse);var t=n,c=e.getInstance(),d=t==null?[]:c.mapKey(t);(s||(s=r("isEmpty")))(c.handlers)&&o("Run").onLeave(c.resetHandlers.bind(c));for(var m={},p=0;p<d.length;p++){t=""+d[p],(!c.handlers[t]||l)&&(c.handlers[t]=[]);var _={callback:a,filter:i,preserve:u};m[t]=_,c.handlers[t].push(_)}return{remove:function(){for(var e in m){if(c.handlers[e]&&c.handlers[e].length){var t=c.handlers[e].indexOf(m[e]);t>=0&&c.handlers[e].splice(t,1)}delete m[e]}}}},e.registerKeyForButtonCallback=function(n,r){return e.registerKey(n,function(){return r.click(),!1})},e})();l.default=m}),98);
__d("KeyStatus",["Event","ExecutionEnvironment"],(function(t,n,r,o,a,i,l){var e,s=null,u=null;function c(){u||(u=r("Event").listen(window,"blur",function(){s=null,d()}))}function d(){u&&(u.remove(),u=null)}function m(e){s=r("Event").getKeyCode(e),c()}function p(){s=null,d()}if((e||(e=r("ExecutionEnvironment"))).canUseDOM){var _=document.documentElement;if(_){if(_.addEventListener)_.addEventListener("keydown",m,!0),_.addEventListener("keyup",p,!0);else if(_.attachEvent){var f=_.attachEvent;f("onkeydown",m),f("onkeyup",p)}}}function g(){return!!s}function h(){return s}l.isKeyDown=g,l.getKeyDownCode=h}),98);
__d("LSCTAIconType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,FB:1,FB_ALWAYS_WHITE:2,DOTS_THREE_HORIZONTAL:3,CHEVRON_DOWN:4,FB_INFO_SMALL:5,CAMERA:6,CIRCLED_X:7,PENCIL:8,META_HORIZON:9,WHATSAPP:10,PHONE:11});i.default=e}),66);
__d("LSCommunityInviteStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({ADDED_BUT_UNCONFIRMED:5,IN_COMMUNITY:0,INVITED:1,REQUEST_PENDING:2,UNENGAGED_MEMBER:4,UNREQUESTED:3});i.default=e}),66);
__d("LSCustomUpdateMuteManagement",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(o){return r[1]=new t.Map,r[1].set("game_id",e[1]),r[1].set("muted_user_id",e[0]),r[1].set("owner_id",r[0]),r[1].set("user_action_type",e[2]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"instant_game_custom_update_mute_management",t.i64.cast([0,759]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxCustomUpdateMuteManagementStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSCustomUpdateMuteManagementStoredProcedure",["LSCustomUpdateMuteManagement","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSCustomUpdateMuteManagement"),a.mutedUserId,a.gameId,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchMessageSeenCount",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_id",e[0]),r[0].set("message_id",e[1]),r[1]=r[0].get("thread_id"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["cm_message_seen_count",t.i64.to_string(r[1])].join(""),t.i64.cast([0,540]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxFetchMessageSeenCountStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSFetchMessageSeenCountStoredProcedure",["LSFetchMessageSeenCount","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchMessageSeenCount"),a.threadKey,a.messageId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssueReactionsV2DetailsUsersListFetch",["LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.filter(t.db.table(243).fetch([[[e[0],e[1]]]]),function(n){return t.i64.eq(e[0],n.threadId)&&e[1]===n.messageId&&t.i64.eq(e[2],n.reactionFbid)}).next().then(function(n,r){var o=n.done,a=n.value;return o?t.db.table(243).add({threadId:e[0],messageId:e[1],reactionFbid:t.i64.cast([0,0]),minTimestampMs:t.i64.cast([2147483647,4294967295]),hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!0,maxTimestampMs:t.i64.cast([2147483647,4294967295]),nextPageCursor:""}):(r=a.item,t.forEach(t.db.table(243).fetch([[[r.threadId,r.messageId,r.reactionFbid,r.minTimestampMs]]]),function(e){var t=e.update,n=e.item;return t({isLoadingBefore:!0})}))})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[1]=r[5])})},function(o){return r[3]=new t.Map,r[3].set("thread_id",e[0]),r[3].set("message_id",e[1]),r[3].set("reaction_fbid",e[2]),r[3].set("cursor",e[3]),r[3].set("sync_group",r[1]),r[4]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"fetch_reactions_v2_details_users_list",t.i64.cast([0,577]),r[4],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssueReactionsV2DetailsUsersListFetchStoredProcedure",e.__tables__=["reactions_v2_details_ranges_v2__generated","threads"],a.exports=e}),null);
__d("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure",["LSIssueReactionsV2DetailsUsersListFetch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssueReactionsV2DetailsUsersListFetch"),a.threadId,a.messageId,a.reactionFbid,a.nextPageCursor);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMailboxAIBotFeedbackSubmissionStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,SUBMITTED:1});i.default=e}),66);
__d("LSSetClientCTAType",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.forEach(t.db.table(19).fetch([[[e[0]]]]),function(t){var n=t.update,r=t.item;return n({type_:e[1]})})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetClientCTATypeStoredProcedure",e.__tables__=["attachment_ctas"],a.exports=e}),null);
__d("LSMarkAsX",["LSIssueNewTask","LSSetClientCTAType"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(r){return t.storedProcedure(n("LSSetClientCTAType"),e[0],"xma_disabled_cta")},function(o){return r[0]=new t.Map,r[0].set("cta_id",e[0]),r[0].set("order_id",e[1]),r[0].set("cta_type",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"p2m_mark_as_x",t.i64.cast([0,808]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxMarkAsXStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSMarkAsXStoredProcedure",["LSMarkAsX","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSMarkAsX"),a.ctaId,a.orderId,a.ctaType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMediaUrlAttachmentItem",["LSMediaUrlUtils","vulture"],(function(t,n,r,o,a,i,l){"use strict";function e(e){r("vulture")("uoYhLHcbUMMW6Lg6shRx3z81Vh4=");var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrl}function s(e){var t=e.previewUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.previewUrlFallback:e.previewUrlLarge}function u(e){var t=e.playableUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.playableUrlFallback:e.playableUrl}function c(e){var t=e.faviconUrlExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.faviconUrlFallback:e.faviconUrl}l.previewUrl=e,l.previewUrlLarge=s,l.playableUrl=u,l.faviconUrl=c}),98);
__d("LSMessageHiddenState",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_HIDDEN:0,POST_SEND_FRICTION:1,HIDDEN_REPORTED:2});i.default=e}),66);
__d("LSOptimisticProcessMarketplaceCallFunctionCTA",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[5]=n.syncGroup,t.i64.neq(r[5],void 0)?r[4]=r[5]:r[4]=t.i64.cast([0,1]),r[0]=r[4])})},function(o){return r[2]=new t.Map,r[2].set("action_type",e[4]),r[2].set("attachment_fbid",e[2]),r[2].set("message_id",e[0]),r[2].set("target_id",e[3]),r[2].set("thread_key",e[1]),r[2].set("sync_group",r[0]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"process_marketplace_xma_cta",t.i64.cast([0,185]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure",["LSOptimisticProcessMarketplaceCallFunctionCTA","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticProcessMarketplaceCallFunctionCTA"),a.messageId,a.threadKey,a.attachmentFbid,a.targetId,a.actionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPresenceStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({OFFLINE:1,ACTIVE:2});i.default=e}),66);
__d("LSUpdateBotSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"game_messenger_updates_management_xmat",t.i64.cast([0,755]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateBotSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateBotSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateBotSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateBotSubscription"),a.threadKey,a.userActionType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSUpdateHorizonWorldsUpdateSubscription",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[0].set("user_action_type",e[1]),r[0].set("world_id",e[2]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"horizontal_worlds_update_subscription_management",t.i64.cast([0,905]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure",["LSSynchronousPromise","LSUpdateHorizonWorldsUpdateSubscription","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSUpdateHorizonWorldsUpdateSubscription"),a.threadKey,a.actionType,a.worldId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSVerifiedType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NOT_VERIFIED:0,DEFAULT:1,VERIFIED_FOOTER:2,VERIFIED_HEADER_TITLE_ONLY:3,VERIFIED_CONTENT_TITLE_ONLY:4});i.default=e}),66);
__d("ReactDOM_DEPRECATED",["ReactDOMCompatibilityLayer","cr:1293","err","setupReactRefresh"],(function(t,n,r,o,a,i,l){var e;n("setupReactRefresh");function s(){throw r("err")("This React API is not available on Workplace.")}var u=(e=n("cr:1293").findDOMNode)!=null?e:s;l.findDOMNode_DEPRECATED=u,l.render_DEPRECATED=o("ReactDOMCompatibilityLayer").render_DEPRECATED,l.unmountComponentAtNode_DEPRECATED=o("ReactDOMCompatibilityLayer").unmountComponentAtNode_DEPRECATED}),98);
__d("isValidReactElement",[],(function(t,n,r,o,a,i){var e=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.transitional.element")||60103;function l(t){return typeof t=="object"&&t!==null&&t.$$typeof===e}i.default=l}),66);
__d("Layer",["invariant","ArbiterMixin","BehaviorsMixin","CSS","ContextualThing","DOM","DataStore","Event","FBLogger","HTML","KeyEventController","KeyStatus","Parent","ReactDOM_DEPRECATED","Style","ge","isNode","isValidReactElement","mixin","react","removeFromArray","setImmediate"],(function(t,n,r,o,a,i,l,s){var e,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useLayoutEffect;n("KeyStatus");var m=[],p=(function(e){function t(t,n){var o;if(o=e.call(this)||this,o._config=t||{},n){o._configure(o._config,n);var a=o._config.addedBehaviors||[];o.enableBehaviors(o._getDefaultBehaviors().concat(a))}else r("FBLogger")("layer").warn("The markup param wasn't provided to the Layer constructor");return o}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.init=function(t){this._configure(this._config,t);var e=this._config.addedBehaviors||[];return this.enableBehaviors(this._getDefaultBehaviors().concat(e)),this._initialized=!0,this},n._configure=function(t,n){var e=this;if(n){var a=r("isNode")(n),i=typeof n=="string"||r("HTML").isHTML(n);if(this.containsReactComponent=r("isValidReactElement")(n),!a&&!i&&!this.containsReactComponent&&r("FBLogger")("layer").warn("Layer must be init with HTML, DOM node or React instance"),i)n=r("HTML")(n).getRootNode();else if(this.containsReactComponent){var l=document.createElement("div");g(n,l,function(){e.inform("reactshow"),e.updatePosition()}),n=this._reactContainer=l}}this._root=this._buildWrapper(t,n),t.attributes&&r("DOM").setAttributes(this._root,t.attributes),t.classNames&&t.classNames.forEach(o("CSS").addClass.bind(null,this._root)),o("CSS").addClass(this._root,"uiLayer"),t.causalElement!=null&&(this._causalElement=r("ge")(t.causalElement)),t.permanent&&(this._permanent=t.permanent),t.isStrictlyControlled&&(this._isStrictlyControlled=t.isStrictlyControlled),o("DataStore").set(this._root,"layer",this)},n._getDefaultBehaviors=function(){return[]},n.getCausalElement=function(){return this._causalElement},n.setCausalElement=function(t){return this._causalElement=t,this},n.getInsertParent=function(){return this._insertParent||document.body},n.hasWash=function(){return!0},n.getRoot=function(){return this._root||(this._destroyed?r("FBLogger")("layer").warn("No root node for this Layer. It has either not yet been set or the Layer has been destroyed.  This layer has been destroyed."):r("FBLogger")("layer").warn("No root node for this Layer. It has probably not been set.")),this._root},n.getContentRoot=function(){return this.getRoot()},n._buildWrapper=function(t,n){return n},n.setInsertParent=function(t){return t&&(this._shown&&t!==this.getInsertParent()&&(r("DOM").appendContent(t,this.getRoot()),this.updatePosition()),this._insertParent=t),this},n.showAfterDelay=function(t){var e=this;window.setTimeout(function(){return e.show()},t)},n.show=function(){var e=this;if(this._shown)return this;var n=this.getRoot();return n!=null||s(0,5142),this.inform("beforeshow"),r("Style").set(n,"visibility","hidden"),r("Style").set(n,"overflow","hidden"),o("CSS").show(n),r("DOM").appendContent(this.getInsertParent(),n),this.updatePosition()!==!1?(this._shown=!0,this.inform("show"),t.inform("show",this),this._permanent||window.setTimeout(function(){e._shown&&m.push(e)},0)):o("CSS").hide(n),r("Style").set(n,"visibility",""),r("Style").set(n,"overflow",""),r("Style").set(n,"opacity","1"),this.inform("aftershow"),this},n.hide=function(t){return this._isStrictlyControlled?(this._shown&&this.inform("runhide",t),this):this._hide()},n._hide=function(){return this._hiding||!this._shown||this.inform("beforehide")===!1?this:(this._hiding=!0,this.inform("starthide")!==!1&&this.finishHide(),this)},n.conditionShow=function(t){return t?this.show():this._hide()},n.finishHide=function(){if(this._shown){this._permanent||r("removeFromArray")(m,this),this._hiding=!1,this._shown=!1;var e=this.getRoot();e!=null||s(0,5143),o("CSS").hide(e),this.inform("hide"),t.inform("hide",this)}},n.isShown=function(){return this._shown},n.updatePosition=function(){return!0},n.destroy=function(){this.containsReactComponent&&o("ReactDOM_DEPRECATED").unmountComponentAtNode_DEPRECATED(this._reactContainer),this.finishHide();var e=this.getRoot();r("DOM").remove(e),this.destroyBehaviors(),this.inform("destroy"),t.inform("destroy",this),o("DataStore").remove(e,"layer"),this._root=this._causalElement=null,this._destroyed=!0},t.init=function(t,n){t.init(n)},t.initAndShow=function(t,n){t.init(n).show()},t.show=function(t){t.show()},t.showAfterDelay=function(t,n){t.showAfterDelay(n)},t.getTopmostLayer=function(){return m[m.length-1]},t.informBlur=function(t){_=null,f=null;var e=m.length;if(e)for(;e--;){var n=m[e],r=n.getContentRoot();if(r!=null||s(0,5144),o("ContextualThing").containsIncludingLayers(r,t)||n.inform("blur",{target:t})===!1||n.isShown())return}},t})(r("mixin")(r("ArbiterMixin"),r("BehaviorsMixin")));Object.assign(p,r("ArbiterMixin")),Object.assign(p.prototype,{_destroyed:!1,_initialized:!1,_root:null,_shown:!1,_hiding:!1,_causalElement:null,_reactContainer:null}),r("Event").listen(document.documentElement,"keydown",function(e){if(r("KeyEventController").filterEventTargets(e,"keydown")){for(var t=m.length-1;t>=0;t--)if(m[t].inform("key",e)===!1)return!1}return!0},r("Event").Priority.URGENT);var _;r("Event").listen(document.documentElement,"mousedown",function(e){_=e.getTarget()});var f;r("Event").listen(document.documentElement,"mouseup",function(e){f=e.getTarget(),r("setImmediate")(function(){_=null,f=null})}),r("Event").listen(document.documentElement,"click",function(e){var t=_,n=f;_=null,f=null;var a=m.length;if(a){var i=e.getTarget();i!==n||i!==t||r("DOM").contains(document.documentElement,i)&&(i.offsetWidth!=null&&!i.offsetWidth||o("Parent").byClass(i,"generic_dialog")||p.informBlur(i))}});function g(e,t,n){r("setImmediate")(function(){o("ReactDOM_DEPRECATED").render_DEPRECATED(c.jsx(h,{onRender:n,children:e}),t)})}function h(e){var t=e.children,n=e.onRender;return d(function(){n()},[n]),t}h.displayName=h.name+" [from "+i.id+"]",l.default=p}),98);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n)r.append("v",_e);throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<4ba13524308c1dd46ac5b44adf0aeab2>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalContentEditable.prod",["LexicalComposerContext","LexicalText","LexicalUtils","react"],(function $module_LexicalContentEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["editor","ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaErrorMessage","ariaExpanded","ariaInvalid","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"],_excluded2=["placeholder"];var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react")),a=_require_closure_react;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function o(_ref,q){var e=_ref.editor,i=_ref.ariaActiveDescendant,r=_ref.ariaAutoComplete,o=_ref.ariaControls,l=_ref.ariaDescribedBy,s=_ref.ariaErrorMessage,d=_ref.ariaExpanded,u=_ref.ariaInvalid,c=_ref.ariaLabel,f=_ref.ariaLabelledBy,b=_ref.ariaMultiline,m=_ref.ariaOwns,x=_ref.ariaRequired,E=_ref.autoCapitalize,p=_ref.className,C=_ref.id,_ref$role=_ref.role,v=_ref$role===void 0?"textbox":_ref$role,_ref$spellCheck=_ref.spellCheck,w=_ref$spellCheck===void 0?!0:_ref$spellCheck,y=_ref.style,L=_ref.tabIndex,g=_ref["data-testid"],h=babelHelpers.objectWithoutPropertiesLoose(_ref,_excluded);var _t$useState=t.useState(e.isEditable()),R=_t$useState[0],j=_t$useState[1],S=t.useCallback(function(t){t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null);},[e]),D=t.useMemo(function(){return function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(t){for(var _a of e)"function"==typeof _a?_a(t):null!=_a&&(_a.current=t);};}(q,S);},[S,q]);return n(function(){return j(e.isEditable()),e.registerEditableListener(function(e){j(e);});},[e]),a.jsx("div",babelHelpers["extends"]({"aria-activedescendant":R?i:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?o:void 0,"aria-describedby":l},null!=s?{"aria-errormessage":s}:{},{"aria-expanded":R&&"combobox"===v?!!d:void 0},null!=u?{"aria-invalid":u}:{},{"aria-label":c,"aria-labelledby":f,"aria-multiline":b,"aria-owns":R?m:void 0,"aria-readonly":!R||void 0,"aria-required":x,autoCapitalize:E,className:p,contentEditable:R,"data-testid":g,id:C,ref:D,role:v,spellCheck:w,style:y,tabIndex:L},h));}var l=t.forwardRef(o);function s(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}var d=t.forwardRef(u);function u(t,i){var r=t.placeholder,n=babelHelpers.objectWithoutPropertiesLoose(t,_excluded2),_e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer[0];return a.jsxs(a.Fragment,{children:[a.jsx(l,babelHelpers["extends"]({editor:o},n,{ref:i})),null!=r&&a.jsx(c,{editor:o,content:r})]});}function c(_ref2){var e=_ref2.content,i=_ref2.editor;var o=function(e){var _t$useState3=t.useState(function(){return s(e);}),a=_t$useState3[0],i=_t$useState3[1];return n(function(){function t(){var t=s(e);i(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),a;}(i),_t$useState2=t.useState(i.isEditable()),l=_t$useState2[0],d=_t$useState2[1];if(t.useLayoutEffect(function(){return d(i.isEditable()),i.registerEditableListener(function(e){d(e);});},[i]),!o)return null;var u=null;return"function"==typeof e?u=e(l):null!==e&&(u=e),null===u?null:a.jsx("div",{"aria-hidden":!0,children:u});}exports.ContentEditable=d,exports.ContentEditableElement=l;}),null);
__d("LexicalDragon",["cr:2903"],(function(t,n,r,o,a,i){a.exports=n("cr:2903")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d590ff2ad017346a92057f379cd1818d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react")),e=_require_closure_react;var t=r.createContext(null),o={didCatch:!1,error:null};var _s4=function(_r$Component){function s(r){var _this;_this=_r$Component.call(this,r)||this,_this.resetErrorBoundary=_this.resetErrorBoundary.bind(babelHelpers.assertThisInitialized(_this)),_this.state=o;return _this;}babelHelpers.inheritsLoose(s,_r$Component);s.getDerivedStateFromError=function getDerivedStateFromError(r){return{didCatch:!0,error:r};};var _proto=s.prototype;_proto.resetErrorBoundary=function resetErrorBoundary(){var r=this.state.error;if(null!==r){for(var e,t,_s=arguments.length,n=new Array(_s),i=0;i<_s;i++)n[i]=arguments[i];null===(e=(t=this.props).onReset)||void 0===e||e.call(t,{args:n,reason:"imperative-api"}),this.setState(o);}};_proto.componentDidCatch=function componentDidCatch(r,e){var t,o;null===(t=(o=this.props).onError)||void 0===t||t.call(o,r,e);};_proto.componentDidUpdate=function componentDidUpdate(r,e){var t=this.state.didCatch,_s2=this.props.resetKeys;var n,i;t&&null!==e.error&&function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return r.length!==e.length||r.some(function(r,t){return!Object.is(r,e[t]);});}(r.resetKeys,_s2)&&(null===(n=(i=this.props).onReset)||void 0===n||n.call(i,{next:_s2,prev:r.resetKeys,reason:"keys"}),this.setState(o));};_proto.render=function render(){var _this$props=this.props,e=_this$props.children,o=_this$props.fallbackRender,_s3=_this$props.FallbackComponent,n=_this$props.fallback,_this$state=this.state,i=_this$state.didCatch,a=_this$state.error;var l=e;if(i){var _e={error:a,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof o)l=o(_e);else if(_s3)l=r.createElement(_s3,_e);else{if(void 0===n)throw a;l=n;}}return r.createElement(t.Provider,{value:{didCatch:i,error:a,resetErrorBoundary:this.resetErrorBoundary}},l);};return s;}(r.Component);exports.LexicalErrorBoundary=function(_ref){var r=_ref.children,t=_ref.onError;return e.jsx(_s4,{fallback:e.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:r});};}),null);
__d("LexicalExtension",["cr:13727"],(function(t,n,r,o,a,i){a.exports=n("cr:13727")}),null);
__d("LexicalHistory",["cr:2904"],(function(t,n,r,o,a,i){a.exports=n("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<a4e75d98d5c200f319ab621ceecc265d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react"));exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState,exports.HistoryPlugin=function(_ref){var o=_ref.delay,s=_ref.externalHistoryState;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0];return function(e,o,s){if(s===void 0){s=1e3;}var i=r.useMemo(function(){return o||require("LexicalHistory").createEmptyHistoryState();},[o]);r.useEffect(function(){return require("LexicalHistory").registerHistory(e,i,s);},[s,e,i]);}(i,s,o),null;};}),null);
__d("LexicalPlainText",["cr:2909"],(function(t,n,r,o,a,i){a.exports=n("cr:2909")}),null);
__d("LexicalPlainTextPlugin",["cr:739"],(function(t,n,r,o,a,i){a.exports=n("cr:739")}),null);
__d("LexicalReactProviderExtension",["cr:13740"],(function(t,n,r,o,a,i){a.exports=n("cr:13740")}),null);
__d("useLexicalEditable",["cr:4793"],(function(t,n,r,o,a,i){a.exports=n("cr:4793")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<b71013edf6ac0a7d06f41d04de6a60eb>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalExtension","LexicalPlainText","LexicalReactProviderExtension","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),c=_require_closure_react;function d(e){var t=new URL("https://lexical.dev/docs/error"),n=new URLSearchParams();n.append("code",e);for(var _len=arguments.length,r=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){r[_key-1]=arguments[_key];}for(var _e of r)n.append("v",_e);throw t.search=n.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var x="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function f(_ref){var e=_ref.editor,r=_ref.ErrorBoundary;return function(e,r){var _o$useState=o.useState(function(){return e.getDecorators();}),t=_o$useState[0],n=_o$useState[1];return x(function(){return e.registerDecoratorListener(function(e){require("ReactDOM").flushSync(function(){n(e);});});},[e]),o.useEffect(function(){n(e.getDecorators());},[e]),o.useMemo(function(){var n=[],a=Object.keys(t);for(var _s=0;_s<a.length;_s++){var _u=a[_s],_l=c.jsx(r,{onError:function onError(r){return e._onError(r);},children:c.jsx(o.Suspense,{fallback:null,children:t[_u]})}),_d=e.getElementByKey(_u);null!==_d&&n.push(require("ReactDOM").createPortal(_l,_d,_u));}return n;},[r,t,e]);}(e,r);}function E(_ref2){var e=_ref2.editor,r=_ref2.ErrorBoundary;return function(e){var r=require("LexicalExtension").LexicalBuilder.maybeFromEditor(e);if(r&&r.hasExtensionByName(require("LexicalReactProviderExtension").ReactProviderExtension.name)){for(var _e2 of["LexicalPlainText","LexicalRichText"])r.hasExtensionByName(_e2)&&d(320,_e2);return!0;}return!1;}(e)?null:c.jsx(f,{editor:e,ErrorBoundary:r});}function g(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}function m(_ref3){var t=_ref3.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),n=_e$useLexicalComposer[0],i=function(e){var _o$useState2=o.useState(function(){return g(e);}),r=_o$useState2[0],t=_o$useState2[1];return x(function(){function r(){var r=g(e);t(r);}return r(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){r();}),e.registerEditableListener(function(){r();}));},[e]),r;}(n),c=require("useLexicalEditable").useLexicalEditable();return i?"function"==typeof t?t(c):t:null;}exports.PlainTextPlugin=function(_ref4){var r=_ref4.contentEditable,_ref4$placeholder=_ref4.placeholder,t=_ref4$placeholder===void 0?null:_ref4$placeholder,n=_ref4.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer2[0];return function(e){x(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(e),require("LexicalDragon").registerDragonSupport(e));},[e]);}(o),c.jsxs(c.Fragment,{children:[r,c.jsx(m,{content:t}),c.jsx(E,{editor:o,ErrorBoundary:n})]});};}),null);
__d("LexicalSelection",["cr:2180"],(function(t,n,r,o,a,i){a.exports=n("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<4867f46b255f5037c82d07c3d39f114c>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)r.append("v",_e);throw n.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=r&&"documentMode"in document?document.documentMode:null,i=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!r||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),a=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=r&&/Android/.test(navigator.userAgent),d=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=r&&u&&d,p=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&i&&!d;function f(e){return e+"px";}var m={attributes:!0,characterData:!0,childList:!0,subtree:!0};function h(r,o,i){var s=null,l=null,a=null,c=[];var u=document.createElement("div");function d(){null===s&&n(182),null===l&&n(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(r,o);var g,p;u.isConnected||(p=u,(g=l).insertBefore(p,g.firstChild));var m=!1;for(var _t=0;_t<d.length;_t++){var _n=d[_t],_r=c[_t]||document.createElement("div"),_o=_r.style;"absolute"!==_o.position&&(_o.position="absolute",m=!0);var _i=f(_n.left-e);_o.left!==_i&&(_o.left=_i,m=!0);var _s=f(_n.top-a);_o.top!==_s&&(_r.style.top=_s,m=!0);var _l=f(_n.width);_o.width!==_l&&(_r.style.width=_l,m=!0);var _g=f(_n.height);_o.height!==_g&&(_r.style.height=_g,m=!0),_r.parentNode!==u&&(u.append(_r),m=!0),c[_t]=_r;}for(;c.length>d.length;)c.pop();m&&i(c);}function g(){l=null,s=null,null!==a&&a.disconnect(),a=null,u.remove();for(var _e2 of c)_e2.remove();c=[];}u.style.position="relative";var p=r.registerRootListener(function t(){var n=r.getRootElement();if(null===n)return g();var o=n.parentElement;if(!require("Lexical").isHTMLElement(o))return g();g(),s=n,l=o,a=new MutationObserver(function(e){var n=r.getRootElement(),o=n&&n.parentElement;if(n!==s||o!==l)return t();for(var _t2 of e)if(!u.contains(_t2.target))return d();}),a.observe(o,m),d();});return function(){p(),g();};}function $(t,n,r){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e3=n.getDOMSlot(r);return[_e3.element,_e3.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(r)||r,t.offset];}function x(t,n){var r=null,o=null,i=null,s=null,l=null,a=null,c=function c(){};function u(u){u.read(function(){var u=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(u))return r=null,i=null,s=null,a=null,c(),void(c=function c(){});var _ref=function(e){var t=e.getStartEndPoints();return e.isBackward()?[t[1],t[0]]:t;}(u),d=_ref[0],g=_ref[1],p=d.getNode(),m=p.getKey(),x=d.offset,C=g.getNode(),S=C.getKey(),E=g.offset,v=t.getElementByKey(m),N=t.getElementByKey(S),w=null===r||v!==o||x!==i||m!==r.getKey(),A=null===s||N!==l||E!==a||S!==s.getKey();if((w||A)&&null!==v&&null!==N){var _e4=function(e,t,n,r,o,i,s){var l=(e._window?e._window.document:document).createRange();return l.setStart.apply(l,$(t,n,r)),l.setEnd.apply(l,$(o,i,s)),l;}(t,d,p,v,g,C,N);c(),c=h(t,_e4,function(e){if(void 0===n)for(var _t3 of e){var _e5=_t3.style;"Highlight"!==_e5.background&&(_e5.background="Highlight"),"HighlightText"!==_e5.color&&(_e5.color="HighlightText"),_e5.marginTop!==f(-1.5)&&(_e5.marginTop=f(-1.5)),_e5.paddingTop!==f(4)&&(_e5.paddingTop=f(4)),_e5.paddingBottom!==f(0)&&(_e5.paddingBottom=f(0));}else n(e);});}r=p,o=v,i=x,s=C,l=N,a=E;});}return u(t.getEditorState()),require("Lexical").mergeRegister(t.registerUpdateListener(function(_ref2){var e=_ref2.editorState;return u(e);}),function(){c();});}var C=l,S=r,E=u,v=g,N=i,w=p,A=d,b=s,y=c,P=a;function R(e,t){for(var _n2 of t)if(e.type.startsWith(_n2))return!0;return!1;}function I(e,t){return T("next",e,t);}function O(t,n){var r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,n));return r&&r[0];}function T(t,n,r){var o=require("Lexical").$getRoot(),i=n||o,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=M(i),a=r?require("Lexical").$getAdjacentChildCaret(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(r,t)))||O(r,t):O(i,t);var c=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:c,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&c++;var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(t);return!n||n[0].isSameNodeCaret(a)?null:(c+=n[1],n[0]);}});}function M(e){var t=-1;for(var _n3=e;null!==_n3;_n3=_n3.getParent())t++;return t;}function L(e,t){return T("previous",e,t);}function _(t,r,o){var i=require("Lexical").$getCaretInDirection(r,"next");for(var _t4=i;_t4;_t4=require("Lexical").$splitAtPointCaretNext(_t4,o))i=_t4;return require("Lexical").$isTextPointCaret(i)&&n(283),i.insert(t.isInline()?require("Lexical").$createParagraphNode().append(t):t),require("Lexical").$getCaretInDirection(require("Lexical").$getSiblingCaret(t.getLatest(),"next"),r.direction);}var D=!(b||!S)&&void 0;function F(t,n,r){var o=!1;var _loop=function _loop(_i2){n(_i2)?null!==r&&r(_i2):(o=!0,require("Lexical").$isElementNode(_i2)&&F(_i2,n,r||function(e){return _i2.insertAfter(e);}),_i2.remove());};for(var _i2 of B(t)){_loop(_i2);}return o;}function B(t){return j(require("Lexical").$getChildCaret(t,"previous"));}function j(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}exports.$findMatchingParent=require("Lexical").$findMatchingParent,exports.$getAdjacentSiblingOrParentSiblingCaret=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret,exports.$splitNode=require("Lexical").$splitNode,exports.addClassNamesToElement=require("Lexical").addClassNamesToElement,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.mergeRegister=require("Lexical").mergeRegister,exports.removeClassNamesFromElement=require("Lexical").removeClassNamesFromElement,exports.$descendantsMatching=function(t,n){var r=[],o=Array.from(t).reverse();for(var _t5=o.pop();void 0!==_t5;_t5=o.pop())if(n(_t5))r.push(_t5);else if(require("Lexical").$isElementNode(_t5))for(var _e6 of B(_t5))o.push(_e6);return r;},exports.$dfs=function(e,t){return Array.from(I(e,t));},exports.$dfsIterator=I,exports.$filter=function(e,t){var n=[];for(var _r2=0;_r2<e.length;_r2++){var _o2=t(e[_r2]);null!==_o2&&n.push(_o2);}return n;},exports.$firstToLastIterator=function(t){return j(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getDepth=M,exports.$getNearestBlockElementAncestorOrThrow=function(t){var r=require("Lexical").$findMatchingParent(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(r)||n(4,t.__key),r;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(n,"root");return r&&r[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();var r;if(require("Lexical").$isRangeSelection(n))r=require("Lexical").$caretFromPoint(n.focus,"next");else{if(null!=n){var _t6=n.getNodes(),_o3=_t6[_t6.length-1];_o3&&(r=require("Lexical").$getSiblingCaret(_o3,"next"));}r=r||require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"previous").getFlipped().insert(require("Lexical").$createParagraphNode());}var o=_(t,r),i=require("Lexical").$getAdjacentChildCaret(o),s=require("Lexical").$isChildCaret(i)?require("Lexical").$normalizeCaret(i):o;return require("Lexical").$setSelectionFromCaretRange(require("Lexical").$getCollapsedCaretRange(s)),t.getLatest();},exports.$insertNodeToNearestRootAtCaret=_,exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=B,exports.$restoreEditorState=function(t,n){var r=new Map(),o=t._pendingEditorState;for(var _ref4 of n._nodeMap){var _t7=_ref4[0];var _o4=_ref4[1];r.set(_t7,require("Lexical").$cloneWithProperties(_o4));}o&&(o._nodeMap=r),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(L(e,t));},exports.$reverseDfsIterator=L,exports.$unwrapAndFilterDescendants=function(e,t){return F(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=C,exports.CAN_USE_DOM=S,exports.IS_ANDROID=E,exports.IS_ANDROID_CHROME=v,exports.IS_APPLE=N,exports.IS_APPLE_WEBKIT=w,exports.IS_CHROME=A,exports.IS_FIREFOX=b,exports.IS_IOS=y,exports.IS_SAFARI=P,exports.calculateZoomLevel=function(e,t){if(t===void 0){t=!1;}var n=1;if(function(){if(void 0===D){var _e7=document.createElement("div");_e7.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e7);var _t8=_e7.getBoundingClientRect();_e7.style.setProperty("zoom","2"),D=_e7.getBoundingClientRect().width===_t8.width,document.body.removeChild(_e7);}return D;}()||t)for(;e;)n*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return n;},exports.isMimeType=R,exports.makeStateWrapper=function(t){var n=function n(_n4){return require("Lexical").$getState(_n4,t);},r=function r(n,_r3){return require("Lexical").$setState(n,t,_r3);};return{$get:n,$set:r,accessors:[n,r],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return r(this,e);};},stateConfig:t};},exports.markSelection=x,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,r){var o=[],_i3=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(o);var a=new FileReader();a.addEventListener("error",r),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&o.push({file:l,result:e}),_i3();}),R(l,t)?a.readAsDataURL(l):_i3();};_i3();});},exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=h,exports.registerNestedElementResolver=function(e,t,n,r){var o=function o(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e8=0;_e8<t.length;_e8++){var _n5=t[_e8];if(o(_n5))return null;}var n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),o(n))return{child:r,parent:n};return null;}(e);if(null!==t){var _o5=t.child,_i4=t.parent;if(_o5.is(e)){r(_i4,e);var _t9=_o5.getNextSiblings(),_s2=_t9.length;if(_i4.insertAfter(_o5),0!==_s2){var _e9=n(_i4);_o5.insertAfter(_e9);for(var _n6=0;_n6<_s2;_n6++)_e9.append(_t9[_n6]);}_i4.canBeEmpty()||0!==_i4.getChildrenSize()||_i4.remove();}}});},exports.selectionAlwaysOnDisplay=function(e,t){var n=null;var r=function r(){var r=getSelection(),o=r&&r.anchorNode,i=e.getRootElement();null!==o&&null!==i&&i.contains(o)?null!==n&&(n(),n=null):null===n&&(n=x(e,t));};return document.addEventListener("selectionchange",r),function(){null!==n&&n(),document.removeEventListener("selectionchange",r);};};}),null);
__d("LsDidTapCallToActionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743852"),s=o("FalcoLoggerInternal").create("ls_did_tap_call_to_action",e),u=s;l.default=u}),98);
__d("MAWAttachmentSizeUtils",["I64","MWMessageListImageSizingUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=200;function u(t){var n=t.previewHeight!=null?(e||(e=o("I64"))).to_float(t.previewHeight):t.previewHeightLarge!=null?(e||(e=o("I64"))).to_float(t.previewHeightLarge):void 0,r=t.previewWidth!=null?(e||(e=o("I64"))).to_float(t.previewWidth):t.previewWidthLarge!=null?(e||(e=o("I64"))).to_float(t.previewWidthLarge):void 0;return{height:n,width:r}}function c(e,t,n,r){var o=e.height,a=e.width,i=d(n.gifPlayback===!0,r,t!=null?t:"ChatTab",o),l=Math.min(a!=null?a:480,t==="Inbox"?500:167);return{maxHeight:i,maxWidth:l}}function d(e,t,n,r){return e?o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(t,n,!1).maxHeight:Math.min(r!=null?r:s,s)}l.getSizeFromAttachment=u,l.getMaxSizeForVideo=c,l.getMaxHeightForVideo=d}),98);
__d("MAWEphemeralMessageTimer.react",["fbt","I64","MAWEphemeralConsts","MWXText.react","ScreenReaderText.react","WATimeUtils","react","react-compiler-runtime","setTimeout"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useState;function _(e){return e<o("MAWEphemeralConsts").oneMinuteInSeconds?s._(/*BTDS*/"{seconds}",[s._param("seconds",String(e).concat("s"))]):e<o("MAWEphemeralConsts").oneHourInSeconds?s._(/*BTDS*/"{minutes}",[s._param("minutes",String(Math.floor(e/o("MAWEphemeralConsts").oneMinuteInSeconds)).concat("m"))]):e<o("MAWEphemeralConsts").oneDayInSeconds?s._(/*BTDS*/"{hours}",[s._param("hours",String(Math.floor(e/o("MAWEphemeralConsts").oneHourInSeconds)).concat("h"))]):s._(/*BTDS*/"{days}",[s._param("days",String(Math.floor(e/o("MAWEphemeralConsts").oneDayInSeconds)).concat("d"))])}function f(e,t){var n=(u||(u=o("I64"))).to_int32(u.sub(e,u.of_float(o("WATimeUtils").unixTime())));return t!=null&&n>(u||(u=o("I64"))).to_int32(t)?(u||(u=o("I64"))).to_int32(t):n}function g(e){var t=o("react-compiler-runtime").c(17),n=e.ephemeralDurationInSec,a=e.expirationTimestamp,i=e.handleMessageExpired,l;t[0]!==n||t[1]!==a?(l=function(){return f(a,n)},t[0]=n,t[1]=a,t[2]=l):l=t[2];var u=p(l),d=u[0],g=u[1],h,y;t[3]!==d?(y=_(d),h=s._(/*BTDS*/"Message will disappear in: {time}",[s._param("time",y)]),t[3]=d,t[4]=h,t[5]=y):(h=t[4],y=t[5]);var C=h,b;t[6]!==i||t[7]!==d?(b=function(){d>0&&r("setTimeout")(function(){return g(d-1)},o("MAWEphemeralConsts").msPerSec),d===0&&(i==null||i())},t[6]=i,t[7]=d,t[8]=b):b=t[8];var v;t[9]!==a||t[10]!==i||t[11]!==d?(v=[d,a,i],t[9]=a,t[10]=i,t[11]=d,t[12]=v):v=t[12],m(b,v);var S;return t[13]!==C||t[14]!==d||t[15]!==y?(S=d>0?c.jsxs("div",{className:"x2b8uid xbkr7qi",children:[c.jsx(r("ScreenReaderText.react"),{text:C}),c.jsx("div",{"aria-hidden":!0,children:c.jsx(r("MWXText.react"),{testid:void 0,type:"meta1",children:y})})]}):null,t[13]=C,t[14]=d,t[15]=y,t[16]=S):S=t[16],S}l.default=g}),226);
__d("URLScraper",["ArbiterMixin","DataStore","Event","URLMatcher","mixin"],(function(t,n,r,o,a,i,l){var e="scraperLastPermissiveMatch",s=(function(t){function n(e,n){var r;return r=t.call(this)||this,r.input=e,r.enable(),r.getValueFn=n,r}babelHelpers.inheritsLoose(n,t);var a=n.prototype;return a.reset=function(){o("DataStore").set(this.input,e,null)},a.enable=function(){if(!this.events){var e=function(t){window.setTimeout(this.check.bind(this,t),30)};this.events=r("Event").listen(this.input,{paste:e.bind(this,!1),keydown:e.bind(this,!0)})}},a.disable=function(){if(this.events){for(var e in this.events)this.events[e].remove();this.events=null}},a.check=function(r){var t=this.getValueFn?this.getValueFn():this.input.value;if(!(r&&n.trigger(t))){var a=n.match(t),i=o("URLMatcher").permissiveMatch(t);i&&i!=o("DataStore").get(this.input,e)&&(o("DataStore").set(this.input,e,i),this.inform("match",{url:a||i,alt_url:i}))}},n})(r("mixin")(r("ArbiterMixin")));Object.assign(s,o("URLMatcher")),l.default=s}),98);
__d("getURLRanges",["URI","URLScraper","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){for(var n=[],a=0;;){var i=(s||(s=o("UnicodeUtils"))).substr(t,a),l=r("URLScraper").match(i);if(!l||!(e||(e=r("URI"))).isValidURI(l))break;var u=l;/^[a-z][a-z0-9\-+.]+:\/\//i.test(l)||(u="http://"+l);var c=i.indexOf(l),d=s.strlen(i.substr(0,c));a+=d;var m=l.length;n.push({offset:a,length:l.length,entity:{url:u}}),a+=m}return n}l.default=u}),98);
__d("MAWFindFirstUrl",["getURLRanges"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=r("getURLRanges")(e);return t.length===0?[]:t}l.findFirstUrl=e}),98);
__d("MAWIsFBXMA",["LSIntEnum","LSXmaContentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){if(t==null)return!1;switch((e||(e=o("LSIntEnum"))).toNumber(t)){case r("LSXmaContentType").FB_FEED_SHARE:case r("LSXmaContentType").FB_SHORT:case r("LSXmaContentType").MSG_RECEIVER_FETCH:return!0;default:return!1}}l.isFBXMA=s}),98);
__d("MAWIsReceiverFetchXmaInLoadingState",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var r=(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(536870912));return r?(n==null?void 0:n.xmaDataclass)==null:!1}l.isReceiverFetchXmaInLoadingState=u}),98);
__d("MAWIsXMAWithPlaintextHash",["I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?![t.xmaPreviewFbid,t.xmaHeaderImageFbid,t.xmaFaviconFbid].filter(Boolean).every(isFinite):!1}l.isXMAWithPlaintextHash=u}),98);
__d("MAWPreProcessLinkPreviewQPL",["MAWLoggerUtils","QPLUserFlow","justknobx","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(1056840460,"718");function s(t){var n=t.draftId,a=t.url,i=n.concat(a),l=o("MAWLoggerUtils").getInstanceKeyFromId(i),s=r("justknobx")._("2714");return r("QPLUserFlow").start(e,{annotations:{string:{preprocess_type:"link_preview_xma"}},instanceKey:l,timeoutInMs:s}),{addAnnotations:function(n){r("QPLUserFlow").addAnnotations(e,n,{instanceKey:l})},addPoint:function(n,o){r("QPLUserFlow").addPoint(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endCancel:function(n,o){r("QPLUserFlow").endCancel(e,{annotations:n,cancelReason:o,instanceKey:l})},endFail:function(n,o){r("QPLUserFlow").endFailure(e,n,{instanceKey:l}),o!=null&&r("QPLUserFlow").addAnnotations(e,o,{instanceKey:l})},endSuccess:function(){r("QPLUserFlow").endSuccess(e,{instanceKey:l})}}}l.startMediaPreProcessLinkPreviewQpl=s}),98);
__d("MDSLikeSvgIcon.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(13),n=e.alt,r=e.className,a=e.color,i=e.size,l=i===void 0?16:i,c=n!=null,d=u(),m=c?void 0:!0,p=c?d:void 0,_;t[0]!==n||t[1]!==c||t[2]!==d?(_=c&&s.jsx("title",{id:d,children:n}),t[0]=n,t[1]=c,t[2]=d,t[3]=_):_=t[3];var f;t[4]!==a?(f=s.jsx("path",{d:"M10.987 0c1.104 0 3.67.726 3.67 5.149 0 1.232-.123 2.001-.209 2.534a16.11 16.11 0 00-.048.314l-.001.005a.36.36 0 00.362.406c4.399 0 6.748 1.164 6.748 2.353 0 .533-.2 1.02-.527 1.395a.11.11 0 00.023.163 2.13 2.13 0 01.992 1.79c0 .86-.477 1.598-1.215 1.943a.11.11 0 00-.046.157c.207.328.329.713.329 1.128 0 .946-.547 1.741-1.406 2.029a.109.109 0 00-.068.137c.061.184.098.38.098.584 0 1.056-1.776 1.913-5.95 1.913-3.05 0-5.154-.545-5.963-.936-.595-.288-1.276-.81-1.276-2.34v-6.086c0-1.72.958-2.87 1.911-4.014C9.357 7.49 10.3 6.36 10.3 4.681c0-1.34-.091-2.19-.159-2.817-.039-.368-.07-.66-.07-.928 0-.527.385-.934.917-.936zM3.5 11h-2C.5 11 0 13.686 0 17s.5 6 1.5 6h2a1 1 0 001-1V12a1 1 0 00-1-1z",fill:a}),t[4]=a,t[5]=f):f=t[5];var g;return t[6]!==r||t[7]!==l||t[8]!==m||t[9]!==p||t[10]!==_||t[11]!==f?(g=s.jsxs("svg",{"aria-hidden":m,"aria-labelledby":p,className:r,height:l,viewBox:"0 0 22 23",width:l,children:[_,f]}),t[6]=r,t[7]=l,t[8]=m,t[9]=p,t[10]=_,t[11]=f,t[12]=g):g=t[12],g}l.default=c}),98);
__d("MWChatChatButtonColorConstants",[],(function(t,n,r,o,a,i,l){"use strict";var e={fillGrey:{fill:"xsrhx6k",$$css:!0},strokeGrey:{stroke:"x1dmfqyo",$$css:!0}};l.styles=e}),98);
__d("MDSMWChatComposerIcons.react",["MWChatChatButtonColorConstants","react","react-compiler-runtime","stylex","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",marginTop:"x1rdy4ex",marginInlineEnd:"x1lxpwgx",marginBottom:"x4vbgl9",marginInlineStart:"x165d6jo",$$css:!0},moreActionsIcon:{transitionDuration:"x1k90msu",transitionProperty:"x11xpdln",transitionTimingFunction:"x1qfuztq",$$css:!0},notRotated:{transform:"x7p49u4",$$css:!0},rotated:{transform:"x1158fpu",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(7),a=t.fill,i=t.xstyle,l=i===void 0?!1:i;r("vulture")("QDMkYPzQ3uhcd7ELIoowcGIbqbc=");var s;n[0]!==l?(s=(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,l),n[0]=l,n[1]=s):s=n[1];var d;n[2]!==a?(d=u.jsx("path",{clipRule:"evenodd",d:"M6 11a4 4 0 014-4h8c1.067 0 2.035.417 2.753 1.098.517.491 1.151.902 1.866.902H26a4 4 0 014 4v12a4 4 0 01-4 4h-8a3.986 3.986 0 01-2.752-1.098c-.518-.491-1.152-.902-1.866-.902H10a4 4 0 01-4-4V11zm7.865 4.908a1.948 1.948 0 00-1.321-.456c-.461.02-.918.214-1.295.576-.378.363-.65.873-.754 1.457a2.927 2.927 0 00.209 1.708c.236.52.611.915 1.046 1.14a1.87 1.87 0 001.36.152c.454-.122.88-.419 1.195-.868.098-.14.183-.291.253-.451.068-.154-.052-.316-.22-.316H12.85a.85.85 0 010-1.7h2.8c.47 0 .85.38.85.85a4.53 4.53 0 01-.803 2.593c-.527.75-1.277 1.3-2.144 1.534a3.57 3.57 0 01-2.586-.285c-.8-.414-1.43-1.107-1.811-1.947a4.628 4.628 0 01-.335-2.706 4.357 4.357 0 011.25-2.388 3.697 3.697 0 012.398-1.048 3.647 3.647 0 012.472.838.85.85 0 01-1.076 1.317zM22.7 19.6a.25.25 0 01.25-.25h2.75a.85.85 0 000-1.7h-2.75a.25.25 0 01-.25-.25v-1.45a.25.25 0 01.25-.25h3.2a.85.85 0 100-1.7h-4.3a.85.85 0 00-.85.85v6.3a.85.85 0 001.7 0V19.6zm-3.35-4.75a.85.85 0 00-1.7 0v6.3a.85.85 0 001.7 0v-6.3z",fill:a,fillRule:"evenodd"}),n[2]=a,n[3]=d):d=n[3];var m;return n[4]!==s||n[5]!==d?(m=u.jsx("svg",babelHelpers.extends({},s,{height:"28px",viewBox:"0 0 36 36",width:"28px",children:d})),n[4]=s,n[5]=d,n[6]=m):m=n[6],m}function m(t){var n=o("react-compiler-runtime").c(9),a=t.fill,i=t.xstyle,l=i===void 0?!1:i;r("vulture")("vc-rz6yLRQtxvFNylnE8lxPC2AM=");var s;n[0]!==l?(s=(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,l),n[0]=l,n[1]=s):s=n[1];var d,m;n[2]!==a?(d=u.jsx("path",{d:"M8 12a4 4 0 014-4h12a4 4 0 014 4v5a1 1 0 01-1 1h-3a6 6 0 00-6 6v3a1 1 0 01-1 1h-5a4 4 0 01-4-4V12z",fill:a}),m=u.jsx("path",{d:"M20 27c0 .89 1.077 1.33 1.707.7l5.993-5.993c.63-.63.19-1.707-.7-1.707h-3a4 4 0 00-4 4v3z",fill:a}),n[2]=a,n[3]=d,n[4]=m):(d=n[3],m=n[4]);var p;return n[5]!==s||n[6]!==d||n[7]!==m?(p=u.jsxs("svg",babelHelpers.extends({},s,{height:"28px",viewBox:"0 0 36 36",width:"28px",children:[d,m]})),n[5]=s,n[6]=d,n[7]=m,n[8]=p):p=n[8],p}function p(t){var n=o("react-compiler-runtime").c(9),a=t.fill,i=t.xstyle,l=i===void 0?!1:i,s;n[0]!==l?(s=(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,l),n[0]=l,n[1]=s):s=n[1];var d,m;n[2]!==a?(d=u.jsx("path",{d:"M13.5 16.5a2 2 0 100-4 2 2 0 000 4z",fill:a}),m=u.jsx("path",{clipRule:"evenodd",d:"M7 12v12a4 4 0 004 4h14a4 4 0 004-4V12a4 4 0 00-4-4H11a4 4 0 00-4 4zm18-1.5H11A1.5 1.5 0 009.5 12v9.546a.25.25 0 00.375.217L15 18.803a6 6 0 016 0l5.125 2.96a.25.25 0 00.375-.217V12a1.5 1.5 0 00-1.5-1.5z",fill:a,fillRule:"evenodd"}),n[2]=a,n[3]=d,n[4]=m):(d=n[3],m=n[4]);var p;return n[5]!==s||n[6]!==d||n[7]!==m?(p=u.jsxs("svg",babelHelpers.extends({},s,{height:"28px",viewBox:"0 0 36 36",width:"28px",children:[d,m]})),n[5]=s,n[6]=d,n[7]=m,n[8]=p):p=n[8],p}function _(t){var n=o("react-compiler-runtime").c(7),a=t.fill,i=t.isRotated,l=i===void 0?!1:i,s;n[0]!==l?(s=(e||(e=r("stylex"))).props(c.icon,c.moreActionsIcon,o("MWChatChatButtonColorConstants").styles.fillGrey,l?c.rotated:c.notRotated),n[0]=l,n[1]=s):s=n[1];var d;n[2]!==a?(d=u.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-1-16a1 1 0 112 0v3.75c0 .138.112.25.25.25H23a1 1 0 110 2h-3.75a.25.25 0 00-.25.25V23a1 1 0 11-2 0v-3.75a.25.25 0 00-.25-.25H13a1 1 0 110-2h3.75a.25.25 0 00.25-.25V13z",fill:a,fillRule:"evenodd"}),n[2]=a,n[3]=d):d=n[3];var m;return n[4]!==s||n[5]!==d?(m=u.jsx("svg",babelHelpers.extends({},s,{height:"28px",viewBox:"0 0 36 36",width:"28px",children:d})),n[4]=s,n[5]=d,n[6]=m):m=n[6],m}function f(t){var n=o("react-compiler-runtime").c(7),a=t.fill,i=t.xstyle,l=i===void 0?!1:i,s;n[0]!==l?(s=(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,l),n[0]=l,n[1]=s):s=n[1];var d;n[2]!==a?(d=u.jsx("path",{clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-5.25-13c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm7.5 0c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm-7.52 5.464a1 1 0 011.41-.12 5.963 5.963 0 003.856 1.406c1.47 0 2.813-.528 3.856-1.406a1 1 0 111.288 1.53 7.962 7.962 0 01-5.144 1.876 7.962 7.962 0 01-5.144-1.877 1 1 0 01-.121-1.409z",fill:a,fillRule:"evenodd"}),n[2]=a,n[3]=d):d=n[3];var m;return n[4]!==s||n[5]!==d?(m=u.jsx("svg",babelHelpers.extends({},s,{height:"28px",viewBox:"0 0 36 36",width:"28px",children:d})),n[4]=s,n[5]=d,n[6]=m):m=n[6],m}l.Gif=d,l.Sticker=m,l.Photo=p,l.MoreActions=_,l.Emoji=f}),98);
__d("xmaLayouts",[],(function(t,n,r,o,a,i){"use strict";var e={DEFAULT:"default",UNIFIED_LAYOUT:"unifiedLayout"};i.XMA_LAYOUTS=e}),66);
__d("MDSSolidMessageBubble.react",["MWXMessageBubbleCornerStyles.react","XPlatReactEnvironment","react","react-compiler-runtime","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("XPlatReactEnvironment").isWeb(),c={precedes_xma:{boxSizing:"x9f619",maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},precedes_xma_v2_web:{minWidth:"xgqtt45",width:"xnalus7",$$css:!0},precedes_xma_web:{maxWidth:"x16it46q",width:"xh8yej3",$$css:!0}},d={bubble:{color:"x14ctfv",maxWidth:"x13sv91t",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xerhiuh",paddingBottom:"x1pn3fxy",paddingInlineStart:"x10zy8in",paddingInlineEnd:"xm9bcq3",paddingLeft:null,paddingRight:null,position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},bubbleOutline:{outline:"x1k4qllp",$$css:!0},bubbleWeb:{overflowWrap:"x1mzt3pk",wordBreak:"x13faqbe",$$css:!0},clip:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},m={background:{backgroundColor:"x1xr0vuk",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}},p={background:{backgroundColor:"x11jlvup",borderTopColor:"xpmdkuv",borderInlineEndColor:"xrmkrer",borderBottomColor:"x12z03op",borderInlineStartColor:"x9wyiwl",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x12lizq0",borderInlineEndWidth:"x1nrdd72",borderBottomWidth:"x1ybe9c6",borderInlineStartWidth:"xx487zo",$$css:!0},opaque:{backgroundAttachment:"x1nr1p0w",backgroundImage:"xl54vp5",outline:"x1ucz5p",$$css:!0}},_={background:{backgroundColor:"x1m3w7tb",borderTopColor:"x1jm4cbz",borderInlineEndColor:"x114wg8e",borderBottomColor:"xrrpcnn",borderInlineStartColor:"x14rx4xb",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x19livfd",borderInlineEndWidth:"x1h2krnu",borderBottomWidth:"x3p3xfz",borderInlineStartWidth:"xet2kk3",$$css:!0},opaque:{outline:"x1ucz5p",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(22),n=e.align,r=e.children,a=e.color,i=e.connectBottom,l=e.connectTop,f=e.xmaLayout,g=e.xstyle,h=e.precedesXMA,y=e.precedingXmaIsV2,C=e.testid,b=e.flattenCorners,v=e.variant,S=e.isBackgroundTransparent,R=f===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:f,L=y===void 0?!1:y,E=R!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&h===!0,k=b!=null?b:E?"bottom":"none",I;t[0]!==n||t[1]!==i||t[2]!==l||t[3]!==k?(I=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:n,connectBottom:i,connectTop:l,flatten:k}),t[0]=n,t[1]=i,t[2]=l,t[3]=k,t[4]=I):I=t[4];var T=I,D=a==="incoming"?m:a==="outgoing"?p:_,x=L?c.precedes_xma_v2_web:c.precedes_xma_web,$=E&&u&&x,P;t[5]!==$?(P=[d.clip,$],t[5]=$,t[6]=P):P=t[6];var N=C!=null?C:"solid-message-bubble",M=S!==!0&&d.bubbleOutline,w=E&&c.precedes_xma,A=E&&u&&x,F=v==="opaque"&&D.opaque,O;t[7]!==D.background||t[8]!==T||t[9]!==A||t[10]!==F||t[11]!==M||t[12]!==w||t[13]!==g?(O=[d.bubble,M,u&&d.bubbleWeb,w,A,D.background,F,T,g],t[7]=D.background,t[8]=T,t[9]=A,t[10]=F,t[11]=M,t[12]=w,t[13]=g,t[14]=O):O=t[14];var B;t[15]!==r||t[16]!==O||t[17]!==N?(B=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,role:"none",style:O,children:r}),t[15]=r,t[16]=O,t[17]=N,t[18]=B):B=t[18];var W;return t[19]!==B||t[20]!==P?(W=s.jsx(o("react-strict-dom").html.div,{style:P,children:B}),t[19]=B,t[20]=P,t[21]=W):W=t[21],W}l.default=f}),98);
__d("MDSSvgDocumentCompleteIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=s.jsx("path",{clipRule:"evenodd",d:"M18 8c0-.6-.4-1-1-1h-6a2 2 0 00-2 2v18c0 1.1.9 2 2 2h14a2 2 0 002-2V17c0-.6-.4-1-1-1h-4a4 4 0 01-4-4V8zm-6 7c0-.6.4-1 1-1h2a1 1 0 110 2h-2a1 1 0 01-1-1zm1 3.5a1 1 0 100 2h10a1 1 0 100-2H13zm0 4.5a1 1 0 100 2h10a1 1 0 100-2H13z",fillRule:"evenodd"}),a=s.jsx("path",{d:"M22 14h4a1 1 0 00.7-1.7l-5-5A1 1 0 0020 8v4c0 1.1.9 2 2 2z"}),t[0]=n,t[1]=a):(n=t[0],a=t[1]);var i;return t[2]!==e?(i=s.jsxs(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:[n,a]})),t[2]=e,t[3]=i):i=t[3],i}l.default=u}),98);
__d("MLCKeyBindingUtil",["UserAgent"],(function(t,n,r,o,a,i,l){"use strict";var e=r("UserAgent").isPlatform("Mac OS X"),s=String.fromCodePoint(e?8984:8963);function u(t){return t!==null&&(e?t.metaKey:t.ctrlKey)}l.COMMAND_UNICODE=s,l.hasCommandModifier=u}),98);
__d("MessengerPlatformClientTypedLogger",["Banzai","GeneratedLoggerUtils"],(function(t,n,r,o,a,i){"use strict";var e=(function(){function e(){this.$1={}}var t=e.prototype;return t.log=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,n("Banzai").BASIC,t)},t.logVital=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,n("Banzai").VITAL,t)},t.logImmediately=function(t){n("GeneratedLoggerUtils").log("logger:MessengerPlatformClientLoggerConfig",this.$1,{signal:!0},t)},t.clear=function(){return this.$1={},this},t.getData=function(){return babelHelpers.extends({},this.$1)},t.updateData=function(t){return this.$1=babelHelpers.extends({},this.$1,t),this},t.setAppID=function(t){return this.$1.appid=t,this},t.setAppversion=function(t){return this.$1.appversion=t,this},t.setClientUserID=function(t){return this.$1.client_userid=t,this},t.setClienttime=function(t){return this.$1.clienttime=t,this},t.setCountry=function(t){return this.$1.country=t,this},t.setDeviceid=function(t){return this.$1.deviceid=t,this},t.setExtraClientData=function(t){return this.$1.extra_client_data=t,this},t.setIsemployee=function(t){return this.$1.isemployee=t,this},t.setLoggingToken=function(t){return this.$1.logging_token=t,this},t.setName=function(t){return this.$1.name=t,this},t.setRawclienttime=function(t){return this.$1.rawclienttime=t,this},t.setSessionid=function(t){return this.$1.sessionid=t,this},t.setThreadID=function(t){return this.$1.thread_id=t,this},e})(),l={appid:!0,appversion:!0,client_userid:!0,clienttime:!0,country:!0,deviceid:!0,extra_client_data:!0,isemployee:!0,logging_token:!0,name:!0,rawclienttime:!0,sessionid:!0,thread_id:!0};i.default=e}),66);
__d("PopupWindow",["DOMDimensions","DOMQuery","FlowMigrationUtilsForLegacyFiles","Layer","Popup","getViewportDimensions","isFalsey"],(function(t,n,r,o,a,i,l){var e={allowShrink:!0,strategy:"vector",timeout:100,widthElement:null};function s(t){Object.assign(e,t),window.setInterval(u,e.timeout)}function u(){var t=r("getViewportDimensions")(),n=c(),a=r("Layer").getTopmostLayer();if(a){var i,l=(i=a.getRoot())==null?void 0:i.firstChild;l||o("FlowMigrationUtilsForLegacyFiles").invariantViolation("topMostLayer.getRoot().firstChild is null.");var s=o("DOMDimensions").getElementDimensions(l);s.height+=o("DOMDimensions").measureElementBox(l,"height",!0,!0,!0),s.width+=o("DOMDimensions").measureElementBox(l,"width",!0,!0,!0),n.height=Math.max(n.height,s.height),n.width=Math.max(n.width,s.width)}var u=n.height-t.height,d=n.width-t.width;if(d<0&&r("isFalsey")(e.widthElement)&&(d=0),d=d>1?d:0,r("isFalsey")(e.allowShrink)&&u<0&&(u=0),u||d)try{window.console&&window.console.firebug!=null,window.resizeBy(d,u),d&&window.moveBy(d/-2,0)}catch(e){}}function c(){var n=o("DOMDimensions").getDocumentDimensions();if(e.strategy==="offsetHeight"){var a=document.body;if(!a)o("FlowMigrationUtilsForLegacyFiles").invariantViolation("document.body is null.");else{var i;n.height=(i=a.offsetHeight)!=null?i:0}}if(r("isFalsey")(e.widthElement)&&typeof e.widthElement=="string"){var l=o("DOMQuery").scry(document.body,e.widthElement)[0];l&&(n.width=o("DOMDimensions").getElementDimensions(l).width)}var s=t.Dialog;return s&&s.max_bottom&&s.max_bottom>n.height&&(n.height=s.max_bottom),n}function d(e,t,n,r){return o("Popup").open(e,n,t,r)}l._opts=e,l.init=s,l._resizeCheck=u,l._getDocumentSize=c,l.open=d}),98);
__d("XThisControllerNoLongerExistsController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/dcb/tcnle/",{t:{type:"String"}})}),null);
__d("ThisControllerNoLongerExists",["XControllerURIBuilder","XThisControllerNoLongerExistsController","jsRouteBuilder"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,"/dcb/tcnle/",{})||this,n.$XControllerURIBuilderNoOpDead$p_1=t,n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.__validateRequiredParamsExistence=function(){},n.__assertParamExists=function(t){},n.__setParam=function(t,n,r){return this},n.__setParamInt=function(t,n){},n.getRequest_LEGACY_UNTYPED=function(t){return t.setURI(this.getURI())},n.getURI=function(){return r("XThisControllerNoLongerExistsController").getURIBuilder().setString("t",this.$XControllerURIBuilderNoOpDead$p_1).getURI()},n.getLookasideURI=function(){return this.getURI()},t})(r("XControllerURIBuilder"));function s(e){return r("XThisControllerNoLongerExistsController").getURIBuilder().setString("t",e).getURI()}function u(t){return new e(t)}function c(e){var t=r("jsRouteBuilder")("/dcb/tcnle/",{}),n={t:e};return{buildUri:function(){return t.buildUri(n)},buildUriNullable:function(){return t.buildUriNullable(n)},buildURL:function(){return t.buildURL(n)},buildURLStringDEPRECATED:function(){return t.buildURLStringDEPRECATED(n)},getPath:function(){return t.getPath()}}}l.__DEADURI__=s,l.__DEADBUILDER__=u,l.__DEADROUTEBUILDER__=c}),98);
__d("XWebGraphQLMutationController",["XController"],(function(t,n,r,o,a,i){a.exports=n("XController").create("/webgraphql/mutation/",{query_id:{type:"FBID"},variables:{type:"String"},doc_id:{type:"FBID"},legacy_response_format:{type:"Bool",defaultValue:!1}})}),null);
__d("base62",[],(function(t,n,r,o,a,i){"use strict";var e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function l(t){if(!t)return"0";for(var n="";t>0;)n=e[t%62]+n,t=Math.floor(t/62);return n}i.default=l}),66);
__d("WebGraphQLMutationHelper",["CurrentUser","WebGraphQLLegacyHelper","XWebGraphQLMutationController","base62"],(function(t,n,r,o,a,i,l){"use strict";var e=0;function s(t,n){return o("WebGraphQLLegacyHelper").getURI({controller:r("XWebGraphQLMutationController"),docID:t,variables:{input:babelHelpers.extends({client_mutation_id:r("base62")(e++),actor_id:r("CurrentUser").getID()},n)}})}l.getMutationURI=s}),98);
__d("MNCommerceCTAProcessor",["AsyncRequest","CurrentUser","GraphQLMessengerPlatformCtaPostHandlingMutation.graphql","MessengerPlatformClientTypedLogger","PopupWindow","ThisControllerNoLongerExists","WebGraphQLMutationHelper","nullthrows"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){}var t=e.prototype;return t.process=function(t,n){n===void 0&&(n=null);var e=o("PopupWindow").open("",500,1024),a=o("ThisControllerNoLongerExists").__DEADBUILDER__("cqlaolfxv").setString("cta_id",t).setString("message_id",n).getURI();new(r("AsyncRequest"))().setURI(a).setMethod("POST").setHandler(function(t){return e.location=t.payload}).send()},t.postHandle=function(t,n){var e=o("WebGraphQLMutationHelper").getMutationURI(r("nullthrows")(r("GraphQLMessengerPlatformCtaPostHandlingMutation.graphql").params.id),{cta_id:t,message_id:n});new(r("AsyncRequest"))().setURI(e).send()},t.logCTAClick=function(t){var e=t==null?void 0:t.logging_token,n=e!=null?JSON.parse(e).click_source:"UNKNOWN",o={action_id:t==null?void 0:t.id,action_type:t==null?void 0:t.action_type,action_url:(t==null?void 0:t.action_url)!=null?t.action_url:t==null?void 0:t.action_link,click_source:n,page_id:t==null?void 0:t.page_id};new(r("MessengerPlatformClientTypedLogger"))().setClientUserID(r("CurrentUser").getID()).setName("did_tap_call_to_action").setExtraClientData(JSON.stringify(o)).setLoggingToken(e).log()},e})(),s=new e;l.default=s}),98);
__d("MNXMASubtitleDecorationType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,THREADS_ICON:1,FACEBOOK_ICON:2,EXTERNAL_LINK_ICON:3,MESSENGER_ICON:4,INSTAGRAM_ICON:5,OCULUS_ICON:6,WHATSAPP_ICON:7,META_AI:8,META_HORIZON_ICON:9,VIBES_ICON:10});i.default=e}),66);
__d("MWAdminMsgCtaLink.react",["MWXLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["xstyle","children"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a,i,l;n[0]!==t?(l=t.xstyle,a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l):(a=n[1],i=n[2],l=n[3]);var s;n[4]===Symbol.for("react.memo_cache_sentinel")?(s={color:"var(--mwp-primary-theme-color)"},n[4]=s):s=n[4];var c;return n[5]!==a||n[6]!==i||n[7]!==l?(c=u.jsx(r("MWXLink.react"),babelHelpers.extends({style:s,weight_DEPRECATED:"bold",xstyle_DEPRECATED:l},i,{children:a})),n[5]=a,n[6]=i,n[7]=l,n[8]=c):c=n[8],c}l.default=c}),98);
__d("MWAdminTextLayout.react",["CometTextWithEntities.react","LSMessagingThreadTypeUtil","MAWVault","MWChatTextTransform","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n,a,l=o("react-compiler-runtime").c(9),s=t.cta,c=t.message,d=(e||(e=r("useReStore")))(),m=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(d.tables.threads,["threadType"]).getKeyRange(c.threadKey)},[d,c.threadKey],i.id+":29"))==null?void 0:n.threadType,p=m==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(m),_;l[0]!==c.text?(_=c.text==null?null:o("MAWVault").unvault(c.text),l[0]=c.text,l[1]=_):_=l[1];var f=_,g=(a=o("useStringWithSubstitutions").useStringWithSubstitutions(p?f:null,c.threadKey))!=null?a:f;if(g!=null)if(s!=null){var h;l[2]!==g?(h=u.jsx(r("CometTextWithEntities.react"),{text:g,transforms:o("MWChatTextTransform").textTransformsNoVault}),l[2]=g,l[3]=h):h=l[3];var y;return l[4]!==s||l[5]!==h?(y=u.jsxs(u.Fragment,{children:[h," ",s]}),l[4]=s,l[5]=h,l[6]=y):y=l[6],y}else{var C;return l[7]!==g?(C=u.jsx(r("CometTextWithEntities.react"),{text:g,transforms:o("MWChatTextTransform").textTransformsNoVault}),l[7]=g,l[8]=C):C=l[8],C}else return s!=null?s:null}l.default=c}),98);
__d("MWPAudioHighlightStylesHooks",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u={incoming:{backgroundColor:"x1arowe1",opacity:"x1ptxcow",$$css:!0},outgoing:{backgroundColor:"x14hiurz",opacity:"xz5rk10",$$css:!0},root:{transform:"x5i6ehr",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n=e?u.outgoing:u.incoming,r;return t[0]!==n?(r=[u.root,n],t[0]=n,t[1]=r):r=t[1],r}l.useHighlightStyles=c}),98);
__d("MWPAudioPlayerIcons.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M10 25.5v-15a1.5 1.5 0 012.17-1.34l15 7.5a1.5 1.5 0 010 2.68l-15 7.5A1.5 1.5 0 0110 25.5z",fill:n})}),t[0]=n,t[1]=r):r=t[1],r}function c(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("rect",{fill:n,height:"18",rx:"2",width:"18",x:"9",y:"9"})}),t[0]=n,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=e.color,r;return t[0]!==n?(r=s.jsx("svg",{"aria-hidden":!0,height:"24px",viewBox:"0 0 36 36",width:"24px",children:s.jsx("path",{d:"M11 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4zM21 8.5c-.83 0-1.5.67-1.5 1.5v16c0 .83.67 1.5 1.5 1.5h4c.83 0 1.5-.67 1.5-1.5V10c0-.83-.67-1.5-1.5-1.5h-4z",fill:n})}),t[0]=n,t[1]=r):r=t[1],r}l.PlayIcon=u,l.StopIcon=c,l.PauseIcon=d}),98);
__d("MWPAudioPlaybackIcon.react",["MWPAudioPlayerIcons.react","MWPAudioPlayerUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.disabled,r=e.hasEnded,a=e.isPaused,i=e.isPlaying,l=e.outgoing,u=o("MWPAudioPlayerUtils").useShowNewUX(),c=u?l?"var(--always-white)":"var(--progress-ring-neutral-foreground)":l?"var(--chat-outgoing-message-bubble-background-color)":void 0;if(i){var d;return t[0]!==c?(d=s.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:c}),t[0]=c,t[1]=d):d=t[1],d}if(a||r||n){var m;return t[2]!==c?(m=s.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:c}),t[2]=c,t[3]=m):m=t[3],m}return null}l.default=u}),98);
__d("MWPAudioPlayerSharedStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e=44,s={bar:{backgroundColor:"x14hiurz",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},common:{alignItems:"x6s0dn4",alignSelf:"xkh2ocl",backgroundAttachment:"x1nr1p0w",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",outline:"x1k4qllp",$$css:!0},commonIncoming:{backgroundColor:"x1xr0vuk",$$css:!0},commonOutgoing:{backgroundColor:"x11jlvup",$$css:!0},commonOutgoingReply:{backgroundImage:"xl54vp5",$$css:!0},commonReply:{outline:"x1ucz5p",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1iyjqo2",justifyContent:"x1qughib",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},highlight:{height:"x5yr21d",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0},incomingWaveFormStyle:{fill:"x1f9y4dh",$$css:!0},mask:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},outgoingWaveFormStyle:{fill:"xe3v8dz",$$css:!0},playbackButtonContainer:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0},pressable:{alignItems:"x6s0dn4",backgroundColor:"x14hiurz",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xxk0z11",justifyContent:"xl56j7k",minWidth:"xnei2rj",$$css:!0},rightSideBottom:{backgroundColor:"x14hiurz",borderStartStartRadius:"x7deyu6",borderStartEndRadius:"x16vui2w",borderEndEndRadius:"x91akzj",borderEndStartRadius:"x7lp3xy",$$css:!0},rightSideImprove:{marginInlineStart:"x1diwwjn",marginInlineEnd:"xbmvrgn",marginLeft:null,marginRight:null,width:"x1691je0",$$css:!0},rightSideMargin:{marginTop:"x1gslohp",$$css:!0},rightSideTop:{alignItems:"x6s0dn4",color:"x1a3ma36",display:"x78zum5",fontSize:"x1nxh6w3",fontWeight:"x1s688f",height:"xi0exxh",justifyContent:"xl56j7k",marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,position:"x1n2onr6",userSelect:"x87ps6o",width:"x1r9kitl",$$css:!0},scrubber:{alignItems:"x6s0dn4",display:"x78zum5",height:"x5yr21d",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},transparent:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6","::after_borderTopColor":"x14617ij","::after_borderInlineEndColor":"x1sx9lnh","::after_borderBottomColor":"xv84cap","::after_borderInlineStartColor":"x1bbqc8r","::after_borderStartStartRadius":"x1mt5d6h","::after_borderStartEndRadius":"xrbx7q7","::after_borderEndEndRadius":"x1e5em4g","::after_borderEndStartRadius":"x1e0i30a","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x1gnji40","::after_borderInlineEndWidth":"x1k81zwm","::after_borderBottomWidth":"x1ekxc0f","::after_borderInlineStartWidth":"x1tjn1g5","::after_bottom":"x14apmda","::after_content":"x100rkj9","::after_display":"xhkezso","::after_insetInlineEnd":"x1qngrn4","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_insetInlineStart":"x1nalm37","::after_left":null,"::after_right":null,"::after_top":"xso615a",$$css:!0},transparentBar:{backgroundColor:"xjbqb8w",borderStartStartRadius:"x1smtdnd",borderStartEndRadius:"x1ka4vgv",borderEndEndRadius:"xjsu8sy",borderEndStartRadius:"x1aefcx5",boxShadow:"x49dmcg",height:"xn3w4p2",position:"x10l6tqk",top:"xwa60dl",transform:"x1cb1t30",width:"x51ohtg",zIndex:"x1vjfegm",$$css:!0},waveform:{height:"xn3w4p2",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};l.styles=s}),98);
__d("MWPAudioPlayerButtons.react",["MWPAudioPlaybackContext.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a=t.outgoing,i=o("MWPAudioPlayerUtils").useShowNewUX(),l=o("MWPAudioPlaybackContext.react").useMWPAudioPlaybackRate(),s=l[0],c=l[1];if(!i)return null;var d=a?"var(--always-white)":"var(--progress-ring-neutral-foreground)",m;n[0]===Symbol.for("react.memo_cache_sentinel")?(m=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,o("MWPAudioPlayerSharedStyles").styles.rightSideMargin,o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),n[0]=m):m=n[0];var p;n[1]!==d?(p={backgroundColor:"var(--placeholder-text-on-media)",borderRadius:10,color:d},n[1]=d,n[2]=p):p=n[2];var _;n[3]!==s||n[4]!==p?(_=u.jsx("div",{className:m,style:p,children:s}),n[3]=s,n[4]=p,n[5]=_):_=n[5];var f;return n[6]!==c||n[7]!==_?(f=u.jsx(r("MWXPressable.react"),{onPress:c,overlayDisabled:!0,children:_}),n[6]=c,n[7]=_,n[8]=f):f=n[8],f}function d(e){var t=o("react-compiler-runtime").c(9),n=e.disabled,a=e.icon,i=e.label,l=e.onPress,s=o("MWPAudioPlayerUtils").useShowNewUX(),c;t[0]!==s?(c=s?{backgroundColor:"transparent"}:{},t[0]=s,t[1]=c):c=t[1];var d=c,m;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==s||t[7]!==d?(m=u.jsx(r("MWXPressable.react"),{"aria-label":i,disabled:n,onPress:l,overlayDisabled:s,overlayRadius:"50%",style:d,testid:void 0,xstyle:o("MWPAudioPlayerSharedStyles").styles.pressable,children:a}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=s,t[7]=d,t[8]=m):m=t[8],m}l.PlaybackRateButton=c,l.AudioPlayerPlaybackButton=d}),98);
__d("MWPAudioPlayerLabels",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Play"),u=s._(/*BTDS*/"Stop recording"),c=s._(/*BTDS*/"Pause");l.playLabel=e,l.stopLabel=u,l.pauseLabel=c}),226);
__d("MWXIconExclamationMarkCircle",["MWXSvgIcon","SVGIcon","cr:22309","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22309")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconRefreshAlt",["MWXSvgIcon","SVGIcon","cr:22457","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22457")),r("gkx")("23219"));l.default=e}),98);
__d("MWPAudioPlaybackButton.react",["fbt","CometHeroHoldTrigger.react","MWPAudioPlaybackIcon.react","MWPAudioPlayerButtons.react","MWPAudioPlayerLabels","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXSpinner.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(19),a=t.isError,i=t.isLoading,l=t.isRetryableError,u=t.onPress,d=t.scrubberRef,m=t.disabled,p=t.hasEnded,_=t.isPaused,f=t.isPlaying,g=t.outgoing,h=o("MWPAudioPlayerUtils").usePlaybackButtonContainerStyle(),y=o("MWPAudioPlayerUtils").useResetHighlightProgress(d),C=f||_;if(i){var b;n[0]===Symbol.for("react.memo_cache_sentinel")?(b=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.pressable),n[0]=b):b=n[0];var v=C?y:void 0,S,R;n[1]===Symbol.for("react.memo_cache_sentinel")?(S=c.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:16}),R=c.jsx(r("CometHeroHoldTrigger.react"),{description:"MWPAudioPlaybackButton",hold:!0}),n[1]=S,n[2]=R):(S=n[1],R=n[2]);var L;return n[3]!==h||n[4]!==v?(L=c.jsxs("div",{className:b,onMouseMove:v,style:h,children:[S,R]}),n[3]=h,n[4]=v,n[5]=L):L=n[5],L}var E=C?y:void 0,k;n[6]!==m||n[7]!==p||n[8]!==a||n[9]!==_||n[10]!==f||n[11]!==l||n[12]!==u||n[13]!==g?(k=a!==!0?c.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{disabled:m,icon:c.jsx(r("MWPAudioPlaybackIcon.react"),{disabled:m,hasEnded:p,isPaused:_,isPlaying:f,outgoing:g}),label:f?o("MWPAudioPlayerLabels").pauseLabel:o("MWPAudioPlayerLabels").playLabel,onPress:u}):l===!0?c.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Retry"),color:"black",icon:r("MWXIconRefreshAlt"),onPress:u,size:40,type:"normal"}):c.jsx("div",{className:"x6s0dn4 xwcfey6 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 x1vqgdyp xl56j7k x100vrsf",children:c.jsx(r("MWXIconStrict.react"),{color:"black",icon:r("MWXIconExclamationMarkCircle"),size:20})}),n[6]=m,n[7]=p,n[8]=a,n[9]=_,n[10]=f,n[11]=l,n[12]=u,n[13]=g,n[14]=k):k=n[14];var I;return n[15]!==h||n[16]!==E||n[17]!==k?(I=c.jsx("div",{onMouseMove:E,style:h,children:k}),n[15]=h,n[16]=E,n[17]=k,n[18]=I):I=n[18],I}l.default=d}),226);
__d("MWPAudioPlayerContainer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef;function p(t){var n=t.audioEl,a=t.children,i=t.hasScrubber,l=t.mediaRenderQpl,s=t.scrubberRef,c=t.style,p=t.testid,_=t.useCase,f=o("MWPAudioPlayerUtils").useShowNewUX(),g=m(),h=function(t){var e=n.current,r=g.current;e!=null&&r!=null&&Number.isFinite(e.duration)&&(e.currentTime=o("MWPAudioPlayerUtils").getMousePos(t,r)*e.duration)},y=function(t){if(g.current!=null&&s.current!=null)return s.current.updateHighlight(o("MWPAudioPlayerUtils").getMousePos(t,g.current)*100)},C=function(){if(s.current!=null)return s.current.updateHighlight(0)},b=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(_),v=babelHelpers.extends({cursor:i?"pointer":"default",height:b},c),S=i&&!f;return d(function(){l==null||l.addPoint("render-audio-player-container",{bool:{show_new_ux:f},string:{use_case:_===o("MWPAudioPlayerUtils").UseCase.PLAYER?"Player":"Recorder"}})},[l,f,_]),u.jsx(o("MWPAudioPlayerUtils").UseCaseContext.Provider,{value:_,children:u.jsx("div",{className:(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.container),"data-testid":void 0,onClick:S?h:void 0,onMouseLeave:i?C:void 0,onMouseMove:S?y:void 0,ref:g,style:v,children:a})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPAudioPlayerScrubberBar.react",["fbt","MWPAudioPlayerSharedStyles","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=m;function m(t){var n=o("react-compiler-runtime").c(11),a=t.ref,i=t.xPosition,l=t.currentTime,u=t.duration,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Audio scrubber"),n[0]=d):d=n[0];var m;n[1]!==l?(m=(e||(e=r("stylex")))(l===0?o("MWPAudioPlayerSharedStyles").styles.transparentBar:o("MWPAudioPlayerSharedStyles").styles.bar),n[1]=l,n[2]=m):m=n[2];var p=i.toFixed(2)+"%",_;n[3]!==p?(_={left:p},n[3]=p,n[4]=_):_=n[4];var f;return n[5]!==l||n[6]!==u||n[7]!==a||n[8]!==m||n[9]!==_?(f=c.jsx("div",{"aria-label":d,"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":l,className:m,ref:a,role:"slider",style:_}),n[5]=l,n[6]=u,n[7]=a,n[8]=m,n[9]=_,n[10]=f):f=n[10],f}var p=d;l.default=p}),226);
__d("MWChatRecorderUtils",["DateConsts"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.reduce(function(e,t){return e+t.length},0)}function s(t){var n=e(t),r=new Float32Array(n);return t.reduce(function(e,t){return r.set(t,e),e+t.length},0),r}function u(t,n){var r=e([t,n]);return new Float32Array(r).map(function(e,r){var o=Math.floor(r/2);return r%2===0?t[o]:n[o]})}function c(e,t,n){n.forEach(function(n,r){var o=Math.max(-1,Math.min(1,n)),a=t+(r<<1),i=o<0?Math.abs(o)*-32768:Math.abs(o)*32767;e.setInt16(a,i,!0)})}function d(e,t,n){Array.from(n).forEach(function(r,o){var a=n.charCodeAt(o);e.setUint8(t+o,a)})}function m(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=r.length,a=o<<1,i=new ArrayBuffer(44+a),l=new DataView(i);return d(l,0,"RIFF"),l.setUint32(4,36+a,!0),d(l,8,"WAVE"),d(l,12,"fmt "),l.setUint32(16,16,!0),l.setUint16(20,1,!0),l.setUint16(22,t,!0),l.setUint32(24,n,!0),l.setUint32(28,n*t*2,!0),l.setUint16(32,t*2,!0),l.setUint16(34,16,!0),d(l,36,"data"),l.setUint32(40,a,!0),c(l,44,r),l}function p(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,o=m({numberOfChannels:t,sampleRate:n,samples:r}),a=new Date().getTime(),i=Math.round(_({numberOfChannels:t,sampleRate:n,samples:r})*1e3);return new File([o],"audioclip-"+a+"-"+i+".wav",{type:"audio/wav"})}function _(e){var t=e.numberOfChannels,n=e.sampleRate,r=e.samples,a=Float32Array.BYTES_PER_ELEMENT,i=r.byteLength/a/t;return i/n%o("DateConsts").SEC_PER_MIN}function f(e,t,n){return e+(t-e)*n}function g(e,t){var n=new Array(Math.ceil(t));if(t===0||e.length===0)return n;if(t===e.length)return Array.from(e);if(e.length===1)return n.fill(e[0]);n[0]=e[0];for(var r=(e.length-1)/(t-1),o=1;o<t;o++){var a=o*r,i=Math.floor(a),l=Math.ceil(a),s=a-i;n[o]=f(e[i],e[l],s)}return t>=2&&(n[n.length-1]=e[e.length-1]),n}function h(e,t,n){var r=Math.min.apply(Math,e),o=Math.max.apply(Math,e),a=o-r,i=n-t;return e.map(function(e){return(e-r)/a*i+t})}l.getTotalBuffersLen=e,l.flattenBuffer=s,l.interleave=u,l.exportWAV=p,l.getAudioDuration=_,l.computeWaveformAmplitudes=g,l.linearConversion=h}),98);
__d("MWPAudioPlayerWaveform.react",["MWChatRecorderUtils","MWPAudioPlayerSharedStyles","react","react-compiler-runtime","stylex","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e=["disabled","hasEnded","isPlaying","outgoing","scrubberLeft"],s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useLayoutEffect,_=d.useMemo,f=d.useRef,g=d.useState,h=Float32Array.of(.5,.1875,.375,.75,.5,1,1,.75,.25,.375,.75,1,1,.5,.75,1,.75,.75,.5,.25,.25,.375,.5,1,.75,.5,.5,.75,.25,.5,.75,1,.5,.25,.75),y=3,C=3,b=44,v=4;function S(e,t){var n=o("react-compiler-runtime").c(6),r;e:{if(e==null||e===""||e==="0,0"){r=h;break e}var a;n[0]!==e?(a=Float32Array.from(e.split(",").map(Number)),n[0]=e,n[1]=a):a=n[1],r=a}var i=r,l;e:{if(t<=0||i.length===0){var s;n[2]===Symbol.for("react.memo_cache_sentinel")?(s=[],n[2]=s):s=n[2],l=s;break e}var u=Math.floor(t/(C*2)),c;if(n[3]!==u||n[4]!==i){var d=o("MWChatRecorderUtils").linearConversion(o("MWChatRecorderUtils").computeWaveformAmplitudes(i,u),v,b);c=d.map(R),n[3]=u,n[4]=i,n[5]=c}else c=n[5];l=c}return l}function R(e,t){var n=Math.ceil(e),r=t*C*2,o="calc(50% - "+n/2+"px)";return{height:n,rx:y,width:C,x:r,y:o}}function L(t){var n=o("react-compiler-runtime").c(22),a,i,l,u,d,m;n[0]!==t?(u=t.disabled,d=t.hasEnded,m=t.isPlaying,a=t.outgoing,l=t.scrubberLeft,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=u,n[5]=d,n[6]=m):(a=n[1],i=n[2],l=n[3],u=n[4],d=n[5],m=n[6]);var _=u===void 0?!1:u,h=d===void 0?!1:d,y=m===void 0?!1:m,C=f(null),b=g("auto"),v=b[0],S=b[1],R,L;n[7]!==_||n[8]!==h||n[9]!==y||n[10]!==a||n[11]!==l?(R=function(){var e=C.current;S(function(){if(_)return"var(--disabled-button-text)";var t="auto";if((h||y)&&(t=a===!0?"var(--non-media-pressed-on-dark)":"var(--secondary-button-background-on-dark)"),e==null)return t;var n=e.getBoundingClientRect(),r=n.left;return l>r?a===!0?"var(--always-white)":"var(--progress-ring-neutral-foreground)":t})},L=[_,h,y,a,l],n[7]=_,n[8]=h,n[9]=y,n[10]=a,n[11]=l,n[12]=R,n[13]=L):(R=n[12],L=n[13]),p(R,L);var E;n[14]!==a?(E=(s||(s=r("stylex")))(a===!0?o("MWPAudioPlayerSharedStyles").styles.outgoingWaveFormStyle:o("MWPAudioPlayerSharedStyles").styles.incomingWaveFormStyle),n[14]=a,n[15]=E):E=n[15];var k=E,I;n[16]!==v?(I={fill:v},n[16]=v,n[17]=I):I=n[17];var T;return n[18]!==k||n[19]!==i||n[20]!==I?(T=c.jsx("rect",babelHelpers.extends({},i,{className:k,ref:C,style:I})),n[18]=k,n[19]=i,n[20]=I,n[21]=T):T=n[21],T}function E(e){var t=o("react-compiler-runtime").c(24),n=e.disabled,a=e.hasEnded,i=e.isListened,l=e.isPlaying,u=e.outgoing,d=e.scrubberLeft,m=e.waveformData,p=a===!0||i===!0,_=g(0),f=_[0],h=_[1],y;t[0]===Symbol.for("react.memo_cache_sentinel")?(y=function(t){h(t.width)},t[0]=y):y=t[0];var C=y,b=r("useResizeObserver")(C),v=S(m,f);if(v.length===0){var R;t[1]===Symbol.for("react.memo_cache_sentinel")?(R=(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),t[1]=R):R=t[1];var E;return t[2]!==b?(E=c.jsx("div",babelHelpers.extends({},R,{ref:b})),t[2]=b,t[3]=E):E=t[3],E}var k;t[4]===Symbol.for("react.memo_cache_sentinel")?(k=(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.waveform),t[4]=k):k=t[4];var I;t[5]===Symbol.for("react.memo_cache_sentinel")?(I=(s||(s=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.mask),t[5]=I):I=t[5];var T;if(t[6]!==v||t[7]!==n||t[8]!==l||t[9]!==p||t[10]!==u||t[11]!==d){var D;t[13]!==n||t[14]!==l||t[15]!==p||t[16]!==u||t[17]!==d?(D=function(t,r){return c.createElement(L,babelHelpers.extends({},t,{disabled:n,hasEnded:p,isPlaying:l,key:r,outgoing:u,scrubberLeft:d}))},t[13]=n,t[14]=l,t[15]=p,t[16]=u,t[17]=d,t[18]=D):D=t[18],T=v.map(D),t[6]=v,t[7]=n,t[8]=l,t[9]=p,t[10]=u,t[11]=d,t[12]=T}else T=t[12];var x;t[19]!==T?(x=c.jsx("svg",babelHelpers.extends({"aria-hidden":!0},I,{children:T})),t[19]=T,t[20]=x):x=t[20];var $;return t[21]!==b||t[22]!==x?($=c.jsx("div",babelHelpers.extends({},k,{ref:b,children:x})),t[21]=b,t[22]=x,t[23]=$):$=t[23],$}l.default=E}),98);
__d("MWPAudioPlayerHighlight.react",["fbt","MWAudioInteractionQpl","MWPAudioPlayerScrubberBar.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","MWPAudioPlayerWaveform.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useImperativeHandle,p=d.useLayoutEffect,_=d.useRef,f=d.useState;function g(t){var n,a,i,l,u=t.attachmentId,d=t.audioEl,g=t.children,y=t.disabled,C=t.duration,b=t.hasEnded,v=t.isListened,S=t.isPlaying,R=S===void 0?!0:S,L=t.isSecure,E=t.onUpdateScrubber,k=t.outgoing,I=t.ref,T=t.waveformData,D=t.xstyle,x=o("MWPAudioPlayerUtils").useShowNewUX(),$=_(),P=_(),N=f(0),M=N[0],w=N[1],A=f(0),F=A[0],O=A[1];p(function(){if((d==null?void 0:d.current)!=null&&P.current!=null&&C!=null&&C>0){var e=d.current.currentTime,t=P.current;O(h(t,e/C*100))}},[d,C]),m(I,function(){return{updateHighlight:function(t){var e=$.current,n=P.current;if(e!=null)if(x){if(n!=null){var r=h(n,t);O(r)}}else e.style.transform="translateX("+(t-100).toFixed(1)+"%)"}}},[x]);var B=function(t){if($.current!=null){var e,n,r,a,i=o("MWAudioInteractionQpl").startAudioInteraction("scrub",{attachmentId:u,hasWaveform:T!=null,isSecure:L}),l=(e=$.current)==null?void 0:e.getBoundingClientRect(),s=(n=l==null?void 0:l.left)!=null?n:0,c=t.clientX-s,d=(r=(a=$.current)==null?void 0:a.offsetWidth)!=null?r:0;if(w(c/d*100),C!=null&&C>0){var m=o("MWPAudioPlayerUtils").getMousePos(t,$.current)*C;if(E!=null&&P.current!=null){var p=P.current;E(m),O(h(p,m/C*100))}}o("MWAudioInteractionQpl").endAudioInteractionSuccess(i)}},W=Math.floor((n=d==null||(a=d.current)==null?void 0:a.currentTime)!=null?n:0);if(x){var q,U;return c.jsxs(c.Fragment,{children:[g,c.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,o("MWPAudioPlayerSharedStyles").styles.scrubber),{onMouseDownCapture:B,ref:$,children:[c.jsx(r("MWPAudioPlayerScrubberBar.react"),{currentTime:W,duration:(q=d==null||(U=d.current)==null?void 0:U.duration)!=null?q:0,ref:P,xPosition:M}),c.jsx(r("MWPAudioPlayerWaveform.react"),{disabled:y,hasEnded:b,isListened:v,isPlaying:R,outgoing:k,scrubberLeft:F,waveformData:T})]}))]})}return c.jsx("div",babelHelpers.extends({"aria-label":s._(/*BTDS*/"Audio scrubber"),"aria-valuemax":(i=d==null||(l=d.current)==null?void 0:l.duration)!=null?i:0,"aria-valuemin":0,"aria-valuenow":W},(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.highlight,D),{ref:$,role:"slider"}))}g.displayName=g.name+" [from "+i.id+"]";function h(e,t){e.style.left=t.toFixed(2)+"%",e.style.transition="transform 1s ease-out";var n=e.getBoundingClientRect(),r=n.left;return r}function y(e){var t=o("react-compiler-runtime").c(19),n=e.disabled,r=e.hasScrubber,a=e.progressHighlightRef,i=e.scrubberRef,l=e.attachmentId,s=e.audioEl,u=e.children,d=e.currentTime,m=e.duration,p=e.hasEnded,_=e.isListened,f=e.isPlaying,h=e.isSecure,y=e.onUpdateScrubber,C=e.outgoing,b=e.waveformData,v=e.xstyle,S=f===void 0?!0:f,R=o("MWPAudioPlayerUtils").useShowNewUX(),L;return t[0]!==l||t[1]!==s||t[2]!==u||t[3]!==d||t[4]!==n||t[5]!==m||t[6]!==p||t[7]!==r||t[8]!==_||t[9]!==S||t[10]!==h||t[11]!==y||t[12]!==C||t[13]!==a||t[14]!==i||t[15]!==R||t[16]!==b||t[17]!==v?(L=R?c.jsx(g,{attachmentId:l,audioEl:s,disabled:n,duration:m,hasEnded:p,isListened:_,isPlaying:S,isSecure:h,onUpdateScrubber:y,outgoing:C,ref:a,waveformData:b,xstyle:v,children:u}):c.jsxs(c.Fragment,{children:[c.jsx(g,{ref:a,xstyle:v}),r?c.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:d,duration:m}):null,c.jsx(g,{ref:i,xstyle:v}),u]}),t[0]=l,t[1]=s,t[2]=u,t[3]=d,t[4]=n,t[5]=m,t[6]=p,t[7]=r,t[8]=_,t[9]=S,t[10]=h,t[11]=y,t[12]=C,t[13]=a,t[14]=i,t[15]=R,t[16]=b,t[17]=v,t[18]=L):L=t[18],L}l.MWPAudioPlayerHighlightV1=g,l.MWPAudioPlayerHighlightV2=y}),226);
__d("MWPAudioPlayerKeyCommands.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(e){return e>30?5:e>10?3:e>5?2:e>2?1:.5}function _(e){var t=e.audioEl,n=e.children,o=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime-=p(e)}},[t]),a=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime+=p(e)}},[t]),i=d(function(){t.current!=null&&(t.current.currentTime=0)},[t]),l=d(function(){if(t.current!=null){var e=t.current.duration;t.current.currentTime=e}},[t]),c=m(function(){var e;return[{command:{key:(e=r("CometKeys")).UP},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.DOWN},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.LEFT},description:s._(/*BTDS*/"Decreases slider value one step."),handler:o},{command:{key:e.RIGHT},description:s._(/*BTDS*/"Increases slider value one step."),handler:a},{command:{key:e.HOME},description:s._(/*BTDS*/"Sets slider to its minimum value."),handler:i},{command:{key:e.END},description:s._(/*BTDS*/"Sets slider to its maximum value."),handler:l}]},[o,a,i,l]);return u.jsx(r("CometComponentWithKeyCommands.react"),{commandConfigs:c,children:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWPAudioPlayerTimer.react",["MWPAudioPlayerSharedStyles","MWPAudioPlayerUtils","formatDurationSeconds","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a=t.disabled,i=t.outgoing,l=t.time,s=a===void 0?!1:a,c=i===void 0?!0:i,d=o("MWPAudioPlayerUtils").useShowNewUX(),m;n[0]!==s||n[1]!==c||n[2]!==d?(m=d?{color:c?s?"var(--disabled-button-text)":"var(--always-white)":s?"var(--disabled-button-text)":"var(--progress-ring-neutral-foreground)"}:{color:c?"var(--chat-composer-button-color)":"var(--always-black)",cursor:"pointer"},n[0]=s,n[1]=c,n[2]=d,n[3]=m):m=n[3];var p=m,_;n[4]!==d?(_=(e||(e=r("stylex")))(o("MWPAudioPlayerSharedStyles").styles.rightSideTop,!d&&o("MWPAudioPlayerSharedStyles").styles.rightSideBottom,d&&o("MWPAudioPlayerSharedStyles").styles.rightSideImprove),n[4]=d,n[5]=_):_=n[5];var f;n[6]!==l?(f=r("formatDurationSeconds")(l),n[6]=l,n[7]=f):f=n[7];var g;return n[8]!==p||n[9]!==_||n[10]!==f?(g=u.jsx("div",{className:_,"data-testid":void 0,role:"timer",style:p,children:f}),n[8]=p,n[9]=_,n[10]=f,n[11]=g):g=n[11],g}l.default=c}),98);
__d("useMWNextAttachment",["I64","ReQL","ReQLSuspense","qex","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(22),l=(s||(s=r("useReStore")))(),u;a[0]!==n.offlineThreadingId||a[1]!==n.primarySortKey||a[2]!==n.secondarySortKey||a[3]!==n.threadKey||a[4]!==l?(u=function(){var t;return r("qex")._("18")?t=o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(n.threadKey).bounds({gt:o("ReQL").key(n.primarySortKey,n.offlineThreadingId)}):t=o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrder")).getKeyRange(n.threadKey).bounds({gt:o("ReQL").key(n.primarySortKey,n.secondarySortKey)}),t.filter(function(t){return(e||(e=o("I64"))).gt(t.primarySortKey,n.primarySortKey)}).filter(function(t){var r,a;return t.secondarySortKey==null||n.secondarySortKey==null?!0:(e||(e=o("I64"))).gt((r=t.secondarySortKey)!=null?r:(e||(e=o("I64"))).zero,(a=n.secondarySortKey)!=null?a:(e||(e=o("I64"))).zero)}).filter(d)},a[0]=n.offlineThreadingId,a[1]=n.primarySortKey,a[2]=n.secondarySortKey,a[3]=n.threadKey,a[4]=l,a[5]=u):u=a[5];var m;a[6]!==n.primarySortKey||a[7]!==n.secondarySortKey||a[8]!==n.threadKey||a[9]!==l?(m=[l,n.threadKey,n.primarySortKey,n.secondarySortKey],a[6]=n.primarySortKey,a[7]=n.secondarySortKey,a[8]=n.threadKey,a[9]=l,a[10]=m):m=a[10];var p=o("ReQLSuspense").useFirst(u,m,i.id+":26"),_,f;a[11]!==t.messageId||a[12]!==l?(_=function(){return o("ReQL").fromTableAscending(l.tables.messages.index("messageId")).bounds({gt:o("ReQL").key(t.messageId)}).filter(c)},f=[l,t.messageId],a[11]=t.messageId,a[12]=l,a[13]=_,a[14]=f):(_=a[13],f=a[14]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":79"),h;a[15]!==l||a[16]!==p?(h=function(){return p!=null?o("ReQL").fromTableAscending(l.tables.attachments).getKeyRange(p.threadKey,p.messageId):o("ReQL").empty()},a[15]=l,a[16]=p,a[17]=h):h=a[17];var y;a[18]!==l||a[19]!==g||a[20]!==p?(y=[l,p,g],a[18]=l,a[19]=g,a[20]=p,a[21]=y):y=a[21];var C=o("ReQLSuspense").useFirst(h,y,i.id+":87");return C}function c(e){return!e.isUnsent}function d(e){return!e.isUnsent}l.default=u}),98);
__d("fetch",[],(function(t,n,r,o,a,i){"use strict";var e=window.fetch,l=e;i.default=l}),66);
__d("fetchMWPAudioWaveformDataForURL",["AudioContextSingleton","FBLogger","fetch","getErrorSafe"],(function(t,n,r,o,a,i,l){"use strict";function e(e){for(var t=[],n=0;n<e.numberOfChannels;n++)t.push(e.getChannelData(n));for(var r=t.reduce(function(e,t){return e+t.length},0),o=new Float32Array(r),a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++)o[i*t.length+a]=t[a][i];return o}function s(e){var t=r("AudioContextSingleton").get();return new Promise(function(n,r){t.decodeAudioData(e,n,r)})}async function u(t){var n=t.toString();try{var o=await r("fetch")(n),a=await o.arrayBuffer(),i=await s(a);return e(i)}catch(e){var l=r("getErrorSafe")(e);return r("FBLogger")("messenger_web_media","audio_waveform_error").catching(l).mustfix("Error fetching waveform data for URL: %s",n),Float32Array.of()}}l.default=u}),98);
__d("useMWAttachmentUpdater",["Int64Hooks","ReQL","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(6),a=t.attachmentFbid,l=t.messageId,s=t.threadKey,u=(e||(e=r("useReStore")))(),c,d;return n[0]!==a||n[1]!==u||n[2]!==l||n[3]!==s?(c=async function(t){await u.runInTransaction(async function(e){var n=e.attachments,r=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(n).getKeyRange(s,l,a));r!=null&&await n.put(babelHelpers.extends({},r,t))},"readwrite",void 0,void 0,i.id+":26")},d=[u,s,l,a],n[0]=a,n[1]=u,n[2]=l,n[3]=s,n[4]=c,n[5]=d):(c=n[4],d=n[5]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=s}),98);
__d("useMWPAudioWaveformData.react",["ConstUriUtils","FBLogger","fetchMWPAudioWaveformDataForURL","promiseDone","react","react-compiler-runtime","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useState,m=3,p=",",_=["blob:","data:"];function f(e,t){var n=o("react-compiler-runtime").c(11),a=d(e.waveformData),i=a[0],l=a[1],s=r("useMWAttachmentUpdater")(e),u;n[0]!==t?(u=async function(){if(t!=null&&t!==""){var e=o("ConstUriUtils").getUri(t);if(e!=null&&_.includes(e.getProtocol())){var n=await r("fetchMWPAudioWaveformDataForURL")(e);n.length>m&&l(n.join(p))}}},n[0]=t,n[1]=u):u=n[1];var f=u,h,y;n[2]!==f||n[3]!==i?(h=function(){i!=null&&i.length>m||r("promiseDone")(f())},y=[f,i],n[2]=f,n[3]=i,n[4]=h,n[5]=y):(h=n[4],y=n[5]),c(h,y);var C,b;return n[6]!==e.waveformData||n[7]!==s||n[8]!==i?(C=function(){i!=null&&i.length>m&&i!==e.waveformData&&s({waveformData:i}).catch(g)},b=[e.waveformData,s,i],n[6]=e.waveformData,n[7]=s,n[8]=i,n[9]=C,n[10]=b):(C=n[9],b=n[10]),c(C,b),i}function g(e){r("FBLogger")("messenger_web_media","audio_waveform_error").catching(e).mustfix("Error from updating attachment waveform data")}l.default=f}),98);
__d("useMWPMarkAudioAttachmentAsConsumed.react",["FBLogger","react","react-compiler-runtime","useMWAttachmentUpdater"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e,t){var n=o("react-compiler-runtime").c(8),a=r("useMWAttachmentUpdater")(t),i=t.isAttachmentConsumed,l;n[0]!==(e==null?void 0:e.current)||n[1]!==i||n[2]!==a?(l=function(){var t=e==null?void 0:e.current;if(t!=null){var n=function(){(i==null||i===!1)&&a({isAttachmentConsumed:!0}).catch(c)};return t.addEventListener("ended",n),(function(){t.removeEventListener("ended",n)})}},n[0]=e==null?void 0:e.current,n[1]=i,n[2]=a,n[3]=l):l=n[3];var u;n[4]!==e||n[5]!==i||n[6]!==a?(u=[e,i,a],n[4]=e,n[5]=i,n[6]=a,n[7]=u):u=n[7],s(l,u)}function c(e){r("FBLogger")("messenger_web_media","attachment_update_error").catching(e).mustfix("Error marking attachment as consumed.")}l.default=u}),98);
__d("MWAudioPlayer.react",["I64","MWMediaRenderQplUtils","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","requireDeferred","stylex","useMAWMediaDownloadStatus","useMWNextAttachment","useMWPAudioWaveformData.react","useMWPMarkAudioAttachmentAsConsumed.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef,_=r("requireDeferred")("MWChatAudioLog").__setRef("MWAudioPlayer.react");function f(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function g(t){var n=o("react-compiler-runtime").c(67),a=t.attachment,i=t.connectBottom,l=t.connectTop,s=t.getPlayableUrl,d=t.isReply,_=t.isSecure,g=t.mediaRenderQpl,h=t.message,y=t.outgoing,C=t.renderUnsupportedAttachment,b=t.width,v=d===void 0?!1:d,S=a.playableDurationMs,R=(u||(u=o("I64"))).to_float(S!=null?S:(u||(u=o("I64"))).zero)/1e3,L=r("useMWNextAttachment")(a,h),E=_?L:null,k=r("useMAWMediaDownloadStatus")(E,g),I=k.uiState,T;n[0]!==a||n[1]!==s||n[2]!==g?(T=s(a,"MWAudioPlayer",g),n[0]=a,n[1]=s,n[2]=g,n[3]=T):T=n[3];var D=T,x=r("useMWPAudioWaveformData.react")(a,D),$=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:y===!0?"right":"left",connectBottom:i,connectTop:l}),P;n[4]!==s||n[5]!==L||n[6]!==I?(P=L!=null&&(I==null||I==="downloaded")?s(L,"MWAudioPlayer"):void 0,n[4]=s,n[5]=L,n[6]=I,n[7]=P):P=n[7];var N=o("MWPAudioPlayerUtils").useControlCenter(D,P,h.messageId,L==null?void 0:L.messageId,f,!1,R,g,x,_,a.attachmentFbid),M=N[0],w=N[1],A=N[2],F=N[3],O=N[4],B=N[5];r("useMWPMarkAudioAttachmentAsConsumed.react")(A,a);var W;if(n[8]!==h.ephemeralDurationInSec){var q;W=(u||(u=o("I64"))).gt((q=h.ephemeralDurationInSec)!=null?q:(u||(u=o("I64"))).zero,u.zero),n[8]=h.ephemeralDurationInSec,n[9]=W}else W=n[9];var U=W,V=M===o("MWPAudioPlayerUtils").State.NONE,H=M===o("MWPAudioPlayerUtils").State.PLAYING,G=M===o("MWPAudioPlayerUtils").State.PAUSED,z=M===o("MWPAudioPlayerUtils").State.LOADING,j=M===o("MWPAudioPlayerUtils").State.ENDED,K=H||G,Q=p(),X=o("MWPAudioHighlightStylesHooks").useHighlightStyles(y),Y=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(b,U),J=Y+"px",Z;n[10]!==J?(Z={width:J},n[10]=J,n[11]=Z):Z=n[11];var ee=Z,te=K?Math.max(R-w,0):0,ne,re;if(n[12]!==R||n[13]!==U||n[14]!==g||n[15]!==L||n[16]!==D||n[17]!==x?(ne=function(){g==null||g.addPoint("render-audio-player",{bool:{has_next_attachment:L!=null,has_non_zero_duration:R>0,has_playable_url:!!D,has_waveform:x!=null,is_disappearing_message:U},string:{audio_blob_duration_bucket:o("MWMediaRenderQplUtils").convertDurationToStringBucket(R)}})},re=[R,U,g,L,D,x],n[12]=R,n[13]=U,n[14]=g,n[15]=L,n[16]=D,n[17]=x,n[18]=ne,n[19]=re):(ne=n[18],re=n[19]),m(ne,re),(D==null||D.length===0)&&(g==null||g.endFailAfterDelay("empty_preview_url"),C!=null)){var oe;return n[20]!==a||n[21]!==C?(oe=C(a),n[20]=a,n[21]=C,n[22]=oe):oe=n[22],oe}var ae=r("MWPAudioPlayerKeyCommands.react"),ie=r("MWPAudioPlayerContainer.react"),le="mw_audio_player",se=o("MWPAudioPlayerUtils").UseCase,ue=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.common,$,y?o("MWPAudioPlayerSharedStyles").styles.commonOutgoing:o("MWPAudioPlayerSharedStyles").styles.commonIncoming,v&&o("MWPAudioPlayerSharedStyles").styles.commonReply,y&&v&&o("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),ce=a.isAttachmentConsumed===!0,de;n[23]!==V||n[24]!==j||n[25]!==z||n[26]!==G||n[27]!==H||n[28]!==F||n[29]!==y?(de=c.jsx(r("MWPAudioPlaybackButton.react"),{disabled:V,hasEnded:j,isLoading:z,isPaused:G,isPlaying:H,onPress:F,outgoing:y,scrubberRef:Q}),n[23]=V,n[24]=j,n[25]=z,n[26]=G,n[27]=H,n[28]=F,n[29]=y,n[30]=de):de=n[30];var me;n[31]!==a.attachmentFbid||n[32]!==A||n[33]!==w||n[34]!==R||n[35]!==j||n[36]!==K||n[37]!==X||n[38]!==H||n[39]!==_||n[40]!==B||n[41]!==y||n[42]!==O||n[43]!==ce||n[44]!==de||n[45]!==x?(me=c.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{attachmentId:a.attachmentFbid,audioEl:A,currentTime:w,duration:R,hasEnded:j,hasScrubber:K,isListened:ce,isPlaying:H,isSecure:_,onUpdateScrubber:B,outgoing:y,progressHighlightRef:O,scrubberRef:Q,waveformData:x,xstyle:X,children:de}),n[31]=a.attachmentFbid,n[32]=A,n[33]=w,n[34]=R,n[35]=j,n[36]=K,n[37]=X,n[38]=H,n[39]=_,n[40]=B,n[41]=y,n[42]=O,n[43]=ce,n[44]=de,n[45]=x,n[46]=me):me=n[46];var pe;n[47]!==H||n[48]!==y||n[49]!==te?(pe=c.jsx("div",{children:H?c.jsxs(c.Fragment,{children:[c.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:y,time:te}),c.jsx(o("MWPAudioPlayerButtons.react").PlaybackRateButton,{outgoing:y})]}):c.jsx(r("MWPAudioPlayerTimer.react"),{outgoing:y,time:te})}),n[47]=H,n[48]=y,n[49]=te,n[50]=pe):pe=n[50];var _e;n[51]!==ue||n[52]!==me||n[53]!==pe?(_e=c.jsxs("div",babelHelpers.extends({},ue,{children:[me,pe]})),n[51]=ue,n[52]=me,n[53]=pe,n[54]=_e):_e=n[54];var fe;n[55]!==ie||n[56]!==A||n[57]!==K||n[58]!==g||n[59]!==ee||n[60]!==se.PLAYER||n[61]!==_e?(fe=c.jsx(ie,{audioEl:A,hasScrubber:K,mediaRenderQpl:g,scrubberRef:Q,style:ee,testid:void 0,useCase:se.PLAYER,children:_e}),n[55]=ie,n[56]=A,n[57]=K,n[58]=g,n[59]=ee,n[60]=se.PLAYER,n[61]=_e,n[62]=fe):fe=n[62];var ge;return n[63]!==ae||n[64]!==A||n[65]!==fe?(ge=c.jsx(ae,{audioEl:A,children:fe}),n[63]=ae,n[64]=A,n[65]=fe,n[66]=ge):ge=n[66],ge}l.default=g}),98);
__d("MWBaseTheme",[],(function(t,n,r,o,a,i){"use strict";var e={},l={},s={dark:l,light:e,type:"VARIABLES"};i.empty=s}),66);
__d("MWBlockingProtectionContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useState,_=c({addMessageId:r("emptyFunction"),findMessageId:r("emptyFunction").thatReturnsFalse});function f(e){var t=o("react-compiler-runtime").c(6),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],u;t[1]!==i?(u={addMessageId:function(t){l([t].concat(i))},findMessageId:function(t){return i.find(function(e){return e===t})!=null}},t[1]=i,t[2]=u):u=t[2];var c=u,d;return t[3]!==n||t[4]!==c?(d=s.jsx(_.Provider,{value:c,children:n}),t[3]=n,t[4]=c,t[5]=d):d=t[5],d}function g(){return d(_)}var h={Provider:f,useHook:g};l.default=h}),98);
__d("MWBuyerShippingAddressRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9449084048553368"}),null);
__d("MWBuyerShippingAddressRootQuery.graphql",["MWBuyerShippingAddressRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"street1",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"street2",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"city_name",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"state_name",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"district",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"sub_district",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"postal_code",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"country_name",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"care_of",storageKey:null},p={alias:null,args:null,concreteType:"XFBPAYAddressAssociatedPhoneNumberResponse",kind:"LinkedField",name:"address_linked_phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"normalized_phone_number",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"national_number",storageKey:null}],storageKey:null},_=[{kind:"Variable",name:"id",variableName:"id"}],f={alias:null,args:null,kind:"ScalarField",name:"country_id",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWBuyerShippingAddressSelectionAddressListItem",selections:[t,r,o,a,i,l,s,u,c,d,m,p],args:null,argumentDefinitions:[]}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:_,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWBuyerShippingAddressSelectionPrivacyText"},f],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWBuyerShippingAddressRootQuery",selections:[{alias:null,args:null,concreteType:"FBPayAccountExtended",kind:"LinkedField",name:"fbpay_account_extended",plural:!1,selections:[{alias:null,args:null,concreteType:"PAYFBPayAccount",kind:"LinkedField",name:"fbpay_account",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"shipping_addresses",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"TypeDiscriminator",abstractKey:"__isPAYMailingAddress"},t,r,o,a,i,l,s,u,c,d,m,p],storageKey:null},t],storageKey:null}],storageKey:null},{alias:null,args:_,concreteType:"Page",kind:"LinkedField",name:"page",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"messenger_privacy_policy_url",storageKey:null},f,t],storageKey:null}]},params:{id:n("MWBuyerShippingAddressRootQuery_facebookRelayOperation"),metadata:{},name:"MWBuyerShippingAddressRootQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWBuyerShippingAddressRootQuery",["MWBuyerShippingAddressRootQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("MWBuyerShippingAddressRootQuery.graphql"),u=s;l.default=u}),98);
__d("MWPColorUtils",["FBLogger","I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t){return"#"+t.map(function(e){return e.toString(16).padStart(2,"0")}).join("")};function u(t){var n=(e||(e=o("I64"))).to_int32(t),r=(n&16711680)>>>16,a=(n&65280)>>>8,i=n&255;return[r,a,i]}function c(t){var n=t[0],r=t[1],a=t[2];return(e||(e=o("I64"))).of_int32((n<<16)+(r<<8)+a)}function d(e,t,n){return[Math.round(e[0]*n+t[0]*(1-n)),Math.round(e[1]*n+t[1]*(1-n)),Math.round(e[2]*n+t[2]*(1-n))]}function m(e){var t=+("0x"+e.slice(2));return c([t>>16&255,t>>8&255,t&255])}function p(e,t,n){var r=u(e),o=u(t);return s(d(r,o,n))}function _(e,t,n){var r=u(e),o=u(t),a=d(r,o,n);return c(a)}function f(e){return s(u(e))}function g(e,t){var n=u(e),r=n[0],o=n[1],a=n[2];return t!=null?"rgba("+r+", "+o+", "+a+", "+t+")":f(e)}function h(t,n){var a=[].concat(t).sort(function(t,n){return(e||(e=o("I64"))).to_int32(t.gradientIndex)-e.to_int32(n.gradientIndex)|0}).map(function(e){return f(e.color)}),i=a.length;if(i!==1){if(i!==0){var l=n!=null,s=[];n!=null&&s.push(a[0]+" calc(100vh - "+String(n.totalHeight)+"px + "+String(n.headerHeight)+"px)");for(var u=l?1:0,c=a.length-(l?2:1)|0;u<=c;++u)s.push(a[u]);n!=null&&(s.push(a[a.length-1|0]+" calc(100% - "+String(n.footerHeight)+"px)"),s.push(a[a.length-1|0]));var d=s.join(", ");return"linear-gradient("+d+")"}return r("FBLogger")("messenger_comet").mustfix("Not enough colors for a gradient"),""}return r("FBLogger")("messenger_comet").mustfix("Not enough colors for a gradient"),""}l.i64toRgb=u,l.hexToI64=m,l.combineColors=p,l.combineColorsAsI64=_,l.int64ToHex=f,l.int64ToRGBA=g,l.gradient=h}),98);
__d("MWPThreadThemeGradientUtils",["MWPColorUtils","vulture"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.outgoingGradientColors,r=e.threadTheme,o=n[0];return(t=o==null?void 0:o.color)!=null?t:r.fallbackColor}function s(t){return o("MWPColorUtils").int64ToHex(e(t))}function u(e){var t,n=e.outgoingGradientColors,r=e.threadTheme,o=n[n.length-1];return(t=o==null?void 0:o.color)!=null?t:r.fallbackColor}function c(e){return r("vulture")("nHtBIhcGlYcBIpGZLznxgobZvoQ="),o("MWPColorUtils").int64ToHex(u(e))}function d(e){return e.outgoingGradientColors.length>1}l.getTopGradientColorI64=e,l.getTopGradientColor=s,l.getBottomGradientColorI64=u,l.getBottomGradientColor=c,l.isGradient=d}),98);
__d("MWV2IsTabFocusedContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c(!1);function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.isFocused,a;return t[0]!==n||t[1]!==r?(a=s.jsx(m.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function _(){return d(m)}l.MWV2IsTabFocusedContextProvider=p,l.useIsTabFocused=_}),98);
__d("MessengerAppColorMode",[],(function(t,n,r,o,a,i){var e=Object.freeze({NORMAL:1,DARK:2,NONE:3});i.default=e}),66);
__d("useMWIsBroadcastChannelViewer",["LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a,l=(e||(e=r("useReStore")))(),s=o("MWPActor.react").useActor(),d=(n=o("MWLSThread").useThread(t,c))!=null?n:!1,m=(a=o("ReQLSuspense").useFirst(function(){return t!=null&&d?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t,s).map(u):o("ReQL").empty()},[l,t,s,d],i.id+":31"))!=null?a:!1;return d&&m}function u(e){return e.isAdmin!==!0&&e.isSuperAdmin!==!0&&e.isModerator!==!0}function c(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}l.default=s}),98);
__d("MWPThemeCSSProvider.react",["BaseTheme.react","I64","LSIntEnum","MWLSThread","MWLSThreadDisplayContext","MWPColorUtils","MWPThreadThemeGradientUtils","MWThreadKey.react","MWV2IsTabFocusedContext.react","MessengerAppColorMode","gkx","react","react-compiler-runtime","useMWIsBroadcastChannelViewer","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useMemo,m={expand:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",maxWidth:"x193iq5w",$$css:!0}};function p(e,t){var n,r=(n=o("MWLSThread").useThread(t,_))!=null?n:!1;return r&&!e}function _(e){return(s||(s=o("I64"))).lt(e.lastReadWatermarkTimestampMs,e.lastActivityTimestampMs)}function f(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t=e==="ChatTab",n=e==="Inbox";return!t&&!n?!1:t||r("gkx")("24031")}function g(){var e=o("MWThreadKey.react").useMWThreadKeyMemoized(),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",n=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),a=p(n,e),i=r("useMWIsBroadcastChannelViewer")(e),l=r("useMWPThreadTheme")(),c=f();return d(function(){var e,d,m,p,_=r("gkx")("24057"),f=l.backgroundGradientColors,g=l.incomingGradientColors,h=l.outgoingGradientColors,y=l.threadTheme,C=y.appColorMode,b=y.backgroundUrl,v=y.composerBackgroundColor,S=y.composerInputBackgroundColor,R=y.composerInputBorderColor,L=y.composerInputBorderWidth,E=y.composerInputTextPlaceholderColor,k=y.composerPlaceholderTextColor,I=y.composerTintColor,T=y.deliveryReceiptColor,D=y.fallbackColor,x=y.incomingMessageBorderColor,$=y.incomingMessageBorderWidth,P=y.incomingMessageTextColor,N=y.messageBorderColor,M=y.messageBorderWidth,w=y.messageTextColor,A=y.primaryButtonBackgroundColor,F=y.quotedIncomingMessageBubbleColor,O=y.reactionPillBackgroundColor,B=y.secondaryTextColor,W=y.tertiaryTextColor,q=y.titlebarAttributionTextColor,U=y.titlebarBackgroundColor,V=y.titlebarButtonTintColor,H=y.titlebarTextColor,G=(s||(s=o("I64"))).equal(C,(u||(u=o("LSIntEnum"))).ofNumber(r("MessengerAppColorMode").DARK)),z=!!(b!=null&&b.length),j=h.length>1,K=f.length>0,Q=c&&(z||K),X=Q&&"4px"||"0px",Y=_?"96px":i?"28px":"84px",J=(c&&V!=null?V:null)||o("MWPThreadThemeGradientUtils").getTopGradientColorI64(l),Z=(c&&I!=null?I:null)||o("MWPThreadThemeGradientUtils").getBottomGradientColorI64(l),ee=f==null||(e=f[(f==null?void 0:f.length)-1])==null?void 0:e.color,te=g==null||(d=g[0])==null?void 0:d.color,ne=(m=h==null||(p=h[h.length-1])==null?void 0:p.color)!=null?m:D,re=h&&h.length>1&&o("MWPColorUtils").gradient(h,t?{footerHeight:56,headerHeight:48,totalHeight:455}:void 0),oe={"chat-admin-text-color":c&&(B!=null||W),"chat-composer-background-color":c&&v,"chat-composer-button-color":Z,"chat-composer-caret-color":c&&Z,"chat-composer-input-background-color":c&&S!=null?S:"var(--comment-background)","chat-composer-input-border-color":c&&R,"chat-composer-input-border-width":c&&L,"chat-composer-input-text-placeholder-color":c&&E,"chat-composer-placeholder-text-color":c&&k,"chat-delivery-receipt-color":c&&T,"chat-edit-message-overlay-color":ee!=null?ee:"var(--surface-background)","chat-incoming-message-border-color":c&&x,"chat-incoming-message-border-width":c&&$,"chat-incoming-message-bubble-background-color":c&&te,"chat-incoming-message-text-color":c&&P,"chat-message-border-color":c&&N,"chat-message-border-width":c&&M,"chat-message-text-color":c&&w,"chat-outgoing-message-background-gradient":!Q&&re?re:"initial","chat-outgoing-message-bubble-background-color":j&&!Q?"transparent":ne,"chat-primary-button-background-color":c&&A,"chat-quoted-incoming-message-bubble-color":c&&F,"chat-replied-message-background-color":c&&ee&&te&&o("MWPColorUtils").combineColors(ee,te,.4),"chat-scrollbar-thumb-color":Q&&ee&&o("MWPColorUtils").int64ToRGBA(o("MWPColorUtils").combineColorsAsI64(o("MWPColorUtils").combineColorsAsI64(ne,ee,.6),G?(s||(s=o("I64"))).of_int32(16777215):(s||(s=o("I64"))).of_int32(0),.6),.7),"chat-scrollbar-track-color":Q&&"transparent","mwp-header-background-color":c&&U,"mwp-header-button-color":J,"mwp-header-text-color":c&&H,"mwp-message-list-actions-gap":X,"mwp-message-list-actions-width":"calc("+Y+" + 2*"+X+")","mwp-message-row-background":Q?"transparent":"var(--messenger-card-background)","mwp-primary-theme-color":D,"mwp-subheader-text-color":c&&q,"reaction-pill-background-color":c?O:"var(--wash)","reaction-pill-multireact-selected-color":o("MWPColorUtils").combineColorsAsI64(D,s.of_int32(16777215),.22),"text-highlight":c&&I!=null&&o("MWPColorUtils").int64ToRGBA(I,G?.5:.2)};n||(c?(oe["chat-composer-button-color"]=o("MWPColorUtils").int64ToRGBA(Z,.6),oe["mwp-header-button-color"]=o("MWPColorUtils").int64ToRGBA(J,.6)):(oe["chat-composer-button-color"]="var(--disabled-icon)",oe["mwp-header-button-color"]="var(--disabled-icon)")),a&&(oe["mwp-header-button-color"]="var(--always-white)",oe["mwp-header-text-color"]="var(--always-white)",oe["mwp-header-background-color"]=J),(oe["mwp-subheader-text-color"]==null||typeof oe["mwp-subheader-text-color"]=="boolean")&&(oe["mwp-subheader-text-color"]=oe["mwp-header-text-color"]);var ae={};for(var ie in oe){var le=oe[ie];le==null||typeof le=="boolean"||(typeof le=="string"?ae[ie]=le:ae[ie]=o("MWPColorUtils").int64ToHex(le))}return ae},[i,t,a,n,l])}function h(e){var t=o("react-compiler-runtime").c(8),n=g(),a;t[0]!==n?(a={dark:n,light:n,type:"VARIABLES"},t[0]=n,t[1]=a):a=t[1];var i;t[2]!==e.xstyle?(i=[m.expand,e.xstyle],t[2]=e.xstyle,t[3]=i):i=t[3];var l;return t[4]!==e||t[5]!==a||t[6]!==i?(l=c.jsx(r("BaseTheme.react"),babelHelpers.extends({},e,{config:a,xstyle:i})),t[4]=e,t[5]=a,t[6]=i,t[7]=l):l=t[7],l}l.useIsThemeV2=f,l.MWPThemeCSSProvider=h}),98);
__d("MWPThreadThemeContext",["defaultMWPThreadTheme","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=babelHelpers.extends({},o("defaultMWPThreadTheme").defaultThemeWithColorsV1,{previewId:void 0,setPreviewId:r("emptyFunction")}),c=s(u);l.defaultContextValue=u,l.MWPThreadThemeContext=c}),98);
__d("defaultMWPThreadTheme",["I64","MWPThemeCSSProvider.react","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("MWPThemeCSSProvider.react").useIsThemeV2();return e?c:d}function u(t){return t==null?!1:(e||(e=o("I64"))).equal(t,d.threadTheme.fbid)||(e||(e=o("I64"))).equal(t,c.threadTheme.fbid)}var c={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[{color:(e||(e=o("I64"))).of_string("-5635841"),gradientIndex:e.of_string("0"),themeFbid:e.of_string("3259963564026002"),type_:e.of_string("0")},{color:e.of_string("28918"),gradientIndex:e.of_string("1"),themeFbid:e.of_string("3259963564026002"),type_:e.of_string("0")}],threadTheme:{accessibilityLabel:"Default",appColorMode:e.of_string("1"),fallbackColor:e.of_string("-11645963"),fbid:e.of_string("3259963564026002"),isDeprecated:!1,normalThemeId:e.of_string("3259963564026002"),reverseGradiantsForRadial:!1,themeIdx:e.of_string("275")}},d={backgroundGradientColors:[],incomingGradientColors:[],outgoingGradientColors:[],threadTheme:{accessibilityLabel:"Default Blue",appColorMode:e.zero,fallbackColor:r("gkx")("23219")?(e||(e=o("I64"))).of_string("687359"):(e||(e=o("I64"))).of_string("-16743169"),fbid:e.of_string("196241301102133"),isDeprecated:!1,normalThemeId:e.zero,reverseGradiantsForRadial:!1,themeIdx:e.of_string("94")}};l.useDefaultThemeWithColors=s,l.isDefaultTheme=u,l.defaultThemeWithColorsV2=c,l.defaultThemeWithColorsV1=d}),98);
__d("useMWPThreadTheme",["MWPThreadThemeContext","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){return s(o("MWPThreadThemeContext").MWPThreadThemeContext)}l.default=u}),98);
__d("MWMessageActionButton.react",["BaseTheme.react","MWPThemeCSSProvider.react","MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e=["label","loggingEvent","ref","onPress"],s,u=s||(s=o("react")),c=s.useCallback,d={dark:{},light:{},type:"VARIABLES"},m={dark:{"popover-background":"var(--chat-replied-message-background-color, inherit)"},light:{"popover-background":"var(--chat-replied-message-background-color, inherit)"},type:"VARIABLES"};function p(t){var n=o("react-compiler-runtime").c(23),a,i,l,s,c;n[0]!==t?(a=t.label,i=t.loggingEvent,s=t.ref,l=t.onPress,c=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var p=r("MessengerWebUXLogger").useInteractionLogger(),_;n[6]!==p||n[7]!==i||n[8]!==l?(_=function(t){l==null||l(t),i&&(p==null||p(i))},n[6]=p,n[7]=i,n[8]=l,n[9]=_):_=n[9];var f=_,g=r("useMWPThreadTheme")(),h=g.backgroundGradientColors,y=g.threadTheme,C=o("MWPThemeCSSProvider.react").useIsThemeV2()&&(!!y.backgroundUrl||h.length>0),b=C?m:d,v=C?"primary":"secondary",S=C?"overlay":"deemphasized",R;n[10]!==f||n[11]!==a||n[12]!==s||n[13]!==c||n[14]!==v||n[15]!==S?(R=u.jsx(r("MWXCircleButton.react"),babelHelpers.extends({"aria-label":a,color:v,onPress:f,ref:s,size:28,type:S},c)),n[10]=f,n[11]=a,n[12]=s,n[13]=c,n[14]=v,n[15]=S,n[16]=R):R=n[16];var L;n[17]!==b||n[18]!==R?(L=u.jsx(r("BaseTheme.react"),{config:b,children:R}),n[17]=b,n[18]=R,n[19]=L):L=n[19];var E;return n[20]!==a||n[21]!==L?(E=u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:L}),n[20]=a,n[21]=L,n[22]=E):E=n[22],E}l.default=p}),98);
__d("MWXIconThread",["MWXSvgIcon","SVGIcon","cr:22515","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22515")),r("gkx")("23219"));l.default=e}),98);
__d("MWCMCreateSubthreadRowActionButton.react",["I64","Int64Hooks","LsFalcoEventEntryPoint","MWMessageActionButton.react","MWXIconThread","SubthreadCreationStrings.react","react","react-compiler-runtime","requireDeferred","useMWCMCreateSubthread","useOpenSubthreadView","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("requireDeferred")("LsMessageActionFalcoEvent").__setRef("MWCMCreateSubthreadRowActionButton.react");function d(e){var t=o("react-compiler-runtime").c(11),n=e.message;r("vulture")("DYhURWNe8ZPjdUyhqK4Z5kQ3v7Y=");var a=r("useMWCMCreateSubthread")(n),i=a[0],l=a[1],d=r("useOpenSubthreadView")(),m=n.subthreadKey,p,_;t[0]!==n.messageId||t[1]!==n.threadKey||t[2]!==i||t[3]!==d||t[4]!==m?(p=function(){c.onReady(function(e){return e.log(function(){var e={};return{action:{container_module:"MWCMCreateSubthreadRowActionButton",type:m!=null?105:104},error:{message:void 0},extra:e,message:{attachment_type:"",entry_point:o("LsFalcoEventEntryPoint").messageActions,id:n.messageId,recipient_id:void 0},thread:{group_size:(s||(s=o("I64"))).to_string(s.zero),id:s.to_string(n.threadKey),type:18}}})}),m!=null?d(m):i()},_=[n.messageId,n.threadKey,i,d,m],t[0]=n.messageId,t[1]=n.threadKey,t[2]=i,t[3]=d,t[4]=m,t[5]=p,t[6]=_):(p=t[5],_=t[6]);var f=o("Int64Hooks").useCallbackInt64(p,_),g=m!=null?o("SubthreadCreationStrings.react").viewSubthreadLabel:o("SubthreadCreationStrings.react").createSubthreadLabel,h;return t[7]!==l||t[8]!==f||t[9]!==g?(h=u.jsx(r("MWMessageActionButton.react"),{disabled:l,icon:r("MWXIconThread"),label:g,onPress:f}),t[7]=l,t[8]=f,t[9]=g,t[10]=h):h=t[10],h}l.default=d}),98);
__d("MWCMHostTextHovercard.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMHostTextHovercard.react").__setRef("MWCMHostTextHovercard.entrypoint")};l.default=e}),98);
__d("MWChatComposerMentionsViewItem.react",["CometImageFromIXValue.react","CometSearchMentionsBaseViewItem.react","FDSIcon.react","FDSProfilePhoto.react","FDSTextPairing.react","MWXSvgIcon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["entry"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(18),a,i;n[0]!==t?(a=t.entry,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.handle,c=l.key,d=l.label,m=l.rawData,p=m.icon,_=m.image,f=m.photoURI,g=m.subtitle,h;if(f!=null){var y;n[3]!==f?(y=u.jsx(r("FDSProfilePhoto.react"),{size:28,source:{uri:f}}),n[3]=f,n[4]=y):y=n[4],h=y}else if(p!=null){var C;n[5]!==p?(C=p instanceof o("MWXSvgIcon").MWXSvgIcon?u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:p.originalComponent,size:28}):u.jsx(r("FDSIcon.react"),{color:"primary",disabled:!1,icon:p}),n[5]=p,n[6]=C):C=n[6],h=C}else if(_!=null){var b;n[7]!==_?(b=u.jsx(r("CometImageFromIXValue.react"),{source:_}),n[7]=_,n[8]=b):b=n[8],h=b}var v="mention("+(s!=null?s:c)+")",S;n[9]!==d||n[10]!==g?(S=u.jsx(r("FDSTextPairing.react"),{body:d,bodyLineLimit:1,level:3,meta:g,metaLineLimit:1}),n[9]=d,n[10]=g,n[11]=S):S=n[11];var R;return n[12]!==a||n[13]!==h||n[14]!==i||n[15]!==v||n[16]!==S?(R=u.jsx(r("CometSearchMentionsBaseViewItem.react"),babelHelpers.extends({},i,{entry:a,itemStartContent:h,testid:void 0,children:S})),n[12]=a,n[13]=h,n[14]=i,n[15]=v,n[16]=S,n[17]=R):R=n[17],R}l.default=c}),98);
__d("MWChatComposerMentionsUtils",["remove-accents"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(t.length===0)return!0;var n=r("remove-accents")(t).toLowerCase(),o=r("remove-accents")(e).toLowerCase();return o.split(" ").some(function(e){return e.startsWith(n)})||o.startsWith(n)}l.doesParticipantNameMatch=e}),98);
__d("MWXIconGroup",["MWXSvgIcon","SVGIcon","cr:22360","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22360")),r("gkx")("23219"));l.default=e}),98);
__d("MWChatComposerTypeaheadUtil",["fbt","ix","I64","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWChatComposerMentionsUtils","MWXIconGroup","gkx"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=s._(/*BTDS*/"Meta AI").toString(),m=s._(/*BTDS*/"Ask questions").toString(),p=s._(/*BTDS*/"everyone").toString(),_=r("gkx")("20836"),f={decorType:"regular",handle:d,key:"0",label:d,rawData:{image:u("405460"),subtitle:m},type:"entry"};function g(t,n,a,i,l,u,m,g){var h=t.query,y=g!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),C=g!=null&&!o("LSMessagingThreadTypeUtil").isArmadilloSecure(g)&&o("LSMessagingThreadTypeUtil").isGroup(g),b=[],v=[];if(l===!0&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(d,h)&&b.push(f),l!==!0||u){if(n.forEach(function(t){var n=t.actualName,a=t.blockedByViewerStatus,i=t.contactId,l=t.nickname,s=t.profilePictureUrl,u=t.secondaryName;if(!(a!=null&&!(e||(e=o("I64"))).equal(a,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)))){var d=null;if(u!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(u,h)?d="secondaryName":o("MWChatComposerMentionsUtils").doesParticipantNameMatch(n,h)?d="name":l!=null&&o("MWChatComposerMentionsUtils").doesParticipantNameMatch(l,h)&&(d="nickname"),d!=null&&s!=null){var m=u;y?m=l!=null?l:n:m==null&&(m=u!=null?u:d==="nickname"&&l!=null?l:n),b.push({decorType:"regular",handle:m,key:i+" "+d,label:n,rawData:{photoURI:s,source:d,subtitle:u!=null?u:l},type:"entry"})}}}),o("MWChatComposerMentionsUtils").doesParticipantNameMatch(p,h)&&(_||y||C)){var S=s._(/*BTDS*/"Mention everyone in this chat").toString();v.push({decorType:"regular",handle:p,key:""+a,label:p,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:S},type:"entry"})}if(_){var R=s._(/*BTDS*/"here").toString();if(o("MWChatComposerMentionsUtils").doesParticipantNameMatch(R,h)){var L=s._(/*BTDS*/"Mention everyone in this chat who is active").toString();v.push({decorType:"regular",handle:R,key:a+"-active",label:R,rawData:{icon:r("MWXIconGroup"),source:"all",subtitle:L},type:"entry"})}}}var E=y||C?[].concat(b.slice(0,m),v):[].concat(b,v).slice(0,m);return E.length<m&&i&&i(h,m-E.length),{entries:E,params:t}}function h(e){switch(e){case d:return"ai";case p:return"t";default:return"p"}}l.aiBotMentionsEntry=f,l.fetchCacheComposerMentionsTypeahead=g,l.commandToRangeType=h}),226);
__d("MessengerLexicalEntityTextNode",["FBLogger","Lexical"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(e){function t(){return e.apply(this,arguments)||this}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.getEntity=function(){throw r("FBLogger")("messenger_comet").mustfixThrow("CometMessengerLexicalEntityTextNode does not implement getEntity")},t})(o("Lexical").TextNode);function s(t){return t instanceof e}l.MessengerLexicalEntityTextNode=e,l.isMessengerLexicalEntityTextNode=s}),98);
__d("MessengerLexicalActorNode",["MWChatComposerTypeaheadUtil","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replace(" name","");return t=t.replace(" nickname",""),t=t.replace(" secondaryName",""),t}var s=(function(t){function n(n,r){var o,a=n.id,i=n.prefix,l=i===void 0?"@":i,s=n.text;return o=t.call(this,d(s,l),r)||this,o.__contactID=e(a),o.__prefix=l,o}babelHelpers.inheritsLoose(n,t),n.getType=function(){return"actor"},n.clone=function(t){return new n({id:t.__contactID,prefix:t.__prefix,text:m(t.__text,t.__prefix)},t.__key)},n.importJSON=function(t){return u({id:t.id,prefix:t.prefix,text:t.text})};var r=n.prototype;return r.exportJSON=function(){return babelHelpers.extends({},t.prototype.exportJSON.call(this),{id:this.__contactID,prefix:this.__prefix,text:m(this.__text,this.__prefix),type:"actor"})},r.createDOM=function(n){var e=t.prototype.createDOM.call(this,n);return e.className="xv78j7m xt0e3qv x3jgonx",e.spellcheck=!1,e},r.getEntity=function(){return{id:this.__contactID,isWeak:!1}},r.getRangeType=function(){return o("MWChatComposerTypeaheadUtil").commandToRangeType(m(this.__text,this.__prefix))},n})(o("MessengerLexicalEntityTextNode").MessengerLexicalEntityTextNode);function u(e,t){return t===void 0&&(t="segmented"),new s(e).setMode(t).toggleDirectionless()}function c(e){return e instanceof s}function d(e,t){return e.startsWith(t)?e:""+t+e}function m(e,t){return e.startsWith(t)?e.slice(t.length):e}l.MessengerLexicalActorNode=s,l.$createMessengerLexicalActorNode=u,l.$isMessengerLexicalActorNode=c}),98);
__d("cometMentionsDataEntryText",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;return(t=e.handle)!=null?t:e.label}i.default=e}),66);
__d("messengerMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)})}),s=e;l.default=s}),98);
__d("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport",["createCometMentionMatchStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e=["@","\\uff20"].join(""),s=",\\+\\*\\?\\$\\@\\|#{}\\(\\)\\^\\-\\[\\]\\\\/!%'\"~=<>:;",u="(?:\\.[ |$]|[ ]['\"]|['\"][ |$]| |["+s+"]|)";function c(t){var n=t.disallowedTerms,o=t.minMatchLength;return r("createCometMentionMatchStrategy")({disallowedChars:s,disallowedTerms:n,minMatchLength:o,name:"CometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport("+o.toString()+")",triggers:e,validJoins:u})}l.default=c}),98);
__d("useMWCMMentionsDataSourceResolverConfig",["I64","Int64Hooks","LSFactory","LSIssueCommunityMemberListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","LSVec","ReQL","ReQLSuspense","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","pageID","react","react-compiler-runtime","useAsyncReStore","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e,t){var n=o("react-compiler-runtime").c(12),a=r("useAsyncReStore")(),l,u;n[0]!==e||n[1]!==a||n[2]!==t?(l=async function(l){var n=await a;await r("LSPlatformWaitForTaskCompletion")(n,function(n){return r("LSIssueCommunityMemberListFetchStoredProcedure")(r("LSFactory")(n),{communityId:e,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(s||(s=o("I64"))).zero,nextPageCursor:"",requestId:r("pageID"),roles:r("LSVec").ofArray([s.of_int32(0)]),searchText:l,source:s.of_int32(8),threadKey:t,threadRoles:r("LSVec").ofArray([])})},"fetch mentions");var u=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(n.tables.community_members.index("communitySource")).getKeyRange(e,(s||(s=o("I64"))).of_int32(8),r("pageID")).filter(d).take(6).map(function(t){var r,a=(r=o("ReQLSuspense").first(o("ReQL").fromTableAscending(n.tables.contextual_profile_v1).getKeyRange(t.contactId,e),i.id+":91"))==null?void 0:r.profileName;return{key:(s||(s=o("I64"))).to_string(t.contactId),label:a!=null?a:t.name,rawData:{photoURI:t.profilePictureUrl,source:"all",subtitle:a!=null?t.name:t.subtitle},type:"entry"}}));return u},u=[a,t,e],n[0]=e,n[1]=a,n[2]=t,n[3]=l,n[4]=u):(l=n[3],u=n[4]);var c=o("Int64Hooks").useCallbackInt64(l,u),m;n[5]===Symbol.for("react.memo_cache_sentinel")?(m=new Map,n[5]=m):m=n[5];var p=m,_;if(n[6]!==c){var f;n[8]===Symbol.for("react.memo_cache_sentinel")?(f=function(t){var e;return{entries:(e=p.get(t.query))!=null?e:[],params:t}},n[8]=f):f=n[8],_={bootstrap:function(){},fetchCache:f,fetchNetwork:async function(t){if(t.query==="")return{entries:[],params:t};var e=await c(t.query);return p.set(t.query,e),{entries:e,params:t}}},n[6]=c,n[7]=_}else _=n[7];var g;n[9]===Symbol.for("react.memo_cache_sentinel")?(g=r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0}),n[9]=g):g=n[9];var h;n[10]!==_?(h=[{dataSource:_,matchStrategy:g}],n[10]=_,n[11]=h):h=n[11];var y=h;return r("useCometMentionsDataSourceResolverConfig")(y,!1)}function d(e){var t=e.isBlocked;return t!==!0}l.default=c}),98);
__d("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","MWChatComposerMentionsViewItem.react","messengerMentionsLexicalCreateNodeStrategy","pageID","promiseDone","react","react-compiler-runtime","useCometTypeaheadViewListStrategy","useCommunityMembers","useMWCMMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect,d={view:{minWidth:"x1jzhcrs",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(10),n=e.editor,a=e.folderId,i=e.threadFBID,l;t[0]!==i?(l=(s||(s=o("I64"))).of_string(i),t[0]=i,t[1]=l):l=t[1];var m=r("useMWCMMentionsDataSourceResolverConfig")(a,l),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:d.view},t[2]=p):p=t[2];var _=r("useCometTypeaheadViewListStrategy")(p),f=o("useCommunityMembers").useClearMemberList(8),g,h;t[3]!==f?(g=function(){return(function(){r("promiseDone")(f(r("pageID")))})},h=[f],t[3]=f,t[4]=g,t[5]=h):(g=t[4],h=t[5]),c(g,h);var y;return t[6]!==m||t[7]!==n||t[8]!==_?(y=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("messengerMentionsLexicalCreateNodeStrategy"),dataSourceResolverConfig:m,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:_}),t[6]=m,t[7]=n,t[8]=_,t[9]=y):y=t[9],y}l.default=m}),98);
__d("MWCMStandaloneJoinDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneJoinDialog.react").__setRef("MWCMStandaloneJoinDialog.entrypoint")};l.default=e}),98);
__d("MWCMStandaloneMemberJoinChatDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneMemberJoinChatDialog.react").__setRef("MWCMStandaloneMemberJoinChatDialog.entrypoint")};l.default=e}),98);
__d("MWCMStandaloneRequestToJoinDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMStandaloneRequestToJoinDialog.react").__setRef("MWCMStandaloneRequestToJoinDialog.entrypoint")};l.default=e}),98);
__d("MWChannelPromptContributionsDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9897254837006123"}),null);
__d("MWChannelPromptContributionsDialogQuery$Parameters",["MWChannelPromptContributionsDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWChannelPromptContributionsDialogQuery_facebookRelayOperation"),metadata:{},name:"MWChannelPromptContributionsDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWChannelPromptContributionsDialog.entrypoint",["JSResourceForInteraction","MWChannelPromptContributionsDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{myQueryRef:{options:{fetchPolicy:"store-and-network"},parameters:n("MWChannelPromptContributionsDialogQuery$Parameters"),variables:{count:20,data:{prompt_id:t.promptId}}}}}},root:r("JSResourceForInteraction")("MWChannelPromptContributionsDialog.react").__setRef("MWChannelPromptContributionsDialog.entrypoint")};l.default=e}),98);
__d("MWChannelPromptContributionsDialogContainer.react",["CometHideLayerOnEscape.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.onClose,i=e.visibilityRef,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x1qjc9v5 xcrg951 x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6"},t[0]=l):l=t[0];var u;t[1]!==n||t[2]!==i?(u=s.jsx("div",babelHelpers.extends({},l,{ref:i,children:n})),t[1]=n,t[2]=i,t[3]=u):u=t[3];var c;return t[4]!==a||t[5]!==u?(c=s.jsx(r("CometHideLayerOnEscape.react"),{onHide:a,children:u}),t[4]=a,t[5]=u,t[6]=c):c=t[6],c}l.default=u}),98);
__d("MWXIconDots3Vertical",["MWXSvgIcon","SVGIcon","cr:22300","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22300")),r("gkx")("23219"));l.default=e}),98);
__d("MWChannelPromptContributionsDialogFallback.react",["fbt","MWChannelPromptContributionsDialogContainer.react","MWXCircleButton.react","MWXGlimmer.react","MWXIconCross","MWXIconDots3Vertical","MWXRow.react","MWXRowItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={promptTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(8),n=e.onClose,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Prompt options"),disabled:!0,icon:r("MWXIconDots3Vertical"),size:28})}),t[0]=a):a=t[0];var i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXGlimmer.react"),{index:0,xstyle:c.promptTitle})}),t[1]=i):i=t[1];var l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Close prompt contributions dialog"),t[2]=l):l=t[2];var d;t[3]!==n?(d=u.jsxs(r("MWXRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[a,i,u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":l,icon:r("MWXIconCross"),onPress:n,size:28})})]}),t[3]=n,t[4]=d):d=t[4];var m;return t[5]!==n||t[6]!==d?(m=u.jsx(r("MWChannelPromptContributionsDialogContainer.react"),{onClose:n,children:d}),t[5]=n,t[6]=d,t[7]=m):m=t[7],m}l.default=d}),226);
__d("MWChannelPromptTimerPill.react",["fbt","I64","MWXText.react","formatDate","react","react-compiler-runtime","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(7),n=e.countdownTimestampMs,a=(u||(u=o("I64"))).to_float(n),i=new Date(a),l=r("useServerTime")(),d=l.getTime()>=a,m=i.getDay()!==l.getDay(),p=d?s._(/*BTDS*/"Ended"):m?s._(/*BTDS*/"Ends tomorrow"):s._(/*BTDS*/"Ends at {time}",[s._param("time",r("formatDate")(i,"g:i A"))]),_;t[0]!==d?(_={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x1e56ztr x1gslohp x11t971q xvc5jky x10aut6u xf159sx xmzvs34 xeq5yr9 xwnonoy"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x1e56ztr x1gslohp x11t971q xvc5jky x10aut6u xf159sx xmzvs34 xeq5yr9 x1d2osyd"}}[!!d<<0],t[0]=d,t[1]=_):_=t[1];var f;t[2]!==p?(f=c.jsx(r("MWXText.react"),{color:"white",numberOfLines:1,type:"meta4",children:p}),t[2]=p,t[3]=f):f=t[3];var g;return t[4]!==_||t[5]!==f?(g=c.jsx("div",babelHelpers.extends({},_,{children:f})),t[4]=_,t[5]=f,t[6]=g):g=t[6],g}l.default=d}),226);
__d("MWChatAppendMentionsNodeToReply",["I64","LSContactTypeExact","LSIntEnum","Lexical","LexicalText","MWChatComposerTypeaheadUtil","MWPReplyContext.react","MessengerLexicalActorNode","ReQL","ReQLSuspense","cometMentionsDataEntryText","react","react-compiler-runtime","usePrevious","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=d.useContext,p=d.useEffect;function _(e,t){e.update(function(){var n=o("Lexical").$getSelection();if(!(!o("Lexical").$isRangeSelection(n)||!n.isCollapsed())){var a=n.anchor,i=a.getNode(),l=r("cometMentionsDataEntryText")(t),s=o("Lexical").$getRoot().getAllTextNodes().some(function(e){return o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(e)&&e.getTextContent().includes(l)});if(s!==!0){var u=o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:t.key,text:l}),c=o("LexicalText").$isRootTextContentEmpty(e.isComposing());c?n.insertNodes([u]):i.insertBefore(u),u.selectNext(0,0)}}})}function f(t,n,a){var l=o("react-compiler-runtime").c(18),c=m(o("MWPReplyContext.react").MWPReplyContext),d=c.reply,f=r("usePrevious")(d),g=(e||(e=r("useReStore")))(),h,y;l[0]!==g||l[1]!==d||l[2]!==n?(h=function(){return d!=null?o("ReQL").fromTableAscending(g.tables.messages).getKeyRange(n,d.timestampMs,d.messageId):o("ReQL").empty()},y=[d,n,g],l[0]=g,l[1]=d,l[2]=n,l[3]=h,l[4]=y):(h=l[3],y=l[4]);var C=o("ReQLSuspense").useFirst(h,y,i.id+":91"),b,v;l[5]!==g||l[6]!==C?(b=function(){return C!=null?o("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(C.senderId):o("ReQL").empty()},v=[g,C],l[5]=g,l[6]=C,l[7]=b,l[8]=v):(b=l[7],v=l[8]);var S=o("ReQLSuspense").useFirst(b,v,i.id+":102"),R;l[9]!==S?(R=S!=null?(s||(s=o("I64"))).equal(S.contactTypeExact,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)):!1,l[9]=S,l[10]=R):R=l[10];var L=R,E=L&&(C==null?void 0:C.botResponseId)!=null,k,I;l[11]!==t||l[12]!==E||l[13]!==f||l[14]!==d||l[15]!==a?(k=function(){var e=f==null&&d!=null;e&&E&&a===!0&&_(t,o("MWChatComposerTypeaheadUtil").aiBotMentionsEntry)},I=[t,d,f,E,a],l[11]=t,l[12]=E,l[13]=f,l[14]=d,l[15]=a,l[16]=k,l[17]=I):(k=l[16],I=l[17]),p(k,I)}l.insertMentionNodeToFront=_,l.useMWChatAppendMentionsNodeToReply=f}),98);
__d("MWChatBubbleEmphasisRing.react",["BaseThemeProvider.react","MWInboxMessageSearchJumpToResultQPL","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useEffect,d={borderRadius:22,borderStyle:"solid",borderWidth:2,content:"''",display:"block",pointerEvents:"none",position:"absolute",zIndex:1},m="xyt3z58-B",p={emphasis_animation:{animationDelay:"x1t83zlg",animationDuration:"xxkxylk",animationIterationCount:"x1v7wizp",animationName:"x1yrix95",animationTimingFunction:"x4hg4is",$$css:!0},emphasis_ring:{backgroundColor:"xjbqb8w",borderTopColor:"x1v8p93f",borderInlineEndColor:"x1o3jo1z",borderBottomColor:"x16stqrj",borderInlineStartColor:"xv5lvn5",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x1gp4ovq",borderInlineEndWidth:"x9p2oo0",borderBottomWidth:"x1h2mt7u",borderInlineStartWidth:"x56jcm7",display:"x78zum5",maxWidth:"x1hvl878",position:"x1n2onr6","::after_borderStartStartRadius":"x11xhja1","::after_borderStartEndRadius":"x1intklx","::after_borderEndEndRadius":"xl8y6zb","::after_borderEndStartRadius":"xa6mvtn","::after_borderTopStyle":"xynf4tj","::after_borderInlineEndStyle":"xdjs2zz","::after_borderBottomStyle":"x1r9ni5o","::after_borderInlineStartStyle":"xvsnedh","::after_borderTopWidth":"x31ga2r","::after_borderInlineEndWidth":"xbpqnmr","::after_borderBottomWidth":"x13afdcp","::after_borderInlineStartWidth":"xvpsmcx","::after_content":"x100rkj9","::after_display":"xhkezso","::after_pointerEvents":"x2q1x1w","::after_position":"x1j6awrg","::after_zIndex":"xitxdhh","::after_borderTopColor":"x1yzler7","::after_borderInlineEndColor":"xqezphk","::after_borderBottomColor":"xxqiif8","::after_borderInlineStartColor":"x1hju3cp","::after_bottom":"xdb1ctf","::after_insetInlineEnd":"x195fuvl","::after_insetInlineStart":"x2b3t2v","::after_left":null,"::after_right":null,"::after_top":"x7kqs8i","::before_borderStartStartRadius":"x1xcpn08","::before_borderStartEndRadius":"xuusd66","::before_borderEndEndRadius":"xzgxq3h","::before_borderEndStartRadius":"xr6sqsc","::before_borderTopStyle":"xnvurfn","::before_borderInlineEndStyle":"x1v3rft4","::before_borderBottomStyle":"x1opv7go","::before_borderInlineStartStyle":"x1rovbrg","::before_borderTopWidth":"x1b8stmw","::before_borderInlineEndWidth":"x1p3pj1f","::before_borderBottomWidth":"xmbliey","::before_borderInlineStartWidth":"xdgx9oq","::before_content":"x10tli2e","::before_display":"x1fgarty","::before_pointerEvents":"xkk1bqk","::before_position":"x1hmns74","::before_zIndex":"x12maryy","::before_borderTopColor":"xtei6gu","::before_borderInlineEndColor":"x1qsbhhb","::before_borderBottomColor":"xxs4umj","::before_borderInlineStartColor":"xbo42tm","::before_bottom":"xe80sof","::before_insetInlineEnd":"xekda60","::before_insetInlineStart":"xvw6utc","::before_left":null,"::before_right":null,"::before_opacity":"x1u3qutx","::before_top":"x51xajf",$$css:!0},emphasis_ring_connect_bottom_incoming:{"::after_borderEndStartRadius":"x1rrhjjp","::before_borderEndStartRadius":"x1tnjvmn",$$css:!0},emphasis_ring_connect_bottom_outgoing:{"::after_borderEndEndRadius":"x12o4cpz","::before_borderEndEndRadius":"x199sca6",$$css:!0},emphasis_ring_connect_top_incoming:{"::after_borderStartStartRadius":"x1wdn0qd","::before_borderStartStartRadius":"x1m0m31w",$$css:!0},emphasis_ring_connect_top_outgoing:{"::after_borderStartEndRadius":"x1cm9i5h","::before_borderStartEndRadius":"xpzouej",$$css:!0},emphasis_ring_flatten_top:{borderTop:"xj754qj","::after_borderStartEndRadius":"x15rne4o","::after_borderStartStartRadius":"x1yspkhg","::after_borderTop":"x12mb4m8","::before_borderStartEndRadius":"xi0d610","::before_borderStartStartRadius":"xnh6gb5","::before_borderTop":"x12h067n",$$css:!0},emphasis_ring_precedes_xma:{borderBottom:"x6074qk",width:"xh8yej3","::after_borderBottom":"x8kkiyc","::after_borderEndEndRadius":"xcrig1f","::after_borderEndStartRadius":"x7oczbe","::before_borderBottom":"x1uddva6","::before_borderEndEndRadius":"xjd5t2z","::before_borderEndStartRadius":"x1xd7p0v",$$css:!0}},_={"chat-outgoing-message-background-gradient":"none","chat-outgoing-message-bubble-background-color":"var(--mwp-primary-theme-color)"},f={dark:_,light:_,type:"VARIABLES"};function g(t){var n=o("react-compiler-runtime").c(14),a=t.flattenTop,i=t.message,l=t.children,s=t.connectBottom,d=t.connectTop,m=t.outgoing,_=t.precedesXMA,g=m?p.emphasis_ring_connect_top_outgoing:p.emphasis_ring_connect_top_incoming,h=m?p.emphasis_ring_connect_bottom_outgoing:p.emphasis_ring_connect_bottom_incoming,y=!_&&s&&h,C=d&&g,b=_&&p.emphasis_ring_precedes_xma,v=a&&p.emphasis_ring_flatten_top,S;n[0]!==y||n[1]!==C||n[2]!==b||n[3]!==v?(S=[p.emphasis_animation,p.emphasis_ring,y,C,b,v],n[0]=y,n[1]=C,n[2]=b,n[3]=v,n[4]=S):S=n[4];var R=S,L;n[5]!==(i==null?void 0:i.messageId)||n[6]!==(i==null?void 0:i.offlineThreadingId)?(L=function(){o("MWInboxMessageSearchJumpToResultQPL").endSuccessIfJumpedToMessage({messageId:i==null?void 0:i.messageId,offlineThreadingId:i==null?void 0:i.offlineThreadingId})},n[5]=i==null?void 0:i.messageId,n[6]=i==null?void 0:i.offlineThreadingId,n[7]=L):L=n[7];var E=i==null?void 0:i.messageId,k=i==null?void 0:i.offlineThreadingId,I;n[8]!==E||n[9]!==k?(I=[E,k],n[8]=E,n[9]=k,n[10]=I):I=n[10],c(L,I);var T;return n[11]!==l||n[12]!==R?(T=u.jsx(r("BaseThemeProvider.react"),{config:f,children:function(n,o){return u.jsx("div",{className:(e||(e=r("stylex")))(R,n),"data-testid":void 0,style:o,children:l})}}),n[11]=l,n[12]=R,n[13]=T):T=n[13],T}l.default=g}),98);
__d("MWChatBusinessQuickReply.react",["CometImage.react","MDSTextPairing.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={image:{borderStartStartRadius:"x1rl75mt",borderStartEndRadius:"x19t5iym",borderEndEndRadius:"xz7t8uv",borderEndStartRadius:"x13xmedi",float:"xj87blo",height:"x158ke7r",marginTop:"x16ldp7u",marginInlineEnd:"xf6vk7d",marginBottom:"xz62fqu",marginInlineStart:"xw01apr",width:"x1kl0l3y",$$css:!0},vertical:{paddingBottom:"xsag5q8",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x70ekce",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(16),a=t.bodyLineLimit,i=t.imageUrl,l=t.onClick,s=t.quickReplyVertical,d=t.text,m=a===void 0?1:a,p=s===void 0?!1:s,_;n[0]!==p?(_=(e||(e=r("stylex"))).props(p?c.vertical:!1),n[0]=p,n[1]=_):_=n[1];var f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x1eb86dx xbjudin xnlwouz xpp8er5 xs9wviy x143s1ad x6x6mgx x137oirg x11zcahw x1vnslfi x9f619 x1ypdohk xjb2p0i xk50ysn xl56j7k xr9ek0c x1xegmmw xjpr12u x13fj5qh x1mzt3pk x1a8lsjc xpdmqnj x1g0dm76 x889kno x1yc453h x13faqbe"},n[2]=f):f=n[2];var g;n[3]!==i?(g=i!=null?u.jsx(r("CometImage.react"),{src:i,xstyle:c.image}):null,n[3]=i,n[4]=g):g=n[4];var h=p?"end":"start",y;n[5]!==m||n[6]!==h||n[7]!==d?(y=u.jsx(r("MDSTextPairing.react"),{body:d,bodyLineLimit:m,level:3,textAlign:h}),n[5]=m,n[6]=h,n[7]=d,n[8]=y):y=n[8];var C;n[9]!==l||n[10]!==g||n[11]!==y?(C=u.jsxs("button",babelHelpers.extends({},f,{onClick:l,children:[g,y]})),n[9]=l,n[10]=g,n[11]=y,n[12]=C):C=n[12];var b;return n[13]!==_||n[14]!==C?(b=u.jsx("div",babelHelpers.extends({},_,{children:C})),n[13]=_,n[14]=C,n[15]=b):b=n[15],b}l.default=d}),98);
__d("MWChatBusinessQuickReplyText.react",["MWChatBusinessQuickReply.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=i?3:1,u;t[0]!==n||t[1]!==a?(u=function(){return n(a)},t[0]=n,t[1]=a,t[2]=u):u=t[2];var c=u,d=a.image_url,m=d!=null?d:void 0,p;return t[3]!==l||t[4]!==c||t[5]!==a.title||t[6]!==i||t[7]!==m?(p=s.jsx(r("MWChatBusinessQuickReply.react"),{bodyLineLimit:l,imageUrl:m,onClick:c,quickReplyVertical:i,text:a.title}),t[3]=l,t[4]=c,t[5]=a.title,t[6]=i,t[7]=m,t[8]=p):p=t[8],p}l.default=u}),98);
__d("MWChatUserEmailQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9122413841198113"}),null);
__d("MWChatUserEmailQuery.graphql",["MWChatUserEmailQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,concreteType:"Email",kind:"LinkedField",name:"all_emails",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"display_email",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_primary",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserEmailQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserEmailQuery",selections:e},params:{id:n("MWChatUserEmailQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserEmailQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatUserEmailQuery",["CometRelay","MWChatUserEmailQuery.graphql","promiseDone","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e=o("CometRelay").fetchQuery(t,c,{}).toPromise().then(function(e){if(e!=null){var t=e.viewer;if(t!=null){var r=t.all_emails;if(r&&r.length>0){var o=r.find(u);o!=null?n(o.display_email):n(r[0].display_email)}}}});r("promiseDone")(e)},e[0]=t,e[1]=n):n=e[1],n}function u(e){return e.is_primary}var c=e!==void 0?e:e=n("MWChatUserEmailQuery.graphql");l.useUserEmailDataQuery=s}),98);
__d("MWChatBusinessQuickReplyUserEmail.react",["MWChatBusinessQuickReply.react","MWChatUserEmailQuery","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(16),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=e.userID,u=o("MWChatUserEmailQuery").useUserEmailDataQuery(),m=d(),p=m[0],_=m[1],f;t[0]!==u?(f=function(){u(_)},t[0]=u,t[1]=f):f=t[1];var g;if(t[2]!==u||t[3]!==l?(g=[l,u,_],t[2]=u,t[3]=l,t[4]=g):g=t[4],c(f,g),p==null)return null;var h;t[5]!==n||t[6]!==a.content_type||t[7]!==a.data||t[8]!==a.image_url||t[9]!==a.payload||t[10]!==p?(h=function(){return n({content_type:a.content_type,data:a.data,image_url:a.image_url,payload:a.payload,title:p})},t[5]=n,t[6]=a.content_type,t[7]=a.data,t[8]=a.image_url,t[9]=a.payload,t[10]=p,t[11]=h):h=t[11];var y;return t[12]!==i||t[13]!==h||t[14]!==p?(y=s.jsx(r("MWChatBusinessQuickReply.react"),{onClick:h,quickReplyVertical:i,text:p}),t[12]=i,t[13]=h,t[14]=p,t[15]=y):y=t[15],y}l.default=m}),98);
__d("MWChatUserPhoneNumberQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9485519004888666"}),null);
__d("MWChatUserPhoneNumberQuery.graphql",["MWChatUserPhoneNumberQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={alias:null,args:null,concreteType:"Phone",kind:"LinkedField",name:"all_phones",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_preferred",storageKey:null},{alias:null,args:null,concreteType:"PhoneNumber",kind:"LinkedField",name:"phone_number",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"universal_number",storageKey:null}],storageKey:null}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[e],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatUserPhoneNumberQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:"user",args:null,concreteType:"User",kind:"LinkedField",name:"account_user",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("MWChatUserPhoneNumberQuery_facebookRelayOperation"),metadata:{},name:"MWChatUserPhoneNumberQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatUserPhoneNumberQuery",["CometRelay","MWChatUserPhoneNumberQuery.graphql","promiseDone","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e=o("CometRelay").fetchQuery(t,c,{}).toPromise().then(function(e){var t,r=e==null||(t=e.viewer)==null||(t=t.user)==null?void 0:t.all_phones;if(r&&r.length>0){var o=r.find(u);if(o!=null){var a;n((a=o.phone_number)==null?void 0:a.universal_number)}else{var i;n((i=r[0].phone_number)==null?void 0:i.universal_number)}}});r("promiseDone")(e)},e[0]=t,e[1]=n):n=e[1],n}function u(e){return e.is_preferred}var c=e!==void 0?e:e=n("MWChatUserPhoneNumberQuery.graphql");l.useUserPhoneNumberDataQuery=s}),98);
__d("MWChatBusinessQuickReplyUserPhoneNumber.react",["MWChatBusinessQuickReply.react","MWChatUserPhoneNumberQuery","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState;function m(e){var t=o("react-compiler-runtime").c(18),n=e.onSend,a=e.quickReply,i=e.quickReplyVertical,l=e.userID,u=o("MWChatUserPhoneNumberQuery").useUserPhoneNumberDataQuery(),m=d(p),_=m[0],f=m[1],g;t[0]!==u?(g=function(){u(function(e){return f(function(){return e})})},t[0]=u,t[1]=g):g=t[1];var h;if(t[2]!==u||t[3]!==l?(h=[l,u,f],t[2]=u,t[3]=l,t[4]=h):h=t[4],c(g,h),_==null)return null;var y=a.content_type,C=a.data,b=a.image_url,v=a.payload,S;t[5]!==y||t[6]!==C||t[7]!==b||t[8]!==v||t[9]!==_?(S={content_type:y,data:C,image_url:b,payload:v,title:_},t[5]=y,t[6]=C,t[7]=b,t[8]=v,t[9]=_,t[10]=S):S=t[10];var R=S,L;t[11]!==R||t[12]!==n?(L=function(){return n(R)},t[11]=R,t[12]=n,t[13]=L):L=t[13];var E=L,k;return t[14]!==E||t[15]!==i||t[16]!==_?(k=s.jsx(r("MWChatBusinessQuickReply.react"),{onClick:E,quickReplyVertical:i,text:_}),t[14]=E,t[15]=i,t[16]=_,t[17]=k):k=t[17],k}function p(){}l.default=m}),98);
__d("MWChatBusinessQuickReplyList.react",["Actor","CometScrollableArea.react","I64","LSIntEnum","LSQuickReplyType","MWChatBusinessQuickReplyText.react","MWChatBusinessQuickReplyUserEmail.react","MWChatBusinessQuickReplyUserPhoneNumber.react","MessengerWebEventsFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(22),n=e.arrayQR,a=e.id,i=e.onSend,l=e.quickReplyType,m;t[0]!==l?(m=l===void 0?(s||(s=o("LSIntEnum"))).ofNumber(r("LSQuickReplyType").NONE):l,t[0]=l,t[1]=m):m=t[1];var p=m,_;t[2]!==p?(_=(u||(u=o("I64"))).equal(p,(s||(s=o("LSIntEnum"))).ofNumber(r("LSQuickReplyType").VERTICAL)),t[2]=p,t[3]=_):_=t[3];var f=_,g=o("Actor").useActor(),h=g[0],y,C;t[4]!==a?(y=function(){r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"render_quick_replies",other_user_fbid:a}})},C=[a],t[4]=a,t[5]=y,t[6]=C):(y=t[5],C=t[6]),d(y,C);var b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1n2onr6 xh8yej3 x1eb86dx"},t[7]=b):b=t[7];var v;t[8]!==f?(v={0:{className:"x1eb86dx x78zum5 x1q0g3np xozqiw3 x1nn3v0j xf159sx x1a8lsjc xmzvs34"},1:{className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"}}[!!f<<0],t[8]=f,t[9]=v):v=t[9];var S;if(t[10]!==h||t[11]!==n||t[12]!==i||t[13]!==f){var R;t[15]!==h||t[16]!==i||t[17]!==f?(R=function(t,n){switch(t.content_type){case"text":return c.jsx(r("MWChatBusinessQuickReplyText.react"),{onSend:i,quickReply:t,quickReplyVertical:f},String(n));case"user_email":return c.jsx(r("MWChatBusinessQuickReplyUserEmail.react"),{onSend:i,quickReply:t,quickReplyVertical:f,userID:h},String(n));case"user_phone_number":return c.jsx(r("MWChatBusinessQuickReplyUserPhoneNumber.react"),{onSend:i,quickReply:t,quickReplyVertical:f,userID:h},String(n));default:return null}},t[15]=h,t[16]=i,t[17]=f,t[18]=R):R=t[18],S=n.map(R),t[10]=h,t[11]=n,t[12]=i,t[13]=f,t[14]=S}else S=t[14];var L;return t[19]!==v||t[20]!==S?(L=c.jsx("div",babelHelpers.extends({},b,{children:c.jsx(r("CometScrollableArea.react"),{horizontal:!0,children:c.jsx("div",babelHelpers.extends({},v,{children:S}))})})),t[19]=v,t[20]=S,t[21]=L):L=t[21],L}l.default=m}),98);
__d("MWChatComposerIcons",["cr:2809"],(function(t,n,r,o,a,i,l){"use strict";var e;l.MWChatComposerIconsGif=(e=n("cr:2809")).Gif,l.MWChatComposerIconsSticker=e.Sticker,l.MWChatComposerIconsPhoto=e.Photo,l.MWChatComposerIconsMoreActions=e.MoreActions,l.MWChatComposerIconsEmoji=e.Emoji}),98);
__d("MWChatComposerMentionsTypeaheadDataSource",["CurrentUser","MWChatComposerTypeaheadUtil","Promise"],(function(t,n,r,o,a,i,l){"use strict";var e,s=6,u=(function(){function t(e,t,n,o,a,i){this.$1=[],this.$1=Array.from(e.values()).filter(function(e){return e.contactId!==r("CurrentUser").getID()}),this.$2=t,this.$3=n!=null?n:null,this.$4=o,this.$5=a,this.$6=i}var a=t.prototype;return a.bootstrap=function(){},a.fetchCache=function(t){return o("MWChatComposerTypeaheadUtil").fetchCacheComposerMentionsTypeahead(t,this.$1,this.$2,this.$3,this.$4,this.$5,s,this.$6)},a.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();l.default=u}),98);
__d("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29201589049485762"}),null);
__d("MWChatCustomerFeedbackFormDataQuery.graphql",["MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},r=[{alias:null,args:[{kind:"Variable",name:"form_id",variableName:"formID"}],concreteType:"MessengerFeedbackFormDataResult",kind:"LinkedField",name:"messenger_feedback_form_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"page_id",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackBusinessPrivacyObject",kind:"LinkedField",name:"privacy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedbackFormScreenObject",kind:"LinkedField",name:"first_screen",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerFeedbackQuestionObject",kind:"LinkedField",name:"feedback_questions",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_default_title",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score_option",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"left_score_label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"right_score_label",storageKey:null},{alias:null,args:null,concreteType:"MessengerFeedBackQuestionFollowup",kind:"LinkedField",name:"follow_up",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"placeholder",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackFormDataQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatCustomerFeedbackFormDataQuery",selections:r},params:{id:n("MWChatCustomerFeedbackFormDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackFormDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatCustomerFeedbackFormDataQuery",["CometRelay","MWChatCustomerFeedbackFormDataQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){var e=o("CometRelay").fetchQuery(n,u,{formID:t}).toPromise().then(function(e){var t=e==null?void 0:e.messenger_feedback_form_data;t!=null&&a({firstScreen:t.first_screen,formId:t.form_id,pageId:t.page_id,privacy:t.privacy})});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatCustomerFeedbackFormDataQuery.graphql"),c=function(t,n,r){s(t,n,function(e){return r(e)})};l.fetch=c}),98);
__d("MWChatCustomerFeedbackStateQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9503867116315653"}),null);
__d("MWChatCustomerFeedbackStateQuery.graphql",["MWChatCustomerFeedbackStateQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"formID"}],t=[{alias:null,args:[{fields:[{kind:"Variable",name:"form_id",variableName:"formID"}],kind:"ObjectValue",name:"input"}],concreteType:"MessengerFeedbackFormStateQueryObject",kind:"LinkedField",name:"messenger_feedback_form_state",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"form_state",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWChatCustomerFeedbackStateQuery",selections:t,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWChatCustomerFeedbackStateQuery",selections:t},params:{id:n("MWChatCustomerFeedbackStateQuery_facebookRelayOperation"),metadata:{},name:"MWChatCustomerFeedbackStateQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatCustomerFeedbackStateQuery",["CometRelay","MWChatCustomerFeedbackStateQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){var e=o("CometRelay").fetchQuery(n,u,{formID:t}).toPromise().then(function(e){if(e){var t;a((t=e.messenger_feedback_form_state)==null?void 0:t.form_state)}});r("promiseDone")(e)},u=e!==void 0?e:e=n("MWChatCustomerFeedbackStateQuery.graphql"),c=function(t,n,r){s(t,n,function(e){return r(e)})};l.fetch=c}),98);
__d("MWChatFileIcon.react",["FDSDocumentFilled16Icon","MWXIcon_DEPRECATED.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 x2bj2ny x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1sa5p1d x1y1aw1k xf159sx xwib8y2 xmzvs34",children:s.jsx(r("MWXIcon_DEPRECATED.react"),{color:"primary",icon:r("FDSDocumentFilled16Icon")})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("MWChatFileIconV2.react",["MDSSvgDocumentCompleteIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",children:s.jsx(r("MDSSvgDocumentCompleteIcon.react"),{color:"primary",size:24})}),e[0]=t):t=e[0],t}l.default=u}),98);
__d("MWChatFilePreProcessingErrorToast.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e={body:s._(/*BTDS*/"The file you have selected is not a valid format."),title:s._(/*BTDS*/"_j[\"Invalid file format\",\"f90fb65f92ad8ac33f140b8be3c9eed1\",1]")};l.invalidFileFormat=e}),226);
__d("MWChatFilePreview.react",["fbt","FDSImageCover.react","MWChatFileIconV2.react","MWXCircleButton.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={imageCover:{maxHeight:"x138jeol",objectPosition:"x8ozjh4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.fileName,i=e.isError,l=e.isRetryableError,d=e.onRetry,m=e.withPreview,p;t[0]!==n?(p=n!=null?n:{},t[0]=n,t[1]=p):p=t[1];var _=p,f=_.previewUrl;if(i===!0){var g,h;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x1g0dm76"},h={className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 x10w6t97 xl56j7k x1td3qas"},t[2]=g,t[3]=h):(g=t[2],h=t[3]);var y;return t[4]!==l||t[5]!==d?(y=u.jsx("div",babelHelpers.extends({},g,{children:u.jsx("div",babelHelpers.extends({},h,{children:l===!0?u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Retry"),color:"primary",icon:r("MWXIconRefreshAlt"),onPress:d,size:32,testid:void 0,type:"normal"}):u.jsx("div",{"data-testid":void 0,children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconExclamationMarkCircle"),size:20})})}))})),t[4]=l,t[5]=d,t[6]=y):y=t[6],y}if(f==null||!m){var C;return t[7]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx("div",{className:"x1g0dm76",children:u.jsx(r("MWChatFileIconV2.react"),{})}),t[7]=C):C=t[7],C}var b=a!=null?a:"",v;return t[8]!==f||t[9]!==b?(v=u.jsx(r("FDSImageCover.react"),{alt:b,src:f,style:c.imageCover}),t[8]=f,t[9]=b,t[10]=v):v=t[10],v}l.default=d}),226);
__d("MWChatFileUploadErrorDialog.react",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=function(t){return{body:s._(/*BTDS*/"The file you have selected is too large. The maximum size is {size}MB.",[s._param("size",t)]),title:s._(/*BTDS*/"Failed to upload files")}},u=function(t){return{body:s._(/*BTDS*/"You can only attach a maximum of {limit} files to a single message.",[s._param("limit",t)]),title:s._(/*BTDS*/"Unable to attach files")}},c=function(t){return{body:s._(/*BTDS*/"You can only attach a maximum of {limit} media to a single message.",[s._param("limit",t)]),title:s._(/*BTDS*/"Unable to attach media")}},d=function(){return{body:s._(/*BTDS*/"One or more selected files are not supported."),title:s._(/*BTDS*/"Unsupported File")}};l.maxFileSizeExceeded=e,l.maxFilesNumberExceeded=u,l.maxMediaNumberExceeded=c,l.unsupportedFile=d}),226);
__d("MWChatFocusComposerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({focusComposer:void 0,setFocusComposer:function(){}});function f(e){var t=e.children,n=p(),r=n.current,o=m(function(){return{focusComposer:r,setFocusComposer:function(t){n.current=t}}},[r]);return s.jsx(_.Provider,{value:o,children:t})}f.displayName=f.name+" [from "+i.id+"]";function g(){return d(_)}l.MWChatFocusComposerContextProvider=f,l.useMWChatFocusComposer=g}),98);
__d("MWChatForwardAction.react",["I64","MWChatMessageId","MWMessageActionButton.react","MWPActor.react","MWXIconShare","MessengerWebUXLogger","ODS","WebUserFlowLoggingDataContextProvider.react","emptyFunction","react","react-compiler-runtime","useMWChatForward","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useContext;function m(e){(s||(s=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","forward"),e==null||e.onClick()}function p(e){var t=o("react-compiler-runtime").c(19),n=e.dropToggle,a=e.forwardDialogType,i=e.label,l=e.message,s=e.onForward,p=e.threadType,_=n===void 0?!1:n,f=a===void 0?"open_":a,g;t[0]!==l.messageId||t[1]!==l.threadKey||t[2]!==l.timestampMs?(g=o("MWChatMessageId").makeSent((u||(u=o("I64"))).to_string(l.threadKey),l.messageId,u.to_string(l.timestampMs)),t[0]=l.messageId,t[1]=l.threadKey,t[2]=l.timestampMs,t[3]=g):g=t[3];var h=g,y;t[4]!==_||t[5]!==f||t[6]!==h||t[7]!==s?(y={dropToggle:_,forwardDialogType:f,messageID:h,onClose:r("emptyFunction"),onSend:s},t[4]=_,t[5]=f,t[6]=h,t[7]=s,t[8]=y):y=t[8];var C=r("useMWChatForward")(y),b=r("MessengerWebUXLogger").useInteractionLogger(),v=d(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),S=v.setLoggingData,R=o("MWPActor.react").useActor(),L;t[9]!==R||t[10]!==C||t[11]!==b||t[12]!==l||t[13]!==S||t[14]!==p?(L=function(){m(C);var e=l.threadKey,t=(u||(u=o("I64"))).equal(l.senderId,R),n={extraData:{actor_type:t?"sender":"receiver",component:"MWChatForwardAction"},flowInstanceId:r("uuidv4")(),threadKey:e,threadType:p};b==null||b(babelHelpers.extends({},n,{eventName:"open_forward_message_dialog"})),S(n)},t[9]=R,t[10]=C,t[11]=b,t[12]=l,t[13]=S,t[14]=p,t[15]=L):L=t[15];var E=L,k;return t[16]!==E||t[17]!==i?(k=c.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconShare"),label:i,onPress:E,testid:void 0}),t[16]=E,t[17]=i,t[18]=k):k=t[18],k}l.default=p}),98);
__d("MWChatImageInsetShadow.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={imageShadow:{borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",bottom:"x1ey2m1c",boxSizing:"x9f619",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,pointerEvents:"x47corl",position:"x10l6tqk",top:"x13vifvy",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(2),n=e.xstyle,r;return t[0]!==n?(r=s.jsx(o("react-strict-dom").html.div,{style:[u.imageShadow,n]}),t[0]=n,t[1]=r):r=t[1],r}l.default=c}),98);
__d("MWChatImageSize",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState;function m(e,t,n){var r=o("react-compiler-runtime").c(4),a=t!=null?t:!1,i=c(),l=d(),s=l[0],m=l[1],_,f;return r[0]!==a||r[1]!==e?(_=function(){if(e!=null){if(i.current==null&&!a){var t=new Image;t.src=e,t.onload=function(){return m({height:t.naturalHeight,width:t.naturalWidth})},i.current=t}return(function(){m(p);var e=i.current;e!=null&&(e.onload=null)})}},f=[e,a,m],r[0]=a,r[1]=e,r[2]=_,r[3]=f):(_=r[2],f=r[3]),u(_,f),s}function p(){}l.useImageSize=m}),98);
__d("MessengerInCallReactionFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M26.5 5a1 1 0 1 1 2 0v2.25c0 .138.112.25.25.25H31a1 1 0 1 1 0 2h-2.25a.25.25 0 0 0-.25.25V12a1 1 0 1 1-2 0V9.75a.25.25 0 0 0-.25-.25H24a1 1 0 1 1 0-2h2.25a.25.25 0 0 0 .25-.25V5z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M21 7.792a.485.485 0 0 0-.366-.475A11.027 11.027 0 0 0 18 7C11.925 7 7 11.925 7 18s4.925 11 11 11 11-4.925 11-11c0-.908-.11-1.79-.317-2.634a.485.485 0 0 0-.475-.366H27.5a3 3 0 0 1-3-3 .5.5 0 0 0-.5-.5 3 3 0 0 1-3-3v-.708zM14.25 14c-.938 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.563-2-1.5-2zm7.5 0c-.938 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.563-2-1.5-2zm1.75 7.5c0 2-2.5 4-5.5 4s-5.5-2-5.5-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 .5.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MWChatReactionsAddReactionIcon",["MWXSvgIcon","MessengerInCallReactionFilled.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(r("MessengerInCallReactionFilled.svg.react")),!0);l.default=e}),98);
__d("MWXIconFaceHappyOutline",["MWXSvgIcon","SVGIcon","cr:22312","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22312")),r("gkx")("23219"));l.default=e}),98);
__d("MWChatReactionsAction.react",["fbt","MWChatMessageId","MWChatReactionsActionContainer.react","MWChatReactionsAddReactionIcon","MWMessageActionButton.react","MWV2MessageRowActionsContext.react","MWXIconFaceHappyOutline","ODS","emptyFunction","react","useIsMultiReactionEnabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect;function _(e){var t=s._(/*BTDS*/"React"),n=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),a=n.openReactionsMenu,i=m(function(){a.current=r("emptyFunction")},[a]);p(function(){return i},[i]);var l=e.messageID,d=o("MWChatMessageId").getThreadId(l),_=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(d);return c.jsx(r("MWChatReactionsActionContainer.react"),babelHelpers.extends({},e,{disableReflowToPositionOnNarrowWidth:!0,children:function(n,i,l,s,d,m){var e=function(){i(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")};return a.current=e,c.jsx(r("MWMessageActionButton.react"),{icon:r(_?"MWChatReactionsAddReactionIcon":"MWXIconFaceHappyOutline"),label:t,loggingEvent:"click_react_to_message",onHoverIn:s,onHoverOut:d,onPress:e,onPressIn:m,ref:n,testid:void 0})}}))}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWChatReceiptDataQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24351217861135071"}),null);
__d("MWChatReceiptDataQuery.graphql",["MWChatReceiptDataQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e={defaultValue:null,kind:"LocalArgument",name:"messageID"},t={defaultValue:null,kind:"LocalArgument",name:"receiptID"},r=[{alias:null,args:[{kind:"Variable",name:"message_id",variableName:"messageID"},{kind:"Variable",name:"receipt_id",variableName:"receiptID"}],concreteType:"ReceiptDataResult",kind:"LinkedField",name:"receipt_data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"recipient_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"merchant_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"payment_method",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cancellation_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_1",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_2",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"address_line_3",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"total_tax",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shipping_cost",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtotal",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"order_time",storageKey:null},{alias:null,args:null,concreteType:"ReceiptItem",kind:"LinkedField",name:"items",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumb_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"quantity",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Adjustment",kind:"LinkedField",name:"adjustments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"adjustment_type",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"display_adjustment_amount",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[e,t],kind:"Fragment",metadata:null,name:"MWChatReceiptDataQuery",selections:r,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,e],kind:"Operation",name:"MWChatReceiptDataQuery",selections:r},params:{id:n("MWChatReceiptDataQuery_facebookRelayOperation"),metadata:{},name:"MWChatReceiptDataQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatReceiptDataQuery",["CometRelay","CometRelayEnvironment","MWChatReceiptDataQuery.graphql","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(t,n,a){r("promiseDone")(o("CometRelay").fetchQuery(r("CometRelayEnvironment"),u,{messageID:n,receiptID:t}).toPromise().then(function(e){if((e==null?void 0:e.receipt_data)!=null){var t=e.receipt_data,n=t.items?t.items.map(function(e){return{description:e.description,name:e.name,price:e.price,quantity:e.quantity,thumb_url:e.thumb_url}}):[],r=t.adjustments?t.adjustments.map(function(e){return{adjustment_type:e.adjustment_type,display_adjustment_amount:e.display_adjustment_amount}}):[];a({address_line_1:t.address_line_1,address_line_2:t.address_line_2,address_line_3:t.address_line_3,adjustments:r,cancellation_url:t.cancellation_url,items:n,merchant_name:t.merchant_name,order_id:t.order_id,order_time:t.order_time,order_url:t.order_url,payment_method:t.payment_method,recipient_name:t.recipient_name,shipping_cost:t.shipping_cost,subtotal:t.subtotal,total_cost:t.total_cost,total_tax:t.total_tax})}}))},u=e!==void 0?e:e=n("MWChatReceiptDataQuery.graphql");l.fetch=s}),98);
__d("MWChatSingleSeenHead.react",["MDSGlimmer.react","MWGenAIUtils","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.altText,a=e.head,i=e.tabIndex,l=e.xstyle;if(o("MWGenAIUtils").isMetaAIContact(a.id))return null;var u;return t[0]!==n||t[1]!==a.imageSrc||t[2]!==i||t[3]!==l?(u=a.imageSrc===""?s.jsx(r("MDSGlimmer.react"),{index:1,xstyle:c.profilePlaceholder}):s.jsx(o("react-strict-dom").html.img,{alt:n,"data-testid":void 0,height:14,src:a.imageSrc,style:[c.image,l],tabIndex:i,width:14}),t[0]=n,t[1]=a.imageSrc,t[2]=i,t[3]=l,t[4]=u):u=t[4],u}var c={image:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",objectFit:"xl1xv1r",userSelect:"x87ps6o",verticalAlign:"x11njtxf",width:"x6jxa94",$$css:!0},profilePlaceholder:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",verticalAlign:"x3ajldb",width:"x6jxa94",$$css:!0}};l.default=u}),98);
__d("MWChatSingleSeenHeadRow.react",["MWChatSingleSeenHead.react","MWLSThreadDisplayContext","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={mask:{backgroundColor:"x1eb86dx",$$css:!0},root:{display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0},singleSeenHeadRow:{display:"x1jfb8zj",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.head,a=e.text,i=e.xstyle,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[u.root,u.mask],t[0]=c):c=t[0];var d;t[1]!==i?(d=[u.singleSeenHeadRow,i],t[1]=i,t[2]=d):d=t[2];var m=l==="Inbox"?"middle":"end",p;t[3]!==n||t[4]!==a?(p=s.jsx(r("MWChatSingleSeenHead.react"),{altText:a,head:n,tabIndex:0}),t[3]=n,t[4]=a,t[5]=p):p=t[5];var _;t[6]!==n.id||t[7]!==m||t[8]!==p||t[9]!==a?(_=s.jsx(r("MWXTooltip.react"),{align:m,forceInlineDisplay:!0,position:"above",tooltip:a,children:p},n.id),t[6]=n.id,t[7]=m,t[8]=p,t[9]=a,t[10]=_):_=t[10];var f;return t[11]!==d||t[12]!==_?(f=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:c,children:s.jsx(o("react-strict-dom").html.div,{style:d,children:_})}),t[11]=d,t[12]=_,t[13]=f):f=t[13],f}l.default=c}),98);
__d("MWChatStrikethroughText.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.children,r;return t[0]!==n?(r=s.jsx("s",{children:n}),t[0]=n,t[1]=r):r=t[1],r}l.default=u}),98);
__d("MessageMarkdownCodeblockLanguages",[],(function(t,n,r,o,a,i){var e=Object.freeze({ASP:"asp",ASPX:"aspx",BASH:"bash",C:"c",CLJ:"clj",CLJC:"cljc",CLJX:"cljx",CLOJURE:"clojure",COFFEESCRIPT:"coffeescript",CPLUSPLUS:"cplusplus",CPP:"cpp",CPP2:"c++",CQL:"cql",CS:"cs",CSHARP:"csharp",CSS:"css",CURL:"curl",D:"d",DART:"dart",DIFF:"diff",DOCKERFILE:"dockerfile",ECMASCRIPT:"ecmascript",ERL:"erl",ERLANG:"erlang",GO:"go",GQL:"gql",GRADLE:"gradle",GRAPHQL:"graphql",GROOVY:"groovy",HANDLEBARS:"handlebars",HBS:"hbs",HTML:"html",HTTP:"http",JAVA:"java",JAVASCRIPT:"javascript",JL:"jl",JRUBY:"jruby",JS:"js",JSON:"json",JSX:"jsx",JULIA:"julia",KOTLIN:"kotlin",KT:"kt",LESS:"less",LIQUID:"liquid",LUA:"lua",MACRUBY:"macruby",MARKDOWN:"markdown",ML:"ml",MSSQL:"mssql",MYSQL:"mysql",NODE:"node",OBJC:"objc",OBJCPP:"objcpp",OBJCPP2:"objc++",OBJECTIVEC:"objectivec",OBJECTIVECPLUSPLUS:"objectivecplusplus",OBJECTIVECPP:"objectivecpp",OCAML:"ocaml",PERL:"perl",PGSQL:"pgsql",PHP:"php",PL:"pl",PLSQL:"plsql",POSTGRES:"postgres",POSTGRESQL:"postgresql",POWERSHELL:"powershell",PS1:"ps1",PY:"py",PYTHON:"python",R:"r",RAKE:"rake",RB:"rb",RBX:"rbx",RS:"rs",RUBY:"ruby",RUST:"rust",SASS:"sass",SCALA:"scala",SCSS:"scss",SH:"sh",SHELL:"shell",SOL:"sol",SOLIDITY:"solidity",SQL:"sql",SQLITE:"sqlite",STYL:"styl",STYLUS:"stylus",SWIFT:"swift",TS:"ts",TYPESCRIPT:"typescript",XHTML:"xhtml",XML:"xml",YAML:"yaml",YML:"yml",ZSH:"zsh"});i.default=e}),66);
__d("MessengerFormattingConfig",[],(function(t,n,r,o,a,i){var e=Object.freeze({boldConfig:{pattern:"([\\s_~'\"(]|^)\\*(\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s_~'\"(]|^)\\*(?:\\S(?:.*?\\S)??)\\*(?=[\\s_~,.;:!?'\")]|$)"},italicConfig:{pattern:"([\\s*~'\"(]|^)_(\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*~'\"(]|^)_(?:\\S(?:.*?\\S)??)_(?=[\\s*~,.;:!?'\")]|$)"},strikethroughConfig:{pattern:"([\\s*_'\"(]|^)~(\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_'\"(]|^)~(?:\\S(?:.*?\\S)??)~(?=[\\s*_,.;:!?'\")]|$)"},codeConfig:{pattern:"([\\s*_~'\"(]|^)`([^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)",nonCapturingPattern:"(?:[\\s*_~'\"(]|^)`(?:[^`\\r\\n](?:.*?[^`\\r\\n])??)`(?=[\\s\\w*_~,.;:!?'\")]|$)"},codeBlockConfig:{pattern:"(```)([\\s\\S]+?)```",nonCapturingPattern:"(```)([\\s\\S]+?)```"},codeBlockV2Config:{pattern:"(`{3,})(?:(?:((.*?)(?:\\r\\n?|\\n|\\u2028))([\\s\\S]*?))|(.+?))\\1\\s*?(?:\\r\\n?|\\n|\\u2028|$)",nonCapturingPattern:"(`{3,})([\\s\\S]+?)\\1\\s*((\\r\\n)|\\r|\\n|\\u2028|$)"},blockQuoteConfig:{pattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*?((\\r\\n)|\\r|\\n|$)",nonCapturingPattern:"(^>>> ?)((.|(\\r\\n)|\\r|\\n)*?\\S(.|(\\r\\n)|\\r|\\n)*?)^<<<\\s*((\\r\\n)|\\r|\\n|$)"},multipleInlineBlockQuoteConfig:{pattern:"((^> )(.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*",nonCapturingPattern:"(^> (.*\\S.*)((\\r\\n)|\\r|\\n)?)(^> ?(.*)((\\r\\n)|\\r|\\n)?)*"},singleInlineBlockQuoteConfig:{pattern:"(^> ?)(.*?$)",nonCapturingPattern:"^> ?(.*?$)"},singleInlineHeaderConfig:{pattern:"(^# ?)(.*?$)",nonCapturingPattern:"^# ?(.*?$)"},linkConfig:{pattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)",nonCapturingPattern:"\\[([^\\[\\]]+)\\]\\(((?:https?|ftp):\\/\\/(-\\.)?(?:[^\\s\\/?\\.#-]+\\.?)+(?:\\/[^\\s]*)?)\\)"},bulletedList:{pattern:"(^[-*+])\\s+(.*)",nonCapturingPattern:"(^[-*+])\\s+(.*)"},numberedList:{pattern:"(^(\\d)+\\.)\\s+(.*)",nonCapturingPattern:"(^\\d+\\.)\\s+(.*)"}});i.default=e}),66);
__d("MWChatTextFormattingUtils",["$InternalEnum","FBLogger","MessageMarkdownCodeblockLanguages","MessengerFormattingConfig","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=n("$InternalEnum").Mirrored(["CodeBlock","InlineCode","BlockQuote","InlineQuote","Bold","Italics","StrikeThrough","Link","BulletedList","NumberedList","InlineHeader"]),u=new Set(Object.values(r("MessageMarkdownCodeblockLanguages"))),c=[s.CodeBlock,s.BlockQuote,s.InlineQuote,s.InlineCode,s.Bold,s.Italics,s.StrikeThrough];function d(e){var t,n=function(t){return t[2]},o=function(t){return new Map},a=1,i=!0,l=function(t){return!0};switch(e){case s.Bold:t=r("MessengerFormattingConfig").boldConfig.pattern;break;case s.Italics:t=r("MessengerFormattingConfig").italicConfig.pattern;break;case s.StrikeThrough:t=r("MessengerFormattingConfig").strikethroughConfig.pattern;break;case s.InlineCode:t=r("MessengerFormattingConfig").codeConfig.pattern;break;case s.BlockQuote:t=r("MessengerFormattingConfig").blockQuoteConfig.pattern,i=!1;break;case s.InlineQuote:l=function(t){return t.trim()!==">"},t=r("MessengerFormattingConfig").singleInlineBlockQuoteConfig.pattern,i=!1;break;case s.InlineHeader:l=function(t){return t.trim()!=="#"},t=r("MessengerFormattingConfig").singleInlineHeaderConfig.pattern,i=!1;break;case s.CodeBlock:n=function(t){var e,n,r,o=((e=t[3])!=null?e:"").trim().toLowerCase(),a=(n=t[4])!=null?n:t[5],i=(r=t[2])!=null?r:"";return o===""||u.has(o)?a:i+a},t=r("MessengerFormattingConfig").codeBlockV2Config.pattern,i=!1;break;case s.Link:n=function(t){return t[1]},o=function(t){return new Map([["link",t[2]]])},t=r("MessengerFormattingConfig").linkConfig.pattern,i=!1;break;case s.BulletedList:t=r("MessengerFormattingConfig").bulletedList.pattern,i=!1;break;case s.NumberedList:t=r("MessengerFormattingConfig").numberedList.pattern,i=!1,n=function(t){return t[3]},o=function(t){return new Map([["index",t[2]]])};break}if(t==null)throw r("FBLogger")("messenger_web").mustfixThrow("No formatting config found for given format");return{getCleanText:n,getExtraData:o,hasClosingTag:i,regExp:new RegExp(t,"gm"),tagIndex:a,validator:l}}function m(t,n,r,a){n===void 0&&(n=!1),r===void 0&&(r=!1),a===void 0&&(a=!1);var i=[],l=c;return n&&(l=l.concat(s.Link)),r&&(l=l.concat([s.BulletedList,s.NumberedList])),a&&(l=l.concat(s.InlineHeader)),l.forEach(function(n){var r=d(n),a=r.getCleanText,l=r.getExtraData,s=r.hasClosingTag,u=r.regExp,c=r.tagIndex,m=r.validator,p;if(m(t))for(var _=function(){if(p==null)return 0;var r=(e||(e=o("UnicodeUtils"))).substr(t,0,p.index),u=r.length-e.strlen(r),d=p.index-u,m=e.strlen(p[0]);s&&(d+=p[c].length,m-=p[c].length);var _=function(t){var e=d+m,n=t.offset+t.length;return e>t.offset&&d<n},f=a(p),g=l(p);if(!i.find(_)){var h,y;if(i.length>0){var C=i[i.length-1];if(C.entity.format===n&&C.offset+C.length+1===d)return C.entity.text+="\n"+f,C.length+=m+1,1}var b=(h=(y=g.get("link"))==null?void 0:y.includes("from_ads_ai=1"))!=null?h:!1;i.push({entity:{__typename:b?"AdsAILinkFormatting":"MessengerTextFormatting",extraData:g,format:n,text:f},length:m,offset:d})}},f;(p=u.exec(t))!=null&&(f=_(),f!==0););}),i}l.MessengerTextFormattingEntity=s,l.getFormattingRanges=m}),98);
__d("MWXMessageBlockQuote.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={forwarded:{height:"x5yr21d",marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",whiteSpace:"x126k92a",wordWrap:"x1vvkbs",$$css:!0},fullLine:{bottom:"x19ip775",top:"xnfr1j",$$css:!0},line:{borderStartStartRadius:"xqbdsaf",borderStartEndRadius:"xpf24wh",borderEndEndRadius:"x14a4ghu",borderEndStartRadius:"x1a4jp9x",bottom:"xbfrwjf",insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"xndqk7f",width:"xfo62xy",$$css:!0},lineIncomingColor:{backgroundColor:"xtyxhl7",$$css:!0},lineOutgoingColor:{backgroundColor:"xppy7ju",$$css:!0},secondaryTextIncoming:{color:"xi81zsa",$$css:!0},secondaryTextOutgoing:{color:"xkxfvhb",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.children,r=e.fullLine,a=e.outgoing,i=e.xstyle,l=r===void 0?!1:r,c=a===void 0?!0:a,d;t[0]!==i?(d=[u.forwarded,i],t[0]=i,t[1]=d):d=t[1];var m=l?u.fullLine:void 0,p=c?u.lineOutgoingColor:u.lineIncomingColor,_;t[2]!==m||t[3]!==p?(_=s.jsx(o("react-strict-dom").html.div,{style:[u.line,m,p]}),t[2]=m,t[3]=p,t[4]=_):_=t[4];var f=c?u.secondaryTextOutgoing:u.secondaryTextIncoming,g;t[5]!==f?(g=[f],t[5]=f,t[6]=g):g=t[6];var h;t[7]!==n||t[8]!==g?(h=s.jsx(o("react-strict-dom").html.div,{style:g,children:n}),t[7]=n,t[8]=g,t[9]=h):h=t[9];var y;return t[10]!==d||t[11]!==_||t[12]!==h?(y=s.jsxs(o("react-strict-dom").html.blockquote,{style:d,children:[_,h]}),t[10]=d,t[11]=_,t[12]=h,t[13]=y):y=t[13],y}l.default=c}),98);
__d("MWChatTextFormatting",["MWChatStrikethroughText.react","MWChatTextFormattingUtils","MWXLink.react","MWXMessageBlockQuote.react","MWXText.react","react","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={codeBlock:{backgroundColor:"xmjcpbm",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",whiteSpace:"x126k92a",$$css:!0},codeInline:{$$css:!0}};function c(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Bold:return s.jsx(o("react-strict-dom").html.b,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Italics:return s.jsx(o("react-strict-dom").html.i,{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.StrikeThrough:return s.jsx(r("MWChatStrikethroughText.react"),{children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.CodeBlock:return s.jsx(o("react-strict-dom").html.div,{style:u.codeBlock,children:s.jsx(r("MWXText.react"),{type:"body4",children:s.jsx(o("react-strict-dom").html.code,{children:t.text})})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineCode:return s.jsx(o("react-strict-dom").html.code,{style:u.codeInline,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!0,children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineHeader:return s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headlineEmphasized3",children:t.text});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.Link:return s.jsx(r("MWXLink.react"),{href:t.extraData.get("link"),rel:"external",target:"_blank",children:s.jsx("u",{children:t.text})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BulletedList:return s.jsx("ul",{className:"x1rg5ohu xtaz4m5 xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})});case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.NumberedList:return s.jsx("ol",{className:"x1rg5ohu x3yw8vx xdj266r x14z9mp xat24cr x1lziwak x1nhbasn",start:t.extraData.get("index"),children:t.text.split("\n").map(function(e,t){return s.jsx("li",{children:e},t)})})}}c.displayName=c.name+" [from "+i.id+"]";function d(e,t){switch(t.format){case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.BlockQuote:case o("MWChatTextFormattingUtils").MessengerTextFormattingEntity.InlineQuote:return s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,children:t.text});default:return c(e,t)}}d.displayName=d.name+" [from "+i.id+"]",l.messageRenderer=c,l.messageIncomingRenderer=d}),98);
__d("MWChatTypingIndicator.react",["MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="x1h06q2e-B",c="x1yitzd3-B",d={dot:{alignItems:"x6s0dn4",animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"xwnhzmj",animationTimingFunction:"x4hg4is",backgroundColor:"x1iuwi03",borderStartStartRadius:"xr9e8f9",borderStartEndRadius:"x1e4oeot",borderEndEndRadius:"x1ui04y5",borderEndStartRadius:"x6en5u8",display:"x78zum5",height:"xqu0tyb",marginInlineStart:"xm2jcoa",marginInlineEnd:"x1mpyi22",marginLeft:null,marginRight:null,width:"x51ohtg",$$css:!0},dot1:{animationDelay:"x1t83zlg",$$css:!0},dot1Opacity:{animationDelay:"x1uzojwf",$$css:!0},dot2:{animationDelay:"x1x1c4bx",$$css:!0},dot2Opacity:{animationDelay:"xfjzax6",$$css:!0},dot3:{animationDelay:"x1xwhvez",$$css:!0},dot3Opacity:{animationDelay:"x1la68h3",$$css:!0},dotOpacity:{animationDuration:"xmg6eyc",animationIterationCount:"xa4qsjk",animationName:"x1bcwpiy",animationTimingFunction:"x4hg4is",opacity:"x1hc1fzr",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1ta3ar0",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(10),n=e.threadType,a;t[0]!==n?(a={eventName:"show_typing_indicators",threadType:n},t[0]=n,t[1]=a):a=t[1];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=[d.dotOpacity,d.dot1Opacity],t[2]=l):l=t[2];var u;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx(o("react-strict-dom").html.div,{style:l,children:s.jsx(o("react-strict-dom").html.div,{style:[d.dot,d.dot1]})}),t[3]=u):u=t[3];var c;t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[d.dotOpacity,d.dot2Opacity],t[4]=c):c=t[4];var m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m=s.jsx(o("react-strict-dom").html.div,{style:c,children:s.jsx(o("react-strict-dom").html.div,{style:[d.dot,d.dot2]})}),t[5]=m):m=t[5];var p;t[6]===Symbol.for("react.memo_cache_sentinel")?(p=[d.dotOpacity,d.dot3Opacity],t[6]=p):p=t[6];var _;t[7]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(o("react-strict-dom").html.div,{style:p,children:s.jsx(o("react-strict-dom").html.div,{style:[d.dot,d.dot3]})}),t[7]=_):_=t[7];var f;return t[8]!==i?(f=s.jsxs(o("react-strict-dom").html.div,{ref:i,style:d.root,children:[u,m,_]}),t[8]=i,t[9]=f):f=t[9],f}l.default=m}),98);
__d("MWLSPostbackCtaHandler",["AdsMessengerContext.react","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MWThreadKey.react","MessagePowerUp","promiseDone","react","react-compiler-runtime","useLSMessagingInitiatingSource","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useContext;function d(){var t=o("react-compiler-runtime").c(8),n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),u=r("useLSMessagingInitiatingSource")(),d=r("useLSMessagingSource")(),m=c(o("AdsMessengerContext.react").AdsMessengerContext),p=m.onSendPostback,_,f;return t[0]!==a||t[1]!==u||t[2]!==d||t[3]!==p||t[4]!==n||t[5]!==l?(_=function(t,c){if(p!=null)return r("promiseDone")(p(t,c));var e=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(l,d);r("promiseDone")(n.runInTransaction(function(n){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(n),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:u!=null?u:void 0,mark_read:!0,platform_token:t,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:s.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:s.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:e}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:a,snippet:c,text:c,threadKey:l,threadType:s.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":53"))},f=[n,d,u,a,l,p],t[0]=a,t[1]=u,t[2]=d,t[3]=p,t[4]=n,t[5]=l,t[6]=_,t[7]=f):(_=t[6],f=t[7]),o("Int64Hooks").useCallbackInt64(_,f)}l.usePostbackCtaHandler=d}),98);
__d("XP2PVerificationDialogBaseControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/p2p/verify/dialog/",Object.freeze({is_sender_flow:!1}),void 0),s=e;l.default=s}),98);
__d("MWP2PPaymentTransactionInformationVerify",["JSResourceForInteraction","XP2PVerificationDialogBaseControllerRouteBuilder","gkx","nullthrows","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=r("useMWXLazyDialog")(r("JSResourceForInteraction")("CometCompatModal.react").__setRef("MWP2PPaymentTransactionInformationVerify")),t=e[0],n=r("useMWXLazyDialog")(r("JSResourceForInteraction")("CometP2PPaymentIDVFlow.react").__setRef("MWP2PPaymentTransactionInformationVerify")),o=n[0];return s(function(e){var n=e.id;return r("gkx")("22992")?o({transferId:r("nullthrows")(n)},function(){}):t({params:{rel:"dialog-post",uri:r("XP2PVerificationDialogBaseControllerRouteBuilder").buildURL({id:r("nullthrows")(n),is_sender_flow:!1})}},function(){})},[t])}l.useP2PPaymentTransactionInformationVerify=u}),98);
__d("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9927334817327047"}),null);
__d("MarketplaceCometReviewOffersDialogQuery$Parameters",["MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MarketplaceCometReviewOffersDialogQuery_facebookRelayOperation"),metadata:{},name:"MarketplaceCometReviewOffersDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MarketplaceCometReviewOffersDialog.entrypoint",["JSResourceForInteraction","MarketplaceCometReviewOffersDialogQuery$Parameters","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.listingId;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:r("MarketplaceCometReviewOffersDialogQuery$Parameters"),variables:{listingId:e,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("MarketplaceCometReviewOffersDialog.react").__setRef("MarketplaceCometReviewOffersDialog.entrypoint")};l.default=e}),98);
__d("MessagingAIOnboardingFlowLoggingUtils",["$InternalEnum","BMGenAIOnboardingSourceReferrer","BMGenAIOnboardingSourceSurface","BmGenAiBusinessEventFalcoEvent","URI","castToEnum","react","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useRef,c=n("$InternalEnum")({AI_AGENT_AUDIENCE_UPSELL_MODEL:"ai_agent_audience_upsell_model",BETA_ONBOARDING_FLOW:"beta_onboarding_flow",COMMERCE_MANAGER_CATALOG_ITEMS_TAB:"commerce_manager_catalog_items_tab"});function d(t){var n=(e||(e=r("URI"))).getRequestURI(),o=n.getQueryData();return o[t]}function m(){var e=d("source_surface"),t=d("source_referrer");return{source_referrer:r("castToEnum")(t,r("BMGenAIOnboardingSourceReferrer"),"unknown"),source_surface:r("castToEnum")(e,r("BMGenAIOnboardingSourceSurface"),"unknown")}}function p(){var e=d("nav_ref");return e!=null?e:""}function _(){var e=d("bad_shop_name");return e!=null?e:""}function f(e,t,n){var r=m(),o=p(),a=n==null||n.trim()===""?"0":n,i=babelHelpers.extends({},r,{business_account_id:a,event:e,nav_ref:o});return babelHelpers.extends({},i,{page_id:t!=null?t:void 0})}function g(e,t,n,r,o,a){try{b({businessID:n,catalogID:r,catalogSource:o,event:e,extraInfo:a,pageID:t})}catch(e){}}function h(e,t,n,r,o,a){try{b({businessID:n,catalogID:r,catalogSource:o,event:e,extraInfo:a?babelHelpers.extends({},a,{isNewMBS:"1"}):{isNewMBS:"1"},pageID:t})}catch(a){if(!(a instanceof Error))return;C(e,t,n,r,o,a)}}function y(e,t,n,r,o,a,i){v({businessID:n,catalogID:r,catalogSource:o,error:a,event:e,extraInfo:i?babelHelpers.extends({},i,{isNewMBS:"1"}):{isNewMBS:"1"},pageID:t})}function C(e,t,n,r,o,a,i){v({businessID:n,catalogID:r,catalogSource:o,error:a,event:e,extraInfo:i,pageID:t})}function b(e){var t=e.businessID,n=e.catalogID,o=e.catalogSource,a=e.event,i=e.extraInfo,l=e.pageID,s=f(a,l,t),u=n==null||n.trim()===""?"0":n;r("BmGenAiBusinessEventFalcoEvent").log(function(){return babelHelpers.extends({},s,{catalog_id:u,catalog_type:String(o),extra_info:i})})}function v(e){var t=e.businessID,n=e.catalogID,o=e.catalogSource,a=e.error,i=e.event,l=e.extraInfo,s=e.pageID,u=f(i,s,t),c=S(a);r("BmGenAiBusinessEventFalcoEvent").log(function(){var e;return babelHelpers.extends({},u,{catalog_id:n!=null?n:"0",catalog_type:String(o),exception_code:c==null||(e=c.code)==null?void 0:e.toString(),exception_message:a.toString(),exception_stacktrace:a.stack,exception_type:a.name,extra_info:l})})}function S(e){var t=Object.prototype.hasOwnProperty.call(e,"code")&&Object.prototype.hasOwnProperty.call(e,"description")&&Object.prototype.hasOwnProperty.call(e,"summary");return t?e:null}function R(e){var t=u(!0),n=r("useVisibilityObserver")({onVisible:function(){t.current&&(t.current=!1,b(e))}});return n}l.BMGenAIBusinessToggleUpdateSource=c,l.getQueryParamFromURI=d,l.getSourceSurfaceAndSourceReferrer=m,l.getNavRefFromURI=p,l.getBadShopNameFromURI=_,l.logEvents=g,l.logSMBEvents=h,l.logSMBExceptions=y,l.logExceptions=C,l.logEvent=b,l.logException=v,l.useImpressionLog=R}),98);
__d("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9357715610995402"}),null);
__d("ServicesCometLeadFormDialogRootQuery$Parameters",["ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("ServicesCometLeadFormDialogRootQuery_facebookRelayOperation"),metadata:{},name:"ServicesCometLeadFormDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("ViewFormDetailsModal.entrypoint",["JSResourceForInteraction","ServicesCometLeadFormDialogRootQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryRef:{parameters:r("ServicesCometLeadFormDialogRootQuery$Parameters"),variables:{responseID:t.responseID}}}}},root:r("JSResourceForInteraction")("ServicesCometLeadFormDialogRoot.react").__setRef("ViewFormDetailsModal.entrypoint")};l.default=e}),98);
__d("ViewFormRequestEditableDialogRootQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24251305977787491"}),null);
__d("ViewFormRequestEditableDialogRootQuery$Parameters",["ViewFormRequestEditableDialogRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("ViewFormRequestEditableDialogRootQuery_facebookRelayOperation"),metadata:{},name:"ViewFormRequestEditableDialogRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("ViewFormRequestEditableModal.entrypoint",["JSResourceForInteraction","ViewFormRequestEditableDialogRootQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryRef:{parameters:r("ViewFormRequestEditableDialogRootQuery$Parameters"),variables:{requestID:t.requestID}}}}},root:r("JSResourceForInteraction")("ViewFormRequestEditableDialogRoot.react").__setRef("ViewFormRequestEditableModal.entrypoint")};l.default=e}),98);
__d("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9917349461720552"}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation.graphql",["commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:"results",args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"WorkplaceChatBotSubmitFeedbackResponsePayload",kind:"LinkedField",name:"workplace_chat_bot_submit_feedback",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"commitWorkplaceChatBotSubmitFeedbackMutation",selections:t},params:{id:n("commitWorkplaceChatBotSubmitFeedbackMutation_facebookRelayOperation"),metadata:{},name:"commitWorkplaceChatBotSubmitFeedbackMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("commitWorkplaceChatBotSubmitFeedbackMutation",["CometRelay","Promise","commitWorkplaceChatBotSubmitFeedbackMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e!==void 0?e:e=n("commitWorkplaceChatBotSubmitFeedbackMutation.graphql");function c(e){var t=e.action_content_blob,r=e.config;return new(s||(s=n("Promise")))(function(e,n){o("CometRelay").commitMutation(r.environment,{mutation:u,onCompleted:function(n){var t;e((t=n.results)==null?void 0:t.success)},onError:function(t){n(t)},variables:{input:{action_content_blob:t}}})})}l.default=c}),98);
__d("createErrorForMAIBALogger",["err"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e instanceof Error)return e;try{var t;return r("err")((t=JSON.stringify(e))!=null?t:"Unknown error")}catch(e){return r("err")("Unknown error")}}l.default=e}),98);
__d("goUriOnNewWindow",["goURIOnWindow"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=window.open("","_blank");return t==null?!1:r("goURIOnWindow")(t,e)}l.default=e}),98);
__d("useBizAIToggleAIMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24563588416569285"}),null);
__d("useBizAIToggleAIMutation.graphql",["useBizAIToggleAIMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"params",variableName:"input"}],kind:"ScalarField",name:"xfb_biz_ai_onboarding_activate_ai",storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useBizAIToggleAIMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useBizAIToggleAIMutation",selections:t},params:{id:n("useBizAIToggleAIMutation_facebookRelayOperation"),metadata:{},name:"useBizAIToggleAIMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useBizAIToggleAI",["CometRelay","Promise","react","useBizAIToggleAIMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback,d=e!==void 0?e:e=n("useBizAIToggleAIMutation.graphql");function m(){var e=o("CometRelay").useMutation(d),t=e[0],r=e[1],a=c(function(e){var r=e.pageID,o=e.setOnboardingProgress,a=e.sourceReferrer,i=e.turnOnAI;return new(s||(s=n("Promise")))(function(e,n){return t({onCompleted:function(){e()},onError:function(t){n(t)},variables:{input:{page_id:r,set_onboarding_progress:o,source_referrer:a,turn_on_ai:i}}})})},[t]);return[a,r]}l.default=m}),98);
__d("MerchantConfirmOrderDialog.entrypoint",["BizKitBIOOrderDetailActionsQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{MerchantConfirmOrderQueryReference:{parameters:n("BizKitBIOOrderDetailActionsQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("MerchantConfirmOrderDialogContainer.react").__setRef("MerchantConfirmOrderDialog.entrypoint")};l.default=e}),98);
__d("useMerchantConfirmOrderDialog",["MerchantConfirmOrderDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n;t[0]!==e?(n={orderID:e},t[0]=e,t[1]=n):n=t[1];var a;return t[2]===Symbol.for("react.memo_cache_sentinel")?(a={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},t[2]=a):a=t[2],r("useMWXEntryPointDialog")(r("MerchantConfirmOrderDialog.entrypoint"),n,void 0,void 0,a)}l.default=e}),98);
__d("useHandleMerchantConfirmOrderDialog",["react","react-compiler-runtime","useMerchantConfirmOrderDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMerchantConfirmOrderDialog")(n!=null?n:""),m=c[0],_,f;e[0]!==l||e[1]!==n||e[2]!==m?(_=function(){if(n!=null&&l){var e=function(){return s(!1)};m({orderID:n},e)}},f=[l,n,m],e[0]=l,e[1]=n,e[2]=m,e[3]=_,e[4]=f):(_=e[3],f=e[4]),u(_,f);var g;return e[5]===Symbol.for("react.memo_cache_sentinel")?(g=function(t){s(p),a(function(){return t})},e[5]=g):g=e[5],g}function p(){return!0}l.default=m}),98);
__d("useMWLSMarketplaceXmaCtaHandler",["LSFactory","LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(3),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l;return t[0]!==n||t[1]!==a?(l=function(t,o,l,s){r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticProcessMarketplaceCallFunctionCTAStoredProcedure")(r("LSFactory")(e),{actionType:s,attachmentFbid:o,messageId:t,targetId:l,threadKey:a})},"readwrite",void 0,void 0,i.id+":38"))},t[0]=n,t[1]=a,t[2]=l):l=t[2],l}l.default=c}),98);
__d("useMWLSOpenStaticLocationDialog.react",["I64","JSResourceForInteraction","MWThreadKey.react","Promise","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useCallback;function m(){var t=o("react-compiler-runtime").c(6),a=(s||(s=r("useReStore")))(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=r("JSResourceForInteraction")("MWChatStaticLocationDialog.react").__setRef("useMWLSOpenStaticLocationDialog.react"),t[0]=c):c=t[0];var d=r("useMWXLazyDialog")(c),m=d[0],_;return t[1]!==m||t[2]!==a.tables.attachment_ctas||t[3]!==a.tables.attachments||t[4]!==l?(_=function(s){r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(l,s).map(function(e){var t=e.defaultCtaId,n=t!=null?t:(u||(u=o("I64"))).zero,r=o("ReQLSuspense").first(o("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(n),i.id+":40");if(r!=null)return r.nativeUrl})).then(function(t){var r=t!=null?t:"",o=r.split(","),a=o[0],i=o[1];if(a==null||i==null){var l,s,u=new URL(r).searchParams;a=(l=u.get("lat"))!=null?l:"",i=(s=u.get("long"))!=null?s:""}return m({latitude:a,longitude:i},p),(e||(e=n("Promise"))).resolve()}))},t[1]=m,t[2]=a.tables.attachment_ctas,t[3]=a.tables.attachments,t[4]=l,t[5]=_):_=t[5],_}function p(){}l.default=m}),98);
__d("P2MAttachBankSlipDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9534661689958012"}),null);
__d("P2MAttachBankSlipDialogQuery$Parameters",["P2MAttachBankSlipDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MAttachBankSlipDialogQuery_facebookRelayOperation"),metadata:{},name:"P2MAttachBankSlipDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MAttachBankSlipDialog.entrypoint",["JSResourceForInteraction","P2MAttachBankSlipDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{P2MAttachBankSlipDialogQueryReference:{parameters:n("P2MAttachBankSlipDialogQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("P2MAttachBankSlipDialog.react").__setRef("P2MAttachBankSlipDialog.entrypoint")};l.default=e}),98);
__d("useMWUIAttachBankSlipDialog",["P2MAttachBankSlipDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={orderID:e},t[0]=e,t[1]=n):n=t[1],r("useMWXEntryPointDialog")(r("P2MAttachBankSlipDialog.entrypoint"),n)}l.default=e}),98);
__d("useMWLSShowAttachBankSlip",["react","react-compiler-runtime","useMWUIAttachBankSlipDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMWUIAttachBankSlipDialog")(n),m=c[0],_,f;e[0]!==l||e[1]!==n||e[2]!==m?(_=function(){n!=null&&l&&m({orderID:n},function(){return s(!1)})},f=[n,l,m],e[0]=l,e[1]=n,e[2]=m,e[3]=_,e[4]=f):(_=e[3],f=e[4]),u(_,f);var g;return e[5]===Symbol.for("react.memo_cache_sentinel")?(g=function(t){return s(p),a(function(){return t})},e[5]=g):g=e[5],g}function p(){return!0}l.default=m}),98);
__d("useMWUIECPCheckoutDialog",["FBP2MECPCheckoutDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("react-compiler-runtime").c(4),i;return a[0]!==e||a[1]!==t||a[2]!==n?(i={entrypoint:e,orderID:t,pageID:n},a[0]=e,a[1]=t,a[2]=n,a[3]=i):i=a[3],r("useMWXEntryPointDialog")(r("FBP2MECPCheckoutDialog.entrypoint"),i)}l.default=e}),98);
__d("useMWLSShowECPCheckout",["react","react-compiler-runtime","useMWUIECPCheckoutDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(8),t=d(""),n=t[0],a=t[1],i=d(""),l=i[0],s=i[1],c=d(""),m=c[0],_=c[1],f=d(!1),g=f[0],h=f[1],y=r("useMWUIECPCheckoutDialog")(m,n,l),C=y[0],b,v;e[0]!==m||e[1]!==g||e[2]!==n||e[3]!==l||e[4]!==C?(b=function(){if(n!=null&&g){C({entrypoint:m,orderID:n,pageID:l},function(){return h(!1)});return}},v=[m,n,l,g,C],e[0]=m,e[1]=g,e[2]=n,e[3]=l,e[4]=C,e[5]=b,e[6]=v):(b=e[5],v=e[6]),u(b,v);var S;return e[7]===Symbol.for("react.memo_cache_sentinel")?(S=function(t,n,r){h(p),a(function(){return n!=null?n:""}),s(function(){return r}),_(function(){return t})},e[7]=S):S=e[7],S}function p(){return!0}l.default=m}),98);
__d("useMWLSShowMemberRequest",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsReviewDialog.entrypoint","WebPixelRatio","react","react-compiler-runtime","useCometDynamicEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t=r("useCometDynamicEntryPointDialog")(r("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint")),n=r("useCometDynamicEntryPointDialog")(r("GroupsCometAdmodChatsReviewDialog.entrypoint")),a;return e[0]!==t||e[1]!==n?(a=function(r,a,i,l){r!=null&&(l!=null&&l!=="0"?t({routeProps:{adminActivityID:l,groupID:a,isManagementActivityLogTargetProfilePlus:!1}},{activityLogTarget:"Group",groupID:a}):n({groupID:a,profileID:i,scale:o("WebPixelRatio").get()},{}))},e[0]=t,e[1]=n,e[2]=a):a=e[2],a}l.default=u}),98);
__d("useMWLSShowOffsiteBankTransfer",["logVultureJSDeadEntrypoint"],(function(t,n,r,o,a,i,l){"use strict";function e(){return s}function s(e){r("logVultureJSDeadEntrypoint")("P2MOffsiteBankTransferDialog.entrypoint")}l.default=e}),98);
__d("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9813648665385219"}),null);
__d("P2MInvoicerAndConsumerSwitcherQuery$Parameters",["P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MInvoicerAndConsumerSwitcherQuery_facebookRelayOperation"),metadata:{},name:"P2MInvoicerAndConsumerSwitcherQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MOrderDetailDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25518533077832667"}),null);
__d("P2MOrderDetailDialogQuery$Parameters",["P2MOrderDetailDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("P2MOrderDetailDialogQuery_facebookRelayOperation"),metadata:{live:{polling_interval:1e4}},name:"P2MOrderDetailDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("P2MOrderDetailDialog.entrypoint",["JSResourceForInteraction","P2MInvoicerAndConsumerSwitcherQuery$Parameters","P2MOrderDetailDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.orderID;return{queries:{P2MInvoicerAndConsumerSwitcherQueryReference:{parameters:n("P2MInvoicerAndConsumerSwitcherQuery$Parameters"),variables:{orderID:e}},P2MOrderDetailDialogQueryReference:{parameters:n("P2MOrderDetailDialogQuery$Parameters"),variables:{orderID:e}}}}},root:r("JSResourceForInteraction")("P2MOrderDetailDialogContainer.react").__setRef("P2MOrderDetailDialog.entrypoint")};l.default=e}),98);
__d("useBizKitAssets",["react","useBizKitSelectedAssets"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u=[];function c(e){var t=r("useBizKitSelectedAssets")(),n=t.assets;return s(function(){return e.length>0?n.filter(function(t){return e.includes(t.type)}):u},[e,n])}l.default=c}),98);
__d("useBizKitPageNullable",["BizKitMultiAssetSelectionGating.entrypointutils","useBizKitAssets"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useBizKitAssets")(["PAGE"]);return e.length===1||o("BizKitMultiAssetSelectionGating.entrypointutils").getCanSelectMultipleAssetsInSelector()&&e.length>1?e[0].id:null}l.default=e}),98);
__d("useBizKitIgAccountNullable",["useBizKitAssets"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useBizKitAssets")(["INSTAGRAM_ACCOUNT_V2"]);return e.length===0?null:e[0].id}l.default=e}),98);
__d("useBizKitWabaNullable",["useBizKitAssets"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useBizKitAssets")(["WHATSAPP_BUSINESS_ACCOUNT"]);return e.length===0?null:e[0].id}l.default=e}),98);
__d("usePageGatingExtrasGetter",["BizInboxStateContext","react","useBizKitIgAccountNullable","useBizKitWabaNullable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(r("BizInboxStateContext")),t=e.selectedThreadID,n=e.selectedThreadType,o=r("useBizKitWabaNullable")(),a=r("useBizKitIgAccountNullable")();return function(){var e={};return t!=null&&n!=null&&(e.selected_thread_id=t,e.selected_thread_type=n),o!=null&&(e.wa_asset_id=o),a!=null&&(e.ig_asset_id=a),e}}l.default=u}),98);
__d("usePageGatingV2",["invariant","BizSuitePageGatingClient","BizSuitePageGatingEventManager","BizSuitePageGatingStore","FBLogger","getErrorSafe","react","useBizKitPageNullable","usePageGatingExtrasGetter"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=u.useState;function p(e){var t=r("useBizKitPageNullable")(),n=r("usePageGatingExtrasGetter")(),a=m(o("BizSuitePageGatingStore").isInstalled()),i=a[0],l=a[1],u=d(null);c(function(){if(t){var n=o("BizSuitePageGatingEventManager").subscribeToResponseStore(function(e){u.current=e.states,l(e.states!=null)});return o("BizSuitePageGatingEventManager").dispatchRequestEntry(t,o("BizSuitePageGatingEventManager").INITIALIZER_UNIVERSE,e),function(){return n.remove()}}},[t,e]);var p=e;return p==="gk"?{getBool:function(r,a,l){var t,s;if(o("BizSuitePageGatingClient").ODSBumpKeyDebounced(r,a,"gk","getBoolAttempt"),!r||!i)return o("BizSuitePageGatingClient").ODSBumpKeyDebounced(r,a,"gk","testGroupFlicker"),!1;var c=(t=o("BizSuitePageGatingStore").getPageGatingEntryState(r,a,e))!=null?t:(s=u.current)==null?void 0:s[a],d=c==null?void 0:c.entry;return d!=null&&(l==null?void 0:l.silent)!==!0&&o("BizSuitePageGatingClient").exposeGatingEntry(d,null,n()),(d==null?void 0:d.type)==="gk"?(o("BizSuitePageGatingClient").ODSBumpKeyDebounced(r,a,"gk","delivered"),d.value):(o("BizSuitePageGatingClient").ODSBumpKeyDebounced(r,a,"gk","entryMissing"),!1)},expose:function(a,l){try{var t,s;if(!a||!i)return;var c=(t=o("BizSuitePageGatingStore").getPageGatingEntryState(a,l,e))!=null?t:(s=u.current)==null?void 0:s[l],d=c==null?void 0:c.entry;d!=null?o("BizSuitePageGatingClient").exposeGatingEntry(d,null,n()):o("BizSuitePageGatingClient").ODSBumpKeyDebounced(a,l,"gk","notEnoughData")}catch(e){var m=r("getErrorSafe")(e);r("FBLogger")("mbs_page_gating").catching(m).mustfix("Failed to expose GK")}}}:new Proxy({getBool:function(){return null},getNumber:function(){return null},getString:function(){return null},expose:function(){}},{get:function(r,a){return function(t,r,l,c){try{var d,m,p;if(o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe",a+"Attempt"),a==="getBool"||a==="getNumber"||a==="getString"||a==="expose"||s(0,93637),l!=null||s(0,86217),!t||!i)return o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","testGroupFlicker"),null;if((c==null||(d=c.fallback)==null?void 0:d.enabled)===!0){var _;return o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe",a+"ResolvedNoExposure"),c==null||(_=c.fallback)==null?void 0:_[a]}var f=(m=o("BizSuitePageGatingStore").getPageGatingEntryState(t,r,e))!=null?m:(p=u.current)==null?void 0:p[r],g=f==null?void 0:f.entry;if(g!=null&&(c==null?void 0:c.silent)!==!0?o("BizSuitePageGatingClient").exposeGatingEntry(g,l,n()):(g==null&&o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","entryMissing"),o("BizSuitePageGatingStore").isInstalled()||o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","pageGatingNotInstalled"),(f==null?void 0:f.pristine)===!0&&o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","isPristine")),a==="expose")return;if((g==null?void 0:g.type)==="qe"){var h,y;return o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","delivered"),(h=(y=g.params)==null||(y=y[l])==null?void 0:y[a])!=null?h:null}return o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","entryMissing"),null}catch(e){throw o("BizSuitePageGatingClient").ODSBumpKeyDebounced(t,r,"qe","error.v2"),e}}}})}l.default=p}),98);
__d("usePageGating",["usePageGatingV2"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("usePageGatingV2")}),98);
__d("useMWUIOrderDetailsDialog",["CometPlaceholder.react","JSResourceForInteraction","P2MOrderDetailDialog.entrypoint","lazyLoadComponent","react","react-compiler-runtime","useBizKitPageNullable","useMWXEntryPointDialog","usePageGating"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("P2MOrderDetailInvoiceDialogV2Loading.react").__setRef("useMWUIOrderDetailsDialog"));function c(e){var t=o("react-compiler-runtime").c(3),n=r("useBizKitPageNullable")(),a=r("usePageGating")("gk"),i=n!=null&&!!a.getBool(n,"bm_lo_max_tas_upb_milestone_2"),l=i?d:void 0,s;t[0]!==e?(s={orderID:e},t[0]=e,t[1]=s):s=t[1];var u;return t[2]===Symbol.for("react.memo_cache_sentinel")?(u={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},t[2]=u):u=t[2],r("useMWXEntryPointDialog")(r("P2MOrderDetailDialog.entrypoint"),s,void 0,l,u)}function d(e){return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:s.jsx(u,{onClose:e})})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWLSShowOrderDetails",["InteractionTracing","qpl","react","react-compiler-runtime","useMWUIOrderDetailsDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(6),t=d(null),n=t[0],a=t[1],i=d(!1),l=i[0],s=i[1],c=r("useMWUIOrderDetailsDialog")(n),m=c[0],f,g;e[0]!==l||e[1]!==n||e[2]!==m?(f=function(){if(n!=null&&l){var e=r("InteractionTracing").startInteraction({interactionClass:"fast",qplEvent:r("qpl")._(341848280,"867"),tracePolicy:"ctxo_performance.orderDetails.v2",traceType:"INTERACTION"});m({interactionID:e,orderID:n},function(){s(!1),r("InteractionTracing").getPendingInteractions().forEach(_)})}},g=[n,l,m],e[0]=l,e[1]=n,e[2]=m,e[3]=f,e[4]=g):(f=e[3],g=e[4]),u(f,g);var h;return e[5]===Symbol.for("react.memo_cache_sentinel")?(h=function(t){return s(p),a(function(){return t})},e[5]=h):h=e[5],h}function p(){return!0}function _(e){var t;((t=e.getTrace())==null?void 0:t.tracePolicy)==="ctxo_performance.orderDetails.v2"&&e.cancelTrace("[Manual Cancel] Dialog Closed",!0)}l.default=m}),98);
__d("useMWUIPaymentDetailsDialog",["FBPayHubTransactionDetailDialog.entrypoint","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={transactionID:e},t[0]=e,t[1]=n):n=t[1],r("useMWXEntryPointDialog")(r("FBPayHubTransactionDetailDialog.entrypoint"),n)}l.default=e}),98);
__d("useMWLSShowPaymentDetails",["LSIntEnum","MWLSDatabaseLazySync","promiseDone","react","react-compiler-runtime","useMWUIPaymentDetailsDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useMemo,m=u.useState;function p(){var e=o("react-compiler-runtime").c(8),t=m(null),n=t[0],a=t[1],i=m(!1),l=i[0],u=i[1],d=r("useMWUIPaymentDetailsDialog")(n),p=d[0],f;e[0]===Symbol.for("react.memo_cache_sentinel")?(f=(s||(s=o("LSIntEnum"))).ofNumber(15),e[0]=f):f=e[0];var g=o("MWLSDatabaseLazySync").useSync(f),h,y;e[1]!==l||e[2]!==p||e[3]!==n?(h=function(){n!=null&&l&&p({transactionID:n},function(){return u(!1)})},y=[n,l,p],e[1]=l,e[2]=p,e[3]=n,e[4]=h,e[5]=y):(h=e[4],y=e[5]),c(h,y);var C;return e[6]!==g?(C=function(t){return r("promiseDone")(g()),u(_),a(function(){return t})},e[6]=g,e[7]=C):C=e[7],C}function _(){return!0}l.default=p}),98);
__d("useMWUIPendingPostDialog",["GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint","GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint","WebPixelRatio","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a,i){var l=o("react-compiler-runtime").c(8),s;l[0]!==i||l[1]!==t?(s={routeProps:{adminActivityID:i,groupID:t,isManagementActivityLogTargetProfilePlus:!1}},l[0]=i,l[1]=t,l[2]=s):s=l[2];var u=r("useMWXEntryPointDialog")(r("GroupsCometAdminActivityLogItemSeeDetailsDialog.entrypoint"),s),c;l[3]===Symbol.for("react.memo_cache_sentinel")?(c=o("WebPixelRatio").get(),l[3]=c):c=l[3];var d;l[4]!==n||l[5]!==t||l[6]!==a?(d={authorID:n,groupID:t,postID:a,scale:c},l[4]=n,l[5]=t,l[6]=a,l[7]=d):d=l[7];var m=r("useMWXEntryPointDialog")(r("GroupsCometAdmodChatsPendingPostReviewDialog.entrypoint"),d);return i!=null&&i!=="0"?u:m}l.default=e}),98);
__d("useMWLSShowPendingPost",["react","react-compiler-runtime","useMWUIPendingPostDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useState;function m(){var e=o("react-compiler-runtime").c(9),t=d(null),n=t[0],a=t[1],i=d(""),l=i[0],s=i[1],c=d(""),m=c[0],p=c[1],_=d(""),f=_[0],g=_[1],h=d(""),y=h[0],C=h[1],b=d(!1),v=b[0],S=b[1],R=r("useMWUIPendingPostDialog")(n,l,m,f,y),L=R[0],E;e[0]!==l||e[1]!==v||e[2]!==L||e[3]!==n?(E=function(){n!=null&&v&&L({activityLogTarget:"Group",groupID:l},function(){return S(!1)})},e[0]=l,e[1]=v,e[2]=L,e[3]=n,e[4]=E):E=e[4];var k;e[5]!==v||e[6]!==n?(k=[n,v],e[5]=v,e[6]=n,e[7]=k):k=e[7],u(E,k);var I;return e[8]===Symbol.for("react.memo_cache_sentinel")?(I=function(t,n,r,o,i){return S(!0),a(t),s(n),p(r),g(o),C(i)},e[8]=I):I=e[8],I}l.default=m}),98);
__d("useMWP2PPaymentRequestCancelDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestCancelDialog.react").__setRef("useMWP2PPaymentRequestCancelDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useMWP2PPaymentTransactionDeclineDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentTransactionDeclineDialog.react").__setRef("useMWP2PPaymentTransactionDeclineDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("getRingbackUrl",["URI"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(t==null)return null;var o=new(e||(e=r("URI")))(t);return o.addQueryData("users_to_ring",[n]),o.toString()}l.default=s}),98);
__d("useMakeRoomRingback",["FBLogger","I64","LSIntEnum","MWThreadKey.react","Promise","RTWebPreCallHooks","ReQL","getRingbackUrl","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(d||(d=o("react"))).useCallback;function p(){var t=o("react-compiler-runtime").c(4),a=o("RTWebPreCallHooks").useJoinMeetupCallback(),i=(s||(s=r("useReStore")))(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),d;return t[0]!==i.tables.threads||t[1]!==a||t[2]!==l?(d=function(s){var t=s.linkUrl;r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(l)).then(function(i){if(i!=null){var l;return(u||(u=o("I64"))).equal(i.threadType,(c||(c=o("LSIntEnum"))).ofNumber(1))?l=r("getRingbackUrl")(t,(u||(u=o("I64"))).to_string(i.threadKey)):(r("FBLogger")("rtc_www").mustfix("Cannot ring a non user thread"),l=t),(e||(e=n("Promise"))).resolve(a(l))}return r("FBLogger")("rtc_www").mustfix("Cannot find thread when trying to ring a user"),(e||(e=n("Promise"))).resolve()}),void 0,_)},t[0]=i.tables.threads,t[1]=a,t[2]=l,t[3]=d):d=t[3],d}function _(e){r("FBLogger")("rtc_www").catching(e).mustfix("Error making a ring back")}l.default=p}),98);
__d("useP2PPaymentMethodAddDialog",["JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentMethodAddDialog.react").__setRef("useP2PPaymentMethodAddDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useP2PPaymentRequestConfirmDialog",["JSResourceForInteraction","emptyFunction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestConfirmDialog.react").__setRef("useP2PPaymentRequestConfirmDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("useP2PPaymentRequestDeclineDialog",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatComposerP2PPaymentRequestDeclineDialog.react").__setRef("useP2PPaymentRequestDeclineDialog"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){t!=null&&a({id:t})},e[1]=a,e[2]=i):i=e[2],i}l.default=u}),98);
__d("ServicesApproveAppointmentMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9021638394602672"}),null);
__d("ServicesApproveAppointmentMutation.graphql",["ServicesApproveAppointmentMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{alias:null,args:[{kind:"Variable",name:"data",variableName:"input"}],concreteType:"InstantBookingConfirmAppointmentResponsePayload",kind:"LinkedField",name:"instant_booking_confirm_appointment",plural:!1,selections:[{alias:null,args:null,concreteType:"NativeComponentFlowBookingRequest",kind:"LinkedField",name:"request",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ServicesApproveAppointmentMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ServicesApproveAppointmentMutation",selections:t},params:{id:n("ServicesApproveAppointmentMutation_facebookRelayOperation"),metadata:{},name:"ServicesApproveAppointmentMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useServicesConfirmAppointmentBookingMutation",["RelayHooks","ServicesApproveAppointmentMutation.graphql","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=o("RelayHooks").useMutation(r("ServicesApproveAppointmentMutation.graphql")),n=t[0],a;return e[0]!==n?(a=function(t){n({variables:{input:{referrer_ui_component:"BUBBLE",referrer_ui_surface:"MESSAGE",request_id:t}}})},e[0]=n,e[1]=a):a=e[1],a}l.default=u}),98);
__d("MWChatXmaThirdPartyActionHandler",["fbt","AdsMessengerContext.react","BusinessDefinedFormOpenImpressionFalcoEvent","CometRelay","CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent","CustomerInformationTemplateFalcoEvent","JSResourceForInteraction","LSFactory","LSMarkAsXStoredProcedure","MNCommerceCTAProcessor","MWBuyerShippingAddressRootQuery","MWChatCustomerFeedbackFormDataQuery","MWChatCustomerFeedbackStateQuery","MWChatReceiptDataQuery","MWLSPostbackCtaHandler","MWP2PPaymentTransactionInformationVerify","MarketplaceCometReviewOffersDialog.entrypoint","MessagingAIOnboardingFlowLoggingUtils","Popup","ViewFormDetailsModal.entrypoint","ViewFormRequestEditableModal.entrypoint","cometPushToast","commitWorkplaceChatBotSubmitFeedbackMutation","createErrorForMAIBALogger","emptyFunction","goUriOnNewWindow","logVultureJSDeadEntrypoint","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useBizAIToggleAI","useCometDynamicEntryPointDialog","useHandleMerchantConfirmOrderDialog","useMWLSMarketplaceXmaCtaHandler","useMWLSOpenStaticLocationDialog.react","useMWLSShowAttachBankSlip","useMWLSShowECPCheckout","useMWLSShowMemberRequest","useMWLSShowOffsiteBankTransfer","useMWLSShowOrderDetails","useMWLSShowPaymentDetails","useMWLSShowPendingPost","useMWP2PPaymentRequestCancelDialog","useMWP2PPaymentTransactionDeclineDialog","useMWXLazyDialog","useMakeRoomRingback","useP2PPaymentMethodAddDialog","useP2PPaymentRequestConfirmDialog","useP2PPaymentRequestDeclineDialog","useServicesConfirmAppointmentBookingMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("react"))).useCallback,c=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWChatXmaThirdPartyActionHandler");function d(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("VultureJSDeadComponent.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){var e=t.messageId,n=t.receiptId;if(n!=null){o("MWChatReceiptDataQuery").fetch(n,e,function(e){var t=s._(/*BTDS*/"Order confirmation");return a({receipt:e,title:t})});return}},e[1]=a,e[2]=i):i=e[2],i}function m(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometInfomationBottomSheetDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){a({contentType:t.contentType.content_type,orderID:t.orderID,pageID:t.pageID},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function p(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("P2MCometAsyncControllerDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){a({contentType:t.payload.action_type},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function _(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometOffsitePaymentOnboaringDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({orderID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function f(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometBankSlipDetailsPanelDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({orderID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function g(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometPaymentSlipDetailslDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({paymentSlipID:t.orderID},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function h(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("BizInboxWhatsAppCatalogOrderDetails.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({order:t},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function y(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("BizInboxWhatsAppCatalogViewProductDetails.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({product:t},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function C(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("BizInboxWhatsAppCatalogLinkCTAWrapper.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){i({},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function b(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("PaymentsCometGCashIDOnboardingDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={baseModalProps:{disableGeoToCometModalsCompatibility_DO_NOT_USE:!0}},e[1]=n):n=e[1];var a=r("useMWXLazyDialog")(t,void 0,n),i=a[0],l;return e[2]!==i?(l=function(t){var e,n=(e=t.contentType.extra_data)==null?void 0:e.payment_slip_detection_id;i({pageID:t.orderID,paymentSlipID:n==null?null:String(n)},r("emptyFunction"))},e[2]=i,e[3]=l):l=e[3],l}function v(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWBuyerShippingAddressRoot.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i=o("CometRelay").useRelayEnvironment(),l;return e[1]!==i||e[2]!==a?(l=function(t){r("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:t.actorId,event_type:"mw_xma_click",form_id:t.eeMessageId,page_id:t.pageId}});var e=o("CometRelay").loadQuery(i,r("MWBuyerShippingAddressRootQuery"),{id:t.pageId});a({actorId:t.actorId,eeMessageId:t.eeMessageId,initialQueryRef:e,messageId:t.messageId,pageId:t.pageId},function(){e.dispose()})},e[1]=i,e[2]=a,e[3]=l):l=e[3],l}function S(){var e=o("react-compiler-runtime").c(2),t=r("useBizAIToggleAI")(),n=t[0],a;e[0]!==n?(a=async function(t){await n({pageID:t.pageId,turnOnAI:!0})},e[0]=n,e[1]=a):a=e[1];var i=a;return i}function R(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useRelayEnvironment(),n;return e[0]!==t?(n=function(n){var e={environment:t},o=r("commitWorkplaceChatBotSubmitFeedbackMutation")({action_content_blob:n.feedbackActionContentBlob,config:e}),a=o.then(E,L);r("promiseDone")(a)},e[0]=t,e[1]=n):n=e[1],n}function L(){o("cometPushToast").cometPushSimpleToast("Error in submitting feedback!",2e3)}function E(){o("cometPushToast").cometPushSimpleToast("Feedback submitted!",2e3)}var k=r("JSResourceForInteraction")("MWChatCustomerFeedbackDialog.react").__setRef("MWChatXmaThirdPartyActionHandler");function I(){var e=o("react-compiler-runtime").c(3),t=r("useMWXLazyDialog")(k),n=t[0],a=o("CometRelay").useRelayEnvironment(),i;return e[0]!==a||e[1]!==n?(i=function(t){var e=t.feedbackFormId;o("MWChatCustomerFeedbackStateQuery").fetch(e,a,function(t){t!=null&&o("MWChatCustomerFeedbackFormDataQuery").fetch(e,a,function(e){e!=null&&n({firstScreen:e.firstScreen,formId:e.formId,pageId:e.pageId,privacy:e.privacy,state:t})})})},e[0]=a,e[1]=n,e[2]=i):i=e[2],i}function T(){var e=o("react-compiler-runtime").c(3),t=r("useMWXLazyDialog")(k),n=t[0],a=o("CometRelay").useRelayEnvironment(),i;return e[0]!==a||e[1]!==n?(i=function(t){var e=t.firstScreen,r=t.formId,i=t.pageId,l=t.privacy;o("MWChatCustomerFeedbackStateQuery").fetch(r,a,function(t){return n({firstScreen:e,formId:r,pageId:i,privacy:l,state:t})})},e[0]=a,e[1]=n,e[2]=i):i=e[2],i}function D(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(){var e=s._(/*BTDS*/"This form is not supported on the web. Please open this chat on your mobile device to continue.").toString();a({htmlBlob:e})},e[1]=a,e[2]=i):i=e[2],i}function x(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatPageRTCCallSummary.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(){var e=s._(/*BTDS*/"Call summaries are only available on mobile devices. View summaries on the Messenger or Meta Business Suite app on your mobile device instead.").toString();a({body:e})},e[1]=a,e[2]=i):i=e[2],i}function $(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MessengerCometBookingDetailsModal.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({pageID:t.pageId,requestID:t.requestId})},e[1]=a,e[2]=i):i=e[2],i}function P(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("ViewFormDetailsModal.entrypoint")),n;return e[0]!==t?(n=function(n){return t({responseID:n.responseID},{responseID:n.responseID})},e[0]=t,e[1]=n):n=e[1],n}function N(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("ViewFormRequestEditableModal.entrypoint")),n;return e[0]!==t?(n=function(n){return r("BusinessDefinedFormOpenImpressionFalcoEvent").log(function(){return{consumer_id:n.consumerID,page_id:n.pageID,request_id:n.requestID}}),t({pageID:n.pageID,requestID:n.requestID},{pageID:n.pageID,requestID:n.requestID})},e[0]=t,e[1]=n):n=e[1],n}function M(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatLiveLocationDialog.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({})},e[1]=a,e[2]=i):i=e[2],i}function w(){var e=o("react-compiler-runtime").c(2),t=r("useMWLSOpenStaticLocationDialog.react")(),n;return e[0]!==t?(n=function(n){return t(n.msgId)},e[0]=t,e[1]=n):n=e[1],n}function A(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessBoardingPassDetail.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({boardingPassDetail:t})},e[1]=a,e[2]=i):i=e[2],i}function F(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessItineraryDetail.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({itineraryPayload:t})},e[1]=a,e[2]=i):i=e[2],i}function O(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatBusinessMessengerExtension.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({actionLink:t.actionLink,pageID:t.pageID,threadID:t.pageID,userID:t.userID},r("emptyFunction"))},e[1]=a,e[2]=i):i=e[2],i}function B(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){return c.onReady(W),e(n.hasVideo,n.threadId,n.trigger,n.representedID)},t[0]=e,t[1]=n):n=t[1],n}function W(e){return e.logClick({component:"start_call_button",surface:"admin_message"})}function q(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWChatGuestChatHistoryModal.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({guestID:t.guestId,pageID:t.pageId})},e[1]=a,e[2]=i):i=e[2],i}function U(){return V}function V(e){return r("MNCommerceCTAProcessor").process(e.ctaId,e.messageId)}function H(e){o("Popup").open(e,1024,500)}function G(e){return e==="xma_p2m_mark_as_received"?"xma_p2m_mark_as_received":e==="xma_p2m_mark_as_paid"?"xma_p2m_mark_as_paid":e==="xma_p2m_mark_as_shipped"?"xma_p2m_mark_as_shipped":null}function z(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("VultureJSDeadComponent.react").__setRef("MWChatXmaThirdPartyActionHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({linkUrl:t.linkUrl})},e[1]=a,e[2]=i):i=e[2],i}function j(){var e=o("react-compiler-runtime").c(2),t=r("useAsyncReStore")(),n;return e[0]!==t?(n=function(n,o,a){r("promiseDone")(t.then(async function(e){await e.runInTransaction(async function(e){await r("LSMarkAsXStoredProcedure")(r("LSFactory")(e),{ctaId:n,ctaType:o,orderId:a})},"readwrite",void 0,void 0,i.id+":711")}))},e[0]=t,e[1]=n):n=e[1],n}function K(){var e=o("react-compiler-runtime").c(2),t=r("useCometDynamicEntryPointDialog")(r("MarketplaceCometReviewOffersDialog.entrypoint")),n;return e[0]!==t?(n=function(n){return t({listingId:n},{})},e[0]=t,e[1]=n):n=e[1],n}function Q(){var e=o("react-compiler-runtime").c(3),t=o("AdsMessengerContext.react").useAdsMessengerContext(),n=t.isMessengerInAds,r=t.showAdsAILowProbabilityEntitySelectionModal,a;return e[0]!==n||e[1]!==r?(a=function(t){if(n&&r!=null){var e;r({adAccountID:t.adAccountID,allowDraftSelection:(e=t.allowDraftSelection)!=null?e:!1,entityType:t.entityType,threadKey:t.threadKey})}},e[0]=n,e[1]=r,e[2]=a):a=e[2],a}function X(){var e=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),t=Y(),n=o("AdsMessengerContext.react").useAdsMessengerContext(),a=n.maybeGetCallbackFromURI,i=n.maybeLogAdsAICtaClick;return u(function(n){var o=n.actionContentBlob,l=n.ctaLabel,s=n.message,u=n.platformToken,c=n.url,d,m,p=!1,_=!1,f;try{var g=o!=null?JSON.parse(o):{};if(d=g.bot_response_id,m=g.dialog,m!=null&&t(babelHelpers.extends({},m,{bot_response_id:d})),p=u!=null&&u.length>0,p&&e(u,s),_=c!=null&&c.length>0,c!=null&&_){var h=a==null?void 0:a(c);h!=null?h():r("goUriOnNewWindow")(c)}}catch(e){throw f=r("createErrorForMAIBALogger")(e),e}finally{i==null||i({bot_response_id:d,cta_label:l,error:f,has_dialog:m!=null,has_postback:p,has_url:_})}},[a,i,e,t])}function Y(){var e=o("react-compiler-runtime").c(3),t=o("AdsMessengerContext.react").useAdsMessengerContext(),n=t.isMessengerInAds,a=t.showAdsAISMAGModal,i;return e[0]!==n||e[1]!==a?(i=function(t){if(n&&a!=null&&typeof t.use_case_params=="object"&&t.use_case_params!=null&&typeof t.use_case=="string"){var e;r("promiseDone")(a({bot_response_id:t.bot_response_id,overlay_view_type:(e=t.overlay_view_type)!=null?e:void 0,use_case:t.use_case,use_case_params:t.use_case_params}))}},e[0]=n,e[1]=a,e[2]=i):i=e[2],i}function J(e,t){var n=o("react-compiler-runtime").c(53),a=d(),i=_(),l=f(),s=g(),u=b(),c=T(),L=I(),E=U(),k=M(),W=w(),V=$(),J=P(),Z=N(),ee=A(),te=q(),ne=F(),re=O(),oe=r("useMWP2PPaymentRequestCancelDialog")(),ae=r("useP2PPaymentRequestConfirmDialog")(),ie=r("useP2PPaymentRequestDeclineDialog")(),le=r("useMWP2PPaymentTransactionDeclineDialog")(),se=r("useP2PPaymentMethodAddDialog")(),ue=o("MWP2PPaymentTransactionInformationVerify").useP2PPaymentTransactionInformationVerify(),ce=B(t),de=r("useMakeRoomRingback")(),me=z(),pe=m(),_e=p(),fe=R(),ge=r("useMWLSShowMemberRequest")(),he=r("useMWLSShowPendingPost")(),ye=r("useMWLSShowECPCheckout")(),Ce=r("useMWLSShowPaymentDetails")(),be=r("useMWLSShowOrderDetails")(),ve=j(),Se=r("useMWLSShowAttachBankSlip")(),Re=r("useMWLSShowOffsiteBankTransfer")(),Le=v(),Ee=r("useMWLSMarketplaceXmaCtaHandler")(),ke=K(),Ie=D(),Te=x(),De=r("useServicesConfirmAppointmentBookingMutation")(),xe=Q(),$e=X(),Pe=Y(),Ne=r("useHandleMerchantConfirmOrderDialog")(),Me=h(),we=y(),Ae=C(),Fe=S(),Oe;return n[0]!==De||n[1]!==Fe||n[2]!==Pe||n[3]!==$e||n[4]!==Ne||n[5]!==Ae||n[6]!==Me||n[7]!==we||n[8]!==me||n[9]!==de||n[10]!==ce||n[11]!==E||n[12]!==se||n[13]!==oe||n[14]!==ae||n[15]!==ie||n[16]!==le||n[17]!==ue||n[18]!==Ee||n[19]!==e||n[20]!==xe||n[21]!==_e||n[22]!==Se||n[23]!==l||n[24]!==ee||n[25]!==V||n[26]!==Le||n[27]!==c||n[28]!==L||n[29]!==ye||n[30]!==u||n[31]!==te||n[32]!==Ie||n[33]!==Te||n[34]!==pe||n[35]!==ne||n[36]!==k||n[37]!==ve||n[38]!==ge||n[39]!==re||n[40]!==Re||n[41]!==i||n[42]!==a||n[43]!==be||n[44]!==Ce||n[45]!==s||n[46]!==he||n[47]!==ke||n[48]!==W||n[49]!==J||n[50]!==Z||n[51]!==fe?(Oe=function(n){if(n.NAME==="P2PPaymentTransactionInformationVerify")return ue(n.VAL);if(n.NAME==="P2PPaymentTransactionDecline")return le(n.VAL.id);if(n.NAME==="MakeWorkJoinableCallInvite"||n.NAME==="MakeRoomRingback")return de(n.VAL);if(n.NAME==="P2MCheckout"){var t=n.VAL;return ye("P2M_Regular",t.orderID,t.pageID)}if(n.NAME==="ShowCustomerFeedback")return c(n.VAL);if(n.NAME==="P2MInformationalMessageBottomSheet"){var d,m=(d=n.VAL.contentType)==null?void 0:d.content_type;return m==="payment_detection_merchant_slip_validation"?i(n.VAL):m==="payment_detection_merchant_bank_account_verified_details"?l(n.VAL):m==="order_details"?be(n.VAL.orderID):m==="unified_checkout"?Se(n.VAL.orderID):m==="payment_detection_confirmation_details"?s(n.VAL):m==="merchant_external_payment_account"?u(n.VAL):pe(n.VAL)}if(n.NAME==="P2MAsyncControllerDialog")return _e(n.VAL);if(n.NAME==="WorkplaceChatBotSubmitFeedback")return fe(n.VAL);if(n.NAME==="P2PPaymentRequestCancel")return oe(n.VAL.id);if(n.NAME==="SendImagePostback"){var p=n.VAL,_=p.loggingDetails;return _!=null&&r("CtmMultiPhotoCarouselMsgrMultiPhotoCarouselClickFalcoEvent").log(function(){return{consumer_id:_.consumer_id,event_data:{ad_id:_.ad_id,cta:"button",index:String(_.index)},event_location:"unknown",page_id:_.page_id}}),e(p.message,p.platformToken,p.image)}if(n.NAME==="ShowMessengerExtensions")return re(n.VAL);if(n.NAME==="OpenAccountLink")return E(n.VAL);if(n.NAME==="P2MOffsiteBankTransferCTA")return Re(n.VAL.orderID);if(n.NAME==="P2PPaymentTransactionReceiveMoney")return se(n.VAL.id);if(n.NAME==="ShowBoardingPass")return ee(n.VAL);if(n.NAME==="P2MOrderDetails")return be(n.VAL.orderID);if(n.NAME==="P2MMarkAsPaid"||n.NAME==="P2MMarkAsShipped"||n.NAME==="P2MMarkAsReceived")return ve(n.VAL.ctaId,n.VAL.ctaType,n.VAL.orderID);if(n.NAME==="P2MMarkAsX"){var f=G(n.VAL.ctaType);if(f!=null)return ve(n.VAL.ctaId,f,n.VAL.orderID)}if(n.NAME==="ShowStaticLocationDetails")return W(n.VAL);if(n.NAME==="P2PPaymentTransactionDetails")return Ce(n.VAL.id);if(n.NAME==="P2PPaymentRequestDecline")return ie(n.VAL.id);if(n.NAME==="ShowBookingDetails")return V(n.VAL);if(n.NAME==="BizAIEnableAI"){Fe(n.VAL).catch(function(e){o("MessagingAIOnboardingFlowLoggingUtils").logSMBExceptions("exception_ai_agent_toggle_on",n.VAL.pageId,null,null,null,e,{source:"ConversationBotXMA"})});return}if(n.NAME==="ViewFormDetails")return J(n.VAL);if(n.NAME==="ViewFormRequestEditable")return Z(n.VAL);if(n.NAME==="ShowOrderConfirmation")return a(n.VAL);if(n.NAME==="ShowCustomerFeedbackForm")return L(n.VAL);if(n.NAME==="ShowItinerary")return ne(n.VAL);if(n.NAME==="OpenAccountLinkUrl")return H(n.VAL);if(n.NAME==="MakeJoinRoomFromPortal")return me(n.VAL);if(n.NAME==="P2MAttachBankSlip")return Se(n.VAL.orderID);if(n.NAME==="BuyerShippingAddress")return Le(n.VAL);if(n.NAME==="AdmodChatsShowPendingPost"){var g=n.VAL;return he(g.targetId,g.groupId,g.authorId,g.postId,g.activityLogItemId)}if(n.NAME==="P2PPaymentRequestConfirm")return ae(n.VAL.id);if(n.NAME==="MakeRtcCall")return ce(n.VAL);if(n.NAME==="ProcessMarketplaceCallFunction"){var h=n.VAL,y=h.actionType,C=h.attachmentFbid,b=h.messageId,v=h.targetId;return Ee(b,C,v,y)}if(n.NAME==="ShowLiveLocationDetails")return k(n.VAL);if(n.NAME==="AdmodChatsShowMemberRequest"){var S=n.VAL;return ge(S.targetId,S.groupId,S.profileId,S.activityLogItemId)}if(n.NAME==="ShowGuestChatHistory")return te(n.VAL);if(n.NAME==="ShowInThreadFormDetails")return Ie();if(n.NAME==="ShowInThreadRTCCallSummaryMessage")return Te();if(n.NAME==="ConfirmAppointmentBooking")return De(n.VAL.requestID);if(n.NAME==="OpenMarketplaceDialog"){var R=n.VAL,I=R.ctaType,T=R.listingId,D=R.threadId;switch(I){case"SHIPPED_DECLINED_OFFER_SEND_ANOTHER_PRICE":case"SHIPPED_EXPIRED_OFFER_SEND_ANOTHER_PRICE":if(D!=null){r("logVultureJSDeadEntrypoint")("CometMarketplaceCreateDiscountedPriceDialog.entrypoint");return}else return;case"SHIPPED_OFFER_CANCEL":return T!=null?ke(T):void 0;default:return}}if(n.NAME==="ShowAdsAILowProbabilityEntitySelectionModal")return xe(n.VAL);if(n.NAME==="HandleSMAGPostback")return $e(n.VAL);if(n.NAME==="HandleSMAGDialog")return Pe(n.VAL);if(n.NAME==="ShowMerchantConfirmOrder")return Ne(n.VAL.orderID);if(n.NAME==="ShowWhatsAppOrderDetails")return Me(n.VAL);if(n.NAME==="ShowWhatsAppProductDetails")return we(n.VAL);if(n.NAME==="ShowWhatsAppCatalogDetails")return Ae(n.VAL)},n[0]=De,n[1]=Fe,n[2]=Pe,n[3]=$e,n[4]=Ne,n[5]=Ae,n[6]=Me,n[7]=we,n[8]=me,n[9]=de,n[10]=ce,n[11]=E,n[12]=se,n[13]=oe,n[14]=ae,n[15]=ie,n[16]=le,n[17]=ue,n[18]=Ee,n[19]=e,n[20]=xe,n[21]=_e,n[22]=Se,n[23]=l,n[24]=ee,n[25]=V,n[26]=Le,n[27]=c,n[28]=L,n[29]=ye,n[30]=u,n[31]=te,n[32]=Ie,n[33]=Te,n[34]=pe,n[35]=ne,n[36]=k,n[37]=ve,n[38]=ge,n[39]=re,n[40]=Re,n[41]=i,n[42]=a,n[43]=be,n[44]=Ce,n[45]=s,n[46]=he,n[47]=ke,n[48]=W,n[49]=J,n[50]=Z,n[51]=fe,n[52]=Oe):Oe=n[52],Oe}var Z=J;l.useHandler=Z}),226);
__d("MWStatusText.react",["MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={alignLeft:{paddingInlineStart:"x9kd4p0",$$css:!0},alignRight:{paddingInlineEnd:"xf159sx",$$css:!0},color:{color:"x1xf6ywa",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(14),n=e.addOnEnd,a=e.alignLeft,i=e.error,l=e.ref,c=e.text,d=e.xstyle,m=a===void 0?!1:a,p=m?u.alignLeft:u.alignRight,_;t[0]!==p||t[1]!==d?(_=[p,u.mask,d],t[0]=p,t[1]=d,t[2]=_):_=t[2];var f=m===!0?"start":"end",g=i===!0?"negative":"secondary",h;t[3]!==c?(h=s.jsx(o("react-strict-dom").html.span,{style:u.color,children:c}),t[3]=c,t[4]=h):h=t[4];var y;t[5]!==n||t[6]!==f||t[7]!==g||t[8]!==h?(y=s.jsxs(r("MWXText.react"),{align:f,color:g,testid:void 0,type:"meta4",children:[h,n]}),t[5]=n,t[6]=f,t[7]=g,t[8]=h,t[9]=y):y=t[9];var C;return t[10]!==l||t[11]!==_||t[12]!==y?(C=s.jsx(o("react-strict-dom").html.span,{ref:l,role:"none",style:_,children:y}),t[10]=l,t[11]=_,t[12]=y,t[13]=C):C=t[13],C}l.default=c}),98);
__d("MWClickToRevealMustacheText.react",["fbt","MWBlockingProtectionContext.react","MWStatusText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={statusText:{paddingBottom:"xwib8y2",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.messageId,a=e.xsyle,i=r("MWBlockingProtectionContext.react").useHook(),l=i.findMessageId,d;t[0]!==l||t[1]!==n?(d=l(n),t[0]=l,t[1]=n,t[2]=d):d=t[2];var m=d,p;return t[3]!==m||t[4]!==a?(p=m?null:u.jsx(r("MWStatusText.react"),{alignLeft:!0,text:s._(/*BTDS*/"Click to view").toString(),xstyle:[a,c.statusText]}),t[3]=m,t[4]=a,t[5]=p):p=t[5],p}l.default=d}),226);
__d("MWClickedMessageContext.react",["GroupsCometChatsEngagementLogger","I64","LSFactory","LSFetchMessageSeenCountStoredProcedure","emptyFunction","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useCallback,_=d.useContext,f=d.useMemo,g=d.useState,h=m({clickedMessageId:null,fetchMessageSeenCount:r("emptyFunction"),hasError:!1,isLoading:!1,setClickedMessageId:r("emptyFunction")});function y(t){var n=o("react-compiler-runtime").c(10),a=t.children,l=g(null),u=l[0],d=l[1],m=g(!1),p=m[0],_=m[1],f=g(!1),y=f[0],C=f[1],b=(e||(e=r("useReStore")))(),v;n[0]!==b?(v=function(t,n,a){C(!0),d(n),b.runInTransaction(function(e){return r("LSFetchMessageSeenCountStoredProcedure")(r("LSFactory")(e),{messageId:n,threadKey:t})},"readwrite",void 0,void 0,i.id+":53").then(function(){C(!1),_(!1),o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{mid:n},community_id:a?(s||(s=o("I64"))).to_string(a.folderId):null,event:"seen_count_rendered",group_id:a?(s||(s=o("I64"))).to_string(a.fbGroupId):null,source:"message_bubble",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(t)})}).catch(function(){C(!1),_(!0)})},n[0]=b,n[1]=v):v=n[1];var S=v,R;n[2]!==u||n[3]!==S||n[4]!==p||n[5]!==y?(R={clickedMessageId:u,fetchMessageSeenCount:S,hasError:p,isLoading:y,setClickedMessageId:d},n[2]=u,n[3]=S,n[4]=p,n[5]=y,n[6]=R):R=n[6];var L=R,E;return n[7]!==a||n[8]!==L?(E=c.jsx(h.Provider,{value:L,children:a}),n[7]=a,n[8]=L,n[9]=E):E=n[9],E}function C(){return _(h)}var b={Provider:y,useHook:C};l.default=b}),98);
__d("MWCombineThemeConfigs",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return{dark:Object.assign(e.dark,t.dark),light:Object.assign(e.light,t.light),type:t.type}}i.combine=e}),66);
__d("MWCommandsComposerPluginCommandList",["fbt","ix","FBLogger","fbicon","gkx"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e=r("gkx")("20836")&&r("gkx")("9513");function c(e,t,n,r,o){var a=t.toString();return{data:{decorType:"regular",handle:a,key:e,label:a,rawData:{icon:r,subtitle:n.toString()},type:"entry"},rangeType:o}}var d=[e?null:c("silent",s._(/*BTDS*/"silent"),s._(/*BTDS*/"Send message without a notification"),o("fbicon")._(u("549627"),16),"s")],m=d.filter(function(e){return e!=null}),p=m.map(function(e){return e.data}),_=m.reduce(function(e,t){var n;return e[(n=t.data.handle)!=null?n:t.data.key]=t.rangeType,e},{});function f(e){var t=_[e];return t==null?(r("FBLogger")("messenger_web").mustfix("Unregisted messenger composer command %s used. Please add the command to the mapping in MWCommandsComposerPluginCommandList",e),"n"):t}l.commands=p,l.commandToRangeType=f}),226);
__d("messengerCommandsLexicalCreateNodeStrategy",["MWCommandsComposerPluginCommandList","MWCommandsComposerPluginTextNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){var t;return o("MWCommandsComposerPluginTextNode").$createMessengerLexicalCommandNode({commandId:"0",commandPrefix:"/",handle:r("cometMentionsDataEntryText")(e),rangeType:o("MWCommandsComposerPluginCommandList").commandToRangeType((t=e.handle)!=null?t:e.key)})}),s=e;l.default=s}),98);
__d("MWCommandsComposerPlugin.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","MWChatComposerMentionsViewItem.react","MWCommandsComposerPluginCommandList","Promise","createCometMentionMatchStrategy","messengerCommandsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig","useCometTypeaheadViewListStrategy"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={view:{minWidth:"x1jzhcrs",$$css:!0}},m=(function(){function t(){}var r=t.prototype;return r.bootstrap=function(){},r.fetchCache=function(t){return{entries:t.query.length===0?o("MWCommandsComposerPluginCommandList").commands:o("MWCommandsComposerPluginCommandList").commands.filter(function(e){var n;return(n=e.handle)==null?void 0:n.startsWith(t.query)}),params:t}},r.fetchNetwork=function(r){return(e||(e=n("Promise"))).resolve(this.fetchCache(r))},t})();function p(e){var t=o("react-compiler-runtime").c(6),n=e.editor,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{dataSource:new m,matchStrategy:r("createCometMentionMatchStrategy")({minMatchLength:0,name:"MessengerCommandsMatchStrategy",triggers:"/"})}],t[0]=a):a=t[0];var i=r("useCometMentionsDataSourceResolverConfig")(a,!0),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:d.view},t[1]=l):l=t[1];var s=r("useCometTypeaheadViewListStrategy")(l),c;return t[2]!==i||t[3]!==n||t[4]!==s?(c=u.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:r("messengerCommandsLexicalCreateNodeStrategy"),dataSourceResolverConfig:i,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),position:"above",viewStrategyRenderer:s}),t[2]=i,t[3]=n,t[4]=s,t[5]=c):c=t[5],c}l.default=p}),98);
__d("MWDidQueryPromptsNux",[],(function(t,n,r,o,a,i){"use strict";var e=!1;function l(){e=!0}function s(){return e}i.markDidQueryPromptsNux=l,i.getDidQueryPromptsNux=s}),66);
__d("MWPComposerDraftMessages",["FBLogger","I64","LSMessagingThreadTypeUtil","MAWFindFirstUrl","MWHasLinksUtil","cr:5710","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=new Map,u=void 0;function c(){return Array.from(s.values()).some(function(e){return e.messageText.trim()!==""})}function d(e,t){return s.get(y(e,t))}function m(){n("cr:5710")==null||u!=null||(u=n("cr:5710").onBeforeUnload(function(){if(c())return"You have pending messages. Please wait for them to be sent before closing the window."}))}function p(e){var t=e.deleteLinkPreviewXMATableData,n=e.fetchAndWriteLinkPreviewXMA,a=e.message,i=e.subthreadParentMessageId,l=e.threadKey,c=e.threadType;if(a==null){if(s.delete(y(l,i)),s.size===0){var d;(d=u)==null||d.remove(),u=void 0}return}if(s.has(y(l,i)))_(l,a,i);else{var p=r("uuidv4")();s.set(y(l,i),{id:p,linkPreviewAbortToken:null,linkPreviewURL:null,messageText:a})}var g=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c);g&&f(l,a,n,t,i),m()}function _(e,t,n){var o=d(e,n);if(o==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in updateDraftMessageText");return}s.set(y(e,n),babelHelpers.extends({},o,{messageText:t}))}function f(e,t,n,a,i){var l,s,u,c=d(e,i);if(c==null){r("FBLogger")("messenger_web_sharing").mustfix("currentDraft was null in updateDraftMessageURL");return}var m=c==null?void 0:c.linkPreviewURL,p=c==null?void 0:c.linkPreviewAbortToken,_=(l=o("MAWFindFirstUrl").findFirstUrl(t))!=null?l:[],f=o("MWHasLinksUtil").getHasLinks(t),y=f&&(s=(u=_[0])==null?void 0:u.entity.url)!=null?s:null;if(m!==y){if(y==null){a&&a({draftId:c.id}),p==null||p.abort(),g({linkPreviewURL:null,subthreadParentMessageId:i,threadKey:e}),h({linkPreviewAbortToken:null,subthreadParentMessageId:i,threadKey:e});return}g({linkPreviewURL:y,subthreadParentMessageId:i,threadKey:e});var C=n&&n({draftId:c.id,urls:_})||null;h({linkPreviewAbortToken:C,subthreadParentMessageId:i,threadKey:e})}}function g(e){var t=e.linkPreviewURL,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewURL:t}))}function h(e){var t=e.linkPreviewAbortToken,n=e.subthreadParentMessageId,o=e.threadKey,a=d(o,n);if(a==null){r("FBLogger")("messenger_web").mustfix("currentDraft was null in setDraftMessageURL");return}s.set(y(o,n),babelHelpers.extends({},a,{linkPreviewAbortToken:t}))}function y(t,n){return n!=null&&n!==""?n:(e||(e=o("I64"))).to_string(t)}l.getDraftMessage=d,l.updateDraftMessage=p,l.getNonEmptyDraftMessageKey=y}),98);
__d("MWDraftMessages.react",["MWPComposerDraftMessages","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useState,_=c(),f=c();function g(e){var t=o("react-compiler-runtime").c(9),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Map,t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],u;t[1]!==i?(u=function(t,n){var e=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(t,n);return i.has(e)?i.get(e):null},t[1]=i,t[2]=u):u=t[2];var c=u,d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=function(t,n,r){var e=o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(t,r);l(function(t){var r=new Map(t);return n==null||n===""?r.delete(e):r.set(e,n),r})},t[3]=d):d=t[3];var m=d,g=_.Provider,h=f.Provider,y;t[4]!==n?(y=s.jsx(h,{value:m,children:n}),t[4]=n,t[5]=y):y=t[5];var C;return t[6]!==c||t[7]!==y?(C=s.jsx(g,{value:c,children:y}),t[6]=c,t[7]=y,t[8]=C):C=t[8],C}function h(){return m(_)}function y(){return m(f)}l.MWDraftProvider=g,l.useMWGetDraft=h,l.useMWUpdateDraft=y}),98);
__d("useMAWEditMessageData",["MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("MAWEditMessageContext.react").Context),t=e.editMessageData;return t}l.default=u}),98);
__d("MWEditMessageOverlay.react",["react","react-compiler-runtime","useMAWEditMessageData"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(1),n=e.messageId,a=r("useMAWEditMessageData")(),i=a!=null,l=n!=null&&n===(a==null?void 0:a.messageId);if(!i||l)return null;var u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s.jsx("div",{className:"xyl4keb x5yr21d x1o0tod x1ks1olk x10l6tqk x13vifvy xh8yej3 x1vjfegm"}),t[0]=u):u=t[0],u}l.default=u}),98);
__d("MWEditedEyebrowLabel.react",["fbt","BaseMiddot.react","MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.separatorStyle,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={eventName:"edit_eyebrow_impression"},t[0]=a):a=t[0];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Edited"),t[1]=l):l=t[1];var c=l,d;t[2]!==n?(d=n!=null&&u.jsx(o("react-strict-dom").html.span,{style:n,children:u.jsx(r("BaseMiddot.react"),{})}),t[2]=n,t[3]=d):d=t[3];var m;t[4]!==i?(m=u.jsx(o("react-strict-dom").html.span,{"aria-label":c,"data-testid":void 0,ref:i,children:c}),t[4]=i,t[5]=m):m=t[5];var p;return t[6]!==d||t[7]!==m?(p=u.jsxs(u.Fragment,{children:[d,m]}),t[6]=d,t[7]=m,t[8]=p):p=t[8],p}l.default=c}),226);
__d("MWMessageEditContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useState,p={setShowEdits:function(){},showEdits:!1},_=s.createContext();function f(e){var t,n=o("react-compiler-runtime").c(5),r=e.children,a=e.value,i=a===void 0?p:a,l=m((t=i==null?void 0:i.showEdits)!=null?t:!1),u=l[0],c=l[1],d;n[0]!==u?(d={setShowEdits:c,showEdits:u},n[0]=u,n[1]=d):d=n[1];var f=d,g;return n[2]!==r||n[3]!==f?(g=s.jsx(_.Provider,{value:f,children:r}),n[2]=r,n[3]=f,n[4]=g):g=n[4],g}function g(){return c(_)}l.MWMessageEditContextProvider=f,l.useMWMessageEditContext=g}),98);
__d("MWEditedEyebrow.react",["fbt","BaseMiddot.react","IGDWebUtils","MWEditedEyebrowLabel.react","MWMessageEditContext.react","MWXLink.react","MWXTooltip.react","MessengerWebUXLogger","QPLUserFlow","qpl","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(30),n=e.hasPadding,a=e.separatorStyle,i=r("MessengerWebUXLogger").useInteractionLogger(),l=o("MWMessageEditContext.react").useMWMessageEditContext()||{setShowEdits:d,showEdits:!1},c=l.setShowEdits,m=l.showEdits,p;t[0]!==i||t[1]!==c||t[2]!==m?(p=function(){m||(r("QPLUserFlow").start(r("qpl")._(1056849214,"1777")),i==null||i({eventName:"edit_message_history"})),c(!m)},t[0]=i,t[1]=c,t[2]=m,t[3]=p):p=t[3];var _=p,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f={eventName:"edit_eyebrow_impression"},t[4]=f):f=t[4];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h;t[5]!==m?(h=m?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"Edited"),t[5]=m,t[6]=h):h=t[6];var y=h,C;t[7]!==m?(C=m?s._(/*BTDS*/"Hide edits"):s._(/*BTDS*/"View edits"),t[7]=m,t[8]=C):C=t[8];var b=C,v;t[9]!==a?(v=a!=null&&u.jsx(o("react-strict-dom").html.span,{style:a,children:u.jsx(r("BaseMiddot.react"),{})}),t[9]=a,t[10]=v):v=t[10];var S;t[11]!==n?(S=n===!0&&{paddingTop:6},t[11]=n,t[12]=S):S=t[12];var R;t[13]!==S?(R=babelHelpers.extends({color:"var(--mwp-primary-theme-color)"},S),t[13]=S,t[14]=R):R=t[14];var L;t[15]!==y?(L=u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:y}),t[15]=y,t[16]=L):L=t[16];var E;t[17]!==y||t[18]!==_||t[19]!==g||t[20]!==m||t[21]!==R||t[22]!==L?(E=u.jsx(r("MWXLink.react"),{"aria-expanded":m,"aria-label":y,color_DEPRECATED:o("IGDWebUtils").isOnInstagramWeb()?"highlight":"blueLink",onClick:_,ref:g,role:"button",style:R,weight_DEPRECATED:"medium",children:L}),t[17]=y,t[18]=_,t[19]=g,t[20]=m,t[21]=R,t[22]=L,t[23]=E):E=t[23];var k;t[24]!==E||t[25]!==b?(k=u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,label:b,position:"above",tooltip:b,children:E}),t[24]=E,t[25]=b,t[26]=k):k=t[26];var I;return t[27]!==k||t[28]!==v?(I=u.jsxs(u.Fragment,{children:[v,k]}),t[27]=k,t[28]=v,t[29]=I):I=t[29],I}function d(e){}function m(e){var t=o("react-compiler-runtime").c(4),n=e.enableEditHistory,a=e.hasPadding,i=e.separatorStyle,l=n===void 0?!0:n,s;return t[0]!==l||t[1]!==a||t[2]!==i?(s=l?u.jsx(c,{hasPadding:a,separatorStyle:i}):u.jsx(r("MWEditedEyebrowLabel.react"),{separatorStyle:i}),t[0]=l,t[1]=a,t[2]=i,t[3]=s):s=t[3],s}l.MWEditedEyebrowWithHistory=c,l.MWEditedEyebrow=m}),226);
__d("MWFIlePressableDirectDownload.react",["MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.onPress,i=e.url,l=e.xstyle,u;t[0]!==i?(u=i!=null?{download:!0,target:"_blank",url:i}:void 0,t[0]=i,t[1]=u):u=t[1];var c;return t[2]!==n||t[3]!==a||t[4]!==u||t[5]!==l?(c=s.jsx(r("MWXPressable.react"),{children:n,display:"inline",linkProps:u,onPress:a,overlayDisabled:!0,xstyle:l}),t[2]=n,t[3]=a,t[4]=u,t[5]=l,t[6]=c):c=t[6],c}l.MWFilePressableDirectDownload=u}),98);
__d("useMWFileOnPress",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=function(n){e==null||e(n)},t[0]=e,t[1]=n):n=t[1],n}l.default=u}),98);
__d("MWFilePressable.react",["CometErrorBoundary.react","ConstUriUtils","FBLogger","MWFIlePressableDirectDownload.react","goUriOnNewWindow","react","react-compiler-runtime","useMWFileOnPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(14),n=e.attachmentID,r=e.children,a=e.mediaRenderQpl,i=e.messageID,l=e.onPress,c=e.url,m=e.xstyle,p,_;if(t[0]!==a||t[1]!==c?(p=function(){c!=null&&c.length>0?a==null||a.endSuccessAfterDelay():a==null||a.endFailAfterDelay("load-file-error")},_=[a,c],t[0]=a,t[1]=c,t[2]=p,t[3]=_):(p=t[2],_=t[3]),u(p,_),i!=null&&i.type==="sent"&&n!=null&&c!=null){var f;return t[4]!==r||t[5]!==l||t[6]!==c||t[7]!==m?(f=s.jsx(d,{children:r,onPress:l,url:c,xstyle:m}),t[4]=r,t[5]=l,t[6]=c,t[7]=m,t[8]=f):f=t[8],f}var g;return t[9]!==r||t[10]!==l||t[11]!==c||t[12]!==m?(g=s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:r,onPress:l,url:c,xstyle:m}),t[9]=r,t[10]=l,t[11]=c,t[12]=m,t[13]=g):g=t[13],g}function d(e){var t=o("react-compiler-runtime").c(10),n=e.url,a=e.children,i=e.onPress,l=e.xstyle,u=r("useMWFileOnPress")(i),c;t[0]!==n?(c=function(t){var e=t?t.message:"Cannot open file viewer";r("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(e);var a=o("ConstUriUtils").getUri(n);a!=null&&r("goUriOnNewWindow")(a)},t[0]=n,t[1]=c):c=t[1];var d;t[2]!==a||t[3]!==u||t[4]!==n||t[5]!==l?(d=s.jsx(o("MWFIlePressableDirectDownload.react").MWFilePressableDirectDownload,{children:a,onPress:u,url:n,xstyle:l}),t[2]=a,t[3]=u,t[4]=n,t[5]=l,t[6]=d):d=t[6];var p;return t[7]!==c||t[8]!==d?(p=s.jsx(r("CometErrorBoundary.react"),{fallback:m,onError:c,children:d}),t[7]=c,t[8]=d,t[9]=p):p=t[9],p}function m(){return null}l.default=c}),98);
__d("MWGenAINuxQplLogger",["I64","LSThreadAttributionStore","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)),l=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(t,{annotations:{string:{mutation_result:a!==void 0?a:"null",nux_type:n,source:(e||(e=o("I64"))).isI64(i.value)?(e||(e=o("I64"))).to_string(i.value):i.value}},instanceKey:l}),r("QPLUserFlow").endSuccess(t,{instanceKey:l}),l}function u(e){return s(r("qpl")._(25302830,"1738"),e)}function c(e){return s(r("qpl")._(25299245,"1740"),e)}function d(e,t){return s(r("qpl")._(25308190,"1741"),e,t?"success":"failure")}l.logNuxRender=u,l.logNuxHidden=c,l.logNuxMutation=d}),98);
__d("MXGenAINuxTextContent.react",["MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(5),a=e.formattedText,i=c,l=(t=a==null?void 0:a.text)!=null?t:"",u;if(n[0]!==l||n[1]!==(a==null?void 0:a.ranges)){var d,p=(d=a==null?void 0:a.ranges)!=null?d:[],_=0,f=[];p.forEach(function(e){var t=e.length,n=e.offset,r=e.url;if(!(n==null||t==null||r==null)){var o=l.substring(_,n);f.push(m(o)),f.push([i(l,n,n+t,r)]),_=n+t}});var g=l.substring(_);f.push(m(g)),u=f.flat(),n[0]=l,n[1]=a==null?void 0:a.ranges,n[2]=u}else u=n[2];var h=u,y;return n[3]!==h?(y=s.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:h}),n[3]=h,n[4]=y):y=n[4],y}function c(e,t,n,o){return s.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:s.jsx(r("MWXLink.react"),{href:o,target:"_blank",children:e.substring(t,n)})},t)}c.displayName=c.name+" [from "+i.id+"]";var d=0;function m(e){if(!e)return[];for(var t=e.split("\n"),n=[],r=0;r<t.length;r++)r>0&&(n[n.length]=s.jsx("br",{},"br-"+d++)),t[r]&&(n[n.length]=t[r]);return n}l.default=u}),98);
__d("MessengerWebGenAIConsentStatusStore",["MessengerWebGenAIConsentStatus"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(){this.config={chatConsented:r("MessengerWebGenAIConsentStatus").chat_consented},e.instance=this}e.getInstance=function(){return e.instance==null&&(e.instance=new e),e.instance};var t=e.prototype;return t.getChatConsented=function(){return this.config.chatConsented},t.setChatConsented=function(t){this.config={chatConsented:t}},e})(),s=e.getInstance(),u=s;l.default=u}),98);
__d("useMWGenAIWriteConsentMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25774596258828754"}),null);
__d("useMWGenAIWriteConsentMutation.graphql",["useMWGenAIWriteConsentMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"metadata"}],t=[{alias:null,args:[{kind:"Variable",name:"metadata",variableName:"metadata"},{kind:"Literal",name:"nux_type",value:"GEN_AI_CHATS"}],concreteType:"XFBMessengerGenAiNuxWriteConsentResponsePayload",kind:"LinkedField",name:"xfb_messenger_gen_ai_nux_write_consent",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"success",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMWGenAIWriteConsentMutation",selections:t,type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMWGenAIWriteConsentMutation",selections:t},params:{id:n("useMWGenAIWriteConsentMutation_facebookRelayOperation"),metadata:{},name:"useMWGenAIWriteConsentMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("useMWGenAIWriteConsentMutation",["CometRelay","CometRelayErrorHandling","FBLogger","MWGenAINuxQplLogger","MessengerWebGenAIConsentStatusStore","err","react","react-compiler-runtime","useMWGenAIWriteConsentMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback,c=e!==void 0?e:e=n("useMWGenAIWriteConsentMutation.graphql");function d(){var e=o("react-compiler-runtime").c(5),t=o("CometRelay").useMutation(c),n=t[0],a=t[1],i;e[0]!==n?(i=function(t){var e=t.metadata,a=t.onError,i=t.onSuccess;if(!e.nux_scope)throw r("FBLogger")("messenger_web_genai").mustfixThrow("Nux scope cannot be null");var l=e.nux_scope;return n({onCompleted:function(t){var e;if((t==null||(e=t.xfb_messenger_gen_ai_nux_write_consent)==null?void 0:e.success)===!0)o("MWGenAINuxQplLogger").logNuxMutation(l,!0),r("FBLogger")("messenger_web_genai").info("GenAI consent mutation succeeded"),r("MessengerWebGenAIConsentStatusStore").setChatConsented(!0),i==null||i(t);else{var n=r("err")("Consent mutation failed");o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),a==null||a(n)}},onError:function(t){o("CometRelayErrorHandling").markErrorAsHandled(t),r("FBLogger")("messenger_web_genai").warn("GenAI consent mutation failed"),o("MWGenAINuxQplLogger").logNuxMutation("ROW",!1),a==null||a(t)},variables:{metadata:e}})},e[0]=n,e[1]=i):i=e[1];var l=i,s;return e[2]!==l||e[3]!==a?(s=[l,a],e[2]=l,e[3]=a,e[4]=s):s=e[4],s}l.default=d}),98);
__d("MWGenAINux.react",["FBLogger","MWGenAINuxQplLogger","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","clearTimeout","react","react-compiler-runtime","setTimeout","useMWGenAIWriteConsentMutation","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useRef,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(6),n=e.hasUserSentMessage,a=e.source;if(r("MessengerWebGenAIConsentStatus").inline_disclosure_text==null)return r("FBLogger")("messenger_web_genai").mustfix("Failed to fetch inline disclosure text for GenAI NUX"),null;if(a==="trainingAdminMessage"){var i;return t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").training_message_text}),t[0]=i):i=t[0],i}switch(r("MessengerWebGenAIConsentStatus").nux_scope){case"ROW":{var l;return t[1]!==n||t[2]!==a?(l=a==="footer"?s.jsx(f,{isVisible:!n}):null,t[1]=n,t[2]=a,t[3]=l):l=t[3],l}case"EU":case"EU_V2":{var u;return t[4]!==a?(u=a==="header"||a==="adminMessage"?s.jsx(_,{}):null,t[4]=a,t[5]=u):u=t[5],u}default:return}}function _(){var e=o("react-compiler-runtime").c(1);r("vulture")("mCPlqbMfdL7rIrAJQLVQeAR88MU="),o("MWGenAINuxQplLogger").logNuxRender("EU");var t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),e[0]=t):t=e[0],t}function f(e){var t=o("react-compiler-runtime").c(15),n=e.isVisible,a;t[0]!==n?(a=n&&!r("MessengerWebGenAIConsentStatusStore").getChatConsented(),t[0]=n,t[1]=a):a=t[1];var i=m(a),l=i[0],u=i[1],p=d(!0),_=r("useMWGenAIWriteConsentMutation")(),f=_[0],g,h;t[2]!==n?(g=function(){if(p.current){p.current=!1;return}if(!n){var e=r("setTimeout")(function(){u(!1),o("MWGenAINuxQplLogger").logNuxHidden("ROW")},100);return(function(){return r("clearTimeout")(e)})}},h=[n],t[2]=n,t[3]=g,t[4]=h):(g=t[3],h=t[4]),c(g,h);var y,C;if(t[5]!==f||t[6]!==n||t[7]!==l?(y=function(){if(n&&l){var e=r("setTimeout")(function(){f({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:"ROW"}})},500);return(function(){return r("clearTimeout")(e)})}},C=[n,l,f],t[5]=f,t[6]=n,t[7]=l,t[8]=y,t[9]=C):(y=t[8],C=t[9]),c(y,C),!l)return null;o("MWGenAINuxQplLogger").logNuxRender("ROW");var b;t[10]!==n?(b={0:{className:"xsag5q8 x1n2onr6 xh8yej3 x1eb86dx"},1:{className:"x1n2onr6 xh8yej3 x1eb86dx xnjgh8c xg01cxk x18d9i69 x1bbs9h xlshs6z"}}[!n<<0],t[10]=n,t[11]=b):b=t[11];var v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),t[12]=v):v=t[12];var S;return t[13]!==b?(S=s.jsx("div",babelHelpers.extends({},b,{children:v})),t[13]=b,t[14]=S):S=t[14],S}l.default=p}),98);
__d("MWLSImagePostbackCtaHandler",["ActorURI","I64","LSFactory","LSInsertNewMediaSendStoredProcedure","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure","LSMailboxType","LSMarkSubJobCompletedV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSResumeMediaSendJobStoredProcedure","LSShape","LSThreadAttributionTypeUtil","LSVec","MWPActor.react","MWThreadKey.react","MercuryLocalIDs","MessagePowerUp","MessagingAttachmentType","MessengerWebImageUploadUrl","Promise","URI","cr:6057","promiseDone","react","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(c||(c=o("react"))).useMemo;function _(e,t,a,i,l,s,c){var p=o("MercuryLocalIDs").generateOfflineThreadingID();return r("LSLocalApplyOptimisticMessageWithAttachmentsStoredProcedure")(r("LSFactory")(e),{attachments:r("LSVec").ofArray([o("LSShape").ofRecord({action_url:void 0,attachment_fbid:p,attachment_index:(d||(d=o("I64"))).zero,attachment_type:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE),cta1_title:void 0,cta2_title:void 0,cta3_title:void 0,description_text:void 0,filename:"postback image.jpg",filesize:void 0,has_media:!0,has_xma:!1,image_url:void 0,mini_preview:void 0,offline_attachment_id:p,original_file_hash:void 0,playable_duration_ms:void 0,playable_url:void 0,playable_url_mime_type:void 0,preview_height:void 0,preview_url:i,preview_url_mime_type:"image/jpeg ",preview_width:void 0,source_text:void 0,subtitle_text:void 0,title_text:void 0,xma_layout_type:void 0,xmas_template_type:void 0})]),replySourceType:m.ofNumber(r("LSMessageReplySourceType").NONE),replySourceTypeV2:m.ofNumber(r("LSMessageReplySourceTypeV2").NONE),senderId:t,snippetHasEmoji:!1,threadKey:a,threadType:m.ofNumber(1)}).then(function(t){var r=t[0];return e.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:void 0,markThreadRead:!0,messageId:void 0,offlineThreadingId:r,platformRef:void 0,platformToken:l,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(d||(d=o("I64"))).of_string(r),threadAttributionSource:s,threadKey:a}).then(function(){return(u||(u=n("Promise"))).resolve([r,p])})})}function f(t,a){var l=(e||(e=r("useReStore")))(),c=o("MWPActor.react").useActor(),f=o("MWThreadKey.react").useMWThreadKeyMemoizedExn();return p(function(){return(function(e,p,g){var h=(d||(d=o("I64"))).to_string(c),y=function(t){var e=t[1],a=t[0];r("promiseDone")(window.fetch(g).then(function(e){return e.blob()}).then(function(e){return n("cr:6057").load().then(function(t){return{XComposerPhotoUploader:t,blob:e}})}).then(function(t){var c=t.XComposerPhotoUploader,p=t.blob,_=new c({concurrentLimit:3,onUploadFailure:function(t,n){return!0},onUploadProgress:function(t,n){},onUploadStart:function(n){r("promiseDone")(l.runInTransaction(function(t){return r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE),inMessageIndex:(d||(d=o("I64"))).zero,isSecure:!1,offlineAttachmentId:e,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1})},"readwrite",void 0,void 0,i.id+":156"))},onUploadSuccess:function(n,s){var t=s.response.payload.metadata[0],u=t.image_id;u!=null&&r("promiseDone")(l.runInTransaction(function(t){return r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:(d||(d=o("I64"))).of_string(u.toString()),offlineAttachmentId:e}).then(function(){return r("LSResumeMediaSendJobStoredProcedure")(r("LSFactory")(t),{jobId:a,pluginType:(d||(d=o("I64"))).zero})})},"readwrite",void 0,void 0,i.id+":181"))},retryLimit:1,uploadEndpoint:o("ActorURI").create(new(s||(s=r("URI")))(r("MessengerWebImageUploadUrl").upload_url),h)});return _.getAsyncUploadRequest([new File([p],"postback image.jpg",{type:"image/jpeg"})]).send(),(u||(u=n("Promise"))).resolve()}))},C=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(f,t);r("promiseDone")(l.runInTransaction(function(t){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(t),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:a!=null?a:void 0,mark_read:!0,power_up_style:(m||(m=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:m.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:m.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:C}),mailboxType:m.ofNumber(r("LSMailboxType").MESSENGER),senderId:c,snippet:e,text:e,threadKey:f,threadType:m.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":224").then(function(e){return l.runInTransaction(function(e){return _(e,c,f,g,p,C,a).then(function(e){y(e)})},"readwrite",void 0,void 0,i.id+":254")}))})},[l,c,f])}l.usePostbackCtaHandler=f}),98);
__d("MessengerIntent",["WebStorage","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e,s="mw_sent_message";function u(){return r("justknobx")._("1630")}function c(){(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),s,String(Date.now()))}function d(){var t=(e||(e=r("WebStorage"))).getLocalStorage();return Date.now()-Number(t==null?void 0:t.getItem(s))<u()}l.sentMessage=c,l.hasSentMessagesRecently=d}),98);
__d("MWLSLogSend",["CometHeroLogging","I64","MWChatInteraction","MWSharedS2SBaseAnnotations","MessengerIntent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var i=a.isCommunityEvent,l=a.isMessageRequest,s=a.source,u=a.threadType,c=r("CometHeroLogging").genHeroInteractionUUIDAndMarkStart(t.getTraceId());o("MWChatInteraction").set(n,c);var d={entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(s),is_community_event:i===!0?"true":"false",is_message_request:l===!0?"true":"false",thread_type:u==null?"unknown":(e||(e=o("I64"))).to_string(u)};return Object.entries(d).forEach(function(e){var n=e[0],r=e[1];t.addMetadata(n,String(r))}),o("MessengerIntent").sentMessage(),t.onComplete(function(){delete o("MWChatInteraction").interactions[n]})}l.logSentHeroInteraction=s}),98);
__d("getMWLSOngoingCallServerInfoData",["ReQL"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return o("ReQL").fromTableAscending(e.tables.rtc_ongoing_calls_on_threads_v2).getKeyRange(t).map(function(e){return e.ongoingCallServerInfoData})}l.default=e}),98);
__d("MWLSStartPhoneCall",["$InternalEnum","FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","MWPActor.react","MWThreadKey.react","Promise","ReQL","ZenonProductConnectFunnel","getMWLSOngoingCallServerInfoData","getRTCCallStateOfLSRTCCallState","promiseDone","react-compiler-runtime","useMWLSGetOngoingCallState","useRTWebCometStartCallCallback","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=n("$InternalEnum").Mirrored(["OngoingVideoCall","OngoingAudioCall"]);function m(){var t=o("react-compiler-runtime").c(10),a=(c||(c=r("useReStore")))(),i=r("useRTWebCometStartCallCallback")(),l=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),m=r("useMWLSGetOngoingCallState")(),g=o("MWPActor.react").useActor(),h,y;t[0]!==m||t[1]!==g||t[2]!==a||t[3]!==i||t[4]!==l?(h=function(c,d,h,y){r("ZenonProductConnectFunnel").setUITriggered();var t=c?"video":"audio";r("promiseDone")((u||(u=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.threads).getKeyRange(l)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(l).filter(function(t){return!(e||(e=o("I64"))).equal(t.contactId,g)}).map(f)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(l).map(_))]).then(function(c){var p=c[0],_=c[1],f=c[2];if(p==null){r("FBLogger")("rtc_www").mustfix("Cannot find thread when trying to call someone");return}return o("ReQL").firstAsync(r("getMWLSOngoingCallServerInfoData")(a,l)).then(function(a){return(u||(u=n("Promise"))).resolve(i({existingCall:m!=null&&a!=null?{call_state:r("getRTCCallStateOfLSRTCCallState")((s||(s=o("LSIntEnum"))).unwrapIntEnum(m),(s||(s=o("LSIntEnum"))).unwrapIntEnum(p.threadType)),initiator_fbid:null,server_info_data:a}:null,isE2eeMandated:o("LSMessagingThreadTypeUtil").isArmadilloSecure(p.threadType),mediaType:t,representedID:y,thread:{e2eeThreadID:f==null?void 0:(e||(e=o("I64"))).to_string(f),id:d,secureOneToOneThreadPeerId:_!=null&&(e||(e=o("I64"))).equal(p.threadType,(s||(s=o("LSIntEnum"))).ofNumber(15))?_:void 0,type:(s||(s=o("LSIntEnum"))).unwrapIntEnum(p.threadType)},trigger:h}))})}),void 0,p)},y=[g,i,l,a,m],t[0]=m,t[1]=g,t[2]=a,t[3]=i,t[4]=l,t[5]=h,t[6]=y):(h=t[5],y=t[6]);var C=o("Int64Hooks").useCallbackInt64(h,y),b=void 0;m!=null&&(e||(e=o("I64"))).equal(m,(s||(s=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_GROUP_CALL))?b=d.OngoingAudioCall:m!=null&&(e||(e=o("I64"))).equal(m,(s||(s=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").VIDEO_GROUP_CALL))&&(b=d.OngoingVideoCall);var v;return t[7]!==b||t[8]!==C?(v=[C,b],t[7]=b,t[8]=C,t[9]=v):v=t[9],v}function p(e){r("FBLogger")("rtc_www").catching(e.Error).mustfix("Error making a phone call","rtc_www")}function _(e){return e.jid}function f(t){return(e||(e=o("I64"))).to_string(t.contactId)}l.useMakeRTCCall=m}),98);
__d("MWLSWebUrlCtaHandler",["JSResourceForInteraction","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWInboxUrlWebviewDialog.react").__setRef("MWLSWebUrlCtaHandler"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t){return a({htmlBlob:t},c)},e[1]=a,e[2]=i):i=e[2],i}function c(){}l.useShowWebViewDialog=u}),98);
__d("MWLikeSvgIcon.react",["cr:1798"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:1798")}),98);
__d("MWMarketingMessagesManageLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("MWMarketingMessagesManageDialog.react").__setRef("MWMarketingMessagesManageLazyDialogTrigger.react");function s(t){var n=t.pageId,o=t.renderer,a=t.threadKey,i={pageId:n,threadKey:a},l=r("useMWXLazyDialog")(e),s=l[0],u=function(){return s(i,r("emptyFunction"))};return o(u)}l.default=s}),98);
__d("MWMarketingMessagesManageAdminMsgCta.react",["CometTextWithEntities.react","MWMarketingMessagesManageLazyDialogTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.pageId,a=e.threadKey,i=e.title,l;t[0]!==i?(l=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:i})})},t[0]=i,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u||t[4]!==a?(c=s.jsx(r("MWMarketingMessagesManageLazyDialogTrigger.react"),{pageId:n,renderer:u,threadKey:a}),t[2]=n,t[3]=u,t[4]=a,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWMediaComposerRenderQpl",["LSGetAttachmentType","MAWLoggerUtils","MWMediaRenderQplUtils","QPLUserFlow","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo,d=s.useRef;function m(e,t,n){var a,i=o("MAWLoggerUtils").getInstanceKeyFromId(e),l=o("LSGetAttachmentType").LSGetAttachmentTypeSyncButLessAccurate(t);r("QPLUserFlow").start((a=o("MWMediaRenderQplUtils")).MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{attachment_type:a.getAttachmentTypeStringFromEnum(l),content_type:a.deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(l),entry_point:"composer_view",thread_type:a.getThreadTypeString(n)}},cancelOnUnload:!0,instanceKey:i,timeoutInMs:a.QPL_TIMEOUT})}function p(e,t){var n=o("MAWLoggerUtils").getInstanceKeyFromId(e);r("QPLUserFlow").endCancel(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{cancel_reason:t}},instanceKey:n})}function _(e,t){var n=o("MAWLoggerUtils").getInstanceKeyFromId(e);r("QPLUserFlow").addPoint(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,t,{instanceKey:n})}function f(e){var t=o("MAWLoggerUtils").getInstanceKeyFromId(e.offlineAttachmentId),n=d(!1);r("QPLUserFlow").addAnnotations(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{string:{attachment_type:o("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(e.attachmentType),content_type:o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(e.attachmentType)}},{instanceKey:t});var a=c(function(){return babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,t,n))},[]);return u(function(){return function(){n.current===!1&&(a==null?void 0:a.getInstanceKey())!=null&&(a==null||a.endCancelAfterDelay(706))}},[a]),a}l.startMediaComposerRenderQpl=m,l.endCancelMediaComposerRenderQpl=p,l.addPointMediaComposerRenderQpl=_,l.useMediaComposerRenderQpl=f}),98);
__d("MWSharedMediaManagerUtils",["GetPreviewDimension","I64","LSGetAttachmentType","LSIntEnum","LSMailboxType","MWPreloadableQueries","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e,t){if(!(t==null||e==null)){var n=Math.floor(e.previewHeight*t.previewWidth/e.previewWidth);return n>=t.previewHeight?{previewHeight:(s||(s=o("I64"))).of_float(n),previewWidth:s.of_float(t.previewWidth)}:{previewHeight:(s||(s=o("I64"))).of_float(t.previewHeight),previewWidth:s.of_float(e.previewWidth*t.previewHeight/e.previewHeight)}}}async function d(e,t,n){var r=await p(t,n);await e.runInTransaction(async function(e){var t=await _(e,r);await Promise.all(t.map(function(t){return e.media_staging.add(t)}))},"readwrite",void 0,void 0,i.id+":79")}async function m(e,t,n){var r=await p(t,n);await e.runInTransaction(async function(e){var t=await _(e,r);await Promise.all(t.map(async function(t){return await e.media_staging.get(t.offlineAttachmentId)!=null&&await e.media_staging.upsert([t.offlineAttachmentId],t),Promise.resolve()}))},"readwrite",void 0,void 0,i.id+":103")}async function p(e,t){var n=await Promise.all(e.map(async function(e){var n=e.file,a=e.offlineAttachmentId,i=e.attachmentType!=null?(u||(u=o("LSIntEnum"))).ofNumber(e.attachmentType):await o("LSGetAttachmentType").LSGetAttachmentType(n),l=URL.createObjectURL(n),c;e.previewHeight!=null&&e.previewWidth!=null?c={previewHeight:e.previewHeight,previewWidth:e.previewWidth}:n.type.includes("video/")?c=await o("GetPreviewDimension").getVideoPreviewDimensions(l):c=await o("GetPreviewDimension").getPreviewDimensions(l);var d={attachmentType:i,durationMs:void 0,fbid:void 0,filename:n.name,fileSize:(s||(s=o("I64"))).of_int32(n.size),hasError:!1,isHd:e.isHd,isSent:!1,mailboxType:(u||(u=o("LSIntEnum"))).ofNumber(r("LSMailboxType").MESSENGER),mimeType:n.type,offlineAttachmentId:a,offlineThreadingId:void 0,previewUrl:l,progress:0,threadKey:t};return{dimensions:c,mediaStaging:d}}));return n}async function _(e,t){var n=await e.sync_groups.get((s||(s=o("I64"))).of_float(1)),r;if((n==null?void 0:n.syncParams)!=null){var a=JSON.parse(n.syncParams),i=a.preview_height,l=a.preview_width;r={previewHeight:i,previewWidth:l}}return t.map(function(e){var t=e.dimensions,n=e.mediaStaging;return babelHelpers.extends({},n,c(t,r))})}function f(e,t){return e.runInTransaction(function(e){return e.media_staging.delete(t)},"readwrite",void 0,void 0,i.id+":213")}function g(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t.threadKey?(l=function(){return o("MWPreloadableQueries").getMediaStagingQuery(a,t.threadKey)},s=[a,t.threadKey],n[0]=a,n[1]=t.threadKey,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("ReQLSuspense").useArray(l,s,i.id+":223")}function h(e){return e.mimeType==="image/gif"?!0:e.mimeType==="image/webp"}function y(e){return e.mimeType==="image/gif"}l.insertMediaStaging=d,l.updateMediaStaging=m,l.prepareMediaStagingFiles=p,l.deleteMediaStaging=f,l.useMediaStaging=g,l.isVideoLikeImage=h,l.isGIFImage=y}),98);
__d("WorkFailedSendMessageFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("6352"),s=o("FalcoLoggerInternal").create("work_failed_send_message",e),u=s;l.default=u}),98);
__d("useMWXAlertDialog",["react","react-compiler-runtime","useCometAlertDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useCometAlertDialog")(),n;return e[0]!==t?(n=function(n,r,o){t(babelHelpers.extends({body:n.body},n),r,o)},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("MWMediaManager",["FBLogger","I64","Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","MWChatFilePreProcessingErrorToast.react","MWChatFileUploadErrorDialog.react","MWMediaComposerRenderQpl","MWPActor.react","MWPBumpEntityKey","MWSharedMediaManagerUtils","MessagingAttachmentType","OfflineThreadingId","Promise","WorkFailedSendMessageFalcoEvent","cr:8525","emptyFunction","gkx","promiseDone","react-compiler-runtime","requireDeferred","useMWXAlertDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=r("requireDeferred")("MWOpenMediaManagerUtils").__setRef("MWMediaManager"),m=function(){return n("cr:8525")==null?(r("FBLogger")("messenger_web_media").warn("Unsupported thread type for media upload"),(c||(c=n("Promise"))).resolve(null)):n("cr:8525").load()},p=25;function _(e,t,r){return t?m().then(function(t){var o;return(c||(c=n("Promise"))).resolve((o=t==null?void 0:t.preprocessV2(e,r))!=null?o:[])}):d.load().then(function(t){return t.preprocess(e)})}function f(e,t,n){for(var r=0;r<e.length;r++){var a=e[r],i=n(a,t);if(a.size>i*1024*1024){var l=g(a.size);return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(t?"secure":"open")),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("media_sends","file_size_exceeded."+(t?"secure":"open")+"."+l),i}}return null}function g(e){return e<=30*1024*1024?"30MB":e<=50*1024*1024?"50MB":e<=75*1024*1024?"75MB":e<=100*1024*1024?"100MB":e<=150*1024*1024?"150MB":e<=200*1024*1024?"200MB":e<=250*1024*1024?"250MB":e<=500*1024*1024?"500MB":e<=1024*1024*1024?"1GB":"1GB+"}function h(t){var a=o("react-compiler-runtime").c(38),i=t.chatSupportUserId,l=t.chatSupportUserNonce,p=t.getMaxAttachmentSizeInMB,g=t.isChatSupportUser,h=t.maxNumberOfAttachments,T=t.onUploadFailure,D=t.onUploadStart,x=t.onUploadSuccess,$=t.showUploadFailureToast,P=t.thread,N=t.validateFileName,M=p===void 0?I:p,w=(u||(u=r("useReStore")))(),A=r("useMWXAlertDialog")(),F;a[0]!==P.threadType?(F=o("LSMessagingThreadTypeUtil").isArmadilloSecure(P.threadType),a[0]=P.threadType,a[1]=F):F=a[1];var O=F,B=o("MWSharedMediaManagerUtils").useMediaStaging(P),W=B.length,q=o("MWPActor.react").useActor(),U,V;a[2]!==q||a[3]!==i||a[4]!==l||a[5]!==w||a[6]!==M||a[7]!==g||a[8]!==O||a[9]!==h||a[10]!==W||a[11]!==T||a[12]!==D||a[13]!==x||a[14]!==A||a[15]!==$||a[16]!==P||a[17]!==N?(U=function(a,s){var t=f(a,O,M);if(t!=null){A(o("MWChatFileUploadErrorDialog.react").maxFileSizeExceeded(t),r("emptyFunction"));return}if(h!=null&&W+a.length>h){r("gkx")("23249")?(A(o("MWChatFileUploadErrorDialog.react").maxFilesNumberExceeded(h),r("emptyFunction")),r("WorkFailedSendMessageFalcoEvent").log(k)):A(o("MWChatFileUploadErrorDialog.react").maxMediaNumberExceeded(h),r("emptyFunction"));return}if(N!=null)for(var u=0;u<a.length;u++){var p=a[u];if(!N(p)){A(o("MWChatFileUploadErrorDialog.react").unsupportedFile(),r("emptyFunction"));return}}var y=o("OfflineThreadingId").createForItemsInOrder(a);y.forEach(function(e){var t=e[0],n=e[1];o("MWMediaComposerRenderQpl").startMediaComposerRenderQpl(n,t,P),o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(n,"preprocess_start")}),r("promiseDone")(_(y,O,s).catch(function(){return $(o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body),y.forEach(E),(c||(c=n("Promise"))).resolve([])}).then(function(t){t.forEach(L),r("promiseDone")(o("MWSharedMediaManagerUtils").insertMediaStaging(w,t,P.threadKey)),t.forEach(R);var n=P.threadKey;return O?m().then(function(e){return e==null?void 0:e.upload(w,n,t)}):d.load().then(function(r){return r.upload(w,n,t,$,D,x,T,g,i,l,(e||(e=o("I64"))).to_string(q))})}))},V=[q,i,l,w,M,g,O,h,W,T,D,x,A,$,P,N],a[2]=q,a[3]=i,a[4]=l,a[5]=w,a[6]=M,a[7]=g,a[8]=O,a[9]=h,a[10]=W,a[11]=T,a[12]=D,a[13]=x,a[14]=A,a[15]=$,a[16]=P,a[17]=N,a[18]=U,a[19]=V):(U=a[18],V=a[19]);var H=o("Int64Hooks").useCallbackInt64(U,V),G;a[20]!==w||a[21]!==O?(G=function(t){r("promiseDone")(o("MWSharedMediaManagerUtils").deleteMediaStaging(w,t).then(function(){if(O&&n("cr:8525")!=null)return n("cr:8525").load().then(function(e){e.MAWMediaManagerAttachmentsV2.delete(t)})}))},a[20]=w,a[21]=O,a[22]=G):G=a[22];var z=G,j;a[23]!==w||a[24]!==B?(j=function(){var e=B.map(S);e.forEach(function(e){o("MWSharedMediaManagerUtils").deleteMediaStaging(w,e).catch(v)})},a[23]=w,a[24]=B,a[25]=j):j=a[25];var K=j,Q;a[26]!==w||a[27]!==O||a[28]!==B||a[29]!==$||a[30]!==P.threadKey?(Q=function(a){O&&r("promiseDone")(m().then(function(t){if(t!=null){var i=B.map(function(n){var a;if(!(e||(e=o("I64"))).equal(n.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)))return null;var i=(a=t.MAWMediaManagerAttachmentsV2.get(n.offlineAttachmentId))==null?void 0:a.originalFile;if(i==null)return null;var l=[i,n.offlineAttachmentId];return l}).filter(Boolean);i.length!==0&&r("promiseDone")(_(i,O,a).catch(function(){return $(o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.title,o("MWChatFilePreProcessingErrorToast.react").invalidFileFormat.body),i.forEach(b),(c||(c=n("Promise"))).resolve([])}).then(function(e){e.forEach(C),r("promiseDone")(o("MWSharedMediaManagerUtils").updateMediaStaging(w,e,P.threadKey)),e.forEach(y);var n=P.threadKey;return t==null?void 0:t.upload(w,n,e)}))}}))},a[26]=w,a[27]=O,a[28]=B,a[29]=$,a[30]=P.threadKey,a[31]=Q):Q=a[31];var X=o("Int64Hooks").useCallbackInt64(Q),Y;return a[32]!==z||a[33]!==H||a[34]!==B||a[35]!==X||a[36]!==K?(Y={handleFileRemove:z,handleFileSelect:H,mediaStaging:B,onHdMediaToggled:X,resetAttachments:K},a[32]=z,a[33]=H,a[34]=B,a[35]=X,a[36]=K,a[37]=Y):Y=a[37],Y}function y(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"media_staging_insert_success")}function C(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"preprocess_success")}function b(e){var t=e[1];o("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(t,"invalid-file-format")}function v(e){r("FBLogger")("messenger_web_media").catching(e).mustfix("Error deletting media staging.")}function S(e){return e.offlineAttachmentId}function R(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"media_staging_insert_success")}function L(e){o("MWMediaComposerRenderQpl").addPointMediaComposerRenderQpl(e.offlineAttachmentId,"preprocess_success")}function E(e){var t=e[1];o("MWMediaComposerRenderQpl").endCancelMediaComposerRenderQpl(t,"invalid-file-format")}function k(){return{breaking_rule:"",event:"NUMBER_OF_ATTACHMENTS_LIMIT_REACHED"}}function I(){return p}l.convertIntegerSizeToStringBucket=g,l.useMediaManager=h}),98);
__d("MWMediaManagerFileSizeLimit",["justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=25;function s(t){return t?r("justknobx")._("3563"):e}l.getMWMaxAttachmentSizeInMB=s}),98);
__d("MWMediaTraceHandler",["I64","LSAppendDataTraceAddonStoredProcedure","LSDataTraceCheckPoint","LSDataTraceType","LSFactory","LSIntEnum","MAWTimeUtils","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t.data_trace_meta.add({contextOne:void 0,contextThree:void 0,contextTwo:void 0,foregroundTimestampMs:(e||(e=o("I64"))).zero,initTimestampMs:o("MAWTimeUtils").toTimestamp(o("WATimeUtils").unixTime()),predefinedId:void 0,shouldFlush:!1,traceId:n,traceType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceType").TASK)})}function c(t,n,a,i){return u(t,n).then(function(){return r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:(s||(s=o("LSIntEnum"))).ofNumber(r("LSDataTraceCheckPoint").RICH_MEDIA_UPLOAD_START),dataTraceId:n,syncChannel:(e||(e=o("I64"))).neg_one,tags:e.to_string(a)+","+e.to_string(i)})})}l.logMediaSendStart=c}),98);
__d("MWMessageDeliverySentTimestamp",["fbt","I64"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=(e||(e=o("I64"))).of_int32(60),c=e.of_int32(3600),d=e.of_int32(1440*60),m=e.of_int32(10080*60),p=e.of_int32(672*60*60);function _(t,n,r){r===void 0&&(r=!1);var a=(e||(e=o("I64"))).of_float(n.getTime()/1e3),i=e.div(t,e.of_int32(1e3)),l=e.sub(a,i),_=s._(/*BTDS*/"Sent");if((e||(e=o("I64"))).lt(l,u))return _;if((e||(e=o("I64"))).lt(l,c)){var f=(e||(e=o("I64"))).to_string(e.div(l,u));return s._(/*BTDS*/"Sent {minutes}m ago",[s._param("minutes",f)])}else if((e||(e=o("I64"))).lt(l,d)){var g=(e||(e=o("I64"))).to_string(e.div(l,c));return s._(/*BTDS*/"Sent {hours}h ago",[s._param("hours",g)])}else if((e||(e=o("I64"))).lt(l,m)){var h=(e||(e=o("I64"))).to_string(e.div(l,d));return s._(/*BTDS*/"Sent {days}d ago",[s._param("days",h)])}else{if(r)if((e||(e=o("I64"))).lt(l,p)){var y=(e||(e=o("I64"))).to_string(e.div(l,m));return s._(/*BTDS*/"Sent {weeks}w ago",[s._param("weeks",y)])}else{var C=(e||(e=o("I64"))).to_string(e.div(l,p));return s._(/*BTDS*/"Sent {weeks}mo ago",[s._param("weeks",C)])}return _}}l.getSentTitleWithTimestamp=_}),226);
__d("MWMessageListMediaPressableContainer.react",["I64","LSIntEnum","LSMediaUrlAttachment","MWPThreadCapabilitiesContext","MWXPressable.react","MessagingAttachmentType","cr:4509","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(32),a=e.allowClickEventPropagation,i=e.ariaLabel,l=e.attachment,m=e.children,p=e.disabled,_=e.linkProps_,f=e.mediaRenderQpl,g=e.onHoverIn,h=e.onPress,y=e.overlayDisabled,C=e.testid,b=e.xstyle,v=y===void 0?!1:y,S=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),R=S.blurMediaEnabled,L=r("gkx")("24098")&&R,E=(s||(s=o("I64"))).equal(l.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(s||(s=o("I64"))).equal(l.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)),k=(s||(s=o("I64"))).equal(l.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)),I=E?"Image":k?"Video":"Media",T,D;if(t[0]!==L||t[1]!==f||t[2]!==I?(T=function(){f==null||f.addPoint("render-message-list-media-pressable-container",{bool:{is_blur_media:L},string:{media_type:I}})},D=[L,f,I],t[0]=L,t[1]=f,t[2]=I,t[3]=T,t[4]=D):(T=t[3],D=t[4]),d(T,D),n("cr:4509")!=null&&(E||k)&&L){var x=k?"video":"image",$;t[5]!==l?($=o("LSMediaUrlAttachment").previewUrl(l),t[5]=l,t[6]=$):$=t[6];var P;return t[7]!==i||t[8]!==m||t[9]!==p||t[10]!==_||t[11]!==I||t[12]!==h||t[13]!==v||t[14]!==x||t[15]!==$||t[16]!==C||t[17]!==b?(P=c.jsx(n("cr:4509"),{ariaLabel:i,disabled:p,linkProps:_,mediaType:I,onPress:h,overlayDisabled:v,testid:void 0,type:x,url:$,xstyle:b,children:m}),t[7]=i,t[8]=m,t[9]=p,t[10]=_,t[11]=I,t[12]=h,t[13]=v,t[14]=x,t[15]=$,t[16]=C,t[17]=b,t[18]=P):P=t[18],P}var N;t[19]!==h?(N=function(){return h()},t[19]=h,t[20]=N):N=t[20];var M;return t[21]!==a||t[22]!==i||t[23]!==m||t[24]!==p||t[25]!==_||t[26]!==g||t[27]!==v||t[28]!==N||t[29]!==C||t[30]!==b?(M=c.jsx(r("MWXPressable.react"),{allowClickEventPropagation:a,"aria-label":i,disabled:p,linkProps:_,onHoverIn:g,onPress:N,overlayDisabled:v,testid:void 0,xstyle:b,children:m}),t[21]=a,t[22]=i,t[23]=m,t[24]=p,t[25]=_,t[26]=g,t[27]=v,t[28]=N,t[29]=C,t[30]=b,t[31]=M):M=t[31],M}l.default=m}),98);
__d("MWV2ComposerMediaProgressBar.react",["MWPColorUtils","react","react-compiler-runtime","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(29),n=e.height,a=e.mediaStaging,i=r("useMWPThreadTheme")(),l=i.threadTheme,u;t[0]!==a.hasError||t[1]!==l?(u=a.hasError?"var(--negative)":o("MWPColorUtils").int64ToHex(l.fallbackColor),t[0]=a.hasError,t[1]=l,t[2]=u):u=t[2];var c=u,d=Math.ceil(a.progress*100),m=(n/2).toString(),p="M 0,"+m+" L 100,"+m;if(a.progress===1||a.progress===0)return null;var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_="x1ey2m1c x1o0tod x10l6tqk xh8yej3",t[3]=_):_=t[3];var f;t[4]!==n?(f=n.toString(),t[4]=n,t[5]=f):f=t[5];var g;t[6]!==f?(g={height:f},t[6]=f,t[7]=g):g=t[7];var h="0 0 100 "+n.toString(),y;t[8]!==n?(y=n.toString(),t[8]=n,t[9]=y):y=t[9];var C;t[10]!==p||t[11]!==y?(C=s.jsx("path",{d:p,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:y}),t[10]=p,t[11]=y,t[12]=C):C=t[12];var b=d===0?0:n,v;t[13]!==b?(v=b.toString(),t[13]=b,t[14]=v):v=t[14];var S=100-d|0,R;t[15]!==S?(R=S.toString(),t[15]=S,t[16]=R):R=t[16];var L;t[17]!==R?(L={strokeDasharray:"100",strokeDashoffset:R,transition:"stroke-dashoffset .5s, stroke .5s"},t[17]=R,t[18]=L):L=t[18];var E;t[19]!==c||t[20]!==p||t[21]!==L||t[22]!==v?(E=s.jsx("path",{d:p,stroke:c,strokeLinecap:"round",strokeWidth:v,style:L}),t[19]=c,t[20]=p,t[21]=L,t[22]=v,t[23]=E):E=t[23];var k;return t[24]!==E||t[25]!==g||t[26]!==h||t[27]!==C?(k=s.jsxs("svg",{"aria-hidden":!0,className:_,preserveAspectRatio:"none",style:g,viewBox:h,children:[C,E]}),t[24]=E,t[25]=g,t[26]=h,t[27]=C,t[28]=k):k=t[28],k}l.default=u}),98);
__d("MWV2AttachmentProgressBar.react",["MWV2ComposerMediaProgressBar.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(7),a=t.attachment,l=a.offlineAttachmentId,s=(e||(e=r("useReStore")))(),c;n[0]!==s||n[1]!==l?(c=function(){return l!=null?o("ReQL").fromTableAscending(s.tables.media_staging).getKeyRange(l):o("ReQL").empty()},n[0]=s,n[1]=l,n[2]=c):c=n[2];var d;n[3]!==l?(d=[l],n[3]=l,n[4]=d):d=n[4];var m=o("ReQLSuspense").useFirst(c,d,i.id+":24");if(m!=null&&m.isSent){var p;return n[5]!==m?(p=u.jsx(r("MWV2ComposerMediaProgressBar.react"),{height:5,mediaStaging:m}),n[5]=m,n[6]=p):p=n[6],p}return null}l.default=c}),98);
__d("useMWMessageListAttachmentDimensions",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(6),r;e:{var a=t.previewWidthLarge,i=t.previewHeightLarge;if(a!=null&&i!=null&&e==="Inbox"){var l;n[0]!==i||n[1]!==a?(l=[a,i],n[0]=i,n[1]=a,n[2]=l):l=n[2],r=l;break e}var s;n[3]!==t.previewHeight||n[4]!==t.previewWidth?(s=[t.previewWidth,t.previewHeight],n[3]=t.previewHeight,n[4]=t.previewWidth,n[5]=s):s=n[5],r=s}return r}l.default=u}),98);
__d("MWV2ChatImage.react",["fbt","I64","LSAuthorityLevel","LSIntEnum","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWPBumpEntityKey","MWPMessageListImage.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWXMessageBubbleCornerStyles.react","MessagingAttachmentType","gkx","react","react-compiler-runtime","useGetMediaGroupInformation","useGetMediaGroupStyles","useMWMediaViewerOpenQPLLogger","useMWMessageListAttachmentDimensions","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g={container:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0},containerMinHeight:{minHeight:"xe0p6wg",$$css:!0}};function h(t){var n=o("react-compiler-runtime").c(83),a=t.attachment,i=t.connectBottom,l=t.connectTop,d=t.getPreviewUrl,p=t.isGroupedImage,_=t.isSecure,h=t.maxHeight,b=t.maxWidth,v=t.mediaRenderQpl,S=t.message,R=t.navigateToRouteForMediaViewer,L=t.onPressOverride,E=t.outgoing,k=t.renderUnsupportedAttachment,I=t.shouldBlur,T;n[0]!==v?(T=function(){v==null||v.endFailAfterDelay("load-image-error")},n[0]=v,n[1]=T):T=n[1];var D=T,x;n[2]!==v?(x=function(){v==null||v.endSuccessAfterDelay()},n[2]=v,n[3]=x):x=n[3];var $=x,P=(e||(e=r("useReStore")))(),N=R!=null?R:!0,M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useMWMessageListAttachmentDimensions")(M,a),A=w[0],F=w[1],O=r("useMWV2MediaViewerURL")(a),B=E===!0?"right":"left",W;n[4]!==i||n[5]!==l||n[6]!==B?(W=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:B,connectBottom:i,connectTop:l}),n[4]=i,n[5]=l,n[6]=B,n[7]=W):W=n[7];var q=W,U;n[8]!==F?(U=(u||(u=o("I64"))).to_float(F!=null?F:(u||(u=o("I64"))).zero),n[8]=F,n[9]=U):U=n[9];var V;n[10]!==A?(V=(u||(u=o("I64"))).to_float(A!=null?A:(u||(u=o("I64"))).zero),n[10]=A,n[11]=V):V=n[11];var H=o("useGetMediaGroupStyles").useGetMediaGroupTileImageRatios(p,U,V),G=H.resizeRatio,z=H.scaleRatio,j=A!=null?(u||(u=o("I64"))).to_float(A)*G:void 0,K=F!=null?(u||(u=o("I64"))).to_float(F)*G:void 0,Q=G>1,X=p===!1?h:(Q===!0?K!=null?K:0:h)*z,Y=p===!1?b:(Q?j!=null?j:0:b)*z,J=r("gkx")("23009"),Z=r("useMWV2FocusRowAfterClosingPushView")(),ee=r("useMWV2MediaViewerShowDialog")(N),te=ee[0],ne=ee[1],re=r("useGetMediaGroupInformation")(S,_===!0,v),oe=o("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger(),ae=oe.startFlow,ie;n[12]!==a||n[13]!==d||n[14]!==v?(ie=d(a,"MWV2ChatImage",v),n[12]=a,n[13]=d,n[14]=v,n[15]=ie):ie=n[15];var le=ie,se,ue;if(n[16]!==v||n[17]!==I||n[18]!==le?(se=function(){le!=null&&le.length>0&&(v==null||v.addPoint("render-chat-image",{bool:{has_blur:I}}))},ue=[v,I,le],n[16]=v,n[17]=I,n[18]=le,n[19]=se,n[20]=ue):(se=n[19],ue=n[20]),f(se,ue),le==null||le.length===0){v==null||v.endFailAfterDelay("empty_preview_url");var ce;return n[21]!==a||n[22]!==k?(ce=k!=null?k(a):null,n[21]=a,n[22]=k,n[23]=ce):ce=n[23],ce}var de;n[24]!==O||n[25]!==S.authorityLevel||n[26]!==N||n[27]!==le?(de=N&&(u||(u=o("I64"))).gt(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?{passthroughProps:{origSrc:le},url:O}:void 0,n[24]=O,n[25]=S.authorityLevel,n[26]=N,n[27]=le,n[28]=de):de=n[28];var me=de,pe;n[29]!==a||n[30]!==P||n[31]!==_||n[32]!==re||n[33]!==S||n[34]!==L||n[35]!==Z||n[36]!==N||n[37]!==te||n[38]!==ae?(pe=function(){if(L)L();else if(o("MWV2LogMessageClick").log(P,S,28),ae({attachmentType:"IMAGE",entryPoint:"thread_view",isSecure:_!=null?_:!1}),Z(C),re!=null&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("maw.thread","image_group_click_"+re.tileSize+"_tile"),!N)return te({attachment:a},y)},n[29]=a,n[30]=P,n[31]=_,n[32]=re,n[33]=S,n[34]=L,n[35]=Z,n[36]=N,n[37]=te,n[38]=ae,n[39]=pe):pe=n[39];var _e=pe,fe=void 0;p===!0&&re!=null&&(re.groupSize===2?fe=E?re.groupIndex%2===0?"start":"end":re.groupIndex%2===0?"end":"start":re.groupSize===3&&(fe=E?re.groupIndex%2===1?"start":"end":re.groupIndex%2===1?"end":"start"));var ge;n[40]!==a.attachmentType||n[41]!==a.titleText?(ge=a.titleText==null&&(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?s._(/*BTDS*/"GIF Image"):s._(/*BTDS*/"Open photo"),n[40]=a.attachmentType,n[41]=a.titleText,n[42]=ge):ge=n[42];var he=ge,ye;n[43]!==S.authorityLevel?(ye=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL)),n[43]=S.authorityLevel,n[44]=ye):ye=n[44];var Ce;n[45]!==ne||n[46]!==N?(Ce=function(){if(!N)return ne()},n[45]=ne,n[46]=N,n[47]=Ce):Ce=n[47];var be;n[48]!==q?(be=[g.container,q,g.containerMinHeight],n[48]=q,n[49]=be):be=n[49];var ve=a.titleText!=null&&J?a.titleText:he,Se=p===!0?h:void 0,Re=p===!0?b:void 0,Le;n[50]!==a||n[51]!==i||n[52]!==l||n[53]!==K||n[54]!==X||n[55]!==Y||n[56]!==D||n[57]!==$||n[58]!==E||n[59]!==fe||n[60]!==I||n[61]!==ve||n[62]!==Se||n[63]!==Re||n[64]!==le||n[65]!==j?(Le=m.jsx(o("MWPMessageListImage.react").MWPMessageListImage,{alt:ve,attachment:a,connectBottom:i,connectTop:l,height:K,maxHeight:X,maxWidth:Y,onError:D,onLoad:$,outgoing:E,overlayAlign:fe,overlayHeight:Se,overlayWidth:Re,shouldBlur:I,src:le,width:j}),n[50]=a,n[51]=i,n[52]=l,n[53]=K,n[54]=X,n[55]=Y,n[56]=D,n[57]=$,n[58]=E,n[59]=fe,n[60]=I,n[61]=ve,n[62]=Se,n[63]=Re,n[64]=le,n[65]=j,n[66]=Le):Le=n[66];var Ee;n[67]!==a||n[68]!==S.authorityLevel?(Ee=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(r("MWV2AttachmentProgressBar.react"),{attachment:a}):null,n[67]=a,n[68]=S.authorityLevel,n[69]=Ee):Ee=n[69];var ke;n[70]!==q?(ke=m.jsx(r("MWChatImageInsetShadow.react"),{xstyle:q}),n[70]=q,n[71]=ke):ke=n[71];var Ie;return n[72]!==a||n[73]!==me||n[74]!==v||n[75]!==_e||n[76]!==ye||n[77]!==Ce||n[78]!==be||n[79]!==Le||n[80]!==Ee||n[81]!==ke?(Ie=m.jsxs(r("MWMessageListMediaPressableContainer.react"),{attachment:a,disabled:ye,linkProps_:me,mediaRenderQpl:v,onHoverIn:Ce,onPress:_e,testid:void 0,xstyle:be,children:[Le,Ee,ke]},a.attachmentFbid),n[72]=a,n[73]=me,n[74]=v,n[75]=_e,n[76]=ye,n[77]=Ce,n[78]=be,n[79]=Le,n[80]=Ee,n[81]=ke,n[82]=Ie):Ie=n[82],Ie}function y(){}function C(){return!0}l.default=h}),226);
__d("MWResponsiveVideo.react",["CometObjectFitContainer.react","CometPlaceholder.react","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","MWXGlimmer.react","deferredLoadComponent","gkx","react","react-compiler-runtime","requireDeferredForDisplay","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useMemo,p=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWResponsiveVideo.react")),_={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0},glimmerFallback:{borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",borderStartEndRadius:"x1uxb8k9",borderStartStartRadius:"x1xn7y0n",display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function f(e){return[e==="Inbox"?240:180,140]}function g(t){var n=o("react-compiler-runtime").c(50),a=t.autoPlaySetting,i=t.connectTopStyles,l=t.errorBoundaryFallback,s=t.fbid,c=t.gifPlayback,m=t.height,g=t.loops,h=t.maxHeight,y=t.maxWidth,C=t.mediaRenderQpl,b=t.shouldForcePauseOnClick,v=t.src,S=t.width,R=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),L;n[0]!==m||n[1]!==S?(L=S!=null?m!=null?[S,m]:[500,300]:[500,300],n[0]=m,n[1]=S,n[2]=L):L=n[2];var E=L,k=E[0]/E[1],I=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),T=I.hasLSThreadBitOffset,D;n[3]!==T?(D=r("gkx")("24098")&&T(46),n[3]=T,n[4]=D):D=n[4];var x=D,$,P,N,M;if(n[5]!==k||n[6]!==x||n[7]!==R||n[8]!==h||n[9]!==y||n[10]!==S){var w=f(R);$=Math.min(S!=null?S:500,y,h*k).toString()+"px",P=h.toString()+"px",N=x?w[1].toString(10)+"px":"",M=x?w[0].toString(10)+"px":"",n[5]=k,n[6]=x,n[7]=R,n[8]=h,n[9]=y,n[10]=S,n[11]=$,n[12]=P,n[13]=N,n[14]=M}else $=n[11],P=n[12],N=n[13],M=n[14];var A;n[15]!==$||n[16]!==P||n[17]!==N||n[18]!==M?(A={maxHeight:P,minHeight:N,minWidth:M,width:$},n[15]=$,n[16]=P,n[17]=N,n[18]=M,n[19]=A):A=n[19];var F=A,O,B;n[20]!==C?(O=function(){C==null||C.addPoint("render-responsive-video")},B=[C],n[20]=C,n[21]=O,n[22]=B):(O=n[21],B=n[22]),d(O,B);var W;n[23]===Symbol.for("react.memo_cache_sentinel")?(W="x193iq5w x11md1zd x450l9j x6ikm8r x10wlt62 x1n2onr6",n[23]=W):W=n[23];var q;n[24]===Symbol.for("react.memo_cache_sentinel")?(q={className:"x1ey2m1c xtijo5x x1o0tod x10l6tqk x13vifvy x1vjfegm"},n[24]=q):q=n[24];var U;n[25]!==i?(U=(e||(e=r("stylex"))).props(_.glimmerFallback,i),n[25]=i,n[26]=U):U=n[26];var V;n[27]===Symbol.for("react.memo_cache_sentinel")?(V=u.jsx(r("MWXGlimmer.react"),{index:0,xstyle:_.glimmer}),n[27]=V):V=n[27];var H;n[28]!==U?(H=u.jsx("div",babelHelpers.extends({},U,{children:V})),n[28]=U,n[29]=H):H=n[29];var G=x?!1:a,z=g===!0?-1:0,j=m!=null?m:300,K=S!=null?S:500,Q;n[30]!==l||n[31]!==s||n[32]!==c||n[33]!==C||n[34]!==b||n[35]!==v||n[36]!==G||n[37]!==z||n[38]!==j||n[39]!==K?(Q=u.jsx(p,{autoPlaySetting:G,controls:"mwchat",errorBoundaryFallback:l,fbid:s,gifPlayback:c,hideExpandButton:!0,loopCount:z,mediaRenderQpl:C,originalHeight:j,originalWidth:K,sdSrc:v,shouldForcePauseOnClick:b}),n[30]=l,n[31]=s,n[32]=c,n[33]=C,n[34]=b,n[35]=v,n[36]=G,n[37]=z,n[38]=j,n[39]=K,n[40]=Q):Q=n[40];var X;n[41]!==H||n[42]!==Q?(X=u.jsx("div",babelHelpers.extends({},q,{children:u.jsx(r("CometPlaceholder.react"),{fallback:H,name:"MWResponsiveVideo",children:Q})})),n[41]=H,n[42]=Q,n[43]=X):X=n[43];var Y;n[44]!==k?(Y=u.jsx(r("CometObjectFitContainer.react"),{contentAspectRatio:k,objectFitMode:"CONTAINER_WIDTH_BASED_ASPECT_RATIO",children:null}),n[44]=k,n[45]=Y):Y=n[45];var J;return n[46]!==F||n[47]!==X||n[48]!==Y?(J=u.jsxs("div",{className:W,style:F,children:[X,Y]}),n[46]=F,n[47]=X,n[48]=Y,n[49]=J):J=n[49],J}l.default=g}),98);
__d("MWV2ChatVideo.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MWChatImageInsetShadow.react","MWLSThreadDisplayContext","MWMessageListMediaPressableContainer.react","MWResponsiveVideo.react","MWV2AttachmentProgressBar.react","MWV2LogMessageClick","MWVideoPlayerControllerContext.react","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","getVideoPlayerUserFacingErrorMessageFromError","react","react-compiler-runtime","useCometRouterDispatcher","useMWMediaViewerOpenQPLLogger","useMWV2FocusRowAfterClosingPushView","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useContext,f=p.useEffect,g=p.useMemo,h=p.useRef,y={glimmer:{height:"xpyat2d",marginTop:"x1gslohp",width:"x1oysuqx",$$css:!0},root:{backfaceVisibility:"xlp1x4z",backgroundColor:"x1eb86dx",display:"x1lliihq",maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}};function C(t){var n=o("react-compiler-runtime").c(76),a=t.attachment,i=t.autoPlaySetting,l=t.connectTop,d=t.getPlayableUrl,p=t.gifPlayback,g=t.isSecure,h=t.loops,C=t.mediaRenderQpl,S=t.message,R=t.navigateToRouteForMediaViewer,L=t.outgoing,E=t.renderUnsupportedAttachment,k=R===void 0?!0:R,I=(e||(e=r("useReStore")))(),T=r("useCometRouterDispatcher")(),D=r("useMWV2MediaViewerURL")(a),x=L?"right":"left",$;n[0]!==l||n[1]!==x?($=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:x,connectTop:l}),n[0]=l,n[1]=x,n[2]=$):$=n[2];var P=$,N=r("useMWV2FocusRowAfterClosingPushView")(),M=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),w=r("useMWV2MediaViewerShowDialog")(k),A=w[0],F=w[1],O=_(r("MWVideoPlayerControllerContext.react")),B;n[3]!==a||n[4]!==d||n[5]!==C?(B=d(a,"MWV2ChatVideoInner",C),n[3]=a,n[4]=d,n[5]=C,n[6]=B):B=n[6];var W=B,q=o("useMWMediaViewerOpenQPLLogger").useMWMediaViewerOpenQPLLogger(),U,V;if(n[7]!==C||n[8]!==W?(U=function(){C==null||C.addPoint("render-chat-video",{bool:{has_url:!!W}})},V=[C,W],n[7]=C,n[8]=W,n[9]=U,n[10]=V):(U=n[9],V=n[10]),f(U,V),W==null||W===""){C==null||C.endFailAfterDelay("empty_preview_url");var H;return n[11]!==a||n[12]!==E?(H=E!=null?E(a):null,n[11]=a,n[12]=E,n[13]=H):H=n[13],H}if((a==null?void 0:a.playableUrlMimeType)==="video/x-ms-wmv"&&!(u||(u=o("I64"))).equal(S.sendStatusV2,(c||(c=o("LSIntEnum"))).ofNumber(2))){var G;return n[14]!==P?(G=m.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[P,y.glimmer]}),n[14]=P,n[15]=G):G=n[15],G}var z=a.previewHeight,j=a.previewWidth,K;n[16]===Symbol.for("react.memo_cache_sentinel")?(K=s._(/*BTDS*/"Expand video"),n[16]=K):K=n[16];var Q;n[17]!==S.authorityLevel?(Q=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL)),n[17]=S.authorityLevel,n[18]=Q):Q=n[18];var X;n[19]!==k||n[20]!==F?(X=function(){if(!k)return F()},n[19]=k,n[20]=F,n[21]=X):X=n[21];var Y;n[22]!==a||n[23]!==O||n[24]!==I||n[25]!==T||n[26]!==D||n[27]!==g||n[28]!==q||n[29]!==S||n[30]!==k||n[31]!==N||n[32]!==A||n[33]!==W?(Y=function(){if(o("MWV2LogMessageClick").log(I,S,27),q.startFlow({attachmentType:"VIDEO",entryPoint:"thread_view",isSecure:g!=null?g:!1}),N(v),!k)return A({attachment:a},b);var e=O.ref.current;if(e){var t=e.getCurrentState(),n=t.volume,i=e.getPlayheadPosition();D!=null&&(T==null||T.go(D,{passthroughProps:{origSrc:W,startTimestamp:i,volumeSetting:n}}),e.setMuted(!0,"product_initiated"))}else r("FBLogger")("messenger_web_media").debug("Missing controller")},n[22]=a,n[23]=O,n[24]=I,n[25]=T,n[26]=D,n[27]=g,n[28]=q,n[29]=S,n[30]=k,n[31]=N,n[32]=A,n[33]=W,n[34]=Y):Y=n[34];var J;n[35]!==P?(J=[y.root,P],n[35]=P,n[36]=J):J=n[36];var Z;n[37]!==a||n[38]!==E?(Z=E!=null?function(e){var t,n;return E(a,e!=null&&(t=r("getVideoPlayerUserFacingErrorMessageFromError")(e))!=null?t:void 0,(n=e==null?void 0:e.message)!=null?n:null)}:void 0,n[37]=a,n[38]=E,n[39]=Z):Z=n[39];var ee=a.attachmentFbid,te;n[40]!==z?(te=z!=null?(u||(u=o("I64"))).to_float(z):void 0,n[40]=z,n[41]=te):te=n[41];var ne=p===!0,re=g!=null?g:!1,oe=M!=null?M:"ChatTab",ae;n[42]!==ne||n[43]!==re||n[44]!==oe?(ae=o("MAWAttachmentSizeUtils").getMaxHeightForVideo(ne,re,oe),n[42]=ne,n[43]=re,n[44]=oe,n[45]=ae):ae=n[45];var ie=M==="Inbox"?500:167,le;n[46]!==j?(le=j!=null?(u||(u=o("I64"))).to_float(j):void 0,n[46]=j,n[47]=le):le=n[47];var se;n[48]!==a.attachmentFbid||n[49]!==i||n[50]!==P||n[51]!==p||n[52]!==h||n[53]!==C||n[54]!==Z||n[55]!==te||n[56]!==ae||n[57]!==ie||n[58]!==le||n[59]!==W?(se=m.jsx(r("MWResponsiveVideo.react"),{autoPlaySetting:i,connectTopStyles:P,errorBoundaryFallback:Z,fbid:ee,gifPlayback:p,height:te,loops:h,maxHeight:ae,maxWidth:ie,mediaRenderQpl:C,shouldForcePauseOnClick:!0,src:W,width:le}),n[48]=a.attachmentFbid,n[49]=i,n[50]=P,n[51]=p,n[52]=h,n[53]=C,n[54]=Z,n[55]=te,n[56]=ae,n[57]=ie,n[58]=le,n[59]=W,n[60]=se):se=n[60];var ue;n[61]!==a||n[62]!==S.authorityLevel?(ue=(u||(u=o("I64"))).le(S.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL))?m.jsx(r("MWV2AttachmentProgressBar.react"),{attachment:a}):null,n[61]=a,n[62]=S.authorityLevel,n[63]=ue):ue=n[63];var ce;n[64]!==P?(ce=m.jsx(r("MWChatImageInsetShadow.react"),{xstyle:P}),n[64]=P,n[65]=ce):ce=n[65];var de;return n[66]!==a||n[67]!==C||n[68]!==Y||n[69]!==J||n[70]!==se||n[71]!==ue||n[72]!==ce||n[73]!==Q||n[74]!==X?(de=m.jsxs(r("MWMessageListMediaPressableContainer.react"),{ariaLabel:K,attachment:a,disabled:Q,mediaRenderQpl:C,onHoverIn:X,onPress:Y,overlayDisabled:!0,testid:void 0,xstyle:J,children:[se,ue,ce]}),n[66]=a,n[67]=C,n[68]=Y,n[69]=J,n[70]=se,n[71]=ue,n[72]=ce,n[73]=Q,n[74]=X,n[75]=de):de=n[75],de}function b(){}function v(){return!0}function S(e){var t=o("react-compiler-runtime").c(3),n=h(null),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={ref:n},t[0]=a):a=t[0];var i=a,l;return t[1]!==e?(l=m.jsx(r("MWVideoPlayerControllerContext.react").Provider,{value:i,children:m.jsx(C,babelHelpers.extends({},e))}),t[1]=e,t[2]=l):l=t[2],l}l.default=S}),226);
__d("MessengerHotLikeSVGReact.bs",["cssVar","cx","fbt","CurrentUser","MWLikeSvgIcon.react","MessengerEnvironment","bs_belt_Option","joinClasses","react"],(function(t,n,r,o,a,i,l,s,u,c){"use strict";var e,d=e||(e=o("react")),m=c._(/*BTDS*/"Thumbs up sign");function p(e){var t=e.className,n=e.color,o=t,a=n,i,l=0;return a==null||a===""?l=1:i=a,l===1&&(i=r("CurrentUser").isWorkUser()?"#373e4c":r("MessengerEnvironment").messengerui?"#0084ff":"#4080ff"),d.jsx("div",{className:r("joinClasses")(r("bs_belt_Option").getWithDefault(o,""),"_1i1j"),"data-testid":void 0,children:d.jsx(r("MWLikeSvgIcon.react"),{alt:m,color:i,size:"100%"})})}p.displayName=p.name+" [from "+i.id+"]",l.MessengerHotLikeSVGReact=p}),226);
__d("MWV2ChatEmojiHotLike.react",["LSHotEmojiSize","MessengerHotLikeSVGReact.bs","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={largeHotLike:{height:"x1wkxgih",width:"xygnafs",$$css:!0},likePreview:{display:"x78zum5",float:"xtrg13t",height:"x1dnml7z",width:"x7tvc40",$$css:!0},likePreviewV2:{display:"x78zum5",height:"xsdox4t",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",width:"x1useyqa",$$css:!0},mediumHotLike:{height:"x1to3lk4",width:"xjzaux3",$$css:!0},noCustomLikePreview:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(6),a=t.hotEmojiSize,i=t.xstyle,l;n[0]!==a||n[1]!==i?(l=(e||(e=r("stylex"))).props([r("gkx")("23249")?[c.likePreview,c.noCustomLikePreview]:[c.likePreviewV2,a===r("LSHotEmojiSize").MEDIUM&&c.mediumHotLike,a===r("LSHotEmojiSize").LARGE&&c.largeHotLike],i]),n[0]=a,n[1]=i,n[2]=l):l=n[2];var s;n[3]===Symbol.for("react.memo_cache_sentinel")?(s=u.jsx(o("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:"var(--mwp-primary-theme-color)"}),n[3]=s):s=n[3];var d;return n[4]!==l?(d=u.jsx("div",babelHelpers.extends({"aria-label":"Like, thumbs up"},l,{role:"img",children:s})),n[4]=l,n[5]=d):d=n[5],d}l.default=d}),98);
__d("StickerConstants",[],(function(t,n,r,o,a,i){var e=Object.freeze({MOBILE_LIKE_STICKER_PACK_ID:"227877430692340",GRAVEYARD_PACK_ID:"604597256247273",LIKE_STICKER_ID:"227878347358915",HOT_LIKE_SMALL_STICKER_ID:"369239263222822",HOT_LIKE_MEDIUM_STICKER_ID:"369239343222814",HOT_LIKE_LARGE_STICKER_ID:"369239383222810",MRU_STICKER_PACK:"599061016853145",SEARCH_PACK_ID:"680229632032514",FEED_PACK_ID:"2239834712900285",OZ_PACK_ID:"1456625217993235",AVATARS_PACK_ID:"2191329907595522",TRENDING_STICKER_PACK_ID:"924487421216423",SPRITE_PADDING:"24",PayloadSource:{VIEW_ACTION:"view-action"},DEFAULT_FRAME_RATE:83,TRAY_SIZE:64,THREAD_SIZE:120});i.default=e}),66);
__d("Sticker.react",["cx","fbt","Arbiter","CurrentUser","JSResource","MessengerHotLikeSVGReact.bs","PaddedStickerConfig","StickerConstants","clearInterval","emptyFunction","getElementPosition","joinClasses","lazyLoadComponent","react","setIntervalAcrossTransitions"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=r("lazyLoadComponent")(r("JSResource")("GeoPopover.react").__setRef("Sticker.react")),m="AI generated sticker",p=83,_=5e3,f=10,g={CLICK:"click",HOVER:"hover",LOAD_AND_HOVER:"load_and_hover",ANIMATE_FOREVER:"animate_forever"},h=(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,t.__stopIntervalID=null,t.$1=!1,t.$2=c.createRef(),t.state={index:0,isHovered:!1,hasAnimated:!1,unsubscribeID:null},t.toggleAnimation=function(){t.isAnimating()?t.stopAnimation():t.startAnimation()},t.incrementFrameIndex=function(){t.shouldStopAnimating()?t.stopAnimation():t.setState({index:t.state.index+1})},t.onStickerClick=function(){t.$3(t.props.packID)&&t.props.onStickerClick&&t.props.onStickerClick(t.props.packID,t.props.stickerID)},t.mouseLeft=function(){t.setState({isHovered:!1})},t.mouseEntered=function(){t.setState({isHovered:!0}),t.isAnimating()||t.startAnimation()},t.tabFocusSelected=function(){t.setState({isHovered:!0}),t.isAnimating()||t.startAnimation()},t.tabFocusUnselected=function(){t.setState({isHovered:!1})},babelHelpers.assertThisInitialized(t)||babelHelpers.assertThisInitialized(t)}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;if(this.$1=!0,this.props.onAttachmentLoad&&this.props.onAttachmentLoad(),this.__stopIntervalID=null,(this.props.animationTrigger===g.LOAD_AND_HOVER||this.props.animationTrigger===g.ANIMATE_FOREVER)&&this.props.frameCount!=null&&this.props.frameCount>1&&this.props.spriteURI&&this.startAnimation(),this.props.subscribedThreadID&&this.props.frameCount!=null&&this.props.frameCount>1){var t=r("Arbiter").subscribe(this.props.subscribedThreadID,function(t,n){e.isScrolledIntoView(n.scrollTop,n.viewHeight,n.top)});this.setState({unsubscribeID:t})}},n.componentWillUnmount=function(){this.$1=!1,this.state.unsubscribeID&&r("Arbiter").unsubscribe(this.state.unsubscribeID),this.isAnimating()&&r("clearInterval")(this.__stopIntervalID)},n.isAnimating=function(){return!!this.__stopIntervalID},n.getWidth=function(){var e;return Math.floor((e=this.props.sourceWidth)!=null?e:0)},n.getHeight=function(){var e;return Math.floor((e=this.props.sourceHeight)!=null?e:0)},n.preloadSprite=function(){var e=this,t=new window.Image;t.onload=function(){e.$1&&!e.state.hasAnimated&&(e.setState({hasAnimated:!0}),e.__stopIntervalID=r("setIntervalAcrossTransitions")(e.incrementFrameIndex,e.props.frameRate))},r("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI?t.src=this.props.paddedSpriteURI:t.src=this.props.spriteURI},n.isScrolledIntoView=function(t,n,o){var e=r("getElementPosition")(this.$2.current),a=t+e.y-o,i=t+n,l=a+e.height;this.props.frameCount!=null&&this.props.frameCount>1&&!this.state.hasAnimated&&l-f<=i&&a+f>=t&&this.startAnimation()},n.startAnimation=function(){!this.state.hasAnimated&&this.props.spriteURI?this.preloadSprite():this.isAnimating()||(this.setState({hasAnimated:!0}),this.__stopIntervalID=r("setIntervalAcrossTransitions")(this.incrementFrameIndex,this.props.frameRate))},n.stopAnimation=function(){this.setState({index:0}),r("clearInterval")(this.__stopIntervalID),this.__stopIntervalID=null},n.shouldStopAnimating=function(){var e;if(this.props.frameCount==null||this.props.frameCount===0)return!0;var t=this.state.index%this.props.frameCount;if(this.props.animationTrigger===g.ANIMATE_FOREVER)return!1;var n=(e=this.props.frameRate)!=null?e:p;return t===0&&this.state.index*n>this.props.animationTime?this.props.animationTrigger===g.CLICK?!0:!this.state.isHovered:!1},n.getStyle=function(){var e,t=0,n=this.props.spriteURI,o=(e=this.props.scale)!=null?e:1,a=this.getHeight()*o,i=this.getWidth()*o;if(r("PaddedStickerConfig").ChatPaddedAnimatedStickerGK&&this.props.paddedSpriteURI){n=this.props.paddedSpriteURI;var l=240/Math.min(a,i);t=Math.floor(parseInt(r("StickerConstants").SPRITE_PADDING,10)/l)}var s=this.props.frameCount!=null&&this.props.frameCount!==0?this.state.index%this.props.frameCount:0,u=this.props.framesPerRow!=null&&this.props.framesPerRow!==0?s%this.props.framesPerRow*(i+t*2)+t:0,c=this.props.framesPerRow!=null&&this.props.framesPerRow!==0?Math.floor(s/this.props.framesPerRow)*(a+t*2)+t:0,d=this.props.frameCount!=null&&this.props.frameCount>1&&this.props.animationTrigger===g.CLICK||this.$3(this.props.packID),m=this.props.forceCursorPointer||d?"pointer":"default";return!this.state.hasAnimated||!this.props.spriteURI||!n||this.props.framesPerRow==null||this.props.framesPerRow===0||this.props.framesPerCol==null||this.props.framesPerCol===0?{backgroundImage:this.$4()||!this.props.sourceURI?null:"url("+this.props.sourceURI.toString()+")",backgroundRepeat:"no-repeat",backgroundSize:i+"px "+a+"px",cursor:m,height:a,width:i}:{backgroundSize:(i+t*2)*this.props.framesPerRow+"px "+(a+t*2)*this.props.framesPerCol+"px",backgroundImage:"url("+n.toString()+")",backgroundPosition:-u+"px "+-c+"px",cursor:m,height:a,width:i,imageRendering:"-webkit-optimize-contrast"}},n.$3=function(t){return t&&t!=r("StickerConstants").MOBILE_LIKE_STICKER_PACK_ID&&t!=r("StickerConstants").GRAVEYARD_PACK_ID},n.render=function(){var e=this,t,n;this.props.animationTrigger===g.CLICK&&this.props.frameCount!=null&&this.props.frameCount>1&&this.props.spriteURI?t=!0:(this.props.animationTrigger===g.HOVER||this.props.animationTrigger===g.LOAD_AND_HOVER)&&this.props.frameCount!=null&&this.props.frameCount>1&&this.props.spriteURI&&(n=!0);var a=this.props.className,i=null;return this.$4()&&(a=r("joinClasses")(a,"_576q"),!r("CurrentUser").isWorkUser()&&this.props.thread!=null?i=null:i=c.jsx(o("MessengerHotLikeSVGReact.bs").MessengerHotLikeSVGReact,{color:this.props.customColor})),c.jsx("div",{"aria-label":u._(/*BTDS*/"{pack name}{sticker name}{sticker suffix}",[u._param("pack name",this.props.packName||""),u._param("sticker name",this.props.accessibilityLabel),u._param("sticker suffix",this.props.accessibilityLabel===m?"":" sticker")]),className:a,"data-testid":void 0,onBlur:this.tabFocusUnselected,onClick:function(){if(t===!0){e.toggleAnimation();return}e.props.packID!=null&&e.onStickerClick()},onFocus:this.tabFocusSelected,onMouseEnter:n?this.mouseEntered:null,onMouseLeave:n?this.mouseLeft:null,role:"img",style:this.getStyle(),tabIndex:this.props.tabIndex,ref:this.$2,children:i})},n.$4=function(){return document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect?this.props.stickerID===r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||this.props.stickerID===r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||this.props.stickerID===r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID:!1},t})(c.Component);h.defaultProps={animationTime:_,accessibilityLabel:"",forceCursorPointer:!1,frameRate:p,onStickerClick:r("emptyFunction"),packID:null,packName:"",tabIndex:0},l.default=h}),226);
__d("getMWHotlikeSizeFromStickerId",["LSHotEmojiSize","StickerConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e={},e[r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID]=r("LSHotEmojiSize").SMALL,e[r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID]=r("LSHotEmojiSize").MEDIUM,e[r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID]=r("LSHotEmojiSize").LARGE,e);function u(e){var t;return(t=s[e])!=null?t:r("LSHotEmojiSize").NONE}l.default=u}),98);
__d("getMWIsDefaultHotlikeStickerId",["StickerConstants"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e===r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID||e===r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID||e===r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID}l.default=e}),98);
__d("MWV2Sticker.react",["I64","MAWImageUtils","MWChatImageSize","MWLSThreadDisplayContext","MWV2ChatEmojiHotLike.react","Sticker.react","getMWHotlikeSizeFromStickerId","getMWIsDefaultHotlikeStickerId","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useMemo;function _(e){var t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n,r=t!=null&&t==="Inbox"?.75:.5;return e<60?n=1:e>o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE?n=o("MAWImageUtils").STICKER_THUMBNAIL_MAX_SIZE/e:n=r,n}function f(t){var n,a=o("react-compiler-runtime").c(33),i=t.attachment,l=t.getPreviewUrl,s=t.mediaRenderQpl,d=t.renderUnsupportedAttachment,p=t.scale,f=t.xstyle,g;a[0]!==i||a[1]!==l||a[2]!==s?(g=l(i,"MWV2Sticker",s),a[0]=i,a[1]=l,a[2]=s,a[3]=g):g=a[3];var h=g,y;a[4]!==i.previewHeight?(y=i.previewHeight!=null?(u||(u=o("I64"))).to_int32(i.previewHeight):void 0,a[4]=i.previewHeight,a[5]=y):y=a[5];var C=y,b;a[6]!==i.previewWidth?(b=i.previewWidth!=null?(u||(u=o("I64"))).to_int32(i.previewWidth):void 0,a[6]=i.previewWidth,a[7]=b):b=a[7];var v=b,S=_(C!=null?C:120),R=v!=null&&C!=null,L=o("MWChatImageSize").useImageSize(h,R),E;a[8]!==C||a[9]!==L||a[10]!==v?(E=v!=null&&C!=null?[v,C]:L!=null?[L.width,L.height]:[24,24],a[8]=C,a[9]=L,a[10]=v,a[11]=E):E=a[11];var k=E,I=k[0],T=k[1],D,x;if(a[12]!==s||a[13]!==h?(D=function(){h==null||h.length===0?s==null||s.endFailAfterDelay("load-image-error"):(s==null||s.addPoint("render-sticker"),s==null||s.endSuccessAfterDelay())},x=[h,s],a[12]=s,a[13]=h,a[14]=D,a[15]=x):(D=a[14],x=a[15]),m(D,x),r("getMWIsDefaultHotlikeStickerId")(i.attachmentFbid)&&!r("gkx")("23249")){var $;a[16]!==i.attachmentFbid?($=r("getMWHotlikeSizeFromStickerId")(i.attachmentFbid),a[16]=i.attachmentFbid,a[17]=$):$=a[17];var P;return a[18]!==$?(P=c.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:$}),a[18]=$,a[19]=P):P=a[19],P}if(h==null||h.length===0){var N;return a[20]!==i||a[21]!==d?(N=d!=null?d(i):null,a[20]=i,a[21]=d,a[22]=N):N=a[22],N}var M=(n=i.accessibilitySummaryText)!=null?n:"",w;a[23]!==f?(w=(e||(e=r("stylex")))(f),a[23]=f,a[24]=w):w=a[24];var A=p!=null?p:S,F;return a[25]!==i.attachmentFbid||a[26]!==T||a[27]!==I||a[28]!==M||a[29]!==w||a[30]!==A||a[31]!==h?(F=c.jsx(r("Sticker.react"),{accessibilityLabel:M,animationTrigger:"load_and_hover",className:w,customColor:"var(--chat-composer-button-color)",enablePopoverIfPassesGK:!0,frameCount:0,frameRate:void 0,framesPerCol:0,framesPerRow:0,packID:void 0,paddedSpriteURI:void 0,scale:A,sourceHeight:T,sourceURI:h,sourceWidth:I,spriteURI:void 0,stickerID:i.attachmentFbid,tabIndex:-1,testid:void 0}),a[25]=i.attachmentFbid,a[26]=T,a[27]=I,a[28]=M,a[29]=w,a[30]=A,a[31]=h,a[32]=F):F=a[32],F}l.default=f}),98);
__d("MWMessageListAttachment.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSMediaUrlAttachment","MAWThreadCutover","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWAudioPlayer.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2ChatImage.react","MWV2ChatVideo.react","MWV2Sticker.react","MWV2TombstonedMessage.react","gkx","react","react-compiler-runtime","stylex","useMWMessageListAttachmentDimensions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useState;function f(t){var n=o("react-compiler-runtime").c(8),a=t.isOutgoing,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(i),n[0]=i,n[1]=l):l=n[1];var u;n[2]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"Error rendering media"),n[2]=u):u=n[2];var c;n[3]!==a?(c=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:a,children:u}),n[3]=a,n[4]=c):c=n[4];var m;return n[5]!==l||n[6]!==c?(m=d.jsx("div",babelHelpers.extends({},l,{children:c})),n[5]=l,n[6]=c,n[7]=m):m=n[7],m}function g(e){var t=o("react-compiler-runtime").c(7),n=e.attachment,a=e.connectTop,i=e.mediaRenderQpl,l=e.message,s=e.navigateToRouteForMediaViewer,u=e.outgoing,c=h,m=o("MAWThreadCutover").useIsCutoverOpenThread(l.threadKey),p=!m&&s,_;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==u||t[5]!==p?(_=d.jsx(r("MWV2ChatVideo.react"),{attachment:n,autoPlaySetting:!1,connectTop:a,getPlayableUrl:c,loops:!r("gkx")("8625"),mediaRenderQpl:i,message:l,navigateToRouteForMediaViewer:p,outgoing:u}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=p,t[6]=_):_=t[6],_}function h(e){return o("LSMediaUrlAttachment").playableUrl(e)}function y(e){var t=o("react-compiler-runtime").c(8),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.isReply,s=e.mediaRenderQpl,u=e.message,c=e.outgoing,m=C,p;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s||t[5]!==u||t[6]!==c?(p=d.jsx(r("MWAudioPlayer.react"),{attachment:n,connectBottom:a,connectTop:i,getPlayableUrl:m,isReply:l,isSecure:!1,mediaRenderQpl:s,message:u,outgoing:c}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s,t[5]=u,t[6]=c,t[7]=p):p=t[7],p}function C(e){return o("LSMediaUrlAttachment").playableUrl(e)}function b(e){var t=o("react-compiler-runtime").c(39),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.isGroupedImage,s=e.mediaRenderQpl,c=e.message,m=e.navigateToRouteForMediaViewer,p=e.outgoing,f=e.renderUnsupportedAttachment,g=l===void 0?!1:l,h=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),C=_(!1),b=C[0],v=C[1],S=o("MAWThreadCutover").useIsCutoverOpenThread(c.threadKey),R=r("useMWMessageListAttachmentDimensions")(y,n),L=R[0],E=R[1],k;t[0]!==y?(k=function(t){var e=t.previewUrlLarge;return e!=null&&y==="Inbox"?e:o("LSMediaUrlAttachment").previewUrl(t)},t[0]=y,t[1]=k):k=t[1];var I=k,T=y!=null?y:void 0,D;t[2]!==g||t[3]!==T?(D=o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!1,T,g),t[2]=g,t[3]=T,t[4]=D):D=t[4];var x=D,$=x.maxHeight,P=x.maxWidth,N=n.previewUrlMimeType==="image/gif",M;if(t[5]!==n.authorityLevel||t[6]!==n.filename||t[7]!==n.previewUrl){var w,A;M=(u||(u=o("I64"))).to_int32(n.authorityLevel)!==r("LSAuthorityLevel").AUTHORITATIVE&&(((w=n.filename)==null?void 0:w.includes("gif"))||((A=n.previewUrl)==null?void 0:A.includes("gif"))),t[5]=n.authorityLevel,t[6]=n.filename,t[7]=n.previewUrl,t[8]=M}else M=t[8];var F=M,O=(N||F===!0)&&h!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;if(O&&b===!1){var B;t[9]===Symbol.for("react.memo_cache_sentinel")?(B=function(){return v(!0)},t[9]=B):B=t[9];var W;t[10]!==E?(W=(u||(u=o("I64"))).to_float(E!=null?E:(u||(u=o("I64"))).zero),t[10]=E,t[11]=W):W=t[11];var q;t[12]!==L?(q=(u||(u=o("I64"))).to_float(L!=null?L:(u||(u=o("I64"))).zero),t[12]=L,t[13]=q):q=t[13];var U;return t[14]!==n||t[15]!==a||t[16]!==i||t[17]!==s||t[18]!==c||t[19]!==p||t[20]!==W||t[21]!==q?(U=d.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:a,connectTop:i,dbAttachment:n,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isSecure:!1,mediaRenderQpl:s,message:c,onPlay:B,outgoing:p,previewHeight:W,previewWidth:q,testid:void 0}),t[14]=n,t[15]=a,t[16]=i,t[17]=s,t[18]=c,t[19]=p,t[20]=W,t[21]=q,t[22]=U):U=t[22],U}var V=O?!1:!S&&m,H;t[23]!==O?(H=O?function(){v(!1)}:void 0,t[23]=O,t[24]=H):H=t[24];var G;return t[25]!==n||t[26]!==a||t[27]!==i||t[28]!==I||t[29]!==g||t[30]!==$||t[31]!==P||t[32]!==s||t[33]!==c||t[34]!==p||t[35]!==f||t[36]!==V||t[37]!==H?(G=d.jsx(r("MWV2ChatImage.react"),{attachment:n,connectBottom:a,connectTop:i,getPreviewUrl:I,isGroupedImage:g,maxHeight:$,maxWidth:P,mediaRenderQpl:s,message:c,navigateToRouteForMediaViewer:V,onPressOverride:H,outgoing:p,renderUnsupportedAttachment:f}),t[25]=n,t[26]=a,t[27]=i,t[28]=I,t[29]=g,t[30]=$,t[31]=P,t[32]=s,t[33]=c,t[34]=p,t[35]=f,t[36]=V,t[37]=H,t[38]=G):G=t[38],G}function v(e){var t=o("react-compiler-runtime").c(3),n=e.attachment,a=e.mediaRenderQpl,i=S,l;return t[0]!==n||t[1]!==a?(l=d.jsx(r("MWV2Sticker.react"),{attachment:n,getPreviewUrl:i,mediaRenderQpl:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function S(e){var t,n=(t=o("LSMediaUrlAttachment").playableUrl(e))!=null?t:o("LSMediaUrlAttachment").previewUrl(e);if(n!=null)return n;r("FBLogger")("messenger_web_media").mustfix("Sticker Attachment has no preview_url or playable_url: %s",e.attachmentFbid)}l.MWMessageListAttachmentError=f,l.MWMessageListAttachmentVideo=g,l.MWMessageListAttachmentAudio=y,l.MWMessageListAttachmentImage=b,l.MWMessageListAttachmentSticker=v}),226);
__d("useAttachmentDataLS",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t,n=o("react-compiler-runtime").c(9),a=(s||(s=r("useReStore")))(),l;n[0]!==a||n[1]!==e.messageId||n[2]!==e.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(e.threadKey,e.messageId).map(function(e){var t=m(a,e);return{attachment:e,attachmentCTAs:t}})},n[0]=a,n[1]=e.messageId,n[2]=e.threadKey,n[3]=l):l=n[3];var u;n[4]!==a||n[5]!==e?(u=[e,a],n[4]=a,n[5]=e,n[6]=u):u=n[6];var p=o("ReQLSuspense").useArray(l,u,i.id+":41").toSorted(d),_=(t=p[0])==null?void 0:t.attachment,f=o("ReQLSuspense").useArray(function(){return _==null?o("ReQL").empty():o("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(_.attachmentFbid).map(function(e){var t=m(a,e);return{attachmentItem:e,attachmentItemCTAs:t}})},[_,a],i.id+":60").reduce(c,[[],[]]),g=f[0],h=f[1],y=[];p.map(function(e){y.push(e.attachment)});var C;if(g.length>0)C=h;else{var b,v=(b=p[0])==null?void 0:b.attachmentCTAs,S;n[7]!==v?(S=v?[v]:[],n[7]=v,n[8]=S):S=n[8],C=S}return{attachmentCTAs:C,attachmentItems:g,attachments:y}}function c(e,t){var n=t.attachmentItem,r=t.attachmentItemCTAs;return e[0].push(n),e[1].push(r),e}function d(t,n){return(e||(e=o("I64"))).compare(t.attachment.attachmentIndex,n.attachment.attachmentIndex)}function m(e,t){var n={},r=t.attachmentCta1Id,a=t.attachmentCta2Id,l=t.attachmentCta3Id,s=t.defaultCtaId;return n.defaultCta=s!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(s),i.id+":113"):void 0,n.attachmentCta1=r!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(r),i.id+":121"):void 0,n.attachmentCta2=a!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(a),i.id+":129"):void 0,n.attachmentCta3=l!=null?o("ReQLSuspense").first(o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(l),i.id+":137"):void 0,n}l.useAttachmentDataLS=u}),98);
__d("fetchOpenMissingMessage",["FBLogger","I64","LSFactory","LSMessagePointQueryStoredProcedure"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a){var l,s=(e||(e=o("I64"))).to_int32((l=n.syncGroup)!=null?l:(e||(e=o("I64"))).neg_one);if(s!==-1&&s===95){r("FBLogger")("messenger_web").mustfix("fetchMissingMessage: incorrect call to MPQ with secure mailbox");return}await t.runInTransaction(function(e){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(e),{messageId:a,threadKey:n.threadKey,threadType:n.threadType})},"readwrite",void 0,void 0,i.id+":38")}l.default=s}),98);
__d("fetchSecureMissingMessage",["MAWBridgeSendAndReceive","MAWMiActOnActThreadReady","MAWMpsGating","MAWPutMessagesToDB","MpsMessageToLoadResponse","MpsOverBridge","MpsTypes","WAStanzaUtils"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n,r,a){var i=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,a),l=i.chatJid;if(o("MAWMpsGating").isMpsMessageRendering()){var u=await o("MpsOverBridge").mps().loadMessage({config:{strategy:"local-first"},debug:{purpose:"fetchSecureMissingMessageFullMps"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)});if(u.value!=null){var c=babelHelpers.extends({},o("MpsMessageToLoadResponse").messageToLoadMsgsResponse([u.value]),{hasMoreAfter:!1,hasMoreBefore:!1});await o("MAWPutMessagesToDB").insertMessageResponseIntoDatabase(e,c)}return}var d=await s({config:{admin:!0,editMsgHistory:!1,media:!0,polls:!0,reactions:!1,receiverFetch:!0,xma:!0},externalId:n});await o("MAWPutMessagesToDB").insertMessageResponseIntoDatabaseByExternalId(e,d),!(d.msgs.length>0||!r)&&await o("MpsOverBridge").mps().copMps.loadMsgIntoMaw({config:{shouldFetchSupplementals:!0,shouldFetchTags:!1,strategy:"full-fetch"},debug:{purpose:"fetchSecureMissingMessageM3"},messageId:o("MpsTypes").toMessageId(n),threadId:o("MpsTypes").toThreadId(l)})}async function s(e){var t=e.config,n=e.externalId;return babelHelpers.extends({},await o("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMsgsByExternalId",{config:t,externalId:o("WAStanzaUtils").toStanzaId(n)}))}l.default=e}),98);
__d("useGetOriginalMsgFromBumpMsg",["FBLogger","LSMessagingThreadTypeUtil","MAWFetchExternalIdUsingCache","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchOpenMissingMessage","fetchSecureMissingMessage","isMWBumpMessage","promiseDone","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){var l=o("react-compiler-runtime").c(14),s;l[0]!==t?(s=r("isMWBumpMessage")(t),l[0]=t,l[1]=s):s=l[1];var u=s,c=(e||(e=r("useReStore")))(),d;l[2]===Symbol.for("react.memo_cache_sentinel")?(d={entrypoint:r("MWEBEntrypointsKillswitch.enum").BUMP_MESSAGES},l[2]=d):d=l[2];var m=r("useMWEBBackupState")(d),p;l[3]!==c.tables.threads||l[4]!==a?(p=function(){return a!=null?o("ReQL").fromTableAscending(c.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(a):o("ReQL").empty()},l[3]=c.tables.threads,l[4]=a,l[5]=p):p=l[5];var _;l[6]!==c||l[7]!==a?(_=[c,a],l[6]=c,l[7]=a,l[8]=_):_=l[8];var f=o("ReQLSuspense").useFirst(p,_,i.id+":40"),g,h;l[9]!==c.tables.messages||l[10]!==u||l[11]!==n?(g=function(){return n!=null&&u?o("ReQL").fromTableDescending(c.tables.messages.index("messageId")).getKeyRange(n):o("ReQL").empty()},h=[c.tables.messages,n,u],l[9]=c.tables.messages,l[10]=u,l[11]=n,l[12]=g,l[13]=h):(g=l[12],h=l[13]);var y=o("ReQLSuspense").useFirst(g,h,i.id+":52");if(y==null&&f!=null&&n!=null&&u)if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType)){var C=m===3;r("promiseDone")(o("MAWFetchExternalIdUsingCache").fetchExternalIdUsingCache(n).then(function(e){e!=null?r("promiseDone")(r("fetchSecureMissingMessage")(c,f.threadKey,e,C,"MAWFetchBumpMessage")):r("FBLogger")("mw_bump_message").warn("[useGetOriginalMsgFromBumpMsg] failed fetch external id, invalid msgId %s",n)}))}else r("promiseDone")(r("fetchOpenMissingMessage")(c,f,n));return y}l.default=s}),98);
__d("useAttachmentData",["react-compiler-runtime","useAttachmentDataLS","useGetOriginalMsgFromBumpMsg"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(4),a=r("useGetOriginalMsgFromBumpMsg")(e.replyType,e.replySourceId,e.threadKey),i=a!=null?a:e,l=o("useAttachmentDataLS").useAttachmentDataLS(i),s=l.attachmentCTAs,u=l.attachmentItems,c=l.attachments,d;return n[0]!==s||n[1]!==u||n[2]!==c?(d={attachmentCTAs:s,attachmentItems:u,attachments:c},n[0]=s,n[1]=u,n[2]=c,n[3]=d):d=n[3],d}l.useAttachmentData=e}),98);
__d("MWPAttachmentDataContext",["FBLogger","I64","ReQL","ReQLSuspense","react","react-compiler-runtime","useAttachmentData","useAttachmentDataLS","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.createContext,p=d.useContext,_=m({attachmentCTAs:[],attachmentItems:[],attachments:[]});function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.isSecureMessage,a=e.message,i=o("useAttachmentData").useAttachmentData(a,r),l;return t[0]!==i||t[1]!==n?(l=c.jsx(_.Provider,{value:i,children:n}),t[0]=i,t[1]=n,t[2]=l):l=t[2],l}function g(e){var t=o("react-compiler-runtime").c(3),n=e.attachmentData,r=e.children,a;return t[0]!==n||t[1]!==r?(a=c.jsx(_.Provider,{value:n,children:r}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function h(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.message,a=o("useAttachmentDataLS").useAttachmentDataLS(r),i;return t[0]!==a||t[1]!==n?(i=c.jsx(_.Provider,{value:a,children:n}),t[0]=a,t[1]=n,t[2]=i):i=t[2],i}function y(e){var t=p(_).attachments,n=C(e);return t.length===0&&n.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachments from context, instead retrieved attachments directly from LSDB"),n):t}function C(t){var n=o("react-compiler-runtime").c(10),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.attachments||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId)},n[0]=a.tables.attachments,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l):l=n[3];var s;n[4]!==a||n[5]!==t.messageId||n[6]!==t.threadKey?(s=[a,t.messageId,t.threadKey],n[4]=a,n[5]=t.messageId,n[6]=t.threadKey,n[7]=s):s=n[7];var u=o("ReQLSuspense").useArray(l,s,i.id+":98"),c;return n[8]!==u?(c=u.toSorted(b),n[8]=u,n[9]=c):c=n[9],c}function b(e,t){return(s||(s=o("I64"))).compare(e.attachmentIndex,t.attachmentIndex)}function v(e){var t,n,a,i=(s||(s=o("I64"))).to_int32(e.attachmentIndex),l=(t=p(_).attachmentCTAs[i])!=null?t:{},u=S(e),c=(l==null?void 0:l.defaultCta)==null&&(u==null?void 0:u.defaultCta)!=null||(l==null?void 0:l.attachmentCta1)==null&&(u==null?void 0:u.attachmentCta1)!=null;if(u!=null&&(n=u.attachmentCta1)!=null&&(n=n.type_)!=null&&n.includes("poll")||l!=null&&(a=l.attachmentCta1)!=null&&(a=a.type_)!=null&&a.includes("poll")){var d,m,f={attachmentIndex:i,contextCta1Type:(l==null||(d=l.attachmentCta1)==null?void 0:d.type_)||"null",contextHasCta1:(l==null?void 0:l.attachmentCta1)!=null,contextHasDefaultCta:(l==null?void 0:l.defaultCta)!=null,lsCta1Type:(u==null||(m=u.attachmentCta1)==null?void 0:m.type_)||"null",lsHasCta1:(u==null?void 0:u.attachmentCta1)!=null,lsHasDefaultCta:(u==null?void 0:u.defaultCta)!=null,messageId:e.messageId||"null",shouldUseFallback:c};r("FBLogger")("messenger_web_media","poll_cta_debug").info("Poll CTA debug: %s",JSON.stringify(f))}return c?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentCTAs from context, instead retrieved attachmentCTAs directly from LSDB"),u):l}function S(t){var n=(e||(e=r("useReStore")))(),o={};return o.defaultCta=R(n,t==null?void 0:t.defaultCtaId),o.attachmentCta1=R(n,t==null?void 0:t.attachmentCta1Id),o.attachmentCta2=R(n,t==null?void 0:t.attachmentCta2Id),o.attachmentCta3=R(n,t==null?void 0:t.attachmentCta3Id),o}function R(e,t){var n=o("react-compiler-runtime").c(4),r,a;return n[0]!==t||n[1]!==e?(r=function(){return t!=null?o("ReQL").fromTableAscending(e.tables.attachment_ctas).getKeyRange(t):o("ReQL").empty()},a=[e,t],n[0]=t,n[1]=e,n[2]=r,n[3]=a):(r=n[2],a=n[3]),o("ReQLSuspense").useFirst(r,a,i.id+":175")}function L(e){var t,n=(t=p(_).attachmentItems)!=null?t:[],o=E(e);return n.length===0&&o.length>0?(r("FBLogger")("messenger_web_media","attachment_context_missing").info("MWPAttachmentContext is not set, failed to retrieve attachmentItems from context, instead retrieved attachmentItems directly from LSDB"),o):n}function E(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l;n[0]!==t.attachmentFbid||n[1]!==a.tables.attachment_items?(l=function(){var e=t.attachmentFbid;return o("ReQL").fromTableAscending(a.tables.attachment_items).getKeyRange(e)},n[0]=t.attachmentFbid,n[1]=a.tables.attachment_items,n[2]=l):l=n[2];var s;return n[3]!==t||n[4]!==a?(s=[t,a],n[3]=t,n[4]=a,n[5]=s):s=n[5],o("ReQLSuspense").useArray(l,s,i.id+":205")}l.MWPAttachmentDataContext=_,l.MWPAttachmentDataContextProvider=f,l.MWPAttachmentDataContextProviderMAW=g,l.MWPAttachmentDataContextProviderLS=h,l.useMWPGetAttachments=y,l.useMWPGetAttachmentCTAs=v,l.useMWPGetAttachmentItems=L}),98);
__d("MWPMessageHasXMA",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return[(e||(e=o("I64"))).and_((s||(s=o("LSIntEnum"))).ofNumber(1024),t.displayedContentTypes),e.and_(s.ofNumber(2048),t.displayedContentTypes),e.and_(s.ofNumber(536870912),t.displayedContentTypes)].some(function(t){return(e||(e=o("I64"))).to_int32(t)!==0})}l.default=u}),98);
__d("MWPMessageListColumn.react",["react","react-compiler-runtime","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bubble:{minWidth:"xeuugli",$$css:!0},centered:{alignItems:"x6s0dn4",$$css:!0},customHeight:function(t){return[{height:t!=null?"x16ye13r":t,$$css:!0},{"--x-height":(function(e){return typeof e=="number"?e+"px":e!=null?e:void 0})(t)}]},grow:{flexGrow:"x1iyjqo2",$$css:!0},justifyContentStart:{justifyContent:"x1nhvcw1",$$css:!0},paint:{backgroundColor:"x1eb86dx",$$css:!0},profile:{paddingInlineEnd:"xf159sx",paddingInlineStart:"xdmgqn6",$$css:!0},root:{alignItems:"x1h91t0o",alignSelf:"xkh2ocl",display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"x13a6bvl",maxWidth:"x193iq5w",$$css:!0},selfCentered:{alignSelf:"xamitd3",$$css:!0},shrinkwrap:{flexGrow:"x1c4vz4f",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},vr:{backgroundColor:"x1eb86dx",width:"xh8yej3",$$css:!0},withGutters:{paddingInlineEnd:"x1o5r3ls",paddingInlineStart:"x15r0g6m",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(13),n=e.bubble,r=e.centered,a=e.children,i=e.grow,l=e.justifyContent,c=e.paint,d=e.profile,m=e.selfCentered,p=e.shrinkwrap,_=e.withGutters,f=i===!0?u.grow:!1,g=p===!0?u.shrinkwrap:!1,h=c===!0?u.paint:!1,y=d===!0?u.profile:!1,C=_===!0?u.withGutters:!1,b=n===!0?u.bubble:!1,v=r===!0?u.centered:!1,S=m===!0?u.selfCentered:!1,R=l==="flex-start"?u.justifyContentStart:!1,L;t[0]!==f||t[1]!==g||t[2]!==h||t[3]!==y||t[4]!==C||t[5]!==b||t[6]!==v||t[7]!==S||t[8]!==R?(L=[u.root,f,g,h,y,C,b,v,S,R],t[0]=f,t[1]=g,t[2]=h,t[3]=y,t[4]=C,t[5]=b,t[6]=v,t[7]=S,t[8]=R,t[9]=L):L=t[9];var E;return t[10]!==a||t[11]!==L?(E=s.jsx(o("react-strict-dom").html.div,{role:"none",style:L,children:a}),t[10]=a,t[11]=L,t[12]=E):E=t[12],E}function d(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.grow,a=e.shrinkwrap,i=r!=null?r:!1,l=a!=null?a:!1,u;return t[0]!==n||t[1]!==i||t[2]!==l?(u=s.jsx(c,{grow:i,paint:!0,shrinkwrap:l,withGutters:!0,children:n}),t[0]=n,t[1]=i,t[2]=l,t[3]=u):u=t[3],u}function m(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.selfCentered,a=r!=null?r:!1,i;return t[0]!==n||t[1]!==a?(i=s.jsx(c,{paint:!0,profile:!0,selfCentered:a,shrinkwrap:!0,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function p(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.paint,a=e.profile,i=r!=null?r:!0,l=a!=null?a:!1,u;return t[0]!==n||t[1]!==i||t[2]!==l?(u=s.jsx(c,{paint:i,profile:l,selfCentered:!0,shrinkwrap:!0,children:n}),t[0]=n,t[1]=i,t[2]=l,t[3]=u):u=t[3],u}function _(e){var t=o("react-compiler-runtime").c(4),n=e.centered,r=e.children,a=e.paint,i=n!=null?n:!1,l=a!=null?a:!0,u;return t[0]!==r||t[1]!==i||t[2]!==l?(u=s.jsx(c,{centered:i,paint:l,shrinkwrap:!0,children:r}),t[0]=r,t[1]=i,t[2]=l,t[3]=u):u=t[3],u}function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.paint,a=r===void 0?!0:r,i;return t[0]!==n||t[1]!==a?(i=s.jsx(c,{grow:!0,paint:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function g(e){var t=o("react-compiler-runtime").c(2),n=e.children,r;return t[0]!==n?(r=s.jsx(c,{grow:!0,justifyContent:"flex-start",paint:!0,children:n}),t[0]=n,t[1]=r):r=t[1],r}function h(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=e.paint;r("vulture")("Lqwr6iczFnKFUzCl9GDn6tANLvg=");var i;return t[0]!==n||t[1]!==a?(i=s.jsx(c,{bubble:!0,paint:a,children:n}),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function y(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{role:"none",style:u.spacer}),e[0]=t):t=e[0],t}function C(e){var t=o("react-compiler-runtime").c(4),n=e.height,r;t[0]!==n?(r=u.customHeight(n),t[0]=n,t[1]=r):r=t[1];var a;return t[2]!==r?(a=s.jsx(o("react-strict-dom").html.div,{role:"none",style:[u.vr,r]}),t[2]=r,t[3]=a):a=t[3],a}l.MWPMessageListColumnWithGutters=d,l.MWPMessageListColumnProfile=m,l.MWPMessageListColumnSelfCentered=p,l.MWPMessageListColumnShrinkwrap=_,l.MWPMessageListColumnGrow=f,l.MWPMessageListColumnGrowJustified=g,l.MWPMessageListColumnBubble=h,l.MWPMessageListColumnHorizontalSpacer=y,l.MWPMessageListColumnVerticalRhythm=C}),98);
__d("mwpMessageIsReply",["LSIntEnum","LSMessageReplySourceTypeV2"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return t.replySourceTypeV2!=null&&(e||(e=o("LSIntEnum"))).toNumber(t.replySourceTypeV2)!==r("LSMessageReplySourceTypeV2").FORWARD}l.default=s}),98);
__d("mwpMessageWithAttachmentHasPoll",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).to_int32(e.and_((s||(s=o("LSIntEnum"))).ofNumber(32),t.displayedContentTypes))!==0}l.default=u}),98);
__d("MWPMessageListAttachmentContainer.react",["MWPMessageHasXMA","MWPMessageListColumn.react","mwpMessageIsReply","mwpMessageWithAttachmentHasPoll","react","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={container:{maxWidth:"x193iq5w",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},container_for_poll:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"xdt5ytf",width:"xh8yej3",$$css:!0},container_for_top_margin:{marginTop:"x1gslohp",$$css:!0},container_for_xma:{width:"xh8yej3",$$css:!0},vr:{backgroundColor:"x1eb86dx",height:"x36qwtl",width:"xh8yej3",$$css:!0}};function c(e){var t=e.children,n=e.connectTop,a=e.hasTopMargin,i=a===void 0?!1:a,l=e.message,c=e.outgoing,d=e.paint,m=d===void 0?!0:d,p=e.renderEmphasisRing,_=e.xmaLayout,f=e.xstyle,g=r("MWPMessageHasXMA")(l),h=r("mwpMessageIsReply")(l),y=r("mwpMessageWithAttachmentHasPoll")(l),C=l.text,b=C!=null?C!=="":!1,v=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[u.container,g?u.container_for_xma:!1,y?u.container_for_poll:!1,i?u.container_for_top_margin:!1,f!==null?f:!1],children:t});return s.jsxs(s.Fragment,{children:[n&&(_===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT||!g||!b)?s.jsx(o("react-strict-dom").html.div,{style:u.vr}):null,s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{paint:!h&&m,children:p!=null?p(v):v})]})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWSearchPluginUtils",["isStringNullOrEmpty","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(15),n,r,a,i,l,s,u;if(t[0]!==e){u=Symbol.for("react.early_return_sentinel");e:{var c,d,m=(c=e==null||(d=e.split("?")[1])==null?void 0:d.split("&"))!=null?c:[];if(m.length===0){u=null;break e}l=[],i=[],s=[],r="",a="",n="",m.forEach(function(e){var t=e.split("="),o=t[0],u=t[1],c=decodeURIComponent(u);o.includes("source_titles")&&l.push(c.replaceAll("+"," ")),o.includes("source_sub_titles")&&i.push(c.replaceAll("+"," ")),o.includes("source_urls")&&s.push(c),o==="source_query"&&(r=u==null?"":c.replaceAll("+"," ")),o==="source_query_url"&&(a=c),o==="header"&&(n=c)})}t[0]=e,t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=l,t[6]=s,t[7]=u}else n=t[1],r=t[2],a=t[3],i=t[4],l=t[5],s=t[6],u=t[7];if(u!==Symbol.for("react.early_return_sentinel"))return u;var p;return t[8]!==n||t[9]!==r||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==s?(p={header:n,source_query:r,source_query_url:a,source_sub_titles:i,source_titles:l,source_urls:s},t[8]=n,t[9]=r,t[10]=a,t[11]=i,t[12]=l,t[13]=s,t[14]=p):p=t[14],p}function s(e){return!!(e.cta1Type==="xma_gen_ai_search_plugin_response_search_engine_attribution"&&e.cta2Type==="xma_gen_ai_search_plugin_response_sources"||c(e))}function u(e){return e.cta1Type==="xma_gen_ai_search_plugin_response_sources"}function c(e){return e.cta1Type==="xma_gen_ai_search_plugin_response_sources"&&r("isStringNullOrEmpty")(e.headerTitle)}l.useSearchPluginSources=e,l.isSearchPlugin=s,l.isSearchSingleBubblePlugin=u,l.isSearchPluginWithoutAttributionLink=c}),98);
__d("MWPMessageListAttachment.react",["I64","LSIntEnum","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWPThreadCapabilitiesContext","MWSearchPluginUtils","MWVerticalRhythm","MessagingAttachmentType","ReQL","ReQLSuspense","gkx","isMWBumpMessage","react","react-compiler-runtime","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useEffect;function p(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function _(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function f(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))}function g(e){var t,n=o("react-compiler-runtime").c(76),a=e.connectBottom,i=e.connectTop,l=e.mediaRenderQpl,s=e.message,_=e.renderAudioAttachment,f=e.renderEmphasisRing,g=e.renderEphemeralMediaAttachment,C=e.renderFileAttachment,S=e.renderImageAttachment,R=e.renderImageGrid,L=e.renderMultipleAttachments,E=e.renderStickerAttachment,k=e.renderUnsupportedAttachment,I=e.renderUnsupportedMultipleAttachments,T=e.renderVideoAttachment,D=e.renderWrapper,x=e.renderXMAAttachment,$=e.xmaLayout,P=$===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:$,N=o("MWPAttachmentDataContext").useMWPGetAttachments(s),M=v((t=N[0])==null?void 0:t.attachmentCta1Id),w;n[0]!==N[0]||n[1]!==N.length?(w=N.length>0?o("MWSearchPluginUtils").isSearchSingleBubblePlugin(N[0]):!1,n[0]=N[0],n[1]=N.length,n[2]=w):w=n[2];var A=w,F=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),O=F.blurMediaEnabled,B=r("gkx")("24098")&&O,W,q=N.length>0?N[0]:null,U,V;if(n[3]!==q||n[4]!==l?(U=function(){q!=null?(l==null||l.addAttachmentAnnotations==null||l.addAttachmentAnnotations(q),l==null||l.addPoint("render-message-list-attachment")):l==null||l.addPoint("missing-message-list-attachment")},V=[q,l],n[3]=q,n[4]=l,n[5]=U,n[6]=V):(U=n[5],V=n[6]),m(U,V),r("isMWBumpMessage")(s.replyType))return null;if(N.length!==1)if(N.length>1&&N.every(p))if(B){var H;if(n[7]!==N||n[8]!==i||n[9]!==s||n[10]!==f||n[11]!==S||n[12]!==k||n[13]!==P){var G;n[15]!==N.length||n[16]!==i||n[17]!==s||n[18]!==f||n[19]!==S||n[20]!==k||n[21]!==P?(G=function(t,n){return d.jsxs(d.Fragment,{children:[n!==0?d.jsx(r("MWVerticalRhythm"),{height:2}):null,d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,message:s,renderEmphasisRing:f,xmaLayout:P,children:S(t,n!==0,n!==N.length-1,k)})]},t.attachmentFbid)},n[15]=N.length,n[16]=i,n[17]=s,n[18]=f,n[19]=S,n[20]=k,n[21]=P,n[22]=G):G=n[22],H=N.map(G),n[7]=N,n[8]=i,n[9]=s,n[10]=f,n[11]=S,n[12]=k,n[13]=P,n[14]=H}else H=n[14];W=H}else{var z;n[23]!==N||n[24]!==R?(z=R(N),n[23]=N,n[24]=R,n[25]=z):z=n[25];var j;n[26]!==i||n[27]!==s||n[28]!==f||n[29]!==z||n[30]!==P?(j=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,message:s,renderEmphasisRing:f,xmaLayout:P,children:z}),n[26]=i,n[27]=s,n[28]=f,n[29]=z,n[30]=P,n[31]=j):j=n[31],W=j}else{var K=b,Q=y;if(N.length===2&&K(N)&&Q(N)){var X;if(n[32]!==N){var Y;X=(Y=N.find(h))!=null?Y:N[0],n[32]=N,n[33]=X}else X=n[33];var J=X,Z;return n[34]!==M||n[35]!==x||n[36]!==J?(Z=x(J,M),n[34]=M,n[35]=x,n[36]=J,n[37]=Z):Z=n[37],Z}if(N.length>1){var ee;if(n[38]!==N||n[39]!==L?(ee=L==null?void 0:L(N),n[38]=N,n[39]=L,n[40]=ee):ee=n[40],W=ee,W!=null)return W}var te;n[41]!==N||n[42]!==I?(te=I!=null?I(N):void 0,n[41]=N,n[42]=I,n[43]=te):te=n[43],W=te}else{var ne=N[0],re=ne.attachmentType,oe;n[44]!==re?(oe=(u||(u=o("I64"))).equal(re,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)),n[44]=re,n[45]=oe):oe=n[45];var ae=!oe,ie=ne.attachmentType,le;n[46]!==ne||n[47]!==l||n[48]!==k?(le=function(){return l==null||l.endSuccessAfterDelay(),k(ne)},n[46]=ne,n[47]=l,n[48]=k,n[49]=le):le=n[49];var se=le,ue;n[50]!==ne||n[51]!==a||n[52]!==i||n[53]!==M||n[54]!==_||n[55]!==g||n[56]!==C||n[57]!==S||n[58]!==E||n[59]!==k||n[60]!==se||n[61]!==T||n[62]!==x||n[63]!==ie?(ue=(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?S(ne,i,a,k):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?T(ne):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))?_(ne):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))||(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").THIRD_PARTY_STICKER))?E(ne):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?x(ne,M):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE))?C(ne):(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(ie,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))?g(ne):se(),n[50]=ne,n[51]=a,n[52]=i,n[53]=M,n[54]=_,n[55]=g,n[56]=C,n[57]=S,n[58]=E,n[59]=k,n[60]=se,n[61]=T,n[62]=x,n[63]=ie,n[64]=ue):ue=n[64];var ce;n[65]!==i||n[66]!==A||n[67]!==s||n[68]!==ae||n[69]!==f||n[70]!==ue||n[71]!==P?(ce=d.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:i,hasTopMargin:A,message:s,paint:ae,renderEmphasisRing:f,xmaLayout:P,children:ue}),n[65]=i,n[66]=A,n[67]=s,n[68]=ae,n[69]=f,n[70]=ue,n[71]=P,n[72]=ce):ce=n[72],W=ce}if(W!=null){var de;return n[73]!==W||n[74]!==D?(de=D!=null?D(W):W,n[73]=W,n[74]=D,n[75]=de):de=n[75],de}return null}function h(e){return f(e)}function y(e){return e.some(C)}function C(e){return p(e)||_(e)}function b(e){return e.some(f)}function v(t){var n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l;n[0]!==t||n[1]!==a.tables.attachment_ctas?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachment_ctas).getKeyRange(t!=null?t:(u||(u=o("I64"))).zero)},n[0]=t,n[1]=a.tables.attachment_ctas,n[2]=l):l=n[2];var s;return n[3]!==t||n[4]!==a?(s=[a,t],n[3]=t,n[4]=a,n[5]=s):s=n[5],o("ReQLSuspense").useFirst(l,s,i.id+":252")}l.default=g}),98);
__d("MWV2ChatAttachmentParserUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=e.startsWith("blob:");if(t){var n=e.length;return e.substring(5,n)}}i.getBlobUrl=e}),66);
__d("formatFileSize",["fbt"],(function(t,n,r,o,a,i,l,s){var e=[function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} B\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} KB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} MB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} GB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} TB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} PB\"}",[s._param("value",e,[0])])},function(e){return s._(/*BTDS*/"_j{\"*\":\"{value} EB\"}",[s._param("value",e,[0])])}],u=0;function c(t,n,r){if(n===void 0&&(n=1024),r===void 0&&(r=2),t==null)return null;if(t===0)return e[u](0);var o=Math.floor(Math.log(Math.abs(t))/Math.log(n)),a=t/Math.pow(n,o),i=Math.pow(10,r);return a=Math.round(a*i)/i,e[o](a)}l.default=c}),226);
__d("MWV2ChatFileV2.react",["fbt","ConstUriUtils","FBLogger","I64","LSMediaUrlAttachment","MDSTextPairing.react","MWChatFilePreview.react","MWChatMessageId","MWFilePressable.react","MWV2ChatAttachmentParserUtils","formatFileSize","react","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useMemo,p={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function _(t){var n=t.attachment,a=t.getPlayableUrlSecure,i=t.mediaRenderQpl,l=m(function(){var e=n.filename;return e!=null?e:s._(/*BTDS*/"File")},[n]),u=m(function(){var e=n.filesize!=null?(c||(c=o("I64"))).to_int32(n.filesize):void 0;return e!=null?r("formatFileSize")(e):null},[n]),_=m(function(){if(a!=null){var e,t=(e=a(n))!=null?e:"";return o("ConstUriUtils").getUri(t)}else{var i=o("LSMediaUrlAttachment").playableUrl(n);if(i!=null){var l=o("MWV2ChatAttachmentParserUtils").getBlobUrl(i);return l!=null?o("ConstUriUtils").getUri(l):o("ConstUriUtils").getUri(i)}}r("FBLogger")("messenger_web_media").mustfix("Attachment has no playable_url %s",n.attachmentFbid)},[n,a]);return d.jsx(r("MWFilePressable.react"),{attachmentID:n.attachmentFbid,mediaRenderQpl:i,messageID:o("MWChatMessageId").makeSent((c||(c=o("I64"))).to_string(n.threadKey),n.messageId,c.to_string(n.timestampMs)),url:_==null?void 0:_.toString(),children:d.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.root,!1),{"data-testid":void 0,children:[d.jsx(r("MWChatFilePreview.react"),{attachment:n,withPreview:!1}),d.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xpdmqnj xsag5q8 x1g0dm76 x13faqbe",children:[d.jsx(r("MDSTextPairing.react"),{headline:l,headlineLineLimit:3,level:4}),d.jsx("div",{className:"x889kno",children:d.jsx(r("MDSTextPairing.react"),{body:u,bodyColor:"secondary",bodyLineLimit:1,level:4,testid:void 0})})]})]}))})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2ChatImagesGrid.react",["fbt","CometPhotoGrid.react","FDSImageCover.react","LSMediaUrlAttachment","MAWThreadCutover","MWLSThreadDisplayContext","MWXMessageBubbleCornerStyles.react","MWXPressable.react","react","react-compiler-runtime","stylex","useMWV2MediaViewerShowDialog","useMWV2MediaViewerURL"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useMemo,_={large:{width:"x7cdydq",$$css:!0},pressable:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",display:"x1lliihq",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},root:{maxWidth:"x193iq5w",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},small:{width:"x1so1ns2",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(2),n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r,a=e.previewUrlLarge;if(a!=null&&n==="Inbox")r=a;else{var i;t[0]!==e?(i=o("LSMediaUrlAttachment").previewUrl(e),t[0]=e,t[1]=i):i=t[1],r=i}return r}function g(e){var t=o("react-compiler-runtime").c(29),n=e.attachment,a=e.mediaRenderQpl,i=e.navigateToRouteForMediaViewer,l=i===void 0?!0:i,u;t[0]!==a?(u=function(){a==null||a.endFailAfterDelay("load-image-error")},t[0]=a,t[1]=u):u=t[1];var d=u,m;t[2]!==a?(m=function(){a==null||a.endSuccessAfterDelay()},t[2]=a,t[3]=m):m=t[3];var p=m,_=f(n),g=r("useMWV2MediaViewerURL")(n),C=r("useMWV2MediaViewerShowDialog")(l),b=C[0],v=C[1];if(_==null)return a==null||a.endFailAfterDelay("empty_preview_url"),d(),null;var S;t[4]!==n.accessibilitySummaryText||t[5]!==n.attachmentIndex?(S=n.accessibilitySummaryText!=null?s._(/*BTDS*/"Open photo: {description}",[s._param("description",n.accessibilitySummaryText)]):s._(/*BTDS*/"Open photo {photo number}",[s._param("photo number",Number(n.attachmentIndex)+1)]),t[4]=n.accessibilitySummaryText,t[5]=n.attachmentIndex,t[6]=S):S=t[6];var R=S,L;t[7]!==g||t[8]!==l||t[9]!==_?(L=l?{passthroughProps:{origSrc:_},url:g}:void 0,t[7]=g,t[8]=l,t[9]=_,t[10]=L):L=t[10];var E=L,k;t[11]!==n||t[12]!==l||t[13]!==b?(k=function(){if(!l)return b({attachment:n},y)},t[11]=n,t[12]=l,t[13]=b,t[14]=k):k=t[14];var I=k,T;t[15]!==l||t[16]!==v?(T=function(){if(!l)return v()},t[15]=l,t[16]=v,t[17]=T):T=t[17];var D;t[18]!==R||t[19]!==d||t[20]!==p||t[21]!==_?(D=c.jsx(r("FDSImageCover.react"),{alt:R,onError:d,onLoad:p,src:_}),t[18]=R,t[19]=d,t[20]=p,t[21]=_,t[22]=D):D=t[22];var x;return t[23]!==R||t[24]!==E||t[25]!==I||t[26]!==T||t[27]!==D?(x=c.jsx(r("MWXPressable.react"),{"aria-label":R,linkProps:E,onHoverIn:T,onPress:I,overlayRadius:"compact",xstyle:h,children:D}),t[23]=R,t[24]=E,t[25]=I,t[26]=T,t[27]=D,t[28]=x):x=t[28],x}function h(){return[_.pressable]}function y(){}function C(t){var n=o("react-compiler-runtime").c(12),a=t.attachments,i=t.connectBottom,l=t.connectTop,s=t.mediaRenderQpl,u=t.message,d=t.outgoing,m=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:d?"right":"left",connectBottom:i,connectTop:l}),f=o("MAWThreadCutover").useIsCutoverOpenThread(u==null?void 0:u.threadKey),h=(e||(e=r("stylex"))).props(_.root,m==="Inbox"?_.large:_.small,p),y;if(n[0]!==a||n[1]!==f||n[2]!==s){var C;n[4]!==f||n[5]!==s?(C=function(t){return c.jsx(g,{attachment:t,mediaRenderQpl:s,navigateToRouteForMediaViewer:!f},t.attachmentFbid)},n[4]=f,n[5]=s,n[6]=C):C=n[6],y=a.map(C),n[0]=a,n[1]=f,n[2]=s,n[3]=y}else y=n[3];var b;n[7]!==y?(b=c.jsx(r("CometPhotoGrid.react"),{children:y}),n[7]=y,n[8]=b):b=n[8];var v;return n[9]!==h||n[10]!==b?(v=c.jsx("div",babelHelpers.extends({},h,{"data-testid":void 0,children:b})),n[9]=h,n[10]=b,n[11]=v):v=n[11],v}l.default=C}),226);
__d("MWV2UnsupportedAttachment.react",["fbt","MDSCautionTriangleSvgIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.mediaRenderQpl,i=n.descriptionText,l;t[0]!==a?(l=function(){a==null||a.addPoint("render-unsupported-attachment")},t[0]=a,t[1]=l):l=t[1],c(l,void 0);var d,m,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 x78zum5 xjkvuk6 x1iorvi4 x87ps6o"},m=u.jsx("div",{className:"x6s0dn4 xgx9qek x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1sa5p1d x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",children:u.jsx(r("MDSCautionTriangleSvgIcon.react"),{color:"primary",size:24})}),p={className:"xzsf02u x1iyjqo2 x1s688f x13faqbe"},t[2]=d,t[3]=m,t[4]=p):(d=t[2],m=t[3],p=t[4]);var _;t[5]===Symbol.for("react.memo_cache_sentinel")?(_=u.jsx(r("MWXText.react"),{type:"headline4",children:s._(/*BTDS*/"Unsupported attachment")}),t[5]=_):_=t[5];var f;t[6]!==i?(f=i!=null?u.jsx("div",{className:"x889kno",children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:i})}):null,t[6]=i,t[7]=f):f=t[7];var g;return t[8]!==f?(g=u.jsxs("div",babelHelpers.extends({},d,{children:[m,u.jsxs("div",babelHelpers.extends({},p,{children:[_,f]}))]})),t[8]=f,t[9]=g):g=t[9],g}l.default=d}),226);
__d("MWPBaseXMAAttachmentItem.react",["BaseImage.react","I64","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MNLSXMALayoutType","MWPThreadCapabilitiesContext","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.createContext,p=d.useContext,_=d.useMemo,f=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),g=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]),h=m({hasAtLeastOneCta:!1,isDisabledRtcXma:!1,renderPressable:function(t){return null}});function y(e){var t=o("react-compiler-runtime").c(20),n=e.attachment,r=e.attachmentItem,a=e.children,i=e.renderPressable,l=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),s=l.hasLSThreadBitOffset,u;t[0]!==s?(u=s(25),t[0]=s,t[1]=u):u=t[1];var d=u,m;t[2]!==s?(m=s(24),t[2]=s,t[3]=m):m=t[3];var p=m,_=n.defaultCtaType,y=r.attachmentCta1Id!=null,C;t[4]!==p||t[5]!==d||t[6]!==_?(C=_!=null?g.has(_)&&!d||f.has(_)&&!p:!1,t[4]=p,t[5]=d,t[6]=_,t[7]=C):C=t[7];var b=C,v;t[8]!==i||t[9]!==y||t[10]!==b?(v={hasAtLeastOneCta:y,isDisabledRtcXma:b,renderPressable:i},t[8]=i,t[9]=y,t[10]=b,t[11]=v):v=t[11];var S=v,R;t[12]!==a||t[13]!==i||t[14]!==y||t[15]!==b?(R=!y&&!b?i(a):a,t[12]=a,t[13]=i,t[14]=y,t[15]=b,t[16]=R):R=t[16];var L;return t[17]!==R||t[18]!==S?(L=c.jsx(h.Provider,{value:S,children:R}),t[17]=R,t[18]=S,t[19]=L):L=t[19],L}function C(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(h);if(r.hasAtLeastOneCta&&!r.isDisabledRtcXma){var a;return t[0]!==n||t[1]!==r?(a=r.renderPressable(n),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}else return n}var b={container:{display:"x78zum5",position:"x1n2onr6",width:"xh8yej3",$$css:!0},image:{flexGrow:"x1iyjqo2",height:"xt7dq6l",maxWidth:"x193iq5w",objectFit:"xl1xv1r",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(8),n=e.attachmentItem,a=e.url,i=n.previewHeight,l=n.previewWidth,u;t[0]!==i?(u=i!=null?(s||(s=o("I64"))).to_int32(i):void 0,t[0]=i,t[1]=u):u=t[1];var d;t[2]!==l?(d=l!=null?(s||(s=o("I64"))).to_int32(l):void 0,t[2]=l,t[3]=d):d=t[3];var m;return t[4]!==u||t[5]!==d||t[6]!==a?(m=c.jsx(o("react-strict-dom").html.div,{style:b.container,children:c.jsx(r("BaseImage.react"),{height:u,src:a,width:d,xstyle:b.image})}),t[4]=u,t[5]=d,t[6]=a,t[7]=m):m=t[7],m}function S(e){var t,n=e.attachment,r=e.attachmentItem,a=e.description,i=e.getPreviewUrl,l=e.mediaRenderQpl,s=e.preferLargePreview,u=s===void 0?!1:s,c=o("LSMediaUrlAttachmentItem").playableUrl(r),d=o("LSMediaUrlAttachment").previewUrlLarge(n),m=u&&(t=o("LSMediaUrlAttachmentItem").previewUrlLarge(r))!=null?t:o("LSMediaUrlAttachmentItem").previewUrl(r),p=i==null?o("LSMediaUrlAttachment").previewUrl(n):i(n,r,"MWPBaseXMAAttachmentItem.getXMAAttachmentItemPreview - "+a,l),_=u&&d!=null?d:m!=null?m:p,f=r.playableUrlMimeType,g=f!=null?f.includes("video")?"video":f.includes("image")?"image":"unsupported":"unsupported";return g==="video"&&c!=null?{type:"Video",url:c}:_!=null?{type:"Image",url:_}:g==="image"&&c!=null?{type:"Image",url:c}:{hasPlayableUrl:c!=null,hasPreviewUrl:_!=null,mimeType:g,playableUrlMimeType:r.playableUrlMimeType,type:"Unsupported"}}function R(e,t){var n=o("react-compiler-runtime").c(3),a=e.xmaLayoutType!=null&&!(s||(s=o("I64"))).equal(e.xmaLayoutType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL)),i=t.titleText,l=i!=null||!a?i:e.titleText,c=t.subtitleText,d=c!=null||!a?c:e.subtitleText,m;return n[0]!==d||n[1]!==l?(m=[l,d],n[0]=d,n[1]=l,n[2]=m):m=n[2],m}l.MWPBaseXMAAttachmentItemPressableContext=h,l.MWPBaseXMAAttachmentItemPressable=y,l.MWPBaseXMAAttachmentItemPressableNested=C,l.MWPBaseXMAAttachmentItemImage=v,l.getXMAAttachmentItemPreview=S,l.useTitleAndSubtitle=R}),98);
__d("useMWChatOpenTabForPage",["FBLogger","I64","LSIntEnum","LSThreadAttributionStore","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2Types","dispatchOpenChatTabTraceLogging","react","react-compiler-runtime","requireDeferred","useCometFeedNoRoutingNavigationEventLogger","useMWChatOpenTabTraceProvider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useMemo,d=r("requireDeferred")("MWChatLogOpenChatTab").__setRef("useMWChatOpenTabForPage");function m(e,t){var n,a=o("react-compiler-runtime").c(6),i=(n=t==null?void 0:t.preventAutofocus_DO_NOT_USE)!=null?n:!1,l=r("useMWChatOpenTabTraceProvider")(),c=r("useCometFeedNoRoutingNavigationEventLogger")(),m=o("MWChatStateV2.react").useDispatch(),p;return a[0]!==m||a[1]!==e||a[2]!==c||a[3]!==i||a[4]!==l?(p=function(n,a){var t=a!=null?a:!1;return c(Date.now(),"","messenger"),o("LSThreadAttributionStore").setSource(n,e),d.onReady(function(t){return t.logOpenPageTab(void 0,n,e)}),l({entrypoint:e,threadKey:(s||(s=o("I64"))).of_string(n),threadType:14},function(e,a){if(o("MWChatInteraction").set(n,e),t){r("FBLogger")("messenger_web_entrypoints").mustfix("Opening secure converstions with pages not supported");return}else{var l={clientThreadKey:void 0,threadKey:(s||(s=o("I64"))).of_string(n),threadType:(u||(u=o("LSIntEnum"))).ofNumber(1)};return r("dispatchOpenChatTabTraceLogging")(a,l,"useMWChatOpenTabForPage"),m(o("MWChatStateActions").openTab(Date.now(),{shouldFocus:!i},{threadKeyDescriptor:l,type:o("MWChatStateV2Types").MWChatStateTabType.ChatTab}))}})},a[0]=m,a[1]=e,a[2]=c,a[3]=i,a[4]=l,a[5]=p):p=a[5],p}l.default=m}),98);
__d("useMWChatOpenTabByThreadKey",["I64","LSAuthorityLevel","LSContactType","LSFactory","LSIntEnum","LSVerifyThreadRowExistsStoredProcedure","MWPActor.react","Promise","ReQL","promiseDone","react","useMWBaseChatOpenTabForUser","useMWChatOpenTabForPage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=m.useCallback,_=m.useMemo;function f(t,a){var l=(c||(c=r("useReStore")))(),d=r("useMWBaseChatOpenTabForUser")(void 0,a),m=d.openTabByThreadKey,f=r("useMWChatOpenTabForPage")(a),g=o("MWPActor.react").useActor(),h=_(function(){return new(e||(e=n("Promise")))(function(e,n){var a,c=(a=o("ReQL")).mergeJoin(a.fromTableAscending(l.tables.participants).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,g)}),a.fromTableAscending(l.tables.contacts)),d={contents:function(){}};d.contents=c.subscribe(function(t,n){if(n.operation!=="delete"){var a=n.value[1];if((s||(s=o("I64"))).ge(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return d.contents(),e(a)}}),r("promiseDone")(a.firstAsync(c),function(n){if(n!=null){var a=n[1];return(s||(s=o("I64"))).ge(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?(d.contents(),e(a)):void 0}r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(u||(u=o("LSIntEnum"))).ofNumber(1),threadKey:t,threadType:u.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":89"))})})},[t,l]);return p(function(e){r("promiseDone")(h,function(n){var a=(s||(s=o("I64"))).to_string(t),i=n.contactType;return(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))?f(a,!1):m(a,e)})},[h,m,f,t])}l.default=f}),98);
__d("MWXMAAttachmentActionTriggerWithOpenChatTab.react",["Int64Hooks","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","promiseDone","react-compiler-runtime","useAsyncReStore","useCometRouterDispatcher","useMWChatOpenTabByThreadKey","useMWNavigation","useShouldShowMessagingEntrypointInCometRoot"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.threadKey,a=u(r),i;return t[0]!==n||t[1]!==a?(i=n(a),t[0]=n,t[1]=a,t[2]=i):i=t[2],i}function u(t){var n=o("react-compiler-runtime").c(8),a=r("useShouldShowMessagingEntrypointInCometRoot")("CHAT"),i=r("useCometRouterDispatcher")(),l=r("useMWChatOpenTabByThreadKey")(t,"chatInThread"),s=r("useAsyncReStore")(),u=r("useMWNavigation")(),c,d;return n[0]!==s||n[1]!==i||n[2]!==a||n[3]!==u||n[4]!==l||n[5]!==t?(c=function(c){var n=(e||(e=o("LSIntEnum"))).ofNumber(22);r("promiseDone")(s,function(e){r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t)),function(e){var r=(e==null?void 0:e.threadType)!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType);if(a){var s=c.metaKey||c.ctrlKey||c.shiftKey;if(!s)return l(r)}else return i!=null&&e!=null?u.openInbox({threadKey:t,threadType:e.threadType},"chatInThread",n):void 0})})},d=[i,a,s,u,l,t],n[0]=s,n[1]=i,n[2]=a,n[3]=u,n[4]=l,n[5]=t,n[6]=c,n[7]=d):(c=n[6],d=n[7]),o("Int64Hooks").useCallbackInt64(c,d)}l.default=s}),98);
__d("logXMACtaClicked",["I64","LsDidTapCallToActionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.cta,a=t.loggingDetails,i=t.source;if(a!=null){var l=n.actionContentBlob,s=l!=null?u(l):"",_=l!=null?d(l):"",f=l!=null?c(l):"",g=l!=null?m(l):"",h=l!=null?p(l):"",y=a[1],C=a[0];r("LsDidTapCallToActionFalcoEvent").log(function(){return{action:{cta_type_unique_id:_,id:(e||(e=o("I64"))).to_string(n.ctaId),name:"",source:i,type:y},message:{campaign_id:f,id:n.messageId,marketing_message_impression_token:g,marketing_message_surface:h,notification_token:s},page:{id:C},target:{id:C},thread:{id:C}}})}}function u(e){try{var t=JSON.parse(e),n=t.notification_message_token;return n!=null?n:""}catch(e){return""}}function c(e){try{var t=JSON.parse(e),n=t.mbs_mm_campaign_id;return n!=null?n:""}catch(e){return""}}function d(e){try{var t=JSON.parse(e),n=t.mm_cta_unique_id;return n!=null?n:""}catch(e){return""}}function m(e){try{var t=JSON.parse(e),n=t.mm_impression_token;return n!=null?n:""}catch(e){return""}}function p(e){try{var t=JSON.parse(e),n=t.mm_surface;return n!=null?n:""}catch(e){return""}}l.logXMACtaClicked=s}),98);
__d("useMWChatPollXMAActionHandler",["JSResourceForInteraction","MWThreadKey.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(4),n=o("MWThreadKey.react").useMWThreadKeyMemoized(),a=e!=null?e:n,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=r("JSResourceForInteraction")("MWChatPollDetailsDialog.react").__setRef("useMWChatPollXMAActionHandler"),t[0]=i):i=t[0];var l=r("useMWXLazyDialog")(i),s=l[0],u;return t[1]!==s||t[2]!==a?(u=function(t,n){if(!(a==null||t==null||n==null))return s({pollId:t,threadKey:a,title:n},c)},t[1]=s,t[2]=a,t[3]=u):u=t[3],u}function c(){}l.default=u}),98);
__d("useMWLinkHashXMAActionHandler",["ConstUriUtils","FBLogger","I64","LSCommunityInviteStatus","LSFactory","LSIntEnum","LSOptimisticFetchPendingGroupInviteStoredProcedure","MWCMGetValidId","MWCMStandaloneJoinDialog.entrypoint","MWCMStandaloneMemberJoinChatDialog.entrypoint","MWCMStandaloneRequestToJoinDialog.entrypoint","ReQL","ReQLSuspense","XMessengerDotComCometCommunityThreadsControllerRouteBuilder","gkx","goUriOnNewWindow","promiseDone","react","react-compiler-runtime","requireDeferred","useCometRouterDispatcher","useMWNavigation","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useCallback,p=d.useRef,_=r("requireDeferred")("C4gEngagementFalcoEvent").__setRef("useMWLinkHashXMAActionHandler"),f=["ch","cm"];function g(e){var t=o("ConstUriUtils").getUri(e);if(t!=null&&t.isSubdomainOfDomain("m.me")){var n,r=t==null||(n=t.getPath())==null?void 0:n.split("/").filter(function(e){return e!==""});return(r==null?void 0:r.length)===2&&f.includes(r[0])?r[1]:null}return null}function h(e,t,n,a,i,l){if(t!=null){if(a==null){var s=r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildExtraURL("/c/{folder_id}/",{folder_id:(c||(c=o("I64"))).to_string(n)});if(e)return t.go(s,{});r("goUriOnNewWindow")("https://www.messenger.com"+s);return}if(e)return t.go(r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(c||(c=o("I64"))).to_string(n),thread_key:c.to_string(a)}),{});r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.threads).getKeyRange(a)),function(e){if(e!=null)return l.openInbox({threadKey:a,threadType:e.threadType},"xmaAttachment");var t=r("XMessengerDotComCometCommunityThreadsControllerRouteBuilder").buildURL({folder_id:(c||(c=o("I64"))).to_string(n),thread_key:c.to_string(a)});r("goUriOnNewWindow")("https://www.messenger.com"+t)})}}function y(){var t=o("react-compiler-runtime").c(9),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={},t[0]=n):n=t[0];var a=r("useMWXEntryPointDialog")(r("MWCMStandaloneRequestToJoinDialog.entrypoint"),n),l=a[0],s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s={},t[1]=s):s=t[1];var d=r("useMWXEntryPointDialog")(r("MWCMStandaloneJoinDialog.entrypoint"),s),m=d[0],f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={},t[2]=f):f=t[2];var y=r("useMWXEntryPointDialog")(r("MWCMStandaloneMemberJoinChatDialog.entrypoint"),f),C=y[0],b=(e||(e=r("useReStore")))(),v=r("useCometRouterDispatcher")(),S=r("gkx")("23433"),R=p(),L=r("useMWNavigation")(),E;t[3]!==v||t[4]!==b||t[5]!==L||t[6]!==m||t[7]!==l?(E=function(t,n){if(t==null)return r("FBLogger")("messenger_web_sharing").info("Invalid url to extract link hash");var e=g(t);if(e==null)return r("FBLogger")("messenger_web_sharing").info("Invalid link hash in url");r("promiseDone")(b.runInTransaction(function(t){return r("LSOptimisticFetchPendingGroupInviteStoredProcedure")(r("LSFactory")(t),{linkHash:e})},"readwrite",void 0,void 0,i.id+":194")),R.current=o("ReQL").fromTableAscending(b.tables.group_invitations_pending).getKeyRange(e).subscribe(function(t,a){if(a.operation!=="delete"){var s=a.value,d=s.communityId,p=s.communityJoinRequestStatus,f=s.threadId;if(!o("MWCMGetValidId").MWCMHasValidFbGroupId(d,!0))return;R.current==null||R.current();var g=o("ReQLSuspense").first(o("ReQL").fromTableAscending(b.tables.community_folders).getKeyRange(d),i.id+":221");return n==="xma_join_community"||n==="xma_join_community_chat"?(_.onReady(function(e){e.log(function(){return{action:"tap",client_extras:{has_invite:(g==null).toString(),has_pending_request:(c||(c=o("I64"))).to_string(p)},community_id:c.to_string(d),entry_point:"cm:xma",event:f==null?"request_to_join_community_initiated":"request_to_join_community_and_thread_initiated",surface:"message_thread",thread_id:f!=null?(c||(c=o("I64"))).to_string(f):void 0}})}),g!=null&&(c||(c=o("I64"))).equal(g.inviteStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSCommunityInviteStatus").INVITED))?m({folder:g}):l({linkHash:e})):v==null?void 0:(_.onReady(function(e){e.log(function(){return{action:"tap",community_id:(c||(c=o("I64"))).to_string(d),entry_point:"cm:xma",event:f==null?"redirect_to_community":"redirect_to_community_and_thread",surface:"message_thread",thread_id:f!=null?(c||(c=o("I64"))).to_string(f):void 0}})}),h(S,v,d,f,b,L))}})},t[3]=v,t[4]=b,t[5]=L,t[6]=m,t[7]=l,t[8]=E):E=t[8];var k=E;return k}l.default=y}),98);
__d("MWRollcallContributionsDialogContainer.react",["CometHideLayerOnEscape.react","CometTheme.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.children,a=e.onClose,i=e.visibilityRef,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x1qjc9v5 xal61yo x9f619 x78zum5 xdt5ytf x1iyjqo2 x5yr21d x1n2onr6 x87ps6o x1uvtmcs"},t[0]=l):l=t[0];var u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u={display:"contents"},t[1]=u):u=t[1];var c;t[2]!==n?(c=s.jsx(r("CometTheme.react"),{style:u,theme:"dark",children:n}),t[2]=n,t[3]=c):c=t[3];var d;t[4]!==c||t[5]!==i?(d=s.jsx("div",babelHelpers.extends({},l,{ref:i,children:c})),t[4]=c,t[5]=i,t[6]=d):d=t[6];var m;return t[7]!==a||t[8]!==d?(m=s.jsx(r("CometHideLayerOnEscape.react"),{onHide:a,children:d}),t[7]=a,t[8]=d,t[9]=m):m=t[9],m}l.default=u}),98);
__d("MWRollcallContributionsDialogFallback.react",["fbt","ix","FDSCrossFilled16Icon","MDSColumn.react","MDSColumnItem.react","MDSGlimmer.react","MDSRow.react","MDSRowItem.react","MWRollcallContributionsDialogContainer.react","MWXIcon_DEPRECATED.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(13),n=e.onClose,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Close"),t[0]=a):a=t[0];var i;t[1]!==n?(i=c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":a,icon:r("FDSCrossFilled16Icon"),onPress:n,size:20})}),t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MDSGlimmer.react"),{index:0,xstyle:m.rollcallTitle})}),t[3]=l):l=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Rollcall options"),t[4]=d):d=t[4];var p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":d,disabled:!0,icon:o("fbicon")._(u("816819"),16),size:20})}),t[5]=p):p=t[5];var _;t[6]!==i?(_=c.jsxs(r("MDSRow.react"),{paddingHorizontal:16,paddingVertical:16,spacing:0,verticalAlign:"center",children:[i,l,p]}),t[6]=i,t[7]=_):_=t[7];var f;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MDSGlimmer.react"),{index:0,xstyle:m.profilePicture})}),t[8]=f):f=t[8];var g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsx(r("MDSColumn.react"),{align:"center",expanding:!0,paddingVertical:20,spacing:20,verticalAlign:"center",children:c.jsxs(r("MDSColumnItem.react"),{children:[c.jsxs(r("MDSRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:12,spacing:8,verticalAlign:"center",xstyle:m.contributionHeader,children:[f,c.jsx(r("MDSRowItem.react"),{children:c.jsx(r("MDSGlimmer.react"),{index:0,xstyle:m.profileName})})]}),c.jsx(r("MDSGlimmer.react"),{index:0,xstyle:m.contributionMedia})]})}),t[9]=g):g=t[9];var h;return t[10]!==n||t[11]!==_?(h=c.jsxs(r("MWRollcallContributionsDialogContainer.react"),{onClose:n,children:[_,g]}),t[10]=n,t[11]=_,t[12]=h):h=t[12],h}var m={contributionHeader:{width:"x1cvmir6",$$css:!0},contributionMedia:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"xuo6tqj",marginBottom:"x1e56ztr",width:"x1cvmir6",$$css:!0},profileName:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"x1qx5ct2",width:"x1oysuqx",$$css:!0},profilePicture:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x10w6t97",width:"x1td3qas",$$css:!0},rollcallTitle:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"x10w6t97",width:"xdzyupr",$$css:!0}};l.default=d}),226);
__d("RollcallXmaCtaClickQplLogging",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(){r("QPLUserFlow").endSuccess(r("qpl")._(127406705,"1680"))}function s(){r("QPLUserFlow").endFailure(r("qpl")._(127406705,"1680"),"fail to load roll call information")}function u(e,t,n){r("QPLUserFlow").start(r("qpl")._(127406705,"1680"),{annotations:{string:{cta_title:n,entry_point:e,source_type:t}}})}l.endSuccessXMACtaClickQplLogging=e,l.endFailureXMACtaClickQplLogging=s,l.startXMACtaClickQplLogging=u}),98);
__d("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24366328376336078"}),null);
__d("useRollcallContributionsXMAActionHandlerQuery.graphql",["useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useRollcallContributionsXMAActionHandlerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("useRollcallContributionsXMAActionHandlerQuery_facebookRelayOperation"),metadata:{},name:"useRollcallContributionsXMAActionHandlerQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useRollcallContributionsXMAActionHandler",["CometRelay","FBLogger","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChannelPromptContributionsDialog.entrypoint","MWChannelPromptContributionsDialogFallback.react","MWDidQueryPromptsNux","MWLSThread","MWRollcallContributionsDialogFallback.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","RollcallXmaCtaClickQplLogging","RollcallXmaViewerQplLogging","mwCMIsAnyCMThread","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog","useMWXLazyDialog","usePrevious","useRollcallContributionsXMAActionHandlerQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useEffect,_=d.useState;function f(){var t=o("react-compiler-runtime").c(2),r=o("CometRelay").useRelayEnvironment(),a;return t[0]!==r?(a=function(){return o("CometRelay").fetchQuery(r,e!==void 0?e:e=n("useRollcallContributionsXMAActionHandlerQuery.graphql"),{}).toPromise()},t[0]=r,t[1]=a):a=t[1],a}function g(){var e=o("react-compiler-runtime").c(24),t=_((u||(u=o("I64"))).zero),n=t[0],a=t[1],i=_(""),l=i[0],s=i[1],c=_(u.zero),d=c[0],m=c[1],g=_(null),y=g[0],S=g[1],R=_(null),L=R[0],E=R[1],k=r("usePrevious")(n),I=r("usePrevious")(d),T;e[0]===Symbol.for("react.memo_cache_sentinel")?(T=r("JSResourceForInteraction")("MWRollcallContributionsDialog.react").__setRef("useRollcallContributionsXMAActionHandler"),e[0]=T):T=e[0];var D=r("useMWXLazyDialog")(T,v),x=D[0],$;e[1]!==d?($=(u||(u=o("I64"))).to_string(d),e[1]=d,e[2]=$):$=e[2];var P;e[3]!==$?(P={promptId:$},e[3]=$,e[4]=P):P=e[4];var N=r("useMWXEntryPointDialog")(r("MWChannelPromptContributionsDialog.entrypoint"),P,void 0,b),M=N[0],w=f(),A=o("MWLSThread").useThread(n,C),F;e[5]!==A?(F=A!==void 0&&r("mwCMIsAnyCMThread")(A),e[5]=A,e[6]=F):F=e[6];var O=F,B;e[7]!==A?(B=A!==void 0&&o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(A),e[7]=A,e[8]=B):B=e[8];var W=B,q,U;e[9]!==L||e[10]!==O||e[11]!==W||e[12]!==l||e[13]!==I||e[14]!==k||e[15]!==w||e[16]!==d||e[17]!==y||e[18]!==M||e[19]!==x||e[20]!==n?(q=function(){O!=null&&!(u||(u=o("I64"))).is_zero(n)&&!(u||(u=o("I64"))).is_zero(d)&&k!==n&&I!==d&&(o("RollcallXmaCtaClickQplLogging").startXMACtaClickQplLogging("xma_www_button",O?"cm_thread":"friends_family_thread","open_viewer"),o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),W?(M({rollCallId:d,threadKey:n,xmaMessageId:l},function(){o("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),a((u||(u=o("I64"))).zero),m(u.zero),S(null)}),r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:305,source:157,surface:7,thread_id:(u||(u=o("I64"))).to_string(n)}})):x({ctaType:L,rollCallId:d,scrollToContributionMessageId:y,threadKey:n},function(){o("RollcallXmaViewerQplLogging").endSuccessXMARollCallViewerQplLogging(),a((u||(u=o("I64"))).zero),s(""),m(u.zero),S(null)}),r("promiseDone")(w(),h))},U=[O,I,k,d,M,n,y,w,L,x,l,W],e[9]=L,e[10]=O,e[11]=W,e[12]=l,e[13]=I,e[14]=k,e[15]=w,e[16]=d,e[17]=y,e[18]=M,e[19]=x,e[20]=n,e[21]=q,e[22]=U):(q=e[21],U=e[22]),p(q,U);var V;return e[23]===Symbol.for("react.memo_cache_sentinel")?(V=function(t,n,r,o,i){s(i),a(n),m(t),S(r),E(o)},e[23]=V):V=e[23],V}function h(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(y))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function y(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}function C(e){return e.threadType}function b(e){return c.jsx(r("MWChannelPromptContributionsDialogFallback.react"),{onClose:e})}b.displayName=b.name+" [from "+i.id+"]";function v(e){return c.jsx(r("MWRollcallContributionsDialogFallback.react"),{onClose:e})}v.displayName=v.name+" [from "+i.id+"]",l.useRollcallContributionsXMAActionHandler=g}),98);
__d("useShouldTryWithMessengerDesktop",["MWFacebookUserWithoutMessengerAccess","MessengerDesktopDeepLinkUtils","ODS","gkx","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=u.useState;function p(){var e=o("react-compiler-runtime").c(2),t=m(!1),n=t[0],a=t[1],i=d(!1),l=o("MWFacebookUserWithoutMessengerAccess").useIsFacebookUserWithoutMessengerAccess(),u;return e[0]!==l?(u=function(){i.current||(i.current=!0,!l&&(r("gkx")("23670")||!o("MessengerDesktopDeepLinkUtils").isMessengerDesktopDeeplinkEligible()||((s||(s=o("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","is_dapp_running"),r("promiseDone")(o("MessengerDesktopDeepLinkUtils").isMessengerDesktopRunning(o("MessengerDesktopDeepLinkUtils").PORT).then(function(e){if(!e||e!==200){e||(s||(s=o("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_did_not_respond"),e===500&&(s||(s=o("ODS"))).bumpEntityKey(3303,"dapp_calling_entrypoints","localhost_responded_but_crashed");return}a(!0)})))))},e[0]=l,e[1]=u):u=e[1],c(u,void 0),n}l.default=p}),98);
__d("useStartRTCCall",["MWLSStartPhoneCall","MWStartRTCCallUtils","useShouldTryWithMessengerDesktop"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=r("useShouldTryWithMessengerDesktop")(),t=o("MWLSStartPhoneCall").useMakeRTCCall(),n=t[0],a=o("MWStartRTCCallUtils").useStartDesktopCall(n);return e?a:n}l.default=e}),98);
__d("xmaAttachmentUtils",["I64","LSIntEnum","MNXMAPreviewImageDecorationType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e){var t=e.actionUrl;return(t==null?void 0:t.includes("groupcall"))===!0}function c(t){var n=t.previewImageDecorationType;if(n==null)return!1;var a=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE)),i=e.equal(n,s.ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED));return a||i}function d(e){var t=null;try{var n=JSON.parse(e);n!=null&&typeof n=="object"&&Array.isArray(n)===!1&&n.postback_action_text!=null&&(t=n.postback_action_text)}catch(e){t=null}return t}l.isMeetingsAttachment=u,l.isLiveXMA=c,l.getPostbackTextFromCTAContentBlob=d}),98);
__d("useGetMWXMACtaRegistryHandler",["$InternalEnum","Actor","AdsMessengerContext.react","CometRouteURL","ConstUriUtils","CustomerInformationTemplateFalcoEvent","I64","LSIntEnum","MWChatXmaThirdPartyActionHandler","MWLSImagePostbackCtaHandler","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWLSWebUrlCtaHandler","RoomsLinkUtils","XCometProfileControllerRouteBuilder","XCometStoriesControllerRouteBuilder","cr:131","cr:236","cr:4538","cr:4539","emptyFunction","isStringNullOrEmpty","nullthrows","react","useEmptyFunction","useLSMessagingInitiatingSource","useLSMessagingSource","useMWBaseChatOpenTabForUser","useMWChatPollXMAActionHandler","useMWLinkHashXMAActionHandler","useMWNavigation","useOpenSubthreadView","useRollcallContributionsXMAActionHandler","useStartRTCCall","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=(d||(d=o("react"))).useContext,f=(e=(s=n("cr:4539"))!=null?s:n("cr:131"))!=null?e:r("useEmptyFunction"),g=(u=(c=n("cr:4538"))!=null?c:n("cr:236"))!=null?u:r("useEmptyFunction"),h=n("$InternalEnum")({SUBTHREAD_LINK:"fb-messenger://community_subthread/"});function y(){var e=r("useLSMessagingInitiatingSource")(),t=r("useLSMessagingSource")(),n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),a=r("useMWBaseChatOpenTabForUser")(void 0,"inboxInThread"),i=a.openTabForUser,l=o("CometRouteURL").useRouteURL(),s=o("Actor").useActor(),u=s[0],c=o("MWLSImagePostbackCtaHandler").usePostbackCtaHandler(t,e),d=r("useStartRTCCall")(),y=o("MWChatXmaThirdPartyActionHandler").useHandler(c,d),C=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),b=r("useMWLinkHashXMAActionHandler")(),v=r("useMWChatPollXMAActionHandler")(),S=o("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),R=o("MWLSWebUrlCtaHandler").useShowWebViewDialog(),L=r("useMWNavigation")(),E=g(),k=f({onSuccess:E!=null?E:r("emptyFunction")}),I=r("useOpenSubthreadView")(),T=_(o("AdsMessengerContext.react").AdsMessengerContext),D=T.isMessageSendDisabled;return function(e){var t,a=/^http(s)*\:\/\/m\.me\/([a-z0-9\.\_]+)$/i,s=e.actionUrl!=null&&a.test(e.actionUrl)?(t=e.actionUrl)==null?void 0:t.replace("m.me/","messenger.com/t/"):e.actionUrl,c=e.platformToken,d=e.type_,_=e.title,f=e.messageId,g=e.threadKey,E=e.attachmentFbid,T=e.targetId,x=T!=null?(m||(m=o("I64"))).to_string(T):null,$=["Title: "+_,"Type: "+d,"PlatformTokenPresent: "+(c!=null).toString(),"ActionUrlPresent: "+(s!=null).toString(),"ActionContentBlobPresent: "+(e.actionContentBlob!=null).toString()].join(", ");if(d==="xma_roll_call_open_viewer"||d==="xma_prompt_open_viewer_for_text"||d==="xma_roll_call_add_yours")return T==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){S(r("nullthrows")(T),g,null,d,f)},secondaryInfo:void 0};if(d==="xma_rtc_audio"||d==="xma_rtc_missed_audio"||d==="xma_rtc_new_audio_default"||d==="xma_rtc_ended_audio"){var P={hasVideo:!1,threadId:(m||(m=o("I64"))).to_string(g),trigger:d};return T!=null&&(P.representedID=(m||(m=o("I64"))).to_string(T)),{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeRtcCall",VAL:P})},secondaryInfo:void 0}}if(d==="lead_forms_request_editable"){var N=e.targetId;if(N!=null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ViewFormRequestEditable",VAL:{consumerID:u,pageID:(m||(m=o("I64"))).to_string(g),requestID:m.to_string(N)}})},secondaryInfo:void 0}}if(d==="xma_rtc_video"||d==="xma_rtc_new_video_default"||d==="xma_rtc_new_video_from_fb_share"||d==="xma_rtc_new_video_from_fb_video_share"||d==="xma_rtc_missed_video"||d==="xma_rtc_ended_video")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeRtcCall",VAL:{hasVideo:!0,threadId:(m||(m=o("I64"))).to_string(g),trigger:d}})},secondaryInfo:void 0};if(d==="xma_postback"){var M=e.actionContentBlob!=null?o("xmaAttachmentUtils").getPostbackTextFromCTAContentBlob(e.actionContentBlob):null;return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return C(c,M!=null?M:_)},secondaryInfo:[(m||(m=o("I64"))).to_string(g),31]}}if(d==="xma_smag_postback")return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"HandleSMAGPostback",VAL:{actionContentBlob:e.actionContentBlob,ctaLabel:e.title,message:_,platformToken:c,url:s}})},secondaryInfo:void 0};if(d==="xma_open_dialog"){var w;if(s==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var A=(w=o("ConstUriUtils").getUri(s))==null||w.getQueryData==null?void 0:w.getQueryData();if(A==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected a valid open dialog url but didn't get any",secondaryInfo:"messenger_business_core_product"};var F=String(A.page_id).toString(),O=String(A.guest_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowGuestChatHistory",VAL:{guestId:O,pageId:F}})},secondaryInfo:void 0}}if(d==="xma_p2p_payment_details"||d==="xma_p2p_request_pay"||d==="xma_p2p_payment_details_receive_money"||d==="xma_p2p_verify_info"){var B=e.targetId;return B==null?{actionType:"CTA_ERROR",primaryInfo:"P2P Transaction encounterd without txn id",secondaryInfo:"messenger_privacy_web"}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2PPaymentTransactionDetails",VAL:{currentStatus:null,id:(m||(m=o("I64"))).to_string(B)}})},secondaryInfo:void 0}}if(d==="fill_in_thread_form"||d==="filled_in_thread_form_successfully"){var W=e.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowInThreadFormDetails",VAL:JSON.parse(r("nullthrows")(W))})},secondaryInfo:void 0}}if(d==="xma_join_from_portal"&&s!=null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeJoinRoomFromPortal",VAL:{linkUrl:s}})},secondaryInfo:void 0};if(d==="xma_live_location_sharing")return{actionType:"BUTTON",primaryInfo:function(){return y(e.nativeUrl!=null?{NAME:"ShowStaticLocationDetails",VAL:{msgId:f}}:{NAME:"ShowLiveLocationDetails",VAL:{messageId:f,titleString:_}})},secondaryInfo:void 0};if(d==="xma_wa_in_inbox_order_cta")return{actionType:"BUTTON",primaryInfo:function(){y({NAME:"ShowWhatsAppOrderDetails",VAL:JSON.parse(r("nullthrows")(e.actionContentBlob))})},secondaryInfo:void 0};if(d==="xma_wa_in_inbox_interactive_product_cta")return{actionType:"BUTTON",primaryInfo:function(){y({NAME:"ShowWhatsAppProductDetails",VAL:JSON.parse(r("nullthrows")(e.actionContentBlob))})},secondaryInfo:void 0};if(d==="xma_wa_in_inbox_catalog_link_cta")return{actionType:"BUTTON",primaryInfo:function(){y({NAME:"ShowWhatsAppCatalogDetails",VAL:{}})},secondaryInfo:void 0};if(d==="rtc_call_hours"){var q=o("ConstUriUtils").getUri(l),U=q==null?void 0:q.setPath("/latest/inbox/settings/calls");return{actionType:"URL",primaryInfo:String(U!=null?U:""),secondaryInfo:void 0}}if(d==="rtc_call_summary"){var V=e.actionContentBlob;return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowInThreadRTCCallSummaryMessage",VAL:JSON.parse(r("nullthrows")(V))})},secondaryInfo:void 0}}if(d==="xma_web_url"){var H=e.nativeUrl;if(H!=null&&H.includes("://timeline_review/")){var G,z=(G=r("XCometProfileControllerRouteBuilder").buildUri({id:u,log_filter:"review",sk:"approve"}).setDomain("www.facebook.com"))==null?void 0:G.setProtocol("https");return{actionType:"URL",primaryInfo:r("nullthrows")(z).toString(),secondaryInfo:void 0}}if(s!=null&&s.includes("://location_share"))return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowStaticLocationDetails",VAL:{msgId:f}})},secondaryInfo:void 0}}if(d==="contact_sharing_profile"&&e.targetId!=null){var j,K=(j=r("XCometProfileControllerRouteBuilder").buildUri({id:(m||(m=o("I64"))).to_string(e.targetId)}).setDomain("www.facebook.com"))==null?void 0:j.setProtocol("https");return{actionType:"URL",primaryInfo:r("nullthrows")(K).toString(),secondaryInfo:void 0}}if(d==="contact_sharing_message"&&x!=null)return{actionType:"BUTTON",primaryInfo:function(){n==="ChatTab"?x!=null&&i({userId:x}):T!=null&&L.openInbox({clientThreadKey:void 0,threadKey:T,threadType:(p||(p=o("LSIntEnum"))).ofNumber(1)},"contactShareMessage")},secondaryInfo:void 0};if(d==="xma_join_community"||d==="xma_join_community_chat"||d==="xma_see_community"||d==="xma_see_community_chat")return{actionType:"BUTTON",primaryInfo:function(){return b(s,d)},secondaryInfo:void 0};var Q=e.actionContentBlob;if(d==="xma_poll_details_button"||d==="xma_poll_details_card")return{actionType:"BUTTON",primaryInfo:function(){return v(T,Q)},secondaryInfo:void 0};if(Q!=null&&T!=null)try{var X=JSON.parse(Q);if(d==="xma_admod_chat_member_request")return{actionType:"BUTTON",primaryInfo:function(){var e=X.activityLogItemID,t=X.groupID,n=X.profileID;return y({NAME:"AdmodChatsShowMemberRequest",VAL:{activityLogItemId:e!=null?JSON.stringify(e):"",groupId:t!=null?JSON.stringify(t):"",profileId:n!=null?JSON.stringify(n):"",targetId:T!=null?(m||(m=o("I64"))).to_string(T):""}})},secondaryInfo:void 0};if(d==="xma_admod_chat_pending_post")return{actionType:"BUTTON",primaryInfo:function(){var e=X.activityLogItemID,t=X.authorID,n=X.groupID,r=X.postID;return y({NAME:"AdmodChatsShowPendingPost",VAL:{activityLogItemId:e!=null?JSON.stringify(e):"",authorId:t!=null?JSON.stringify(t):"",groupId:n!=null?JSON.stringify(n):"",postId:r!=null?JSON.stringify(r):"",targetId:T!=null?(m||(m=o("I64"))).to_string(T):""}})},secondaryInfo:void 0}}catch(e){if(d!=="marketplace_xma_call_function")return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}var Y=e.targetId;if(Y!=null){if(d==="xma_merchant_confirm_order"&&(s==null||s==="")){var J={orderID:(m||(m=o("I64"))).to_string(Y)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowMerchantConfirmOrder",VAL:J})},secondaryInfo:void 0}}var Z={ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)};if(d==="xma_p2m_payment_details")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MOrderDetails",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_attach_receipt")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MAttachBankSlip",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_offsite_bank_transfer")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MOffsiteBankTransferCTA",VAL:Z})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_paid")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsPaid",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_shipped")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsShipped",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_mark_as_received")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MMarkAsReceived",VAL:{ctaId:e.ctaId,ctaType:d,orderID:(m||(m=o("I64"))).to_string(Y)}})},secondaryInfo:void 0};if(d==="xma_p2m_checkout"){var ee={orderID:(m||(m=o("I64"))).to_string(Y),pageID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MCheckout",VAL:ee})},secondaryInfo:void 0}}if(d==="xma_p2m_informational_message_bottom_sheet"){var te={contentType:JSON.parse(r("nullthrows")(Q)),orderID:(m||(m=o("I64"))).to_string(Y),pageID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MInformationalMessageBottomSheet",VAL:te})},secondaryInfo:void 0}}}if(d==="xma_p2m_async_controller"){var ne={payload:JSON.parse(r("nullthrows")(Q))};return ne.payload.action_type==="mark_as_x"&&Y!=null?{actionType:"BUTTON",primaryInfo:function(){var t;return y({NAME:"P2MMarkAsX",VAL:{ctaId:e.ctaId,ctaType:(t=ne.payload.extra_data.cta_type)!=null?t:"",orderID:(m||(m=o("I64"))).to_string(Y)}})}}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"P2MAsyncControllerDialog",VAL:ne})}}}if(d==="xma_biz_ai_conversation_bot_enable_ai"){var re,oe=(re=o("ConstUriUtils").getUri(l))==null||re.getQueryData==null?void 0:re.getQueryData(),ae=String(oe==null?void 0:oe.asset_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"BizAIEnableAI",VAL:{pageId:ae}})},secondaryInfo:void 0}}if(d==="XMA_ADS_AI_ASSET_SELECTION"){var ie=Q!=null?JSON.parse(r("nullthrows")(Q)):{};return D?{actionType:"DISABLED_BUTTON",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){var e;return y({NAME:"ShowAdsAILowProbabilityEntitySelectionModal",VAL:{adAccountID:ie.ad_account_id,allowDraftSelection:(e=ie.allow_draft_selection)!=null?e:!1,entityType:ie.entity_type,threadKey:g}})},secondaryInfo:void 0}}if(d==="xma_customer_information"){var le=(m||(m=o("I64"))).to_string(g);r("CustomerInformationTemplateFalcoEvent").log(function(){return{consumer_id:u,event_type:"mw_xma_impression",form_id:e.attachmentFbid,page_id:le}});var se={actorId:u,eeMessageId:e.attachmentFbid,messageId:e.messageId,pageId:le};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"BuyerShippingAddress",VAL:se})},secondaryInfo:void 0}}if(Q==null&&(d==="xma_direct_send"||d==="xma_biz_inbox_form_send"||d==="xma_feedback_send"))return{actionType:"CTA_ERROR",primaryInfo:"Expected pii_form data but didn't get any",secondaryInfo:"mb_apix"};if(d==="xma_feedback_send")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowCustomerFeedbackForm",VAL:{feedbackFormId:r("nullthrows")(Q)}})},secondaryInfo:[(m||(m=o("I64"))).to_string(g),69]};if(d==="xma_workplace_chat_bot_submit_feedback"){var ue={feedbackActionContentBlob:r("nullthrows")(Q)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"WorkplaceChatBotSubmitFeedback",VAL:ue})},secondaryInfo:void 0}}if(d==="xma_work_meetings_invite"){var ce,de=o("RoomsLinkUtils").getRoomsLinkHash((ce=e==null?void 0:e.actionUrl)!=null?ce:"");return de!=null?{actionType:"POPOVER_BUTTON",primaryInfo:de}:{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}if(d==="xma_account_link")return s==null?{actionType:"CTA_ERROR",primaryInfo:"Expected an account link url but didn't get any",secondaryInfo:"mb_apix"}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"OpenAccountLinkUrl",VAL:s})},secondaryInfo:[(m||(m=o("I64"))).to_string(g),49]};if(d==="xma_open_joinable_call_invite_url")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"MakeWorkJoinableCallInvite",VAL:{linkUrl:s!=null?s:""}})},secondaryInfo:void 0};if(d==="xma_montage_share"){var me;if(e.targetId==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var pe=(me=r("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+(m||(m=o("I64"))).to_string(e.targetId)),view_single:!0}).setDomain("www.facebook.com"))==null?void 0:me.setProtocol("https");return pe==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"URL",primaryInfo:r("nullthrows")(pe).toString(),secondaryInfo:void 0}}if(d==="marketplace_xma_call_function")return e.actionContentBlob==null||e.targetId==null?{actionType:"NOT_SUPPORTED",primaryInfo:void 0}:{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ProcessMarketplaceCallFunction",VAL:{actionType:r("nullthrows")(e.actionContentBlob),attachmentFbid:E,messageId:f,targetId:r("nullthrows")(e.targetId)}})},secondaryInfo:void 0};if(d==="marketplace_xma_open_dialog"){if(s==null||e.actionContentBlob==null)return{actionType:"CTA_ERROR",primaryInfo:"Expected an open dialog url and actionContentBlob but didn't get any",secondaryInfo:"messenger_business_core_product"};var _e=o("ConstUriUtils").getUri(s);if(_e==null)return{actionType:"CTA_ERROR",primaryInfo:"Found invalid url when creating CTA",secondaryInfo:"messenger_business_core_product"};var fe=String(_e.getQueryParam("listingID")).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"OpenMarketplaceDialog",VAL:{ctaType:r("nullthrows")(e.actionContentBlob),listingId:fe,threadId:(m||(m=o("I64"))).to_string(g)}})},secondaryInfo:void 0}}if(d==="xma_ctm_in_thread_multiphoto_reply_image"){if(e.actionContentBlob==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};try{var ge=JSON.parse(e.actionContentBlob),he=ge.action_prefill,ye=ge.ad_id,Ce=ge.customer_id,be=ge.index,ve=ge.page_id,Se=ge.reply_image_uri;if(he==null||Se==null)return{actionType:"NOT_SUPPORTED",primaryInfo:void 0};var Re='{"in_thread_multiphoto_xma_reply": true}';return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"SendImagePostback",VAL:{image:Se,loggingDetails:{ad_id:ye.toString(),consumer_id:Ce.toString(),index:be,page_id:ve.toString()},message:he,platformToken:r("isStringNullOrEmpty")(c)?Re:c}})},secondaryInfo:void 0}}catch(e){return{actionType:"NOT_SUPPORTED",primaryInfo:void 0}}}if(d==="xma_disabled_cta")return{actionType:"DISABLED_BUTTON",primaryInfo:void 0};if(d==="xma_open_native"){var Le=e.nativeUrl;if(Le!=null&&Le.startsWith("fb-messenger://user-thread/")){var Ee=Le.substr(27);return{actionType:"DEEPLINK",primaryInfo:{loggingDetails:[(m||(m=o("I64"))).to_string(g),33],threadKey:m.of_string(Ee)}}}if(Le!=null&&Le.startsWith(h.SUBTHREAD_LINK)){var ke,Ie;try{ke=new URL(Le),Ie=ke.searchParams.get("subthread_fbid")}catch(e){ke=null,Ie=null}if(I!=null&&Ie!=null){var Te=(m||(m=o("I64"))).of_string(Ie);return{actionType:"BUTTON",primaryInfo:function(){return I(Te)},secondaryInfo:void 0}}}var De=e.actionContentBlob;if(De!=null)return{actionType:"BUTTON",primaryInfo:function(){return R(De)},secondaryInfo:void 0};if(s!=null)if(s.includes("://m.me/j/")){if(e.targetId!=null){var xe=(m||(m=o("I64"))).to_string(e.targetId);return{actionType:"BUTTON",primaryInfo:function(){return L.openInbox({threadKey:(m||(m=o("I64"))).of_string(xe),threadType:(p||(p=o("LSIntEnum"))).ofNumber(152)},"xmaAttachment")},secondaryInfo:void 0}}return{actionType:"BUTTON",primaryInfo:function(){return k==null?void 0:k(s)},secondaryInfo:void 0}}else return{actionType:"URL",primaryInfo:s,secondaryInfo:[(m||(m=o("I64"))).to_string(g),33]};return{actionType:"CTA_ERROR",primaryInfo:"No Url found while parsing Open Native XMA "+$,secondaryInfo:"messenger_privacy_web"}}var $e=e.targetId;if($e!=null){if(d==="xma_services_confirm_booking")return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ConfirmAppointmentBooking",VAL:{requestID:(m||(m=o("I64"))).to_string($e)}})},secondaryInfo:void 0};if(d==="xma_services_view_appointment_details"){if(s!=null){var Pe,Ne=(Pe=o("ConstUriUtils").getUri(s))==null||Pe.getQueryData==null?void 0:Pe.getQueryData(),Me=String(Ne==null?void 0:Ne.asset_id).toString();return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowBookingDetails",VAL:{pageId:Me,requestId:(m||(m=o("I64"))).to_string($e)}})},secondaryInfo:void 0}}}else if(d==="lead_forms_response"&&s!=null)return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ViewFormDetails",VAL:{responseID:(m||(m=o("I64"))).to_string($e)}})},secondaryInfo:void 0}}if(Q!=null&&Q.length>0&&Q!=="{}"&&!Q.includes("notification_message_token")&&!Q.includes("contact_type"))return{actionType:"BUTTON",primaryInfo:function(){return R(Q)},secondaryInfo:void 0};if(s!=null){if(e.enableExtensions===!0){var we={actionLink:s,pageID:(m||(m=o("I64"))).to_string(g),sourceTitle:_!=null?_:"",userID:m.to_string(g)};return{actionType:"BUTTON",primaryInfo:function(){return y({NAME:"ShowMessengerExtensions",VAL:we})},secondaryInfo:[m.to_string(g),33]}}return{actionType:"URL",primaryInfo:s,secondaryInfo:[(m||(m=o("I64"))).to_string(g),32]}}return{actionType:"CTA_ERROR",primaryInfo:"Unknown CTA encountered while parsing XMA. "+$,secondaryInfo:"messenger_privacy_web"}}}l.default=y}),98);
__d("XmaEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5680"),s=o("FalcoLoggerInternal").create("xma_events",e),u=s;l.default=u}),98);
__d("MessengerWebUXLoggerXMAEventLoggingImpl",["CometPassiveGetRouterStateContext","CometProductAttribution","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSXmaContentType","LsThreadType","WebUXLoggingEntryPointContextProvider","XmaEventsE2eeFalcoEvent","XmaEventsFalcoEvent","castToEnum","react","react-compiler-runtime","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useCallback,m=c.useContext,p=c.useInsertionEffect,_=c.useRef;function f(){var e=o("react-compiler-runtime").c(2),t=y("xma_redirect_to_fb"),n;return e[0]!==t?(n=function(n){t(n)},e[0]=t,e[1]=n):n=e[1],n}function g(e){var t=o("react-compiler-runtime").c(3),n=y("xma_impression"),a;return t[0]!==e||t[1]!==n?(a={onImpressionStart:function(){n(e)}},t[0]=e,t[1]=n,t[2]=a):a=t[2],r("useSinglePartialViewImpression")(a)}function h(){var e=o("react-compiler-runtime").c(2),t=y("xma_click"),n;return e[0]!==t?(n=function(n){t(n)},e[0]=t,e[1]=n):n=e[1],n}function y(e){var t=o("react-compiler-runtime").c(5),n=m(o("WebUXLoggingEntryPointContextProvider").WebUXEntryPointLoggingContext),a=_(n),i;t[0]!==n?(i=function(){a.current=n},t[0]=n,t[1]=i):i=t[1],p(i,void 0);var l=m(r("CometPassiveGetRouterStateContext")),c;return t[2]!==e||t[3]!==l?(c=function(n){var t,i=n.attachment.messageId,c=r("castToEnum")((s||(s=o("I64"))).to_int32((t=n.threadType)!=null?t:(s||(s=o("I64"))).zero),r("LsThreadType"),null),d=n.threadType?o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType):!1,m=n.attachment.threadKey,p=s.to_string(m),_=a.current,f=b(n.attachment),g=o("CometProductAttribution").getMinifiedTopMostRouteProductAttribution(l),h=n.attachment.xmaContentType,y=v(h),S={click_category:n==null?void 0:n.clickCategory,click_target_type:f,entrypoint:_,event:(n==null?void 0:n.isDirectToExternal)===!0?"xma_redirect_to_external_app":e,is_facebook_installed:null,is_fb_content:y,tam_xma_content_type:h!=null?(s||(s=o("I64"))).to_int32(h):null,thread_id:p,thread_type:c};if(d===!0&&r("XmaEventsE2eeFalcoEvent")!=null){var R,L=C(n.message),E=n.message!=null&&(s||(s=o("I64"))).equal((R=n.message)==null?void 0:R.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(536870912));r("XmaEventsE2eeFalcoEvent").log(function(){return babelHelpers.extends({},S,L,{is_receiver_fetch:E,navigation_chain:g,thread_key:(s||(s=o("I64"))).to_string(m)})})}else r("XmaEventsFalcoEvent").log(function(){return babelHelpers.extends({},S,{attribution_id_v2:g,message_id:i})})},t[2]=e,t[3]=l,t[4]=c):c=t[4],c}function C(e){return e==null?{}:{forward:e.isForwarded,message_sender_id:(s||(s=o("I64"))).to_string(e.senderId),message_sent_time:s.to_string(s.div(e.timestampMs,s.of_string("1000")))}}function b(e){var t=e.defaultCtaType,n=e.attachmentLoggingType,r=e.cta1Type,o=35;return t==="xma_rtc_missed_audio"?o=37:t==="xma_rtc_missed_video"?o=36:t==="xma_rtc_missed_group_audio"?o=67:t==="xma_rtc_missed_group_video"?o=66:t==="xma_rtc_audio"?o=17:t==="xma_rtc_video"?o=18:t==="xma_rtc_ended_audio"?o=57:t==="xma_rtc_ended_video"?o=56:t==="xma_rtc_new_audio_default"?o=68:t==="xma_live_location_sharing"?(o=38,r==="xma_live_location_sharing"&&(o=39)):t==="xma_shops_pdp"?o=61:t==="xma_open_native"?o=41:t==="xma_web_url"?o=35:n==="xma_open_contact_share"?o=64:t==="xma_customer_information"?o=65:n==="xma_appointment_confirmed"?o=70:t==="xma_montage_share"&&(o=82),o}function v(e){if(e==null)return null;var t=(s||(s=o("I64"))).to_int32(e);return t===r("LSXmaContentType").FB_FEED_SHARE||t===r("LSXmaContentType").FB_STORY_REPLY||t===r("LSXmaContentType").FB_STORY_SHARE||t===r("LSXmaContentType").FB_STORY_MENTION||t===r("LSXmaContentType").FB_FEED_VIDEO_SHARE||t===r("LSXmaContentType").FB_GAMING_CUSTOM_UPDATE||t===r("LSXmaContentType").FB_PRODUCER_STORY_REPLY||t===r("LSXmaContentType").FB_EVENT||t===r("LSXmaContentType").FB_FEED_POST_PRIVATE_REPLY||t===r("LSXmaContentType").FB_FEED_POST_REACTION_REPLY||t===r("LSXmaContentType").FB_SHORT||t===r("LSXmaContentType").MSG_MEMORIES_SHARE||t===r("LSXmaContentType").LIVE_LOCATION||t===r("LSXmaContentType").MSG_RECEIVER_FETCH}l.useXMAEventsRedirectDefaultToFBLogger=f,l.useXMAEventsImpressionLoggerRef=g,l.useXMAEventsClickLogger=h}),98);
__d("useHandleXmaEventsLogging",["MessengerWebUXLoggerXMAEventLoggingImpl","emptyFunction","isCometRouterUrl","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(9),n=e.attachment,a=e.message,i=e.threadType,l=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsClickLogger(),s=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsRedirectDefaultToFBLogger();if(n==null)return r("emptyFunction");var u;t[0]!==(n==null?void 0:n.actionUrl)?(u=(n==null?void 0:n.actionUrl)==null?!1:r("isCometRouterUrl")(n==null?void 0:n.actionUrl),t[0]=n==null?void 0:n.actionUrl,t[1]=u):u=t[1];var c=u,d;t[2]!==n||t[3]!==c||t[4]!==l||t[5]!==s||t[6]!==a||t[7]!==i?(d=function(t){var e=t!=null?t:c;l==null||l({attachment:n,clickCategory:2,message:a,threadType:i}),(n==null?void 0:n.actionUrl)!=null&&s({attachment:n,isDirectToExternal:!e,message:a,threadType:i})},t[2]=n,t[3]=c,t[4]=l,t[5]=s,t[6]=a,t[7]=i,t[8]=d):d=t[8];var m=d;return m}l.default=e}),98);
__d("useMWXMAInformedAttachmentLabel",["fbt","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t,n){var r=o("react-compiler-runtime").c(25),a=e===void 0?"":e,i=n===void 0?"":n,l;r[0]!==a?(l=s._(/*BTDS*/"This is an Altered video, {attachment item title}",[s._param("attachment item title",a)]),r[0]=a,r[1]=l):l=r[1];var u;r[2]!==a?(u=s._(/*BTDS*/"This is an Altered photo, {attachment item title}",[s._param("attachment item title",a)]),r[2]=a,r[3]=u):u=r[3];var c;r[4]!==a?(c=s._(/*BTDS*/"This is a False information, {attachment item title}",[s._param("attachment item title",a)]),r[4]=a,r[5]=c):c=r[5];var d;r[6]!==a?(d=s._(/*BTDS*/"This is a Partly false information, {attachment item title}",[s._param("attachment item title",a)]),r[6]=a,r[7]=d):d=r[7];var m;r[8]!==a?(m=s._(/*BTDS*/"There is a Missing context, {attachment item title}",[s._param("attachment item title",a)]),r[8]=a,r[9]=m):m=r[9];var p;r[10]!==a?(p=s._(/*BTDS*/"This is a Sensitive content, {attachment item title}",[s._param("attachment item title",a)]),r[10]=a,r[11]=p):p=r[11];var _;r[12]!==l||r[13]!==u||r[14]!==c||r[15]!==d||r[16]!==m||r[17]!==p?(_={ALTERED_MEDIA:l,ALTERED_PHOTO:u,FALSE_NEWS:c,MISLEADING_NEWS:d,MISSING_CONTEXT:m,SENSITIVE:p},r[12]=l,r[13]=u,r[14]=c,r[15]=d,r[16]=m,r[17]=p,r[18]=_):_=r[18];var f=_;if(t!=null&&t in f)return f[t];if(a!=null&&a.length>0){if(i!=null&&i.length>0){var g;return r[19]!==i||r[20]!==a?(g=s._(/*BTDS*/"Open Attachment, {attachment item title}, {attachment item description}",[s._param("attachment item title",a),s._param("attachment item description",i)]),r[19]=i,r[20]=a,r[21]=g):g=r[21],g}var h;return r[22]!==a?(h=s._(/*BTDS*/"Open Attachment, {attachment item title}",[s._param("attachment item title",a)]),r[22]=a,r[23]=h):h=r[23],h}var y;return r[24]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Open Attachment"),r[24]=y):y=r[24],y}l.default=e}),226);
__d("MWXMAAttachmentActionTriggerDefault.react",["BizInboxStateContext","FBLogger","I64","MWInboxRouteBuilder","MWLSThread","MWPAttachmentDataContext","MWXLink.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXPressable.react","MessengerWebUXLogger","ReQL","ReQLSuspense","logXMACtaClicked","react","react-compiler-runtime","useGetMWXMACtaRegistryHandler","useHandleXmaEventsLogging","useMWXMAInformedAttachmentLabel","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useContext,m={link:{":hover_textDecoration":"x1lku1pv",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(27),a=t.attachment,l=t.attachmentItem,u=t.children,p=d(r("BizInboxStateContext")),f=p.pageID,g=(e||(e=r("useReStore")))(),h=l.defaultCtaType,y=l.threadKey,C=r("useMWXMAInformedAttachmentLabel")(l==null?void 0:l.titleText,a==null?void 0:a.gatingTitle,a==null?void 0:a.subtitleText),b;n[0]!==a.messageId||n[1]!==g.tables.messages?(b=function(){return o("ReQL").fromTableAscending(g.tables.messages.index("messageId")).getKeyRange(a.messageId)},n[0]=a.messageId,n[1]=g.tables.messages,n[2]=b):b=n[2];var v;n[3]!==a.messageId||n[4]!==g?(v=[g,a.messageId],n[3]=a.messageId,n[4]=g,n[5]=v):v=n[5];var S=o("ReQLSuspense").useFirst(b,v,i.id+":65"),R=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(l),L=R.defaultCta,E=o("MWLSThread").useThread(y,_),k=r("useGetMWXMACtaRegistryHandler")(),I=r("MessengerWebUXLogger").useInteractionLogger(),T;n[6]!==a||n[7]!==S||n[8]!==E?(T={attachment:a,message:S,threadType:E},n[6]=a,n[7]=S,n[8]=E,n[9]=T):T=n[9];var D=r("useHandleXmaEventsLogging")(T),x=a.defaultCtaType==="xma_prompt_open_viewer_for_text";if(L==null)return u;var $;if(n[10]!==C||n[11]!==l.defaultCtaTitle||n[12]!==l.titleText||n[13]!==u||n[14]!==L||n[15]!==h||n[16]!==k||n[17]!==D||n[18]!==x||n[19]!==I||n[20]!==f||n[21]!==y||n[22]!==E){$=Symbol.for("react.early_return_sentinel");e:{var P;if(f!=null&&(h==="xma_rtc_audio"||h==="xma_rtc_missed_audio"||h==="xma_rtc_new_audio_default"||h==="xma_rtc_ended_audio")){var N=babelHelpers.extends({},L,{targetId:(s||(s=o("I64"))).of_string(f)});P=k(N)}else P=k(L);switch(P.actionType){case"BUTTON":{var M,w=P,A=w.primaryInfo,F=w.secondaryInfo;$=c.jsx(r("MWXPressable.react"),{"aria-label":(M=l.titleText)!=null?M:l.defaultCtaTitle,hideHoverOverlay:x,onPress:function(){return I==null||I({ctaType:h,eventName:"open_xma_attachment_cta",threadKey:y,threadType:E}),o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:F,source:1}),D(),A()},children:u});break e}case"DISABLED_BUTTON":{var O,B=(O=l.titleText)!=null?O:"",W;n[24]!==u||n[25]!==B?(W=c.jsx(r("MWXPressable.react"),{"aria-label":B,disabled:!0,children:u}),n[24]=u,n[25]=B,n[26]=W):W=n[26],$=W;break e}case"URL":{var q=P.primaryInfo;if(!(q.startsWith("http")||q.startsWith("/"))){$=u;break e}var U=P.secondaryInfo;$=c.jsx(r("MWXLink.react"),{href:q,label:C,onClick:function(){o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:U,source:1}),D()},target:void 0,xstyle_DEPRECATED:m.link,children:u});break e}case"DEEPLINK":{var V=P.primaryInfo,H=V.loggingDetails,G=V.threadKey,z=function(){o("logXMACtaClicked").logXMACtaClicked({cta:L,loggingDetails:H,source:1}),D(!0)},j=o("MWInboxRouteBuilder").buildURL({thread_key:(s||(s=o("I64"))).to_string(G)});$=c.jsx(r("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:G,children:function(t){return c.jsx(r("MWXLink.react"),{href:j,onClick:function(n){return t(n),z()},preventLocalNavigation:!0,xstyle_DEPRECATED:m.link,children:u})}});break e}case"CTA_ERROR":{r("FBLogger")(P.secondaryInfo).debug(P.primaryInfo),$=u;break e}case"NOT_SUPPORTED":{$=u;break e}case"POPOVER_BUTTON":{$=u;break e}}}n[10]=C,n[11]=l.defaultCtaTitle,n[12]=l.titleText,n[13]=u,n[14]=L,n[15]=h,n[16]=k,n[17]=D,n[18]=x,n[19]=I,n[20]=f,n[21]=y,n[22]=E,n[23]=$}else $=n[23];if($!==Symbol.for("react.early_return_sentinel"))return $}function _(e){return e.threadType}l.default=p}),98);
__d("MWXMAAttachmentActionTrigger.react",["MWXMAAttachmentActionTriggerDefault.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.attachment,a=e.attachmentItem,i=e.children,l=e.isPressable;if(l){var u;return t[0]!==n||t[1]!==a||t[2]!==i?(u=s.jsx(r("MWXMAAttachmentActionTriggerDefault.react"),{attachment:n,attachmentItem:a,children:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=u):u=t[3],u}else return i}l.default=u}),98);
__d("MWRollCallXMAAttachmentItem.react",["BaseImage.react","MWXImage.react","MWXText.react","MWXVideoStatusListener.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef,p=160,_=213,f=16,g={avatar:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0},media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",objectFit:"xl1xv1r",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(40),n=e.attachmentItem,a=e.mediaRenderQpl,i=n.faviconUrl,l=n.playableUrl,u=n.previewUrl,c=n.subtitleText,f=n.titleText,h,y;t[0]!==a||t[1]!==l||t[2]!==u?(h=function(){a==null||a.addPoint("render-roll-call-xma-attachment-item",{bool:{has_playable_url:!r("isStringNullOrEmpty")(l),has_preview_url:!r("isStringNullOrEmpty")(u)}}),!r("isStringNullOrEmpty")(l)&&!r("isStringNullOrEmpty")(u)&&(a==null||a.endSuccessAfterDelay())},y=[a,l,u],t[0]=a,t[1]=l,t[2]=u,t[3]=h,t[4]=y):(h=t[3],y=t[4]),d(h,y);var C=m(null),b;t[5]!==a?(b=function(t){a==null||a.endFailAfterDelay("load-video-error",{string:{video_error_name:t}})},t[5]=a,t[6]=b):b=t[6];var v=b,S;t[7]!==a?(S=function(){a==null||a.endSuccessAfterDelay()},t[7]=a,t[8]=S):S=t[8];var R=S;if(r("isStringNullOrEmpty")(l))if(r("isStringNullOrEmpty")(u)){if(r("gkx")("7782")&&!r("isStringNullOrEmpty")(f)&&!r("isStringNullOrEmpty")(i)){var N;t[28]===Symbol.for("react.memo_cache_sentinel")?(N={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn x9bbmet x78zum5 xdt5ytf xz9dl7a xpdmqnj xsag5q8 x1g0dm76"},t[28]=N):N=t[28];var M;t[29]!==i?(M=s.jsx(r("MWXImage.react"),{height:24,src:i,width:24,xstyle:g.avatar}),t[29]=i,t[30]=M):M=t[30];var w;t[31]===Symbol.for("react.memo_cache_sentinel")?(w={className:"x1iyjqo2 xyamay9 x1l90r2v xv54qhq"},t[31]=w):w=t[31];var A;t[32]!==f?(A=s.jsx("div",babelHelpers.extends({},w,{children:s.jsx(r("MWXText.react"),{numberOfLines:6,type:"entityHeaderMeta3",children:f})})),t[32]=f,t[33]=A):A=t[33];var F;t[34]!==c?(F=r("isStringNullOrEmpty")(c)?null:s.jsx("div",{className:"x2lah0s x84yb8i",children:s.jsx(r("MWXText.react"),{type:"body4",children:c})}),t[34]=c,t[35]=F):F=t[35];var O;return t[36]!==M||t[37]!==A||t[38]!==F?(O=s.jsxs("div",babelHelpers.extends({},N,{children:[M,A,F]})),t[36]=M,t[37]=A,t[38]=F,t[39]=O):O=t[39],O}}else{var D;t[19]===Symbol.for("react.memo_cache_sentinel")?(D={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},t[19]=D):D=t[19];var x;t[20]!==a?(x=a==null?void 0:a.endFailAfterDelay("load-image-error"),t[20]=a,t[21]=x):x=t[21];var $;t[22]!==a?($=a==null?void 0:a.endSuccessAfterDelay(),t[22]=a,t[23]=$):$=t[23];var P;return t[24]!==u||t[25]!==x||t[26]!==$?(P=s.jsx("div",babelHelpers.extends({},D,{children:s.jsx(r("BaseImage.react"),{height:_,onError:x,onLoad:$,src:u,width:p,xstyle:g.media})})),t[24]=u,t[25]=x,t[26]=$,t[27]=P):P=t[27],P}else{var L;t[9]===Symbol.for("react.memo_cache_sentinel")?(L={className:"xbjudin xnlwouz xpp8er5 xs9wviy xwfyxwz x1xx6w2s x6ikm8r x10wlt62 xq1dxzn"},t[9]=L):L=t[9];var E;t[10]!==v||t[11]!==R?(E=s.jsx(r("MWXVideoStatusListener.react"),{onError:v,onLoad:R,videoRef:C}),t[10]=v,t[11]=R,t[12]=E):E=t[12];var k;t[13]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xwcfey6 x1xsqp64 x18d0r48 xbjudin xnlwouz xpp8er5 xs9wviy xl1xv1r"},t[13]=k):k=t[13];var I;t[14]!==l?(I=s.jsx("video",babelHelpers.extends({},k,{height:_,muted:!0,src:l,width:p})),t[14]=l,t[15]=I):I=t[15];var T;return t[16]!==E||t[17]!==I?(T=s.jsxs("div",babelHelpers.extends({},L,{children:[E,I]})),t[16]=E,t[17]=I,t[18]=T):T=t[18],T}return null}l.default=h}),98);
__d("MWXMAAttachmentItemCtaButtonBase.react",["ix","AdsMessengerContext.react","FBLogger","I64","ImageIconSource","LSCTAIconType","LSIntEnum","MWInboxRouteBuilder","MWLSThread","MessengerWebUXLogger","react","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useEffect,p=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAAttachmentItemCtaButtonBase.react");function _(e){if(e==null)return null;switch((u||(u=o("LSIntEnum"))).toNumber(e)){case r("LSCTAIconType").NONE:return null;case r("LSCTAIconType").FB:return new(r("ImageIconSource"))(s("814640"),16,16);default:return null}}function f(e){var t=o("react-compiler-runtime").c(31),n=e.attachmentCta,a=e.ctaIconType,i=e.getCtaRegistryHandler,l=e.renderButtonActionNonEventButton,s=e.renderDeeplinkActionButton,u=e.renderDisabledButtonActionButton,f=e.renderPopoverMenuButtonActionButton,y=e.renderUrlActionButton,C=e.threadKey,b=e.title,v=e.type,S=o("MWLSThread").useThread(C,h),R;t[0]!==C||t[1]!==S||t[2]!==v?(R={ctaType:v,eventName:"xma_attachment_cta",threadKey:C,threadType:S},t[0]=C,t[1]=S,t[2]=v,t[3]=R):R=t[3];var L=r("MessengerWebUXLogger").useImpressionLoggerRef(R),E,k;t[4]!==v?(E=function(){var e=["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_ended_audio","xma_rtc_video","xma_rtc_missed_video","xma_rtc_ended_video"].includes(v);e&&p.onReady(g)},k=[v],t[4]=v,t[5]=E,t[6]=k):(E=t[5],k=t[6]),m(E,k);var I=o("AdsMessengerContext.react").useAdsMessengerContext(),T=I.isMessengerInAds,D=I.maybeGetCallbackFromURI;if(n==null){var x;return t[7]!==L||t[8]!==u||t[9]!==b||t[10]!==v?(x=v==="xma_disabled_cta"?d.jsx("div",{className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x",ref:L,children:u(b)}):null,t[7]=L,t[8]=u,t[9]=b,t[10]=v,t[11]=x):x=t[11],x}var $;if(t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==T||t[16]!==D||t[17]!==l||t[18]!==s||t[19]!==u||t[20]!==f||t[21]!==y||t[22]!==b){var P=i(n),N=_(a);$=null;e:switch(P.actionType){case"BUTTON":{var M=P.secondaryInfo,w=P.primaryInfo;$=l(b,N,n,M,w);break e}case"POPOVER_BUTTON":{f&&($=f(b,n,P.primaryInfo));break e}case"URL":{var A=P.secondaryInfo,F=D==null?void 0:D(P.primaryInfo);T&&F!=null?$=l(b,N,n,A,F):P.primaryInfo.trim().length>0?$=y(b,N,n,A,P.primaryInfo):$=null;break e}case"DISABLED_BUTTON":{var O;t[24]!==u||t[25]!==b?(O=u(b),t[24]=u,t[25]=b,t[26]=O):O=t[26],$=O;break e}case"DEEPLINK":{var B=P.primaryInfo,W=B.loggingDetails,q=B.threadKey,U=o("MWInboxRouteBuilder").buildURL({thread_key:(c||(c=o("I64"))).to_string(q)});$=s(b,q,n,W,U);break e}case"CTA_ERROR":{r("FBLogger")(P.secondaryInfo).mustfix(P.primaryInfo),$=null;break e}case"NOT_SUPPORTED":$=null}t[12]=n,t[13]=a,t[14]=i,t[15]=T,t[16]=D,t[17]=l,t[18]=s,t[19]=u,t[20]=f,t[21]=y,t[22]=b,t[23]=$}else $=t[23];var V;t[27]===Symbol.for("react.memo_cache_sentinel")?(V={className:"x18xmwgd x1iyjqo2 xs83m0k x1iorvi4 x11lfxj5 xjkvuk6 x135b78x"},t[27]=V):V=t[27];var H;return t[28]!==$||t[29]!==L?(H=d.jsx("div",babelHelpers.extends({},V,{ref:L,children:$})),t[28]=$,t[29]=L,t[30]=H):H=t[30],H}function g(e){e.logImpression({surface:"admin_message"})}function h(e){return e.threadType}l.default=f}),98);
__d("useMWCMPollsV1Enabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,s))!=null?t:{},r=n.pollsV1UICapability;return r===!0}function s(e){return{pollsV1UICapability:o("LSThreadBitOffset").has(158,e)}}l.default=e}),98);
__d("useMWHasPollsVotingEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,s))!=null?t:!1;return n}function s(e){return o("LSThreadBitOffset").has(170,e)}l.default=e}),98);
__d("MWXMAAttachmentItemCtaButton.react",["LSMessagingThreadTypeUtil","MDSButton.react","MWLSThread","MWXEntryPointPopoverTrigger.react","MWXMAAttachmentActionTriggerWithOpenChatTab.react","MWXMAAttachmentItemCtaButtonBase.react","MWXPopoverLoadingState.react","MWXTooltip.react","MessengerWebUXLogger","logXMACtaClicked","mwCMIsAnyCMThread","react","react-compiler-runtime","useGetMWXMACtaRegistryHandler","useMWCMPollsV1Enabled","useMWCMPollsV2Enabled","useMWHasPollsVotingEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={root:{minWidth:"xktpd3l",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(32),n=e.attachmentCta,a=e.ctaIconType,i=e.messageId,l=e.popoverMenu,c=e.threadKey,f=e.title,g=e.type,h=r("MessengerWebUXLogger").useInteractionLogger(),y=o("MWLSThread").useThread(c,_),C;t[0]!==c||t[1]!==y||t[2]!==g?(C={ctaType:g,eventName:"open_xma_attachment_cta",threadKey:c,threadType:y},t[0]=c,t[1]=y,t[2]=g,t[3]=C):C=t[3];var b=C,v=r("useGetMWXMACtaRegistryHandler")(),S=r("useMWHasPollsVotingEnabled")(c),R=r("useMWCMPollsV1Enabled")(c),L=r("useMWCMPollsV2Enabled")(c),E=o("MWLSThread").useThread(c,p),k=o("MWLSThread").useThread(c,m);if(!S&&(g==="xma_poll_details_button"||g==="xma_poll_details_card")||E!=null&&E&&!R&&!L&&g==="xma_poll_details_button")return null;var I;t[4]!==k||t[5]!==h||t[6]!==b?(I=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MDSButton.react"),{disabled:k,icon:n,isContainerTarget:!0,label:t,onPress:function(){return h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2}),l()},type:"secondary"})})},t[4]=k,t[5]=h,t[6]=b,t[7]=I):I=t[7];var T;t[8]!==h||t[9]!==b?(T=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MWXMAAttachmentActionTriggerWithOpenChatTab.react"),{threadKey:n,children:function(n){return s.jsx(r("MDSButton.react"),{label:t,linkProps:{preventLocalNavigation:!0,url:l},onPress:function(t){return n(t),h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2})},type:"secondary"})}})})},t[8]=h,t[9]=b,t[10]=T):T=t[10];var D;t[11]!==h||t[12]!==b||t[13]!==l?(D=l?function(e,t,n){return s.jsx(r("MWXEntryPointPopoverTrigger.react"),{align:"stretch",entryPointParams:{primaryInfo:n},fallback:s.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!1,xstyle:u.root}),otherProps:{cta:t},popoverEntryPoint:l,popoverType:"menu",position:"below",preloadTrigger:"button",children:function(a,i){return s.jsx(r("MWXTooltip.react"),{tooltip:e,children:s.jsx(r("MDSButton.react"),{label:e,onPress:function(){return h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:t,loggingDetails:void 0,source:2}),i()},ref:a,type:"secondary"})})}})}:void 0,t[11]=h,t[12]=b,t[13]=l,t[14]=D):D=t[14];var x;t[15]!==k||t[16]!==h||t[17]!==b||t[18]!==f?(x=function(t,n,a,i,l){return s.jsx(r("MWXTooltip.react"),{tooltip:t,children:s.jsx(r("MDSButton.react"),{disabled:k,icon:n,label:f,linkProps:{target:"_blank",url:l},onPress:function(){h==null||h(b),o("logXMACtaClicked").logXMACtaClicked({cta:a,loggingDetails:i,source:2})},type:"secondary"})})},t[15]=k,t[16]=h,t[17]=b,t[18]=f,t[19]=x):x=t[19];var $;return t[20]!==n||t[21]!==a||t[22]!==v||t[23]!==i||t[24]!==I||t[25]!==T||t[26]!==D||t[27]!==x||t[28]!==c||t[29]!==f||t[30]!==g?($=s.jsx(r("MWXMAAttachmentItemCtaButtonBase.react"),{attachmentCta:n,ctaIconType:a,getCtaRegistryHandler:v,messageId:i,renderButtonActionNonEventButton:I,renderDeeplinkActionButton:T,renderDisabledButtonActionButton:d,renderPopoverMenuButtonActionButton:D,renderUrlActionButton:x,threadKey:c,title:f,type:g}),t[20]=n,t[21]=a,t[22]=v,t[23]=i,t[24]=I,t[25]=T,t[26]=D,t[27]=x,t[28]=c,t[29]=f,t[30]=g,t[31]=$):$=t[31],$}function d(e){return s.jsx(r("MWXTooltip.react"),{tooltip:e,children:s.jsx(r("MDSButton.react"),{disabled:!0,label:e,type:"secondary"})})}d.displayName=d.name+" [from "+i.id+"]";function m(e){return o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(e.threadType)||o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(e.threadType)}function p(e){return r("mwCMIsAnyCMThread")(e.threadType)}function _(e){return e.threadType}l.default=c}),98);
__d("MWPXMAIconParser",["ConstUriUtils","FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"clear":case"staticWhite":case"white":case"white70":case"black":case"black50":case"black34":case"black20":case"black12":case"black6":case"black4":case"bluegrey75":case"bluegrey50":case"placeholder-icon":case"blue":case"purple":case"gray":case"background":case"scarlet":case"steel":case"coregreen":case"coral":case"sky":case"coreblue":case"emerald":return"gray";case"red":return"cherry";case"green":return"lime";case"honey":return"lemon";default:return r("FBLogger")("messenger_web_sharing").mustfix("Unknown Icon color: %s",e),"gray"}}function s(t){if(t!=null){if(t.startsWith("https")||t.startsWith("blob"))return t;if(t.startsWith("ls")){var n=t.replace("ls","http"),r=o("ConstUriUtils").getUri(n);if(r!=null){var a=r.getQueryParam("icon"),i=r.getQueryParam("circleColor");if(typeof a=="string"&&typeof i=="string"){var l=e(i);return{color:l,icon:a}}}}}}l.parse=s}),98);
__d("MWXMAIconParser.react",["ix","FBLogger","FDSAirplaneFilled20Icon","FDSCalendarAddFilled20Icon","FDSCalendarFilled20Icon","FDSCamcorderCrossFilled20Icon","FDSCamcorderFilled20Icon","FDSCamcorderIncomingFilled20Icon","FDSCamcorderOutgoingFilled20Icon","FDSCamcorderPlusFilled20Icon","FDSCheckmarkCircleFilled20Icon","FDSCheckmarkFilled20Icon","FDSCrossFilled20Icon","FDSCurrencyUsdFilled20Icon","FDSDocumentFilled20Icon","FDSFriendConfirmFilled20Icon","FDSFriendRemoveFilled20Icon","FDSFriendRequestFilled20Icon","FDSGroupFilled20Icon","FDSKeyHouseFilled20Icon","FDSLocationFilled20Icon","FDSMapFilled20Icon","FDSPhoneCrossFilled20Icon","FDSPhoneFilled20Icon","FDSPhoneIncomingFilled20Icon","FDSPhoneOutgoingFilled20Icon","FDSPinFilled20Icon","FDSPostClockFilled20Icon","FDSPostSlashFilled20Icon","FDSShieldFilled20Icon","FDSShoppingCartFilled20Icon","FDSTagFilled20Icon","FDSWatchTvFilled20Icon","MWPXMAIconParser","fbicon"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){switch(e){case"airplane":return r("FDSAirplaneFilled20Icon");case"calendar":return r("FDSCalendarFilled20Icon");case"calendar-add":return r("FDSCalendarAddFilled20Icon");case"camcorder":return r("FDSCamcorderFilled20Icon");case"camcorder-incoming":return r("FDSCamcorderIncomingFilled20Icon");case"camcorder-missed":return r("FDSCamcorderCrossFilled20Icon");case"camcorder-outgoing":return r("FDSCamcorderOutgoingFilled20Icon");case"camcorder-plus":return r("FDSCamcorderPlusFilled20Icon");case"checkmark-circle":return r("FDSCheckmarkCircleFilled20Icon");case"cross-circle":return r("FDSPostSlashFilled20Icon");case"currency-peso":return o("fbicon")._(s("1174630"),20);case"currency-pound":return o("fbicon")._(s("1174587"),20);case"currency-taka":return o("fbicon")._(s("182108"),20);case"currency-thai-baht":return o("fbicon")._(s("876716"),20);case"currency-usd":return r("FDSCurrencyUsdFilled20Icon");case"document-complete":return r("FDSDocumentFilled20Icon");case"friend-generic":return r("FDSFriendRequestFilled20Icon");case"friend-generic-checkmark":return r("FDSFriendConfirmFilled20Icon");case"group":return r("FDSGroupFilled20Icon");case"group-block":return r("FDSFriendRemoveFilled20Icon");case"location":return r("FDSLocationFilled20Icon");case"pin":return r("FDSPinFilled20Icon");case"phone":return r("FDSPhoneFilled20Icon");case"phone-incoming":return r("FDSPhoneIncomingFilled20Icon");case"phone-outgoing":return r("FDSPhoneOutgoingFilled20Icon");case"shield":return r("FDSShieldFilled20Icon");case"phone-missed":return r("FDSPhoneCrossFilled20Icon");case"question-circle":return r("FDSPostClockFilled20Icon");case"tag":return r("FDSTagFilled20Icon");case"watch":return r("FDSWatchTvFilled20Icon");case"map":return r("FDSMapFilled20Icon");case"house-keyhole":return r("FDSKeyHouseFilled20Icon");case"document":return r("FDSDocumentFilled20Icon");case"checkmark":return r("FDSCheckmarkFilled20Icon");case"shopping-cart":return r("FDSShoppingCartFilled20Icon");case"cross":return r("FDSCrossFilled20Icon");default:r("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",e);return}}function u(t){var n=o("MWPXMAIconParser").parse(t);if(n!=null){if(typeof n=="string")return n;var r=n.color,a=n.icon,i=e(a);if(i!=null)return{color:r,icon:i}}}l.parse=u}),98);
__d("MWXMAAttachmentItemIcon.react",["fbt","FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.mediaRenderQpl,d;if(t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l){var p;d=o("MWXMAIconParser.react").parse((p=i(n,a,"MWXMAAttachmentItemIconImpl",l))!=null?p:""),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=d}else d=t[4];var _=d,f,g;if(t[5]!==_||t[6]!==l?(f=function(){l==null||l.addPoint("render-xma-attachment-item-icon",{bool:{has_icon:_!=null}}),_!=null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(m)},g=[_,l],t[5]=_,t[6]=l,t[7]=f,t[8]=g):(f=t[7],g=t[8]),c(f,g),_==null)return null;if(typeof _=="string"){var h;t[9]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[9]=h):h=t[9];var y;t[10]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Icon for this message"),t[10]=y):y=t[10];var C;t[11]===Symbol.for("react.memo_cache_sentinel")?(C={borderRadius:"50%",height:"36px",width:"36px"},t[11]=C):C=t[11];var b;return t[12]!==_?(b=u.jsx("div",babelHelpers.extends({},h,{children:u.jsx(r("FDSImageCover.react"),{alt:y,src:_,style:C})})),t[12]=_,t[13]=b):b=t[13],b}var v;t[14]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[14]=v):v=t[14];var S;return t[15]!==_.color||t[16]!==_.icon?(S=u.jsx("div",babelHelpers.extends({},v,{children:u.jsx(r("FDSSkittleIcon.react"),{color:_.color,icon:_.icon,size:36})})),t[15]=_.color,t[16]=_.icon,t[17]=S):S=t[17],S}function m(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon","AppTiming")}l.default=d}),226);
__d("MWXMAAttachmentItemIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.attachment,a=e.attachmentItem,i=e.getFaviconUrlXMA,l=e.mediaRenderQpl,d,p;t[0]!==l?(d=function(){l==null||l.addPoint("render-xma-attachment-item-icon-with-placeholder"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(m)},p=[l],t[0]=l,t[1]=d,t[2]=p):(d=t[1],p=t[2]),u(d,p);var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",height:36,width:36,xstyle:c.loadingPlaceholder}),t[3]=_):_=t[3];var f;return t[4]!==n||t[5]!==a||t[6]!==i||t[7]!==l?(f=s.jsx(r("CometPlaceholder.react"),{fallback:_,name:"MWXMAAttachmentItemIconWithPlaceholder.Suspense",children:s.jsx(r("MWXMAAttachmentItemIcon.react"),{attachment:n,attachmentItem:a,getFaviconUrlXMA:i,mediaRenderQpl:l})}),t[4]=n,t[5]=a,t[6]=i,t[7]=l,t[8]=f):f=t[8],f}function m(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-icon-with-placeholder","AppTiming")}l.default=d}),98);
__d("MWXMAAttachmentItemListItemsBase.react",["LSMediaUrlAttachment","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.attachment,r=e.renderDefaultListItem,a=e.renderPercentageListItem,i;if(t[0]!==n||t[1]!==r||t[2]!==a){var l=[{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList1,contactUrlFallbackList:n.listItemContactUrlFallbackList1,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList1(n),id:n.listItemId1,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage1,titleText:n.listItemTitleText1,totalCount:n.listItemTotalCount1},{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList2,contactUrlFallbackList:n.listItemContactUrlFallbackList2,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList2(n),id:n.listItemId2,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage2,titleText:n.listItemTitleText2,totalCount:n.listItemTotalCount2},{contactUrlExpirationTimestampList:n.listItemContactUrlExpirationTimestampList3,contactUrlFallbackList:n.listItemContactUrlFallbackList3,contactUrlList:o("LSMediaUrlAttachment").listItemContactUrlList3(n),id:n.listItemId3,progressBarFilledPercentage:n.listItemProgressBarFilledPercentage3,titleText:n.listItemTitleText3,totalCount:n.listItemTotalCount3}],u=[];l.forEach(function(e){var t=e.contactUrlExpirationTimestampList,n=e.contactUrlFallbackList,r=e.contactUrlList,o=e.id,a=e.progressBarFilledPercentage,i=e.titleText,l=e.totalCount;if(o!=null){var s=r!=null?r.split(","):[],c=t!=null?t.split(","):[],d=n!=null?n.split(","):[];u.push({contacts:s.map(function(e,t){return{url:e,urlExpirationTimestamp:c[t],urlFallback:d[t]}}),id:o,progressBarFilledPercentage:a,titleText:i,totalCount:l})}}),i=s.jsx(o("react-strict-dom").html.ul,{children:u.map(function(e){var t=e.progressBarFilledPercentage;return t!=null?a(e,t):r(e)})}),t[0]=n,t[1]=r,t[2]=a,t[3]=i}else i=t[3];return i}l.default=u}),98);
__d("MWXMAAttachmentItemListItems.react",["I64","MWChatPollFacepile.react","MWLSThreadDisplayContext","MWXMAAttachmentItemListItemsBase.react","MWXText.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.attachment,a=e.onPollOptionFacepilePress;r("vulture")("ugoQ_HhA9xlbYERl2g2BuJLqfPY=");var i=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),l;t[0]!==i||t[1]!==a?(l=function(t,n){return u.jsxs("li",{className:"x14vqqas",children:[u.jsxs("div",{className:"x78zum5 x1qughib",children:[t.titleText!=null?u.jsx(r("MWXText.react"),{numberOfLines:i==="Inbox"?3:1,type:"headline4",children:t.titleText}):null,u.jsx("div",{className:"x13fj5qh",children:u.jsx(r("MWChatPollFacepile.react"),{contacts:t.contacts.map(d),countOverride:t.totalCount!=null?(s||(s=o("I64"))).to_int32(t.totalCount):void 0,direction:"reversed",gap:"negative",onPress:a!=null?function(){a(t.id)}:void 0,size:"small"})})]}),u.jsx("div",{className:"x1wpzbip x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt xod5an3 x1xmf6yo",children:u.jsx("div",{className:"xsqyzxx x1obq294 x5a5i1n xde0f50 x15x8krk xdk7pt",style:{width:(s||(s=o("I64"))).to_string(n)+"%"}})})]},s.to_string(t.id))},t[0]=i,t[1]=a,t[2]=l):l=t[2];var c;return t[3]!==n||t[4]!==l?(c=u.jsx(r("MWXMAAttachmentItemListItemsBase.react"),{attachment:n,renderDefaultListItem:m,renderPercentageListItem:l}),t[3]=n,t[4]=l,t[5]=c):c=t[5],c}function d(e){return{name:void 0,profile_picture_url:e.url}}function m(e){return u.jsx("li",{className:"xwwskcc x1q0q8m5 xso031l x1l1xfun x13fuv20 x178xt8z x14vqqas xsag5q8 xz9dl7a",children:u.jsxs("div",{children:[u.jsx(r("MWChatPollFacepile.react"),{contactWithBorder:!1,contacts:e.contacts.map(p),countOverride:e.totalCount!=null?(s||(s=o("I64"))).to_int32(e.totalCount):void 0,limit:9,overflowStyle:"overlayLastPhoto",size:"large"}),e.titleText!=null?u.jsx("div",{className:"xdwrcjd x1xmf6yo",children:u.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:2,type:"body4",children:e.titleText})}):null]})},(s||(s=o("I64"))).to_string(e.id))}m.displayName=m.name+" [from "+i.id+"]";function p(e){return{name:void 0,profile_picture_url:e.url}}l.default=c}),98);
__d("MWXIconBadgeCheckmark",["MWXSvgIcon","SVGIcon","cr:22216","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22216")),r("gkx")("23219"));l.default=e}),98);
__d("MessageProfileRangeTypeUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e==="p"?"p":e==="thread"||e==="t"?"t":e==="thread_active"||e==="a"?"a":e==="s"?"s":e==="ai"?"ai":e==="c"?"cc":e==="cu"?"cu":"n"}i.ofString=e}),66);
__d("MWV2ChatTextParserUtils",["CurrentEnvironment","EmojiRenderer","EmoticonRenderer","I64","IGDWebUtils","LSContactTypeExact","LSIntEnum","MWChatTextFormattingUtils","MWLSContactTypeExactUtils","MessageProfileRangeTypeUtils","ReQL","ReQLSuspense","UnicodeUtils","XCometVanityURLControllerRouteBuilder","getURLRanges","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=new RegExp("/^[ \\r\\n\\s]*$/");function d(e){var t=o("EmojiRenderer").parse(e).map(function(e){return{length:e.length,offset:e.offset}}),n=o("EmoticonRenderer").parse(e).map(function(e){return{length:e.chars.length,offset:e.offset}}),r=t.concat(n).sort(function(e,t){return e.offset-t.offset|0});if(r.length===0)return!1;var a={contents:0},i={contents:0},l=r.some(function(t){a.contents===t.offset?(a.contents=a.contents+t.length|0,i.contents=a.contents):i.contents=t.offset;var n=e.substring(a.contents,i.contents);return a.contents=t.offset+t.length|0,c.test(n)===!1}),s=a.contents!==e.length&&!c.test(e.substring(i.contents));return l?!1:!s}function m(e,t,n,a){t===void 0&&(t=!1),n===void 0&&(n=!1),a===void 0&&(a=!1);var i=r("getURLRanges")(e),l=[],s=o("MWChatTextFormattingUtils").getFormattingRanges(e,t,n,a);return i.forEach(function(e){var t=e.entity.url,n=t.startsWith("https://m.me/j/")||r("CurrentEnvironment").facebookdotcom&&t.startsWith("https://www.messenger.com/channel/"),o={entity:{__typename:n?"MessengerLink":"Link",target:"blank",uri:e.entity.url},length:e.length,offset:e.offset};l.push(o)}),l.concat(s)}function p(e,t){return t===void 0&&(t=!1),r("gkx")("23433")?(t?"/e2ee/t/":"/t/")+e:(t?"/messages/e2ee/t/":"/messages/t/")+e}function _(t,n){var a;try{a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(t.tables.contacts).getKeyRange((e||(e=o("I64"))).of_string(n)),i.id+":137")}catch(e){a=void 0}if(a==null)return p(n);var l=a.contactTypeExact;if((e||(e=o("I64"))).equal(l,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").FB_USER)))return"https://www.facebook.com"+r("XCometVanityURLControllerRouteBuilder").buildURL({vanity:n});if(!o("MWLSContactTypeExactUtils").isIgContact(l))return p(n);var u=a.secondaryName;return u!=null?"https://www.instagram.com/"+u+"/":p(n)}function f(t,n,r,a,i,l,s,c){var d=n.split(","),m=r.split(","),f=a.split(","),g=i.split(",");return d.reduce(function(n,r,a){var i=o("MessageProfileRangeTypeUtils").ofString(g[a]);if(m[a]==null||f[a]==null)return n;var d=Number(m[a]),h=Number(f[a]),y=(u||(u=o("UnicodeUtils"))).strlen(l.slice(0,h)),C=h-y,b=h-C;if(i==="t"||i==="a"){var v=c&&s!=null?(e||(e=o("I64"))).to_string(s):r;o("IGDWebUtils").isOnInstagramWeb()?n.push({entity:{__typename:"Command"},length:d,offset:b}):n.push({entity:{__typename:c?"Thread":"Profile",id:r,uri:p(v,c)},length:d,offset:b})}else i==="p"?n.push({entity:{__typename:"Profile",id:r,uri:_(t,r)},length:d,offset:b}):i==="cc"?n.push({entity:{__typename:"CommunityChannel",threadKey:(e||(e=o("I64"))).of_string(r)},length:d,offset:b}):i==="s"||i==="cu"?n.push({entity:{__typename:"Command"},length:d,offset:b}):i==="ai"&&n.push({entity:{__typename:"Ai"},length:d,offset:b});return n},[])}l.isEmojiOnlyMessage=d,l.findRanges=m,l.findRangesForMentions=f}),98);
__d("useMWPCombineTextRenderers",["react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n={},e.forEach(function(e){if(e!=null){var t=e[0],r=e[1],o=n[t];n[t]=o!=null?o.concat([r]):[r]}}),t[0]=e,t[1]=n):n=t[1],n}l.default=e}),98);
__d("getMAWLinkEntityRenderer.react",["E2EEMessagingLinkContext.react","MWMessageCellFocusTable.react","MWXLink.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=e.encryptedLink,n=e.target,a=e.testid,i=e.xstyle;return function(e,a){return s.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:s.jsx("span",{role:"gridcell",children:s.jsx(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:t,children:s.jsx(r("MWXLink.react"),{encryptedLink:t,href:a.uri,target:n,testid:void 0,xstyle_DEPRECATED:i,children:e})})})})}}l.default=u}),98);
__d("useMWPLinkRendererFactory",["MWPThreadCapabilitiesContext","getMAWLinkEntityRenderer.react","gkx","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),a=n.disableLinks,i;return t[0]!==a||t[1]!==e?(i=function(n,o,i,l){return r("gkx")("24165")&&a?void 0:[i,r("getMAWLinkEntityRenderer.react")({encryptedLink:e,target:l,testid:o,xstyle:n})]},t[0]=a,t[1]=e,t[2]=i):i=t[2],i}l.default=e}),98);
__d("useMWTextRenderers",["AdsMessengerContext.react","CometErrorBoundary.react","GroupsCometJoinChatDialog.entrypoint","I64","MWCMThreadTypes.react","MWChatTextFormatting","MWInboxCommunityThreadsRouteBuilder","MWLSThread","MWMessageCellFocusTable.react","MWNavigationContext","MWXLink.react","goUriOnNewWindow","react","react-compiler-runtime","useCommunityFolder","useMWCMShouldGoToFullScreenChatHook","useMWNavigation","useMWPCombineTextRenderers","useMWPLinkRendererFactory","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo,p={bold:{fontWeight:"x1s688f",$$css:!0},colorForLink:{color:"x1heor9g",$$css:!0},highlight:{backgroundColor:"xacajkf",borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",paddingTop:"x1nn3v0j",paddingInlineEnd:"xyri2b",paddingBottom:"x1120s5i",paddingInlineStart:"x1c1uobl",$$css:!0},underline:{color:"x1heor9g",textDecoration:"x1bvjpef",textDecorationLine:"xujl8zx",$$css:!0}};function _(e){var t,n=o("react-compiler-runtime").c(23),a=e.folder,i=e.node,l=e.thread,c=r("useMWNavigation")(),d=c.openTabOrInbox,m=(t=l.hasPendingInvitation)!=null?t:!1,p=r("useMWCMShouldGoToFullScreenChatHook")(),_;n[0]!==m||n[1]!==p?(_={invited:m,shouldGoToMessenger:p,surface:"unknown"},n[0]=m,n[1]=p,n[2]=_):_=n[2];var f=_,g;n[3]!==a.fbGroupId?(g=(s||(s=o("I64"))).to_string(a.fbGroupId),n[3]=a.fbGroupId,n[4]=g):g=n[4];var h;n[5]!==l.threadKey?(h=(s||(s=o("I64"))).to_string(l.threadKey),n[5]=l.threadKey,n[6]=h):h=n[6];var y;n[7]!==g||n[8]!==h?(y={groupID:g,threadID:h},n[7]=g,n[8]=h,n[9]=y):y=n[9];var C=y,b=r("useMWXEntryPointDialog")(r("GroupsCometJoinChatDialog.entrypoint"),C),v=b[0],S;n[10]!==f||n[11]!==v?(S=function(){return v(f)},n[10]=f,n[11]=v,n[12]=S):S=n[12];var R=S,L;n[13]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x1s688f"},n[13]=L):L=n[13];var E;n[14]!==R||n[15]!==d||n[16]!==l.clientThreadKey||n[17]!==l.threadKey||n[18]!==l.threadType?(E=function(){return o("MWCMThreadTypes.react").isUnjoinedCMThread(l.threadType)?R():d({clientThreadKey:l.clientThreadKey,threadKey:l.threadKey,threadType:l.threadType},"mention")},n[14]=R,n[15]=d,n[16]=l.clientThreadKey,n[17]=l.threadKey,n[18]=l.threadType,n[19]=E):E=n[19];var k;return n[20]!==i||n[21]!==E?(k=u.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:u.jsx("span",babelHelpers.extends({},L,{role:"gridcell",children:u.jsx(r("MWXLink.react"),{onClick:E,children:i})}))}),n[20]=i,n[21]=E,n[22]=k):k=n[22],k}function f(e){var t=o("react-compiler-runtime").c(10),n=e.folder,r=e.thread,a;t[0]!==n.folderId?(a=(s||(s=o("I64"))).to_string(n.folderId),t[0]=n.folderId,t[1]=a):a=t[1];var i=a,l;t[2]!==r.threadKey?(l=(s||(s=o("I64"))).to_string(r.threadKey),t[2]=r.threadKey,t[3]=l):l=t[3];var c=l,d;t[4]!==i||t[5]!==c?(d=function(){return o("MWInboxCommunityThreadsRouteBuilder").buildURL({folder_id:i,thread_key:c})},t[4]=i,t[5]=c,t[6]=d):d=t[6];var m=d,p;return t[7]!==m||t[8]!==e.children?(p=u.jsx(o("MWNavigationContext").Provider,{children:e.children,value:m}),t[7]=m,t[8]=e.children,t[9]=p):p=t[9],p}function g(e){var t=o("react-compiler-runtime").c(5),n=e.communityLinkFallback,a=e.node,i=e.threadKey,l=o("MWLSThread").useThreadExn(i),s=r("useCommunityFolder")(l),c;return t[0]!==n||t[1]!==s||t[2]!==a||t[3]!==l?(c=s!=null?u.jsx(f,{folder:s,thread:l,children:u.jsx(_,{folder:s,node:a,thread:l})}):n,t[0]=n,t[1]=s,t[2]=a,t[3]=l,t[4]=c):c=t[4],c}function h(e){var t=o("react-compiler-runtime").c(13),n=e.entity,a=o("AdsMessengerContext.react").useAdsMessengerContext(),i=a.maybeGetCallbackFromURI,l,s;if(t[0]!==n.extraData||t[1]!==i){var c;l=(c=n.extraData.get("link"))!=null?c:"",s=i==null?void 0:i(l),t[0]=n.extraData,t[1]=i,t[2]=l,t[3]=s}else l=t[2],s=t[3];var d=s,m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x1s688f"},t[4]=m):m=t[4];var p;t[5]!==d||t[6]!==l?(p=function(){d!=null?d():r("goUriOnNewWindow")(l)},t[5]=d,t[6]=l,t[7]=p):p=t[7];var _;t[8]!==n.text?(_=u.jsx("u",{children:n.text}),t[8]=n.text,t[9]=_):_=t[9];var f;return t[10]!==p||t[11]!==_?(f=u.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:u.jsx("span",babelHelpers.extends({},m,{role:"gridcell",children:u.jsx(r("MWXLink.react"),{onClick:p,children:_})}))}),t[10]=p,t[11]=_,t[12]=f):f=t[12],f}var y=["Command",function(e){return u.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:u.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}],C=["Ai",function(e){return u.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:u.jsx("span",{className:"x1s688f",role:"gridcell",children:e})})}],b=[function(e,t){return u.jsx(h,{entity:t})}],v=["CommunityChannel",function(e,t){var n=u.jsx(o("MWMessageCellFocusTable.react").FocusTable[2],{children:u.jsx("span",{className:"x1s688f",role:"gridcell",children:e})});return"threadKey"in t?u.jsx(r("CometErrorBoundary.react"),{fallback:function(){return n},children:u.jsx(g,{communityLinkFallback:n,node:e,threadKey:t.threadKey})}):n}];function S(e,t,n){var a=o("react-compiler-runtime").c(25),i=r("useMWPLinkRendererFactory")(t),l=r("useMWPLinkRendererFactory")(!1),s;a[0]!==i||a[1]!==n?(s=i([p.underline],"chat_message_regular_link","Link",n),a[0]=i,a[1]=n,a[2]=s):s=a[2];var u;a[3]!==i?(u=i([p.underline],"chat_message_messenger_link","MessengerLink","_self"),a[3]=i,a[4]=u):u=a[4];var c;a[5]!==i||a[6]!==n?(c=i([p.bold,p.colorForLink],"profile_link","Profile",n),a[5]=i,a[6]=n,a[7]=c):c=a[7];var d;a[8]!==l||a[9]!==n?(d=l([p.bold,p.colorForLink],"thread_link","Thread",n),a[8]=l,a[9]=n,a[10]=d):d=a[10];var m;a[11]!==i||a[12]!==n?(m=i([p.highlight],"highlight","Highlight",n),a[11]=i,a[12]=n,a[13]=m):m=a[13];var _;a[14]!==s||a[15]!==u||a[16]!==c||a[17]!==d||a[18]!==m?(_=[s,u,c,d,m,y,C,v],a[14]=s,a[15]=u,a[16]=c,a[17]=d,a[18]=m,a[19]=_):_=a[19];var f=r("useMWPCombineTextRenderers")(_),g=e?o("MWChatTextFormatting").messageRenderer:o("MWChatTextFormatting").messageIncomingRenderer,h;a[20]!==g?(h=[g],a[20]=g,a[21]=h):h=a[21];var S;return a[22]!==f||a[23]!==h?(S=babelHelpers.extends({},f,{AdsAILinkFormatting:b,MessengerTextFormatting:h}),a[22]=f,a[23]=h,a[24]=S):S=a[24],S}l.default=S}),98);
__d("MWXMAAttachmentItemBodyText.react",["MWV2ChatTextParserUtils","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","useMWTextRenderers"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.bodyText,a=e.outgoing,i=r("useMWTextRenderers")(a,!1),l;t[0]!==n?(l=o("MWV2ChatTextParserUtils").findRanges(n,!0),t[0]=n,t[1]=l):l=t[1];var u=l,c;return t[2]!==n||t[3]!==u||t[4]!==i?(c=s.jsx(r("MWXText.react"),{color:"primary",type:"meta3",children:s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:u,renderers:i,text:n})}),t[2]=n,t[3]=u,t[4]=i,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWXMAAttachmentSourceTextDecoration.react",["ix","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(3),n=e.subtitleDecorationType,a,i;return t[0]!==n?(a=function(){switch((u||(u=o("LSIntEnum"))).toNumber(n)){case r("MNXMASubtitleDecorationType").MESSENGER_ICON:return c.jsx(r("MWXImage.react"),{height:12,objectFit:"contain",src:s("855857"),width:12});default:return null}},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),o("Int64Hooks").useMemoInt64(a,i)}l.default=d}),98);
__d("MWXMAAttachmentSubtitleDecoration.react",["FDSAppThreadsFilled16Icon","Int64Hooks","LSIntEnum","MNXMASubtitleDecorationType","MWXIcon_DEPRECATED.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.subtitleDecorationType,a,i;return t[0]!==n?(a=function(){switch((s||(s=o("LSIntEnum"))).toNumber(n)){case r("MNXMASubtitleDecorationType").THREADS_ICON:return u.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:r("FDSAppThreadsFilled16Icon")});default:return null}},i=[n],t[0]=n,t[1]=a,t[2]=i):(a=t[1],i=t[2]),o("Int64Hooks").useMemoInt64(a,i)}l.default=c}),98);
__d("MWXMALiveAttachmentItemMainText.react",["I64","LSIntEnum","LSVerifiedType","MWXIconBadgeCheckmark","MWXIconStrict.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.bodyLineLimit,i=e.facePileElement,l=e.headlineLineLimit,d=e.title,m;t[0]!==n.verifiedType?(m=n.verifiedType!=null?(s||(s=o("I64"))).equal(n.verifiedType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").DEFAULT)):!1,t[0]=n.verifiedType,t[1]=m):m=t[1];var p=m,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5 xl56j7k"},t[2]=_):_=t[2];var f;t[3]!==p?(f=p&&c.jsx("div",{className:"xdwrcjd",children:c.jsx(r("MWXIconStrict.react"),{color:"mds-accent",icon:r("MWXIconBadgeCheckmark"),size:12})}),t[3]=p,t[4]=f):f=t[4];var g;t[5]!==f||t[6]!==d?(g=c.jsxs("div",babelHelpers.extends({},_,{children:[d,f]})),t[5]=f,t[6]=d,t[7]=g):g=t[7];var h=g,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x193iq5w x126k92a xh8yej3"},t[8]=y):y=t[8];var C;t[9]!==n.captionBodyText||t[10]!==a||t[11]!==l||t[12]!==h?(C=c.jsx(r("MWXTextPairing.react"),{body:n.captionBodyText,bodyColor:"secondary",bodyLineLimit:a,headline:h,headlineLineLimit:l,level:4,testid:void 0,textAlign:"center"}),t[9]=n.captionBodyText,t[10]=a,t[11]=l,t[12]=h,t[13]=C):C=t[13];var b;return t[14]!==i||t[15]!==C?(b=c.jsxs("div",babelHelpers.extends({},y,{children:[C,i]})),t[14]=i,t[15]=C,t[16]=b):b=t[16],b}l.default=d}),98);
__d("MWXMAAttachmentItemMainText.react",["fbt","I64","LSIntEnum","LSVerifiedType","Locale","MNLSXMALayoutType","MNXMASubtitleDecorationType","MWXIconBadgeCheckmark","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXMAAttachmentItemBodyText.react","MWXMAAttachmentSourceTextDecoration.react","MWXMAAttachmentSubtitleDecoration.react","MWXMALiveAttachmentItemMainText.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","stylex","xmaAttachmentUtils","xmaLayouts"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p={hscroll:{paddingInlineEnd:"x1icxu4v",paddingInlineStart:"x25sj25",$$css:!0},root:{maxWidth:"x193iq5w",whiteSpace:"x126k92a",width:"xh8yej3",$$css:!0},withIcon:{paddingBottom:"xg8j3zb",paddingTop:"xyqdw3p",$$css:!0}};function _(t){var n,a=o("react-compiler-runtime").c(59),i=t.attachment,l=t.bodyLineLimit,u=t.bodyText,_=t.facePileElement,f=t.hasIcon,g=t.headlineLineLimit,h=t.isHscroll,y=t.outgoing,C=t.subtitleText,b=t.title,v=t.xmaLayout,S=y===void 0?!1:y,R;if(a[0]!==i.xmaLayoutType){var L;R=(c||(c=o("I64"))).equal((L=i.xmaLayoutType)!=null?L:(c||(c=o("I64"))).zero,(d||(d=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),a[0]=i.xmaLayoutType,a[1]=R}else R=a[1];var E=R;if(o("xmaAttachmentUtils").isLiveXMA(i)){var k=b!=null?b:"",I;return a[2]!==i||a[3]!==l||a[4]!==_||a[5]!==g||a[6]!==k?(I=m.jsx(r("MWXMALiveAttachmentItemMainText.react"),{attachment:i,bodyLineLimit:l,facePileElement:_,headlineLineLimit:g,title:k}),a[2]=i,a[3]=l,a[4]=_,a[5]=g,a[6]=k,a[7]=I):I=a[7],I}var T=o("Locale").isRTL()?r("MWXIconChevronLeft"):r("MWXIconChevronRight"),D;a[8]!==i.attachmentLoggingType||a[9]!==g||a[10]!==E||a[11]!==S||a[12]!==b?(D=b!==""?E?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1qughib",children:[m.jsx(r("MWXText.react"),{color:S?"white":"secondary",type:"meta2",children:b}),m.jsx(r("MWXIconStrict.react"),{color:S?"white":"secondary",icon:T,size:12})]}):m.jsx(r("MWXTextPairing.react"),{headline:b,headlineLineLimit:g,level:4,testid:void 0,textAlign:i.attachmentLoggingType==="xma_view_event"?"center":"start"}):null,a[8]=i.attachmentLoggingType,a[9]=g,a[10]=E,a[11]=S,a[12]=b,a[13]=D):D=a[13];var x=D,$;if(a[14]!==i.replyCount||a[15]!==l||a[16]!==_||a[17]!==E||a[18]!==S||a[19]!==C){var P,N;$=C!==""?E?m.jsxs("div",{className:"x6s0dn4 x78zum5 x1nhvcw1",children:[_,m.jsx("div",{className:"x1k70j0n",children:m.jsx(r("MWXText.react"),{color:S?"white":"secondary",type:"meta2",children:i.replyCount==null||(c||(c=o("I64"))).equal(i.replyCount,(c||(c=o("I64"))).zero)?C:(c||(c=o("I64"))).gt((P=i.replyCount)!=null?P:(c||(c=o("I64"))).zero,(c||(c=o("I64"))).of_int32(20))?s._(/*BTDS*/"20+ replies"):s._(/*BTDS*/"_j{\"*\":\"{number} replies\",\"_1\":\"1 reply\"}",[s._plural((c||(c=o("I64"))).to_int32((N=i.replyCount)!=null?N:(c||(c=o("I64"))).zero),"number")])})})]}):m.jsx("div",{className:"x889kno",children:m.jsx(r("MWXTextPairing.react"),{body:C,bodyColor:"secondary",bodyLineLimit:l,level:4,testid:void 0})}):null,a[14]=i.replyCount,a[15]=l,a[16]=_,a[17]=E,a[18]=S,a[19]=C,a[20]=$}else $=a[20];var M=$,w=(n=i.subtitleDecorationType)!=null?n:(c||(c=o("I64"))).zero,A;a[21]!==w?(A=(d||(d=o("LSIntEnum"))).toNumber(w)===r("MNXMASubtitleDecorationType").THREADS_ICON?m.jsx("div",{className:"x1xegmmw x1k70j0n",children:m.jsx(r("MWXMAAttachmentSubtitleDecoration.react"),{subtitleDecorationType:w})}):null,a[21]=w,a[22]=A):A=a[22];var F=A,O;a[23]!==i.captionBodyText?(O=i.captionBodyText!=null&&i.captionBodyText.length>0?m.jsx(r("MWXText.react"),{color:"primary",type:"meta3",children:i.captionBodyText}):null,a[23]=i.captionBodyText,a[24]=O):O=a[24];var B=O,W;a[25]!==u||a[26]!==S?(W=u!=null&&u.length>0?m.jsx(r("MWXMAAttachmentItemBodyText.react"),{bodyText:u,outgoing:S}):null,a[25]=u,a[26]=S,a[27]=W):W=a[27];var q=W,U;a[28]!==i.verifiedType?(U=i.verifiedType!=null?(c||(c=o("I64"))).equal(i.verifiedType,(d||(d=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").VERIFIED_FOOTER)):!1,a[28]=i.verifiedType,a[29]=U):U=a[29];var V=U,H;a[30]!==i.sourceText||a[31]!==w?(H=i.sourceText!=null?m.jsxs("div",{className:"x6s0dn4 x17zd0t2 x78zum5 x1q0g3np x889kno",children:[w!=null?m.jsx(r("MWXMAAttachmentSourceTextDecoration.react"),{subtitleDecorationType:w}):null,m.jsx(r("MWXText.react"),{color:"secondary",type:"meta3",children:i.sourceText})]}):null,a[30]=i.sourceText,a[31]=w,a[32]=H):H=a[32];var G=H,z;a[33]!==f||a[34]!==h?(z=(e||(e=r("stylex"))).props(p.root,f?p.withIcon:h?p.hscroll:!1),a[33]=f,a[34]=h,a[35]=z):z=a[35];var j;a[36]!==B||a[37]!==x||a[38]!==v?(j=v===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&x!==null?m.jsx("div",{className:"xahult9",children:x}):B!=null?m.jsx("div",{className:"x1e56ztr",children:x}):x,a[36]=B,a[37]=x,a[38]=v,a[39]=j):j=a[39];var K;a[40]===Symbol.for("react.memo_cache_sentinel")?(K={className:"x6s0dn4 x78zum5 x1q0g3np"},a[40]=K):K=a[40];var Q;a[41]!==V?(Q=V?m.jsx("div",{className:"x78zum5 xdwrcjd",children:m.jsx(r("MWXIconStrict.react"),{color:"highlight",icon:r("MWXIconBadgeCheckmark"),size:12})}):null,a[41]=V,a[42]=Q):Q=a[42];var X;a[43]!==B||a[44]!==Q?(X=m.jsxs("div",babelHelpers.extends({},K,{children:[B,Q]})),a[43]=B,a[44]=Q,a[45]=X):X=a[45];var Y;a[46]===Symbol.for("react.memo_cache_sentinel")?(Y={className:"x6s0dn4 x78zum5"},a[46]=Y):Y=a[46];var J;a[47]!==F||a[48]!==M?(J=m.jsxs("div",babelHelpers.extends({},Y,{children:[F,M]})),a[47]=F,a[48]=M,a[49]=J):J=a[49];var Z;a[50]!==q?(Z=q!=null&&m.jsx("div",{className:"x889kno",children:q}),a[50]=q,a[51]=Z):Z=a[51];var ee;return a[52]!==G||a[53]!==z||a[54]!==j||a[55]!==X||a[56]!==J||a[57]!==Z?(ee=m.jsxs("div",babelHelpers.extends({},z,{children:[j,X,J,Z,G]})),a[52]=G,a[53]=z,a[54]=j,a[55]=X,a[56]=J,a[57]=Z,a[58]=ee):ee=a[58],ee}l.default=_}),226);
__d("MWXMAEventFacepiles.react",["ALT_PLACEHOLDER_FIXME","FDSPressableFacepile.react","I64","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={facepile:{display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0},root_center_aligned:{display:"x78zum5",justifyContent:"xl56j7k",$$css:!0},root_start_aligned:{display:"x78zum5",justifyContent:"x1nhvcw1",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(17),a=t.avatarText,i=t.count,l=t.cta,s=t.size,m=t.urls,f=t.xstyle,g=s===void 0?32:s,h;n[0]!==i?(h=i!=null?(u||(u=o("I64"))).le(i,(u||(u=o("I64"))).of_int32(9)):!1,n[0]=i,n[1]=h):h=n[1];var y=h,C;n[2]!==(l==null?void 0:l.actionUrl)||n[3]!==y?(C=y?void 0:{target:"_blank",url:l==null?void 0:l.actionUrl},n[2]=l==null?void 0:l.actionUrl,n[3]=y,n[4]=C):C=n[4];var b=C,v;n[5]!==y||n[6]!==m?(v=y?m.map(_):m.slice(0,9).map(p),n[5]=y,n[6]=m,n[7]=v):v=n[7];var S=v,R=a==null?d.root_center_aligned:d.root_start_aligned,L;return n[8]!==a||n[9]!==i||n[10]!==b||n[11]!==R||n[12]!==g||n[13]!==S||n[14]!==m.length||n[15]!==f?(L=S.length>0?c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(R),{"data-testid":void 0,children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.facepile,f),{role:"gridcell",children:c.jsx(r("FDSPressableFacepile.react"),{count:i!=null?(u||(u=o("I64"))).to_int32(i):m.length,isOverlapping:!0,isTextInline:a!=null,items:S,linkProps:b,size:g,text:a!=null?c.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:a}):void 0})}))})):null,n[8]=a,n[9]=i,n[10]=b,n[11]=R,n[12]=g,n[13]=S,n[14]=m.length,n[15]=f,n[16]=L):L=n[16],L}function p(e){return{alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:e}}}function _(e){return{alt:r("ALT_PLACEHOLDER_FIXME"),source:{uri:e}}}l.default=m}),98);
__d("getLSMediaAttachmentAvatarViewUrlList",["I64","LSMediaUrlUtils","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.avatarViewUrlExpirationTimestampList,a=t.avatarViewUrlFallbackList,i=t.avatarViewUrlList;if(r("isStringNullOrEmpty")(i))return r("isStringNullOrEmpty")(n)?a!=null?a.split(", "):[]:[];if(r("isStringNullOrEmpty")(n))return[];if(a==null)return[];var l=i.split(", "),s=n.split(", "),u=a.split(", ");return l.map(function(t,n){var r;try{r=o("LSMediaUrlUtils").isTimestampExpired((e||(e=o("I64"))).of_string(s[n]))}catch(e){r=!0}if(r){var a;return(a=u[n])!=null?a:""}else return t})}l.default=s}),98);
__d("MWXMAAttachmentItemBody.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MDSTextPairing.react","MNLSXMALayoutType","MWLSThread","MWPAttachmentDataContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemCtaButton.react","MWXMAAttachmentItemIconWithPlaceholder.react","MWXMAAttachmentItemListItems.react","MWXMAAttachmentItemMainText.react","MWXMAEventFacepiles.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","react-compiler-runtime","stylex","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=u||(u=o("react")),p=u.useEffect,_={buttonHorizontal:{flex:"x98rzlu",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",width:"xj35x94",$$css:!0},buttonsOnly:{marginTop:"xdj266r",$$css:!0},buttonsWrapper:{justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},buttonsWrapperHorizontal:{display:"x78zum5",flexDirection:"x1q0g3np",justifySelf:"x1qab1bc",marginTop:"x14vqqas",$$css:!0},description:{display:"x78zum5",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",marginInlineEnd:"x2fvf9",$$css:!0},hasFavicon:{paddingInlineEnd:"xyri2b",paddingInlineStart:"x1c1uobl",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",justifyContent:"xl56j7k",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",minHeight:"xisnujt",$$css:!0},rootWithHeaderAndNoMedia:{marginTop:"xdj266r",$$css:!0},subthreadFacepiles:{marginInlineEnd:"x1sa5p1d",marginTop:"x1k70j0n",paddingTop:"xexx8yu",paddingBottom:"x18d9i69",$$css:!0},xmaUnifiedtyles:{marginInlineEnd:"x1ys307a",marginBottom:"x1yztbdb",marginInlineStart:"xyqm7xq",marginTop:"x14vqqas",$$css:!0}};function f(t){var n,a=o("react-compiler-runtime").c(30),l=t.attachment,u=t.attachmentItem,f=t.bodyLineLimit,S=t.buttonLayout,R=t.ctaPopoverMenu,L=t.facepiles,E=t.getFaviconUrlXMA,k=t.headlineLineLimit,I=t.isHscroll,T=t.isPressable,D=t.isSearchSingleBubblePlugin,x=t.isStandalone,$=t.mediaRenderQpl,P=t.onPollOptionFacepilePress,N=t.outgoing,M=t.xmaLayout,w=D===void 0?!1:D,A=N===void 0?!1:N,F=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(u),O=F.attachmentCta1,B=F.attachmentCta2,W=F.attachmentCta3,q;a[0]!==l||a[1]!==u?(q=!1,q=o("LSMediaUrlAttachment").faviconUrl(l)!=null||o("LSMediaUrlAttachmentItem").faviconUrl(u)!=null||l.hasXmaFavicon===!0,a[0]=l,a[1]=u,a[2]=q):q=a[2];var U;a[3]!==q||a[4]!==$?(U=function(){$==null||$.addPoint("render-xma-attachment-item-body",{bool:{has_icon:q}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_fav_icon",q)})},a[3]=q,a[4]=$,a[5]=U):U=a[5];var V;a[6]!==q||a[7]!==$?(V=[q,$],a[6]=q,a[7]=$,a[8]=V):V=a[8],p(U,V);var H;if(a[9]!==l.xmaLayoutType){var G;H=(c||(c=o("I64"))).equal((G=l.xmaLayoutType)!=null?G:(c||(c=o("I64"))).zero,(d||(d=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),a[9]=l.xmaLayoutType,a[10]=H}else H=a[10];var z=H,j=!u.titleText&&!u.subtitleText&&!q,K=u.titleText||!x?u.titleText:l.titleText,Q=u.subtitleText||!x?u.subtitleText:l.subtitleText,X=u.bodyText||!x?u.bodyText:l.bodyText,Y;a[11]!==l?(Y=r("getLSMediaAttachmentAvatarViewUrlList")(l),a[11]=l,a[12]=Y):Y=a[12];var J=Y,Z;a[13]!==l.avatarCount||a[14]!==l.avatarViewContextText||a[15]!==O||a[16]!==J||a[17]!==L||a[18]!==z?(Z=L!=null?L:J.length!==0&&!z?[m.jsx(r("MWXMAEventFacepiles.react"),{avatarText:l.avatarViewContextText,count:l.avatarCount,cta:O,urls:J},"xma-event-facepiles")]:[],a[13]=l.avatarCount,a[14]=l.avatarViewContextText,a[15]=O,a[16]=J,a[17]=L,a[18]=z,a[19]=Z):Z=a[19];var ee=Z,te=!K&&!Q?[]:[m.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:l,attachmentItem:u,isPressable:T,children:m.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.description,q!=null?q:_.hasFavicon),{children:[m.jsx(r("MWXMAAttachmentItemIconWithPlaceholder.react"),{attachment:l,attachmentItem:u,getFaviconUrlXMA:E,mediaRenderQpl:$}),m.jsx(r("MWXMAAttachmentItemMainText.react"),{attachment:l,bodyLineLimit:f,bodyText:X,facePileElement:(c||(c=o("I64"))).equal((n=l.avatarCount)!=null?n:(c||(c=o("I64"))).zero,(c||(c=o("I64"))).zero)?null:m.jsx(r("MWXMAEventFacepiles.react"),{avatarText:l.avatarViewContextText,count:l.avatarCount,cta:O,size:24,urls:J,xstyle:_.subthreadFacepiles}),hasIcon:q,headlineLineLimit:k,isHscroll:I,isStandalone:x,outgoing:A,subtitleText:Q!=null?Q:"",title:K!=null?K:"",xmaLayout:M})]}))},"xma-action-trigger")],ne=l.listItemsDescriptionText,re=l.listItemsDescriptionSubtitleText,oe=l.cta2IconType,ae=l.cta3IconType,ie=l.listItemId1,le=l.listItemsSecondaryDescriptionText,se=l.messageId,ue=l.threadKey,ce=u.cta1IconType,de=u.cta1Title,me=u.cta1Type,pe=u.cta2Title,_e=u.cta2Type,fe=u.cta3Title,ge=u.cta3Type,he=me!=null&&de!=null&&O!=null?[m.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(S==="horizontal"?_.buttonsWrapperHorizontal:_.buttonsWrapper,j?_.buttonsOnly:!1),{key:"xma-cta-button"}),m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(S==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:O,ctaIconType:ce,messageId:se,threadKey:ue,title:de,type:me})})),_e!=null&&pe!=null&&B!=null?m.jsxs(m.Fragment,{children:[m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(S==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:B,ctaIconType:oe,messageId:se,popoverMenu:R,threadKey:ue,title:pe,type:_e})})),ge!=null&&fe!=null&&W!=null?m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(S==="horizontal"?_.buttonHorizontal:!1),{children:m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:W,ctaIconType:ae,messageId:se,threadKey:ue,title:fe,type:ge})})):null]}):null)]:[],ye=ne!=null?[m.jsx(C,{headlineLineLimit:k,listItemsDescriptionText:ne},"xma-list-items-description-text")]:[],Ce=re!=null?[m.jsx(b,{bodyLineLimit:f,value:re},"xma-list-items-description-subtitle-text")]:[],be=ie!=null?[m.jsx(r("MWXMAAttachmentItemListItems.react"),{attachment:l,onPollOptionFacepilePress:P},"list-item-1")]:[],ve=le!=null?[m.jsx(v,{bodyLineLimit:f,listItemsSecondaryDescriptionText:le},"xma-list-items-secondary-description-text")]:[],Se=[te,ye,Ce,ee,be,ve,he].reduce(y,[]),Re;Re=o("LSMediaUrlAttachment").previewUrl(l)!=null||o("LSMediaUrlAttachmentItem").playableUrl(u)!=null||o("LSMediaUrlAttachmentItem").previewUrl(u)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(u)!=null||l.hasXmaPreview===!0;var Le=(s||(s=r("useReStore")))(),Ee=o("MWLSThread").useThread(ue,h),ke;a[20]!==l.messageId||a[21]!==Le.tables.messages?(ke=function(){return o("ReQL").fromTableAscending(Le.tables.messages.index("messageId")).getKeyRange(l.messageId)},a[20]=l.messageId,a[21]=Le.tables.messages,a[22]=ke):ke=a[22];var Ie;a[23]!==l.messageId||a[24]!==Le?(Ie=[Le,l.messageId],a[23]=l.messageId,a[24]=Le,a[25]=Ie):Ie=a[25];var Te=o("ReQLSuspense").useFirst(ke,Ie,i.id+":406"),De;a[26]!==l||a[27]!==Te||a[28]!==Ee?(De={attachment:l,clickCategory:1,message:Te,threadType:Ee},a[26]=l,a[27]=Te,a[28]=Ee,a[29]=De):De=a[29];var xe=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(De);return w||Se.length===0?null:m.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.root,M===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?_.xmaUnifiedtyles:!1,M!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&!Re&&l.headerTitle!=null?_.rootWithHeaderAndNoMedia:!1),{ref:xe,children:Se.map(g)}))}function g(e,t){return m.jsx(m.Fragment,{children:e},String(t))}g.displayName=g.name+" [from "+i.id+"]";function h(e){return e.threadType}function y(e,t){return e.concat(t)}function C(e){var t=o("react-compiler-runtime").c(4),n=e.headlineLineLimit,a=e.listItemsDescriptionText,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 x1q0g3np x1iyjqo2 xl56j7k x2fvf9"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{headline:a,headlineLineLimit:n,level:4,textAlign:"center"})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function b(e){var t=o("react-compiler-runtime").c(4),n=e.bodyLineLimit,a=e.value,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 xl56j7k xwib8y2 x889kno"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:n,level:4,textAlign:"center"})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function v(e){var t=o("react-compiler-runtime").c(4),n=e.bodyLineLimit,a=e.listItemsSecondaryDescriptionText,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"xod5an3"},t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=m.jsx("div",babelHelpers.extends({},i,{children:m.jsx(r("MDSTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:n,level:4})})),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}l.default=f}),98);
__d("MWXMAAttachmentItemImageDimensionCalculator",["I64","LSIntEnum","MNLSXMALayoutType","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i,l){var u=n.previewWidth!=null?(e||(e=o("I64"))).to_int32(n.previewWidth):0,c=t.previewWidth!=null?(e||(e=o("I64"))).to_int32(t.previewWidth):0,d=t.previewWidthLarge!=null?(e||(e=o("I64"))).to_int32(t.previewWidthLarge):0,m=u>0?u:c>0?c:d,p=n.previewHeight!=null?(e||(e=o("I64"))).to_int32(n.previewHeight):0,_=t.previewHeight!=null?(e||(e=o("I64"))).to_int32(t.previewHeight):0,f=t.previewHeightLarge!=null?(e||(e=o("I64"))).to_int32(t.previewHeightLarge):0,g=p>0?p:_>0?_:f,h=n.defaultCtaType,y;h==="xma_montage_share"?y=!0:y=n.imageUrl==null?l:m===g;var C=m!==0&&g!==0?m/(g*1):0;t.xmaLayoutType!=null&&(e||(e=o("I64"))).equal(t.xmaLayoutType,(s||(s=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA))&&(C===0&&(C=2),y=!0);var b=a,v={height:C===0?106:b/C,width:b},S={};i===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&(g>m&&(v.height=b,v.width=C===0?106:b*C),S={aspectRatio:void 0,flexGrow:"0",height:v.height.toString()+"px",margin:"auto",width:v.width.toString()+"px"});var R={height:(C===0?b-106:b/C).toString()+"px",width:b.toString()+"px"};return{aspectRatio:C,dimensions:v,dimensionsStyle:{height:v.height.toString()+"px",width:v.width.toString()+"px"},expand:y,informedTreatmentCardDimension:R,unifiedStyles:S}}l.calculateDimensions=u}),98);
__d("MWXMAEarlyAccessOverlay.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXColumn.react","MWXColumnItem.react","MWXIconClock","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","ServerTime","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useEffect,_=m.useMemo,f=m.useState,g={pill:{backgroundColor:"xatbrnm",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("ServerTime").getMillis(),t[0]=a):a=t[0];var i=f(a),l=i[0],m=i[1],_;t[1]!==n.previewImageDecorationType||t[2]!==n.previewOverlayCountdownExpiry?(_=function(){if(n.previewOverlayCountdownExpiry!=null&&n.previewImageDecorationType!==null&&(u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").PILL))){var e=window.setInterval(function(){m(o("ServerTime").getMillis())},1e3);return(function(){return window.clearInterval(e)})}},t[1]=n.previewImageDecorationType,t[2]=n.previewOverlayCountdownExpiry,t[3]=_):_=t[3];var h;t[4]!==n.previewImageDecorationType||t[5]!==n.previewOverlayCountdownExpiry||t[6]!==l?(h=[n.previewImageDecorationType,n.previewOverlayCountdownExpiry,l],t[4]=n.previewImageDecorationType,t[5]=n.previewOverlayCountdownExpiry,t[6]=l,t[7]=h):h=t[7],p(_,h);var y;e:{var C=n.previewOverlayCountdownExpiry;if(C!=null){var b=(u||(u=o("I64"))).to_float(C)*1e3-l,v=Math.floor(b/36e5),S=Math.floor(b/6e4)%60,R=Math.floor(b/1e3)%60;if(v<0&&S<0&&R<0){y=null;break e}var L;t[8]!==v||t[9]!==S||t[10]!==R?(L=v?s._(/*BTDS*/"{hours}h early access",[s._param("hours",v)]):S?s._(/*BTDS*/"{minutes}m early access",[s._param("minutes",S)]):R?s._(/*BTDS*/"{seconds}s early access",[s._param("seconds",R)]):null,t[8]=v,t[9]=S,t[10]=R,t[11]=L):L=t[11],y=L;break e}y=void 0}var E=y;if(n.previewImageDecorationType==null)return null;if((u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").BLUR))){var k;t[12]===Symbol.for("react.memo_cache_sentinel")?(k={className:"x1h6ucep x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy"},t[12]=k):k=t[12];var I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=d.jsx(r("MWXColumnItem.react"),{align:"center",children:d.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconClock"),size:20})}),t[13]=I):I=t[13];var T;return t[14]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx("div",babelHelpers.extends({},k,{children:d.jsx(r("MWXRow.react"),{align:"center",expanding:!0,children:d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsxs(r("MWXColumn.react"),{spacing:16,children:[I,d.jsx(r("MWXColumnItem.react"),{align:"center",children:d.jsx(r("MWXText.react"),{color:"white",type:"body2",children:s._(/*BTDS*/"Join for early access")})})]})})})})),t[14]=T):T=t[14],T}if((u||(u=o("I64"))).equal(n.previewImageDecorationType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").PILL))){var D;return t[15]!==E?(D=E!=null&&d.jsx("div",{className:"x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:d.jsx(r("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:d.jsxs(r("MWXRow.react"),{paddingHorizontal:8,paddingVertical:0,spacingHorizontal:4,xstyle:g.pill,children:[d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconClock"),size:16})}),d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXText.react"),{color:"white",type:"body4",children:E})})]})})}),t[15]=E,t[16]=D):D=t[16],D}return null}l.default=h}),226);
__d("MWXIconLive",["MWXSvgIcon","SVGIcon","cr:22387","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22387")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMALivePill.react",["fbt","I64","LSIntEnum","MNXMAPreviewImageDecorationType","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m={pill:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",paddingTop:"x1nn3v0j",paddingBottom:"x1120s5i",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,textTransform:"xtvhhri",$$css:!0},pillLive:{backgroundColor:"x1cdvf7c",$$css:!0},pillLiveEnded:{backgroundColor:"x2bj2ny",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(8),n=e.previewImageDecorationType,a=(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED)),i=a?m.pillLiveEnded:m.pillLive,l;t[0]!==i?(l=[m.pill,i],t[0]=i,t[1]=l):l=t[1];var p=a?"primary":"white",_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=s._(/*BTDS*/"LIVE"),t[2]=_):_=t[2];var f;t[3]!==p?(f=d.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:d.jsx(r("MWXText.react"),{color:p,type:"bodyLink4",children:_})}),t[3]=p,t[4]=f):f=t[4];var g;return t[5]!==l||t[6]!==f?(g=d.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,xstyle:l,children:f}),t[5]=l,t[6]=f,t[7]=g):g=t[7],g}l.default=p}),226);
__d("MWXMALiveOverlay.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXIconLive","MWXIconStrict.react","MWXMALivePill.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=e.isUnjoined,i=n.previewImageDecorationType;if(i==null)return null;var l=o("xmaAttachmentUtils").isLiveXMA(n),c;t[0]!==i?(c=u.jsx(r("MWXMALivePill.react"),{previewImageDecorationType:i}),t[0]=i,t[1]=c):c=t[1];var d=c;if(l){var m;return t[2]!==a||t[3]!==d?(m=a?u.jsx("div",{className:"x1h6ucep x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,children:u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:u.jsxs(r("MWXColumn.react"),{spacing:16,children:[u.jsx(r("MWXColumnItem.react"),{align:"center",children:u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconLive"),size:36})}),u.jsx(r("MWXColumnItem.react"),{align:"center",children:u.jsx(r("MWXText.react"),{color:"primaryOnMedia",type:"body2",children:s._(/*BTDS*/"Join to see live video")})})]})})})}):u.jsx("div",{className:"x1ey2m1c x78zum5 xtijo5x x1o0tod x10l6tqk x13vifvy",children:u.jsx(r("MWXRow.react"),{align:"end",expanding:!0,verticalAlign:"top",children:u.jsx(r("MWXRowItem.react"),{children:d})})}),t[2]=a,t[3]=d,t[4]=m):m=t[4],m}return null}l.default=c}),226);
__d("MWXMAAttachmentItemImage.react",["FDSImageCover.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MAWImageUtils","MNXMAPreviewImageDecorationType","MWInformedTreatment.react","MWXMAAttachmentItemImageDimensionCalculator","MWXMAEarlyAccessOverlay.react","MWXMALiveOverlay.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useRef,f=m.useState;function g(t){var n,a,l=o("react-compiler-runtime").c(70),c=t.attachment,m=t.attachmentItem,g=t.cardWidth,h=t.isStandalone,y=t.mediaRenderQpl,C=t.previewUrl,b=t.testid,v=t.xmaLayout,S=(e||(e=r("useReStore")))(),R;l[0]!==c.threadKey||l[1]!==S.tables.threads?(R=function(){return o("ReQL").fromTableAscending(S.tables.threads,["threadType"]).getKeyRange(c.threadKey)},l[0]=c.threadKey,l[1]=S.tables.threads,l[2]=R):R=l[2];var L;l[3]!==c.threadKey||l[4]!==S?(L=[S,c.threadKey],l[3]=c.threadKey,l[4]=S,l[5]=L):L=l[5];var E=o("ReQLSuspense").useFirst(R,L,i.id+":63"),k=f(C),I=k[0],T=k[1],D,x;l[6]!==C?(D=function(){T(C)},x=[C],l[6]=C,l[7]=D,l[8]=x):(D=l[7],x=l[8]),p(D,x);var $;l[9]!==E?($=E!=null&&o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(E==null?void 0:E.threadType),l[9]=E,l[10]=$):$=l[10];var P=$,N;l[11]!==E?(N=E!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(E.threadType),l[11]=E,l[12]=N):N=l[12];var M=N,w=c.gatingTitle,A=c.gatingType,F=o("MWInformedTreatment.react").checkIsInformedTreatmentVisible(w,A,C,E==null?void 0:E.threadType),O=o("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(c,m,g,v,h),B;l[13]!==c.previewImageDecorationType?(B=c.previewImageDecorationType!=null&&(s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").BLUR)),l[13]=c.previewImageDecorationType,l[14]=B):B=l[14];var W=B,q;l[15]!==c.previewImageDecorationType||l[16]!==P?(q=P&&c.previewImageDecorationType!=null&&((s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE))||(s||(s=o("I64"))).equal(c.previewImageDecorationType,(u||(u=o("LSIntEnum"))).ofNumber(r("MNXMAPreviewImageDecorationType").DXMA_LIVE_ENDED))),l[15]=c.previewImageDecorationType,l[16]=P,l[17]=q):q=l[17];var U=q,V;l[18]!==W||l[19]!==U?(V=W||U?{filter:"blur(15px)",transform:"scale(1.1)"}:{},l[18]=W,l[19]=U,l[20]=V):V=l[20];var H=V,G=_(null),z,j;if(l[21]!==y?(z=function(){var e=G.current;e!=null&&e.complete&&(y==null||y.endSuccessAfterDelay())},j=[y],l[21]=y,l[22]=z,l[23]=j):(z=l[22],j=l[23]),p(z,j),C.length===0||C==="")return y==null||y.endFailAfterDelay("empty_preview_url"),null;var K=m.previewUrlMimeType==="image/gif"||C.includes("tenor")||((n=m.titleText)==null?void 0:n.includes("tenor"))||C.includes("giphy")||((a=m.titleText)==null?void 0:a.includes("giphy")),Q=M===!1&&c.hasXma===!0&&K===!0&&I===C&&C!=null&&C!=="";if(Q){var X=o("MAWImageUtils").generateGIFThumbnail(C,O.dimensions.height,O.dimensions.width);X!=null&&r("promiseDone")(X,function(e){if(e!=null&&e.jpegThumbnail!=null){var t=new Blob([e.jpegThumbnail]),n=URL.createObjectURL(t);n!=null&&n!==""&&T(n)}})}var Y;l[24]!==A||l[25]!==M?(Y=M?o("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(A,10)):A,l[24]=A,l[25]=M,l[26]=Y):Y=l[26];var J=Y;if(w!=null&&J!=null&&F){var Z;return l[27]!==c.messageId||l[28]!==O.informedTreatmentCardDimension||l[29]!==w||l[30]!==J||l[31]!==y||l[32]!==I?(Z=d.jsx(o("MWInformedTreatment.react").MWInformedTreatment,{dimension:O.informedTreatmentCardDimension,gatingTitle:w,gatingType:J,isXMA:!0,mediaRenderQpl:y,messageId:c.messageId,previewUrl:I}),l[27]=c.messageId,l[28]=O.informedTreatmentCardDimension,l[29]=w,l[30]=J,l[31]=y,l[32]=I,l[33]=Z):Z=l[33],Z}if(O.expand){var ee;l[34]===Symbol.for("react.memo_cache_sentinel")?(ee={className:"x78zum5 x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 xh8yej3"},l[34]=ee):ee=l[34];var te,ne;l[35]!==y?(te=function(){return y==null?void 0:y.endFailAfterDelay("load-image-error")},ne=function(){return y==null?void 0:y.endSuccessAfterDelay()},l[35]=y,l[36]=te,l[37]=ne):(te=l[36],ne=l[37]);var re;l[38]!==H||l[39]!==O.aspectRatio||l[40]!==O.unifiedStyles?(re=babelHelpers.extends({aspectRatio:O.aspectRatio,flexGrow:"1",height:"auto",maxWidth:"100%",objectFit:"cover"},O.unifiedStyles,H),l[38]=H,l[39]=O.aspectRatio,l[40]=O.unifiedStyles,l[41]=re):re=l[41];var oe;l[42]!==te||l[43]!==ne||l[44]!==re||l[45]!==I?(oe=d.jsx("img",{alt:"",onError:te,onLoad:ne,ref:G,src:I,style:re}),l[42]=te,l[43]=ne,l[44]=re,l[45]=I,l[46]=oe):oe=l[46];var ae;l[47]!==c?(ae=d.jsx(r("MWXMAEarlyAccessOverlay.react"),{attachment:c}),l[47]=c,l[48]=ae):ae=l[48];var ie;l[49]!==c||l[50]!==P?(ie=d.jsx(r("MWXMALiveOverlay.react"),{attachment:c,isUnjoined:P}),l[49]=c,l[50]=P,l[51]=ie):ie=l[51];var le;return l[52]!==oe||l[53]!==ae||l[54]!==ie||l[55]!==b?(le=d.jsxs("div",babelHelpers.extends({},ee,{"data-testid":void 0,children:[oe,ae,ie]})),l[52]=oe,l[53]=ae,l[54]=ie,l[55]=b,l[56]=le):le=l[56],le}var se;l[57]===Symbol.for("react.memo_cache_sentinel")?(se="x78zum5 x1iyjqo2 x6ikm8r x10wlt62 x1n2onr6 xh8yej3",l[57]=se):se=l[57];var ue,ce;l[58]!==y?(ue=function(){return y==null?void 0:y.endFailAfterDelay("load-image-error")},ce=function(){return y==null?void 0:y.endSuccessAfterDelay()},l[58]=y,l[59]=ue,l[60]=ce):(ue=l[59],ce=l[60]);var de;l[61]===Symbol.for("react.memo_cache_sentinel")?(de={bottom:"0",left:"0",position:"absolute",right:"0",top:"0"},l[61]=de):de=l[61];var me;l[62]!==ue||l[63]!==ce||l[64]!==I?(me=d.jsx(r("FDSImageCover.react"),{alt:"",onError:ue,onLoad:ce,src:I,style:de}),l[62]=ue,l[63]=ce,l[64]=I,l[65]=me):me=l[65];var pe;return l[66]!==O.dimensionsStyle||l[67]!==me||l[68]!==b?(pe=d.jsx("div",{className:se,"data-testid":void 0,style:O.dimensionsStyle,children:me}),l[66]=O.dimensionsStyle,l[67]=me,l[68]=b,l[69]=pe):pe=l[69],pe}l.default=g}),98);
__d("MWXMAAttachmentItemDefaultImagePreview.react",["CometPlaceholder.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemImage.react","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(20),n=e.attachment,a=e.attachmentItem,i=e.attachmentPreview,l=e.cardWidth,c=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.renderLoadingPlaceholder,f=e.xmaLayout,g,h;if(t[0]!==i.url||t[1]!==p?(g=function(){p==null||p.addPoint("render-xma-attachment-item-default-image-preview",{bool:{has_attachment_preview_url:!!i.url}}),i.url||p==null||p.endFailAfterDelay("image-missing-preview-url")},h=[i.url,p],t[0]=i.url,t[1]=p,t[2]=g,t[3]=h):(g=t[2],h=t[3]),u(g,h),!i.url)return null;var y;t[4]!==_?(y=_("MWXMAAttachmentItemDefaultImagePreview.Suspense",!0),t[4]=_,t[5]=y):y=t[5];var C;t[6]!==i.url?(C=r("nullthrows")(i.url),t[6]=i.url,t[7]=C):C=t[7];var b;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==c||t[12]!==m||t[13]!==p||t[14]!==C||t[15]!==f?(b=s.jsx(d,{attachment:n,attachmentItem:a,cardWidth:l,isPressable:c,isStandalone:m,mediaRenderQpl:p,previewUrl:C,xmaLayout:f}),t[8]=n,t[9]=a,t[10]=l,t[11]=c,t[12]=m,t[13]=p,t[14]=C,t[15]=f,t[16]=b):b=t[16];var v;return t[17]!==y||t[18]!==b?(v=s.jsx(r("CometPlaceholder.react"),{fallback:y,name:"MWXMAAttachmentItemDefaultImagePreview",children:b}),t[17]=y,t[18]=b,t[19]=v):v=t[19],v}function d(e){var t=o("react-compiler-runtime").c(16),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.isPressable,c=e.isStandalone,d=e.mediaRenderQpl,m=e.previewUrl,p=e.xmaLayout,_,f;t[0]!==d?(_=function(){d==null||d.addPoint("render-xma-attachment-item-default-image-preview-impl")},f=[d],t[0]=d,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p?(g=s.jsx(r("MWXMAAttachmentItemImage.react"),{attachment:n,attachmentItem:a,cardWidth:i,isStandalone:c,mediaRenderQpl:d,previewUrl:m,testid:void 0,xmaLayout:p}),t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=g):g=t[10];var h;return t[11]!==n||t[12]!==a||t[13]!==l||t[14]!==g?(h=s.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:n,attachmentItem:a,isPressable:l,children:g}),t[11]=n,t[12]=a,t[13]=l,t[14]=g,t[15]=h):h=t[15],h}l.default=c}),98);
__d("MWXMAAttachmentItemDefaultUnsupportedPreview.react",["MWXMALivePill.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.mediaRenderQpl,i=n.previewImageDecorationType,l;t[0]!==n?(l=o("xmaAttachmentUtils").isLiveXMA(n),t[0]=n,t[1]=l):l=t[1];var c=l,d,m;if(t[2]!==n||t[3]!==c||t[4]!==a||t[5]!==i?(d=function(){a==null||a.addPoint("render-xma-attachment-item-default-unsupported-preview",{bool:{has_preview_image_decoration_type:i!=null,is_live_xma:c}}),o("xmaAttachmentUtils").isLiveXMA(n)&&i!=null?a==null||a.endSuccessAfterDelay():a==null||a.endFailAfterDelay("missing-xma-media")},m=[n,c,a,i],t[2]=n,t[3]=c,t[4]=a,t[5]=i,t[6]=d,t[7]=m):(d=t[6],m=t[7]),u(d,m),o("xmaAttachmentUtils").isLiveXMA(n)&&i!=null){var p;t[8]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x78zum5 xzueoph x11t971q xvc5jky xhrpt6u"},t[8]=p):p=t[8];var _;return t[9]!==i?(_=s.jsx("div",babelHelpers.extends({},p,{children:s.jsx(r("MWXMALivePill.react"),{previewImageDecorationType:i})})),t[9]=i,t[10]=_):_=t[10],_}return null}l.default=c}),98);
__d("MWXMAAttachmentItemAttribution.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,r=n,a=r.attributionAppIcon,i=r.attributionAppName;if(a!=null&&i!=null){var l,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x1vmbcc8 x16xm01d x78zum5 x1rfph6h x1iorvi4 x1icxu4v xjkvuk6 x25sj25"},u={className:"x1c9tyrk xeusxvb x1pahc9y x1ertn4p xlup9mm x1kky2od"},t[0]=l,t[1]=u):(l=t[0],u=t[1]);var c;t[2]!==a?(c=s.jsx("img",babelHelpers.extends({},u,{src:a})),t[2]=a,t[3]=c):c=t[3];var d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xzsf02u x1nxh6w3 xdzw4kq x13faqbe"},t[4]=d):d=t[4];var m;t[5]!==i?(m=s.jsx("span",babelHelpers.extends({},d,{children:i})),t[5]=i,t[6]=m):m=t[6];var p;return t[7]!==c||t[8]!==m?(p=s.jsxs("div",babelHelpers.extends({},l,{children:[c,m]})),t[7]=c,t[8]=m,t[9]=p):p=t[9],p}return null}l.default=u}),98);
__d("MWXMAAttachmentItemDefaultVideoPreview.react",["CometObjectFitContainer.react","CometPlaceholder.react","I64","MWXGlimmer.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemAttribution.react","deferredLoadComponent","nullthrows","react","react-compiler-runtime","requireDeferredForDisplay"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useEffect,d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWChatVideoPlayer.react").__setRef("MWXMAAttachmentItemDefaultVideoPreview.react")),m={glimmer:{height:"x5yr21d",position:"x10l6tqk",width:"xh8yej3",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.attachmentItem,i=e.attachmentPreview,l=e.isPressable,s=e.mediaRenderQpl,d=e.renderLoadingPlaceholder,m,p;if(t[0]!==i.url||t[1]!==s?(m=function(){s==null||s.addPoint("render-xma-attachment-item-default-video-preview",{bool:{has_attachment_preview_url:!!i.url}}),i.url||s==null||s.endFailAfterDelay("video-missing-preview-url")},p=[i.url,s],t[0]=i.url,t[1]=s,t[2]=m,t[3]=p):(m=t[2],p=t[3]),c(m,p),!i.url)return null;var f;t[4]!==d?(f=d("MWXMAAttachmentItemDefaultVideoPreview.Suspense",!0),t[4]=d,t[5]=f):f=t[5];var g;t[6]!==i.url?(g=r("nullthrows")(i.url),t[6]=i.url,t[7]=g):g=t[7];var h;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==s||t[12]!==g?(h=u.jsx(_,{attachment:n,attachmentItem:a,isPressable:l,mediaRenderQpl:s,playableUrl:g}),t[8]=n,t[9]=a,t[10]=l,t[11]=s,t[12]=g,t[13]=h):h=t[13];var y;return t[14]!==f||t[15]!==h?(y=u.jsx(r("CometPlaceholder.react"),{fallback:f,name:"MWXMAAttachmentItemDefaultVideoPreview",children:h}),t[14]=f,t[15]=h,t[16]=y):y=t[16],y}function _(e){var t,n=o("react-compiler-runtime").c(26),a=e.attachment,i=e.attachmentItem,l=e.isPressable,m=e.mediaRenderQpl,p=e.playableUrl,_,f;n[0]!==m?(_=function(){m==null||m.addPoint("render-xma-attachment-item-default-video-preview-impl")},f=[m],n[0]=m,n[1]=_,n[2]=f):(_=n[1],f=n[2]),c(_,f);var h=(t=a.shouldAutoplayVideo)!=null?t:!1,y=h?"none":"mwchat",C;n[3]!==i.previewHeight?(C=i.previewHeight!=null?(s||(s=o("I64"))).to_int32(i.previewHeight):0,n[3]=i.previewHeight,n[4]=C):C=n[4];var b;n[5]!==i.previewWidth?(b=i.previewWidth!=null?(s||(s=o("I64"))).to_int32(i.previewWidth):0,n[5]=i.previewWidth,n[6]=b):b=n[6];var v;n[7]!==i.attachmentFbid||n[8]!==m||n[9]!==p||n[10]!==y||n[11]!==C||n[12]!==b?(v=u.jsx(d,{controls:y,fbid:i.attachmentFbid,hideExpandButton:!1,mediaRenderQpl:m,originalHeight:C,originalWidth:b,sdSrc:p,shouldForcePauseOnClick:!0}),n[7]=i.attachmentFbid,n[8]=m,n[9]=p,n[10]=y,n[11]=C,n[12]=b,n[13]=v):v=n[13];var S;n[14]!==i||n[15]!==v?(S=u.jsx(g,{attachmentItem:i,testid:void 0,children:v}),n[14]=i,n[15]=v,n[16]=S):S=n[16];var R;n[17]!==a||n[18]!==h?(R=h?u.jsx(r("MWXMAAttachmentItemAttribution.react"),{attachment:a}):null,n[17]=a,n[18]=h,n[19]=R):R=n[19];var L;return n[20]!==a||n[21]!==i||n[22]!==l||n[23]!==S||n[24]!==R?(L=u.jsxs(r("MWXMAAttachmentActionTrigger.react"),{attachment:a,attachmentItem:i,isPressable:l,children:[S,R]}),n[20]=a,n[21]=i,n[22]=l,n[23]=S,n[24]=R,n[25]=L):L=n[25],L}function f(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=u.jsx("div",{className:"x78zum5 x5yr21d x6ikm8r x10wlt62 x10l6tqk xh8yej3",children:u.jsx(r("MWXGlimmer.react"),{index:0,xstyle:m.glimmer})}),e[0]=t):t=e[0],t}function g(e){var t,n,a=o("react-compiler-runtime").c(7),i=e.attachmentItem,l=e.children,c=e.testid,d=(s||(s=o("I64"))).to_int32((t=i.previewWidth)!=null?t:(s||(s=o("I64"))).zero),m=s.to_int32((n=i.previewHeight)!=null?n:(s||(s=o("I64"))).zero),p=d!==0&&m!==0?d/m:0,_=m>250&&p<.8,g=_?.8:p,h;a[0]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(f,{}),a[0]=h):h=a[0];var y;a[1]!==l?(y=u.jsx(r("CometPlaceholder.react"),{fallback:h,name:"MWXMAAttachmentItemVideoContainer",children:l}),a[1]=l,a[2]=y):y=a[2];var C;return a[3]!==g||a[4]!==y||a[5]!==c?(C=u.jsx(r("CometObjectFitContainer.react"),{contentAspectRatio:g,testid:void 0,children:y}),a[3]=g,a[4]=y,a[5]=c,a[6]=C):C=a[6],C}l.default=p}),98);
__d("MWXMAAttachmentItemDefaultPreviewInner.react",["InteractionTracingMetrics","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWXMAAttachmentItemDefaultImagePreview.react","MWXMAAttachmentItemDefaultUnsupportedPreview.react","MWXMAAttachmentItemDefaultVideoPreview.react","react","react-compiler-runtime","xmaAttachmentUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(43),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.getPreviewUrlXMA,c=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.renderLoadingPlaceholder,f=e.xmaLayout,g=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=g==="Inbox",y;t[0]!==n||t[1]!==a||t[2]!==l||t[3]!==h||t[4]!==p?(y=o("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:n,attachmentItem:a,description:"MWXMAAttachmentItemDefaultPreviewImpl",getPreviewUrl:l,mediaRenderQpl:p,preferLargePreview:h}),t[0]=n,t[1]=a,t[2]=l,t[3]=h,t[4]=p,t[5]=y):y=t[5];var C=y,b=(C.type==="Video"||C.type==="Image")&&C.url.length>0,v;t[6]!==n?(v=o("xmaAttachmentUtils").isLiveXMA(n),t[6]=n,t[7]=v):v=t[7];var S=v,R,L;switch(t[8]!==n||t[9]!==a||t[10]!==C.hasPlayableUrl||t[11]!==C.hasPreviewUrl||t[12]!==C.mimeType||t[13]!==C.playableUrlMimeType||t[14]!==C.type||t[15]!==C.url||t[16]!==l||t[17]!==b||t[18]!==h||t[19]!==S||t[20]!==p?(R=function(){p==null||p.addPoint("render-xma-attachment-item-default-preview-impl",{bool:{attachment_has_playable_url:!!o("LSMediaUrlAttachment").playableUrl(n),attachment_has_preview_url:!!o("LSMediaUrlAttachment").previewUrl(n),attachment_has_preview_url_large:!!o("LSMediaUrlAttachment").previewUrlLarge(n),attachment_item_has_playable_url:!!o("LSMediaUrlAttachmentItem").playableUrl(a),attachment_item_has_preview_url:!!o("LSMediaUrlAttachmentItem").previewUrl(a),attachment_item_has_preview_url_large:!!o("LSMediaUrlAttachmentItem").previewUrlLarge(a),has_media:b,has_playable_url:C.hasPlayableUrl,has_preview_url:C.hasPreviewUrl,has_url:!!C.url,is_large_surface:h,is_live_xma:S,is_preview_url_callback_fct_set:l!=null},string:{attachment_preview_type:C.type,playable_url_mime_type:C.playableUrlMimeType,preview_url_mime_type:C.mimeType}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(d)},L=[n,a,C.hasPlayableUrl,C.hasPreviewUrl,C.mimeType,C.playableUrlMimeType,C.type,C.url,l,b,h,S,p],t[8]=n,t[9]=a,t[10]=C.hasPlayableUrl,t[11]=C.hasPreviewUrl,t[12]=C.mimeType,t[13]=C.playableUrlMimeType,t[14]=C.type,t[15]=C.url,t[16]=l,t[17]=b,t[18]=h,t[19]=S,t[20]=p,t[21]=R,t[22]=L):(R=t[21],L=t[22]),u(R,L),C.type){case"Video":{var E;return t[23]!==n||t[24]!==a||t[25]!==C||t[26]!==c||t[27]!==p||t[28]!==_?(E=s.jsx(r("MWXMAAttachmentItemDefaultVideoPreview.react"),{attachment:n,attachmentItem:a,attachmentPreview:C,isPressable:c,mediaRenderQpl:p,renderLoadingPlaceholder:_}),t[23]=n,t[24]=a,t[25]=C,t[26]=c,t[27]=p,t[28]=_,t[29]=E):E=t[29],E}case"Image":{var k;return t[30]!==n||t[31]!==a||t[32]!==C||t[33]!==i||t[34]!==c||t[35]!==m||t[36]!==p||t[37]!==_||t[38]!==f?(k=s.jsx(r("MWXMAAttachmentItemDefaultImagePreview.react"),{attachment:n,attachmentItem:a,attachmentPreview:C,cardWidth:i,isPressable:c,isStandalone:m,mediaRenderQpl:p,renderLoadingPlaceholder:_,xmaLayout:f}),t[30]=n,t[31]=a,t[32]=C,t[33]=i,t[34]=c,t[35]=m,t[36]=p,t[37]=_,t[38]=f,t[39]=k):k=t[39],k}case"Unsupported":{var I;return t[40]!==n||t[41]!==p?(I=s.jsx(r("MWXMAAttachmentItemDefaultUnsupportedPreview.react"),{attachment:n,mediaRenderQpl:p}),t[40]=n,t[41]=p,t[42]=I):I=t[42],I}}}function d(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-default-preview-impl","AppTiming")}l.default=c}),98);
__d("MWXMAAttachmentItemDefaultPreview.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","InteractionTracingMetrics","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessagingThreadTypeUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemDefaultPreviewInner.react","MWXMAAttachmentItemImageDimensionCalculator","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(39),n=e.attachment,a=e.attachmentItem,i=e.cardWidth,l=e.getPreviewUrlXMA,d=e.isPressable,m=e.isStandalone,p=e.mediaRenderQpl,_=e.threadType,f=e.xmaLayout,g;t[0]!==n||t[1]!==a?(g=o("LSMediaUrlAttachment").previewUrl(n)!=null||o("LSMediaUrlAttachmentItem").playableUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(a)!=null||n.hasXmaPreview===!0,t[0]=n,t[1]=a,t[2]=g):g=t[2];var h=g,y,C;t[3]!==n||t[4]!==a||t[5]!==l||t[6]!==h||t[7]!==p?(y=function(){p==null||p.addPoint("render-xma-attachment-item-default-preview",{bool:{attachment_has_playable_url:!!o("LSMediaUrlAttachment").playableUrl(n),attachment_has_preview_url:!!o("LSMediaUrlAttachment").previewUrl(n),attachment_has_preview_url_large:!!o("LSMediaUrlAttachment").previewUrlLarge(n),attachment_item_has_playable_url:!!o("LSMediaUrlAttachmentItem").playableUrl(a),attachment_item_has_preview_url:!!o("LSMediaUrlAttachmentItem").previewUrl(a),attachment_item_has_preview_url_large:!!o("LSMediaUrlAttachmentItem").previewUrlLarge(a),has_attachment_fbid:!!n.attachmentFbid,has_media:n.hasMedia,has_preview:h,has_xma_preview:n.hasXmaPreview,is_attachment_fbid_number:!isNaN(n.attachmentFbid),is_preview_url_callback_fct_set:l!=null},string:{attachment_item_playable_url_mime_type:n.playableUrlMimeType,attachment_item_preview_url_mime_type:n.previewUrlMimeType,attachment_playable_url_mime_type:n.playableUrlMimeType,attachment_preview_url_mime_type:n.previewUrlMimeType}}),h||p==null||p.endSuccessAfterDelay(),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-default-preview","AppTiming"),r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_preview",h?1:0)})},C=[n,a,l,h,p],t[3]=n,t[4]=a,t[5]=l,t[6]=h,t[7]=p,t[8]=y,t[9]=C):(y=t[8],C=t[9]),u(y,C);var b;t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==m||t[14]!==f?(b=o("MWXMAAttachmentItemImageDimensionCalculator").calculateDimensions(n,a,i,f,m),t[10]=n,t[11]=a,t[12]=i,t[13]=m,t[14]=f,t[15]=b):b=t[15];var v=b,S=v.dimensions.width,R=v.dimensions.height,L=v.aspectRatio,E=i/(L>0?L:1),k=_!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(_);if(!h)return null;var I;t[16]!==i||t[17]!==E||t[18]!==p||t[19]!==R||t[20]!==S?(I=function(t,n){return s.jsxs(s.Fragment,{children:[s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:t,height:R,maxHeight:E,maxWidth:i,mediaRenderQpl:p,width:S,xstyle:c.loadingPlaceholder}),!n&&s.jsx(r("CometHeroHoldTrigger.react"),{description:t,hold:!0})]})},t[16]=i,t[17]=E,t[18]=p,t[19]=R,t[20]=S,t[21]=I):I=t[21];var T=I;if(k&&h&&n.hasMedia===!1){var D;return t[22]!==T?(D=T("MWXMAAttachmentItemDefaultPreview.NoMedia",!1),t[22]=T,t[23]=D):D=t[23],D}var x;t[24]!==T?(x=T("MWXMAAttachmentItemDefaultPreview.Suspense",!0),t[24]=T,t[25]=x):x=t[25];var $;t[26]!==n||t[27]!==a||t[28]!==i||t[29]!==l||t[30]!==d||t[31]!==m||t[32]!==p||t[33]!==T||t[34]!==f?($=s.jsx(r("MWXMAAttachmentItemDefaultPreviewInner.react"),{attachment:n,attachmentItem:a,cardWidth:i,getPreviewUrlXMA:l,isPressable:d,isStandalone:m,mediaRenderQpl:p,renderLoadingPlaceholder:T,xmaLayout:f}),t[26]=n,t[27]=a,t[28]=i,t[29]=l,t[30]=d,t[31]=m,t[32]=p,t[33]=T,t[34]=f,t[35]=$):$=t[35];var P;return t[36]!==x||t[37]!==$?(P=s.jsx(r("CometPlaceholder.react"),{fallback:x,name:"MWXMAAttachmentItemDefaultPreview",children:$}),t[36]=x,t[37]=$,t[38]=P):P=t[38],P}l.default=d}),98);
__d("MWXMAAttachmentItemHeaderIcon.react",["FDSImageCover.react","FDSSkittleIcon.react","InteractionTracingMetrics","MWXMAIconParser.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.getHeaderUrlXMA,i=e.mediaRenderQpl,l=e.xmaLayout,c=l===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:l,m;if(t[0]!==n||t[1]!==a||t[2]!==i){var p=a(n,"MWXMAAttachmentItemHeaderIcon",i);m=p==null?void 0:o("MWXMAIconParser.react").parse(p),t[0]=n,t[1]=a,t[2]=i,t[3]=m}else m=t[3];var _=m,f,g;if(t[4]!==_||t[5]!==i?(f=function(){i==null||i.addPoint("render-xma-attachment-item-header-icon",{bool:{has_icon:_!=null}}),_!=null&&r("InteractionTracingMetrics").currentInteractionLogger().forEach(d)},g=[_,i],t[4]=_,t[5]=i,t[6]=f,t[7]=g):(f=t[6],g=t[7]),u(f,g),_==null)return null;if(typeof _=="string"){var h=c===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?"40px":"32px",y;t[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[8]=y):y=t[8];var C;t[9]!==h?(C={borderRadius:"50%",height:h,width:h},t[9]=h,t[10]=C):C=t[10];var b;return t[11]!==_||t[12]!==C?(b=s.jsx("div",babelHelpers.extends({},y,{children:s.jsx(r("FDSImageCover.react"),{alt:"Icon for this message's header",src:_,style:C})})),t[11]=_,t[12]=C,t[13]=b):b=t[13],b}var v;t[14]===Symbol.for("react.memo_cache_sentinel")?(v={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[14]=v):v=t[14];var S;return t[15]!==_.color||t[16]!==_.icon?(S=s.jsx("div",babelHelpers.extends({},v,{children:s.jsx(r("FDSSkittleIcon.react"),{color:_.color,icon:_.icon,size:36})})),t[15]=_.color,t[16]=_.icon,t[17]=S):S=t[17],S}function d(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-header-icon","AppTiming")}l.default=c}),98);
__d("MWXMAAttachmentItemHeaderIconWithPlaceholder.react",["CometPlaceholder.react","InteractionTracingMetrics","MWV2AttachmentLoadingPlaceholder.react","MWXMAAttachmentItemHeaderIcon.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c={loadingPlaceholder:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.attachment,a=e.getHeaderUrlXMA,i=e.mediaRenderQpl,l=e.xmaLayout,d=l===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:l,p,_;t[0]!==i?(p=function(){i==null||i.addPoint("render-xma-attachment-item-header-icon-with-placeholder"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(m)},_=[i],t[0]=i,t[1]=p,t[2]=_):(p=t[1],_=t[2]),u(p,_);var f=d===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?40:32,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x6s0dn4 x78zum5 x5yr21d xbmvrgn"},t[3]=g):g=t[3];var h;t[4]!==f?(h=s.jsx("div",babelHelpers.extends({},g,{children:s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAAttachmentItemHeaderIconWithPlaceholder.Suspense",height:f,width:f,xstyle:c.loadingPlaceholder})})),t[4]=f,t[5]=h):h=t[5];var y;t[6]!==n||t[7]!==a||t[8]!==i||t[9]!==d?(y=s.jsx(r("MWXMAAttachmentItemHeaderIcon.react"),{attachment:n,getHeaderUrlXMA:a,mediaRenderQpl:i,xmaLayout:d}),t[6]=n,t[7]=a,t[8]=i,t[9]=d,t[10]=y):y=t[10];var C;return t[11]!==h||t[12]!==y?(C=s.jsx(r("CometPlaceholder.react"),{fallback:h,name:"MWXMAAttachmentItemHeaderIconWithPlaceholder",children:y}),t[11]=h,t[12]=y,t[13]=C):C=t[13],C}function m(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item-header-icon","AppTiming")}l.default=d}),98);
__d("MWXMAAttachmentItemHeader.react",["FDSBadgeCheckmarkFilled12Icon","I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSVerifiedType","MAWIsXMAWithPlaintextHash","MWSearchPluginUtils","MWXIcon_DEPRECATED.react","MWXMAAttachmentItemHeaderIconWithPlaceholder.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","stylex","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useEffect,p={root:{alignItems:"x6s0dn4",display:"x78zum5",marginTop:"x14vqqas",marginInlineEnd:"xbmvrgn",marginBottom:"xod5an3",marginInlineStart:"x1diwwjn",$$css:!0},withBorder:{borderBottomColor:"x1nb4dca",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(35),a=t.attachment,i=t.getHeaderUrlXMA,l=t.isSecureThread,s=t.mediaRenderQpl,_=t.xmaLayout,f=_===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:_,g;n[0]!==a?(g=o("LSMediaUrlAttachment").headerImageUrl(a)!=null||a.hasXmaHeaderImage===!0,n[0]=a,n[1]=g):g=n[1];var h=g,y,C;n[2]!==a.headerTitle||n[3]!==h||n[4]!==s?(y=function(){s==null||s.addPoint("render-xma-attachment-item-header",{bool:{has_header_icon:h,has_title:a.headerTitle!=null}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_has_header_icon",h)})},C=[a.headerTitle,h,s],n[2]=a.headerTitle,n[3]=h,n[4]=s,n[5]=y,n[6]=C):(y=n[5],C=n[6]),m(y,C);var b=a.headerTitle;if(b==null)return null;var v=a.headerSubtitleText,S=f===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT,R;n[7]!==a?(R=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(a),n[7]=a,n[8]=R):R=n[8];var L=R,E;n[9]!==a.verifiedType?(E=a.verifiedType!=null?(u||(u=o("I64"))).equal(a.verifiedType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSVerifiedType").DEFAULT)):!1,n[9]=a.verifiedType,n[10]=E):E=n[10];var k=E,I;n[11]!==a||n[12]!==l?(I=l&&a.receiverFetchId==null&&o("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(a),n[11]=a,n[12]=l,n[13]=I):I=n[13];var T=I,D;n[14]!==S?(D=(e||(e=r("stylex"))).props(p.root,S?p.withBorder:!1),n[14]=S,n[15]=D):D=n[15];var x;n[16]!==a||n[17]!==i||n[18]!==h||n[19]!==s||n[20]!==T||n[21]!==f?(x=h!=null&&!T&&d.jsx(r("MWXMAAttachmentItemHeaderIconWithPlaceholder.react"),{attachment:a,getHeaderUrlXMA:i,mediaRenderQpl:s,xmaLayout:f}),n[16]=a,n[17]=i,n[18]=h,n[19]=s,n[20]=T,n[21]=f,n[22]=x):x=n[22];var $;n[23]!==v||n[24]!==b||n[25]!==L||n[26]!==S?($=(S||L)&&v!=null&&v!==""?d.jsx(r("MWXTextPairing.react"),{headline:b,level:4,meta:v}):d.jsx(r("MWXText.react"),{type:"bodyLink3",children:b}),n[23]=v,n[24]=b,n[25]=L,n[26]=S,n[27]=$):$=n[27];var P;n[28]!==k?(P=k?d.jsx("div",{className:"x78zum5 xdwrcjd",children:d.jsx(r("MWXIcon_DEPRECATED.react"),{color:"highlight",icon:r("FDSBadgeCheckmarkFilled12Icon")})}):null,n[28]=k,n[29]=P):P=n[29];var N;return n[30]!==$||n[31]!==P||n[32]!==D||n[33]!==x?(N=d.jsxs("div",babelHelpers.extends({},D,{children:[x,$,P]})),n[30]=$,n[31]=P,n[32]=D,n[33]=x,n[34]=N):N=n[34],N}l.default=_}),98);
__d("MWXMAAttachmentItemDefaultXMAContent.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MAWLocalizationType","MAWXMAUtils","MNLSXMALayoutType","MWRollCallXMAAttachmentItem.react","MWSearchPluginUtils","MWV2TombstonedMessage.react","MWXMAAttachmentActionTriggerDefault.react","MWXMAAttachmentItemBody.react","MWXMAAttachmentItemDefaultPreview.react","MWXMAAttachmentItemHeader.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(67),n=e.attachment,a=e.attachmentItem,i=e.bodyLineLimit,l=e.buttonLayout,m=e.cardWidth,p=e.ctaPopoverMenu,_=e.facepiles,f=e.getFaviconUrlXMA,g=e.getHeaderUrlXMA,h=e.getPreviewUrlXMA,y=e.headlineLineLimit,C=e.isHscroll,b=e.isPressable,v=e.isStandalone,S=e.mediaRenderQpl,R=e.message,L=e.onPollOptionFacepilePress,E=e.outgoing,k=e.threadType,I=e.xmaLayout,T=E===void 0?!1:E,D=n.defaultCtaType,x=n.xmaContentType,$;t[0]!==k?($=k!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(k),t[0]=k,t[1]=$):$=t[1];var P=$,N;t[2]!==n.xmaLayoutType?(N=n.xmaLayoutType!==void 0&&(s||(s=o("LSIntEnum"))).toNumber(n.xmaLayoutType)===r("MNLSXMALayoutType").SHARED_STACK,t[2]=n.xmaLayoutType,t[3]=N):N=t[3];var M=N,w;t[4]!==n?(w=o("MWSearchPluginUtils").isSearchSingleBubblePlugin(n),t[4]=n,t[5]=w):w=t[5];var A=w,F=(R==null?void 0:R.replySourceTypeV2)!=null&&(u||(u=o("I64"))).equal(R==null?void 0:R.replySourceTypeV2,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE)),O,B;if(t[6]!==D||t[7]!==M||t[8]!==S?(O=function(){S==null||S.addPoint("render-xma-attachment-default-content",{bool:{is_roll_call:M},string:{default_cta_type:D}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"default_cta_type",D!=null?D:"unknown")})},B=[D,M,S],t[6]=D,t[7]=M,t[8]=S,t[9]=O,t[10]=B):(O=t[9],B=t[10]),d(O,B),M){var W;return t[11]!==a||t[12]!==S?(W=c.jsx(r("MWRollCallXMAAttachmentItem.react"),{attachmentItem:a,mediaRenderQpl:S}),t[11]=a,t[12]=S,t[13]=W):W=t[13],W}if(o("MAWXMAUtils").isXMAFBStory(x)||F){var q=o("LSMediaUrlAttachment").previewUrl(n)!=null||o("LSMediaUrlAttachmentItem").playableUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrl(a)!=null||o("LSMediaUrlAttachmentItem").previewUrlLarge(a)!=null||n.hasXmaPreview===!0;if(!q){var U;t[14]===Symbol.for("react.memo_cache_sentinel")?(U=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[14]=U):U=t[14];var V;return t[15]!==S||t[16]!==T?(V=c.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:T,mediaRenderQpl:S,children:U}),t[15]=S,t[16]=T,t[17]=V):V=t[17],V}}if(D==="xma_montage_share"){var H;return t[18]!==n||t[19]!==a||t[20]!==m||t[21]!==h||t[22]!==b||t[23]!==v||t[24]!==S||t[25]!==k||t[26]!==I?(H=c.jsx(r("MWXMAAttachmentItemDefaultPreview.react"),{attachment:n,attachmentItem:a,cardWidth:m,getPreviewUrlXMA:h,isPressable:b,isStandalone:v,mediaRenderQpl:S,threadType:k,xmaLayout:I}),t[18]=n,t[19]=a,t[20]=m,t[21]=h,t[22]=b,t[23]=v,t[24]=S,t[25]=k,t[26]=I,t[27]=H):H=t[27],H}var G;t[28]!==n||t[29]!==a||t[30]!==g||t[31]!==A||t[32]!==P||t[33]!==S||t[34]!==I?(G=A?c.jsx(r("MWXMAAttachmentActionTriggerDefault.react"),{attachment:n,attachmentItem:a,children:c.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:n,getHeaderUrlXMA:g,isSecureThread:P,mediaRenderQpl:S,xmaLayout:I})}):c.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:n,getHeaderUrlXMA:g,isSecureThread:P,mediaRenderQpl:S,xmaLayout:I}),t[28]=n,t[29]=a,t[30]=g,t[31]=A,t[32]=P,t[33]=S,t[34]=I,t[35]=G):G=t[35];var z;t[36]!==n||t[37]!==a||t[38]!==m||t[39]!==h||t[40]!==b||t[41]!==v||t[42]!==S||t[43]!==k||t[44]!==I?(z=c.jsx(r("MWXMAAttachmentItemDefaultPreview.react"),{attachment:n,attachmentItem:a,cardWidth:m,getPreviewUrlXMA:h,isPressable:b,isStandalone:v,mediaRenderQpl:S,threadType:k,xmaLayout:I}),t[36]=n,t[37]=a,t[38]=m,t[39]=h,t[40]=b,t[41]=v,t[42]=S,t[43]=k,t[44]=I,t[45]=z):z=t[45];var j;t[46]!==n||t[47]!==a||t[48]!==i||t[49]!==l||t[50]!==p||t[51]!==_||t[52]!==f||t[53]!==y||t[54]!==C||t[55]!==b||t[56]!==A||t[57]!==v||t[58]!==S||t[59]!==L||t[60]!==T||t[61]!==I?(j=c.jsx(r("MWXMAAttachmentItemBody.react"),{attachment:n,attachmentItem:a,bodyLineLimit:i,buttonLayout:l,ctaPopoverMenu:p,facepiles:_,getFaviconUrlXMA:f,headlineLineLimit:y,isHscroll:C,isPressable:b,isSearchSingleBubblePlugin:A,isStandalone:v,mediaRenderQpl:S,onPollOptionFacepilePress:L,outgoing:T,xmaLayout:I}),t[46]=n,t[47]=a,t[48]=i,t[49]=l,t[50]=p,t[51]=_,t[52]=f,t[53]=y,t[54]=C,t[55]=b,t[56]=A,t[57]=v,t[58]=S,t[59]=L,t[60]=T,t[61]=I,t[62]=j):j=t[62];var K;return t[63]!==G||t[64]!==z||t[65]!==j?(K=c.jsxs(c.Fragment,{children:[G,z,j]}),t[63]=G,t[64]=z,t[65]=j,t[66]=K):K=t[66],K}l.default=m}),98);
__d("MWXMAPrivateAttachment.react",["fbt","ix","IconSource","LSMessagingThreadTypeUtil","MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType","MWInformedTreatment.react","MWLSThread","MWXIcon_DEPRECATED.react","MWXMAAttachmentActionTrigger.react","MWXText.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect,m={sensitiveContent:{alignItems:"x6s0dn4",backdropFilter:"x1qb2erx",backgroundColor:"x1av1boa",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",justifyContent:"xl56j7k",textAlign:"x2b8uid",width:"xni59qk",$$css:!0}};function p(e){var t,n=o("react-compiler-runtime").c(34),a=e.attachment,i=e.attachmentItem,l=e.getPreviewUrlXMA,s=e.isPressable,u=e.mediaRenderQpl,p=l===void 0?r("emptyFunction"):l,h=a.defaultCtaType,y=p(a,i,"MWXMAPrivateAttachment",u),C=(t=o("MWLSThread").useThread(a.threadKey,_))!=null?t:{isSecureThread:!1,threadType:null},b=C.isSecureThread,v=C.threadType,S=a.gatingTitle,R=a.gatingType,L=o("MWInformedTreatment.react").checkIsInformedTreatmentVisible(S,R,y,v),E,k;n[0]!==h||n[1]!==L||n[2]!==b||n[3]!==u||n[4]!==y?(E=function(){return u==null?void 0:u.addPoint("render-xma-private-attachment",{bool:{has_preview_url:y!=null,is_inform_treatment_visible:L,is_secure_thread:b},string:{default_cta_type:h}})},k=[h,L,b,u,y],n[0]=h,n[1]=L,n[2]=b,n[3]=u,n[4]=y,n[5]=E,n[6]=k):(E=n[5],k=n[6]),d(E,k);var I;n[7]!==R||n[8]!==b?(I=b?o("MAWConvertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType").convertExtendedContentOverlayIconGlyphToInformTreatmentRenderingType(parseInt(R,10)):R,n[7]=R,n[8]=b,n[9]=I):I=n[9];var T=I;if(S!=null&&T!=null&&L){var D;n[10]===Symbol.for("react.memo_cache_sentinel")?(D={className:"x1iu8u7t xh8yej3"},n[10]=D):D=n[10];var x;n[11]===Symbol.for("react.memo_cache_sentinel")?(x={height:"100%",width:"100%"},n[11]=x):x=n[11];var $;n[12]!==a.messageId||n[13]!==S||n[14]!==T||n[15]!==u||n[16]!==y?($=c.jsx("div",babelHelpers.extends({},D,{children:c.jsx(o("MWInformedTreatment.react").MWInformedTreatment,{dimension:x,gatingTitle:S,gatingType:T,isXMA:!0,mediaRenderQpl:u,messageId:a.messageId,previewUrl:y,xstyle:m.sensitiveContent})})),n[12]=a.messageId,n[13]=S,n[14]=T,n[15]=u,n[16]=y,n[17]=$):$=n[17];var P;n[18]!==a||n[19]!==i||n[20]!==s||n[21]!==u?(P=c.jsx(g,{attachment:a,attachmentItem:i,isPressable:s,mediaRenderQpl:u,showPreview:!1}),n[18]=a,n[19]=i,n[20]=s,n[21]=u,n[22]=P):P=n[22];var N;return n[23]!==$||n[24]!==P?(N=c.jsxs(c.Fragment,{children:[$,P]}),n[23]=$,n[24]=P,n[25]=N):N=n[25],N}if(h==="xma_montage_share"){var M;return n[26]!==a||n[27]!==u?(M=c.jsx(f,{attachment:a,mediaRenderQpl:u}),n[26]=a,n[27]=u,n[28]=M):M=n[28],M}var w;return n[29]!==a||n[30]!==i||n[31]!==s||n[32]!==u?(w=c.jsx(g,{attachment:a,attachmentItem:i,isPressable:s,mediaRenderQpl:u,showPreview:!0}),n[29]=a,n[30]=i,n[31]=s,n[32]=u,n[33]=w):w=n[33],w}function _(e){return{isSecureThread:o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),threadType:e.threadType}}function f(e){var t=o("react-compiler-runtime").c(7),n=e.attachment,a=e.mediaRenderQpl,i,l;t[0]!==a?(i=function(){a==null||a.addPoint("render-xma-private-attachment-preview"),a==null||a.endSuccessAfterDelay({bool:{is_private_xma_preview:!0}})},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=new(r("IconSource"))("FB",u("1423125"),32),t[3]=m):m=t[3];var p=m,_=n.defaultCtaType;if(_==="xma_montage_share"){var f;return t[4]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsx("div",{className:"x6s0dn4 x1qb2erx xjw5052 x78zum5 xdt5ytf x1dr9wh xl56j7k x2b8uid xni59qk",children:c.jsx("div",{className:"x14vqqas xbmvrgn xod5an3 x1diwwjn",children:c.jsx(r("MWXIcon_DEPRECATED.react"),{icon:p})})}),t[4]=f):f=t[4],f}var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Click to see post"),t[5]=g):g=t[5];var h=g,y;return t[6]===Symbol.for("react.memo_cache_sentinel")?(y=c.jsxs("div",{className:"x6s0dn4 xzudefj x78zum5 xdt5ytf xl56j7k x2b8uid x1iu8u7t xh8yej3",children:[c.jsx("div",{className:"x14vqqas xbmvrgn xod5an3 x1diwwjn",children:c.jsx(r("MWXIcon_DEPRECATED.react"),{icon:p})}),c.jsx(r("MWXText.react"),{color:"white",type:"bodyLink4",children:h})]}),t[6]=y):y=t[6],y}function g(e){var t=o("react-compiler-runtime").c(17),n=e.attachment,a=e.attachmentItem,i=e.isPressable,l=e.mediaRenderQpl,u=e.showPreview,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-xma-private-attachment-private-body")},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),d(m,p);var _;t[3]!==n||t[4]!==l||t[5]!==u?(_=u===!0&&c.jsx(f,{attachment:n,mediaRenderQpl:l}),t[3]=n,t[4]=l,t[5]=u,t[6]=_):_=t[6];var g;t[7]!==_?(g=c.jsx(c.Fragment,{children:_}),t[7]=_,t[8]=g):g=t[8];var h,y;t[9]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x78zum5 x1q0g3np x1iyjqo2 x2fvf9"},y={className:"x78zum5 xdt5ytf x1iyjqo2 xl56j7k x14vqqas xbmvrgn xod5an3 x1diwwjn x193iq5w xisnujt x1jzhcrs xh8yej3"},t[9]=h,t[10]=y):(h=t[9],y=t[10]);var C;t[11]===Symbol.for("react.memo_cache_sentinel")?(C=c.jsx("div",babelHelpers.extends({},h,{children:c.jsx("div",babelHelpers.extends({},y,{children:c.jsx(r("MWXText.react"),{type:"meta4",children:s._(/*BTDS*/"Facebook")})}))})),t[11]=C):C=t[11];var b;return t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==g?(b=c.jsxs(r("MWXMAAttachmentActionTrigger.react"),{attachment:n,attachmentItem:a,isPressable:i,children:[g,C]}),t[12]=n,t[13]=a,t[14]=i,t[15]=g,t[16]=b):b=t[16],b}l.default=p}),226);
__d("MWXMAAttachmentItem.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMediaUrlAttachment","LSMediaUrlAttachmentItem","MAWXMAUtils","MNLSXMALayoutType","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPBaseXMAAttachmentItem.react","MWPThreadCapabilitiesContext","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemDefaultXMAContent.react","MWXMAPrivateAttachment.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","react","react-compiler-runtime","stylex","useReStore","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useEffect,g={root:{display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",$$css:!0},withBorder:{borderTopColor:"x1exxf4d",borderInlineEndColor:"xpv9jar",borderBottomColor:"x1nb4dca",borderInlineStartColor:"x1nmn18",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",$$css:!0}},h=new Set(["xma_rtc_video","xma_rtc_missed_video","xma_rtc_missed_group_video","xma_rtc_ended_video","xma_rtc_new_video_default","xma_rtc_new_video_from_fb_share","xma_rtc_new_video_from_fb_video_share","xma_rtc_new_video_from_cowatch_share","xma_rtc_cowatch_start_video"]),y=new Set(["xma_rtc_audio","xma_rtc_missed_audio","xma_rtc_missed_group_audio","xma_rtc_ended_audio","xma_rtc_new_audio_default","xma_rtc_new_audio_from_fb_share","xma_rtc_new_audio_from_fb_video_share","xma_rtc_new_audio_from_cowatch_share"]);function C(t){var n,a=o("react-compiler-runtime").c(59),l=t.attachment,d=t.attachmentItem,p=t.bodyLineLimit,_=t.cardWidth,C=t.ctaPopoverMenu,S=t.facepiles,R=t.getFaviconUrlXMA,L=t.getHeaderUrlXMA,E=t.getPreviewUrlXMA,k=t.headlineLineLimit,I=t.isHscroll,T=t.isStandalone,D=t.mediaRenderQpl,x=t.message,$=t.onPollOptionFacepilePress,P=t.outgoing,N=t.xmaLayout,M=p===void 0?3:p,w=_===void 0?300:_,A=L===void 0?o("LSMediaUrlAttachment").headerImageUrl:L,F=k===void 0?3:k,O=P===void 0?!1:P,B=N===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:N,W=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),q=W.rtcVideoCallEnabled,U=W.rtcVoiceCallEnabled,V=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox",H;a[0]!==V?(H=function(t,n,r,a){var e=o("MWPBaseXMAAttachmentItem.react").getXMAAttachmentItemPreview({attachment:t,attachmentItem:n,description:"MWXMAAttachmentItem.getDefaultUrl - "+r,mediaRenderQpl:a,preferLargePreview:V});switch(e.type){case"Video":case"Image":return e.url;case"Unsupported":return}},a[0]=V,a[1]=H):H=a[1];var G=H,z=(e||(e=r("useReStore")))(),j;a[2]!==l.threadKey||a[3]!==z.tables.threads?(j=function(){return o("ReQL").fromTableAscending(z.tables.threads,["threadType"]).getKeyRange(l.threadKey)},a[2]=l.threadKey,a[3]=z.tables.threads,a[4]=j):j=a[4];var K;a[5]!==l.threadKey||a[6]!==z?(K=[z,l.threadKey],a[5]=l.threadKey,a[6]=z,a[7]=K):K=a[7];var Q=o("ReQLSuspense").useFirst(j,K,i.id+":133"),X=l.defaultCtaType,Y;a[8]!==q||a[9]!==U||a[10]!==X?(Y=X!=null?y.has(X)&&!U||h.has(X)&&!q:!1,a[8]=q,a[9]=U,a[10]=X,a[11]=Y):Y=a[11];var J=Y,Z=(n=l.shouldAutoplayVideo)!=null?n:!1,ee=Z&&l.attributionAppIcon!=null&&l.attributionAppName!=null,te;a[12]!==ee?(te=(c||(c=r("stylex")))(g.root,ee?g.withBorder:!1),a[12]=ee,a[13]=te):te=a[13];var ne=te,re=d.attachmentCta1Id!=null,oe=l.gatingType,ae;a[14]===Symbol.for("react.memo_cache_sentinel")?(ae=o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE.toString(),a[14]=ae):ae=a[14];var ie=oe===ae,le;a[15]!==Q?(le=Q?o("MWCMThreadTypes.react").isUnjoinedCMThread(Q.threadType):!1,a[15]=Q,a[16]=le):le=a[16];var se=le,ue;if(a[17]!==l.xmaLayoutType){var ce;ue=(s||(s=o("I64"))).equal((ce=l.xmaLayoutType)!=null?ce:(s||(s=o("I64"))).zero,(u||(u=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),a[17]=l.xmaLayoutType,a[18]=ue}else ue=a[18];var de=ue,me=l.cta1Type==="xma_join_community"||l.cta1Type==="xma_join_community_chat",pe=se&&de||J||me,_e=V&&o("MAWXMAUtils").isXMAContactShare(l.xmaContentType)?"horizontal":"vertical",fe,ge;a[19]!==me||a[20]!==ie||a[21]!==J||a[22]!==de||a[23]!==se||a[24]!==D?(fe=function(){D==null||D.addPoint("render-xma-attachment-item",{bool:{is_join_xma:me,is_private_xma:ie,is_rtc_xma_disabled:J,is_subthread_xma:de,is_unjoined_cm_thread:se}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(v)},ge=[D,J,ie,se,de,me],a[19]=me,a[20]=ie,a[21]=J,a[22]=de,a[23]=se,a[24]=D,a[25]=fe,a[26]=ge):(fe=a[25],ge=a[26]),f(fe,ge);var he=!re&&!pe,ye;a[27]!==l||a[28]!==d||a[29]!==M||a[30]!==_e||a[31]!==w||a[32]!==C||a[33]!==S||a[34]!==G||a[35]!==R||a[36]!==A||a[37]!==E||a[38]!==re||a[39]!==F||a[40]!==I||a[41]!==ie||a[42]!==T||a[43]!==D||a[44]!==x||a[45]!==$||a[46]!==O||a[47]!==pe||a[48]!==(Q==null?void 0:Q.threadType)||a[49]!==B?(ye=ie?m.jsx(r("MWXMAPrivateAttachment.react"),{attachment:l,attachmentItem:d,getPreviewUrlXMA:E!=null?E:G,isPressable:re&&!pe,mediaRenderQpl:D}):m.jsx(r("MWXMAAttachmentItemDefaultXMAContent.react"),{attachment:l,attachmentItem:d,bodyLineLimit:M,buttonLayout:_e,cardWidth:w,ctaPopoverMenu:C,facepiles:S,getFaviconUrlXMA:R!=null?R:b,getHeaderUrlXMA:A,getPreviewUrlXMA:E!=null?E:G,headlineLineLimit:F,isHscroll:I,isPressable:re&&!pe,isStandalone:T,mediaRenderQpl:D,message:x,onPollOptionFacepilePress:$,outgoing:O,threadType:Q==null?void 0:Q.threadType,xmaLayout:B}),a[27]=l,a[28]=d,a[29]=M,a[30]=_e,a[31]=w,a[32]=C,a[33]=S,a[34]=G,a[35]=R,a[36]=A,a[37]=E,a[38]=re,a[39]=F,a[40]=I,a[41]=ie,a[42]=T,a[43]=D,a[44]=x,a[45]=$,a[46]=O,a[47]=pe,a[48]=Q==null?void 0:Q.threadType,a[49]=B,a[50]=ye):ye=a[50];var Ce;a[51]!==ne||a[52]!==ye?(Ce=m.jsx("div",{className:ne,"data-testid":void 0,children:ye}),a[51]=ne,a[52]=ye,a[53]=Ce):Ce=a[53];var be;return a[54]!==l||a[55]!==d||a[56]!==he||a[57]!==Ce?(be=m.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:l,attachmentItem:d,isPressable:he,children:Ce}),a[54]=l,a[55]=d,a[56]=he,a[57]=Ce,a[58]=be):be=a[58],be}function b(e,t){var n,r;return(n=(r=o("LSMediaUrlAttachment").faviconUrl(e))!=null?r:o("LSMediaUrlAttachmentItem").faviconUrl(t))!=null?n:""}function v(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-xma-attachment-item","AppTiming")}l.default=C}),98);
__d("MWXMAAttachmentHorizontalItems.react",["fbt","AdsMessengerContext.react","FDSHScroll.react","I64","MWXMAAttachmentItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["attachmentItems","fullWidthContainer","hasText","xstyle","cardWidth"],u,c,d,m=d||(d=o("react")),p=284,_={centerElement:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},firstElement:{borderEndEndRadius:"x1wcsgtt",borderStartEndRadius:"x1t39747",borderStartStartRadius:"xjwep3j",$$css:!0},hScrollContainerPadding:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0},lastElement:{borderEndStartRadius:"x1pczhz8",borderStartStartRadius:"xjwep3j",$$css:!0},spacer:{marginTop:"xifccgj",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(36),a,i,l,d,f,g;n[0]!==t?(a=t.attachmentItems,d=t.fullWidthContainer,f=t.hasText,g=t.xstyle,i=t.cardWidth,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=d,n[5]=f,n[6]=g):(a=n[1],i=n[2],l=n[3],d=n[4],f=n[5],g=n[6]);var h=d===void 0?!1:d,y=f===void 0?!1:f,C=o("AdsMessengerContext.react").useAdsMessengerContext(),b=C.isMessengerInAds,v,S,R,L,E,k,I;if(n[7]!==a||n[8]!==i||n[9]!==h||n[10]!==y||n[11]!==b||n[12]!==l||n[13]!==g){var T=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();n[21]!==h?(I={0:{},1:{className:"x1bu0bv6 x6vbh5p"}}[!h<<0],n[21]=h,n[22]=I):I=n[22],v=o("FDSHScroll.react").Container,n[23]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Message containing multiple sub messages"),n[23]=S):S=n[23],n[24]!==i?(R=i!=null?{type:"fixed",width:i}:{minWidth:p,type:"responsive"},n[24]=i,n[25]=R):R=n[25],L=b?_.hScrollContainerPadding:void 0,E=8,k=a.map(function(e,t){var n=t===0,s=t===a.length-1,d=!n&&!s;return m.jsx(o("FDSHScroll.react").Child,{expanding:!0,children:m.jsx("div",{className:"xjbqb8w x5yr21d xh8yej3",children:m.jsx("div",babelHelpers.extends({},(u||(u=r("stylex"))).props(T,g,n&&y&&_.firstElement,s&&y&&_.lastElement,d&&y&&_.centerElement,y&&_.spacer),{children:m.jsx(r("MWXMAAttachmentItem.react"),babelHelpers.extends({},l,{attachmentItem:e,cardWidth:i,isStandalone:!1}))}))})},(c||(c=o("I64"))).to_string(e.attachmentIndex))}),n[7]=a,n[8]=i,n[9]=h,n[10]=y,n[11]=b,n[12]=l,n[13]=g,n[14]=v,n[15]=S,n[16]=R,n[17]=L,n[18]=E,n[19]=k,n[20]=I}else v=n[14],S=n[15],R=n[16],L=n[17],E=n[18],k=n[19],I=n[20];var D;n[26]!==v||n[27]!==S||n[28]!==R||n[29]!==L||n[30]!==E||n[31]!==k?(D=m.jsx(v,{accessibilityLabel:S,cardWidth:R,containerXStyle:L,gap:E,children:k}),n[26]=v,n[27]=S,n[28]=R,n[29]=L,n[30]=E,n[31]=k,n[32]=D):D=n[32];var x;return n[33]!==I||n[34]!==D?(x=m.jsx("div",babelHelpers.extends({},I,{children:D})),n[33]=I,n[34]=D,n[35]=x):x=n[35],x}l.default=f}),226);
__d("MWPResponsiveImageGrid.react",["BaseImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=2,c={gridImage:{bottom:"x1ey2m1c",height:"x5yr21d",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",left:null,right:null,objectFit:"xl1xv1r",objectPosition:"x115dhu7",position:"x10l6tqk",top:"x13vifvy",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(5),n=e.urls,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={className:"x78zum5 x1a02dak xe9ewy2 x1kgmq87"},t[0]=r):r=t[0];var a;t[1]!==n?(a=n.map(m),t[1]=n,t[2]=a):a=t[2];var i;return t[3]!==a?(i=s.jsx("ul",babelHelpers.extends({},r,{children:a})),t[3]=a,t[4]=i):i=t[4],i}function m(e){return s.jsx("li",{className:"x1yu6fn4",children:s.jsx("div",{className:"xqtp20y xwklpps xr9ek0c x1vrad04 x1n2onr6",children:s.jsx(r("BaseImage.react"),{src:e,xstyle:c.gridImage})})},e)}m.displayName=m.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWPXMAIgProfile.react",["MWPResponsiveImageGrid.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c=function(t){var e=t.previewUrl;return e};function d(e){var t=e.attachmentItems,n=u(function(){return t.map(c).filter(Boolean)},[t]);return s.jsx("div",{className:"x193iq5w xgqtt45 xdzyupr",children:s.jsx(r("MWPResponsiveImageGrid.react"),{urls:n})})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWXMAAttachmentItemIgProfile.react",["LSMediaUrlAttachment","MWPXMAIgProfile.react","MWXMAAttachmentActionTrigger.react","MWXMAAttachmentItemHeader.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useEffect;function d(t){var n=o("react-compiler-runtime").c(19),a=t.attachment,i=t.attachmentItems,l=t.getHeaderUrlXMA,s=t.mediaRenderQpl,d=t.xstyle,m=l===void 0?o("LSMediaUrlAttachment").headerImageUrl:l,p,_;n[0]!==s?(p=function(){s==null||s.endSuccessAfterDelay()},_=[s],n[0]=s,n[1]=p,n[2]=_):(p=n[1],_=n[2]),c(p,_);var f=i[0],g;n[3]!==d?(g=(e||(e=r("stylex"))).props(d),n[3]=d,n[4]=g):g=n[4];var h;n[5]!==a||n[6]!==m||n[7]!==s?(h=u.jsx(r("MWXMAAttachmentItemHeader.react"),{attachment:a,getHeaderUrlXMA:m,isSecureThread:!1,mediaRenderQpl:s}),n[5]=a,n[6]=m,n[7]=s,n[8]=h):h=n[8];var y;n[9]!==i?(y=u.jsx(r("MWPXMAIgProfile.react"),{attachmentItems:i}),n[9]=i,n[10]=y):y=n[10];var C;n[11]!==g||n[12]!==h||n[13]!==y?(C=u.jsxs("div",babelHelpers.extends({},g,{"data-testid":void 0,children:[h,y]})),n[11]=g,n[12]=h,n[13]=y,n[14]=C):C=n[14];var b;return n[15]!==a||n[16]!==f||n[17]!==C?(b=u.jsx(r("MWXMAAttachmentActionTrigger.react"),{attachment:a,attachmentItem:f,isPressable:!0,children:C}),n[15]=a,n[16]=f,n[17]=C,n[18]=b):b=n[18],b}l.default=d}),98);
__d("MWRollCallTimerPill.react",["fbt","I64","MWXText.react","react","react-compiler-runtime","useInterval"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e,m=d.useMemo,p=d.useState;function _(e){var t=1e3,n=t*60,r=n*60,o=r*24,a=e,i=Math.floor(a/o);a-=i*o;var l=Math.floor(a/r);a-=l*r;var s=Math.floor(a/n);a-=s*n;var u=Math.floor(a/t);return a-=u*t,{days:i,hours:l,minutes:s,seconds:u}}function f(e){var t,n=o("react-compiler-runtime").c(18),a=e.attachment,i=(u||(u=o("I64"))).to_float((t=a.countdownTimestampMs)!=null?t:(u||(u=o("I64"))).zero),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l=Date.now(),n[0]=l):l=n[0];var d=p(l),m=d[0],f=d[1],g=m>i,h;n[1]===Symbol.for("react.memo_cache_sentinel")?(h=function(){f(Date.now())},n[1]=h):h=n[1];var y;n[2]===Symbol.for("react.memo_cache_sentinel")?(y=[f],n[2]=y):y=n[2],r("useInterval")(h,g?6e4:1e3,y);var C;if(g)if(a.cta1Type==="xma_roll_call_open_viewer"){var E;n[5]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Added"),n[5]=E):E=n[5],C=E}else{var k=m-i,I;n[6]!==k?(I=_(k),n[6]=k,n[7]=I):I=n[7];var T=I,D=T.days,x=T.hours,$=T.minutes;if(D>30){var P;n[8]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"30d+"),n[8]=P):P=n[8],C=P}else if(D>0){var N;n[9]!==D?(N=s._(/*BTDS*/"{days}d late",[s._param("days",D)]),n[9]=D,n[10]=N):N=n[10],C=N}else if(x>0){var M;n[11]!==x?(M=s._(/*BTDS*/"{hours}h late",[s._param("hours",x)]),n[11]=x,n[12]=M):M=n[12],C=M}else{var w;n[13]!==$?(w=s._(/*BTDS*/"{minutes}m late",[s._param("minutes",Math.max(1,$))]),n[13]=$,n[14]=w):w=n[14],C=w}}else{var b=i-m,v;n[3]!==b?(v=_(b),n[3]=b,n[4]=v):v=n[4];var S=v,R=S.minutes,L=S.seconds;C=("0"+R).slice(-2)+":"+("0"+L).slice(-2)}var A;n[15]===Symbol.for("react.memo_cache_sentinel")?(A={className:"x1h0vfkc x16qb05n xi7iut8 x1dm3dyd x1pv694p x9f619 x78zum5 xdt5ytf x1qx5ct2 xl56j7k x11t971q xvc5jky xf159sx xmzvs34 xeq5yr9"},n[15]=A):A=n[15];var F;return n[16]!==C?(F=c.jsx("div",babelHelpers.extends({},A,{children:c.jsx(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:C})})),n[16]=C,n[17]=F):F=n[17],F}l.default=f}),226);
__d("MWXMAAttachmentSharedStackFrontCard.react",["CometContainerPressable.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChannelPromptTimerPill.react","MWChatPollFacepile.react","MWLSThread","MWPAttachmentDataContext","MWRollCallTimerPill.react","MWXMAAttachmentItemCtaButton.react","MWXSpinner.react","MWXText.react","MessengerWebUXLoggerXMAEventLoggingImpl","ReQL","ReQLSuspense","getLSMediaAttachmentAvatarViewUrlList","react","react-compiler-runtime","stylex","useCurrentDisplayMode","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useEffect,_={containerPressable:{height:"x5yr21d",$$css:!0},frontCard:{backgroundColor:"x9bbmet",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",boxShadow:"x28gwc1",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x1odjw0f",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xh8yej3",$$css:!0},frontCardDarkMode:{boxShadow:"xdxoyvu",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(50),a=t.attachment,l=t.mediaRenderQpl,d=t.xstyle,f=r("getLSMediaAttachmentAvatarViewUrlList")(a),y=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(a),C=y.attachmentCta1,b=(e||(e=r("useReStore")))(),v;n[0]!==a.messageId||n[1]!==b.tables.messages?(v=function(){return o("ReQL").fromTableAscending(b.tables.messages.index("messageId")).getKeyRange(a.messageId)},n[0]=a.messageId,n[1]=b.tables.messages,n[2]=v):v=n[2];var S;n[3]!==a.messageId||n[4]!==b?(S=[b,a.messageId],n[3]=a.messageId,n[4]=b,n[5]=S):S=n[5];var R=o("ReQLSuspense").useFirst(v,S,i.id+":87"),L=o("MWLSThread").useThread(a.threadKey,h),E;n[6]!==a||n[7]!==R||n[8]!==L?(E={attachment:a,clickCategory:1,message:R,threadType:L},n[6]=a,n[7]=R,n[8]=L,n[9]=E):E=n[9];var k=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(E),I=(u||(u=o("LSIntEnum"))).toNumber(a.authorityLevel)===r("LSAuthorityLevel").OPTIMISTIC,T=r("useCurrentDisplayMode")()==="dark",D;n[10]!==L?(D=L===void 0?!1:o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(L),n[10]=L,n[11]=D):D=n[11];var x=D,$=a.countdownTimestampMs,P;n[12]!==a||n[13]!==$||n[14]!==x?(P=$!=null&&!(c||(c=o("I64"))).equal($,(c||(c=o("I64"))).zero)?x?m.jsx(r("MWChannelPromptTimerPill.react"),{countdownTimestampMs:$}):m.jsx(r("MWRollCallTimerPill.react"),{attachment:a}):null,n[12]=a,n[13]=$,n[14]=x,n[15]=P):P=n[15];var N=P,M,w;n[16]!==l?(M=function(){l==null||l.endSuccessAfterDelay()},w=[l],n[16]=l,n[17]=M,n[18]=w):(M=n[17],w=n[18]),p(M,w);var A;n[19]!==T||n[20]!==d?(A=(s||(s=r("stylex"))).props(_.frontCard,T&&_.frontCardDarkMode,d),n[19]=T,n[20]=d,n[21]=A):A=n[21];var F;n[22]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x78zum5 xdt5ytf x1iyjqo2 x1xmf6yo"},n[22]=F):F=n[22];var O;n[23]!==a.titleText?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx(r("MWXText.react"),{align:"center",numberOfLines:3,type:"headlineEmphasized4",children:a.titleText})})),n[23]=a.titleText,n[24]=O):O=n[24];var B;n[25]===Symbol.for("react.memo_cache_sentinel")?(B={className:"xr1yuqi x11t971q x4ii5y1 xvc5jky"},n[25]=B):B=n[25];var W=I?m.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):m.jsx(r("MWChatPollFacepile.react"),{contacts:f.map(g),countOverride:x&&a.avatarCount!=null?(c||(c=o("I64"))).to_float(a.avatarCount):void 0,direction:"reversed",gap:"negative",isPrompt:x,limit:x?3:void 0,size:x?"mediumLarge":"large"}),q;n[26]!==B||n[27]!==W?(q=m.jsx("div",babelHelpers.extends({},B,{children:W})),n[26]=B,n[27]=W,n[28]=q):q=n[28];var U;n[29]===Symbol.for("react.memo_cache_sentinel")?(U={className:"x1xmf6yo"},n[29]=U):U=n[29];var V;n[30]!==a.cta1Title||n[31]!==a.cta1Type||n[32]!==a.messageId||n[33]!==a.threadKey||n[34]!==C?(V=C!=null&&a.cta1Title!=null&&a.cta1Type!=null?m.jsx(r("MWXMAAttachmentItemCtaButton.react"),{attachmentCta:C,messageId:a.messageId,threadKey:a.threadKey,title:a.cta1Title,type:a.cta1Type}):null,n[30]=a.cta1Title,n[31]=a.cta1Type,n[32]=a.messageId,n[33]=a.threadKey,n[34]=C,n[35]=V):V=n[35];var H;n[36]!==V?(H=m.jsx("div",babelHelpers.extends({},U,{children:V})),n[36]=V,n[37]=H):H=n[37];var G;n[38]!==O||n[39]!==q||n[40]!==H||n[41]!==A||n[42]!==N||n[43]!==k?(G=m.jsxs("div",babelHelpers.extends({},A,{ref:k,children:[N,O,q,H]})),n[38]=O,n[39]=q,n[40]=H,n[41]=A,n[42]=N,n[43]=k,n[44]=G):G=n[44];var z=G,j;n[45]!==L?(j=L===void 0?!1:o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(L),n[45]=L,n[46]=j):j=n[46];var K=j,Q;return n[47]!==z||n[48]!==K?(Q=K?m.jsx(r("CometContainerPressable.react"),{xstyle:_.containerPressable,children:z}):z,n[47]=z,n[48]=K,n[49]=Q):Q=n[49],Q}function g(e){return{name:void 0,profile_picture_url:e}}function h(e){return e.threadType}l.default=f}),98);
__d("MWXMAAttachmentSharedStackItem.react",["Locale","MWXMAAttachmentItem.react","MWXMAAttachmentSharedStackConstants","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={stackItem:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",bottom:"x1ey2m1c",boxShadow:"x28gwc1",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(13),a=t.attachment,i=t.attachmentItem,l=t.index,s=t.mediaRenderQpl,d=t.totalItems,m=t.xstyle,p=l%2===0?-4:4,_=0,f=0;e:switch(l){case 0:{_=0,f=-12;break e}case 1:{_=58,f=-20;break e}case 2:_=34,f=-28}if(o("Locale").isRTL()&&(_=_*-1,p=p*-1),(a.defaultCtaType==="xma_prompt_open_viewer_for_text"||a.defaultCtaType==="xma_roll_call_open_viewer")&&i.previewUrl===void 0&&i.titleText===void 0)return null;var g;n[0]!==m?(g=(e||(e=r("stylex")))(c.stackItem,m),n[0]=m,n[1]=g):g=n[1];var h="rotate("+p+"deg) translateX("+_+"px) translateY("+f+"px)",y=d-l,C;n[2]!==h||n[3]!==y?(C={height:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,transform:h,width:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:y},n[2]=h,n[3]=y,n[4]=C):C=n[4];var b;n[5]!==a||n[6]!==i||n[7]!==s?(b=u.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:i,cardWidth:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,isHscroll:!1,isStandalone:!1,mediaRenderQpl:s}),n[5]=a,n[6]=i,n[7]=s,n[8]=b):b=n[8];var v;return n[9]!==g||n[10]!==C||n[11]!==b?(v=u.jsx("div",{className:g,style:C,children:b}),n[9]=g,n[10]=C,n[11]=b,n[12]=v):v=n[12],v}l.default=d}),98);
__d("MWXMAAttachmentSharedStackLayout.react",["LSMessagingThreadTypeUtil","MWLSThread","MWXMAAttachmentSharedStackConstants","MWXMAAttachmentSharedStackItem.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useMemo,d={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},stackContainer:{position:"x1n2onr6",$$css:!0}};function m(t){var n,a=o("react-compiler-runtime").c(25),i=t.attachment,l=t.attachmentItems,s=t.centered,c=t.children,m=t.xstyle,_=s===void 0?!1:s,f=(n=o("MWLSThread").useThread(i.threadKey,p))!=null?n:!1,g;a[0]!==l||a[1]!==f?(g=f?l.slice(1,4):l.slice(0,3),a[0]=l,a[1]=f,a[2]=g):g=a[2];var h=g,y;e:switch(h.length){case 0:{y=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+8;break e}case 1:{y=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+20;break e}case 2:{y=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+30;break e}default:y=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT+40}var C=y,b=o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH+64,v;a[3]!==_||a[4]!==m?(v=(e||(e=r("stylex")))(d.stackContainer,m,_&&d.centered),a[3]=_,a[4]=m,a[5]=v):v=a[5];var S;a[6]!==C?(S={height:C,width:b},a[6]=C,a[7]=S):S=a[7];var R;if(a[8]!==i||a[9]!==h){var L;a[11]!==i||a[12]!==h.length?(L=function(t,n){return u.jsx(r("MWXMAAttachmentSharedStackItem.react"),{attachment:i,attachmentItem:t,index:n,mediaRenderQpl:null,totalItems:h.length},n)},a[11]=i,a[12]=h.length,a[13]=L):L=a[13],R=h.map(L),a[8]=i,a[9]=h,a[10]=R}else R=a[10];var E;a[14]===Symbol.for("react.memo_cache_sentinel")?(E="x1ey2m1c x10l6tqk xr2ch4k",a[14]=E):E=a[14];var k=h.length+1,I;a[15]!==k?(I={height:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_HEIGHT,width:o("MWXMAAttachmentSharedStackConstants").STACK_ITEM_WIDTH,zIndex:k},a[15]=k,a[16]=I):I=a[16];var T;a[17]!==c||a[18]!==I?(T=u.jsx("div",{className:E,style:I,children:c}),a[17]=c,a[18]=I,a[19]=T):T=a[19];var D;return a[20]!==T||a[21]!==v||a[22]!==S||a[23]!==R?(D=u.jsxs("div",{className:v,style:S,children:[R,T]}),a[20]=T,a[21]=v,a[22]=S,a[23]=R,a[24]=D):D=a[24],D}function p(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}l.default=m}),98);
__d("MWXMAAttachmentSubthreadShortcutLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={background:{backgroundColor:"x1xr0vuk",$$css:!0},centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},outgoingBackground:{backgroundAttachment:"x1nr1p0w",backgroundColor:"x11jlvup",backgroundImage:"xl54vp5",color:"x14ctfv",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(6),a=t.children,i=t.outgoing,l=t.xstyle,s;if(n[0]!==i||n[1]!==l){var d=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles();s=(e||(e=r("stylex"))).props(d,l,c.centered,i?c.outgoingBackground:c.background),n[0]=i,n[1]=l,n[2]=s}else s=n[2];var m;return n[3]!==a||n[4]!==s?(m=u.jsx("div",babelHelpers.extends({},s,{children:a})),n[3]=a,n[4]=s,n[5]=m):m=n[5],m}l.default=d}),98);
__d("MWXMAAttachmentVerticalLayout.react",["CometPlaceholder.react","MWLSThreadDisplayContext","MWXGlimmer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","react-strict-dom","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={centered:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",$$css:!0},glimmer:{height:"x1m3v4wt",width:"xdzyupr",$$css:!0},glimmerChatTabWidth:{width:"x1t9vceh",$$css:!0},glimmerMissingPreview:{height:"xqvfhly",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(21),n=e.attachment,a=e.centered,i=e.children,l=e.connectBottom,c=e.connectTop,d=e.hasText,m=e.outgoing,p=e.xmaLayout,_=e.xstyle,f=a===void 0?!1:a,g=d===void 0?!1:d,h=m?"right":"left",y=g,C=p!==o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT&&y?"top":"none",b;t[0]!==h||t[1]!==l||t[2]!==c||t[3]!==C?(b=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h,connectBottom:l,connectTop:c,flatten:C}),t[0]=h,t[1]=l,t[2]=c,t[3]=C,t[4]=b):b=t[4];var v=b,S=f&&u.centered,R;t[5]!==v||t[6]!==S?(R=[v,S],t[5]=v,t[6]=S,t[7]=R):R=t[7];var L=R,E=(n==null?void 0:n.previewHeightLarge)==null&&(n==null?void 0:n.previewHeight)==null,k=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",I=k&&u.glimmerChatTabWidth,T=E&&u.glimmerMissingPreview,D;t[8]!==L||t[9]!==I||t[10]!==T?(D=s.jsx(r("MWXGlimmer.react"),{index:1,xstyle:[u.glimmer,I,T].concat(L)}),t[8]=L,t[9]=I,t[10]=T,t[11]=D):D=t[11];var x;t[12]!==L||t[13]!==_?(x=[_,L],t[12]=L,t[13]=_,t[14]=x):x=t[14];var $;t[15]!==i||t[16]!==x?($=s.jsx(o("react-strict-dom").html.div,{style:x,children:i}),t[15]=i,t[16]=x,t[17]=$):$=t[17];var P;return t[18]!==$||t[19]!==D?(P=s.jsx(r("CometPlaceholder.react"),{fallback:D,name:"MWXMAAttachmentVerticalLayout",children:$}),t[18]=$,t[19]=D,t[20]=P):P=t[20],P}l.default=c}),98);
__d("MWXMACardStyles.react",[],(function(t,n,r,o,a,i,l){"use strict";var e={cardWidth:{maxWidth:"xw5ewwj",width:"xh8yej3",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",width:"xh8yej3",$$css:!0},liveCardWidth:{marginBottom:"x1e56ztr",width:"xdzyupr",$$css:!0},liveCardWidthChatTab:{marginBottom:"x1e56ztr",width:"x1t9vceh",$$css:!0},outgoing_xma:{marginInlineStart:"xvc5jky",$$css:!0},storyCardWidth:{maxWidth:"x18qnofl",width:"xh8yej3",$$css:!0}};l.xmaCardStyles=e}),98);
__d("MWXMAAttachmentImpl.react",["FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MNLSXMALayoutType","MWLSThreadDisplayContext","MWPAttachmentDataContext","MWXMAAttachmentHorizontalItems.react","MWXMAAttachmentItem.react","MWXMAAttachmentItemIgProfile.react","MWXMAAttachmentSharedStackFrontCard.react","MWXMAAttachmentSharedStackLayout.react","MWXMAAttachmentSubthreadShortcutLayout.react","MWXMAAttachmentVerticalLayout.react","MWXMACardStyles.react","react","react-compiler-runtime","stylex","xmaAttachmentUtils","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react"));function m(e){return{attachmentCta1Id:e.attachmentCta1Id,attachmentCta2Id:e.attachmentCta2Id,attachmentCta3Id:e.attachmentCta3Id,attachmentFbid:e.attachmentFbid,attachmentIndex:e.attachmentIndex,cta1Title:e.cta1Title,cta1Type:e.cta1Type,cta2Title:e.cta2Title,cta2Type:e.cta2Type,cta3Title:e.cta3Title,cta3Type:e.cta3Type,dashManifest:e.dashManifest,defaultActionEnableExtensions:!1,defaultActionUrl:void 0,defaultButtonType:void 0,defaultCtaId:e.defaultCtaId,defaultCtaTitle:e.defaultCtaTitle,defaultCtaType:e.defaultCtaType,defaultWebviewHeightRatio:void 0,faviconUrl:e.faviconUrl,faviconUrlExpirationTimestampMs:e.faviconUrlExpirationTimestampMs,faviconUrlFallback:e.faviconUrlFallback,imageUrl:e.imageUrl,messageId:e.messageId,originalPageSenderId:e.originalPageSenderId,playableUrl:e.playableUrl,playableUrlExpirationTimestampMs:e.playableUrlExpirationTimestampMs,playableUrlFallback:e.playableUrlFallback,playableUrlMimeType:e.playableUrlMimeType,previewHeight:e.previewHeight,previewUrl:e.previewUrl,previewUrlExpirationTimestampMs:e.previewUrlExpirationTimestampMs,previewUrlFallback:e.previewUrlFallback,previewUrlLarge:e.previewUrlLarge,previewUrlMimeType:e.previewUrlMimeType,previewWidth:e.previewWidth,subtitleText:e.subtitleText,threadKey:e.threadKey,titleText:e.titleText}}var p={card:{height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",verticalAlign:"xxymvpz",$$css:!0},opaqueCard:{backgroundColor:"x1xr0vuk",$$css:!0},rootForHScrollInChatTab:{maxWidth:"xaka53j",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(153),a=t.attachment,i=t.bodyLineLimit,l=t.cardWidth,s=t.connectBottom,_=t.connectTop,f=t.ctaPopoverMenu,g=t.facepiles,h=t.fullWidthContainer,y=t.getFaviconUrlXMA,C=t.getHeaderUrlXMA,b=t.getPreviewUrlXMA,v=t.hasText,S=t.headlineLineLimit,R=t.mediaRenderQpl,L=t.message,E=t.onPollOptionFacepilePress,k=t.outgoing,I=t.xmaLayout,T=t.xstyle,D=h===void 0?!1:h,x=v===void 0?!1:v,$=I===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:I,P=a.attachmentType,N=a.cta1Type,M=a.defaultCtaType,w=a.isBorderless,A=a.xmaContentType,F=a.xmaLayoutType,O=o("MWPAttachmentDataContext").useMWPGetAttachmentItems(a),B,W;n[0]!==F?(B=function(){return F!=null?[(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").HSCROLL)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").XCENTER)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SINGLE)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SHARED_STACK)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),(u||(u=o("I64"))).equal(F,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA))]:[!1,!1,!1]},W=[F],n[0]=F,n[1]=B,n[2]=W):(B=n[1],W=n[2]);var q=o("Int64Hooks").useMemoInt64(B,W),U=q[0],V=q[1],H=q[2],G=q[3],z=q[4],j=q[5],K;n[3]!==a?(K=o("xmaAttachmentUtils").isLiveXMA(a),n[3]=a,n[4]=K):K=n[4];var Q=K,X=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),Y=null;if(G){var J;n[5]!==a||n[6]!==R?(J=d.jsx(r("MWXMAAttachmentSharedStackFrontCard.react"),{attachment:a,mediaRenderQpl:R}),n[5]=a,n[6]=R,n[7]=J):J=n[7];var Z;n[8]!==a||n[9]!==O||n[10]!==J?(Z=d.jsx(r("MWXMAAttachmentSharedStackLayout.react"),{attachment:a,attachmentItems:O,children:J}),n[8]=a,n[9]=O,n[10]=J,n[11]=Z):Z=n[11],Y=Z}else if(z){var ee;n[12]!==a||n[13]!==O[0]||n[14]!==i||n[15]!==l||n[16]!==f||n[17]!==g||n[18]!==y||n[19]!==C||n[20]!==b||n[21]!==S||n[22]!==U||n[23]!==R||n[24]!==L||n[25]!==k||n[26]!==$?(ee=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,outgoing:k,xmaLayout:$}),n[12]=a,n[13]=O[0],n[14]=i,n[15]=l,n[16]=f,n[17]=g,n[18]=y,n[19]=C,n[20]=b,n[21]=S,n[22]=U,n[23]=R,n[24]=L,n[25]=k,n[26]=$,n[27]=ee):ee=n[27];var te;n[28]!==k||n[29]!==ee?(te=d.jsx(r("MWXMAAttachmentSubthreadShortcutLayout.react"),{outgoing:k,xstyle:p.card,children:ee}),n[28]=k,n[29]=ee,n[30]=te):te=n[30],Y=te}else if(U){var ne;n[31]===Symbol.for("react.memo_cache_sentinel")?(ne=[p.card,p.opaqueCard],n[31]=ne):ne=n[31];var re;n[32]!==a||n[33]!==O||n[34]!==i||n[35]!==l||n[36]!==f||n[37]!==g||n[38]!==D||n[39]!==y||n[40]!==C||n[41]!==b||n[42]!==x||n[43]!==S||n[44]!==U||n[45]!==R||n[46]!==$?(re=d.jsx(r("MWXMAAttachmentHorizontalItems.react"),{attachment:a,attachmentItems:O,bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,fullWidthContainer:D,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,hasText:x,headlineLineLimit:S,isHscroll:U,mediaRenderQpl:R,xmaLayout:$,xstyle:ne}),n[32]=a,n[33]=O,n[34]=i,n[35]=l,n[36]=f,n[37]=g,n[38]=D,n[39]=y,n[40]=C,n[41]=b,n[42]=x,n[43]=S,n[44]=U,n[45]=R,n[46]=$,n[47]=re):re=n[47],Y=re}else if(H&&O.length===6){var oe;n[48]===Symbol.for("react.memo_cache_sentinel")?(oe=[p.card,p.opaqueCard],n[48]=oe):oe=n[48];var ae;n[49]!==a||n[50]!==O||n[51]!==C||n[52]!==R?(ae=d.jsx(r("MWXMAAttachmentItemIgProfile.react"),{attachment:a,attachmentItems:O,getHeaderUrlXMA:C,mediaRenderQpl:R}),n[49]=a,n[50]=O,n[51]=C,n[52]=R,n[53]=ae):ae=n[53];var ie;n[54]!==a||n[55]!==s||n[56]!==_||n[57]!==k||n[58]!==ae||n[59]!==$?(ie=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,centered:!0,connectBottom:s,connectTop:_,outgoing:k,xmaLayout:$,xstyle:oe,children:ae}),n[54]=a,n[55]=s,n[56]=_,n[57]=k,n[58]=ae,n[59]=$,n[60]=ie):ie=n[60],Y=ie}else if(V&&O.length===1){var le;n[61]===Symbol.for("react.memo_cache_sentinel")?(le=[p.card,p.opaqueCard],n[61]=le):le=n[61];var se;n[62]!==a||n[63]!==O[0]||n[64]!==i||n[65]!==l||n[66]!==f||n[67]!==g||n[68]!==y||n[69]!==C||n[70]!==b||n[71]!==S||n[72]!==U||n[73]!==R||n[74]!==L||n[75]!==E||n[76]!==$?(se=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,onPollOptionFacepilePress:E,xmaLayout:$}),n[62]=a,n[63]=O[0],n[64]=i,n[65]=l,n[66]=f,n[67]=g,n[68]=y,n[69]=C,n[70]=b,n[71]=S,n[72]=U,n[73]=R,n[74]=L,n[75]=E,n[76]=$,n[77]=se):se=n[77];var ue;n[78]!==a||n[79]!==s||n[80]!==_||n[81]!==k||n[82]!==se||n[83]!==$?(ue=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,centered:!0,connectBottom:s,connectTop:_,outgoing:k,xmaLayout:$,xstyle:le,children:se}),n[78]=a,n[79]=s,n[80]=_,n[81]=k,n[82]=se,n[83]=$,n[84]=ue):ue=n[84],Y=ue}else if(O.length===0){var ce=w!==!0&&p.opaqueCard,de;n[85]!==ce?(de=[p.card,ce],n[85]=ce,n[86]=de):de=n[86];var me;n[87]!==a?(me=m(a),n[87]=a,n[88]=me):me=n[88];var pe;n[89]!==a||n[90]!==i||n[91]!==l||n[92]!==f||n[93]!==g||n[94]!==y||n[95]!==C||n[96]!==b||n[97]!==S||n[98]!==U||n[99]!==R||n[100]!==L||n[101]!==me||n[102]!==$?(pe=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:me,bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,xmaLayout:$}),n[89]=a,n[90]=i,n[91]=l,n[92]=f,n[93]=g,n[94]=y,n[95]=C,n[96]=b,n[97]=S,n[98]=U,n[99]=R,n[100]=L,n[101]=me,n[102]=$,n[103]=pe):pe=n[103];var _e;n[104]!==a||n[105]!==s||n[106]!==_||n[107]!==x||n[108]!==k||n[109]!==pe||n[110]!==de||n[111]!==$?(_e=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,connectBottom:s,connectTop:_,hasText:x,outgoing:k,xmaLayout:$,xstyle:de,children:pe}),n[104]=a,n[105]=s,n[106]=_,n[107]=x,n[108]=k,n[109]=pe,n[110]=de,n[111]=$,n[112]=_e):_e=n[112],Y=_e}else if(O.length===1){var fe;n[113]===Symbol.for("react.memo_cache_sentinel")?(fe=[p.card,p.opaqueCard],n[113]=fe):fe=n[113];var ge;n[114]!==a||n[115]!==O[0]||n[116]!==i||n[117]!==l||n[118]!==f||n[119]!==g||n[120]!==y||n[121]!==C||n[122]!==b||n[123]!==S||n[124]!==U||n[125]!==R||n[126]!==L||n[127]!==k||n[128]!==$?(ge=d.jsx(r("MWXMAAttachmentItem.react"),{attachment:a,attachmentItem:O[0],bodyLineLimit:i,cardWidth:l,ctaPopoverMenu:f,facepiles:g,getFaviconUrlXMA:y,getHeaderUrlXMA:C,getPreviewUrlXMA:b,headlineLineLimit:S,isHscroll:U,isStandalone:!0,mediaRenderQpl:R,message:L,outgoing:k,xmaLayout:$}),n[114]=a,n[115]=O[0],n[116]=i,n[117]=l,n[118]=f,n[119]=g,n[120]=y,n[121]=C,n[122]=b,n[123]=S,n[124]=U,n[125]=R,n[126]=L,n[127]=k,n[128]=$,n[129]=ge):ge=n[129];var he;n[130]!==a||n[131]!==s||n[132]!==_||n[133]!==x||n[134]!==k||n[135]!==ge||n[136]!==$?(he=d.jsx(r("MWXMAAttachmentVerticalLayout.react"),{attachment:a,connectBottom:s,connectTop:_,hasText:x,outgoing:k,xmaLayout:$,xstyle:fe,children:ge}),n[130]=a,n[131]=s,n[132]=_,n[133]=x,n[134]=k,n[135]=ge,n[136]=$,n[137]=he):he=n[137],Y=he}else R==null||R.endFailAfterDelay("unknown_combination_of_xma_items_and_layout"),r("FBLogger")("messenger_web_sharing").mustfix("Unknown combination of XMA items and layout. n Attachment Items: %s, XMA Layout Type: %s, Attachment Type: %s,  XMA content Type: %s, default CTA type: %s, CTA 1 type: %s",String(O.length),F==null?"na":(u||(u=o("I64"))).to_string(F),(u||(u=o("I64"))).to_string(P),A==null?"na":(u||(u=o("I64"))).to_string(A),M==null?"na":M,N==null?"na":N);var ye;n[138]!==A?(ye=A!=null&&(u||(u=o("I64"))).equal(A,(c||(c=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").FB_STORY_MENTION)),n[138]=A,n[139]=ye):ye=n[139];var Ce=ye,be;if(n[140]!==X||n[141]!==V||n[142]!==j||n[143]!==Ce||n[144]!==U||n[145]!==Q||n[146]!==k||n[147]!==$||n[148]!==T){var ve=$===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?[o("MWXMACardStyles.react").xmaCardStyles.cardWidth,k&&o("MWXMACardStyles.react").xmaCardStyles.outgoing_xma]:Ce?o("MWXMACardStyles.react").xmaCardStyles.storyCardWidth:o("MWXMACardStyles.react").xmaCardStyles.cardWidth,Se=X==="ChatTab",Re=j?Se?o("MWXMACardStyles.react").xmaCardStyles.cardWidthChatTab:o("MWXMACardStyles.react").xmaCardStyles.cardWidth:T,Le=Se?o("MWXMACardStyles.react").xmaCardStyles.liveCardWidthChatTab:o("MWXMACardStyles.react").xmaCardStyles.liveCardWidth;be=(e||(e=r("stylex"))).props(U&&Se&&p.rootForHScrollInChatTab,!U&&!V&&!Q&&ve,Q?Le:Re),n[140]=X,n[141]=V,n[142]=j,n[143]=Ce,n[144]=U,n[145]=Q,n[146]=k,n[147]=$,n[148]=T,n[149]=be}else be=n[149];var Ee;return n[150]!==Y||n[151]!==be?(Ee=d.jsx("div",babelHelpers.extends({},be,{children:Y})),n[150]=Y,n[151]=be,n[152]=Ee):Ee=n[152],Ee}l.default=_}),98);
__d("MWXMAAttachment.react",["MWXMAAttachmentImpl.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MWXMAAttachmentImpl.react")}),98);
__d("useMWIsChatEntityThread",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=!!o("MWLSThread").useThread(e,s);return t}function s(e){return o("LSThreadBitOffset").has(136,e)}l.useMWIsChatEntityThread=e}),98);
__d("MWMessageListAttachmentContainer.react",["CometErrorBoundary.react","MWChatBubbleEmphasisRing.react","MWLSThreadDisplayContext","MWMessageListAttachment.react","MWPMessageListAttachment.react","MWV2ChatFileV2.react","MWV2ChatImagesGrid.react","MWV2UnsupportedAttachment.react","MWXMAAttachment.react","MWXMessageBubble.react","mwpMessageIsReply","react","react-compiler-runtime","useMWIsChatEntityThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={bubble:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(65),n=e.connectBottom,a=e.connectTop,i=e.hasEmphasisRing,l=e.hasText,c=e.mediaRenderQpl,m=e.message,p=e.navigateToRouteForMediaViewer,_=e.outgoing,f=e.xstyle,g=i===void 0?!1:i,h=l===void 0?!1:l,y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),C=y==="ChatTab"?180:void 0,b=o("useMWIsChatEntityThread").useMWIsChatEntityThread(m.threadKey),v;t[0]!==n||t[1]!==a||t[2]!==c||t[3]!==m||t[4]!==_?(v=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentAudio,{attachment:t,connectBottom:n,connectTop:a,isReply:r("mwpMessageIsReply")(m),mediaRenderQpl:c,message:m,outgoing:_})},t[0]=n,t[1]=a,t[2]=c,t[3]=m,t[4]=_,t[5]=v):v=t[5];var S;t[6]!==a||t[7]!==g||t[8]!==h||t[9]!==m||t[10]!==_?(S=g?function(e){return s.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:a,flattenTop:h,message:m,outgoing:_,precedesXMA:!1,children:e})}:void 0,t[6]=a,t[7]=g,t[8]=h,t[9]=m,t[10]=_,t[11]=S):S=t[11];var R;t[12]!==n||t[13]!==a||t[14]!==c||t[15]!==_?(R=function(t){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:u.bubble,children:s.jsx(r("MWV2ChatFileV2.react"),{attachment:t,mediaRenderQpl:c})})},t[12]=n,t[13]=a,t[14]=c,t[15]=_,t[16]=R):R=t[16];var L;t[17]!==c||t[18]!==m||t[19]!==p||t[20]!==_?(L=function(t,n,r,a){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentImage,{attachment:t,connectBottom:r,connectTop:n,mediaRenderQpl:c,message:m,navigateToRouteForMediaViewer:p,outgoing:_,renderUnsupportedAttachment:a})},t[17]=c,t[18]=m,t[19]=p,t[20]=_,t[21]=L):L=t[21];var E;t[22]!==n||t[23]!==a||t[24]!==c||t[25]!==m||t[26]!==_?(E=function(t){return s.jsx(r("MWV2ChatImagesGrid.react"),{attachments:t,connectBottom:n,connectTop:a,mediaRenderQpl:c,message:m,outgoing:_})},t[22]=n,t[23]=a,t[24]=c,t[25]=m,t[26]=_,t[27]=E):E=t[27];var k;t[28]!==c?(k=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentSticker,{attachment:t,mediaRenderQpl:c})},t[28]=c,t[29]=k):k=t[29];var I;t[30]!==n||t[31]!==a||t[32]!==c||t[33]!==_?(I=function(t){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,children:s.jsx(r("MWV2UnsupportedAttachment.react"),{attachment:t,mediaRenderQpl:c})})},t[30]=n,t[31]=a,t[32]=c,t[33]=_,t[34]=I):I=t[34];var T;t[35]!==a||t[36]!==c||t[37]!==m||t[38]!==p||t[39]!==_?(T=function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentVideo,{attachment:t,connectTop:a,mediaRenderQpl:c,message:m,navigateToRouteForMediaViewer:p,outgoing:_})},t[35]=a,t[36]=c,t[37]=m,t[38]=p,t[39]=_,t[40]=T):T=t[40];var D;t[41]!==C||t[42]!==n||t[43]!==a||t[44]!==h||t[45]!==c||t[46]!==m||t[47]!==_||t[48]!==b||t[49]!==f?(D=function(t){return s.jsx(r("CometErrorBoundary.react"),{fallback:function(t){return s.jsx(o("MWMessageListAttachment.react").MWMessageListAttachmentError,{isOutgoing:_,xstyle:f})},children:s.jsx(r("MWXMAAttachment.react"),{attachment:t,bodyLineLimit:b?10:3,cardWidth:C,connectBottom:n,connectTop:a,hasText:h,mediaRenderQpl:c,message:m,outgoing:_,xstyle:f})})},t[41]=C,t[42]=n,t[43]=a,t[44]=h,t[45]=c,t[46]=m,t[47]=_,t[48]=b,t[49]=f,t[50]=D):D=t[50];var x;return t[51]!==n||t[52]!==a||t[53]!==c||t[54]!==m||t[55]!==T||t[56]!==D||t[57]!==v||t[58]!==S||t[59]!==R||t[60]!==L||t[61]!==E||t[62]!==k||t[63]!==I?(x=s.jsx(r("MWPMessageListAttachment.react"),{connectBottom:n,connectTop:a,mediaRenderQpl:c,message:m,renderAudioAttachment:v,renderEmphasisRing:S,renderEphemeralMediaAttachment:d,renderFileAttachment:R,renderImageAttachment:L,renderImageGrid:E,renderStickerAttachment:k,renderUnsupportedAttachment:I,renderVideoAttachment:T,renderXMAAttachment:D}),t[51]=n,t[52]=a,t[53]=c,t[54]=m,t[55]=T,t[56]=D,t[57]=v,t[58]=S,t[59]=R,t[60]=L,t[61]=E,t[62]=k,t[63]=I,t[64]=x):x=t[64],x}function d(){return null}var m=s.memo(c);l.default=m}),98);
__d("MWMessageSendingContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({findSendingMessage:r("emptyFunction").thatReturnsFalse,trackSendingMessage:r("emptyFunction"),untrackSendingMessage:r("emptyFunction")});function f(e){var t=o("react-compiler-runtime").c(4),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,t[0]=r):r=t[0];var a=p(r),i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i={findSendingMessage:function(t){return a.current.has(t)},trackSendingMessage:function(t){a.current.add(t)},untrackSendingMessage:function(t){a.current.delete(t)}},t[1]=i):i=t[1];var l=i,u;return t[2]!==n?(u=s.jsx(_.Provider,{value:l,children:n}),t[2]=n,t[3]=u):u=t[3],u}function g(){return d(_)}var h={Provider:f,useHook:g};l.default=h}),98);
__d("useLSMessagingInitiatingSourceNumber",["LSMessagingInitiatingSource","MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();if(e!=null)return e==="Inbox"?r("LSMessagingInitiatingSource").FACEBOOK_INBOX:e==="FullscreenChat"?r("LSMessagingInitiatingSource").FACEBOOK_FULLSCREEN:e==="ChatTab"?r("LSMessagingInitiatingSource").FACEBOOK_CHAT:r("LSMessagingInitiatingSource").ROOMS_SIDE_CHAT}l.default=e}),98);
__d("useMAWSendMessageV2",["I64","LSHotEmojiSize","LSIntEnum","MAWBridgeSendAndReceive","MAWMessageSendReporter","MWPActor.react","MWPReplyContext.react","QPLUserFlow","WAResultOrError","qpl","react","react-compiler-runtime","requireDeferred","useLSMessagingInitiatingSourceNumber"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext,d=r("requireDeferred")("MWLogSend").__setRef("useMAWSendMessageV2");function m(e){if(e!=null){if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL)))return 1;if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM)))return 2;if((s||(s=o("I64"))).equal(e,(u||(u=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))return 3}}function p(){var e=o("react-compiler-runtime").c(4),t=o("MWPActor.react").useActor(),n=c(o("MWPReplyContext.react").MWPReplyContext),a=n.reply,i=r("useLSMessagingInitiatingSourceNumber")(),l;return e[0]!==i||e[1]!==a||e[2]!==t?(l=async function(n,l,u,c,p,_,f,g,h,y,C,b,v,S,R,L,E,k,I){var e=babelHelpers.extends({content:p,initiatingSource:i,isFirstMsg:C,isForwarded:!1,openMessageOtid:f,openMessageParticipantCount:b,optimisticMsg:{msgId:g,ts:h},participantCount:v,source:_,specialTextSize:m(y)},S!=null&&{quote:S});R!=null&&(e.ephemeralSetting=R),L!=null&&(e.mentionedJids=[].concat(L)),I!=null&&(e.commands=[].concat(I)),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"sending_message_to_wajob_start",{instanceKey:E});var T=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMsg",{args:e,chatJid:c,externalId:k,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:E});return d.onReady(function(e){var r=(s||(s=o("I64"))).to_string(l),i=y!=null?3:0;return e.log(n,{_mentionedJids:L,actor:t,attachmentFbids:[],attachmentType:i,backend:1,hasReply:a!=null,messagingThreadId:r,msgTtl:R==null?void 0:R.ephemeralExpirationInSec,offlineThreadingId:k,sendType:0,source:_,threadKey:l,threadType:u})}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"sending_message_to_wajob_end",{instanceKey:E}),await o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:c,externalId:k},T,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:E},n),o("WAResultOrError").makeResult({description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"})},e[0]=i,e[1]=a,e[2]=t,e[3]=l):l=e[3],l}l.default=p}),98);
__d("MWRetryMessageSend.react",["fbt","BaseMiddot.react","FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWMiActOnActThreadReady","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWXLink.react","MWXSpinner.react","MWXText.react","MessengerWebUXLogger","ReQL","WAStanzaUtils","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","setTimeout","useAsyncReStore","useLSMessagingSource","useMAWSendMessageV2","useMWLSDefaultThreadSourceAndResetAttribution"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useState,p={loadingSpinner:{display:"x3nfvp2",paddingTop:"x1iorvi4",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"xmzvs34",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(13),n=e.message,a=r("useAsyncReStore")(),i=r("useMWLSDefaultThreadSourceAndResetAttribution")(),l=r("useMAWSendMessageV2")(),_=r("MessengerWebUXLogger").useInteractionLogger(),f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f={eventName:"secure_message_retry_impression"},t[0]=f):f=t[0];var g=r("MessengerWebUXLogger").useImpressionLoggerRef(f),h=r("useLSMessagingSource")(),y=m(!1),C=y[0],b=y[1],v=m(!1),S=v[0],R=v[1],L=C||S,E;t[1]!==a||t[2]!==i||t[3]!==L||t[4]!==_||t[5]!==h||t[6]!==n||t[7]!==l?(E=function(){L||(b(!0),R(!0),r("setTimeout")(function(){b(!1)},1e3),_==null||_({eventName:"secure_message_retry_lick"}),r("promiseDone")(a,async function(e){var t=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(n.threadKey)),a=o("WAStanzaUtils").toStanzaId(n.offlineThreadingId),s=async function(c){var s;if(o("sendToSentQPLLogger").markSendToSentPoint(c,"retry_secure_message_start"),t==null)throw o("sendToSentQPLLogger").markSendToSentFail(c,"message_retry_fail"),r("FBLogger")("messenger_web").mustfixThrow("Failed while fetching thread from DB in MWRetryMessageSend.react");var d=await o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t.threadKey,"MWRetryMessageSend");return l(e,t.threadKey,t.threadType,d.chatJid,(s=n.text)!=null?s:"",i(t.threadKey),void 0,n.offlineThreadingId,(u||(u=o("I64"))).to_int32(n.timestampMs),n.hotEmojiSize,!1,void 0,void 0,void 0,void 0,void 0,c,a).then(function(e){return R(!1),[e]},function(e){return R(!1),[e]})},d=o("sendToSentQPLLogger").markSendToSentStart();if(t){var m=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t.threadKey,h),p=o("MWSharedS2SBaseAnnotations").getMessageTypeParams({hotEmojiSize:n.hotEmojiSize,isRetry:!0,messageText:n.text,threadType:t.threadType});o("sendToSentQPLLogger").addSendToSentAnnotations(d,await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:p,composerEntrypoint:"retry-button",messageOfflineThreadingId:a,source:(c||(c=o("LSIntEnum"))).unwrapIntEnum(m),thread:t}))}return s(d)}))},t[1]=a,t[2]=i,t[3]=L,t[4]=_,t[5]=h,t[6]=n,t[7]=l,t[8]=E):E=t[8];var k=E,I;return t[9]!==L||t[10]!==g||t[11]!==k?(I=d.jsx(d.Fragment,{children:L?d.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:12,xstyle:p.loadingSpinner}):d.jsxs(d.Fragment,{children:[d.jsx(r("BaseMiddot.react"),{}),d.jsx(r("MWXText.react"),{color:"negative",type:"bodyLink4",children:d.jsx(r("MWXLink.react"),{onClick:k,ref:g,children:s._(/*BTDS*/"Retry")})})]})}),t[9]=L,t[10]=g,t[11]=k,t[12]=I):I=t[12],I}l.default=_}),226);
__d("MWMessageOutgoingStatus.react",["MWMessageDeliverySentTimestamp","MWMessageDeliveryStatus","MWMessageSendingContext.react","MWPMessageListColumn.react","MWRetryMessageSend.react","MWStatusText.react","MessengerWebUXLogger","clearTimeout","gkx","react","react-strict-dom","setTimeout","useServerTime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useRef,p=u.useState,_=3e3,f="x62wqjc-B",g={dittoMargin:{marginBottom:"xu06os2",$$css:!0},mountAnimation:{animationDuration:"x4afe7t",animationName:"x1nuzdyh",animationTimingFunction:"x4hg4is",display:"x1rg5ohu",$$css:!0},statusText:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",position:"x1n2onr6",$$css:!0},statusTextRow:{backgroundColor:"x1eb86dx",display:"x78zum5",justifyContent:"x13a6bvl",$$css:!0}};function h(e){var t=e.alignLeft,n=e.isLastMessage,a=e.isSecureMessage,i=e.message,l=e.status,u=e.xstyle,f=p(!1),h=f[0],y=f[1],C=m(null),b=m(!1),v=r("MWMessageSendingContext.react").useHook(),S=v.findSendingMessage,R=v.trackSendingMessage,L=v.untrackSendingMessage,E=r("useServerTime")();c(function(){return L(i.offlineThreadingId),l.type==="Sending"?(R(i.offlineThreadingId),C.current=r("setTimeout")(function(){y(!0)},_)):C.current&&r("clearTimeout")(C.current),function(){C.current&&r("clearTimeout")(C.current)}},[S,i.offlineThreadingId,l.type,R,L]);var k=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"message_cant_send_status",threadKey:i.threadKey}),I=d(function(){l.type==="Sending"?R(i.offlineThreadingId):S(i.offlineThreadingId)&&(b.current=!0);var e=r("gkx")("15315"),c=l.type==="Sending"||b.current,d=[g.statusText,c&&g.mountAnimation,u,e&&g.dittoMargin],m=o("MWMessageDeliveryStatus").Titles.error.toString();switch(l.type){case"Sending":return h?s.jsx(r("MWStatusText.react"),{alignLeft:t,text:o("MWMessageDeliveryStatus").Titles.sending.toString(),xstyle:d}):s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17});case"Sent":case"Delivered":return n?s.jsx(r("MWStatusText.react"),{alignLeft:t,text:o("MWMessageDeliverySentTimestamp").getSentTitleWithTimestamp(i.timestampMs,E).toString(),xstyle:d}):null;case"Error":return s.jsx(r("MWStatusText.react"),{alignLeft:t,error:!0,ref:k,text:m,xstyle:d});case"RetriableError":return s.jsx(r("MWStatusText.react"),{addOnEnd:a===!0?s.jsx(r("MWRetryMessageSend.react"),{message:i}):void 0,alignLeft:t,error:!0,text:m,xstyle:d});case"ValidationError":return null;default:return null}},[t,S,n,a,i,E,h,l.type,R,u,k]);return s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:[g.statusTextRow],children:I})}h.displayName=h.name+" [from "+i.id+"]",l.default=h}),98);
__d("MWPBaseMessageListRowActions.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={hidden:{visibility:"xlshs6z",$$css:!0},incoming:{flexDirection:"x1q0g3np",$$css:!0},outgoing:{flexDirection:"x15zctf7",$$css:!0},root:{alignItems:"x6s0dn4",columnGap:"xl5lk40",display:"x78zum5",width:"x1mqs8db",$$css:!0}},d=s.createContext("full");function m(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(o("react-strict-dom").html.div,{role:"none",style:c.root}),e[0]=t):t=e[0],t}function p(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.outgoing,a=r?c.outgoing:c.incoming,i;t[0]!==a?(i=[c.root,a],t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsx(o("react-strict-dom").html.div,{role:"none",style:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function _(e){var t=o("react-compiler-runtime").c(4),n=e.children,r=e.showWith,a=r===void 0?"full":r,i=u(d),l=i==="partial"&&a!=="partial",m=l&&c.hidden,p;return t[0]!==n||t[1]!==l||t[2]!==m?(p=s.jsx(o("react-strict-dom").html.div,{"aria-hidden":l,style:m,children:n}),t[0]=n,t[1]=l,t[2]=m,t[3]=p):p=t[3],p}function f(e){var t=o("react-compiler-runtime").c(15),n=e.ariaHidden,r=e.children,a=e.onMouseEnter,i=e.onMouseLeave,l=e.outgoing,u=e.visibility,c=e.xstyle,m=u===void 0?"full":u,_=n!=null?n:!1,f=l?g.outgoing:g.incoming,h;t[0]!==f||t[1]!==c?(h=[g.root,f,c],t[0]=f,t[1]=c,t[2]=h):h=t[2];var y;t[3]!==r||t[4]!==l?(y=s.jsx(p,{outgoing:l,children:r}),t[3]=r,t[4]=l,t[5]=y):y=t[5];var C;t[6]!==a||t[7]!==i||t[8]!==_||t[9]!==h||t[10]!==y?(C=s.jsx(o("react-strict-dom").html.div,{"aria-hidden":_,onMouseEnter:a,onMouseLeave:i,style:h,children:y}),t[6]=a,t[7]=i,t[8]=_,t[9]=h,t[10]=y,t[11]=C):C=t[11];var b;return t[12]!==C||t[13]!==m?(b=s.jsx(d.Provider,{value:m,children:C}),t[12]=C,t[13]=m,t[14]=b):b=t[14],b}var g={incoming:{paddingInlineStart:"xaso8d8",$$css:!0},outgoing:{paddingInlineEnd:"x1gabggj",$$css:!0},root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",position:"x1n2onr6",width:"x1mqs8db",zIndex:"x1n327nk",$$css:!0}};l.MWPBaseMessageListRowActionsEmptyList=m,l.MWPBaseMessageListRowActionsList=p,l.MWPBaseMessageListRowActionsListItem=_,l.MWPBaseMessageListRowActionsContainer=f}),98);
__d("useIsMWV2ReportMessageThreadType",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(4),n;t[0]!==e?(n=o("LSMessagingThreadTypeUtil").isOneToOne(e),t[0]=e,t[1]=n):n=t[1];var r=n,a;t[2]!==e?(a=o("LSMessagingThreadTypeUtil").isGroup(e),t[2]=e,t[3]=a):a=t[3];var i=a,l=o("LSMessagingThreadTypeUtil").isCMSubthread(e),s=o("MWCMThreadTypes.react").isJoinedCMThread(e),u=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e);return s||l||u?!1:r||i}l.default=e}),98);
__d("useMWPCanRemoveMessageGlobally",["I64","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageDeliveryStatus","MWPThreadCapabilitiesContext","isDeliveryStatusErrorState","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(2),a=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),i=a.canUnsendMessage;if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(t.sendStatusV2)))return!1;var l;n[0]!==t.cannotUnsendReason?(l=t.cannotUnsendReason!=null?(e||(e=o("I64"))).equal(t.cannotUnsendReason,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").CAN_UNSEND)):!0,n[0]=t.cannotUnsendReason,n[1]=l):l=n[1];var u=l;return i&&u}l.default=u}),98);
__d("MWV2ContextualActionsButton.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMessageActionButton.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","MWV2LogMessageClick","MWV2MessageRowActionsContext.react","MWV2MessageRowIsRowFocusedContext.react","MWV2OnlyGlobalRemoveMessageDialog.entrypoint","MWXDeferredPopoverTrigger.react","MWXIconDots3Vertical","MWXMAUtils","MWXMAV2IsDataclassLiveLocationXMA","MWXMAV2XmaDataClass","MessagingAttachmentType","MetaConfig","ReQL","ReQLSuspense","WebUserFlowLoggingDataContextProvider.react","emptyFunction","gkx","isDeliveryStatusErrorState","isFeatureLimitEnabled","react","requireDeferred","useHandleRemoveLocalMessage","useIsMWV2ReportMessageThreadType","useIsReadOnlyFeatureLimitedWithThreadType","useIsSecureMessage","useMWPCanRemoveMessageGlobally","useMWPIsMessagePinned","useMWXEntryPointDialog","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useContext,g=p.useEffect,h=r("requireDeferred")("MetaAiIntentsImageEditingEventsFalcoEvent").__setRef("MWV2ContextualActionsButton.react"),y=r("requireDeferred")("MWV2ContextualActionsMenu.react").__setRef("MWV2ContextualActionsButton.react");function C(t){var n,a=t.attachment,l=t.canRemoveMessageGlobally,d=t.closeActionsMenu,p=t.containerThreadKey,C=t.extraActions,b=t.isOutgoing,v=t.isSubthreadParentMessage,S=v===void 0?!1:v,R=t.learnMoreOnMessageRemove,L=t.message,E=t.onRemoveMessageLogger,k=t.removeMessageDialogTitle,I=t.setMoreMenuOpen,T=t.shouldHideActions,D=T===void 0?!1:T,x=t.showBusinessMessageFeedbackOptionsInContextualMenu,$=t.showCreateSubthread,P=$===void 0?!1:$,N=t.showFeedbackOptionsInContextualMenu,M=t.showForwardActionInContextualMenu,w=t.showReactionInContextualMenu,A=t.showReplyActionInContextualMenu,F=t.threadType,O=(e||(e=r("useReStore")))(),B=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(O.tables.threads,["parentThreadKey","threadKey","threadSubtype","threadType","cannotUnsendReason"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(L.threadKey)},[O,L.threadKey],i.id+":103"),W=B==null?void 0:B.parentThreadKey,q=s._(/*BTDS*/"More"),U=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),V=U.feedbackAndReportEnabled,H=U.localDeleteMessageEnabled,G=U.modifyPinnedMessageV2Enabled,z=U.reportMessageToAdminEnabled,j=(a==null?void 0:a.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(a.defaultCtaType),K=r("useMWPCanRemoveMessageGlobally")(L);K=K&&!j;var Q=o("MWXMAV2XmaDataClass").parseXmaDataClass(a==null?void 0:a.xmaDataclass),X=o("MWXMAV2IsDataclassLiveLocationXMA").isDataclassLiveLocationXMA(Q),Y=!X,J=o("LSMessagingThreadTypeUtil").isArmadilloSecure(F),Z=r("useIsSecureMessage")(O,L,{fallbackThreadType:F}),ee=o("MWCMThreadTypes.react").isJoinedCMThread(F),te=r("useIsReadOnlyFeatureLimitedWithThreadType")(F),ne=o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isCMSubthread(F)?W==null?o("ReQL").empty():o("ReQL").fromTableAscending(O.tables.participants).getKeyRange(W,L.senderId):ee?o("ReQL").fromTableAscending(O.tables.participants).getKeyRange(L.threadKey,L.senderId):o("ReQL").empty()},[ee,F,W,O,L.senderId,L.threadKey],i.id+":150"),re=o("ReQLSuspense").useFirst(function(){return ee?o("ReQL").fromTableAscending(O.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields)).getKeyRange(L.senderId):o("ReQL").empty()},[O,ee,L.senderId],i.id+":177"),oe=(!J||r("isFeatureLimitEnabled")())&&te,ae=!oe,ie=o("MWPActor.react").useActor(),le=re!=null&&((n=o("LSContactBitOffset").has(77,re))!=null?n:!1),se=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F),ue=J&&!Z,ce=r("useMWPIsMessagePinned")(L),de=(a==null?void 0:a.attachmentType)!=null&&((u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(u||(u=o("I64"))).equal(a.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))),me=L.ephemeralDurationInSec,pe=me!=null?(u||(u=o("I64"))).gt(me,(u||(u=o("I64"))).zero):!1,_e=G&&!D&&!L.isUnsent&&(!ue||ce)&&!S&&!o("LSMessagingThreadTypeUtil").isCMSubthread(F)&&(!se||o("MWPActor.react").isAPPlus()&&r("MetaConfig")._("107"))&&!de&&!pe&&!X&&!j,fe=L.isUnsent,ge=!1;ee||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(F)||o("LSMessagingThreadTypeUtil").isCMSubthread(F)?ge=!fe&&K:J?ge=!oe:ge=H&&ae;var he=r("useMWXEntryPointDialog")(r("MWV2OnlyGlobalRemoveMessageDialog.entrypoint"),{}),ye=he[0],Ce=r("useMWXLazyDialog")(r("JSResourceForInteraction")("MWV2RemoveMessageDialog.react").__setRef("MWV2ContextualActionsButton.react")),be=Ce[0],ve=(ne==null?void 0:ne.isAdmin)===!0,Se=o("MWCMThreadTypes.react").isJoinedCMThread(F)||o("LSMessagingThreadTypeUtil").isCMSubthread(F),Re=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(F),Le=Se&&z&&!ve&&!(u||(u=o("I64"))).equal(ie,L.senderId)&&!L.isUnsent&&!le,Ee=(Se||Re)&&!(u||(u=o("I64"))).equal(ie,L.senderId)&&!L.isUnsent,ke=r("useIsMWV2ReportMessageThreadType")(F),Ie=V&&ke&&!j,Te=f(o("WebUserFlowLoggingDataContextProvider.react").WebUserFlowLoggingDataContext),De=Te.loggingDataRef,xe=r("useHandleRemoveLocalMessage")(F,L,E),$e=o("Int64Hooks").useCallbackInt64(function(){if(r("isDeliveryStatusErrorState")(o("MWMessageDeliveryStatus").getFromSendStatus(L.sendStatusV2))){xe(De.current);return}var e={canRemoveMessageGlobally:K,canRemoveMessageLocally:Y,message:L,removeLogger:E,threadType:F},t={learnMoreOnMessageRemove:R,message:L},n=(u||(u=o("I64"))).equal(L.senderId,ie);return o("MWCMThreadTypes.react").isJoinedCMThread(F)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(F)||n&&!r("gkx")("24140")&&!L.isUnsent?ye(t):be(e,r("emptyFunction"))},[L,K,Y,E,F,R,ie,xe,De,ye,be]),Pe=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),Ne=Pe.removeMessage;Ne.current=ge?$e:r("emptyFunction");var Me=_(function(){Ne.current=r("emptyFunction")},[Ne]);g(function(){return Me},[Me]);var we=f(o("MWV2MessageRowIsRowFocusedContext.react").context);if(B==null||!(M||A||w||_e||N||x||ge||Le||Ee||C!=null||r("gkx")("731")))return null;var Ae=function(t){return I(function(){return t}),we.setFocused(function(){return t})},Fe={eventName:"click_message_contextual_action_button",threadKey:L.threadKey,threadType:F};return m.jsx(r("MWXDeferredPopoverTrigger.react"),{align:"middle",onVisibilityChange:Ae,popoverProps:{attachment:a,canRemoveMessageGlobally:l&&K,canRemoveMessageLocally:Y,closeActionsMenu:d,containerThreadKey:p,extraActions:C,isOutgoing:b,isSecureMessage:Z,learnMoreOnMessageRemove:R,message:L,onRemoveMessageLogger:E,removeMessageDialogTitle:k,showBusinessMessageFeedbackOptionsInContextualMenu:x,showCreateSubthread:P,showFeedbackOptionsInContextualMenu:N,showForwardActionInContextualMenu:M&&!j,showPinMessageActionInContextualMenu:_e,showReactionInContextualMenu:w,showReplyActionInContextualMenu:A&&!j,showReportCommunityMessageToAdmin:Le,showReportCommunityMessageToFacebook:Ee,showReportMessageToFacebook:Ie,showUnsendInContextualMenu:ge,thread:B},popoverResource:y,popoverType:"menu",position:"above",children:function(t,n){var e=function(){return n(),h.onReady(function(e){e.log(function(){return{bottom_sheet_session_id:"",event_name:"open_context_menu_three_dots",response_image_type:"basic",source_image_type:"uploaded",surface:"messenger"}})}),o("MWV2LogMessageClick").log(O,L,48)};return m.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconDots3Vertical"),label:q,loggingEvent:Fe,onPress:e,ref:t,testid:void 0})}})}C.displayName=C.name+" [from "+i.id+"]",l.default=C}),226);
__d("MWV2ForwardMessageButton.react",["fbt","I64","LSBitFlag","LSIntEnum","LSMessagingThreadTypeUtil","MWChatForwardAction.react","promiseDone","qex","react","react-compiler-runtime","useMWV2ForwardMessage"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(15),n=e.mediaGroupInfo,a=e.message,i=e.threadType,l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i),m=r("qex")._("564")===!0,p=l?m?"cross_transport":"secure":m?"cross_transport":"open_",_=a.stickerId,f=o("useMWV2ForwardMessage").useMWV2ForwardMessage(a,i,void 0,n),g;t[0]!==i?(g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i),t[0]=i,t[1]=g):g=t[1];var h=!g,y;t[2]!==a.displayedContentTypes||t[3]!==a.textHasLinks||t[4]!==_?(y=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1),a.displayedContentTypes)&&!a.textHasLinks||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(16384),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(2),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(4),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(512),a.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239263222822"))||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239343222814"))||_!=null&&(c||(c=o("I64"))).equal(_,(c||(c=o("I64"))).of_string("369239383222810")),t[2]=a.displayedContentTypes,t[3]=a.textHasLinks,t[4]=_,t[5]=y):y=t[5];var C=y,b=h&&!C||e.dropForwardE2eeToggle===!0,v;t[6]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Forward"),t[6]=v):v=t[6];var S;t[7]!==f?(S=function(t){return r("promiseDone")(f(t))},t[7]=f,t[8]=S):S=t[8];var R;return t[9]!==b||t[10]!==p||t[11]!==a||t[12]!==S||t[13]!==i?(R=d.jsx(r("MWChatForwardAction.react"),{dropToggle:b,forwardDialogType:p,label:v,message:a,onForward:S,threadType:i}),t[9]=b,t[10]=p,t[11]=a,t[12]=S,t[13]=i,t[14]=R):R=t[14],R}l.default=m}),226);
__d("MWV2MessageReactionButton.react",["MWChatReactionsAction.react","react","react-compiler-runtime","useMWChatReactionsActionContainerProps.react","useMWV2ShouldDisableReactions.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.closeActionsMenu,a=e.message,i=e.onReactionsSendLogger,l=e.reactionsPopoverResource,u=e.setReactionsMenuOpen,c=e.threadType,d=r("useMWV2ShouldDisableReactions.react")(c,a.threadKey),m=r("useMWChatReactionsActionContainerProps.react")(a,n,c,i,u,l);if(d)return null;var p;return t[0]!==m?(p=s.jsx(r("MWChatReactionsAction.react"),babelHelpers.extends({},m)),t[0]=m,t[1]=p):p=t[1],p}l.default=u}),98);
__d("MWV2ReplyButton.react",["cr:9776","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),r=e.message,a;return t[0]!==r?(a=s.jsx(n("cr:9776"),{message:r}),t[0]=r,t[1]=a):a=t[1],a}l.default=u}),98);
__d("mwpMessageHasAttachment",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(1))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(8192))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(1),(s||(s=o("LSIntEnum"))).ofNumber(8192)))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(s||(s=o("LSIntEnum"))).ofNumber(128))&&!(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).add((s||(s=o("LSIntEnum"))).ofNumber(128),(s||(s=o("LSIntEnum"))).ofNumber(8192)))?!(e||(e=o("I64"))).equal(t.displayedContentTypes,e.add((s||(s=o("LSIntEnum"))).ofNumber(1),s.ofNumber(512))):!1}l.default=u}),98);
__d("useEnableBusinessMessageFeedbackOptions",["I64","MWPActor.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r=o("MWPActor.react").useActor(),a;n[0]!==r||n[1]!==t.senderId?(a=(e||(e=o("I64"))).equal(t.senderId,r),n[0]=r,n[1]=t.senderId,n[2]=a):a=n[2];var i=a;if(t.metadataDataclass==null)return!1;var l=JSON.parse(t.metadataDataclass);return l&&l.business_thread_response_feedback&&l.business_thread_response_feedback.is_feedback_button_enabled_for_message===!0?!i:!1}l.default=s}),98);
__d("useGenAIFeedbackSubmissionStatus",["I64","LSIntEnum","LSMailboxAIBotFeedbackSubmissionStatus","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){var t=o("react-compiler-runtime").c(6),n=(u||(u=r("useReStore")))(),a;t[0]!==e||t[1]!==n.tables.ai_bot_feedback_submission_status?(a=function(){return o("ReQL").fromTableDescending(n.tables.ai_bot_feedback_submission_status).getKeyRange(e!=null?e:"").filter(m).map(d)},t[0]=e,t[1]=n.tables.ai_bot_feedback_submission_status,t[2]=a):a=t[2];var l;t[3]!==e||t[4]!==n?(l=[n,e],t[3]=e,t[4]=n,t[5]=l):l=t[5];var s=o("ReQLSuspense").useFirst(a,l,i.id+":25");return s}function d(e){return e.feedbackSubmissionStatus}function m(t){return(e||(e=o("I64"))).equal(t.feedbackSubmissionStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxAIBotFeedbackSubmissionStatus").SUBMITTED))}l.default=c}),98);
__d("useIsGenAiFeedbackEnabled",["I64","LSContactTypeExact","LSIntEnum","MWPContactContext.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(2),i=o("MWPContactContext.react").useMWPContactStableContext(),l=i.contact;if(t==null||!n)return!1;var u;return a[0]!==l?(u=l!=null&&(e||(e=o("I64"))).equal(l.contactTypeExact,(s||(s=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").GENERATIVE_AI_BOT)),a[0]=l,a[1]=u):u=a[1],u}l.default=u}),98);
__d("useIsMessageIDInNewFormat",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u="mid.$g",c="mid.$m",d="mid.$c",m="mid.$o";function p(e,t,n){var r=o("react-compiler-runtime").c(2),a;r[0]!==e?(a=e.startsWith(c)||e.startsWith(u)||e.startsWith(m)||e.startsWith(d),r[0]=e,r[1]=a):a=r[1];var i=a;return t&&n?!0:i}l.default=p}),98);
__d("useMessageAttachment",["ReQL","ReQLSuspense","mwpMessageHasAttachment","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=r("useReStore")))(),a=r("mwpMessageHasAttachment")(t);return o("ReQLSuspense").useFirst(function(){return a?o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},[n,t.threadKey,t.messageId,a],i.id+":30")}l.default=s}),98);
__d("useSubthreadShouldShowReplyCTAForMesage",["ChatGeminiDisplayContextProvider.react","gkx","react-compiler-runtime","useSubthreadInfoSafeForNonWork"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),a=r("useSubthreadInfoSafeForNonWork")(e,t),i=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),l=r("gkx")("16795")&&(i==null?void 0:i.displaySurface)!=="subthread"&&a!=null,s;return n[0]!==l||n[1]!==a?(s={shouldShowSubthreadCTA:l,subthread:a},n[0]=l,n[1]=a,n[2]=s):s=n[2],s}l.default=e}),98);
__d("useXMAV2Provider",["react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=o("react-compiler-runtime").c(4);if(e.length===0)return null;var r=(t=e[0])==null?void 0:t.xmaDataclass;if(r==null)return null;var a,i,l;if(n[0]!==r){i=Symbol.for("react.early_return_sentinel");e:{if(l=JSON.parse(r),l==null){i=null;break e}var u=l.content;if(u==null){i=null;break e}var c=(u==null?void 0:u.__typename)==="XMSGXmaSingleContent"?[u]:u.list;a=c==null?void 0:c.every(s)}n[0]=r,n[1]=a,n[2]=i,n[3]=l}else a=n[1],i=n[2],l=n[3];if(i!==Symbol.for("react.early_return_sentinel"))return i;var d=a;return d?l:null}function s(e){return e.custom_template_data!=null}l.default=e}),98);
__d("MWMessageRowActions.react",["$InternalEnum","AdsAIMessengerUtils","CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSBitFlag","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MSGDataclassTypes.flow","MWBlockingProtectionContext.react","MWCMCreateSubthreadRowActionButton.react","MWCMIsSubthreadContext.react","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPThreadCapabilitiesContext","MWV2ContextualActionsButton.react","MWV2ForwardMessageButton.react","MWV2MessageReactionButton.react","MWV2MessageRowActionsContext.react","MWV2OneToOneThreadBlockedContext.react","MWV2ReplyButton.react","MWXMAUtils","MWXTooltipGroup.react","MessagingAttachmentType","MetaConfig","cr:1669","cr:1670","cr:895","emptyFunction","gkx","isFeatureLimitEnabled","isMWBumpMessage","lazyLoadComponent","mwCMIsAnyCMThread","mwpMessageHasAttachment","react","react-compiler-runtime","shouldHideMessagingActions","useEmptyFunction","useEnableBusinessMessageFeedbackOptions","useGenAIFeedbackSubmissionStatus","useGetMediaGroupInformation","useIsGenAiFeedbackEnabled","useIsLastNonAdminMessage","useIsMessageIDInNewFormat","useIsReadOnlyFeatureLimitedWithThreadType","useIsSecureMessage","useMWGetOtherUserContact","useMWHasForwardAction","useMWIsContactRestricted","useMWV2MessageForwardAction","useMessageAttachment","useReStore","useSubthreadShouldShowReplyCTAForMesage","useXMAV2Provider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useEffect,f=p.useState,g=r("lazyLoadComponent")(r("JSResourceForInteraction")("AdsOsmipChatMessageFeedbackButton.react").__setRef("MWMessageRowActions.react")),h=(e=n("cr:895"))!=null?e:r("useEmptyFunction"),y=r("gkx")("26372"),C={moveUpForWorkSubthreadReplyCTA:{transform:"x1dufm33",$$css:!0},shrinkSpaceForFeedbackActions:{maxWidth:"x1x67gh",$$css:!0}},b=n("$InternalEnum").Mirrored(["AI_STICKERS"]);function v(e){var t=o("react-compiler-runtime").c(104),a=e.canRemoveMessageGlobally,l=e.closeActionsMenu,d=e.containerThreadKey,p=e.dropForwardE2eeToggle,f=e.extraActions,h=e.learnMoreOnMessageRemove,C=e.mediaGroupInfo,b=e.message,v=e.onReactionsSendLogger,S=e.onRemoveMessageLogger,R=e.outgoing,L=e.reactionsPopoverResource,E=e.removeMessageDialogTitle,k=e.setMoreMenuOpen,I=e.setReactionsMenuOpen,T=e.shouldHideForwardOption,D=e.shouldHideHoverMenuReact,x=e.shouldShowAdsAIFeedbackButtons,$=e.threadType,P=x===void 0?!1:x,N=o("MWCMIsSubthreadContext.react").useIsSubthreadContext(),M=N.isSubthread,w=o("MWV2OneToOneThreadBlockedContext.react").useIsBlocked(),A=(s||(s=r("useReStore")))(),F=M&&b.subthreadKey!=null,O=r("useMWGetOtherUserContact")(b.threadKey,$,o("LSContactBitOffset").contactCapabilityFields),B=r("useMWIsContactRestricted")(O),W=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),q;t[0]!==$?(q=o("LSMessagingThreadTypeUtil").isArmadilloSecure($),t[0]=$,t[1]=q):q=t[1];var U=q,V;t[2]!==$?(V={fallbackThreadType:$},t[2]=$,t[3]=V):V=t[3];var H=r("useIsSecureMessage")(A,b,V),G;t[4]!==b.displayedContentTypes?(G=(u||(u=o("I64"))).equal(b.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(1)),t[4]=b.displayedContentTypes,t[5]=G):G=t[5];var z=!G,j;t[6]!==b.displayedContentTypes||t[7]!==b.sendStatusV2?(j=r("shouldHideMessagingActions")(b.displayedContentTypes,o("MWMessageDeliveryStatus").getFromSendStatus(b.sendStatusV2)),t[6]=b.displayedContentTypes,t[7]=b.sendStatusV2,t[8]=j):j=t[8];var K=j,Q;t[9]!==b.sendStatusV2||t[10]!==$?(Q=r("mwCMIsAnyCMThread")($)&&(u||(u=o("I64"))).equal(b.sendStatusV2,(c||(c=o("LSIntEnum"))).ofNumber(4)),t[9]=b.sendStatusV2,t[10]=$,t[11]=Q):Q=t[11];var X=Q,Y=r("useMessageAttachment")(b),J;t[12]!==Y?(J=Y!=null?[Y]:[],t[12]=Y,t[13]=J):J=t[13];var Z=J,ee=r("useXMAV2Provider")(Z),te;t[14]!==Y?(te=(Y==null?void 0:Y.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(Y.defaultCtaType),t[14]=Y,t[15]=te):te=t[15];var ne=te,re=(ee==null?void 0:ee.layout_type)===o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll,oe=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),ae=oe.blurMediaEnabled,ie=r("gkx")("24098")&&ae,le;t[16]!==Y?(le=Y!=null?(u||(u=o("I64"))).equal(Y.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):!1,t[16]=Y,t[17]=le):le=t[17];var se=le,ue;t[18]!==Y?(ue=Y!=null?(u||(u=o("I64"))).equal(Y.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):!1,t[18]=Y,t[19]=ue):ue=t[19];var ce=ue,de=ie&&(se||ce),me;if(t[20]!==b.displayedContentTypes){var pe;me=(u||(u=o("I64"))).equal((pe=b.displayedContentTypes)!=null?pe:(u||(u=o("I64"))).zero,(c||(c=o("LSIntEnum"))).ofNumber(128)),t[20]=b.displayedContentTypes,t[21]=me}else me=t[21];var _e=me,fe=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),ge=fe.isPaused,he=fe.reactEnabled,ye=fe.reactionsV2WriteEnabled,Ce=fe.replyEnabled,be=fe.subThreadCreationEnabled,ve;t[22]!==Y?(ve=(Y==null?void 0:Y.xmaLayoutType)!=null&&(u||(u=o("I64"))).equal(Y.xmaLayoutType,(c||(c=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").THREAD_SHORTCUT)),t[22]=Y,t[23]=ve):ve=t[23];var Se=ve,Re=!Se&&!b.isUnsent||!z||_e,Le=r("useIsGenAiFeedbackEnabled")(b.botResponseId,y),Ee=r("useGenAIFeedbackSubmissionStatus")(b.botResponseId),ke=Le&&Ee==null,Ie=ke&&n("cr:1669")!=null,Te=r("useMWHasForwardAction")($,b,Y,T,C,Ie),De=Te.hasForwardAction,xe=Te.shouldShowForwardAction,$e=r("useIsReadOnlyFeatureLimitedWithThreadType")($)&&(!U||r("isFeatureLimitEnabled")()),Pe=!w&&!B&&!b.isUnsent&&!X&&!re&&(he||ye),Ne=Le&&Ee!=null,Me=r("useEnableBusinessMessageFeedbackOptions")(b),we;t[24]!==b.replySourceId||t[25]!==b.replyType?(we=r("isMWBumpMessage")(b.replyType)&&b.replySourceId==null,t[24]=b.replySourceId,t[25]=b.replyType,t[26]=we):we=t[26];var Ae=we,Fe=r("useIsMessageIDInNewFormat")(b.messageId,U,H),Oe=!w&&!K&&!B&&!X&&Ce&&!b.isUnsent&&!F&&!$e&&!P&&!Ae&&Fe,Be=Oe&&!xe&&!ke&&!ge&&!ne,We=!K&&Pe&&!D&&!P&&!ge,qe=We&&!ke&&!ne,Ue=We&&ke,Ve;t[27]!==Re||t[28]!==ge||t[29]!==F||t[30]!==be||t[31]!==$?(Ve=o("MWCMThreadTypes.react").isJoinedCMThread($)&&!ge&&be&&!F&&Re,t[27]=Re,t[28]=ge,t[29]=F,t[30]=be,t[31]=$,t[32]=Ve):Ve=t[32];var He=Ve,Ge=He&&W==="Inbox",ze=r("useMWV2MessageForwardAction")(U,b,$),je=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),Ke=je.forwardMessage,Qe,Xe;t[33]!==Ke||t[34]!==De||t[35]!==ze?(Qe=function(){return De&&(Ke.current=ze),(function(){Ke.current=r("emptyFunction")})},Xe=[De,ze,Ke],t[33]=Ke,t[34]=De,t[35]=ze,t[36]=Qe,t[37]=Xe):(Qe=t[36],Xe=t[37]),_(Qe,Xe);var Ye=b.messageId,Je=b.offlineThreadingId,Ze=b.sendStatusV2,et=b.threadKey,tt=b.timestampMs,nt;t[38]!==p||t[39]!==C||t[40]!==b||t[41]!==de||t[42]!==xe||t[43]!==$?(nt=xe&&!de?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(r("MWV2ForwardMessageButton.react"),{dropForwardE2eeToggle:p,mediaGroupInfo:C,message:b,threadType:$})}):null,t[38]=p,t[39]=C,t[40]=b,t[41]=de,t[42]=xe,t[43]=$,t[44]=nt):nt=t[44];var rt;t[45]!==l||t[46]!==b||t[47]!==v||t[48]!==L||t[49]!==I||t[50]!==qe||t[51]!==$?(rt=qe?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2MessageReactionButton.react"),{closeActionsMenu:l,message:b,onReactionsSendLogger:v,reactionsPopoverResource:L,setReactionsMenuOpen:I,threadType:$})}):null,t[45]=l,t[46]=b,t[47]=v,t[48]=L,t[49]=I,t[50]=qe,t[51]=$,t[52]=rt):rt=t[52];var ot;t[53]!==Ye||t[54]!==Je||t[55]!==Ze||t[56]!==de||t[57]!==Be||t[58]!==et||t[59]!==tt?(ot=Be&&!de?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2ReplyButton.react"),{message:{messageId:Ye,offlineThreadingId:Je,sendStatusV2:Ze,threadKey:et,timestampMs:tt}})}):null,t[53]=Ye,t[54]=Je,t[55]=Ze,t[56]=de,t[57]=Be,t[58]=et,t[59]=tt,t[60]=ot):ot=t[60];var at;t[61]!==b||t[62]!==Ge?(at=Ge&&m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWCMCreateSubthreadRowActionButton.react"),{message:b})}),t[61]=b,t[62]=Ge,t[63]=at):at=t[63];var it;t[64]!==ke||t[65]!==b?(it=ke&&n("cr:1670")?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(n("cr:1670"),{message:b})}):null,t[64]=ke,t[65]=b,t[66]=it):it=t[66];var lt;t[67]!==ke||t[68]!==b?(lt=ke&&n("cr:1669")?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(n("cr:1669"),{message:b})}):null,t[67]=ke,t[68]=b,t[69]=lt):lt=t[69];var st;t[70]!==b||t[71]!==P?(st=P&&g!=null?m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{showWith:"partial",children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:m.jsx(g,{message:b})})}):null,t[70]=b,t[71]=P,t[72]=st):st=t[72];var ut=He&&!Ge,ct=!xe&&De,dt=!Be&&Oe,mt;t[73]!==Y||t[74]!==a||t[75]!==l||t[76]!==d||t[77]!==f||t[78]!==F||t[79]!==h||t[80]!==b||t[81]!==S||t[82]!==R||t[83]!==E||t[84]!==k||t[85]!==K||t[86]!==Me||t[87]!==Ne||t[88]!==Ue||t[89]!==ut||t[90]!==ct||t[91]!==dt||t[92]!==$?(mt=m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsListItem,{children:m.jsx(r("MWV2ContextualActionsButton.react"),{attachment:Y,canRemoveMessageGlobally:a,closeActionsMenu:l,containerThreadKey:d,extraActions:f,isOutgoing:R,isSubthreadParentMessage:F,learnMoreOnMessageRemove:h,message:b,onRemoveMessageLogger:S,removeMessageDialogTitle:E,setMoreMenuOpen:k,shouldHideActions:K,showBusinessMessageFeedbackOptionsInContextualMenu:Me,showCreateSubthread:ut,showFeedbackOptionsInContextualMenu:Ne,showForwardActionInContextualMenu:ct,showReactionInContextualMenu:Ue,showReplyActionInContextualMenu:dt,threadType:$})}),t[73]=Y,t[74]=a,t[75]=l,t[76]=d,t[77]=f,t[78]=F,t[79]=h,t[80]=b,t[81]=S,t[82]=R,t[83]=E,t[84]=k,t[85]=K,t[86]=Me,t[87]=Ne,t[88]=Ue,t[89]=ut,t[90]=ct,t[91]=dt,t[92]=$,t[93]=mt):mt=t[93];var pt;return t[94]!==R||t[95]!==nt||t[96]!==rt||t[97]!==ot||t[98]!==at||t[99]!==it||t[100]!==lt||t[101]!==st||t[102]!==mt?(pt=m.jsxs(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsList,{outgoing:R,children:[nt,rt,ot,at,it,lt,st,mt]}),t[94]=R,t[95]=nt,t[96]=rt,t[97]=ot,t[98]=at,t[99]=it,t[100]=lt,t[101]=st,t[102]=mt,t[103]=pt):pt=t[103],pt}function S(e){var t,n=o("react-compiler-runtime").c(33),a=e.ariaHidden,i=e.canRemoveMessageGlobally,l=e.containerThreadKey,s=e.dropForwardE2eeToggle,d=e.extraActions,p=e.focused,_=e.hidden,g=e.hovered,b=e.isSecureMessage,S=e.learnMoreOnMessageRemove,L=e.message,E=e.onMouseEnter,k=e.onMouseLeave,I=e.onReactionsSendLogger,T=e.onRemoveMessageLogger,D=e.outgoing,x=e.reactionsPopoverResource,$=e.removeMessageDialogTitle,P=e.shouldHideForwardOption,N=e.shouldHideHoverMenuReact,M=e.showPersistentGenAiFeedbackActionButtons,w=e.threadType,A=_===void 0?!1:_,F=P===void 0?!1:P,O=N===void 0?!1:N,B=M===void 0?!1:M,W=f(!1),q=W[0],U=W[1],V=f(!1),H=V[0],G=V[1],z;n[0]!==L.displayedContentTypes?(z=o("LSBitFlag").has((c||(c=o("LSIntEnum"))).ofNumber(2),L.displayedContentTypes),n[0]=L.displayedContentTypes,n[1]=z):z=n[1];var j=z,K=(t=h(L.threadKey,L.botResponseId,y))!=null?t:!1,Q;n[2]!==L?(Q=o("AdsAIMessengerUtils").isMessageFromAdsAI(L),n[2]=L,n[3]=Q):Q=n[3];var X=Q,Y=r("useIsLastNonAdminMessage")(L.threadKey,L.messageId),J=Y&&X,Z=r("useGetMediaGroupInformation")(L,b===!0),ee=Z!=null&&(Z==null?void 0:Z.hasAllMessagesSent)===!1,te=g||p||H||q,ne=r("MWBlockingProtectionContext.react").useHook(),re=ne.findMessageId,oe=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(L.senderId,L.threadKey),ae=r("useSubthreadShouldShowReplyCTAForMesage")(L.threadKey,L.messageId),ie=ae.shouldShowSubthreadCTA;if(oe&&!re(L.messageId))return null;var le=(u||(u=o("I64"))).to_string(L.threadKey)===r("MetaConfig")._("83")&&!D&&r("mwpMessageHasAttachment")(L);if(le)return null;var se=!A&&!ee&&(te||K||j||J),ue=te?!1:a!=null?a:!1,ce=te===!0?"full":"partial",de=ie&&C.moveUpForWorkSubthreadReplyCTA,me=B&&C.shrinkSpaceForFeedbackActions,pe;n[4]!==me||n[5]!==de?(pe=[de,me],n[4]=me,n[5]=de,n[6]=pe):pe=n[6];var _e;n[7]!==i||n[8]!==l||n[9]!==s||n[10]!==d||n[11]!==S||n[12]!==Z||n[13]!==L||n[14]!==I||n[15]!==T||n[16]!==D||n[17]!==x||n[18]!==$||n[19]!==F||n[20]!==O||n[21]!==se||n[22]!==X||n[23]!==w?(_e=se?m.jsx(v,{canRemoveMessageGlobally:i!=null?i:!0,closeActionsMenu:r("emptyFunction"),containerThreadKey:l,dropForwardE2eeToggle:s,extraActions:d!=null?d:null,learnMoreOnMessageRemove:S,mediaGroupInfo:Z,message:L,onReactionsSendLogger:I,onRemoveMessageLogger:T,outgoing:D,reactionsPopoverResource:x,removeMessageDialogTitle:$,setMoreMenuOpen:G,setReactionsMenuOpen:U,shouldHideForwardOption:F,shouldHideHoverMenuReact:O,shouldShowAdsAIFeedbackButtons:X,threadType:w}):null,n[7]=i,n[8]=l,n[9]=s,n[10]=d,n[11]=S,n[12]=Z,n[13]=L,n[14]=I,n[15]=T,n[16]=D,n[17]=x,n[18]=$,n[19]=F,n[20]=O,n[21]=se,n[22]=X,n[23]=w,n[24]=_e):_e=n[24];var fe;return n[25]!==E||n[26]!==k||n[27]!==D||n[28]!==pe||n[29]!==_e||n[30]!==ue||n[31]!==ce?(fe=m.jsx(r("CometErrorBoundary.react"),{fallback:R,children:m.jsx(r("MWXTooltipGroup.react"),{children:m.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsContainer,{ariaHidden:ue,onMouseEnter:E,onMouseLeave:k,outgoing:D,visibility:ce,xstyle:pe,children:_e})})}),n[25]=E,n[26]=k,n[27]=D,n[28]=pe,n[29]=_e,n[30]=ue,n[31]=ce,n[32]=fe):fe=n[32],fe}function R(){return null}l.LearnMoreDialogType=b,l.MWMessageRowActions=S}),98);
__d("MWMessageUnsentTimestampText.react",["fbt","I64","getMessengerPreciseTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(11),n=e.timestampMs,a=e.unsentTimestampMs,i;t[0]!==n?(i=s._(/*BTDS*/"Sent: {time}",[s._param("time",r("getMessengerPreciseTimestamp")((u||(u=o("I64"))).to_float(n)))]),t[0]=n,t[1]=i):i=t[1];var l;t[2]!==i?(l=c.jsx("div",{children:i}),t[2]=i,t[3]=l):l=t[3];var d;t[4]!==a?(d=s._(/*BTDS*/"Unsent: {time}",[s._param("time",r("getMessengerPreciseTimestamp")((u||(u=o("I64"))).to_float(a)))]),t[4]=a,t[5]=d):d=t[5];var m;t[6]!==d?(m=c.jsx("div",{children:d}),t[6]=d,t[7]=m):m=t[7];var p;return t[8]!==l||t[9]!==m?(p=c.jsxs("div",{children:[l,m]}),t[8]=l,t[9]=m,t[10]=p):p=t[10],p}l.default=d}),226);
__d("MWMultiReactConstants",[],(function(t,n,r,o,a,i){"use strict";var e=3,l=20,s=3,u=9,c=180,d=2;i.DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED=e,i.CM_MAX_REACTION_EMOJIS_ALLOWED=l,i.PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED=s,i.SPACING_PER_COUNT_CHARACTER=u,i.REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION=c,i.REACTION_BUTTON_BUBBLE_EASE_FACTOR=d}),66);
__d("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react",["HorizonWorldsUpdateSubscriptionManagementUserActionType","I64","LSFactory","LSIntEnum","LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=o("react-compiler-runtime").c(21),a=t.message,l=t.shouldSubscribe,c=(e||(e=r("useReStore")))(),m;n[0]!==a.threadKey?(m=(s||(s=o("I64"))).to_string(a.threadKey),n[0]=a.threadKey,n[1]=m):m=n[1];var p=m,_;n[2]!==a.messageId||n[3]!==a.threadKey||n[4]!==c.tables.admin_message_ctas?(_=function(){return o("ReQL").fromTableAscending(c.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId)},n[2]=a.messageId,n[3]=a.threadKey,n[4]=c.tables.admin_message_ctas,n[5]=_):_=n[5];var f;n[6]!==a.messageId||n[7]!==a.threadKey||n[8]!==c?(f=[c,a.messageId,a.threadKey],n[6]=a.messageId,n[7]=a.threadKey,n[8]=c,n[9]=f):f=n[9];var g=o("ReQLSuspense").useFirst(_,f,i.id+":35"),h;n[10]!==l||n[11]!==c||n[12]!==(g==null?void 0:g.targetId)||n[13]!==p?(h=function(){var e=g==null?void 0:g.targetId;if(e!=null){var t=l?(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").SUBSCRIBE):(u||(u=o("LSIntEnum"))).ofNumber(r("HorizonWorldsUpdateSubscriptionManagementUserActionType").UNSUBSCRIBE);r("promiseDone")(c.runInTransaction(function(n){return r("LSUpdateHorizonWorldsUpdateSubscriptionStoredProcedure")(r("LSFactory")(n),{actionType:t,threadKey:(s||(s=o("I64"))).of_string(p),worldId:e})},"readwrite",void 0,void 0,i.id+":57"))}},n[10]=l,n[11]=c,n[12]=g==null?void 0:g.targetId,n[13]=p,n[14]=h):h=n[14];var y=h,C;n[15]!==a.adminMsgCtaTitle||n[16]!==y?(C=a.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return y()},target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[15]=a.adminMsgCtaTitle,n[16]=y,n[17]=C):C=n[17];var b=C,v;return n[18]!==b||n[19]!==a?(v=d.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[18]=b,n[19]=a,n[20]=v):v=n[20],v}l.default=p}),98);
__d("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react",["LSCustomUpdateMuteManagementStoredProcedure","LSFactory","LSIntEnum","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(19),a=t.message,l=t.shouldMute,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.admin_message_ctas||n[1]!==a.messageId||n[2]!==a.threadKey?(d=function(){return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId)},n[0]=u.tables.admin_message_ctas,n[1]=a.messageId,n[2]=a.threadKey,n[3]=d):d=n[3];var m;n[4]!==u||n[5]!==a.messageId||n[6]!==a.threadKey?(m=[u,a.messageId,a.threadKey],n[4]=u,n[5]=a.messageId,n[6]=a.threadKey,n[7]=m):m=n[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":32"),_;n[8]!==u||n[9]!==a.threadKey||n[10]!==l||n[11]!==p?(_=function(){if((p==null?void 0:p.targetId)!=null){var e=p.targetId,t=l?(s||(s=o("LSIntEnum"))).ofNumber(0):(s||(s=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(u.runInTransaction(function(n){return r("LSCustomUpdateMuteManagementStoredProcedure")(r("LSFactory")(n),{gameId:e,mutedUserId:a.threadKey,userActionType:t})},"readwrite",void 0,void 0,i.id+":55"))}},n[8]=u,n[9]=a.threadKey,n[10]=l,n[11]=p,n[12]=_):_=n[12];var f=_,g;n[13]!==a.adminMsgCtaTitle||n[14]!==f?(g=a.adminMsgCtaTitle!=null?c.jsx(r("MWXLink.react"),{onClick:f,target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[13]=a.adminMsgCtaTitle,n[14]=f,n[15]=g):g=n[15];var h=g,y;return n[16]!==h||n[17]!==a?(y=c.jsx(r("MWAdminTextLayout.react"),{cta:h,message:a}),n[16]=h,n[17]=a,n[18]=y):y=n[18],y}l.default=m}),98);
__d("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react",["I64","LSFactory","LSIntEnum","LSUpdateBotSubscriptionStoredProcedure","MWAdminTextLayout.react","MWXLink.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useCallback;function p(t){var n=o("react-compiler-runtime").c(12),a=t.message,l=t.shouldSubscribe,c=(e||(e=r("useReStore")))(),m;n[0]!==a.threadKey?(m=(s||(s=o("I64"))).to_string(a.threadKey),n[0]=a.threadKey,n[1]=m):m=n[1];var p=m,_;n[2]!==l||n[3]!==c||n[4]!==p?(_=function(){var e=l?(u||(u=o("LSIntEnum"))).ofNumber(0):(u||(u=o("LSIntEnum"))).ofNumber(1);r("promiseDone")(c.runInTransaction(function(t){return r("LSUpdateBotSubscriptionStoredProcedure")(r("LSFactory")(t),{threadKey:(s||(s=o("I64"))).of_string(p),userActionType:e})},"readwrite",void 0,void 0,i.id+":41"))},n[2]=l,n[3]=c,n[4]=p,n[5]=_):_=n[5];var f=_,g;n[6]!==a.adminMsgCtaTitle||n[7]!==f?(g=a.adminMsgCtaTitle!=null?d.jsx(r("MWXLink.react"),{onClick:function(){return f()},target:"_blank",children:a.adminMsgCtaTitle}):void 0,n[6]=a.adminMsgCtaTitle,n[7]=f,n[8]=g):g=n[8];var h=g,y;return n[9]!==h||n[10]!==a?(y=d.jsx(r("MWAdminTextLayout.react"),{cta:h,message:a}),n[9]=h,n[10]=a,n[11]=y):y=n[11],y}l.default=p}),98);
__d("MWNotificationMessageManageNotificationsLazyDialogTrigger.react",["JSResourceForInteraction","emptyFunction","react","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("JSResourceForInteraction")("MWNotificationMessagesManageNotificationsDialog.react").__setRef("MWNotificationMessageManageNotificationsLazyDialogTrigger.react");function c(e){var t=e.isOptOut,n=e.renderer,o=e.targetId,a=e.threadKey,i={isOptOut:t,targetId:o,threadKey:a},l=r("useMWXLazyDialog")(u),s=l[0],c=function(){return s(i,r("emptyFunction"))};return n(c)}l.default=c}),98);
__d("MWNotificationMessageManageNotificationsAdminMsgCta.react",["CometTextWithEntities.react","MWNotificationMessageManageNotificationsLazyDialogTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n=e.isOptOut,a=e.targetId,i=e.threadKey,l=e.title,u;t[0]!==l?(u=function(t){return s.jsx(r("MWXPressable.react"),{onPress:function(){return t()},children:s.jsx(r("CometTextWithEntities.react"),{text:l})})},t[0]=l,t[1]=u):u=t[1];var c=u,d;return t[2]!==n||t[3]!==c||t[4]!==a||t[5]!==i?(d=s.jsx(r("MWNotificationMessageManageNotificationsLazyDialogTrigger.react"),{isOptOut:n,renderer:c,targetId:a,threadKey:i}),t[2]=n,t[3]=c,t[4]=a,t[5]=i,t[6]=d):d=t[6],d}l.default=u}),98);
__d("MWPMessageAuthor.react",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSVerifyContactRowExistsStoredProcedure","MWPContactContext.react","ReQL","ReQLSuspense","mwCMIsCMSubthread","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useMemo;function p(t){var n=o("react-compiler-runtime").c(16),a=t.children,l=t.contactId,u=(e||(e=r("useReStore")))(),c;n[0]!==l||n[1]!==u.tables.contacts?(c=function(){return o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(l)},n[0]=l,n[1]=u.tables.contacts,n[2]=c):c=n[2];var m;n[3]!==l||n[4]!==u?(m=[u,l],n[3]=l,n[4]=u,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(c,m,i.id+":51"),_;n[6]!==p?(_={contact:p,nickname:void 0},n[6]=p,n[7]=_):_=n[7];var f=_,g,h;n[8]!==l||n[9]!==u?(g=function(){r("promiseDone")(u.runInTransaction(function(e){return r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(e),{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:s.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:s.ofNumber(r("LSContactIdType").FBID),contactType:s.ofNumber(r("LSContactType").USER),contactViewerRelationship:s.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:s.ofNumber(r("LSContactGender").UNKNOWN),id:l,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:s.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)})},"readwrite",void 0,void 0,i.id+":65"))},h=[u,l],n[8]=l,n[9]=u,n[10]=g,n[11]=h):(g=n[10],h=n[11]),o("Int64Hooks").useEffectInt64(g,h);var y;return n[12]!==a||n[13]!==f.contact||n[14]!==f.nickname?(y=d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:f.contact,nickname:f.nickname,children:a}),n[12]=a,n[13]=f.contact,n[14]=f.nickname,n[15]=y):y=n[15],y}function _(e){var t=o("react-compiler-runtime").c(7),n=e.children,r=e.contact,a=e.nickname,i;t[0]!==r||t[1]!==a?(i={contact:r,nickname:a},t[0]=r,t[1]=a,t[2]=i):i=t[2];var l=i,s;return t[3]!==n||t[4]!==l.contact||t[5]!==l.nickname?(s=d.jsx(o("MWPContactContext.react").MWPContactContextProvider,{contact:l.contact,nickname:l.nickname,children:n}),t[3]=n,t[4]=l.contact,t[5]=l.nickname,t[6]=s):s=t[6],s}function f(t){var n,a=o("react-compiler-runtime").c(25),l=t.children,c=t.contactId,m=t.threadKey,f=(e||(e=r("useReStore")))(),g;a[0]!==c||a[1]!==f.tables.contacts?(g=function(){return o("ReQL").fromTableAscending(f.tables.contacts).getKeyRange(c)},a[0]=c,a[1]=f.tables.contacts,a[2]=g):g=a[2];var h;a[3]!==c||a[4]!==f?(h=[c,f],a[3]=c,a[4]=f,a[5]=h):h=a[5];var y=o("ReQLSuspense").useFirst(g,h,i.id+":126"),C=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(f.tables.participants,["nickname"]).getKeyRange(m,c)},[c,f,m],i.id+":130"))==null?void 0:n.nickname,b;a[6]!==c||a[7]!==f.tables.contextual_profile_v1||a[8]!==f.tables.threads||a[9]!==m?(b=function(){return o("ReQL").fromTableAscending(f.tables.threads,["parentThreadKey","secondaryParentThreadKey","threadType"]).getKeyRange(m).map(function(e){var t=e.parentThreadKey,n=e.secondaryParentThreadKey,a=e.threadType,l=o("ReQLSuspense").first(o("ReQL").fromTableAscending(f.tables.contextual_profile_v1,["profileName"]).getKeyRange(c,r("mwCMIsCMSubthread")(a)&&n!=null?n:t),i.id+":155");return l==null?void 0:l.profileName})},a[6]=c,a[7]=f.tables.contextual_profile_v1,a[8]=f.tables.threads,a[9]=m,a[10]=b):b=a[10];var v;a[11]!==c||a[12]!==f||a[13]!==m?(v=[f,m,c],a[11]=c,a[12]=f,a[13]=m,a[14]=v):v=a[14];var S=o("ReQLSuspense").useFirst(b,v,i.id+":146"),R=S!=null?S:C;if(y!=null)if((u||(u=o("I64"))).ge(y.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))){var L;return a[15]!==l||a[16]!==y||a[17]!==R?(L=d.jsx(_,{contact:y,nickname:R,children:l}),a[15]=l,a[16]=y,a[17]=R,a[18]=L):L=a[18],L}else{var E;return a[19]!==l||a[20]!==c?(E=d.jsx(p,{contactId:c,children:l}),a[19]=l,a[20]=c,a[21]=E):E=a[21],E}else{var k;return a[22]!==l||a[23]!==c?(k=d.jsx(p,{contactId:c,children:l}),a[22]=l,a[23]=c,a[24]=k):k=a[24],k}}var g=d.memo(f,function(e,t){return e!=null&&t!=null&&(u||(u=o("I64"))).equal(e.contactId,t.contactId)&&(u||(u=o("I64"))).equal(e.threadKey,t.threadKey)?e.children===t.children:!1});function h(){var e=o("react-compiler-runtime").c(2),t=o("MWPContactContext.react").useMWPContactStableContext(),n=t.authorName,r;return e[0]!==n?(r=[n],e[0]=n,e[1]=r):r=e[1],r}function y(){var e=o("react-compiler-runtime").c(3),t=o("MWPContactContext.react").useMWPContactFullContext(),n=t.contact,r=n!=null?n.name:void 0,a;return e[0]!==n||e[1]!==r?(a=[r,n],e[0]=n,e[1]=r,e[2]=a):a=e[2],a}l.MissingContactProvider=p,l.Provider=_,l.MWPMessageAuthor=g,l.useAuthorName=h,l.useAuthorFullName=y}),98);
__d("MWPAccessibleEyebrowsText.react",["fbt","MWPMessageAuthor.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.message,r=e.outgoing,a=o("MWPMessageAuthor.react").useAuthorName(),i=a[0],l;t[0]!==r?(l=r?s._(/*BTDS*/"You sent"):s._(/*BTDS*/"Participant"),t[0]=r,t[1]=l):l=t[1];var d=l,m;return t[2]!==i||t[3]!==d||t[4]!==n.isAdminMessage||t[5]!==r?(m=!n.isAdminMessage&&u.jsx(o("react-strict-dom").html.span,{style:c.visuallyHidden,children:i!=null&&!r?i:d}),t[2]=i,t[3]=d,t[4]=n.isAdminMessage,t[5]=r,t[6]=m):m=t[6],m}l.default=d}),226);
__d("MWPAttachmentUploadQplFlow",["QPLFlow","WAGetStorageQplAnnotations","promiseDone","qpl"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.attachmentType,n=e.entryPoint,a=e.fileSize,i=e.platform,l=o("QPLFlow").startQPLFlow(r("qpl")._(521485957,"3292"),{annotations:{int:{fileSize:a},string:{attachmentType:t,entryPoint:n,platform:i}}});return r("promiseDone")(o("WAGetStorageQplAnnotations").getStorageQplAnnotations().then(function(e){l.addAnnotations(e)})),l}function s(t){return new Map(t.map(function(t){var n=e({attachmentType:t.attachmentType,entryPoint:t.entryPoint,fileSize:t.fileSize,platform:t.platform});return[t.uploadId,n]}))}l.startAttachmentUploadQplFlow=e,l.createAttachmentUploadIdToQplFlowMap=s}),98);
__d("MWPMessageParsingUtils",["I64","LSBitFlag","LSIntEnum","LSMessageReplySourceTypeV2","MWPMessageHasXMA","MWUnvaultedText","isStringNullOrEmpty"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=280,c=3e5;function d(e){return!r("isStringNullOrEmpty")(e.text)}function m(t){var n=t.replySourceTypeV2;return n==null?!1:!(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function p(t){var n=t.replySourceTypeV2;return n==null?!1:(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))}function _(e){var t=e.text;return t=o("MWUnvaultedText").getMWUnvaultedText(!1,t),(t!=null?t:"").length>u}var f=[128,256,65536,131072,262144,524288,4294967296,1048576,2097152,4194304,8388608,16777216,33554432,67108864,1073741824,4096,512].filter(Boolean);function g(e){return e.isAdminMessage||f.some(function(t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(t),e.displayedContentTypes)})||_(e)}function h(e,t){return r("MWPMessageHasXMA")(e)&&r("MWPMessageHasXMA")(t)}function y(e,t){return e.botResponseId!=null&&t.botResponseId!=null&&e.botResponseId===t.botResponseId}function C(t,n){if(n===void 0)return!0;var r=Math.abs((e||(e=o("I64"))).to_float(t.timestampMs)-e.to_float(n.timestampMs))>c,a=p(t),i=e.equal(t.senderId,n.senderId);return n.isUnsent||t.isUnsent||n.isExpired||h(n,t)&&!y(n,t)||t.isExpired||m(t)||!i||r||a||g(t)?!0:g(n)}function b(e,t){return t==null||C(e,t)}function v(e,t){return t==null||C(t,e)}function S(e,t,n){return n==="below"?d(e)?!0:!b(e,t):!1}function R(e,t,n){return n==="below"?!v(e,t):v(e,t)?!1:d(e)}var L={shouldConnectBottom:R,shouldConnectTop:S};l.hasText=d,l.isReplyToSomething=m,l.isForwarded=p,l.isLongText=_,l.shouldBeStandalone=g,l.areXMAsAdjacent=h,l.isInDifferentGroup=C,l.isStartOfGroup=b,l.isEndOfGroup=v,l.MessageWithAttachments=L}),98);
__d("MWReactionUtils",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","ReQL","ReQLSuspense","useIsMultiReactionEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a,l=(e||(e=r("useReStore")))(),s=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(n),u=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadSubtype","threadType"]).getKeyRange(n)},[l,n],i.id+":30"))!=null?a:{},c=u.threadSubtype,d=u.threadType;!(d!=null&&o("LSMessagingThreadTypeUtil").isDiscoverableChannel(d))&&!(d!=null&&o("MWCMThreadTypes.react").isBroadcastThread(d))&&!(c!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(c))||s||t.sort(function(e,t){return e.count===t.count&&e.reactionLiteral!=null&&t.reactionLiteral!=null?e.reactionLiteral.localeCompare(t.reactionLiteral):t.count-e.count})}l.useSortReactionsForBroadcastChat=s}),98);
__d("useIsReactionDialogEnabled",["LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t;return(t=o("MWLSThread").useThread(e,s))!=null?t:!1}function s(e){return o("LSThreadBitOffset").has(184,e)||o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)}l.default=e}),98);
__d("MWPMessageReactions.react",["fbt","EmojiRenderer","I64","JSResourceForInteraction","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","MWChatReactionsUtils","MWLSThread","MWMultiReactConstants","MWReactionUtils","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReQL","ReQLSuspense","emptyFunction","gkx","intlList","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useIsReactionDialogEnabled","useIsReactionsV2Enabled","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useContext,f=m.useDeferredValue,g=m.useMemo,h=m.useRef,y=m.useState,C=r("gkx")("24166")?o("MWChatReactionsUtils").heartType2:o("MWChatReactionsUtils").heartType1;function b(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a.tables.reactions||n[1]!==t?(l=function(){if(t==null)return o("ReQL").empty();var e=t.messageId,n=t.threadKey;return o("ReQL").fromTableAscending(a.tables.reactions).getKeyRange(n,e).map(v)},s=[t,a.tables.reactions],n[0]=a.tables.reactions,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=f(o("ReQLSuspense").useArray(l,s,i.id+":64"));return u}function v(e){return o("MWChatReactionsUtils").isHeart(e.reaction)?{actorId:e.actorId,authorityLevel:e.authorityLevel,messageId:e.messageId,reaction:C,threadKey:e.threadKey,timestampMs:e.timestampMs}:e}function S(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){if(t==null)return o("ReQL").empty();var e=t.messageId,n=t.threadKey;return o("ReQL").fromTableAscending(a.tables.reactions_v2).getKeyRange(n,e)},s=[t,a],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useArray(l,s,i.id+":91");return u}function R(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=t.messageId,s=t.threadKey,u;n[0]!==a.tables.reactions_v2||n[1]!==l||n[2]!==s?(u=function(){return o("ReQL").fromTableAscending(a.tables.reactions_v2).getKeyRange(s,l).filter(L)},n[0]=a.tables.reactions_v2,n[1]=l,n[2]=s,n[3]=u):u=n[3];var c;n[4]!==a||n[5]!==l||n[6]!==s?(c=[a,s,l],n[4]=a,n[5]=l,n[6]=s,n[7]=c):c=n[7];var d=o("ReQLSuspense").useArray(u,c,i.id+":107");return d}function L(e){return(u||(u=o("I64"))).gt(e.count,u.zero)}function E(e,t){var n=e!=null?r("intlList")(e.map(function(e){return e.join("")}),r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA):"";return s._(/*BTDS*/"_j{\"*\":\"{number} reactions with {the comma separated list of emojis used to react on this message}; see who reacted to this.\",\"_1\":\"1 reaction with {the comma separated list of emojis used to react on this message}; see who reacted to this.\"}",[s._plural(t,"number"),s._param("the comma separated list of emojis used to react on this message",n)])}function k(e){return e.map(function(e,t){var n=o("EmojiRenderer").parse(e).map(function(e){return e.emoji});return n.length!==1?[""]:n[0]}).filter(function(e){return e.join("")!==""})}function I(t){var n=t.children,a=t.dialogResource,l=t.message,s=t.onPress,c=t.outgoing,m=t.reactions,f=t.reactionsV2,C=t.shouldUseVariant16ForReactionsV2,b=C===void 0?!1:C,v=l.messageId,S=l.threadKey,R=_(o("MWV2MessageRowIsRowFocusedContext.react").context),L=R.setFocused,I=R.setIsDialogOpened,T=(e||(e=r("useReStore")))(),D=y(!1),x=D[0],$=D[1],P=function(){$(function(e){return!e})},N=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(S),M=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(S),w=o("MWLSThread").useThread(S,function(e){return o("LSMessagingThreadTypeUtil").isDiscoverableChannel(e.threadType)}),A=M?o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:3,F=r("useIsReactionDialogEnabled")(S),O=h(new Map),B=p(function(){N&&r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(T,function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:l.messageId,threadId:S})},"issueReactionsV2DetailsUsersListFetch").then(function(){return O.current.forEach(function(e){return e()})}))},[T,N,l.messageId,S]),W=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(T.tables.reactions_v2).getKeyRange(S,v).filter(function(e){return(u||(u=o("I64"))).gt(e.count,u.zero)}).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(T.tables.reaction_v2_types).getKeyRange(e.reactionFbid),i.id+":226"),n=b?t==null?void 0:t.reactionLiteralVariant16:t==null?void 0:t.reactionLiteral;return babelHelpers.extends({},e,{count:(u||(u=o("I64"))).to_int32(e.count),reactionLiteral:n})})},[T,S,v,b],i.id+":220");o("MWReactionUtils").useSortReactionsForBroadcastChat(W,S);var q=Array.from(new Set(W.map(function(e){var t;return(t=e.reactionLiteral)!=null?t:""}))),U=M&&w===!0?q:q.slice(0,A),V=f!=null&&N?k(U):k(Array.from(new Set(m.map(function(e){var t=e.reaction;return t}))).slice(0,A)),H=f!=null&&N?(u||(u=o("I64"))).to_int32(W.reduce(function(e,t){return(u||(u=o("I64"))).add(e,u.of_int32(t.count))},(u||(u=o("I64"))).zero)):m.length,G=E(V,H),z=h(null),j=g(function(){return a!=null?a:N?r("JSResourceForInteraction")("MWBroadcastChatReactionsDialog.react").__setRef("MWPMessageReactions.react"):r("JSResourceForInteraction")("MWV2ChatReactionsDialog.react").__setRef("MWPMessageReactions.react")},[a,N]),K=g(function(){return{message:l,onLoadComplete:function(t){return O.current.set(t,t),function(){O.current.delete(t)}},thread:{threadKey:S}}},[l,S]),Q=p(function(){I(function(){return!1}),L(function(){return!0})},[L,I]),X=r("useMWXLazyDialog")(j),Y=X[0],J=p(function(e){I(function(){return!0}),Y(babelHelpers.extends({},K,{initialTab:e}),Q),s==null||s(),B()},[K,Q,s,I,Y,B]),Z={eventName:"open_message_reactions_dialog",threadKey:S};return M||!F?n(V,H,m,l,S,J,x,P):d.jsx(r("MWXPressable.react"),{"aria-label":G,loggingEvent:Z,onPress:function(){return J()},overlayDisabled:!0,ref:z,children:n(V,H,m,l,S,J,!1,r("emptyFunction"))})}I.displayName=I.name+" [from "+i.id+"]",l.useReactions=b,l.useReactionsV2=S,l.useNonZeroCountReactionsV2=R,l.MWPMessageReactions=I}),226);
__d("isMWEditedMessage",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=t.editCount!=null&&(e||(e=o("I64"))).gt(t.editCount,(e||(e=o("I64"))).zero);return n&&!t.isUnsent}l.default=s}),98);
__d("MWPBaseMessageContent.react",["I64","InteractionTracingMetrics","LSIntEnum","LSMessageHiddenState","LSReplyMessageAttachmentType","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MWGenAIUtils","MWMediaRenderQplUtils","MWPAttachmentDataContext","MWPMessageHasXMA","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPThreadCapabilitiesContext","gkx","isMWBumpMessage","isMWEditedMessage","mwpMessageHasAttachment","mwpMessageIsReply","react","useXMAPreviewsDisabledSetting","useXMAV2Provider","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useEffect;function _(e){var t=e.attachmentRenderPosition,n=e.isEmojiOnly,a=e.isFirstMessageInGroup,i=e.isLastMessageInGroup,l=e.isMessagePinned,d=e.isNextMessagePinned,_=e.isSearchPluginAttachment,f=e.isSecureMessage,g=e.mediaRenderQpl,h=e.message,y=e.nextMessage,C=e.outgoing,b=e.prevMessage,v=e.renderAttachment,S=e.renderEmoji,R=e.renderHiddenMessage,L=e.renderMessageBubble,E=e.shouldRenderMessageContent,k=e.xmaLayout,I=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),T=I.disableLinks,D=r("mwpMessageIsReply")(h),x=r("isMWEditedMessage")(h),$=y!=null&&r("isMWEditedMessage")(y),P=o("MWPMessageParsingUtils").hasText(h),N=m(o("MWPAttachmentDataContext").MWPAttachmentDataContext),M=N.attachments,w=M!=null&&M.length>0?M[0]:null,A=r("MWPMessageHasXMA")(h)&&w!=null,F=r("useXMAV2Provider")(M)!=null,O=o("MWPMessageReactions.react").useReactions(h),B=O.length>0,W=o("MWPMessageReactions.react").useReactions(b),q=W.length>0,U=r("gkx")("24165")&&T&&A&&h.textHasLinks;p(function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"message_row_has_attachment",A?1:0),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type",h.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(h.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(h)),r("InteractionTracingMetrics").addMetadata(e.traceId,"content_type_num",(s||(s=o("I64"))).to_string(h.displayedContentTypes))}),g==null||g.addAnnotations({bool:{message_type_supports_attachment:r("mwpMessageHasAttachment")(h)}}),r("mwpMessageHasAttachment")(h)&&!U&&(g==null||g.addPoint("base-message-render-attachment"),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"base-message-render-attachment","AppTiming")}))},[A,g,h,U]);var V=r("isMWBumpMessage")(h.replyType),H=r("useXMAPreviewsDisabledSetting")(),G=f===!0&&H&&o("MAWIsFBXMA").isFBXMA(w==null?void 0:w.xmaContentType),z=o("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(h.displayedContentTypes,w),j=!z&&!G&&!V&&A&&t==="below"&&!U&&!_,K=t==="below"?!D&&!a&&!l&&!x&&!q:!1,Q=z||G||!i&&!d&&!$&&!B||(k===o("xmaLayouts").XMA_LAYOUTS.UNIFIED_LAYOUT?j:!1);if(R!=null&&!C&&(s||(s=o("I64"))).equal(h.messageHiddenState,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)))return c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,R(Q,K,j)]});var X;E?X=h.text!=null?n?D?c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)}):c.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[K?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsx("div",{className:"x1n2onr6 x1vjfegm",children:S(h)})]}):h.text!==""?c.jsxs(c.Fragment,{children:[K||t==="above"?c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,c.jsxs("div",{className:"x78zum5 xh8yej3",role:"none",children:[C?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,L(h,K,Q,j,C,F),C?null:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:!D,children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})})]})]}):null:null:X=null;var Y=h.replyAttachmentType!==void 0&&(s||(s=o("I64"))).to_float(h.replyAttachmentType)===r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION,J,Z=w!=null&&o("MWGenAIUtils").isMetaAIThread(h.senderId);return(r("mwpMessageHasAttachment")(h)||Z)&&!U&&!Y&&(J=v(o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(h,b,t),o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(h,y,t),P)),c.jsxs(c.Fragment,{children:[t==="above"?J:null,X,t==="below"?J:null]})}_.displayName=_.name+" [from "+i.id+"]",l.MWPBaseMessageContent=_}),98);
__d("MWPBaseMessageContentWithPinnedMessageSupport.react",["MWPBaseMessageContent.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(20),n=e.attachmentRenderPosition,a=e.isEmojiOnly,i=e.isFirstMessageInGroup,l=e.isLastMessageInGroup,u=e.isSearchPluginAttachment,c=e.isSecureMessage,d=e.mediaRenderQpl,m=e.message,p=e.nextMessage,_=e.outgoing,f=e.prevMessage,g=e.renderAttachment,h=e.renderEmoji,y=e.renderHiddenMessage,C=e.renderMessageBubble,b=e.shouldRenderMessageContent,v=e.xmaLayout,S=r("useMWPIsMessagePinned")(m),R=r("useMWPIsMessagePinned")(p),L;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==S||t[5]!==R||t[6]!==u||t[7]!==c||t[8]!==d||t[9]!==m||t[10]!==p||t[11]!==_||t[12]!==f||t[13]!==g||t[14]!==h||t[15]!==y||t[16]!==C||t[17]!==b||t[18]!==v?(L=s.jsx(o("MWPBaseMessageContent.react").MWPBaseMessageContent,{attachmentRenderPosition:n,isEmojiOnly:a,isFirstMessageInGroup:i,isLastMessageInGroup:l,isMessagePinned:S,isNextMessagePinned:R,isSearchPluginAttachment:u,isSecureMessage:c,mediaRenderQpl:d,message:m,nextMessage:p,outgoing:_,prevMessage:f,renderAttachment:g,renderEmoji:h,renderHiddenMessage:y,renderMessageBubble:C,shouldRenderMessageContent:b,xmaLayout:v}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=S,t[5]=R,t[6]=u,t[7]=c,t[8]=d,t[9]=m,t[10]=p,t[11]=_,t[12]=f,t[13]=g,t[14]=h,t[15]=y,t[16]=C,t[17]=b,t[18]=v,t[19]=L):L=t[19],L}l.default=c}),98);
__d("mwpIsMessageUnsupported",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return(e||(e=o("I64"))).equal(t.displayedContentTypes,(e||(e=o("I64"))).zero)&&n.length===0}l.default=s}),98);
__d("MWPBaseMessage.react",["LSBitFlag","LSIntEnum","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPAttachmentDataContext","MWPBaseMessageContentWithPinnedMessageSupport.react","MWPMessageListColumn.react","MessengerWebUXLogger","mwpIsMessageUnsupported","mwv2MessageIsEmojiOnly","react","react-compiler-runtime","react-strict-dom","useGetMediaGroupInformation","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext,d={container:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"xdt5ytf",maxWidth:"x193iq5w",position:"x1n2onr6",userSelect:"x1kxipp6",$$css:!0},footerForGroupedImageStack:{paddingInlineEnd:"xv54qhq",$$css:!0},footerForGroupedImageTile:{paddingInlineEnd:"xj46xog",$$css:!0},outgoing:{alignItems:"xuk3077",$$css:!0},row_container:{display:"x78zum5",width:"xh8yej3",$$css:!0}};function m(e,t){return o("LSBitFlag").has((s||(s=o("LSIntEnum"))).ofNumber(128),e.displayedContentTypes)?!0:r("mwv2MessageIsEmojiOnly")(e.text,t)}function p(e){var t=o("react-compiler-runtime").c(71),n=e.attachmentRenderPosition,a=e.checkEmoticon,i=e.id,l=e.isFirstMessageInGroup,s=e.isLastMessageInGroup,p=e.isSearchPluginAttachment,_=e.isSecureMessage,f=e.mediaRenderQpl,g=e.message,h=e.nextMessage,y=e.outgoing,C=e.prevMessage,b=e.reactions,v=e.renderAttachment,S=e.renderEmoji,R=e.renderHiddenMessage,L=e.renderMessageBubble,E=e.renderMessageContainer,k=e.renderMessageFooter,I=e.renderMessageFromBlockee,T=e.renderUnsentMessage,D=e.renderUnsentMessageFooter,x=e.renderUnsupportedMessage,$=e.shouldRenderFooterForUnsentMessage,P=e.shouldRenderMessageContent,N=e.xmaLayout,M=n===void 0?"below":n,w=p===void 0?!1:p,A=$===void 0?!1:$,F=P===void 0?!0:P,O=N===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:N,B;t[0]===Symbol.for("react.memo_cache_sentinel")?(B={eventName:"messagelist_message_impression"},t[0]=B):B=t[0];var W=r("MessengerWebUXLogger").useImpressionLoggerRef(B),q=o("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(g.threadKey),U=r("MWBlockingProtectionContext.react").useHook(),V=U.addMessageId,H=U.findMessageId,G=r("useGetMediaGroupInformation")(g,_!=null?_:!1,f),z=c(o("MWPAttachmentDataContext").MWPAttachmentDataContext),j=z.attachments,K=r("mwpIsMessageUnsupported")(g,j);if(g.isUnsent)if(T!=null){var Q;t[1]!==T?(Q=T(),t[1]=T,t[2]=Q):Q=t[2];var X;t[3]!==D||t[4]!==A?(X=A&&D!=null&&u.jsx("div",{children:D()}),t[3]=D,t[4]=A,t[5]=X):X=t[5];var Y;return t[6]!==Q||t[7]!==X?(Y=u.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[Q,X]}),t[6]=Q,t[7]=X,t[8]=Y):Y=t[8],Y}else return null;if(K)if(x!=null){var J;t[9]!==x?(J=x(),t[9]=x,t[10]=J):J=t[10];var Z;return t[11]!==J?(Z=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:J}),t[11]=J,t[12]=Z):Z=t[12],Z}else return null;if(!H(g.messageId)&&q&&I!=null){var ee;t[13]!==V||t[14]!==g.messageId?(ee=function(){V(g.messageId)},t[13]=V,t[14]=g.messageId,t[15]=ee):ee=t[15];var te;t[16]!==I||t[17]!==ee?(te=I(ee),t[16]=I,t[17]=ee,t[18]=te):te=t[18];var ne;return t[19]!==te?(ne=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:te}),t[19]=te,t[20]=ne):ne=t[20],ne}var re;t[21]!==a||t[22]!==g?(re=m(g,a),t[21]=a,t[22]=g,t[23]=re):re=t[23];var oe=re,ae;t[24]!==M||t[25]!==oe||t[26]!==l||t[27]!==s||t[28]!==w||t[29]!==_||t[30]!==f||t[31]!==g||t[32]!==h||t[33]!==y||t[34]!==C||t[35]!==v||t[36]!==S||t[37]!==R||t[38]!==L||t[39]!==F||t[40]!==O?(ae=u.jsx(r("MWPBaseMessageContentWithPinnedMessageSupport.react"),{attachmentRenderPosition:M,isEmojiOnly:oe,isFirstMessageInGroup:l,isLastMessageInGroup:s,isSearchPluginAttachment:w,isSecureMessage:_,mediaRenderQpl:f,message:g,nextMessage:h,outgoing:y,prevMessage:C,renderAttachment:v,renderEmoji:S,renderHiddenMessage:R,renderMessageBubble:L,shouldRenderMessageContent:F,xmaLayout:O}),t[24]=M,t[25]=oe,t[26]=l,t[27]=s,t[28]=w,t[29]=_,t[30]=f,t[31]=g,t[32]=h,t[33]=y,t[34]=C,t[35]=v,t[36]=S,t[37]=R,t[38]=L,t[39]=F,t[40]=O,t[41]=ae):ae=t[41];var ie=ae,le;t[42]!==y?(le=y?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}):null,t[42]=y,t[43]=le):le=t[43];var se;t[44]!==ie||t[45]!==y||t[46]!==E?(se=E!=null?E(ie,[d.container,y?d.outgoing:!1]):u.jsx(o("react-strict-dom").html.div,{style:[d.container,y?d.outgoing:!1],children:ie}),t[44]=ie,t[45]=y,t[46]=E,t[47]=se):se=t[47];var ue;t[48]!==y?(ue=y?null:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnHorizontalSpacer,{})}),t[48]=y,t[49]=ue):ue=t[49];var ce;t[50]!==W||t[51]!==se||t[52]!==ue||t[53]!==le?(ce=u.jsxs(o("react-strict-dom").html.div,{ref:W,role:"none",style:d.row_container,children:[le,se,ue]}),t[50]=W,t[51]=se,t[52]=ue,t[53]=le,t[54]=ce):ce=t[54];var de;t[55]!==oe||t[56]!==b?(de=oe&&b.length>0?u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:5}):null,t[55]=oe,t[56]=b,t[57]=de):de=t[57];var me=G!=null&&G.groupSize>=4&&d.footerForGroupedImageStack,pe=!y&&G!=null&&G.groupSize<4&&d.footerForGroupedImageTile,_e;t[58]!==me||t[59]!==pe?(_e=[me,pe],t[58]=me,t[59]=pe,t[60]=_e):_e=t[60];var fe;t[61]!==k?(fe=k(),t[61]=k,t[62]=fe):fe=t[62];var ge;t[63]!==_e||t[64]!==fe?(ge=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("react-strict-dom").html.div,{style:_e,children:fe})}),t[63]=_e,t[64]=fe,t[65]=ge):ge=t[65];var he;return t[66]!==i||t[67]!==ce||t[68]!==de||t[69]!==ge?(he=u.jsxs("div",{id:i,children:[ce,de,ge]}),t[66]=i,t[67]=ce,t[68]=de,t[69]=ge,t[70]=he):he=t[70],he}l.default=p}),98);
__d("MWPBaseMessageListRowCountdown.react",["MAWEphemeralMessageTimer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ariaHidden,a=e.ephemeralDurationInSec,i=e.expirationTimestamp,l=e.handleMessageExpired,u=n===void 0?!1:n,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x78zum5 xdt5ytf x1c4vz4f xl56j7k x4ii5y1 xr1yuqi x135b78x x11lfxj5 x1vjfegm"},t[0]=c):c=t[0];var d;t[1]!==a||t[2]!==i||t[3]!==l?(d=s.jsx(r("MAWEphemeralMessageTimer.react"),{ephemeralDurationInSec:a,expirationTimestamp:i,handleMessageExpired:l}),t[1]=a,t[2]=i,t[3]=l,t[4]=d):d=t[4];var m;return t[5]!==u||t[6]!==d?(m=s.jsx("div",babelHelpers.extends({"aria-hidden":u},c,{children:d})),t[5]=u,t[6]=d,t[7]=m):m=t[7],m}l.default=u}),98);
__d("useIsAdsAIChat",["AdsAIMessengerUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.participants||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t)},n[0]=a.tables.participants,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var u=o("ReQLSuspense").useArray(l,s,i.id+":23"),c;n[6]!==u?(c=u.some(d),n[6]=u,n[7]=c):c=n[7];var m=c;return m}function d(e){return o("AdsAIMessengerUtils").isAdsAIParticipant(e.contactId)}l.default=c}),98);
__d("MWPBaseMessageListRow.react",["BaseThemeProvider.react","I64","LSIntEnum","MWCombineThemeConfigs","MWMessageDeliveryStatus","MWPBaseMessageListRowActions.react","MWPBaseMessageListRowCountdown.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWXMessageBubbleRow.react","gkx","mwpMessageIsReply","react","react-compiler-runtime","stylex","useIsAdsAIChat","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useCallback,_=m.useMemo;function f(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=e.message,a=e.prevMessage,i=o("MWPMessageParsingUtils").isStartOfGroup(r,a);if(i){var l;return t[0]!==n?(l=n(),t[0]=n,t[1]=l):l=t[1],l}return null}function g(e){return(u||(u=o("I64"))).equal(u.and_(e.displayedContentTypes,(c||(c=o("LSIntEnum"))).ofNumber(2048)),u.zero)}function h(e){var t,n=o("react-compiler-runtime").c(34),a=e.children,i=e.handleMessageExpired,l=e.hasMessageEmphasisRing,s=e.hasReactions,u=e.message,c=e.originalBumpedMsg,m=e.outgoing,p=e.renderGutterItem,_=e.renderMessageActions,f=e.renderMultiReactions,h=e.renderProfile;r("vulture")("71NLd6uUBU2oATZqcdtC8cjUy78=");var y=c!=null?c:u,C;n[0]!==y?(C=r("mwpMessageIsReply")(y),n[0]=y,n[1]=C):C=n[1];var b=C,v=u.ephemeralExpirationTs,S=u.ephemeralDurationInSec,R=u.isUnsent,L;n[2]!==u.sendStatusV2?(L=o("MWMessageDeliveryStatus").getFromSendStatus(u.sendStatusV2),n[2]=u.sendStatusV2,n[3]=L):L=n[3];var E=L.type==="Sending",k=(t=r("useIsAdsAIChat")(u.threadKey))!=null?t:!1,I=k,T;n[4]!==f?(T=f&&f(),n[4]=f,n[5]=T):T=n[5];var D=T,x=D!=null,$=r("gkx")("7737"),P;n[6]!==S||n[7]!==v||n[8]!==i||n[9]!==R||n[10]!==u||n[11]!==_||n[12]!==E?(P=g(u)?d.jsxs(d.Fragment,{children:[v!=null&&!R?d.jsx(r("MWPBaseMessageListRowCountdown.react"),{ephemeralDurationInSec:S,expirationTimestamp:v,handleMessageExpired:i}):null,_(E)]}):d.jsx(o("MWPBaseMessageListRowActions.react").MWPBaseMessageListRowActionsEmptyList,{}),n[6]=S,n[7]=v,n[8]=i,n[9]=R,n[10]=u,n[11]=_,n[12]=E,n[13]=P):P=n[13];var N=I?"bottom":"center",M=s?18:0,w;n[14]!==m||n[15]!==p||n[16]!==h?(w=m?$?null:p():d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:h()}),n[14]=m,n[15]=p,n[16]=h,n[17]=w):w=n[17];var A=m?"right":"left",F=!m||b||l===!0,O;n[18]!==a||n[19]!==F||n[20]!==P||n[21]!==N||n[22]!==M||n[23]!==w||n[24]!==A?(O=d.jsx(r("MWXMessageBubbleRow.react"),{addOnEnd:P,addOnEndVerticalAlign:N,addOnPaddingBottom:M,addOnStart:w,addOnStartVerticalAlign:"bottom",align:A,opaque:F,testid:void 0,children:a}),n[18]=a,n[19]=F,n[20]=P,n[21]=N,n[22]=M,n[23]=w,n[24]=A,n[25]=O):O=n[25];var B=O,W;n[26]!==B||n[27]!==p?(W=$?d.jsxs("div",{children:[B,d.jsx("div",{className:"x1eb86dx x78zum5 x15zctf7",children:d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:p()})})]}):B,n[26]=B,n[27]=p,n[28]=W):W=n[28];var q=W,U;return n[29]!==x||n[30]!==q||n[31]!==D||n[32]!==m?(U=x?d.jsxs("div",{className:"x78zum5 xdt5ytf x1n2onr6",role:"none",children:[q,d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:d.jsx("div",babelHelpers.extends({},{0:{className:"x78zum5 x1vjfegm x1hwjw2i"},1:{className:"x1vjfegm x78zum5 x15zctf7 x2fvf9 x1lziwak"}}[!!m<<0],{children:D}))})]}):q,n[29]=x,n[30]=q,n[31]=D,n[32]=m,n[33]=U):U=n[33],U}function y(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=e.message,a=e.nextMessage,i=e.showContent,l=o("MWPMessageParsingUtils").isEndOfGroup(r,a);if(l||i===!0){var s;return t[0]!==n?(s=n(),t[0]=n,t[1]=s):s=t[1],s}return null}var C={"mwp-reply-background-color":"var(--comment-footer-background)"},b={"mwp-reply-background-color":"var(--comment-footer-background)"},v={dark:b,light:C,type:"VARIABLES"};function S(t){var n=o("react-compiler-runtime").c(15),a=t.children,i=t.domElementRef,l=t.role,s=t.setHovered,u=t.stopHoveringRef,c=t.theme,m=t.xstyle,p=c===void 0?v:c,_;n[0]!==s?(_=function(){return s(E)},n[0]=s,n[1]=_):_=n[1];var f=_,g;n[2]!==p?(g=o("MWCombineThemeConfigs").combine(v,p),n[2]=p,n[3]=g):g=n[3];var h=g,y;n[4]!==a||n[5]!==i||n[6]!==l||n[7]!==s||n[8]!==f||n[9]!==u||n[10]!==m?(y=function(n,o){return d.jsx("div",{className:(e||(e=r("stylex")))(n,m),onMouseEnter:function(){u.current&&u.current(),s(L),u.current=f},onMouseLeave:function(){if(u.current===f){f(),u.current=R;return}},ref:i,role:l,style:babelHelpers.extends({},o),children:a})},n[4]=a,n[5]=i,n[6]=l,n[7]=s,n[8]=f,n[9]=u,n[10]=m,n[11]=y):y=n[11];var C;return n[12]!==h||n[13]!==y?(C=d.jsx(r("BaseThemeProvider.react"),{config:h,children:y}),n[12]=h,n[13]=y,n[14]=C):C=n[14],C}function R(){}function L(){return!0}function E(){return!1}l.MWPBaseMessageListRowBeforeContent=f,l.MWPBaseMessageListRowBody=h,l.MWPBaseMessageListRowFooter=y,l.MWPBaseMessageListRow=S}),98);
__d("MercuryTimestamp",["fbt","formatDate"],(function(t,n,r,o,a,i,l){var e=864e5,s=6*e,u={getFormatedTimestamp:function(t){var e=t/1e3;return u.getFormattedTimestampByBucket(e,u.getTimeBucket(t))},getAbsoluteTimestamp:function(t){if(t==null)return null;var e=u.getFormatedTimestamp(t);return e.absolute},getRelativeTimestamp:function(t){var e=u.getFormatedTimestamp(t);return e.relative},getFormattedTimestampByBucket:function(t,r){switch(r){case 0:return{absolute:l._(/*BTDS*/"Today").toString(),relative:n("formatDate")(t,"g:ia")};case 1:return{absolute:n("formatDate")(t,"l"),relative:n("formatDate")(t,"D")};case 3:return{absolute:n("formatDate")(t,"F j"),relative:n("formatDate")(t,"M j")};default:return{absolute:n("formatDate")(t,"F j, Y"),relative:n("formatDate")(t,"n/j/y")}}},getTimeBucket:function(t){var e=new Date(t),n=new Date,r=new Date(n.getFullYear(),n.getMonth(),n.getDate());return r<e?0:r.getTime()-s<e.getTime()?1:r.getFullYear()===e.getFullYear()?3:4},getPreciseTimestamp:function(t){return n("formatDate")(new Date(t),u.getPreciseFormat(t))},getPreciseFormat:function(t){var e=u.getTimeBucket(t);switch(e){case 0:return"g:ia";case 1:return"l g:ia";case 3:return"F jS, g:ia";case 4:default:return"F j, Y g:i a"}}};a.exports=u}),130);
__d("MWPBaseMessageRowHeaderTimestamp.react",["I64","MercuryTimestamp","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(9),a=t.message,i=t.renderText,l=t.renderTimestamp,u=t.xstyle,d;n[0]!==u?(d=(e||(e=r("stylex"))).props(u),n[0]=u,n[1]=d):d=n[1];var m;n[2]!==a.timestampMs||n[3]!==i||n[4]!==l?(m=i(l(r("MercuryTimestamp").getRelativeTimestamp((s||(s=o("I64"))).to_float(a.timestampMs)))),n[2]=a.timestampMs,n[3]=i,n[4]=l,n[5]=m):m=n[5];var p;return n[6]!==d||n[7]!==m?(p=c.jsx("div",babelHelpers.extends({},d,{children:m})),n[6]=d,n[7]=m,n[8]=p):p=n[8],p}l.default=d}),98);
__d("MWXHovercardTrigger.react",["BaseHovercardTrigger.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("BaseHovercardTrigger.react")}),98);
__d("useMWMarketplaceThreadRoles",["LSMessagingThreadTypeUtil","MWLSThread","MessagingSpecialThreadRole","MessagingSpecialThreadRoleBitOffset","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(16),l=(e||(e=r("useReStore")))(),s=o("MWLSThread").useThread(t),u;a[0]!==s?(u=(s==null?void 0:s.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(s.threadType),a[0]=s,a[1]=u):u=a[1];var c=u,d,m;a[2]!==l||a[3]!==c||a[4]!==n||a[5]!==t?(d=function(){return c?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t,n):o("ReQL").empty()},m=[l,t,n,c],a[2]=l,a[3]=c,a[4]=n,a[5]=t,a[6]=d,a[7]=m):(d=a[6],m=a[7]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":39");if(p==null||!c){var _;return a[8]===Symbol.for("react.memo_cache_sentinel")?(_={isMarketplaceBuyer:!1,isMarketplaceSeller:!1},a[8]=_):_=a[8],_}var f;a[9]!==p?(f=o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_BUYER,p),a[9]=p,a[10]=f):f=a[10];var g;a[11]!==p?(g=o("MessagingSpecialThreadRoleBitOffset").has(r("MessagingSpecialThreadRole").MARKETPLACE_SELLER,p),a[11]=p,a[12]=g):g=a[12];var h;return a[13]!==f||a[14]!==g?(h={isMarketplaceBuyer:f,isMarketplaceSeller:g},a[13]=f,a[14]=g,a[15]=h):h=a[15],h}l.default=s}),98);
__d("MWPMessageRoleText.react",["fbt","BaseMiddot.react","LSMessagingThreadTypeUtil","MWCMGetValidId","MWCMHostTextHovercard.entrypoint","MWLSThread","MWXHovercardTrigger.react","MWXText.react","react","react-compiler-runtime","react-strict-dom","useMWCMIsSenderAdModOrChatHost","useMWMarketplaceThreadRoles"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t=o("react-compiler-runtime").c(15),n=e.communityId,a=e.senderId,i=e.shouldRenderSenderName,l=e.threadKey,c=r("useMWMarketplaceThreadRoles")(l,a),d=c.isMarketplaceBuyer,_=c.isMarketplaceSeller,f=r("useMWCMIsSenderAdModOrChatHost")(n,l,a),g=f.isAdmin,h=f.isChatHost,y=f.isModerator,C=g||y||h||d||_,b;if(g){var v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"Admin"),t[0]=v):v=t[0],b=v}else if(y){var S;t[1]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"Moderator"),t[1]=S):S=t[1],b=S}else if(h){var R;t[2]!==l?(R={onClose:p,threadKey:l},t[2]=l,t[3]=R):R=t[3];var L;t[4]===Symbol.for("react.memo_cache_sentinel")?(L={},t[4]=L):L=t[4];var E;t[5]!==R?(E=u.jsx(r("MWXHovercardTrigger.react"),{align:"middle",display:"inline-block",popoverEntryPoint:r("MWCMHostTextHovercard.entrypoint"),popoverOtherProps:R,popoverProps:L,position:"above",children:m}),t[5]=R,t[6]=E):E=t[6],b=E}else if(d){var k;t[7]===Symbol.for("react.memo_cache_sentinel")?(k=s._(/*BTDS*/"Buyer"),t[7]=k):k=t[7],b=k}else if(_){var I;t[8]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"Seller"),t[8]=I):I=t[8],b=I}else b=null;var T=b,D;t[9]!==C||t[10]!==T||t[11]!==i?(D=i&&C&&u.jsxs(u.Fragment,{children:[u.jsx(r("BaseMiddot.react"),{}),u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:T})]}),t[9]=C,t[10]=T,t[11]=i,t[12]=D):D=t[12];var x;return t[13]!==D?(x=u.jsx(u.Fragment,{children:D}),t[13]=D,t[14]=x):x=t[14],x}function m(e){return u.jsx(r("MWXText.react"),{ref:e,type:"meta4",children:s._(/*BTDS*/"Host")})}m.displayName=m.name+" [from "+i.id+"]";function p(){}function _(e){var t=e.communityId,n=e.message,r=e.shouldRenderSenderName,a=o("MWLSThread").useThread(n.threadKey),i=(a==null?void 0:a.threadType)!=null&&o("LSMessagingThreadTypeUtil").isMarketplaceThread(a.threadType);return!o("MWCMGetValidId").MWCMHasValidFbGroupId(t,!1)&&!i?null:u.jsx(d,{communityId:t,senderId:n.senderId,shouldRenderSenderName:r,threadKey:n.threadKey})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWXIconBot",["MWXSvgIcon","SVGIcon","cr:22232","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22232")),r("gkx")("23219"));l.default=e}),98);
__d("useMessageAttachments",["I64","ReQL","ReQLSuspense","mwpMessageHasAttachment","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=(s||(s=r("useReStore")))(),a=r("mwpMessageHasAttachment")(t);return o("ReQLSuspense").useArray(function(){return a?o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(t.threadKey,t.messageId):o("ReQL").empty()},[n,t.threadKey,t.messageId,a],i.id+":26").toSorted(function(t,n){return(e||(e=o("I64"))).compare(t.attachmentIndex,n.attachmentIndex)})}l.default=u}),98);
__d("usePinnedTextAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState,m="xekv6nw-B",p="x17qceat-B",_={mountAnimation:{animationDuration:"x5hsz1j",animationName:"x127lhb5",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(6),n=d(!1),a=n[0],i=n[1],l=c(e),s,m;t[0]!==e?(s=function(){e!==l.current&&i(!0),l.current=e},m=[e],t[0]=e,t[1]=s,t[2]=m):(s=t[1],m=t[2]),u(s,m);var p=a?_.mountAnimation:null,f=r("useDebouncedValue")(e,200),g;return t[3]!==p||t[4]!==f?(g={mountAnimation:p,shouldShow:f,unmountAnimation:_.unmountAnimation},t[3]=p,t[4]=f,t[5]=g):g=t[5],g}l.default=f}),98);
__d("MWPMessageEyebrows.react",["fbt","Actor","BaseMiddot.react","I64","LSContactBitOffset","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWLSThread","MWMessageListDisplayContext.react","MWPAccessibleEyebrowsText.react","MWPContactContext.react","MWPMessageAuthor.react","MWPMessageListColumn.react","MWPMessageRoleText.react","MWPThreadIsPage.react","MWXIconBadgeCheckmark","MWXIconBot","MWXIconStrict.react","MessagingAttachmentType","ReQL","ReQLSuspense","isMWEditedMessage","react","react-compiler-runtime","react-strict-dom","useMWPIsMessagePinned","useMessageAttachments","usePinnedTextAnimation","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p={alignEnd:{justifyContent:"x13a6bvl",$$css:!0},alignStart:{justifyContent:"x1nhvcw1",$$css:!0},botBadge:{display:"x1rg5ohu",paddingInlineStart:"x135b78x",position:"x1n2onr6",top:"xs7f9wi",$$css:!0},color:{color:"x186z157",$$css:!0},container:{display:"x78zum5",marginTop:"x1anpbxc",paddingBottom:"x10b6aqq",paddingInlineStart:"x1g0dm76",$$css:!0},separator:{paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.children,r=e.outgoing,a=r?p.alignEnd:p.alignStart,i;t[0]!==a?(i=[p.container,a],t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=m.jsx(o("react-strict-dom").html.div,{style:i,children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}function f(t){var n,a=t.isFirstMessageInGroup,l=t.isLastMessageInGroup,d=t.message,f=t.outgoing,g=t.renderPaidPartnerShipText,h=t.renderPinnedText,y=t.renderTextWrapper,C=t.shouldRenderSenderName,b=o("MWPMessageAuthor.react").useAuthorName(),v=b[0],S=o("MWPContactContext.react").useMWPContactStableContext(),R=S.contact,L=S.nickname,E=o("Actor").useActor(),k=E[0],I=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),T=I.isReportMessageList,D=I.isStandardMessageList,x=(e||(e=r("useReStore")))(),$=r("useMessageAttachments")(d),P=o("MWLSThread").useThread(d.threadKey,function(e){return e.parentThreadKey}),N=o("ReQLSuspense").useFirst(function(){return P!=null?o("ReQL").fromTableAscending(x.tables.community_folders).getKeyRange(P).map(function(e){return e.folderId}):o("ReQL").empty()},[x,P],i.id+":114"),M=(function(){if(d.metadataDataclass==null)return!1;try{var e=JSON.parse(d.metadataDataclass),t=e==null?void 0:e.ai_metadata;return(t==null?void 0:t.imagine_intent_feature)==="edit_user_image"&&(t==null?void 0:t.is_ai_generated)===!0}catch(e){return!1}})(),w=r("isMWEditedMessage")(d),A=o("MWPThreadIsPage.react").useIsPage(),F=o("MWLSThread").useThread(d.threadKey,function(e){return e.threadType}),O=F!=null&&o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(F),B=R?!(u||(u=o("I64"))).equal(R.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED)):!1,W=A&&!(u||(u=o("I64"))).equal(d.senderId,d.threadKey)&&!f,q=W&&!O;q=q&&a;var U=R?o("LSContactBitOffset").has(77,R):!1,V=R?o("LSContactBitOffset").has(84,R):!1,H=r("useMWPIsMessagePinned")(d),G=r("usePinnedTextAnimation")(H),z=G.mountAnimation,j=d.isPaidPartnership===!0,K=d.groupId!=null&&d.groupIndex!=null&&(u||(u=o("I64"))).to_int32(d.groupIndex)===0&&(u||(u=o("I64"))).to_int32((n=d.groupSize)!=null?n:(u||(u=o("I64"))).zero)>=4,Q=$!=null&&$.length>=4&&$.every(function(e){return(u||(u=o("I64"))).equal(e.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}),X=(C||q)&&!K&&!Q,Y=X||H||w||M||j||K||Q,J="";if(Q&&$!=null&&$.length>1)J=$.length.toString();else if(K){var Z;J=(u||(u=o("I64"))).to_int32((Z=d.groupSize)!=null?Z:(u||(u=o("I64"))).zero).toString()}var ee=L!=null?L:s._(/*BTDS*/"You"),te=k===(u||(u=o("I64"))).to_string(d.senderId),ne=te?ee.toString():v==null?void 0:v.toString(),re=l&&a,oe=s._(/*BTDS*/"Member");if(!Y)return m.jsx(r("MWPAccessibleEyebrowsText.react"),{message:d,outgoing:f});var ae=function(t){var e=X&&t!=null||H||B,n=m.jsx(_,{outgoing:f,children:y(m.jsxs(o("react-strict-dom").html.span,{style:p.color,children:[(X||B)&&t!=null&&m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:t}),m.jsx(r("MWPMessageRoleText.react"),{communityId:N,message:d,shouldRenderSenderName:X}),H&&!B&&m.jsx(o("react-strict-dom").html.span,{style:z,children:h(d,X)}),B&&m.jsxs(m.Fragment,{children:[m.jsx(o("react-strict-dom").html.span,{children:m.jsx(r("BaseMiddot.react"),{})}),m.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,children:s._(/*BTDS*/"Blocked")})]}),w&&m.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{hasPadding:!re&&!a,separatorStyle:e?p.separator:null}),M&&m.jsxs(m.Fragment,{children:[e||w?m.jsx(o("react-strict-dom").html.span,{style:p.separator,children:m.jsx(r("BaseMiddot.react"),{})}):null,m.jsx(o("react-strict-dom").html.span,{children:s._(/*BTDS*/"Edited with Meta AI")})]}),U===!0?m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconBot"),size:12})}):null,V&&m.jsx(o("react-strict-dom").html.span,{style:p.botBadge,children:m.jsx(r("MWXIconStrict.react"),{color:"primaryAccent",icon:r("MWXIconBadgeCheckmark"),size:12})}),j&&g!=null&&g(d),(K||Q)&&!B&&m.jsxs(o("react-strict-dom").html.span,{"data-testid":void 0,children:[H&&D&&m.jsx(r("BaseMiddot.react"),{}),te?s._(/*BTDS*/"You sent {numberOfMedia} photos",[s._param("numberOfMedia",J)]):s._(/*BTDS*/"{senderName} sent {numberOfMedia} photos",[s._param("senderName",ne),s._param("numberOfMedia",J)])]})]}))});return T?m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:n}):m.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:n})};return d.takedownState!=null?ae(oe.toString()):ae(ne)}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),226);
__d("MWPBaseMessageRowHeader.react",["BaseHeading.react","BaseRow.react","BaseRowItem.react","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPBaseMessageRowHeaderTimestamp.react","MWPContactContext.react","MWPMessageEyebrows.react","MWPMessageListColumn.react","MWPThreadIsPage.react","mwpMessageIsReply","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d={alignEnd:{alignItems:"xuk3077",$$css:!0},header:{display:"x78zum5",flexDirection:"xdt5ytf",$$css:!0},timestamp:{marginTop:"x1anpbxc",paddingInlineEnd:"xjfo4ez",$$css:!0},timestampWithSnippet:{marginTop:"x1ok221b",paddingInlineEnd:"xjfo4ez",$$css:!0}};function m(e,t,n,a){var i=o("react-compiler-runtime").c(8),l=e.replySnippet,s=l!=null?l!=="":!1,c=e.replySourceTypeV2!=null&&(u||(u=o("LSIntEnum"))).toNumber(e.replySourceTypeV2)===r("LSMessageReplySourceTypeV2").FORWARD;if(s){var d;return i[0]!==e||i[1]!==a||i[2]!==n?(d=n(e,a),i[0]=e,i[1]=a,i[2]=n,i[3]=d):d=i[3],d}if(!c)return null;var m;return i[4]!==e||i[5]!==a||i[6]!==t?(m=t(e,a),i[4]=e,i[5]=a,i[6]=t,i[7]=m):m=i[7],m}function p(t){var n=o("react-compiler-runtime").c(41),a=t.alwaysRenderSenderName,i=t.isAnyCMThread,l=t.isFirstMessageInGroup,s=t.isGroupThread,u=t.isLastMessageInGroup,p=t.message,_=t.outgoing,f=t.renderForwardSnippet,g=t.renderMessageEyebrows,h=t.renderPaidPartnerShipText,y=t.renderPinnedText,C=t.renderReplySnippet,b=t.renderTextWrapper,v=t.renderTimestamp,S=a===void 0?!1:a,R=i===void 0?!1:i,L;n[0]!==p?(L=r("mwpMessageIsReply")(p),n[0]=p,n[1]=L):L=n[1];var E=L,k=m(p,f,C,_),I=o("MWPContactContext.react").useMWPContactStableContext(),T=I.nickname,D=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),x=D.isReportMessageList,$=l&&T!=null&&R,P=S||s&&l&&!_&&!E||$,N;if(k!=null){var M;n[2]!==_?(M=(e||(e=r("stylex"))).props(d.header,_?d.alignEnd:!1),n[2]=_,n[3]=M):M=n[3];var w;n[4]!==x||n[5]!==k?(w=x?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k}):c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:k}),n[4]=x,n[5]=k,n[6]=w):w=n[6];var A;n[7]!==M||n[8]!==w?(A=c.jsx("div",babelHelpers.extends({},M,{role:"none",children:w})),n[7]=M,n[8]=w,n[9]=A):A=n[9],N=A}else if(g!=null){var F;n[10]!==p||n[11]!==_||n[12]!==g||n[13]!==b||n[14]!==P?(F=g(p,_,b,P),n[10]=p,n[11]=_,n[12]=g,n[13]=b,n[14]=P,n[15]=F):F=n[15],N=F}else{var O;n[16]!==l||n[17]!==u||n[18]!==p||n[19]!==_||n[20]!==h||n[21]!==y||n[22]!==b||n[23]!==P?(O=c.jsx(r("MWPMessageEyebrows.react"),{isFirstMessageInGroup:l,isLastMessageInGroup:u,message:p,outgoing:_,renderPaidPartnerShipText:h,renderPinnedText:y,renderTextWrapper:b,shouldRenderSenderName:P}),n[16]=l,n[17]=u,n[18]=p,n[19]=_,n[20]=h,n[21]=y,n[22]=b,n[23]=P,n[24]=O):O=n[24];var B;n[25]!==p.threadKey||n[26]!==O?(B=c.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:p.threadKey,children:O}),n[25]=p.threadKey,n[26]=O,n[27]=B):B=n[27],N=B}var W=k!=null?d.timestampWithSnippet:d.timestamp,q;n[28]!==p||n[29]!==b||n[30]!==v||n[31]!==W?(q=v!=null?c.jsx(r("MWPBaseMessageRowHeaderTimestamp.react"),{message:p,renderText:b,renderTimestamp:v,xstyle:W}):null,n[28]=p,n[29]=b,n[30]=v,n[31]=W,n[32]=q):q=n[32];var U=q;if(l){var V=_?"backward":"forward",H;n[33]!==N?(H=c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:N})}),n[33]=N,n[34]=H):H=n[34];var G;n[35]!==U?(G=U!=null?c.jsx(r("BaseRowItem.react"),{children:c.jsx(r("BaseHeading.react"),{children:U})}):null,n[35]=U,n[36]=G):G=n[36];var z;return n[37]!==V||n[38]!==H||n[39]!==G?(z=c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsxs(r("BaseRow.react"),{direction:V,children:[H,G]})}),n[37]=V,n[38]=H,n[39]=G,n[40]=z):z=n[40],z}else return N}l.default=p}),98);
__d("MWTheme.react",["I64","cr:4128","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useContext,p=c.useEffect,_=c.useMemo;function f(e,t){var n=e!=null?e:.4,r=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),a=parseInt(t.slice(5,7),16),i=n.toFixed(4);return"rgba("+r+","+o+","+a+","+i+")"}function g(e){return e.type==="solid"?e.color:e.colors[0]}function h(e){return"#"+e.slice(2)}function y(e){var t=(s||(s=o("I64"))).to_int32(e),n=(t&16711680)>>>16,r=(t&65280)>>>8,a=t&255,i=function(t){return t.toString(16).padStart(2,"0")};return"#"+(i(n)+(i(r)+i(a)))}var C=d({clearTheme:r("emptyFunction"),setTheme:r("emptyFunction"),theme:n("cr:4128")});function b(){return m(C).theme}function v(){var e=o("react-compiler-runtime").c(6),t=m(C),n=t.clearTheme,r=t.setTheme,a,i;e[0]!==n?(a=function(){return n},i=[n],e[0]=n,e[1]=a,e[2]=i):(a=e[1],i=e[2]),p(a,i);var l;return e[3]!==n||e[4]!==r?(l=[r,n],e[3]=n,e[4]=r,e[5]=l):l=e[5],l}function S(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.clearTheme,i=e.setTheme,l=e.theme,s=a!=null?a:r("emptyFunction"),c=i!=null?i:r("emptyFunction"),d;t[0]!==s||t[1]!==c||t[2]!==l?(d={clearTheme:s,setTheme:c,theme:l},t[0]=s,t[1]=c,t[2]=l,t[3]=d):d=t[3];var m=d,p;return t[4]!==n||t[5]!==m?(p=u.jsx(C.Provider,{value:m,children:n}),t[4]=n,t[5]=m,t[6]=p):p=t[6],p}function R(e){return e.type==="gradient"}l.defaultTheme=n("cr:4128"),l.lighten=f,l.top=g,l.aRGBtoHex=h,l.intToHex=y,l.useTheme=b,l.usePreview=v,l.MWThemeProvider=S,l.isGradient=R}),98);
__d("MWPDateBreak.react",["BaseHeading.react","BaseTimestamp.react","MWTheme.react","MWXText.react","formatDate","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.renderTextWrapper,a=e.timestamp,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x186z157 xk50ysn"},t[0]=i):i=t[0];var l;t[1]!==a?(l=r("formatDate")(new Date(a),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),t[1]=a,t[2]=l):l=t[2];var u;t[3]!==l?(u=s.jsx("span",babelHelpers.extends({},i,{children:l})),t[3]=l,t[4]=u):u=t[4];var c=u;if(n!=null){var d;return t[5]!==n||t[6]!==c?(d=n(c),t[5]=n,t[6]=c,t[7]=d):d=t[7],d}return c}function c(e){var t=o("react-compiler-runtime").c(16),n=e.renderTextWrapper,a=e.timestamp,i=o("MWTheme.react").useTheme(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={className:"xzpqnlu x1hyvwdk xqtp20y x6ikm8r x10wlt62 xnalus7"},t[0]=l):l=t[0];var c;t[1]!==a?(c=new Date(a),t[1]=a,t[2]=c):c=t[2];var d;t[3]!==c?(d=s.jsx("div",babelHelpers.extends({},l,{children:s.jsx(r("BaseTimestamp.react"),{date:c})})),t[3]=c,t[4]=d):d=t[4];var m;t[5]!==i?(m={0:{className:"xjpr12u xr9ek0c x2b8uid"},1:{className:"xjpr12u xr9ek0c x2b8uid x1eb86dx"}}[!!o("MWTheme.react").isGradient(i)<<0],t[5]=i,t[6]=m):m=t[6];var p;t[7]!==n||t[8]!==a?(p=s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx(u,{renderTextWrapper:n,timestamp:a})}),t[7]=n,t[8]=a,t[9]=p):p=t[9];var _;t[10]!==m||t[11]!==p?(_=s.jsx("div",babelHelpers.extends({"aria-hidden":!0},m,{"data-scope":"date_break",children:p})),t[10]=m,t[11]=p,t[12]=_):_=t[12];var f;return t[13]!==d||t[14]!==_?(f=s.jsxs(r("BaseHeading.react"),{testid:void 0,children:[d,_]}),t[13]=d,t[14]=_,t[15]=f):f=t[15],f}l.default=c}),98);
__d("MWPJumpToMostRecentMessageButtonAnimationWrapper.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useMemo,m=u.useState,p="x1rutv7r-B",_="xuf935j-B";function f(e){var t=o("react-compiler-runtime").c(12),n=e.children,r=e.visible,a=m(r),i=a[0],l=a[1],u,d;t[0]!==r?(u=function(){r&&l(!0)},d=[r,l],t[0]=r,t[1]=u,t[2]=d):(u=t[1],d=t[2]),c(u,d);var p;e:{if(i){var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={className:"xqtp20y x1n2onr6 xh8yej3"},t[3]=_):_=t[3];var f;t[4]!==r?(f={0:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j4bph1 xk9af5f"},1:{className:"x1ey2m1c x1ev5b24 x10l6tqk x1vjfegm x2mfxb x1j49z95 x1dufm33"}}[!!r<<0],t[4]=r,t[5]=f):f=t[5];var g;t[6]!==r?(g=function(t){r||l(!1)},t[6]=r,t[7]=g):g=t[7];var h;t[8]!==n||t[9]!==f||t[10]!==g?(h=s.jsx("div",babelHelpers.extends({},_,{children:s.jsx("div",babelHelpers.extends({},f,{onAnimationEnd:g,children:n}))})),t[8]=n,t[9]=f,t[10]=g,t[11]=h):h=t[11],p=h;break e}p=null}return p}l.default=f}),98);
__d("MWV2MessageListIsRowModalContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({modal:"",setModal:r("emptyFunction")});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.modal,a=e.setModal,i;t[0]!==r||t[1]!==a?(i={modal:r,setModal:a},t[0]=r,t[1]=a,t[2]=i):i=t[2];var l=i,u;return t[3]!==n||t[4]!==l?(u=s.jsx(p.Provider,{value:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}function f(){return d(p)}l.MWV2MessageListIsRowModalContext=p,l.MWV2MessageListIsRowModalContextProvider=_,l.useMWV2MessageListIsRowModal=f}),98);
__d("MWPMessageListFocusTable.react",["FocusRegion.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","emptyFunction","focusScopeQueries","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo;function m(e,t,n){return t["data-scope"]==="date_break"}function p(e){var t=e.ariaLabel,n=e.children,a=e.hasMessages,i=a===void 0?!0:a,l=e.modal,u=e.onNavigate,p=u===void 0?r("emptyFunction"):u,_=e.setModal,f=e.wrapX,g=f===void 0?!1:f,h=e.wrapY,y=h===void 0?!1:h,C=c(function(e){p(e);var t=e.type;switch(t){case"PAGE_DOWN":case"PAGE_UP":break;default:return}var n=t==="PAGE_DOWN";e.preventDefault();for(var r=e.currentRowIndex+(n?1:-1)|0,o=!1;!o;){var a=e.getCell(r,e.currentCellIndex);if(a==null){var i=e.getCell(n?r-1|0:0,e.currentCellIndex);i!=null&&e.focusCell(i),o=!0}else{var l=a.scopeRef.current,s=l!=null?l.DO_NOT_USE_queryFirstNode(m):null;s==null?r=n?r+1|0:r-1|0:(e.focusCell(a),o=!0)}}},[]),b=d(function(){return i?s.jsx("div",{"aria-label":t,className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",role:"grid",children:n}):s.jsx("div",{className:"x1gp6l83 x18b5jzi x1alpsbp x148vw1v x1t7ytsu xyumdvf x78zum5 xdt5ytf x1iyjqo2 x6ikm8r x10wlt62",children:n})},[t,n,i]);return s.jsx(o("MWV2MessageListIsRowModalContext.react").MWV2MessageListIsRowModalContextProvider,{modal:l,setModal:_,children:s.jsx(o("FocusRegion.react").FocusRegion,{recoverFocusQuery:o("MWMessageTableFocusTable.react").scopeQuery,stopOnFocusWithinPropagation:!1,children:s.jsx(o("MWMessageTableFocusTable.react").FocusTable[0],{allowModifiers:!0,disabled:l!=="",onNavigate:C,tabScopeQuery:o("focusScopeQueries").tabbableScopeQuery,wrapX:g,wrapY:y,children:b})})})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWPMessageListFocusableTableRow.react",["fbt","BaseHeadingContextWrapper.react","FocusInertRegion.react","FocusManager","FocusRegion.react","FocusWithinHandler.react","KeyCommandHandler.react","MDSTextPairing.react","MWMessageCellFocusTable.react","MWMessageTableFocusTable.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowIsRowFocusedContext.react","MWXPressable.react","ReactDOM","ScreenReaderText.react","focusScopeQueries","react","react-compiler-runtime","setTimeout","stylex","useCometTheme","useMAWEditMessageData"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useId,f=d.useMemo,g=d.useRef,h=d.useState,y={cell:{display:"x78zum5",flexDirection:"xdt5ytf",position:"x1n2onr6",$$css:!0},cellFocusVisible:{zIndex:"x1vjfegm",$$css:!0},cellModal:{outline:"x1k66dxp",outlineOffset:"x1g40iwv","@media (-webkit-min-device-pixel-ratio: 0)_outline":"x1bkw7pg",$$css:!0},enterModalButton:{backgroundColor:"x1h0vfkc",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",boxShadow:"x152obne",insetInlineEnd:"xxx7yvo",left:null,right:null,paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},enterModalButtonInsideRow:{top:"xndqk7f",$$css:!0},enterModalButtonOutsideRow:{top:"x1qiirwl",transform:"x105ttfm",$$css:!0},enterModalButtonVisible:{opacity:"x1hc1fzr",$$css:!0},visuallyHidden:{clip:"xzpqnlu",clipPath:"x1hyvwdk",height:"xjm9jq1",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x10l6tqk",width:"x1i1rx1s",$$css:!0}};function C(e){var t=e.key;(t==="ArrowUp"||t==="ArrowDown"||t==="ArrowLeft"||t==="ArrowRight"||t==="PageUp"||t==="PageDown"||t==="Home"||t==="End")&&e.preventDefault()}var b=s._(/*BTDS*/"Enter"),v=s._(/*BTDS*/"Esc");function S(e){var t=o("react-compiler-runtime").c(18),n=e.ariaLabel,a=e.focusable,i=e.onPress,l=e.ref,s=e.showButtonInsideRow,u=e.text,d=e.xstyle,m=r("useCometTheme")("invert"),p=m[0],_=m[1],f;t[0]!==i?(f=function(){return i()},t[0]=i,t[1]=f):f=t[1];var g=s?y.enterModalButtonInsideRow:y.enterModalButtonOutsideRow,h;t[2]!==g||t[3]!==_||t[4]!==d?(h=[_,y.enterModalButton,g,d],t[2]=g,t[3]=_,t[4]=d,t[5]=h):h=t[5];var C;t[6]!==u?(C=c.jsx(r("MDSTextPairing.react"),{body:u,bodyColor:"primary",level:4}),t[6]=u,t[7]=C):C=t[7];var b;t[8]!==n||t[9]!==a||t[10]!==l||t[11]!==f||t[12]!==h||t[13]!==C?(b=c.jsx(r("MWXPressable.react"),{"aria-label":n,focusable:a,onPress:f,ref:l,xstyle:h,children:C}),t[8]=n,t[9]=a,t[10]=l,t[11]=f,t[12]=h,t[13]=C,t[14]=b):b=t[14];var v;return t[15]!==p||t[16]!==b?(v=c.jsx(p,{children:b}),t[15]=p,t[16]=b,t[17]=v):v=t[17],v}function R(t){var n=o("react-compiler-runtime").c(51),a=t.accessibilityDialogTitleText,i=t.checkIfContentsAreTabbable,l=t.children,s=t.focusCellOnRender,u=t.isDialogOpened,d=t.isFocused,m=t.isModal,f=t.messageDomID,R=t.nameForModality,E=t.setFocused,k=t.setIsDialogOpened,I=t.showButtonInsideRow,T=i===void 0?!1:i,D=s===void 0?!1:s,x=I===void 0?!1:I,$=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),P=$.setModal,N=g(null),M=_(),w;n[0]!==M||n[1]!==R||n[2]!==P?(w=function(){P(function(){return R}),r("setTimeout")(function(){o("FocusRegion.react").focusRegionById(M,o("focusScopeQueries").tabbableScopeQuery)},0)},n[0]=M,n[1]=R,n[2]=P,n[3]=w):w=n[3];var A=w,F=g(null),O;n[4]!==P?(O=function(){P(L);var e=N.current;if(e!=null)return e.focus()},n[4]=P,n[5]=O):O=n[5];var B=O,W=_(),q;n[6]!==a||n[7]!==W?(q=c.jsx(r("ScreenReaderText.react"),{id:W,text:a}),n[6]=a,n[7]=W,n[8]=q):q=n[8];var U=q,V=_(),H=g(null),G;n[9]!==u||n[10]!==E||n[11]!==k?(G={isDialogOpened:u,setFocused:E,setIsDialogOpened:k},n[9]=u,n[10]=E,n[11]=k,n[12]=G):G=n[12];var z=G,j=r("useMAWEditMessageData")()!=null,K;n[13]!==u||n[14]!==d||n[15]!==m||n[16]!==R||n[17]!==E||n[18]!==P?(K=function(t){if(d!==t)return u||E(function(){return t}),P(function(){return(t||u)&&m?R:""})},n[13]=u,n[14]=d,n[15]=m,n[16]=R,n[17]=E,n[18]=P,n[19]=K):K=n[19];var Q=K,X=h(!1),Y=X[0],J=X[1],Z;n[20]!==u||n[21]!==d||n[22]!==E?(Z=function(t){if(d!==t&&(u||E(function(){return t})),F.current!=null){var e=o("FocusManager").getFirstNodeFromOneOrManyQueries(o("focusScopeQueries").tabbableScopeQuery,F.current);J(e!=null)}var n=H.current;if(t&&n!=null){r("setTimeout")(function(){try{return n.scrollIntoView({behavior:"smooth",block:"nearest"})}catch(e){return n.scrollIntoView(!1)}},0);return}},n[20]=u,n[21]=d,n[22]=E,n[23]=Z):Z=n[23];var ee=Z,te,ne;n[24]!==D?(te=function(){if(D){var e,t;(e=N.current)==null||e.focus(),(t=N.current)==null||t.scrollIntoView()}},ne=[D],n[24]=D,n[25]=te,n[26]=ne):(te=n[25],ne=n[26]),p(te,ne);var re;n[27]!==T||n[28]!==l?(re=T?c.jsx(o("FocusRegion.react").FocusRegion,{forwardRef:F,children:l}):l,n[27]=T,n[28]=l,n[29]=re):re=n[29];var oe=re,ae=j?void 0:Q,ie=j?void 0:ee,le;n[30]!==U||n[31]!==W||n[32]!==T||n[33]!==oe||n[34]!==V||n[35]!==M||n[36]!==Y||n[37]!==j||n[38]!==m||n[39]!==f||n[40]!==A||n[41]!==B||n[42]!==x?(le=function(n,a){var t=c.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(y.cell,m?y.cellModal:!1,a?y.cellFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:N,role:"gridcell",tabIndex:j?-1:0,children:c.jsx(r("FocusInertRegion.react"),{disabled:m,focusQuery:o("focusScopeQueries").tabbableScopeQuery,children:m?c.jsxs(c.Fragment,{children:[c.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:o("focusScopeQueries").tabbableScopeQuery,autoRestoreFocus:!0,containFocusQuery:o("focusScopeQueries").tabbableScopeQuery,id:M,recoverFocusQuery:o("focusScopeQueries").tabbableScopeQuery,children:c.jsx(r("KeyCommandHandler.react"),{onKeyDown:C,children:c.jsxs("div",{"aria-describedby":f,"aria-labelledby":W,id:V,role:"dialog",children:[oe,U,c.jsx(S,{ariaLabel:v,focusable:!0,onPress:B,showButtonInsideRow:x,text:v,xstyle:y.enterModalButtonVisible})]})})}),o("ReactDOM").createPortal(c.jsx("div",{"aria-owns":V}),document.body)]}):oe})}))});return c.jsxs(c.Fragment,{children:[c.jsx(o("MWMessageCellFocusTable.react").keyCommands,{onEnter:m||j||T&&!Y?void 0:A,onEscape:m?B:void 0,onSpace:m||j||T&&!Y?void 0:A,children:t}),c.jsx("div",{role:"gridcell",children:c.jsx(S,{ariaLabel:m?v:b,focusable:m,onPress:A,ref:H,showButtonInsideRow:x,text:m?v:b,xstyle:a&&!m&&(Y||!T)?y.enterModalButtonVisible:y.visuallyHidden})})]})},n[30]=U,n[31]=W,n[32]=T,n[33]=oe,n[34]=V,n[35]=M,n[36]=Y,n[37]=j,n[38]=m,n[39]=f,n[40]=A,n[41]=B,n[42]=x,n[43]=le):le=n[43];var se;n[44]!==ae||n[45]!==ie||n[46]!==le?(se=c.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:c.jsx(r("FocusWithinHandler.react"),{onFocusChange:ae,onFocusVisibleChange:ie,children:le})}),n[44]=ae,n[45]=ie,n[46]=le,n[47]=se):se=n[47];var ue;return n[48]!==z||n[49]!==se?(ue=c.jsx(r("BaseHeadingContextWrapper.react"),{children:c.jsx(o("MWV2MessageRowIsRowFocusedContext.react").MWV2MessageRowIsRowFocusedContextProvider,{value:z,children:se})}),n[48]=z,n[49]=se,n[50]=ue):ue=n[50],ue}function L(){return""}l.default=R}),226);
__d("useMWPEditMessageDeemphasizer",["IGDWebUtils","MAWEditMessageContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext,u={deemphasize:{filter:"x4xejrh",$$css:!0}};function c(e){var t=s(o("MAWEditMessageContext.react").Context),n=t.editMessageData,r=(n==null?void 0:n.messageId)!=null&&(n==null?void 0:n.messageId)!==e&&!o("IGDWebUtils").isOnInstagramWeb();return r?u.deemphasize:null}l.default=c}),98);
__d("MWPMessageListRowWithKeyboardInteractions.react",["fbt","BaseHeadingContextWrapper.react","I64","MWEditMessageOverlay.react","MWPBaseMessageListRow.react","MWPMessageAuthor.react","MWPMessageListFocusableTableRow.react","MWV2MessageRowActionsContext.react","TimestampUtils","cr:11506","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWPEditMessageDeemphasizer","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useMemo,_=m.useRef,f=(e=n("cr:11506"))!=null?e:d.Fragment,g={row:{position:"x1n2onr6",$$css:!0}};function h(e){var t=o("react-compiler-runtime").c(30),n=e.children,a=e.domElementRef,i=e.focusCellOnRender,l=e.isDialogOpened,u=e.isFocused,m=e.isModal,p=e.message,h=e.messageDomID,y=e.outgoing,C=e.setFocused,b=e.setHovered,v=e.setIsDialogOpened,S=e.stopHoveringRef,R=e.theme,L=i===void 0?!1:i,E=o("TimestampUtils").getTimestamp(r("useServerTime")(),new Date((c||(c=o("I64"))).to_float(p.timestampMs))),k=o("MWPMessageAuthor.react").useAuthorName(),I=k[0],T;t[0]!==I||t[1]!==y?(T=y?s._(/*BTDS*/"You"):I!=null?I:s._(/*BTDS*/"a participant"),t[0]=I,t[1]=y,t[2]=T):T=t[2];var D=T,x=s._(/*BTDS*/"Message sent {Stringified timestamp of the incoming message} by {Name of the author of the incoming message}",[s._param("Stringified timestamp of the incoming message",E),s._param("Name of the author of the incoming message",D)]),$=_(r("emptyFunction")),P=_(r("emptyFunction")),N=_(r("emptyFunction")),M=_(r("emptyFunction")),w;t[3]===Symbol.for("react.memo_cache_sentinel")?(w={forwardMessage:N,openReactionsMenu:$,removeMessage:M,replyToMessage:P},t[3]=w):w=t[3];var A=w,F=r("useMAWEditMessageData")()!=null,O=r("useMWPEditMessageDeemphasizer")(p.messageId),B=F?r("emptyFunction"):b,W;t[4]!==O?(W=[g.row,O],t[4]=O,t[5]=W):W=t[5];var q;t[6]!==x||t[7]!==n||t[8]!==L||t[9]!==l||t[10]!==u||t[11]!==m||t[12]!==p.messageId||t[13]!==h||t[14]!==C||t[15]!==v?(q=d.jsx(r("MWPMessageListFocusableTableRow.react"),{accessibilityDialogTitleText:x,focusCellOnRender:L,isDialogOpened:l,isFocused:u,isModal:m,messageDomID:h,nameForModality:p.messageId,setFocused:C,setIsDialogOpened:v,children:n}),t[6]=x,t[7]=n,t[8]=L,t[9]=l,t[10]=u,t[11]=m,t[12]=p.messageId,t[13]=h,t[14]=C,t[15]=v,t[16]=q):q=t[16];var U;t[17]!==p.messageId?(U=d.jsx(r("MWEditMessageOverlay.react"),{messageId:p.messageId}),t[17]=p.messageId,t[18]=U):U=t[18];var V;t[19]!==q||t[20]!==U?(V=d.jsxs(f,{children:[q,U]}),t[19]=q,t[20]=U,t[21]=V):V=t[21];var H;return t[22]!==a||t[23]!==p||t[24]!==S||t[25]!==B||t[26]!==W||t[27]!==V||t[28]!==R?(H=d.jsx(r("BaseHeadingContextWrapper.react"),{children:d.jsx(o("MWV2MessageRowActionsContext.react").MWV2MessageRowActionsContextProvider,{value:A,children:d.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRow,{domElementRef:a,message:p,role:"row",setHovered:B,stopHoveringRef:S,theme:R,xstyle:W,children:V})})}),t[22]=a,t[23]=p,t[24]=S,t[25]=B,t[26]=W,t[27]=V,t[28]=R,t[29]=H):H=t[29],H}l.default=h}),226);
__d("MWPMessageRowCalculateStatus.react",["GenderConst","I64","MAWThreadCutover","MAWVideoAudioPlaybackErrorHandlerUtils","MWClickedMessageContext.react","MWMessageDeliveryStatus","MWPActor.react","MWPThreadCapabilitiesContext","MWXMAUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useGetMediaGroupInformation","useMWIsReadReceiptsDisabledForThread","useMessageAttachment","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useEffect,p=d.useMemo,_=d.useState,f={type:"NoneStatus"},g={type:"Loading"},h={type:"RetriableError"},y={type:"Error"},C={type:"ValidationError"},b={type:"Sending"},v={type:"Sent"},S={type:"Delivered"};function R(t){var n=o("react-compiler-runtime").c(127),a=t.children,l=t.isBroadcastChannel,u=t.isBroadcastThread,c=t.isLargeGroup,d=t.isSecureGroupThread,p=t.isSecureThread,_=t.message,R=t.nextMessage,k=l===void 0?!1:l,T=o("MWPActor.react").useActor(),D=(e||(e=r("useReStore")))(),x;n[0]!==T||n[1]!==_.senderId?(x=(s||(s=o("I64"))).equal(T,_.senderId),n[0]=T,n[1]=_.senderId,n[2]=x):x=n[2];var $=x,P=R!=null&&!(s||(s=o("I64"))).equal(T,R.senderId),N=_.isUnsent,M=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),w=M.seenCountV2Enabled,A=!_.isUnsent&&w,F=R==null,O=r("useMWIsReadReceiptsDisabledForThread")(_.threadKey),B=r("useGetMediaGroupInformation")(_,p),W=r("useMessageAttachment")(_),q=o("MAWVideoAudioPlaybackErrorHandlerUtils").useIsInvalidVideoMessage(_),U=r("MWClickedMessageContext.react").useHook(),V=U.clickedMessageId,H=U.fetchMessageSeenCount,G=U.hasError,z=U.isLoading,j;n[3]!==D.tables.community_chat_message_seen_count||n[4]!==A||n[5]!==_.messageId||n[6]!==_.threadKey?(j=function(){return A?o("ReQL").fromTableAscending(D.tables.community_chat_message_seen_count,["seenCount"]).getKeyRange(_.threadKey,_.messageId):o("ReQL").empty()},n[3]=D.tables.community_chat_message_seen_count,n[4]=A,n[5]=_.messageId,n[6]=_.threadKey,n[7]=j):j=n[7];var K;n[8]!==D||n[9]!==A||n[10]!==_.messageId||n[11]!==_.threadKey?(K=[D,A,_.threadKey,_.messageId],n[8]=D,n[9]=A,n[10]=_.messageId,n[11]=_.threadKey,n[12]=K):K=n[12];var Q=o("ReQLSuspense").useFirst(j,K,i.id+":120"),X;n[13]!==H||n[14]!==k||n[15]!==F||n[16]!==_.messageId||n[17]!==_.threadKey?(X=function(){k===!0&&F&&H(_.threadKey,_.messageId)},n[13]=H,n[14]=k,n[15]=F,n[16]=_.messageId,n[17]=_.threadKey,n[18]=X):X=n[18];var Y;n[19]!==H||n[20]!==k||n[21]!==F||n[22]!==_.messageId||n[23]!==_.threadKey||n[24]!==$?(Y=[H,_.messageId,_.threadKey,F,k,$],n[19]=H,n[20]=k,n[21]=F,n[22]=_.messageId,n[23]=_.threadKey,n[24]=$,n[25]=Y):Y=n[25],m(X,Y);var J,Z;n[26]!==F?(J=function(t){return!F&&t.length===0},Z=[F],n[26]=F,n[27]=J,n[28]=Z):(J=n[27],Z=n[28]);var ee=E(t,J,Z),te;n[29]!==T||n[30]!==D.tables.participants||n[31]!==_.threadKey?(te=function(){return o("ReQL").fromTableDescending(D.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId"]).getKeyRange(_.threadKey).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,T)}).take(1)},n[29]=T,n[30]=D.tables.participants,n[31]=_.threadKey,n[32]=te):te=n[32];var ne;n[33]!==T||n[34]!==_.threadKey?(ne=[_.threadKey,T],n[33]=T,n[34]=_.threadKey,n[35]=ne):ne=n[35];var re=I(te,L,ne).length>0,oe;n[36]!==T||n[37]!==D.tables.participants||n[38]!==_.threadKey||n[39]!==_.timestampMs?(oe=function(){return o("ReQL").fromTableDescending(D.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["readWatermarkTimestampMs","contactId"]).getKeyRange(_.threadKey).bounds({gte:o("ReQL").key(_.timestampMs)}).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,T)}).take(1)},n[36]=T,n[37]=D.tables.participants,n[38]=_.threadKey,n[39]=_.timestampMs,n[40]=oe):oe=n[40];var ae;n[41]!==re?(ae=function(t){return re&&t.length>0},n[41]=re,n[42]=ae):ae=n[42];var ie;n[43]!==T||n[44]!==re||n[45]!==_.threadKey||n[46]!==_.timestampMs?(ie=[_.timestampMs,_.threadKey,T,re],n[43]=T,n[44]=re,n[45]=_.threadKey,n[46]=_.timestampMs,n[47]=ie):ie=n[47];var le=I(oe,ae,ie),se=le.length>0,ue;n[48]!==T||n[49]!==D.tables.participants||n[50]!==_.threadKey||n[51]!==_.timestampMs?(ue=function(){return o("ReQL").fromTableDescending(D.tables.participants.index("threadKeyDeliveredWatermarkTimestampMs"),["contactId"]).getKeyRange(_.threadKey).bounds({gte:o("ReQL").key(_.timestampMs)}).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,T)}).take(1)},n[48]=T,n[49]=D.tables.participants,n[50]=_.threadKey,n[51]=_.timestampMs,n[52]=ue):ue=n[52];var ce;n[53]!==se?(ce=function(t){return t.length>0||se},n[53]=se,n[54]=ce):ce=n[54];var de;n[55]!==T||n[56]!==se||n[57]!==_.threadKey||n[58]!==_.timestampMs?(de=[_.threadKey,_.timestampMs,se,T],n[55]=T,n[56]=se,n[57]=_.threadKey,n[58]=_.timestampMs,n[59]=de):de=n[59];var me=I(ue,ce,de).length>0,pe,_e;n[60]!==se?(pe=function(t){return se&&t.length===0},_e=[se],n[60]=se,n[61]=pe,n[62]=_e):(pe=n[61],_e=n[62]);var fe=E(t,pe,_e);Q==null||Q.seenCount;var ge;if(n[63]!==(Q==null?void 0:Q.seenCount)){var he;ge=o("MWMessageDeliveryStatus").seenCount((s||(s=o("I64"))).to_int32((he=Q==null?void 0:Q.seenCount)!=null?he:(s||(s=o("I64"))).zero)),n[63]=Q==null?void 0:Q.seenCount,n[64]=ge}else ge=n[64];var ye=ge,Ce;n[65]!==ee?(Ce=o("MWMessageDeliveryStatus").seenHead(ee),n[65]=ee,n[66]=Ce):Ce=n[66];var be=Ce,ve;n[67]!==fe?(ve=o("MWMessageDeliveryStatus").seenHead(fe),n[67]=fe,n[68]=ve):ve=n[68];var Se=ve;if(q){var Re;return n[69]!==a?(Re=a(C),n[69]=a,n[70]=Re):Re=n[70],Re}if(_.isAdminMessage){var Le;return n[71]!==a?(Le=a(f),n[71]=a,n[72]=Le):Le=n[72],Le}if(u){if(A){if(V!==_.messageId){var ke;return n[75]!==a?(ke=a(f),n[75]=a,n[76]=ke):ke=n[76],ke}if(z){var Ie;return n[77]!==a?(Ie=a(g),n[77]=a,n[78]=Ie):Ie=n[78],Ie}if(G){var Te;return n[79]!==a?(Te=a(h),n[79]=a,n[80]=Te):Te=n[80],Te}var De;return n[81]!==a||n[82]!==Q||n[83]!==ye?(De=Q!=null?a(ye):a(g),n[81]=a,n[82]=Q,n[83]=ye,n[84]=De):De=n[84],De}else if(!$||R!=null||N){var Ee;return n[73]!==a?(Ee=a(f),n[73]=a,n[74]=Ee):Ee=n[74],Ee}}if(!$){if(d||c){var xe;return n[85]!==a?(xe=a(f),n[85]=a,n[86]=xe):xe=n[86],xe}if(k===!0){var $e;return n[87]!==a||n[88]!==Q||n[89]!==ye?($e=Q!=null?a(ye):a(f),n[87]=a,n[88]=Q,n[89]=ye,n[90]=$e):$e=n[90],$e}var Pe;return n[91]!==ee.length||n[92]!==t.children||n[93]!==be?(Pe=ee.length>0?t.children(be):t.children(f),n[91]=ee.length,n[92]=t.children,n[93]=be,n[94]=Pe):Pe=n[94],Pe}if(F&&k&&Q!=null&&(s||(s=o("I64"))).to_int32(Q.seenCount)>0){var Ne;return n[95]!==a||n[96]!==ye?(Ne=a(ye),n[95]=a,n[96]=ye,n[97]=Ne):Ne=n[97],Ne}if(P&&d){var Me;return n[98]!==a?(Me=a(f),n[98]=a,n[99]=Me):Me=n[99],Me}if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(0))){var we;return n[100]!==a?(we=a(f),n[100]=a,n[101]=we):we=n[101],we}if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(4))){var Ae;return n[102]!==a?(Ae=a(y),n[102]=a,n[103]=Ae):Ae=n[103],Ae}if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(5))){var Fe;return n[104]!==a?(Fe=a(h),n[104]=a,n[105]=Fe):Fe=n[105],Fe}if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(1))){var Oe;return n[106]!==a?(Oe=a(b),n[106]=a,n[107]=Oe):Oe=n[107],Oe}if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(6))){var Be;return n[108]!==a?(Be=a(v),n[108]=a,n[109]=Be):Be=n[109],Be}if(c){if(R!=null||N){var We;return n[110]!==a?(We=a(f),n[110]=a,n[111]=We):We=n[111],We}else if((s||(s=o("I64"))).equal(_.sendStatusV2,(s||(s=o("I64"))).of_int32(2))){var qe;return n[112]!==a?(qe=a(S),n[112]=a,n[113]=qe):qe=n[113],qe}}if(se&&!O){var Ue;return n[114]!==a||n[115]!==fe.length||n[116]!==Se?(Ue=fe.length>0?a(Se):a(f),n[114]=a,n[115]=fe.length,n[116]=Se,n[117]=Ue):Ue=n[117],Ue}if(B!=null&&B.isMediaGroupLastMessage)if(B.hasAllMessagesSent){var Ve;return n[118]!==a?(Ve=a(v),n[118]=a,n[119]=Ve):Ve=n[119],Ve}else{var He;return n[120]!==a?(He=a(b),n[120]=a,n[121]=He):He=n[121],He}var Ge=(W==null?void 0:W.defaultCtaType)!=null&&o("MWXMAUtils").isRTCXMA(W.defaultCtaType);if(F&&p&&Ge){var ze;return n[122]!==a?(ze=a(f),n[122]=a,n[123]=ze):ze=n[123],ze}var je;return n[124]!==a||n[125]!==me?(je=a(me?S:v),n[124]=a,n[125]=me,n[126]=je):je=n[126],je}function L(e){return e.length>0}function E(t,n,a){var l=o("react-compiler-runtime").c(25),u=(e||(e=r("useReStore")))(),c=o("MWPActor.react").useActor(),d=t.message,m=t.nextMessage,p=r("useMWIsReadReceiptsDisabledForThread")(d.threadKey),_;l[0]!==d.threadKey||l[1]!==t.isSecureThread?(_=t.isSecureThread?(s||(s=o("I64"))).to_string(d.threadKey):void 0,l[0]=d.threadKey,l[1]=t.isSecureThread,l[2]=_):_=l[2];var f=o("MAWThreadCutover").useGetCutoverSecureThreadKey(_),g;l[3]!==f?(g=f!=null?(s||(s=o("I64"))).of_string(f):null,l[3]=f,l[4]=g):g=l[4];var h=g,y;l[5]!==c||l[6]!==h||l[7]!==u.tables.contacts||l[8]!==u.tables.participants||l[9]!==d.threadKey||l[10]!==d.timestampMs||l[11]!==m?(y=function(){var e=m!=null?{gte:o("ReQL").key(d.timestampMs),lt:o("ReQL").key(m.timestampMs)}:{gte:o("ReQL").key(d.timestampMs)},t=o("ReQL").fromTableAscending(u.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(d.threadKey).bounds(e).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}),n={gte:o("ReQL").key(d.timestampMs)},r=h!=null?o("ReQL").fromTableAscending(u.tables.participants.index("threadKeyReadWatermarkTimestampMs"),["contactId","nickname","readActionTimestampMs"]).getKeyRange(h).bounds(n).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}):o("ReQL").empty();return o("ReQL").union(t,r).map(function(e){var t=o("ReQLSuspense").toArray(r,i.id+":472").some(function(t){return(s||(s=o("I64"))).equal(t.contactId,e.contactId)});if(!t)return e}).filter(Boolean).map(function(e){var t=o("ReQLSuspense").first(o("ReQL").fromTableAscending(u.tables.contacts,["id","name","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs"]).getKeyRange(e.contactId),i.id+":487");return[e,t]})},l[5]=c,l[6]=h,l[7]=u.tables.contacts,l[8]=u.tables.participants,l[9]=d.threadKey,l[10]=d.timestampMs,l[11]=m,l[12]=y):y=l[12];var C=m==null?void 0:m.timestampMs,b=m==null,v=h==null,S;l[13]!==c||l[14]!==u||l[15]!==d.threadKey||l[16]!==d.timestampMs||l[17]!==C||l[18]!==b||l[19]!==v||l[20]!==a?(S=[u,d.threadKey,d.timestampMs,C,b,v,c].concat(a),l[13]=c,l[14]=u,l[15]=d.threadKey,l[16]=d.timestampMs,l[17]=C,l[18]=b,l[19]=v,l[20]=a,l[21]=S):S=l[21];var R=I(y,n,S),L;return l[22]!==R||l[23]!==p?(L=p?[]:R.map(k).filter(Boolean),l[22]=R,l[23]=p,l[24]=L):L=l[24],L}function k(e){var t,n=e[0],a=e[1];if(a!=null)return{gender:r("GenderConst").UNKNOWN_SINGULAR,id:(s||(s=o("I64"))).to_string(a.id),imageSrc:r("getLSMediaContactProfilePictureUrl")(a),name:(t=n.nickname)!=null?t:a.name,timestamp:s.to_float(n.readActionTimestampMs)}}function I(e,t,n){var r=_(void 0),a=r[0],l=r[1],s=o("ReQLSuspense").useArray(function(){return a!=null?o("ReQL").empty():e()},[].concat(n,[a]),i.id+":547");return t(s)&&a==null&&l(s),a!=null?a:s}l.default=R}),98);
__d("MWPNewMessageDraftContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useRef,p=c();function _(e){var t=o("react-compiler-runtime").c(2),n=e.children,r=m(""),a;return t[0]!==n?(a=s.jsx(p.Provider,{value:r,children:n}),t[0]=n,t[1]=a):a=t[1],a}function f(){return d(p)}l.MWPNewMessageDraftContextProvider=_,l.useNewMessageDraftContext=f}),98);
__d("MWPQuickReplies.react",["AdsMessengerContext.react","FBLogger","I64","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWChatBusinessQuickReplyList.react","MWPActor.react","MessagePowerUp","Promise","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore","vulture","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useContext;function _(e){var t=o("react-compiler-runtime").c(21),n=e.lastMessageId,a=e.quickReplyType,l=e.threadKey;r("vulture")("_HgXXSYIlTYH0hqAw7eVOuX_rWQ=");var d=r("useLSMessagingSource")(),_=(s||(s=r("useReStore")))(),y=o("MWPActor.react").useActor(),C=p(o("AdsMessengerContext.react").AdsMessengerContext),b;t[0]!==n||t[1]!==_.tables.quick_reply_ctas||t[2]!==l?(b=function(){return o("ReQL").fromTableAscending(_.tables.quick_reply_ctas).getKeyRange(l,n).map(h).filter(g)},t[0]=n,t[1]=_.tables.quick_reply_ctas,t[2]=l,t[3]=b):b=t[3];var v;t[4]!==n||t[5]!==_||t[6]!==l?(v=[_,n,l],t[4]=n,t[5]=_,t[6]=l,t[7]=v):v=t[7];var S=o("ReQLSuspense").useArray(b,v,i.id+":56");if(S.length>0){var R;t[8]!==y?(R=(u||(u=o("I64"))).to_string(y),t[8]=y,t[9]=R):R=t[9];var L;t[10]!==y||t[11]!==C||t[12]!==d||t[13]!==_||t[14]!==l?(L=function(t){if(C.onSendQuickReply!=null)return r("promiseDone")(C.onSendQuickReply(t,!1));var e=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(l,d);r("promiseDone")(_.runInTransaction(function(n){var a,i=(a=t.payload)!=null?a:void 0;return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(n),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:i,power_up_style:(c||(c=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:c.ofNumber(r("LSMessageReplySourceType").NONE),reply_source_type_v2:c.ofNumber(r("LSMessageReplySourceTypeV2").NONE),snippet_has_emoji:!1,source:e}),mailboxType:c.ofNumber(r("LSMailboxType").MESSENGER),senderId:y,text:t.title,threadKey:l,threadType:c.ofNumber(1)}).then(f)},"readwrite",void 0,void 0,i.id+":112"))},t[10]=y,t[11]=C,t[12]=d,t[13]=_,t[14]=l,t[15]=L):L=t[15];var E;return t[16]!==S||t[17]!==a||t[18]!==R||t[19]!==L?(E=m.jsx(r("MWChatBusinessQuickReplyList.react"),{arrayQR:S,id:R,onSend:L,quickReplyType:a}),t[16]=S,t[17]=a,t[18]=R,t[19]=L,t[20]=E):E=t[20],E}else return null}function f(t){return(e||(e=n("Promise"))).resolve(t)}function g(e){return e.content_type!==""}function h(e){var t=e.type_,n=t==="quick_reply_text"||t==="quick_reply_ad"?"text":t==="quick_reply_phone"?"user_phone_number":t==="quick_reply_email"?"user_email":"";return n===""&&r("FBLogger")("messenger_web").mustfix("Unexpected quick-reply type: %s, title: %s",t,e.title),{content_type:n,data:void 0,image_url:e.imageUrl,payload:e.platformToken,title:e.title}}function y(e){var t=o("react-compiler-runtime").c(8),n=e.threadKey,a=(s||(s=r("useReStore")))(),l,u;t[0]!==a||t[1]!==n?(l=function(){return o("ReQL").fromTableDescending(a.tables.messages).getKeyRange(n).take(2)},u=[a,n],t[0]=a,t[1]=n,t[2]=l,t[3]=u):(l=t[2],u=t[3]);var c=o("ReQLSuspense").useArray(l,u,i.id+":153");if(c.length===0)return null;var d=c[0];d.isAdminMessage&&c.length===2&&(d=c[1]);var p;return t[4]!==d.messageId||t[5]!==d.quickReplyType||t[6]!==n?(p=m.jsx(_,{lastMessageId:d.messageId,quickReplyType:d.quickReplyType,threadKey:n}),t[4]=d.messageId,t[5]=d.quickReplyType,t[6]=n,t[7]=p):p=t[7],p}var C=o("withCometPlaceholder").withCometPlaceholder(y,null,"MWPQuickReplies");l.default=C}),98);
__d("MWPSendMessageLogger",["LSIntEnum","LSPendingTasksPluginType","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MWPSendMessageLogger");function u(t,n,a,i,l,u,c,d,m,p,_,f){var g=p!=null&&(e||(e=o("LSIntEnum"))).unwrapIntEnum(p)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO,h=g?1:0;s.onReady(function(e){return e.log(t,{actor:i,additionalTags:g?["armadillo_express"]:void 0,attachmentFbids:u,attachmentType:d,backend:h,ephemeralDurationInSec:f,hasReply:m,isInstamadilloTTLC:_,offlineThreadingId:l,sendType:0,source:c,threadKey:n,threadType:a})})}l.log=u}),98);
__d("MWPThreadGradientBackground.react",["BaseTheme.react","MWPColorUtils","MWPThemeCSSProvider.react","isStringNullOrEmpty","react","react-compiler-runtime","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useEffect,d=u.useState,m={container:{backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",display:"x78zum5",flexBasis:"x1r8uery",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxHeight:"xmz0i5r",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},p=new Map;function _(){var e=o("react-compiler-runtime").c(21),t=r("useMWPThreadTheme")(),n=t.backgroundGradientColors,a=t.outgoingGradientColors,i=t.threadTheme,l=i.backgroundUrl,s=i.fallbackColor,u;e[0]!==l?(u=l!=null&&p.has(l)?l:void 0,e[0]=l,e[1]=u):u=e[1];var m=d(u),_=m[0],f=m[1],g=o("MWPThemeCSSProvider.react").useIsThemeV2(),h,y;if(e[2]!==l||e[3]!==g?(h=function(){if(!(l==null||!g)){if(p.has(l)){f(l);return}var e=!1,t=new Image;return t.src=l,t.onload=function(){p.set(l,t),!e&&f(l)},(function(){e=!0})}},y=[l,g],e[2]=l,e[3]=g,e[4]=h,e[5]=y):(h=e[4],y=e[5]),c(h,y),g&&(!r("isStringNullOrEmpty")(l)||n.length>0)){if(l===_&&l!=null){var C="url("+l+")",b;return e[6]!==C?(b={backgroundImage:C},e[6]=C,e[7]=b):b=e[7],b}if(n.length>1){var v;e[8]!==n?(v=o("MWPColorUtils").gradient(n),e[8]=n,e[9]=v):v=e[9];var S;return e[10]!==v?(S={backgroundImage:v},e[10]=v,e[11]=S):S=e[11],S}else{var R,L;if(e[12]!==((R=n[0])==null?void 0:R.color)||e[13]!==s){var E,k,I;L=o("MWPColorUtils").int64ToHex((E=n==null||(k=n[0])==null?void 0:k.color)!=null?E:s),e[12]=(I=n[0])==null?void 0:I.color,e[13]=s,e[14]=L}else L=e[14];var T;return e[15]!==L?(T={backgroundColor:L},e[15]=L,e[16]=T):T=e[16],T}}if(a.length>1){var D;e[17]!==a?(D=o("MWPColorUtils").gradient(a),e[17]=a,e[18]=D):D=e[18];var x;return e[19]!==D?(x={backgroundImage:D},e[19]=D,e[20]=x):x=e[20],x}}function f(e){var t,n=o("react-compiler-runtime").c(3),a=e.children,i=(t=_())!=null?t:{},l;return n[0]!==a||n[1]!==i?(l=s.jsx(r("BaseTheme.react"),{style:i,xstyle:m.container,children:a}),n[0]=a,n[1]=i,n[2]=l):l=n[2],l}l.MWPThreadGradientBackground=f}),98);
__d("MWPThreadThemeProviderQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9734829906576883"}),null);
__d("MWPThreadThemeProviderQuery.graphql",["MWPThreadThemeProviderQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"app_color_mode",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"composer_background_color",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"background_gradient_colors",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"title_bar_button_tint_color",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"inbound_message_gradient_colors",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title_bar_text_color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"composer_tint_color",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"title_bar_attribution_color",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"composer_input_background_color",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"hot_like_color",storageKey:null},h=[r,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],y={alias:null,args:null,concreteType:"MessengerThreadBackgroundAsset",kind:"LinkedField",name:"background_asset",plural:!1,selections:h,storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"message_text_color",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"message_border_color",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"message_border_width",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"inbound_message_text_color",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_color",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_width",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"primary_button_background_color",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"title_bar_background_color",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"tertiary_text_color",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"reaction_pill_background_color",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"secondary_text_color",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"normal_theme_id",storageKey:null},M={alias:null,args:null,concreteType:"MessengerThreadThemeIconAsset",kind:"LinkedField",name:"icon_asset",plural:!1,selections:h,storageKey:null},w=[r,o,a,i,l,s,u,c,d,m,p,_,f,g,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"alternative_themes",plural:!0,selections:[r,o,a,i,l,s,u,c,d,m,p,_,f,g,y,C,b,v,S,R,L,N,E,k,I,T,D,x,$,P,M],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWPThreadThemeProviderQuery",selections:[{alias:null,args:t,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_theme",plural:!1,selections:[{kind:"InlineDataFragmentSpread",name:"MWPThreadThemeQuery_Fragment",selections:w,args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWPThreadThemeProviderQuery",selections:[{alias:null,args:t,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_theme",plural:!1,selections:w,storageKey:null}]},params:{id:n("MWPThreadThemeProviderQuery_facebookRelayOperation"),metadata:{},name:"MWPThreadThemeProviderQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24474714052117636"}),null);
__d("MWPThreadThemeQuery_AllThemesQuery.graphql",["MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"version"}],t=[{kind:"Variable",name:"version",variableName:"version"}],r={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"accessibility_label",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"app_color_mode",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"composer_background_color",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"background_gradient_colors",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"is_deprecated",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"title_bar_button_tint_color",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"inbound_message_gradient_colors",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"title_bar_text_color",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"composer_tint_color",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"title_bar_attribution_color",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"composer_input_background_color",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"hot_like_color",storageKey:null},h=[r,{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],y={alias:null,args:null,concreteType:"MessengerThreadBackgroundAsset",kind:"LinkedField",name:"background_asset",plural:!1,selections:h,storageKey:null},C={alias:null,args:null,kind:"ScalarField",name:"message_text_color",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"message_border_color",storageKey:null},v={alias:null,args:null,kind:"ScalarField",name:"message_border_width",storageKey:null},S={alias:null,args:null,kind:"ScalarField",name:"inbound_message_text_color",storageKey:null},R={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_color",storageKey:null},L={alias:null,args:null,kind:"ScalarField",name:"inbound_message_border_width",storageKey:null},E={alias:null,args:null,kind:"ScalarField",name:"primary_button_background_color",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"title_bar_background_color",storageKey:null},I={alias:null,args:null,kind:"ScalarField",name:"tertiary_text_color",storageKey:null},T={alias:null,args:null,kind:"ScalarField",name:"reverse_gradients_for_radial",storageKey:null},D={alias:null,args:null,kind:"ScalarField",name:"reaction_pill_background_color",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"secondary_text_color",storageKey:null},$={alias:null,args:null,kind:"ScalarField",name:"fallback_color",storageKey:null},P={alias:null,args:null,kind:"ScalarField",name:"gradient_colors",storageKey:null},N={alias:null,args:null,kind:"ScalarField",name:"normal_theme_id",storageKey:null},M={alias:null,args:null,concreteType:"MessengerThreadThemeIconAsset",kind:"LinkedField",name:"icon_asset",plural:!1,selections:h,storageKey:null},w=[r,o,a,i,l,s,u,c,d,m,p,_,f,g,y,C,b,v,S,R,L,E,k,I,T,D,x,$,P,N,M,{alias:null,args:null,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"alternative_themes",plural:!0,selections:[r,o,a,i,l,s,u,c,d,m,p,_,f,g,y,C,b,v,S,R,L,N,E,k,I,T,D,x,$,P,M],storageKey:null}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWPThreadThemeQuery_AllThemesQuery",selections:[{alias:null,args:t,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_themes",plural:!0,selections:[{kind:"InlineDataFragmentSpread",name:"MWPThreadThemeQuery_Fragment",selections:w,args:null,argumentDefinitions:[]}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWPThreadThemeQuery_AllThemesQuery",selections:[{alias:null,args:t,concreteType:"MessengerThreadTheme",kind:"LinkedField",name:"messenger_thread_themes",plural:!0,selections:w,storageKey:null}]},params:{id:n("MWPThreadThemeQuery_AllThemesQuery_facebookRelayOperation"),metadata:{},name:"MWPThreadThemeQuery_AllThemesQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWPThreadThemeQuery_Fragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={kind:"InlineDataFragment",name:"MWPThreadThemeQuery_Fragment"};a.exports=e}),null);
__d("MWPThreadThemesFetchQPLLogger",["QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e=0,s=r("qpl")._(25308538,"426");function u(){return r("QPLUserFlow").start(s,{instanceKey:e}),e++}function c(e,t){t!=null?r("QPLUserFlow").endFailure(s,t,{instanceKey:e}):r("QPLUserFlow").endSuccess(s,{instanceKey:e})}function d(e,t,n){r("QPLUserFlow").addPoint(s,t,{instanceKey:e}),n!=null&&r("QPLUserFlow").addAnnotations(s,n,{instanceKey:e})}l.logThemesFetchStart=u,l.logThemesFetchEnd=c,l.logPoint=d}),98);
__d("MessengerThreadThemeGradientType",[],(function(t,n,r,o,a,i){var e=Object.freeze({MESSAGE_BUBBLE_OUTBOUND:0,MESSAGE_BUBBLE_INBOUND:1,THREADVIEW_BACKGROUND:2,DELIVERY_RECEIPT:3,COMPOSER_CIRCLE_BUTTON:4,COMPOSER_SEND_BUTTON:5,EMPHASIS:6});i.default=e}),66);
__d("MWPThreadThemeQuery",["CometRelay","I64","LSDatabaseSingleton","MWPColorUtils","MWPThreadThemeQuery_AllThemesQuery.graphql","MWPThreadThemeQuery_Fragment.graphql","MWPThreadThemesFetchQPLLogger","MessengerAppColorMode","MessengerThreadThemeGradientType","nullthrows","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p=(c||(c=o("react"))).useEffect,_=e!==void 0?e:e=n("MWPThreadThemeQuery_Fragment.graphql");function f(e){return e==null?null:o("MWPColorUtils").hexToI64(e)}function g(e){switch(e){case"LIGHT":return(d||(d=o("I64"))).of_int32(r("MessengerAppColorMode").NORMAL);case"DARK":return(d||(d=o("I64"))).of_int32(r("MessengerAppColorMode").DARK)}return(d||(d=o("I64"))).of_int32(r("MessengerAppColorMode").NORMAL)}async function h(e,t,n,a){for(var i of n.entries()){var l=i[0],s=i[1];await t.gradient_colors.put({color:r("nullthrows")(f(s)),gradientIndex:(d||(d=o("I64"))).of_int32(l+10*a),themeFbid:e,type_:d.of_int32(a)})}}function y(e,t){var n,a=o("CometRelay").readInlineData(_,e);if(a==null)return[];var i=[].concat((n=a==null?void 0:a.alternative_themes)!=null?n:[]);return i.unshift(a),i.map(function(e){var n,a,i,l=(d||(d=o("I64"))).of_string(r("nullthrows")(e.id));return{accessibilityLabel:(n=e.accessibility_label)!=null?n:"",appColorMode:g(e.app_color_mode),backgroundUrl:(a=e.background_asset)==null||(a=a.image)==null?void 0:a.uri,composerBackgroundColor:f(e.composer_background_color),composerInputBackgroundColor:f(e.composer_input_background_color),composerTintColor:f(e.composer_tint_color),description:e.description,fallbackColor:f(r("nullthrows")(e.fallback_color)),fbid:l,hotLikeColor:e.hot_like_color,iconUrl:(i=e.icon_asset)==null||(i=i.image)==null?void 0:i.uri,incomingMessageBorderColor:f(e.inbound_message_border_color),incomingMessageBorderWidth:e.inbound_message_border_width,incomingMessageTextColor:f(e.inbound_message_text_color),isDeprecated:!!e.is_deprecated,messageBorderColor:f(e.message_border_color),messageBorderWidth:e.message_border_width!=null?(d||(d=o("I64"))).of_int32(e.message_border_width):void 0,messageTextColor:f(e.message_text_color),normalThemeId:d.of_string(r("nullthrows")(e.normal_theme_id)),primaryButtonBackgroundColor:f(e.primary_button_background_color),reactionPillBackgroundColor:f(e.reaction_pill_background_color),reverseGradiantsForRadial:!!e.reverse_gradients_for_radial,secondaryTextColor:f(e.secondary_text_color),tertiaryTextColor:f(e.tertiary_text_color),themeIdx:t!=null?(d||(d=o("I64"))).of_int32(t):(d||(d=o("I64"))).of_string(r("nullthrows")(e.id)),titlebarAttributionTextColor:f(e.title_bar_attribution_color),titlebarBackgroundColor:f(e.title_bar_background_color),titlebarButtonTintColor:f(e.title_bar_button_tint_color),titlebarTextColor:f(e.title_bar_text_color)}})}async function C(e,t,n,a){var i,l=o("CometRelay").readInlineData(_,e);if(l==null){n!=null&&o("MWPThreadThemesFetchQPLLogger").logThemesFetchEnd(n,"themes_null");return}var s=[].concat((i=l==null?void 0:l.alternative_themes)!=null?i:[]);s.push(l);for(var u of s){var c,m,p;if(u!=null){var y=(d||(d=o("I64"))).of_string(r("nullthrows")(u.id));await h(y,t,u.background_gradient_colors,r("MessengerThreadThemeGradientType").THREADVIEW_BACKGROUND),await h(y,t,u.gradient_colors,r("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND),await h(y,t,u.inbound_message_gradient_colors,r("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND),await t.thread_themes.put({accessibilityLabel:(c=u.accessibility_label)!=null?c:"",appColorMode:g(u.app_color_mode),backgroundUrl:(m=u.background_asset)==null||(m=m.image)==null?void 0:m.uri,composerBackgroundColor:f(u.composer_background_color),composerInputBackgroundColor:f(u.composer_input_background_color),composerTintColor:f(u.composer_tint_color),description:u.description,fallbackColor:f(r("nullthrows")(u.fallback_color)),fbid:y,hotLikeColor:u.hot_like_color,iconUrl:(p=u.icon_asset)==null||(p=p.image)==null?void 0:p.uri,incomingMessageBorderColor:f(u.inbound_message_border_color),incomingMessageBorderWidth:u.inbound_message_border_width,incomingMessageTextColor:f(u.inbound_message_text_color),isDeprecated:!!u.is_deprecated,messageBorderColor:f(u.message_border_color),messageBorderWidth:u.message_border_width!=null?(d||(d=o("I64"))).of_int32(u.message_border_width):void 0,messageTextColor:f(u.message_text_color),normalThemeId:d.of_string(r("nullthrows")(u.normal_theme_id)),primaryButtonBackgroundColor:f(u.primary_button_background_color),reactionPillBackgroundColor:f(u.reaction_pill_background_color),reverseGradiantsForRadial:!!u.reverse_gradients_for_radial,secondaryTextColor:f(u.secondary_text_color),tertiaryTextColor:f(u.tertiary_text_color),themeIdx:a!=null?(d||(d=o("I64"))).of_int32(a):(d||(d=o("I64"))).of_string(r("nullthrows")(u.id)),titlebarAttributionTextColor:f(u.title_bar_attribution_color),titlebarBackgroundColor:f(u.title_bar_background_color),titlebarButtonTintColor:f(u.title_bar_button_tint_color),titlebarTextColor:f(u.title_bar_text_color)})}}n!=null&&(o("MWPThreadThemesFetchQPLLogger").logPoint(n,"insert_themes_to_db_end"),o("MWPThreadThemesFetchQPLLogger").logThemesFetchEnd(n))}async function b(e,t){o("MWPThreadThemesFetchQPLLogger").logPoint(t,"insert_themes_to_db_start");var n=await(m||(m=o("LSDatabaseSingleton"))).LSDatabaseSingleton;return n.runInTransaction(function(n){return C(e,n,t)},"readwrite",void 0,void 0,i.id+":412")}function v(){var e=o("react-compiler-runtime").c(4),t=(u||(u=r("useReStore")))(),a=o("CometRelay").useLazyLoadQuery(s!==void 0?s:s=n("MWPThreadThemeQuery_AllThemesQuery.graphql"),{version:"default"}),l,c;e[0]!==a||e[1]!==t?(l=function(){r("promiseDone")(t.runInTransaction(async function(e){await Promise.all(a.messenger_thread_themes.map(function(t,n){return C(t,e,void 0,n+1)}))},"readwrite",void 0,void 0,i.id+":449"))},c=[a,t],e[0]=a,e[1]=t,e[2]=l,e[3]=c):(l=e[2],c=e[3]),p(l,c)}l.MWPThreadThemeQuery_Fragment=_,l.convertToLSThemes=y,l.insertGraphQLThemeResponseIntoDatabaseWithTxn=C,l.insertGraphQLThemeResponseIntoDatabase=b,l.useFetchAllThreadThemes=v}),98);
__d("useMWPDarkModeTheme",["I64","LSIntEnum","MessengerAppColorMode","ReQL","ReQLSuspense","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){var a=o("react-compiler-runtime").c(4),l,u;return a[0]!==t||a[1]!==n?(l=function(){return n==null?o("ReQL").empty():o("ReQL").fromTableAscending(t.tables.thread_themes).filter(function(t){return(e||(e=o("I64"))).equal(t.normalThemeId,n)&&(e||(e=o("I64"))).equal(t.appColorMode,(s||(s=o("LSIntEnum"))).ofNumber(r("MessengerAppColorMode").DARK))})},u=[t,n],a[0]=t,a[1]=n,a[2]=l,a[3]=u):(l=a[2],u=a[3]),o("ReQLSuspense").useFirst(l,u,i.id+":25")}l.default=u}),98);
__d("MWPThreadThemeProvider.react",["CometRelay","I64","Int64Hooks","LSIntEnum","MWPThemeCSSProvider.react","MWPThreadThemeContext","MWPThreadThemeProviderQuery.graphql","MWPThreadThemeQuery","MWPThreadThemesFetchQPLLogger","MessengerThreadThemeGradientType","ReQL","ReQLSuspense","defaultMWPThreadTheme","promiseDone","react","react-compiler-runtime","useCurrentDisplayMode","useMWPDarkModeTheme","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d,_=p.useMemo,f=p.useState;function g(t,a){var l=o("react-compiler-runtime").c(30),c=(s||(s=r("useReStore")))(),d=r("useCurrentDisplayMode")(),m,p;l[0]!==c||l[1]!==t?(m=function(){return t==null?o("ReQL").empty():o("ReQL").fromTableAscending(c.tables.thread_themes).getKeyRange(t)},p=[c,t],l[0]=c,l[1]=t,l[2]=m,l[3]=p):(m=l[2],p=l[3]);var _=o("ReQLSuspense").useFirst(m,p,i.id+":38"),f=o("MWPThemeCSSProvider.react").useIsThemeV2(),g=r("useMWPDarkModeTheme")(c,t),b=d==="dark"&&f&&g!=null?g:_,v;l[4]!==c||l[5]!==(b==null?void 0:b.fbid)?(v=function(){return(b==null?void 0:b.fbid)==null?o("ReQL").empty():o("ReQL").fromTableAscending(c.tables.gradient_colors).getKeyRange(b==null?void 0:b.fbid)},l[4]=c,l[5]=b==null?void 0:b.fbid,l[6]=v):v=l[6];var S=b==null?void 0:b.fbid,R;l[7]!==c||l[8]!==S?(R=[c,S],l[7]=c,l[8]=S,l[9]=R):R=l[9];var L=o("ReQLSuspense").useArray(v,R,i.id+":53"),E=o("CometRelay").useRelayEnvironment(),k;l[10]!==E||l[11]!==b||l[12]!==t?(k=function(){if(b==null&&t!=null){var a=o("MWPThreadThemesFetchQPLLogger").logThemesFetchStart();r("promiseDone")(o("CometRelay").fetchQuery(E,e!==void 0?e:e=n("MWPThreadThemeProviderQuery.graphql"),{id:(u||(u=o("I64"))).to_string(t)}).toPromise().then(function(e){return o("MWPThreadThemeQuery").insertGraphQLThemeResponseIntoDatabase(e==null?void 0:e.messenger_thread_theme,a)}))}},l[10]=E,l[11]=b,l[12]=t,l[13]=k):k=l[13];var I;l[14]!==E||l[15]!==c||l[16]!==b||l[17]!==t?(I=[t,b,E,c],l[14]=E,l[15]=c,l[16]=b,l[17]=t,l[18]=I):I=l[18],o("Int64Hooks").useEffectInt64(k,I);var T;e:{if(b!=null){var D;l[19]!==L?(D=L.filter(C),l[19]=L,l[20]=D):D=l[20];var x;l[21]!==L?(x=L.filter(y),l[21]=L,l[22]=x):x=l[22];var $;l[23]!==L?($=L.filter(h),l[23]=L,l[24]=$):$=l[24];var P;l[25]!==$||l[26]!==D||l[27]!==x||l[28]!==b?(P={backgroundGradientColors:D,incomingGradientColors:x,outgoingGradientColors:$,threadTheme:b},l[25]=$,l[26]=D,l[27]=x,l[28]=b,l[29]=P):P=l[29],T=P;break e}T=a}return T}function h(e){return(u||(u=o("I64"))).equal(e.type_,(c||(c=o("LSIntEnum"))).ofNumber(r("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_OUTBOUND))}function y(e){return(u||(u=o("I64"))).equal(e.type_,(c||(c=o("LSIntEnum"))).ofNumber(r("MessengerThreadThemeGradientType").MESSAGE_BUBBLE_INBOUND))}function C(e){return(u||(u=o("I64"))).equal(e.type_,(c||(c=o("LSIntEnum"))).ofNumber(r("MessengerThreadThemeGradientType").THREADVIEW_BACKGROUND))}function b(e){var t=o("react-compiler-runtime").c(18),n=e.children,r=e.defaultTheme,a=e.themeFbid,i=f(),l=i[0],s=i[1],u,c;t[0]!==l||t[1]!==a?(u=function(){return l!=null?l:a},c=[a,l],t[0]=l,t[1]=a,t[2]=u,t[3]=c):(u=t[2],c=t[3]);var d=o("Int64Hooks").useMemoInt64(u,c),p=o("defaultMWPThreadTheme").useDefaultThemeWithColors(),_=g(d,r!=null?r:p),h;t[4]!==l||t[5]!==_.backgroundGradientColors||t[6]!==_.incomingGradientColors||t[7]!==_.outgoingGradientColors||t[8]!==_.threadTheme?(h=function(){return{backgroundGradientColors:_.backgroundGradientColors,incomingGradientColors:_.incomingGradientColors,outgoingGradientColors:_.outgoingGradientColors,previewId:l,setPreviewId:s,threadTheme:_.threadTheme}},t[4]=l,t[5]=_.backgroundGradientColors,t[6]=_.incomingGradientColors,t[7]=_.outgoingGradientColors,t[8]=_.threadTheme,t[9]=h):h=t[9];var y;t[10]!==l||t[11]!==_?(y=[_,l],t[10]=l,t[11]=_,t[12]=y):y=t[12];var C=o("Int64Hooks").useMemoInt64(h,y),b;t[13]!==n?(b=m.jsx(o("MWPThemeCSSProvider.react").MWPThemeCSSProvider,{children:n}),t[13]=n,t[14]=b):b=t[14];var v;return t[15]!==b||t[16]!==C?(v=m.jsx(o("MWPThreadThemeContext").MWPThreadThemeContext.Provider,{value:C,children:b}),t[15]=b,t[16]=C,t[17]=v):v=t[17],v}l.default=b}),98);
__d("MWV2MessageRowSimple.react",["FocusWithinHandler.react","MWEditMessageOverlay.react","MWMessageTableFocusTable.react","react","react-compiler-runtime","stylex","useMAWEditMessageData","useMWPEditMessageDeemphasizer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useEffect,m=c.useRef,p={row:{position:"x1n2onr6",$$css:!0},rowFocusVisible:{zIndex:"x1vjfegm",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(12),a=t.children,i=t.domElementRef,l=t.focusCellOnRender,s=l===void 0?!1:l,c=r("useMAWEditMessageData")(),_=c!=null,f=r("useMWPEditMessageDeemphasizer")(),g=m(null),h,y;n[0]!==s?(h=function(){if(s){var e,t;(e=g.current)==null||e.focus(),(t=g.current)==null||t.scrollIntoView()}},y=[s],n[0]=s,n[1]=h,n[2]=y):(h=n[1],y=n[2]),d(h,y);var C;n[3]!==f?(C=(e||(e=r("stylex"))).props(f),n[3]=f,n[4]=C):C=n[4];var b;n[5]!==a||n[6]!==_?(b=u.jsx(o("MWMessageTableFocusTable.react").FocusTable[2],{children:u.jsx(r("FocusWithinHandler.react"),{children:function(n,i){return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.row,i?p.rowFocusVisible:!1),{"data-release-focus-from":"CLICK","data-scope":o("MWMessageTableFocusTable.react").scopeID,ref:g,role:"gridcell",tabIndex:_?-1:0,children:[a,u.jsx(r("MWEditMessageOverlay.react"),{})]}))}})}),n[5]=a,n[6]=_,n[7]=b):b=n[7];var v;return n[8]!==i||n[9]!==C||n[10]!==b?(v=u.jsx(o("MWMessageTableFocusTable.react").FocusTable[1],{children:u.jsx("div",babelHelpers.extends({},C,{ref:i,role:"row",children:b}))}),n[8]=i,n[9]=C,n[10]=b,n[11]=v):v=n[11],v}l.default=_}),98);
__d("MWPTypingIndicators.react",["fbt","BaseTheme.react","FBLogger","FDSPressableFacepile.react","I64","LSIntEnum","LSPresenceStatus","MWBaseTheme","MWChatTypingIndicator.react","MWGenAIUtils","MWPMessageListColumn.react","MWPThreadIsPage.react","MWV2MessageRowSimple.react","MWXMessageBubble.react","MessengerWebGenAIConsentStatusStore","ReQL","ReQLSuspense","ScreenReaderText.react","ServerTime","clearTimeout","getLSMediaContactProfilePictureUrl","isEmpty","react","react-compiler-runtime","setTimeout","stylex","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useEffect,h=f.useMemo,y=f.useState,C=1e4,b=28,v={root:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",paddingBottom:"xjkvuk6",paddingTop:"x1nn3v0j",$$css:!0}};function S(e,t){var n,r=e==null?void 0:e.nickname;return r!=null?r:(n=t.firstName)!=null?n:t.name}function R(t,n){var a=o("react-compiler-runtime").c(13),l=n===void 0?!1:n,s=(e||(e=r("useReStore")))(),u;a[0]!==l||a[1]!==s.tables.contacts||a[2]!==s.tables.participants||a[3]!==s.tables.presence_states||a[4]!==s.tables.typing_indicator||a[5]!==t?(u=function(){return o("ReQL").fromTableAscending(s.tables.typing_indicator).getKeyRange(t).filter(L).map(function(e){var n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.presence_states).getKeyRange(e.senderId),i.id+":119");if(!l||n!=null&&(d||(d=o("I64"))).equal(n.status,(m||(m=o("LSIntEnum"))).ofNumber(r("LSPresenceStatus").ACTIVE))){var a=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.participants).getKeyRange(t,e.senderId),i.id+":137"),u=o("ReQLSuspense").first(o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(e.senderId),i.id+":144");if(u!=null)return[a,u,e]}}).filter(Boolean).take(3)},a[0]=l,a[1]=s.tables.contacts,a[2]=s.tables.participants,a[3]=s.tables.presence_states,a[4]=s.tables.typing_indicator,a[5]=t,a[6]=u):u=a[6];var c;a[7]!==l||a[8]!==s||a[9]!==t?(c=[s,t,l],a[7]=l,a[8]=s,a[9]=t,a[10]=c):c=a[10];var p=o("ReQLSuspense").useArray(u,c,i.id+":108"),_;return a[11]!==p?(_=p.filter(Boolean),a[11]=p,a[12]=_):_=a[12],_}function L(e){return o("ServerTime").getMillis()<(d||(d=o("I64"))).to_float(e.expirationTimestampMs)}function E(e){var t=o("react-compiler-runtime").c(4),n;e:{if((u||(u=r("isEmpty")))(e)){n="";break e}var a=e[0],i=babelHelpers.arrayLikeToArray(e).slice(1),l=a[0],c=a[1];if((u||(u=r("isEmpty")))(i)){var d;t[0]!==c||t[1]!==l?(d=s._(/*BTDS*/"{The participants name} is typing",[s._param("The participants name",S(l,c))]),t[0]=c,t[1]=l,t[2]=d):d=t[2],n=d;break e}var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Multiple participants are typing"),t[3]=m):m=t[3],n=m}return n}function k(e){var t=o("react-compiler-runtime").c(7),n=e.length>0,a;t[0]!==n||t[1]!==e?(a=n?e.reduce(I,0):0,t[0]=n,t[1]=e,t[2]=a):a=t[2];var i=a,l=y(i>o("ServerTime").getMillis()),s=l[0],u=l[1],c,d;return t[3]!==n||t[4]!==i?(c=function(){if(n){u(i>o("ServerTime").getMillis());var e=i-o("ServerTime").getMillis(),t=r("setTimeout")(function(){return u(!1)},e);return(function(){r("clearTimeout")(t)})}},d=[i,u,n],t[3]=n,t[4]=i,t[5]=c,t[6]=d):(c=t[5],d=t[6]),g(c,d),n&&s}function I(e,t){var n=t[2];return Math.max(e,(d||(d=o("I64"))).to_float(n.expirationTimestampMs))}function T(e){var t=o("react-compiler-runtime").c(30),n=e.containerStyle,a=e.customTypingIndicatorComponent,i=e.facepileSize,l=e.isBackgroundTransparent,s=e.isMessageListColumnProfile,u=e.messageBubbleStyle,d=e.setIsParentTypingIndicatorVisible,m=e.threadType,p=e.typingParticipants,f=l===void 0?!1:l,h=p.reduce(x,0),S;t[0]!==h?(S=function(){return h>o("ServerTime").getMillis()},t[0]=h,t[1]=S):S=t[1];var R=y(S),L=R[0],E=R[1],k=o("MWPThreadIsPage.react").useIsPage(),I;t[2]!==a||t[3]!==k||t[4]!==h?(I=function(){E(function(){return h>o("ServerTime").getMillis()});var e=h-o("ServerTime").getMillis();e>C&&(r("FBLogger")("messenger_web").warn("Typing indicator is delaying for too long: %s ms",e),!a&&!k&&(e=C));var t=r("setTimeout")(function(){return E(!1)},e);return(function(){r("clearTimeout")(t)})},t[2]=a,t[3]=k,t[4]=h,t[5]=I):I=t[5];var T;if(t[6]!==h?(T=[h,E],t[6]=h,t[7]=T):T=t[7],g(I,T),L){d!=null&&d(!0);var $;t[8]!==p?($=p.map(D),t[8]=p,t[9]=$):$=t[9];var P=$,N;t[10]!==n?(N=(c||(c=r("stylex"))).props(v.root,n),t[10]=n,t[11]=N):N=t[11];var M=!f,w=s!=null?s:!0,A=i!=null?i:b,F;t[12]!==P||t[13]!==A?(F=_.jsx(r("FDSPressableFacepile.react"),{isOverlapping:!0,items:P,size:A}),t[12]=P,t[13]=A,t[14]=F):F=t[14];var O;t[15]!==F||t[16]!==M||t[17]!==w?(O=_.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnSelfCentered,{paint:M,profile:w,children:F}),t[15]=F,t[16]=M,t[17]=w,t[18]=O):O=t[18];var B;t[19]!==a||t[20]!==m?(B=a||_.jsx(r("MWChatTypingIndicator.react"),{threadType:m}),t[19]=a,t[20]=m,t[21]=B):B=t[21];var W;t[22]!==f||t[23]!==u||t[24]!==B?(W=_.jsx(r("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,isBackgroundTransparent:f,precedesXMA:!1,xstyle:u,children:B}),t[22]=f,t[23]=u,t[24]=B,t[25]=W):W=t[25];var q;return t[26]!==O||t[27]!==W||t[28]!==N?(q=_.jsxs("div",babelHelpers.extends({"aria-hidden":!0},N,{children:[O,W]})),t[26]=O,t[27]=W,t[28]=N,t[29]=q):q=t[29],q}else return d!=null&&d(!1),null}function D(e){var t=e[0],n=e[1];return{alt:S(t,n),source:{uri:r("getLSMediaContactProfilePictureUrl")(n)}}}function x(e,t){var n=t[2];return Math.max(e,(d||(d=o("I64"))).to_float(n.expirationTimestampMs))}function $(e){var t=o("react-compiler-runtime").c(24),n=e.checkPresenceSettings,a=e.containerStyle,i=e.customTypingIndicatorComponent,l=e.facepileSize,s=e.isBackgroundTransparent,u=e.isMessageListColumnProfile,c=e.messageBubbleStyle,d=e.setIsParentTypingIndicatorVisible,m=e.theme,p=e.threadKey,f=e.threadType,g=n===void 0?!1:n,h=l===void 0?b:l,y=s===void 0?!1:s,C=u===void 0?!0:u,v=m||o("MWBaseTheme").empty,S=R(p,g),L=E(S);if(S.length<=0)return d!=null&&d(!1),null;if(o("MWGenAIUtils").isMetaAIThread(p)&&!r("MessengerWebGenAIConsentStatusStore").getChatConsented())return null;var k=!y,I;t[0]!==y?(I={0:{className:"xnezbuk x1q0q8m5 xso031l"},1:{className:"x16stqrj x1q0q8m5 xso031l"}}[!!y<<0],t[0]=y,t[1]=I):I=t[1];var D;t[2]!==L?(D=_.jsx(r("ScreenReaderText.react"),{text:L}),t[2]=L,t[3]=D):D=t[3];var x;t[4]!==I||t[5]!==D?(x=_.jsx("div",babelHelpers.extends({"aria-live":"polite"},I,{children:D})),t[4]=I,t[5]=D,t[6]=x):x=t[6];var $;t[7]!==a||t[8]!==i||t[9]!==h||t[10]!==y||t[11]!==C||t[12]!==c||t[13]!==d||t[14]!==f||t[15]!==S?($=_.jsx(T,{containerStyle:a,customTypingIndicatorComponent:i,facepileSize:h,isBackgroundTransparent:y,isMessageListColumnProfile:C,messageBubbleStyle:c,setIsParentTypingIndicatorVisible:d,threadType:f,typingParticipants:S}),t[7]=a,t[8]=i,t[9]=h,t[10]=y,t[11]=C,t[12]=c,t[13]=d,t[14]=f,t[15]=S,t[16]=$):$=t[16];var P;t[17]!==k||t[18]!==x||t[19]!==$?(P=_.jsx(r("MWV2MessageRowSimple.react"),{children:_.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{paint:k,children:[x,$]})}),t[17]=k,t[18]=x,t[19]=$,t[20]=P):P=t[20];var N;return t[21]!==P||t[22]!==v?(N=_.jsx(r("BaseTheme.react"),{config:v,role:"grid",children:P}),t[21]=P,t[22]=v,t[23]=N):N=t[23],N}var P=o("withCometPlaceholder").withCometPlaceholder($,null,"MWPTypingIndicators");l.useTypingParticipants=R,l.useAccessibilityText=E,l.useShouldShowTypingIndicator=k,l.MWPTypingIndicators=P}),226);
__d("MWPreloadedText",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({text:null});l.default=u}),98);
__d("messengerSecureMentionsLexicalCreateNodeStrategy",["MessengerLexicalActorNode","cometBaseMentionsLexicalCreateNodeStrategy","cometMentionsDataEntryText"],(function(t,n,r,o,a,i,l){"use strict";var e=r("cometBaseMentionsLexicalCreateNodeStrategy")(function(e){return o("MessengerLexicalActorNode").$createMessengerLexicalActorNode({id:e.key,text:r("cometMentionsDataEntryText")(e)},"token")}),s=e;l.default=s}),98);
__d("useCometTypeaheadSectionedViewListStrategy",["CometTypeaheadProgressGlimmer.react","CometTypeaheadSectionedViewListStrategy.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["entries","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"],s,u=s||(s=o("react")),c=s.useCallback;function d(t){var n=o("react-compiler-runtime").c(6),a=t.emptyStateContent,i=t.nullstateContent,l=t.onHeaderActionPress,s=t.viewItemStrategyRenderer,c=t.viewXStyle,d;return n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==s||n[4]!==c?(d=function(n){var t=n.entries,d=n.isLoading,m=n.onAbandonTypeahead_DO_NOT_USE,p=n.queryString,_=babelHelpers.objectWithoutPropertiesLoose(n,e);return p.length===0&&i!=null?i:u.jsxs(o("react-strict-dom").html.div,{style:c,children:[u.jsx(r("CometTypeaheadSectionedViewListStrategy.react"),babelHelpers.extends({},_,{emptyStateContent:a,entries:t,isLoading:d,onHeaderActionPress:function(){m==null||m(),l==null||l()},queryString:p,viewItemStrategyRenderer:s})),d&&u.jsx(r("CometTypeaheadProgressGlimmer.react"),{})]})},n[0]=a,n[1]=i,n[2]=l,n[3]=s,n[4]=c,n[5]=d):d=n[5],d}l.default=d}),98);
__d("useMWChatMentionsDataSourceResolverConfig",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWChatComposerMentionsTypeaheadDataSource","MWLSThread","createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport","react","react-compiler-runtime","useCometMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useMemo;function c(e){var t=o("react-compiler-runtime").c(14),n=e.isAiBotMentionsEnabled,a=e.participants,i=e.threadFBID,l=e.triggerParticipantsSearch,u;t[0]!==i?(u=(s||(s=o("I64"))).of_string(i),t[0]=i,t[1]=u):u=t[1];var c=o("MWLSThread").useThreadExn(u),d=c.threadType,m;t[2]!==c?(m=o("LSMessagingThreadTypeUtil").isGroup(c.threadType)&&o("LSThreadBitOffset").has(43,c),t[2]=c,t[3]=m):m=t[3];var p=m,_;t[4]!==n||t[5]!==a||t[6]!==p||t[7]!==i||t[8]!==d||t[9]!==l?(_=new(r("MWChatComposerMentionsTypeaheadDataSource"))(a,i,l,n,p,d),t[4]=n,t[5]=a,t[6]=p,t[7]=i,t[8]=d,t[9]=l,t[10]=_):_=t[10];var f;t[11]===Symbol.for("react.memo_cache_sentinel")?(f=r("createCometAtSignComposerMentionsMatchStrategyWithInstagramHandleSupport")({minMatchLength:0}),t[11]=f):f=t[11];var g;t[12]!==_?(g=[{dataSource:_,matchStrategy:f}],t[12]=_,t[13]=g):g=t[13];var h=g;return r("useCometMentionsDataSourceResolverConfig")(h,!0)}l.default=c}),98);
__d("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react",["CometMentionsForLexical.react","CometMentionsLayoutStrategy.react","I64","LSMessagingThreadTypeUtil","MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","MWCMThreadTypes.react","MWChatAppendMentionsNodeToReply","MWChatComposerMentionsViewItem.react","MWChatComposerTypeaheadUtil","MWLSThread","MessengerWebUXLogger","cr:4183","messengerMentionsLexicalCreateNodeStrategy","messengerSecureMentionsLexicalCreateNodeStrategy","react","react-compiler-runtime","useCometTypeaheadSectionedViewListStrategy","useCommunityFolder","useMWChatMentionsDataSourceResolverConfig"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useCallback,p=d.useMemo;function _(e){return f}function f(e,t){}var g=(e=n("cr:4183"))!=null?e:_,h={view:{minWidth:"x1jzhcrs",$$css:!0}};function y(e){var t=o("react-compiler-runtime").c(23),n=e.editor,a=e.isAiBotMentionsEnabled,i=e.isSecureThread,l=e.participants,s=e.threadFBID,d;t[0]!==s?(d=(u||(u=o("I64"))).of_string(s),t[0]=s,t[1]=d):d=t[1];var m=g(d),p;t[2]!==a||t[3]!==l||t[4]!==s||t[5]!==m?(p={isAiBotMentionsEnabled:a,participants:l,threadFBID:s,triggerParticipantsSearch:m},t[2]=a,t[3]=l,t[4]=s,t[5]=m,t[6]=p):p=t[6];var _=p,f=r("useMWChatMentionsDataSourceResolverConfig")(_),y;t[7]===Symbol.for("react.memo_cache_sentinel")?(y={viewItemStrategyRenderer:r("MWChatComposerMentionsViewItem.react"),viewXStyle:h.view},t[7]=y):y=t[7];var C=r("useCometTypeaheadSectionedViewListStrategy")(y),b;t[8]!==s?(b=(u||(u=o("I64"))).of_string(s),t[8]=s,t[9]=b):b=t[9];var v=o("MWLSThread").useThreadExn(b),S=r("useCommunityFolder")(v);o("MWChatAppendMentionsNodeToReply").useMWChatAppendMentionsNodeToReply(n,v.threadKey,a);var R=r("MessengerWebUXLogger").useInteractionLogger(),L;t[10]!==i||t[11]!==R?(L=function(t){if(i===!0&&R!=null){var e=t.handle!=null?o("MWChatComposerTypeaheadUtil").commandToRangeType(t.handle):null;e:switch(e){case"t":{R({eventName:"mentions_everyone_selected"});break e}case"p":{R({eventName:"mentions_recipient_selected"});break e}default:}}return{shouldMentionSelectedEntry:!0}},t[10]=i,t[11]=R,t[12]=L):L=t[12];var E=L;if(r("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react")!=null&&(o("MWCMThreadTypes.react").isJoinedCMThread(v.threadType)&&S||o("LSMessagingThreadTypeUtil").isJoinedSocialChannelV2(v.threadType))){var k,I=(k=S==null?void 0:S.folderId)!=null?k:v.threadKey,T;return t[13]!==n||t[14]!==I||t[15]!==s?(T=c.jsx(r("MWCMMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:n,folderId:I,threadFBID:s}),t[13]=n,t[14]=I,t[15]=s,t[16]=T):T=t[16],T}else{var D=r(i===!0?"messengerSecureMentionsLexicalCreateNodeStrategy":"messengerMentionsLexicalCreateNodeStrategy"),x;return t[17]!==f||t[18]!==n||t[19]!==E||t[20]!==D||t[21]!==C?(x=c.jsx(r("CometMentionsForLexical.react"),{createNodeStrategy:D,dataSourceResolverConfig:f,editor:n,layoutStrategyRenderer:r("CometMentionsLayoutStrategy.react"),mentionsHandlerForSelectedEntry:E,position:"above",viewStrategyRenderer:C}),t[17]=f,t[18]=n,t[19]=E,t[20]=D,t[21]=C,t[22]=x):x=t[22],x}}l.default=y}),98);
__d("MWReQLComposerInner.react",["CometMessengerComposerInner.react","I64","MWLSThread","MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(26),n=e.ariaDescribedBy,a=e.ariaLabel,i=e.contentEditableRef,l=e.editor,c=e.endContent,m=e.handlePastedFiles,p=e.isAiBotMentionsEnabled,_=e.isSecureThread,f=e.participants,g=e.placeholderText,h=e.policyProduct,y=e.startContent,C=e.surface,b=e.testId,v=e.threadID,S=e.topContent,R=e.useMentionsPlugin,L=g===void 0?"Aa":g,E;t[0]!==v?(E=(s||(s=o("I64"))).of_string(v),t[0]=v,t[1]=E):E=t[1];var k=o("MWLSThread").useThread(E,d),I;t[2]!==l||t[3]!==p||t[4]!==_||t[5]!==f||t[6]!==v||t[7]!==R?(I=R&&u.jsx(r("MessengerMentionsComposerPluginCreatorWithTypeaheadViewForLexical.react"),{editor:l,isAiBotMentionsEnabled:p,isSecureThread:_,participants:f,threadFBID:v}),t[2]=l,t[3]=p,t[4]=_,t[5]=f,t[6]=v,t[7]=R,t[8]=I):I=t[8];var T=I,D=k==null?void 0:k.threadSubtype,x=k==null?void 0:k.threadType,$;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==c||t[14]!==m||t[15]!==_||t[16]!==T||t[17]!==L||t[18]!==h||t[19]!==y||t[20]!==C||t[21]!==D||t[22]!==x||t[23]!==b||t[24]!==S?($=u.jsx(r("CometMessengerComposerInner.react"),{ariaDescribedBy:n,ariaLabel:a,contentEditableRef:i,editor:l,endContent:c,handlePastedFiles:m,isSecureThread:_,mentionsPlugin:T,placeholderText:L,policyProduct:h,startContent:y,surface:C,testId:b,threadSubtype:D,threadType:x,topContent:S}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=c,t[14]=m,t[15]=_,t[16]=T,t[17]=L,t[18]=h,t[19]=y,t[20]=C,t[21]=D,t[22]=x,t[23]=b,t[24]=S,t[25]=$):$=t[25],$}function d(e){var t=e.threadSubtype,n=e.threadType;return{threadSubtype:t,threadType:n}}l.default=c}),98);
__d("MWV2AdminMsgArmadilloEphemeralChangeDuration.react",["MWAdminTextLayout.react","cr:7125","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),a=e.message,i=a.adminMsgCtaTitle,l;t[0]!==a.threadKey||t[1]!==i?(l=i!=null&&n("cr:7125")!=null?s.jsx("div",{className:"xz94kzr x1rg5ohu xo1l8bm",children:s.jsx(n("cr:7125"),{threadKey:a.threadKey,title:i})}):null,t[0]=a.threadKey,t[1]=i,t[2]=l):l=t[2];var u=l,c;return t[3]!==u||t[4]!==a?(c=s.jsx(r("MWAdminTextLayout.react"),{cta:u,message:a}),t[3]=u,t[4]=a,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react",["fbt","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWAdminMsgCtaLink.react"),{href:"https://www.facebook.com/legal/ai-terms",target:"_blank",children:s._(/*BTDS*/"Learn more.")}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWAdminTextLayout.react"),{cta:a,message:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("useMWInboxOpenChangeThemeDialog",["JSResourceForInteraction","MWEditThemeQplLogger","MWPBumpEntityKey","promiseDone","react","react-compiler-runtime","useAsyncReStore","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWPThreadTheme","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e,t){var n=o("react-compiler-runtime").c(8),a=r("useMWFalcoFeatureEventLogger")(e,t),i=r("useMWEntrypoint")(),l=r("useAsyncReStore")(),s=r("useMWPThreadTheme")(),u=s.setPreviewId,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MWEditThemeDialog.react").__setRef("useMWInboxOpenChangeThemeDialog"),n[0]=d):d=n[0];var m=r("useMWXLazyDialog")(d),p=m[0],_;return n[1]!==l||n[2]!==i||n[3]!==a||n[4]!==u||n[5]!==p||n[6]!==e?(_=function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","customise_section_change_theme"),a(i,"change_thread_theme"),r("promiseDone")(l,function(t){r("promiseDone")(t.tables.threads.get(e),function(e){if(e!=null){var t=o("MWEditThemeQplLogger").startEventAndReturnInstanceKey("MWInboxInfoEditTheme","v1");p({instanceKey:t,thread:e},function(){return u(c)})}})})},n[1]=l,n[2]=i,n[3]=a,n[4]=u,n[5]=p,n[6]=e,n[7]=_):_=n[7],_}function c(){}l.default=u}),98);
__d("MWV2AdminMsgChangeTheme.react",["FBLogger","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWInboxOpenChangeThemeDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(18),l=t.message,u=(e||(e=r("useReStore")))(),d;a[0]!==u.tables.admin_message_ctas||a[1]!==l.adminMsgCtaId||a[2]!==l.messageId||a[3]!==l.threadKey?(d=function(){var e;return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},a[0]=u.tables.admin_message_ctas,a[1]=l.adminMsgCtaId,a[2]=l.messageId,a[3]=l.threadKey,a[4]=d):d=a[4];var m;a[5]!==u||a[6]!==l?(m=[u,l],a[5]=u,a[6]=l,a[7]=m):m=a[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":26"),_=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(u.tables.threads).getKeyRange(l.threadKey)},[u,l],i.id+":36"))==null?void 0:n.threadType;if(_==null)throw r("FBLogger")("messenger_web").mustfixThrow("threadType should not be null when trying to open the change theme dialog at MWV2AdminMsgChangeTheme");var f=r("useMWInboxOpenChangeThemeDialog")(l.threadKey,_);if(p==null||_==null){var g;return a[8]!==l?(g=c.jsx(r("MWAdminTextLayout.react"),{message:l}),a[8]=l,a[9]=g):g=a[9],g}if(p==null||_==null){var h;return a[10]!==l?(h=c.jsx(r("MWAdminTextLayout.react"),{message:l}),a[10]=l,a[11]=h):h=a[11],h}var y=p==null?void 0:p.title,C;a[12]!==f||a[13]!==y?(C=y!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:f,children:y}):null,a[12]=f,a[13]=y,a[14]=C):C=a[14];var b=C,v;return a[15]!==b||a[16]!==l?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:l}),a[15]=b,a[16]=l,a[17]=v):v=a[17],v}l.default=d}),98);
__d("useAdminMessageCTATitleLS",["ReQL","ReQLSuspense","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(7),r;n[0]!==e.tables.admin_message_ctas||n[1]!==t.messageId||n[2]!==t.threadKey?(r=function(){return o("ReQL").fromTableAscending(e.tables.admin_message_ctas).getKeyRange(t.threadKey,t.messageId)},n[0]=e.tables.admin_message_ctas,n[1]=t.messageId,n[2]=t.threadKey,n[3]=r):r=n[3];var a;n[4]!==e||n[5]!==t?(a=[e,t],n[4]=e,n[5]=t,n[6]=a):a=n[6];var l=o("ReQLSuspense").useFirst(r,a,i.id+":26");return l==null?void 0:l.title}l.default=e}),98);
__d("useMAWSeparateReadsSelector",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n,r){return r?t:n}function l(e,t,n,r,o){return o===void 0&&(o=[]),r?t:n}i.useMAWSeparateReadsSelector=e,i.mawSeparateReadsMapSelector=l}),66);
__d("useAdminMessageCTATitleProvider",["qex","react-compiler-runtime","useAdminMessageCTATitleLS","useMAWSeparateReadsSelector"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=o("react-compiler-runtime").c(2),i;if(a[0]!==n){var l;i=n&&((l=r("qex")._("62"))!=null?l:!1),a[0]=n,a[1]=i}else i=a[1];var s=i,u=r("useAdminMessageCTATitleLS")(e,t),c=o("useMAWSeparateReadsSelector").useMAWSeparateReadsSelector("Title",t.adminMsgCtaTitle,s?void 0:u,s);return c}l.default=e}),98);
__d("MWV2AdminMsgChangeThreadLimitSharingPermission.react",["MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.facebook.com/help/messenger-app/2016594885417423?ref=ipl";function d(t){var n=o("react-compiler-runtime").c(7),a=t.message,i=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={fallbackIsSecure:!0},n[0]=l):l=n[0];var s=r("useIsSecureMessage")(i,a,l),d=r("useAdminMessageCTATitleProvider")(i,a,s),m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m={className:"xxq4lyh x1rg5ohu xk50ysn"},n[1]=m):m=n[1];var p;n[2]!==d?(p=u.jsx("div",babelHelpers.extends({},m,{children:u.jsx(r("MWXLink.react"),{href:c,children:d})})),n[2]=d,n[3]=p):p=n[3];var _=p,f;return n[4]!==_||n[5]!==a?(f=u.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a}),n[4]=_,n[5]=a,n[6]=f):f=n[6],f}l.default=d}),98);
__d("MWV2AdminMsgDMLearnMore.react",["fbt","IGDDisappearingMessagesStrings","MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Learn more about disappearing messages"),t[0]=a):a=t[0];var i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXLink.react"),{"aria-label":a,href:o("IGDDisappearingMessagesStrings").LEARN_MORE_LINK,target:"_blank",children:s._(/*BTDS*/"Learn More")}),t[1]=i):i=t[1];var l;return t[2]!==n?(l=u.jsx(r("MWAdminTextLayout.react"),{cta:i,message:n}),t[2]=n,t[3]=l):l=t[3],l}l.default=c}),226);
__d("XPolarisDirectInboxControllerRouteBuilder",["jsExtraRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsExtraRouteBuilder")("/direct/inbox/",Object.freeze({initial_e2ee_toggle_position:!1,recurring_notification:!1,__pwa:!1}),["/direct/t/{?thread_key}/","/direct/{?subpage}/{?folder}/"],void 0),s=e;l.default=s}),98);
__d("MWV2AdminMsgE2EECutoverRollback.react",["CurrentEnvironment","I64","MWAdminTextLayout.react","MWFBLogger","MWInboxRouteBuilder","MWXLink.react","ReQL","ReQLSuspense","XPolarisDirectInboxControllerRouteBuilder","react","react-strict-dom","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m={adminTextCta:{color:"xz94kzr",display:"x1rg5ohu",fontWeight:"xk50ysn",$$css:!0}};function p(t){var n=t.message,a=(s||(s=r("useReStore")))(),l=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.mi_act_mapping_table).getKeyRange(n.threadKey).map(function(e){return(u||(u=o("I64"))).to_string(e.jid)})},[a,n.threadKey],i.id+":42"),c;l!=null?r("CurrentEnvironment").instagramdotcom?c=r("XPolarisDirectInboxControllerRouteBuilder").buildExtraURL("/direct/t/{?thread_key}/",{thread_key:l}):c=o("MWInboxRouteBuilder").buildURL({thread_key:l}):(o("MWFBLogger").MWLogger().tags(["Cutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to generate the url, thread is missing in mi_act_mapping table for threadKey ",""])),(u||(u=o("I64"))).to_string(n.threadKey)),c=o("MWInboxRouteBuilder").buildHomeURL());var p=r("useIsSecureMessage")(a,n,{fallbackIsSecure:!0}),_=r("useAdminMessageCTATitleProvider")(a,n,p),f=_!=null?d.jsx(o("react-strict-dom").html.div,{style:m.adminTextCta,children:d.jsx(r("MWXLink.react"),{href:c,target:"_self",children:_})}):null;return d.jsx(r("MWAdminTextLayout.react"),{cta:f,message:n})}p.displayName=p.name+" [from "+i.id+"]",l.default=p}),98);
__d("MWV2AdminMsgE2EEDescription.react",["fbt","CurrentEnvironment","JSResourceForInteraction","MDSLockSvgIcon.react","MWAdminTextLayout.react","MWXLink.react","XInstagramHelpDotComContentControllerRouteBuilder","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWV2AdminMsgE2EEDescription.react"),m=s._(/*BTDS*/"Learn more");function p(t){var n=o("react-compiler-runtime").c(12),a=t.message,i=(e||(e=r("useReStore")))(),l;if(n[0]===Symbol.for("react.memo_cache_sentinel")){var s;l=(s=r("XInstagramHelpDotComContentControllerRouteBuilder").buildUri({cms_id:"491565145294150"}).setDomain("help.instagram.com"))==null||(s=s.setProtocol("https"))==null?void 0:s.toString(),n[0]=l}else l=n[0];var u=l,p;n[1]===Symbol.for("react.memo_cache_sentinel")?(p={},n[1]=p):p=n[1];var _=p,f=r("useMWXLazyDialog")(d),g=f[0],h;n[2]!==g?(h=function(){return g(_)},n[2]=g,n[3]=h):h=n[3];var y=h,C;n[4]===Symbol.for("react.memo_cache_sentinel")?(C={fallbackIsSecure:!0},n[4]=C):C=n[4];var b=r("useIsSecureMessage")(i,a,C),v=r("useAdminMessageCTATitleProvider")(i,a,b),S;n[5]!==y||n[6]!==v?(S=v!=null?r("CurrentEnvironment").instagramdotcom?c.jsx(r("MWXLink.react"),{href:u,target:"_blank",children:m}):c.jsx("div",{className:"xz94kzr x1rg5ohu xk50ysn",children:c.jsx(r("MWXLink.react"),{onClick:y,target:"_blank",children:v})}):null,n[5]=y,n[6]=v,n[7]=S):S=n[7];var R=S,L;n[8]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx("div",{className:"x1o583il x1rg5ohu xz03a8w x1n2onr6",children:c.jsx(r("MDSLockSvgIcon.react"),{color:"tertiary",size:16})}),n[8]=L):L=n[8];var E;return n[9]!==R||n[10]!==a?(E=c.jsxs(c.Fragment,{children:[L,c.jsx(r("MWAdminTextLayout.react"),{cta:R,message:a})]}),n[9]=R,n[10]=a,n[11]=E):E=n[11],E}l.default=p}),226);
__d("MWV2AdminMsgE2EEUKOSA.react",["MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c="https://www.messenger.com/help/1145318292241859/?helpref=uk_lm";function d(t){var n=o("react-compiler-runtime").c(7),a=t.message,i=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={fallbackIsSecure:!0},n[0]=l):l=n[0];var s=r("useIsSecureMessage")(i,a,l),d=r("useAdminMessageCTATitleProvider")(i,a,s),m;n[1]===Symbol.for("react.memo_cache_sentinel")?(m={className:"xxq4lyh x1rg5ohu xk50ysn"},n[1]=m):m=n[1];var p;n[2]!==d?(p=u.jsx("div",babelHelpers.extends({},m,{children:u.jsx(r("MWXLink.react"),{href:c,children:d})})),n[2]=d,n[3]=p):p=n[3];var _=p,f;return n[4]!==_||n[5]!==a?(f=u.jsx(r("MWAdminTextLayout.react"),{cta:_,message:a}),n[4]=_,n[5]=a,n[6]=f):f=n[6],f}l.default=d}),98);
__d("MWV2AdminMsgICDC.react",["fbt","MWAdminTextLayout.react","MWXLink.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c="https://www.facebook.com/help/147596532316790";function d(e){var t=o("react-compiler-runtime").c(3),n=e.message,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(o("react-strict-dom").html.div,{children:u.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",href:c,target:"_blank",children:s._(/*BTDS*/"Learn More")})}),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWAdminTextLayout.react"),{cta:a,message:n}),t[1]=n,t[2]=i):i=t[2],i}l.default=d}),226);
__d("MWV2AdminMsgMarketingMessagesManage.react",["I64","MWAdminTextLayout.react","MWMarketingMessagesManageAdminMsgCta.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(16),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u={fallbackIsSecure:!0},n[0]=u):u=n[0];var d=r("useIsSecureMessage")(l,a,u),m=r("useAdminMessageCTATitleProvider")(l,a,d),p;n[1]!==l.tables.admin_message_ctas||n[2]!==a.adminMsgCtaId||n[3]!==a.messageId||n[4]!==a.threadKey?(p=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[1]=l.tables.admin_message_ctas,n[2]=a.adminMsgCtaId,n[3]=a.messageId,n[4]=a.threadKey,n[5]=p):p=n[5];var _;n[6]!==l||n[7]!==a?(_=[l,a],n[6]=l,n[7]=a,n[8]=_):_=n[8];var f=o("ReQLSuspense").useFirst(p,_,i.id+":41"),g=f==null?void 0:f.targetId,h;n[9]!==a.threadKey||n[10]!==g||n[11]!==m?(h=m!=null&&g!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWMarketingMessagesManageAdminMsgCta.react"),{pageId:g,threadKey:a.threadKey,title:m})}):null,n[9]=a.threadKey,n[10]=g,n[11]=m,n[12]=h):h=n[12];var y=h,C;return n[13]!==y||n[14]!==a?(C=c.jsx(r("MWAdminTextLayout.react"),{cta:y,message:a}),n[13]=y,n[14]=a,n[15]=C):C=n[15],C}l.default=d}),98);
__d("MWV2AdminMsgNotificationMessageManageNotifications.react",["I64","MWAdminTextLayout.react","MWNotificationMessageManageNotificationsAdminMsgCta.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(17),a=t.isOptOut,l=t.message,u=(e||(e=r("useReStore")))(),d;n[0]!==u.tables.admin_message_ctas||n[1]!==l.adminMsgCtaId||n[2]!==l.messageId||n[3]!==l.threadKey?(d=function(){var e;return o("ReQL").fromTableAscending(u.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=u.tables.admin_message_ctas,n[1]=l.adminMsgCtaId,n[2]=l.messageId,n[3]=l.threadKey,n[4]=d):d=n[4];var m;n[5]!==u||n[6]!==l?(m=[u,l],n[5]=u,n[6]=l,n[7]=m):m=n[7];var p=o("ReQLSuspense").useFirst(d,m,i.id+":37"),_=l.adminMsgCtaTitle,f=p==null?void 0:p.targetId,g;n[8]!==p||n[9]!==_||n[10]!==a||n[11]!==l.threadKey||n[12]!==f?(g=_!=null&&p!=null&&f!=null?c.jsx("div",{className:"x1y872pf x1rg5ohu x1s688f",children:c.jsx(r("MWNotificationMessageManageNotificationsAdminMsgCta.react"),{isOptOut:a,targetId:f,threadKey:l.threadKey,title:_})}):null,n[8]=p,n[9]=_,n[10]=a,n[11]=l.threadKey,n[12]=f,n[13]=g):g=n[13];var h=g,y;return n[14]!==h||n[15]!==l?(y=c.jsx(r("MWAdminTextLayout.react"),{cta:h,message:l}),n[14]=h,n[15]=l,n[16]=y):y=n[16],y}l.default=d}),98);
__d("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3008"),s=o("FalcoLoggerInternal").create("p2b_differentiation_privacy_disclosure_open_click_web",e),u=s;l.default=u}),98);
__d("MWV2AdminMsgP2BPrivacyDisclosure.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgP2BPrivacyDisclosure.react");function m(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var m;n[5]!==l||n[6]!==a?(m=[l,a],n[5]=l,n[6]=a,n[7]=m):m=n[7];var _=o("ReQLSuspense").useFirst(u,m,i.id+":31"),f=r("useMWXLazyDialog")(d),g=f[0],h=_==null?void 0:_.title,y;n[8]!==a.threadKey||n[9]!==g||n[10]!==h?(y=h!=null?c.jsx(r("MWXLink.react"),{onClick:function(){g({entryPoint:"ADMIN_TEXT",threadKey:a.threadKey},p),r("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"ADMIN_TEXT",page_id:(s||(s=o("I64"))).to_string(a.threadKey)}})},children:h}):null,n[8]=a.threadKey,n[9]=g,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}function p(){}l.default=m}),98);
__d("MWV2AdminMsgPostMessageRemoveActions.react",["C4GFalcoLoggerDeferred","I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m=r("JSResourceForInteraction")("MWCMAdmodRemoveMessageOtherActionsDialog.react").__setRef("MWV2AdminMsgPostMessageRemoveActions.react");function p(e){var t=o("react-compiler-runtime").c(7),n=e.senderId,a=e.threadKey,i=e.title,l=r("useMWXLazyDialog")(m),s=l[0],d;t[0]!==n||t[1]!==s||t[2]!==a?(d=function(){o("C4GFalcoLoggerDeferred").logC4GEngagementFalcoEvent({action:"tap",event:"message_removed_more_actions_sheet_rendered",surface:"thread_view",thread_id:(u||(u=o("I64"))).to_string(a)}),s({senderId:n,threadKey:a})},t[0]=n,t[1]=s,t[2]=a,t[3]=d):d=t[3];var p=d,_;return t[4]!==p||t[5]!==i?(_=c.jsx(r("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:p,role:"button",children:i}),t[4]=p,t[5]=i,t[6]=_):_=t[6],_}function _(t){var n=o("react-compiler-runtime").c(17),a=t.message,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(s=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(u||(u=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=s):s=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(s,d,i.id+":63"),_=m==null?void 0:m.title,f=m==null?void 0:m.actionUrl,g=null;if(f!=null){var h;if(n[8]!==f){var y=new URL(f);h=y.searchParams.get("removed_msg_sender_id"),n[8]=f,n[9]=h}else h=n[9];g=h}var C;n[10]!==a.threadKey||n[11]!==g||n[12]!==_?(C=g!=null&&_!=null?c.jsx(p,{senderId:g,threadKey:a.threadKey,title:_}):null,n[10]=a.threadKey,n[11]=g,n[12]=_,n[13]=C):C=n[13];var b=C,v;return n[14]!==b||n[15]!==a?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[14]=b,n[15]=a,n[16]=v):v=n[16],v}l.default=_}),98);
__d("MWV2AdminMsgServiceBookingLegalDisclaimer.react",["I64","JSResourceForInteraction","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWV2AdminMsgServiceBookingLegalDisclaimer.react");function m(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var m;n[5]!==l||n[6]!==a?(m=[l,a],n[5]=l,n[6]=a,n[7]=m):m=n[7];var _=o("ReQLSuspense").useFirst(u,m,i.id+":32"),f=r("useMWXLazyDialog")(d),g=f[0],h=_==null?void 0:_.title,y;n[8]!==a.threadKey||n[9]!==g||n[10]!==h?(y=h!=null?c.jsx(r("MWXLink.react"),{onClick:function(){return g({entryPoint:"ADMIN_TEXT",threadKey:a.threadKey},p)},children:h}):null,n[8]=a.threadKey,n[9]=g,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}function p(){}l.default=m}),98);
__d("MWV2AdminMsgShowPinnedMessages.react",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","MWPBumpEntityKey","MessengerWebUXLogger","ReQL","ReQLSuspense","react","react-compiler-runtime","useAdminMessageCTATitleProvider","useIsSecureMessage","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWV2AdminMsgShowPinnedMessages.react");function d(t){var n=o("react-compiler-runtime").c(21),a=t.message,l=(e||(e=r("useReStore")))(),s=r("useMWXLazyDialog")(c),d=s[0],p;n[0]!==l.tables.threads||n[1]!==a.threadKey?(p=function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadType"]).getKeyRange(a.threadKey)},n[0]=l.tables.threads,n[1]=a.threadKey,n[2]=p):p=n[2];var _;n[3]!==l||n[4]!==a.threadKey?(_=[l,a.threadKey],n[3]=l,n[4]=a.threadKey,n[5]=_):_=n[5];var f=o("ReQLSuspense").useFirst(p,_,i.id+":36"),g=r("MessengerWebUXLogger").useInteractionLogger(),h;n[6]!==g||n[7]!==a.threadKey||n[8]!==d||n[9]!==(f==null?void 0:f.threadType)?(h=function(){var e={eventName:"open_view_pinned_messages_dialog",threadKey:a.threadKey,threadType:f==null?void 0:f.threadType};return g==null||g(e),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_pinned_messages","see_all_admin_msg_cta"),d({threadKey:a.threadKey},m)},n[6]=g,n[7]=a.threadKey,n[8]=d,n[9]=f==null?void 0:f.threadType,n[10]=h):h=n[10];var y=h,C;n[11]!==f?(C=f!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(f==null?void 0:f.threadType),n[11]=f,n[12]=C):C=n[12];var b;n[13]!==C?(b={fallbackIsSecure:C},n[13]=C,n[14]=b):b=n[14];var v=r("useIsSecureMessage")(l,a,b),S=r("useAdminMessageCTATitleProvider")(l,a,v),R;n[15]!==y||n[16]!==S?(R=S!=null?u.jsx(r("MWAdminMsgCtaLink.react"),{onClick:y,children:S}):null,n[15]=y,n[16]=S,n[17]=R):R=n[17];var L=R,E;return n[18]!==L||n[19]!==a?(E=u.jsx(r("MWAdminTextLayout.react"),{cta:L,message:a}),n[18]=L,n[19]=a,n[20]=E):E=n[20],E}function m(){}l.default=d}),98);
__d("MWV2AdminMsgSupportDialogCTA.react",["AdsMessengerContext.react","I64","MWAdminTextLayout.react","MWXLink.react","MWXText.react","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useJSON","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(15),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":29"),p=o("AdsMessengerContext.react").useAdsMessengerContext(),_=p.showAdsAISMAGModal,f=m==null?void 0:m.actionContentBlob,g=r("useJSON")(f!=null?f:"{}");if(_===void 0)return null;var h=m==null?void 0:m.title,y;n[8]!==g||n[9]!==_||n[10]!==h?(y=h!=null?c.jsx(r("MWXText.react"),{color:"blueLink",type:"meta4",children:c.jsx(r("MWXLink.react"),{onClick:function(){return r("promiseDone")(_({overlay_view_type:g.overlay_view_type,use_case:g.use_case,use_case_params:g.use_case_params}))},children:h})}):null,n[8]=g,n[9]=_,n[10]=h,n[11]=y):y=n[11];var C=y,b;return n[12]!==C||n[13]!==a?(b=c.jsx(r("MWAdminTextLayout.react"),{cta:C,message:a}),n[12]=C,n[13]=a,n[14]=b):b=n[14],b}l.default=d}),98);
__d("MWV2AdminMsgViewMessagesDualThreadCutover.react",["I64","LSFactory","LSIntEnum","LSPlatformWaitForTaskCompletion","LSVerifyThreadRowExistsStoredProcedure","MAWThreadCutover","MWAdminTextLayout.react","MWFBLogger","MWXLink.react","ReQL","promiseDone","react","requireDeferred","useAsyncReStore","useMWEntrypoint","useMWNavigation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useCallback,p=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWV2AdminMsgViewMessagesDualThreadCutover.react");function _(t){var n=t.message,a=r("useAsyncReStore")(),i=r("useMWNavigation")(),l=o("MAWThreadCutover").useIsCutoverSecureThread(n.threadKey),s=r("useMWEntrypoint")(),_=m(function(){p.onReady(function(e){return e.log(function(){return{entry_point:s,event_type:"secret_conversation_post_cutover_admin_message_cta_click_event",is_cutover:l,thread_id:(u||(u=o("I64"))).to_string(n.threadKey),thread_type:u.to_string((c||(c=o("LSIntEnum"))).ofNumber(15)),transport_type:"ACT"}})}),r("promiseDone")(a,async function(t){var a,l=(a=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.mi_act_mapping_table).getKeyRange(n.threadKey)))==null?void 0:a.jid;l!=null&&await r("LSPlatformWaitForTaskCompletion")(t,function(e){return r("LSVerifyThreadRowExistsStoredProcedure")(r("LSFactory")(e),{syncGroup:(c||(c=o("LSIntEnum"))).ofNumber(1),threadKey:l,threadType:c.ofNumber(1)})},"readwrite");var s=l!=null?await o("ReQL").firstAsync(o("ReQL").fromTableAscending(t.tables.threads).getKeyRange(l)):null;s?i.openTabOrInbox({clientThreadKey:s.clientThreadKey,threadKey:s.threadKey,threadType:s.threadType},"preCutoverThread"):o("MWFBLogger").MWLogger().tags(["DualThreadCutover"]).WARN(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Failed to navitage to open messages thread ",""])),(u||(u=o("I64"))).to_string(n.threadKey))})},[a,s,l,n.threadKey,i]),f=n.adminMsgCtaTitle,g=f!=null?d.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",onClick:_,role:"button",testid:void 0,children:f}):null,h=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(n.threadKey)==null;return!h&&d.jsx(r("MWAdminTextLayout.react"),{cta:g,message:n})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MWV2AdminMsgViewPoll.react",["I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","justknobx","react","react-compiler-runtime","useMWChatPollXMAActionHandler","useMWHasPollsVotingEnabled","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u.useCallback;function m(t){var n=o("react-compiler-runtime").c(20),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":28"),p=r("useMWHasPollsVotingEnabled")(a.threadKey),_=r("useMWChatPollXMAActionHandler")(),f;n[8]!==(m==null?void 0:m.targetId)||n[9]!==(m==null?void 0:m.targetTitle)||n[10]!==_?(f=function(){_(m==null?void 0:m.targetId,m==null?void 0:m.targetTitle)},n[8]=m==null?void 0:m.targetId,n[9]=m==null?void 0:m.targetTitle,n[10]=_,n[11]=f):f=n[11],m==null||m.targetId,m==null||m.targetTitle;var g=f;if(!r("justknobx")._("1987")||!p||m==null){var h;return n[12]!==a?(h=c.jsx(r("MWAdminTextLayout.react"),{message:a}),n[12]=a,n[13]=h):h=n[13],h}var y=m==null?void 0:m.title,C;n[14]!==g||n[15]!==y?(C=y!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:g,children:y}):null,n[14]=g,n[15]=y,n[16]=C):C=n[16];var b=C,v;return n[17]!==b||n[18]!==a?(v=c.jsx(r("MWAdminTextLayout.react"),{cta:b,message:a}),n[17]=b,n[18]=a,n[19]=v):v=n[19],v}l.default=m}),98);
__d("MWV2AdminMsgWebUrl.react",["I64","MWAdminTextLayout.react","MWXLink.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(14),a=t.message,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.admin_message_ctas||n[1]!==a.adminMsgCtaId||n[2]!==a.messageId||n[3]!==a.threadKey?(u=function(){var e;return o("ReQL").fromTableAscending(l.tables.admin_message_ctas).getKeyRange(a.threadKey,a.messageId,(e=a.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},n[0]=l.tables.admin_message_ctas,n[1]=a.adminMsgCtaId,n[2]=a.messageId,n[3]=a.threadKey,n[4]=u):u=n[4];var d;n[5]!==l||n[6]!==a?(d=[l,a],n[5]=l,n[6]=a,n[7]=d):d=n[7];var m=o("ReQLSuspense").useFirst(u,d,i.id+":24"),p=m==null?void 0:m.title,_=m==null?void 0:m.actionUrl,f;n[8]!==_||n[9]!==p?(f=p!=null&&_!=null?c.jsx(r("MWXLink.react"),{href:_,target:"_blank",children:p}):null,n[8]=_,n[9]=p,n[10]=f):f=n[10];var g=f,h;return n[11]!==g||n[12]!==a?(h=c.jsx(r("MWAdminTextLayout.react"),{cta:g,message:a}),n[11]=g,n[12]=a,n[13]=h):h=n[13],h}l.default=d}),98);
__d("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="29746995494916388"}),null);
__d("ScaledChatOptOutAndEndChatMutation.graphql",["ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"input"}],t=[{kind:"Variable",name:"input",variableName:"input"}],r=[{kind:"Literal",name:"topic",value:"ADVERTISER_GUIDANCE"}],o={alias:null,args:null,kind:"ScalarField",name:"is_opted_in",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"ScaledChatOptOutAndEndChatMutation",selections:[{alias:null,args:t,concreteType:"XFBScaledChatOptOutOutput",kind:"LinkedField",name:"xfb_ScaledChatOptOutAndEndChat",plural:!1,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:r,concreteType:"XFBProactiveChatOptInSettings",kind:"LinkedField",name:"proactive_chat_opt_in_settings",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:'proactive_chat_opt_in_settings(topic:"ADVERTISER_GUIDANCE")'}],storageKey:null}],storageKey:null}]},params:{id:n("ScaledChatOptOutAndEndChatMutation_facebookRelayOperation"),metadata:{},name:"ScaledChatOptOutAndEndChatMutation",operationKind:"mutation",text:null}}})();a.exports=e}),null);
__d("ScaledChatOptOutAndEndChatMutation.react",["CometRelay","ScaledChatOptOutAndEndChatMutation.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e!==void 0?e:e=n("ScaledChatOptOutAndEndChatMutation.graphql");function u(e){var t=e.entryPoint,n=e.environment,r=e.setDefaultOptedIn,a=e.setLoading;o("CometRelay").commitMutation(n,{mutation:s,onCompleted:function(t,n){a(!1),r&&r(!1)},onError:function(){a(!1)},variables:{input:{entry_point:t,topic:"ADVERTISER_GUIDANCE"}}})}l.commitScaledChatOptInMutation=u}),98);
__d("MWV2SBGProactiveChatMutationUrl.react",["CometRelay","I64","MWAdminMsgCtaLink.react","MWAdminTextLayout.react","ReQL","ReQLSuspense","ScaledChatOptOutAndEndChatMutation.react","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n,a=o("react-compiler-runtime").c(16),l=t.message,u=o("CometRelay").useRelayEnvironment(),d=(e||(e=r("useReStore")))(),_;a[0]!==d.tables.admin_message_ctas||a[1]!==l.adminMsgCtaId||a[2]!==l.messageId||a[3]!==l.threadKey?(_=function(){var e;return o("ReQL").fromTableAscending(d.tables.admin_message_ctas).getKeyRange(l.threadKey,l.messageId,(e=l.adminMsgCtaId)!=null?e:(s||(s=o("I64"))).neg_one)},a[0]=d.tables.admin_message_ctas,a[1]=l.adminMsgCtaId,a[2]=l.messageId,a[3]=l.threadKey,a[4]=_):_=a[4];var f;a[5]!==d||a[6]!==l?(f=[d,l],a[5]=d,a[6]=l,a[7]=f):f=a[7];var g=o("ReQLSuspense").useFirst(_,f,i.id+":29"),h=(n=g==null?void 0:g.title)!=null?n:"",y;a[8]!==u?(y=function(){return o("ScaledChatOptOutAndEndChatMutation.react").commitScaledChatOptInMutation({entryPoint:"sbg_messenger_xmat",environment:u,setLoading:p,setOptedIn:m})},a[8]=u,a[9]=y):y=a[9];var C=y,b;a[10]!==h||a[11]!==C?(b=h!=null?c.jsx(r("MWAdminMsgCtaLink.react"),{onClick:C,children:h}):null,a[10]=h,a[11]=C,a[12]=b):b=a[12];var v=b,S;return a[13]!==v||a[14]!==l?(S=c.jsx(r("MWAdminTextLayout.react"),{cta:v,message:l}),a[13]=v,a[14]=l,a[15]=S):S=a[15],S}function m(){}function p(){}l.default=d}),98);
__d("MWV2ChatAdminMessage.react",["MWAdminTextLayout.react","MWGenAINux.react","MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react","MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react","MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react","MWV2AdminMsgArmadilloEphemeralChangeDuration.react","MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react","MWV2AdminMsgChangeTheme.react","MWV2AdminMsgChangeThreadLimitSharingPermission.react","MWV2AdminMsgDMLearnMore.react","MWV2AdminMsgE2EECutoverRollback.react","MWV2AdminMsgE2EEDescription.react","MWV2AdminMsgE2EEUKOSA.react","MWV2AdminMsgICDC.react","MWV2AdminMsgMarketingMessagesManage.react","MWV2AdminMsgNotificationMessageManageNotifications.react","MWV2AdminMsgP2BPrivacyDisclosure.react","MWV2AdminMsgPostMessageRemoveActions.react","MWV2AdminMsgServiceBookingLegalDisclaimer.react","MWV2AdminMsgShowPinnedMessages.react","MWV2AdminMsgSupportDialogCTA.react","MWV2AdminMsgViewMessagesDualThreadCutover.react","MWV2AdminMsgViewPoll.react","MWV2AdminMsgWebUrl.react","MWV2SBGProactiveChatMutationUrl.react","MWXText.react","gkx","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={color:{color:"x186z157",$$css:!0},container:{paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,$$css:!0},containerThatPrecedesAdminMessage:{paddingBottom:"x1a8lsjc",$$css:!0},containerThatProceedsAdminMessage:{paddingTop:"x889kno",$$css:!0},content:{marginTop:"xr1yuqi",marginInlineEnd:"x11t971q",marginBottom:"x4ii5y1",marginInlineStart:"xvc5jky",maxWidth:"x1ekjcvx",textAlign:"x2b8uid",wordBreak:"x13faqbe",$$css:!0}};function c(e){return e!=null?e.isAdminMessage:!1}function d(e){var t=o("react-compiler-runtime").c(8),n=e.children,r=e.nextMessage,a=e.prevMessage,i=c(a)?u.containerThatProceedsAdminMessage:!1,l=c(r)?u.containerThatPrecedesAdminMessage:!1,d;t[0]!==i||t[1]!==l?(d=[u.container,i,l],t[0]=i,t[1]=l,t[2]=d):d=t[2];var m;t[3]!==n?(m=s.jsx(o("react-strict-dom").html.div,{style:u.content,children:n}),t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==d||t[6]!==m?(p=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:d,children:m}),t[5]=d,t[6]=m,t[7]=p):p=t[7],p}function m(e){var t=o("react-compiler-runtime").c(60),n=e.message;e:switch(n.adminMsgCtaType){case"admin_msg_armadillo_ephemeral_change_duration":{var a;return t[0]!==n?(a=s.jsx(r("MWV2AdminMsgArmadilloEphemeralChangeDuration.react"),{message:n}),t[0]=n,t[1]=a):a=t[1],a}case"admin_msg_dual_thread_cutover":{var i;return t[2]!==n?(i=s.jsx(r("MWV2AdminMsgViewMessagesDualThreadCutover.react"),{message:n}),t[2]=n,t[3]=i):i=t[3],i}case"admin_msg_web_url":{var l;return t[4]!==n?(l=s.jsx(r("MWV2AdminMsgWebUrl.react"),{message:n}),t[4]=n,t[5]=l):l=t[5],l}case"admin_msg_sbg_proactive_chat_opt_in":{var u;return t[6]!==n?(u=s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:n}),t[6]=n,t[7]=u):u=t[7],u}case"admin_msg_sbg_proactive_chat_opt_out":{var c;return t[8]!==n?(c=s.jsx(r("MWV2SBGProactiveChatMutationUrl.react"),{message:n}),t[8]=n,t[9]=c):c=t[9],c}case"admin_msg_p2b_privacy_disclosure":if(r("gkx")("24144")){var d;return t[10]!==n?(d=s.jsx(r("MWV2AdminMsgP2BPrivacyDisclosure.react"),{message:n}),t[10]=n,t[11]=d):d=t[11],d}else break e;case"admin_notification_messages_opt_out":{var m;return t[12]!==n?(m=s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!0,message:n}),t[12]=n,t[13]=m):m=t[13],m}case"admin_notification_messages_opt_in":{var p;return t[14]!==n?(p=s.jsx(r("MWV2AdminMsgNotificationMessageManageNotifications.react"),{isOptOut:!1,message:n}),t[14]=n,t[15]=p):p=t[15],p}case"admin_msg_marketing_messages_ctm":{var _;return t[16]!==n?(_=s.jsx(r("MWV2AdminMsgMarketingMessagesManage.react"),{message:n}),t[16]=n,t[17]=_):_=t[17],_}case"admin_msg_thread_level_cutover":{var f;return t[18]!==n?(f=s.jsx(r("MWV2AdminMsgE2EEDescription.react"),{message:n}),t[18]=n,t[19]=f):f=t[19],f}case"admin_msg_e2ee_thread":return null;case"admin_msg_cutover_rollback":{var g;return t[20]!==n?(g=s.jsx(r("MWV2AdminMsgE2EECutoverRollback.react"),{message:n}),t[20]=n,t[21]=g):g=t[21],g}case"admin_msg_e2ee_uk_osa":{var h;return t[22]!==n?(h=s.jsx(r("MWV2AdminMsgE2EEUKOSA.react"),{message:n}),t[22]=n,t[23]=h):h=t[23],h}case"xmat_instant_game_bot_message_subscribe":{var y;return t[24]!==n?(y=s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!0}),t[24]=n,t[25]=y):y=t[25],y}case"xmat_instant_game_bot_message_unsubscribe":{var C;return t[26]!==n?(C=s.jsx(r("MWNotificationMessageInstantGameSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!1}),t[26]=n,t[27]=C):C=t[27],C}case"xmat_horizon_worlds_update_subscribe":{var b;return t[28]!==n?(b=s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!0}),t[28]=n,t[29]=b):b=t[29],b}case"xmat_horizon_worlds_update_unsubscribe":{var v;return t[30]!==n?(v=s.jsx(r("MWNotificationMessageHorizonWorldsUpdateSubscriptionManagementAdminMsgCta.react"),{message:n,shouldSubscribe:!1}),t[30]=n,t[31]=v):v=t[31],v}case"admin_msg_view_pin_msgs_v2":{var S;return t[32]!==n?(S=s.jsx(r("MWV2AdminMsgShowPinnedMessages.react"),{message:n}),t[32]=n,t[33]=S):S=t[33],S}case"xmat_instant_game_custom_update_message_mute":{var R;return t[34]!==n?(R=s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:n,shouldMute:!0}),t[34]=n,t[35]=R):R=t[35],R}case"xmat_instant_game_custom_update_message_unmute":{var L;return t[36]!==n?(L=s.jsx(r("MWNotificationMessageInstantGameCustomUpdateMuteManagementAdminMsgCta.react"),{message:n,shouldMute:!1}),t[36]=n,t[37]=L):L=t[37],L}case"admin_message_service_booking_legal_disclaimer":{var E;return t[38]!==n?(E=s.jsx(r("MWV2AdminMsgServiceBookingLegalDisclaimer.react"),{message:n}),t[38]=n,t[39]=E):E=t[39],E}case"admin_msg_admod_post_msg_remove_actions":{var k;return t[40]!==n?(k=s.jsx(r("MWV2AdminMsgPostMessageRemoveActions.react"),{message:n}),t[40]=n,t[41]=k):k=t[41],k}case"admin_msg_change_theme":{var I;return t[42]!==n?(I=s.jsx(r("MWV2AdminMsgChangeTheme.react"),{message:n}),t[42]=n,t[43]=I):I=t[43],I}case"admin_msg_poll_details":{var T;return t[44]!==n?(T=s.jsx(r("MWV2AdminMsgViewPoll.react"),{message:n}),t[44]=n,t[45]=T):T=t[45],T}case"admin_msg_icdc":{var D;return t[46]!==n?(D=s.jsx(r("MWV2AdminMsgICDC.react"),{message:n}),t[46]=n,t[47]=D):D=t[47],D}case"admin_msg_ig_dm_learn_more":{var x;return t[48]!==n?(x=s.jsx(r("MWV2AdminMsgDMLearnMore.react"),{message:n}),t[48]=n,t[49]=x):x=t[49],x}case"admin_msg_bm_genai_consumer_disclaimer_learn_more":{var $;return t[50]!==n?($=s.jsx(r("MWV2AdminMsgBMGenAIConsumerDisclaimerLearnMore.react"),{message:n}),t[50]=n,t[51]=$):$=t[51],$}case"admin_msg_change_thread_limit_sharing_permission":{var P;return t[52]!==n?(P=s.jsx(r("MWV2AdminMsgChangeThreadLimitSharingPermission.react"),{message:n}),t[52]=n,t[53]=P):P=t[53],P}case"support_open_dialog":{var N;return t[54]!==n?(N=s.jsx(r("MWV2AdminMsgSupportDialogCTA.react"),{message:n}),t[54]=n,t[55]=N):N=t[55],N}case"admin_msg_genai_nux_inline":{var M;return t[56]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(r("MWGenAINux.react"),{source:"adminMessage"}),t[56]=M):M=t[56],M}case"admin_msg_genai_nux_training_inline":{var w;return t[57]===Symbol.for("react.memo_cache_sentinel")?(w=s.jsx(r("MWGenAINux.react"),{source:"trainingAdminMessage"}),t[57]=w):w=t[57],w}}var A;return t[58]!==n?(A=s.jsx(r("MWAdminTextLayout.react"),{message:n}),t[58]=n,t[59]=A):A=t[59],A}function p(e){var t=o("react-compiler-runtime").c(6),n=e.message,a=e.nextMessage,i=e.prevMessage;if(n.adminMsgCtaType==="admin_msg_e2ee_thread")return null;var l;t[0]!==n?(l=s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx(o("react-strict-dom").html.div,{style:u.color,children:s.jsx(m,{message:n})})}),t[0]=n,t[1]=l):l=t[1];var c;return t[2]!==a||t[3]!==i||t[4]!==l?(c=s.jsx(d,{nextMessage:a,prevMessage:i,children:l}),t[2]=a,t[3]=i,t[4]=l,t[5]=c):c=t[5],c}l.isAdminMessage=c,l.MWV2ChatAdminMessageContainer=d,l.MWV2ChatAdminMessage=p}),98);
__d("MWV2ChatBubble.react",["MWXMessageBubble.react","mwpMessageIsReply","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.emphasized,a=e.message,i=e.xmaLayout,l=e.children,u=e.connectBottom,c=e.connectTop,d=e.outgoing,m=e.precedesXMA,p=e.precedingXmaIsV2,_=r("mwpMessageIsReply")(a),f=d?"right":"left",g=d?"outgoing":"incoming",h=_||n?"opaque":"default",y;return t[0]!==l||t[1]!==u||t[2]!==c||t[3]!==m||t[4]!==p||t[5]!==f||t[6]!==g||t[7]!==h||t[8]!==i?(y=s.jsx(r("MWXMessageBubble.react"),{align:f,color:g,connectBottom:u,connectTop:c,precedesXMA:m,precedingXmaIsV2:p,variant:h,xmaLayout:i,children:l}),t[0]=l,t[1]=u,t[2]=c,t[3]=m,t[4]=p,t[5]=f,t[6]=g,t[7]=h,t[8]=i,t[9]=y):y=t[9],y}l.default=u}),98);
__d("MWV2ChatBubbleContainer.react",["MWChatBubbleEmphasisRing.react","MWV2ChatBubble.react","react","react-compiler-runtime","xmaLayouts"],(function(t,n,r,o,a,i,l){"use strict";var e=["hasEmphasisRing","message","xmaLayout","children"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(16),a,i,l,s,c;n[0]!==t?(s=t.hasEmphasisRing,i=t.message,c=t.xmaLayout,a=t.children,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5]);var d=s===void 0?!1:s,m=c===void 0?o("xmaLayouts").XMA_LAYOUTS.DEFAULT:c,p;n[6]!==a||n[7]!==d||n[8]!==i||n[9]!==l||n[10]!==m?(p=u.jsx(r("MWV2ChatBubble.react"),babelHelpers.extends({children:a,emphasized:d,message:i,xmaLayout:m},l)),n[6]=a,n[7]=d,n[8]=i,n[9]=l,n[10]=m,n[11]=p):p=n[11];var _=p;if(d){var f;return n[12]!==_||n[13]!==i||n[14]!==l?(f=u.jsx(r("MWChatBubbleEmphasisRing.react"),babelHelpers.extends({flattenTop:!1,message:i},l,{children:_})),n[12]=_,n[13]=i,n[14]=l,n[15]=f):f=n[15],f}return _}l.default=c}),98);
__d("MWV2ChatComposerGetViewContent",["Lexical","MessengerLexicalActorNode","MessengerLexicalEntityTextNode","cr:11494"],(function(t,n,r,o,a,i,l){"use strict";var e={getRanges:function(t){var e=[],r=0;return t.getEditorState().read(function(){var t=o("Lexical").$getRoot().getFirstChild();t instanceof o("Lexical").ElementNode&&t.getChildren().forEach(function(t){if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)){var a=t.getEntity();e.push({id:a.id,length:t.getTextContent().length,offset:r,type:o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)?t.getRangeType():"p"})}if(n("cr:11494")!=null&&t instanceof n("cr:11494").MessengerLexicalCommandNode){var i=t.getEntity();e.push({id:i.commandId,length:t.getTextContent().length,offset:r,type:t.getRangeType()})}r+=t.getTextContent().length})}),e}},s=e;l.default=s}),98);
__d("MWV2ChatEmoji.react",["CometTextWithEntities.react","I64","LSHotEmojiSize","LSIntEnum","MWChatBubbleEmphasisRing.react","MWChatTextTransform","MWV2ChatEmojiHotLike.react","ReStoreVaulting","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useMemo,p=(e={},e[r("LSHotEmojiSize").NONE]=32,e[r("LSHotEmojiSize").SMALL]=32,e[r("LSHotEmojiSize").MEDIUM]=56,e[r("LSHotEmojiSize").LARGE]=96,e);function _(e){var t=o("react-compiler-runtime").c(14),n=e.hasEmphasisRing,a=e.isSecureMessage,i=e.message,l=n===void 0?!1:n,s=a===void 0?!1:a,m=i.hotEmojiSize,_=m!=null&&((u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(u||(u=o("I64"))).equal(m,(c||(c=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE))),f;t[0]!==m?(f=m!=null?(c||(c=o("LSIntEnum"))).unwrapIntEnum(m):r("LSHotEmojiSize").NONE,t[0]=m,t[1]=f):f=t[1];var g=f,h;t[2]!==g?(h=o("MWChatTextTransform").textTransformsWithOptions({size:r("gkx")("23249")?32:p[g]}),t[2]=g,t[3]=h):h=t[3];var y=h,C=i.text;if(C==null)return null;var b;t[4]!==C?(b=o("ReStoreVaulting").maybeUnvault(C),t[4]=C,t[5]=b):b=t[5];var v=b;if(s&&_&&v==="\uD83D\uDC4D"){var S;return t[6]!==g?(S=d.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:g}),t[6]=g,t[7]=S):S=t[7],S}var R;t[8]!==y||t[9]!==v?(R=d.jsx(r("CometTextWithEntities.react"),{text:v,transforms:y,withLineBreaks:!0,withParagraphs:!0}),t[8]=y,t[9]=v,t[10]=R):R=t[10];var L=R;if(l){var E;return t[11]!==L||t[12]!==i?(E=d.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,flattenTop:!1,message:i,outgoing:!1,precedesXMA:!1,children:L}),t[11]=L,t[12]=i,t[13]=E):E=t[13],E}return L}l.default=_}),98);
__d("MWV2ChatErrorBubble.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={vr:{height:"x36qwtl",width:"xh8yej3",$$css:!0},withRepliedMessage:{zIndex:"x1vjfegm",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(9),n=e.isOutgoing,a=e.isReply,i=a&&c.withRepliedMessage,l;t[0]!==a?(l=a?null:u.jsx(o("react-strict-dom").html.div,{style:c.vr}),t[0]=a,t[1]=l):l=t[1];var d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Error displaying this message"),t[2]=d):d=t[2];var m;t[3]!==n?(m=u.jsxs(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:[" ",d]}),t[3]=n,t[4]=m):m=t[4];var p;return t[5]!==i||t[6]!==l||t[7]!==m?(p=u.jsxs(o("react-strict-dom").html.div,{style:i,children:[l,m]}),t[5]=i,t[6]=l,t[7]=m,t[8]=p):p=t[8],p}l.default=d}),226);
__d("MWV2ChatSeenHeadsRow.react",["fbt","JSResourceForInteraction","MDSGlimmer.react","MWLSThreadDisplayContext","MWV2MessageRowIsRowFocusedContext.react","MWXImage.react","MWXPressable.react","MWXTooltip.react","MWXTooltipGroup.react","getFBTSafeGenderFromGenderConst","getMessengerPreciseTimestamp","react","react-compiler-runtime","react-strict-dom","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useContext,m=c.useRef,p=5,_=r("JSResourceForInteraction")("MWV2ChatSeenHeadsDialog.react").__setRef("MWV2ChatSeenHeadsRow.react"),f={heads:{display:"x78zum5",flexShrink:"x2lah0s",$$css:!0},img:{borderStartStartRadius:"xr9w4p7",borderStartEndRadius:"x7f0h72",borderEndEndRadius:"x1nug9m2",borderEndStartRadius:"x18qtlnh",height:"x1v9usgg",paddingInlineEnd:"x1ccui7m",paddingInlineStart:"x18pi947",verticalAlign:"xxymvpz",width:"x6jxa94",$$css:!0},mask:{backgroundColor:"x1eb86dx",$$css:!0},overflow:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",color:"xi81zsa",fontSize:"x1ncwhqj",fontWeight:"x117nqv4",lineHeight:"x1hkbg2g",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",paddingTop:"xexx8yu",paddingInlineEnd:"x11lfxj5",paddingBottom:"x18d9i69",paddingInlineStart:"x135b78x",textAlign:"x2b8uid",$$css:!0},root:{display:"x78zum5",paddingBottom:"x1120s5i",$$css:!0},spacer:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0}};function g(e,t,n,a){if(!n)return[];var i=Math.max(Math.floor(t-9),0),l=e.slice(i,t),c="\n"+s._(/*BTDS*/"_j{\"*\":\"and {Number of additional views} more\"}",[s._param("Number of additional views",i,[0])]).toString(),d=u.jsxs(o("react-strict-dom").html.ul,{children:[l.reverse().map(function(e,t){return u.jsx(o("react-strict-dom").html.li,{children:e.name},String(t))}),i>0?u.jsx(o("react-strict-dom").html.li,{children:c},"overflow"):null]}),m=s._(/*BTDS*/"_j{\"*\":\"+{the number of additional viewers}\"}",[s._param("the number of additional viewers",t,[0])]);return[u.jsx(r("MWXTooltip.react"),{align:a==="Inbox"?"middle":"end",forceInlineDisplay:!0,label:m,position:"above",tooltip:d,children:u.jsx(o("react-strict-dom").html.span,{style:f.overflow,children:m})},"overflow")]}function h(e){var t=o("react-compiler-runtime").c(12),n=e.displayContext,a=e.index,i=e.user,l;t[0]!==i.gender||t[1]!==i.name||t[2]!==i.timestamp?(l=i.timestamp>0?s._(/*BTDS*/"_j{\"*\":\"Seen by {full name} at {seen time}\"}",[s._name("full name",i.name,r("getFBTSafeGenderFromGenderConst")(i.gender)),s._param("seen time",r("getMessengerPreciseTimestamp")(i.timestamp))]):s._(/*BTDS*/"_j{\"*\":\"Seen by {full name}\"}",[s._name("full name",i.name,r("getFBTSafeGenderFromGenderConst")(i.gender))]),t[0]=i.gender,t[1]=i.name,t[2]=i.timestamp,t[3]=l):l=t[3];var c=l,d=n==="Inbox"?"middle":"end",m;t[4]!==a||t[5]!==c||t[6]!==i.imageSrc?(m=i.imageSrc===""?u.jsx(r("MDSGlimmer.react"),{index:a,xstyle:f.img}):u.jsx(r("MWXImage.react"),{alt:c,src:i.imageSrc,xstyle:f.img}),t[4]=a,t[5]=c,t[6]=i.imageSrc,t[7]=m):m=t[7];var p;return t[8]!==c||t[9]!==d||t[10]!==m?(p=u.jsx(r("MWXTooltip.react"),{align:d,forceInlineDisplay:!0,position:"above",tooltip:c,children:m}),t[8]=c,t[9]=d,t[10]=m,t[11]=p):p=t[11],p}function y(e,t){var n=e.length,r=n>p,o=Math.max(Math.floor(n-(r?p-1:p)),0),a=e.slice(o);return[].concat(g(e,o,r,t),a.map(function(e,n){return u.jsx(h,{displayContext:t,index:n,user:e},e.id)}))}function C(e){var t=o("react-compiler-runtime").c(26),n=e.messageSeenBy,a=e.xstyle,i=d(o("MWV2MessageRowIsRowFocusedContext.react").context),l=i.setFocused,c=i.setIsDialogOpened,p=n.length,g=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),h=m(null),C;t[0]!==n?(C={messageSeenBy:n},t[0]=n,t[1]=C):C=t[1];var R=C,L=r("useMWXLazyDialog")(_),E=L[0],k;t[2]!==R||t[3]!==l||t[4]!==c||t[5]!==E?(k=function(){return E(R,function(){c(S),l(v)})},t[2]=R,t[3]=l,t[4]=c,t[5]=E,t[6]=k):k=t[6];var I=k,T,D;t[7]===Symbol.for("react.memo_cache_sentinel")?(T=[f.root,f.mask],D=u.jsx(o("react-strict-dom").html.div,{style:f.spacer}),t[7]=T,t[8]=D):(T=t[7],D=t[8]);var x;t[9]!==p?(x=s._(/*BTDS*/"Seen by {number of participants who have seen this message} participants",[s._param("number of participants who have seen this message",String(p))]).toString(),t[9]=p,t[10]=x):x=t[10];var $;t[11]!==I||t[12]!==c?($=function(){c(b),I()},t[11]=I,t[12]=c,t[13]=$):$=t[13];var P;t[14]!==a?(P=function(){return[f.heads,a]},t[14]=a,t[15]=P):P=t[15];var N;t[16]!==g||t[17]!==n?(N=y(n,g),t[16]=g,t[17]=n,t[18]=N):N=t[18];var M;t[19]!==N?(M=u.jsx(r("MWXTooltipGroup.react"),{children:N}),t[19]=N,t[20]=M):M=t[20];var w;return t[21]!==x||t[22]!==$||t[23]!==P||t[24]!==M?(w=u.jsxs(o("react-strict-dom").html.div,{role:"none",style:T,children:[D,u.jsx(r("MWXPressable.react"),{"aria-label":x,onPress:$,overlayDisabled:!0,ref:h,xstyle:P,children:M})]}),t[21]=x,t[22]=$,t[23]=P,t[24]=M,t[25]=w):w=t[25],w}function b(){return!0}function v(){return!0}function S(){return!1}l.default=C}),226);
__d("SupportAISitevarConfig.experimental",["cr:21392"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21392")}),98);
__d("SupportAIMessengerParticipantUtils",["I64","SupportAISitevarConfig.experimental"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){return r("SupportAISitevarConfig.experimental").support_ai_bot_id!=null&&(e||(e=o("I64"))).equal(t,(e||(e=o("I64"))).of_string(r("SupportAISitevarConfig.experimental").support_ai_bot_id))}function u(e){return s(e.senderId)}l.isSupportAIParticipant=s,l.isMessageFromSupportAIBot=u}),98);
__d("MWV2ChatTextUtils",["AdsAIMessengerUtils","AdsMessengerContext.react","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPVisibleMessageContext.react","MWV2ChatTextParserUtils","SupportAIMessengerParticipantUtils","gkx","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(e){return e.replace(/[\u202a\u202b\u202c\u202d\u202e\u2066\u2067\u2068\u2069\u2029]/g,"")}function d(e,t){if(t.length===0)return e;var n=0,r="";return t.forEach(function(t){var o=t.offset,a=t.length;r+=e.substring(n,o);var i=o+a;r+="\u2066"+c(e.substring(o,i))+"\u2069",n=i}),n<e.length&&(r+=e.substring(n)),r}function m(e,t,n,r,a){var i=t.mentionIds,l=t.mentionLengths,s=t.mentionOffsets,u=t.mentionTypes;return i!=null&&l!=null&&s!=null&&u!=null?o("MWV2ChatTextParserUtils").findRangesForMentions(e,i,l,s,u,n,r,a):[]}function p(e,t,n){if(e==null)return[];if(e.messageId!==n)return[];var r=t.indexOf(e.contextLine);return r>-1?e.highlights.map(function(e){return{entity:{__typename:"Highlight"},length:e.matchLength,offset:e.matchOffset+r}}):[]}function _(t,n,a,i){var l=o("react-compiler-runtime").c(20),s=(e||(e=r("useReStore")))(),u=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=u.visibleMessage,d=o("AdsMessengerContext.react").useAdsMessengerContext(),_=d.isMessengerInAds,f,g;l[0]!==_||l[1]!==n?(f=!1,g=!1,o("AdsAIMessengerUtils").isMessageFromAdsAIBot(n)||_?(f=!0,g=!r("gkx")("3883")):o("SupportAIMessengerParticipantUtils").isMessageFromSupportAIBot(n)?f=!0:g=o("MWGenAIUtils").isMetaAIThread(n.senderId),l[0]=_,l[1]=n,l[2]=f,l[3]=g):(f=l[2],g=l[3]);var h;l[4]!==i?(h=i!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(i)&&o("LSMessagingThreadTypeUtil").isGroup(i),l[4]=i,l[5]=h):h=l[5];var y=h,C;e:{if(t==null||o("MWV2ChatTextParserUtils").isEmojiOnlyMessage(t)){var b;l[6]===Symbol.for("react.memo_cache_sentinel")?(b=[],l[6]=b):b=l[6],C=b;break e}var v;l[7]!==a||l[8]!==s||l[9]!==f||l[10]!==g||l[11]!==y||l[12]!==n.mentionIds||l[13]!==n.mentionLengths||l[14]!==n.mentionOffsets||l[15]!==n.mentionTypes||l[16]!==n.messageId||l[17]!==t||l[18]!==c?(v=m(s,{mentionIds:n.mentionIds,mentionLengths:n.mentionLengths,mentionOffsets:n.mentionOffsets,mentionTypes:n.mentionTypes},t,a,y).concat(o("MWV2ChatTextParserUtils").findRanges(t,f,g)).concat(p(c==null?void 0:c,t,n.messageId)),l[7]=a,l[8]=s,l[9]=f,l[10]=g,l[11]=y,l[12]=n.mentionIds,l[13]=n.mentionLengths,l[14]=n.mentionOffsets,l[15]=n.mentionTypes,l[16]=n.messageId,l[17]=t,l[18]=c,l[19]=v):v=l[19],C=v}return C}l.getRTLOMitigatedText=d,l.useRanges=_}),98);
__d("XCometGroupAdminActivitiesControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/groups/{idorvanity}/admin_activities/",Object.freeze({with_note:!1,automatic_action:!1}),void 0),s=e;l.default=s}),98);
__d("useMAWUnsendContentInSecureThread",["fbt","MWPMessageAuthor.react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=o("MWPMessageAuthor.react").useAuthorName(),r=n[0];if(r!=null){var a;return t[0]!==r?(a=s._(/*BTDS*/"{first name} deleted a message",[s._param("first name",r)]),t[0]=r,t[1]=a):a=t[1],a}var i;return t[2]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"A contact deleted a message"),t[2]=i):i=t[2],i}l.default=e}),226);
__d("MWV2ChatUnsentMessage.react",["fbt","I64","MWLSThread","MWPMessageAuthor.react","MWV2TombstonedMessage.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","XCometGroupAdminActivitiesControllerRouteBuilder","mwCMIsAnyCMThread","react","react-compiler-runtime","useCommunityFolder","useMAWUnsendContentInSecureThread","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m={linkText:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x25sj25",paddingInlineEnd:"x1icxu4v",paddingLeft:null,paddingRight:null,$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a=e.isSecureMessage,i=e.message,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"A contact deleted a message"),t[0]=l):l=t[0];var u=l,c=r("useMAWUnsendContentInSecureThread")(i),m=o("MWPMessageAuthor.react").useAuthorName(),p=m[0],_;if(a)_=c;else if(p!=null){var f;t[1]!==p?(f=s._(/*BTDS*/"{first name} deleted a message",[s._param("first name",p)]),t[1]=p,t[2]=f):f=t[2],_=f}else if(n!=null){var g=n.descriptionText;_=g!=null?g:u}else _=u;var h;return t[3]!==_?(h=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:_}),t[3]=_,t[4]=h):h=t[4],h}function _(e){var t=o("react-compiler-runtime").c(5),n=e.attachment,a;if(n!=null){var i=n.descriptionText,l;t[0]!==i?(l=i!=null?i:s._(/*BTDS*/"You deleted a message"),t[0]=i,t[1]=l):l=t[1],a=l}else{var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"You deleted a message"),t[2]=u):u=t[2],a=u}var c;return t[3]!==a?(c=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!0,children:a}),t[3]=a,t[4]=c):c=t[4],c}function f(e){var t=o("react-compiler-runtime").c(12),n=e.attachment,a=e.thread,i=r("useCommunityFolder")(a),l;if(n!=null){var u=n.cta1Title,m;t[0]!==u?(m=u!=null?u:s._(/*BTDS*/"See details in activity log"),t[0]=u,t[1]=m):m=t[1],l=m}else{var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"See details in activity log"),t[2]=p):p=t[2],l=p}if(i!=null){var _;t[3]!==i.fbGroupId?(_=r("XCometGroupAdminActivitiesControllerRouteBuilder").buildURL({idorvanity:(c||(c=o("I64"))).to_string(i.fbGroupId)}),t[3]=i.fbGroupId,t[4]=_):_=t[4];var f="https://www.facebook.com"+_,h;t[5]!==f?(h={url:f},t[5]=f,t[6]=h):h=t[6];var y;t[7]!==l?(y=d.jsx(r("MWXText.react"),{color:"blueLink",type:"meta2",children:l}),t[7]=l,t[8]=y):y=t[8];var C;return t[9]!==h||t[10]!==y?(C=d.jsx(r("MWXPressable.react"),{linkProps:h,overlayDisabled:!0,xstyle:g,children:y}),t[9]=h,t[10]=y,t[11]=C):C=t[11],C}else return null}function g(){return[m.linkText]}function h(t){var n=o("react-compiler-runtime").c(20),a=t.isSecureMessage,l=t.message,s=t.outgoing,u=(e||(e=r("useReStore")))(),c=l.messageId,m=l.threadKey,g=o("MWLSThread").useThread(m),h;n[0]!==u.tables.attachments||n[1]!==c||n[2]!==m?(h=function(){return o("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(m,c)},n[0]=u.tables.attachments,n[1]=c,n[2]=m,n[3]=h):h=n[3];var y;n[4]!==u||n[5]!==c||n[6]!==m?(y=[u,c,m],n[4]=u,n[5]=c,n[6]=m,n[7]=y):y=n[7];var C=o("ReQLSuspense").useFirst(h,y,i.id+":145"),b;if(C!=null){var v=C.cta1Type;b=v!=null?v==="xma_view_activity_log":!1}else b=!1;var S;n[8]!==C||n[9]!==a||n[10]!==l||n[11]!==s?(S=s?d.jsx(_,{attachment:C}):d.jsx(p,{attachment:C,isSecureMessage:a,message:l}),n[8]=C,n[9]=a,n[10]=l,n[11]=s,n[12]=S):S=n[12];var R;n[13]!==C||n[14]!==b||n[15]!==g?(R=g!=null&&b&&r("mwCMIsAnyCMThread")(g.threadType)?d.jsx(f,{attachment:C,thread:g}):null,n[13]=C,n[14]=b,n[15]=g,n[16]=R):R=n[16];var L;return n[17]!==S||n[18]!==R?(L=d.jsxs(d.Fragment,{children:[S,R]}),n[17]=S,n[18]=R,n[19]=L):L=n[19],L}l.MWV2ChatUnsentMessage=h}),226);
__d("MWV2ComposerActionsContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=c({});function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.onMessageSendAttempt,a=d(p),i=a.onMessageSendAttempt,l;t[0]!==r||t[1]!==i?(l={onMessageSendAttempt:function(t){i==null||i(t),r==null||r(t)}},t[0]=r,t[1]=i,t[2]=l):l=t[2];var u=l,c;return t[3]!==n||t[4]!==u?(c=s.jsx(p.Provider,{value:u,children:n}),t[3]=n,t[4]=u,t[5]=c):c=t[5],c}l.MWV2ComposerActionsContext=p,l.MWV2ComposerActionsListener=_}),98);
__d("useMWIsHDMediaEnabled",["MWPActor.react","MessengerWebPrivacySettings","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,n=o("react-compiler-runtime").c(6),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s;n[0]!==l||n[1]!==a.tables.messaging_privacy_settings?(s=function(){return o("ReQL").fromTableAscending(a.tables.messaging_privacy_settings).getKeyRange(l)},n[0]=l,n[1]=a.tables.messaging_privacy_settings,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a?(u=[a,l],n[3]=l,n[4]=a,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(s,u,i.id+":22");return c==null?r("MessengerWebPrivacySettings").e2ee_hd_media_enabled:(t=c==null?void 0:c.e2eeHdMediaEnabled)!=null?t:!1}l.default=s}),98);
__d("useMWV2ComposerOnFilesSelected",["react","react-compiler-runtime","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=r("useMWIsHDMediaEnabled")(),a;return t[0]!==n||t[1]!==e?(a=function(r){var t=Array.from(r);if(t.length>0)return e(t,n)},t[0]=n,t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MWV2ComposerFileButton.react",["fbt","BaseFileSelector.react","I64","MWChatComposerIcons","MWMediaManagerFileSizeLimit","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(12),n=e.disabled,a=e.getMaxAttachmentSizeInMBFunc,i=e.hidden,l=e.isSecureThread,d=e.onAttachmentsAdded,m=e.supportedFileTypes,_=e.threadKey,f=a===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:a,g=r("useMWV2ComposerOnFilesSelected")(d),h;t[0]!==f||t[1]!==l?(h=s._(/*BTDS*/"Attach a file up to {fileSizeLimit} MB",[s._param("fileSizeLimit",String(f(l)))]),t[0]=f,t[1]=l,t[2]=h):h=t[2];var y=h,C;t[3]!==n||t[4]!==i||t[5]!==y||t[6]!==_?(C=function(t){return c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:y,children:c.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":y,disabled:n,id:"mw-composer-file-uploader-"+(u||(u=o("I64"))).to_string(_),loggingEvent:"composer_open_file_picker",onPress:t,overlayRadius:"50%",testid:void 0,xstyle:p,children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsPhoto,{fill:n?void 0:"var(--chat-composer-button-color)",size:20})})})},t[3]=n,t[4]=i,t[5]=y,t[6]=_,t[7]=C):C=t[7];var b;return t[8]!==g||t[9]!==m||t[10]!==C?(b=c.jsx(r("BaseFileSelector.react"),{accept:m,multiple:!0,onFilesSelected:g,children:C}),t[8]=g,t[9]=m,t[10]=C,t[11]=b):b=t[11],b}function p(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}l.default=m}),226);
__d("MWV2ComposerHasContentContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c({hasContentRef:void 0});function f(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=p(!1),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={hasContentRef:r},t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=s.jsx(_.Provider,{value:i,children:n}),t[1]=n,t[2]=l):l=t[2],l}function g(){return d(_)}l.MWV2ComposerHasContentContextProvider=f,l.useComposerHasContext=g}),98);
__d("MWV2ComposerMediaStagingItemDocumentPreview.react",["MWChatFileIcon.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(8),n=e.fileName,a=e.mediaRenderQpl,i,l;t[0]!==a?(i=function(){a==null||a.endSuccessAfterDelay()},l=[a],t[0]=a,t[1]=i,t[2]=l):(i=t[1],l=t[2]),u(i,l);var c,d,m;t[3]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x6s0dn4 x78zum5 x1iorvi4 xjkvuk6 xmzvs34 xf159sx x87ps6o"},d=s.jsx(r("MWChatFileIcon.react"),{}),m={className:"x1iyjqo2"},t[3]=c,t[4]=d,t[5]=m):(c=t[3],d=t[4],m=t[5]);var p;return t[6]!==n?(p=s.jsxs("div",babelHelpers.extends({},c,{children:[d,s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("MWXText.react"),{numberOfLines:2,type:"headline4",children:n})}))]})),t[6]=n,t[7]=p):p=t[7],p}l.default=c}),98);
__d("MWV2ComposerMediaStagingItemImagePreview.react",["fbt","FDSImageCover.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p={container:{display:"x78zum5",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",$$css:!0}},_=48;function f(e){var t=o("react-compiler-runtime").c(13),n=e.isGif,a=e.mediaRenderQpl,i=e.previewUrl,l;t[0]!==a?(l=function(){a==null||a.endFailAfterDelay("load-image-error")},t[0]=a,t[1]=l):l=t[1];var c=l,d;t[2]!==a?(d=function(){a==null||a.endSuccessAfterDelay()},t[2]=a,t[3]=d):d=t[3];var f=d,g=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),h=n&&g!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON,y=m(!1),C=y[0],b=y[1];if(i==null)return a==null||a.endFailAfterDelay("missing-preview-url"),null;if(h&&C===!1){var v;t[4]===Symbol.for("react.memo_cache_sentinel")?(v=function(){return b(!0)},t[4]=v):v=t[4];var S;return t[5]!==a||t[6]!==i?(S=u.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:null,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Composer,gifPreviewUrl:i,mediaRenderQpl:a,message:null,onPlay:v,outgoing:!0,previewHeight:_,previewWidth:_}),t[5]=a,t[6]=i,t[7]=S):S=t[7],S}var R;return t[8]!==c||t[9]!==f||t[10]!==i||t[11]!==h?(R=h?u.jsx(r("MWXPressable.react"),{label:s._(/*BTDS*/"Pressable"),onPress:function(){b(!1)},overlayDisabled:!1,xstyle:p.container,children:u.jsx(r("FDSImageCover.react"),{alt:"",onError:c,onLoad:f,src:i})}):u.jsx(r("FDSImageCover.react"),{alt:"",onError:c,onLoad:f,src:i}),t[8]=c,t[9]=f,t[10]=i,t[11]=h,t[12]=R):R=t[12],R}l.default=f}),226);
__d("MWV2ComposerMediaStagingItemVideoPreview.react",["MWVideoPlayerPlayButton.react","MWXVideoStatusListener.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useRef;function m(e){var t=o("react-compiler-runtime").c(14),n=e.mediaRenderQpl,a=e.previewUrl,i=d(null),l;t[0]!==n?(l=function(t){n==null||n.endFailAfterDelay("load-video-error",{string:{video_error_name:t}})},t[0]=n,t[1]=l):l=t[1];var u=l,c;t[2]!==n?(c=function(){n==null||n.endSuccessAfterDelay()},t[2]=n,t[3]=c):c=t[3];var m=c,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p=s.jsx(r("MWVideoPlayerPlayButton.react"),{isVisible:!0,size:"SMALL"}),t[4]=p):p=t[4];var _=p;if(a!=null){var f;t[5]!==u||t[6]!==m?(f=s.jsx(r("MWXVideoStatusListener.react"),{onError:u,onLoad:m,videoRef:i}),t[5]=u,t[6]=m,t[7]=f):f=t[7];var g;t[8]===Symbol.for("react.memo_cache_sentinel")?(g={className:"xl1xv1r"},t[8]=g):g=t[8];var h;t[9]!==a?(h=s.jsx("video",babelHelpers.extends({},g,{height:"48",ref:i,src:a,width:"48"})),t[9]=a,t[10]=h):h=t[10];var y;return t[11]!==f||t[12]!==h?(y=s.jsxs(s.Fragment,{children:[f,h,_]}),t[11]=f,t[12]=h,t[13]=y):y=t[13],y}else return n==null||n.endFailAfterDelay("missing-preview-url"),null}l.default=m}),98);
__d("MWV2ComposerMediaStagingItemPreview.react",["I64","LSIntEnum","MWSharedMediaManagerUtils","MWV2ComposerMediaStagingItemDocumentPreview.react","MWV2ComposerMediaStagingItemImagePreview.react","MWV2ComposerMediaStagingItemVideoPreview.react","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(15),n=e.mediaRenderQpl,a=e.mediaStaging,i=a.attachmentType,l=a.previewUrl,m,p;if(t[0]!==n?(m=function(){n==null||n.addPoint("staging-item-render")},p=[n],t[0]=n,t[1]=m,t[2]=p):(m=t[1],p=t[2]),d(m,p),o("MWSharedMediaManagerUtils").isVideoLikeImage(a)||(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))){var _;t[3]!==a?(_=o("MWSharedMediaManagerUtils").isGIFImage(a),t[3]=a,t[4]=_):_=t[4];var f;return t[5]!==n||t[6]!==l||t[7]!==_?(f=c.jsx(r("MWV2ComposerMediaStagingItemImagePreview.react"),{isGif:_,mediaRenderQpl:n,previewUrl:l}),t[5]=n,t[6]=l,t[7]=_,t[8]=f):f=t[8],f}if((s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))){var g;return t[9]!==n||t[10]!==l?(g=c.jsx(r("MWV2ComposerMediaStagingItemVideoPreview.react"),{mediaRenderQpl:n,previewUrl:l}),t[9]=n,t[10]=l,t[11]=g):g=t[11],g}var h;return t[12]!==n||t[13]!==a.filename?(h=c.jsx(r("MWV2ComposerMediaStagingItemDocumentPreview.react"),{fileName:a.filename,mediaRenderQpl:n}),t[12]=n,t[13]=a.filename,t[14]=h):h=t[14],h}l.default=m}),98);
__d("MWV2ComposerMediaStagingItem.react",["fbt","I64","LSIntEnum","MWMediaComposerRenderQpl","MWSharedMediaManagerUtils","MWV2ComposerMediaProgressBar.react","MWV2ComposerMediaStagingItemPreview.react","MWXCircleButton.react","MWXIconCross","MWXTooltip.react","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect;function f(e){var t=o("react-compiler-runtime").c(33),n=e.mediaStaging,a=e.onAttachmentRemoved,i;t[0]!==n.offlineAttachmentId||t[1]!==a?(i=function(){return a(n.offlineAttachmentId)},t[0]=n.offlineAttachmentId,t[1]=a,t[2]=i):i=t[2];var l=i,m;t[3]!==n?(m=!(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))&&!(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))&&!o("MWSharedMediaManagerUtils").isVideoLikeImage(n),t[3]=n,t[4]=m):m=t[4];var p=m,f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Remove attachment"),t[5]=f):f=t[5];var g=f,h=o("MWMediaComposerRenderQpl").useMediaComposerRenderQpl(n),y,C;t[6]!==h?(y=function(){h==null||h.addPoint("staging-item-render")},C=[h],t[6]=h,t[7]=y,t[8]=C):(y=t[7],C=t[8]),_(y,C);var b=n.filename,v;t[9]!==p?(v={0:{className:"x1c4vz4f x2lah0s xsdox4t xr9ek0c xbmvrgn xzueoph x1lziwak x1n2onr6 x1useyqa"},1:{className:"x1c4vz4f x2lah0s xsdox4t xr9ek0c xbmvrgn xzueoph x1lziwak x1n2onr6 x2pejg6"}}[!!p<<0],t[9]=p,t[10]=v):v=t[10];var S=n.offlineAttachmentId,R;t[11]!==p?(R={0:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xsdox4t x6ikm8r x10wlt62 x1n2onr6 x1useyqa"},1:{className:"x16qb05n xi7iut8 x1dm3dyd x1pv694p xsdox4t x6ikm8r x10wlt62 x1n2onr6 x1vtvx1t x2pejg6"}}[!!p<<0],t[11]=p,t[12]=R):R=t[12];var L;t[13]!==h||t[14]!==n?(L=d.jsx(r("MWV2ComposerMediaStagingItemPreview.react"),{mediaRenderQpl:h,mediaStaging:n}),t[13]=h,t[14]=n,t[15]=L):L=t[15];var E;t[16]!==n?(E=d.jsx(r("MWV2ComposerMediaProgressBar.react"),{height:4,mediaStaging:n}),t[16]=n,t[17]=E):E=t[17];var k;t[18]!==L||t[19]!==E||t[20]!==R?(k=d.jsxs("div",babelHelpers.extends({},R,{children:[L,E]})),t[18]=L,t[19]=E,t[20]=R,t[21]=k):k=t[21];var I;t[22]===Symbol.for("react.memo_cache_sentinel")?(I={className:"xgvahye x10l6tqk x1v4kod4"},t[22]=I):I=t[22];var T=n.offlineAttachmentId,D;t[23]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"Remove attachment"),t[23]=D):D=t[23];var x;t[24]!==n.offlineAttachmentId||t[25]!==l?(x=d.jsx("div",babelHelpers.extends({},I,{children:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:g,children:d.jsx(r("MWXCircleButton.react"),{"aria-describedby":T,"aria-label":D,icon:r("MWXIconCross"),onPress:l,size:24,type:"overlay"})})})),t[24]=n.offlineAttachmentId,t[25]=l,t[26]=x):x=t[26];var $;return t[27]!==n.filename||t[28]!==n.offlineAttachmentId||t[29]!==k||t[30]!==x||t[31]!==v?($=d.jsxs("div",babelHelpers.extends({"aria-label":b},v,{"data-testid":void 0,id:S,role:"listitem",children:[k,x]})),t[27]=n.filename,t[28]=n.offlineAttachmentId,t[29]=k,t[30]=x,t[31]=v,t[32]=$):$=t[32],$}l.default=f}),226);
__d("MWV2ComposerMediaStaging.react",["fbt","BaseFileSelector.react","FDSPhotoAddFilled24Icon","MWV2ComposerMediaStagingItem.react","MWXIcon_DEPRECATED.react","MWXPressable.react","MWXTooltip.react","justknobx","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={uploadPlaceholderPressable:{alignItems:"x6s0dn4",backgroundColor:"x1vtvx1t",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(7),n=e.isDisabled,a=e.onAttachmentsAdded,i=e.supportedFileTypes,l=r("useMWV2ComposerOnFilesSelected")(a),d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Upload another file"),t[0]=d):d=t[0];var m=d,p;t[1]!==n?(p=function(t){return u.jsx("div",{className:"x78zum5 x1c4vz4f x2lah0s xbmvrgn x1n2onr6",children:u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:m,children:u.jsx(r("MWXPressable.react"),{"aria-label":m,disabled:n,onPress:function(){return t()},testid:void 0,xstyle:c.uploadPlaceholderPressable,children:u.jsx(r("MWXIcon_DEPRECATED.react"),{color:n?"disabled":"primary",icon:r("FDSPhotoAddFilled24Icon")})})})})},t[1]=n,t[2]=p):p=t[2];var _;return t[3]!==l||t[4]!==i||t[5]!==p?(_=u.jsx(r("BaseFileSelector.react"),{accept:i,multiple:!0,onFilesSelected:l,children:p}),t[3]=l,t[4]=i,t[5]=p,t[6]=_):_=t[6],_}function m(e){var t=e.mediaStaging,n=e.onAttachmentRemoved,o=e.onAttachmentsAdded,a=e.supportedFileTypes;if(t.length===0)return null;var i=t.length>=r("justknobx")._("2538");return u.jsxs("div",{className:"x6s0dn4 x9f619 x78zum5 xozqiw3 x1nhvcw1 xw2csxc xz9dl7a xpdmqnj xsag5q8 x1g0dm76 xh8yej3",children:[u.jsx(d,{isDisabled:i,onAttachmentsAdded:o,supportedFileTypes:a}),u.jsx("div",{"aria-label":s._(/*BTDS*/"Attachments"),className:"x78zum5",role:"list",children:t.map(function(e){return u.jsx(r("MWV2ComposerMediaStagingItem.react"),{mediaStaging:e,onAttachmentRemoved:n},e.offlineAttachmentId)})})]})}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),226);
__d("MWV2ComposerSendButton.react",["fbt","Locale","MWChatChatButtonColorConstants","MWXPressable.react","MWXSpinner.react","MWXTooltip.react","UserAgent","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useState,f=r("gkx")("23402"),g=r("UserAgent").isPlatform("Mac OS X"),h=f?g?s._(/*BTDS*/"Press Cmd+Enter to send"):s._(/*BTDS*/"Press Ctrl+Enter to send"):s._(/*BTDS*/"Press enter to send"),y={buttonFDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},reverse:{transform:"xpk2tj9",$$css:!0}};function C(t){var n=o("react-compiler-runtime").c(16),a=t.disabled,i=t.hasStuffToSend,l=t.onPress,s=t.ref,u=t.shouldHideTooltip,d=u===void 0?!1:u,m=_(!1),f=m[0],g=m[1],y,C;n[0]!==i?(y=function(){i||g(!1)},C=[i,g],n[0]=i,n[1]=y,n[2]=C):(y=n[1],C=n[2]),p(y,C);var v;n[3]!==l?(v=function(){g(!0),l()},n[3]=l,n[4]=v):v=n[4];var S=v,R=a===!0||f,L;n[5]!==a||n[6]!==f?(L=f?c.jsx(r("MWXSpinner.react"),{color:"blue",size:20}):c.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWChatChatButtonColorConstants").styles.fillGrey),{height:"20px",viewBox:"0 0 24 24",width:"20px",children:[c.jsx("title",{children:h}),c.jsx("path",{d:"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z",fill:a===!0?void 0:"var(--chat-composer-button-color)"})]})),n[5]=a,n[6]=f,n[7]=L):L=n[7];var E;n[8]!==a||n[9]!==S||n[10]!==s||n[11]!==R||n[12]!==L?(E=c.jsx(r("MWXPressable.react"),{disabled:R,label:h,loggingEvent:"composer_send_message",onPress:S,overlayDisabled:a,overlayRadius:"50%",ref:s,testid:void 0,xstyle:b,children:L}),n[8]=a,n[9]=S,n[10]=s,n[11]=R,n[12]=L,n[13]=E):E=n[13];var k=E;if(d)return k;var I;return n[14]!==k?(I=c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:h,children:k}),n[14]=k,n[15]=I):I=n[15],I}function b(){return[r("gkx")("23219")?y.buttonMDS:y.buttonFDS,o("Locale").isRTL()&&y.reverse]}l.default=C}),226);
__d("useFileDragEvents",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e,t,n){var r=o("react-compiler-runtime").c(13),a=t===void 0?document.documentElement:t,i=d(0),l=m(!1),s=l[0],u=l[1],p;r[0]!==e||r[1]!==n?(p=function(r){if(u(!1),(n==null||n(r))&&e!=null){r.preventDefault();var t=r.dataTransfer;if(t!=null){var o=t.files;e(o,r)!==!1&&r.stopPropagation()}else r.stopPropagation();i.current=0}},r[0]=e,r[1]=n,r[2]=p):p=r[2];var f=p,g;r[3]!==n?(g=function(t){var e,r=(e=t.dataTransfer)==null?void 0:e.files;(n==null||n(t))&&r!=null&&(t.preventDefault(),i.current=i.current+1,u(!0))},r[3]=n,r[4]=g):g=r[4];var h=g,y;r[5]!==n?(y=function(t){var e,r=(e=t.dataTransfer)==null?void 0:e.files;(n==null||n(t))&&r!=null&&(i.current=i.current-1)===0&&u(!1)},r[5]=n,r[6]=y):y=r[6];var C=y,b=_,v,S;return r[7]!==h||r[8]!==C||r[9]!==f||r[10]!==a?(v=function(){if(a!=null)return a.addEventListener("drop",f,!0),a.addEventListener("dragenter",h,!0),a.addEventListener("dragleave",C,!0),a.addEventListener("dragover",b,!0),(function(){a.removeEventListener("drop",f,!0),a.removeEventListener("dragenter",h,!0),a.removeEventListener("dragleave",C,!0),a.removeEventListener("dragover",b,!0)})},S=[h,C,b,f,a],r[7]=h,r[8]=C,r[9]=f,r[10]=a,r[11]=v,r[12]=S):(v=r[11],S=r[12]),c(v,S),s}function _(e){var t,n=(t=e.dataTransfer)==null?void 0:t.files;e.dataTransfer!=null&&(e.dataTransfer.dropEffect="copy"),n!=null&&e.preventDefault()}l.default=p}),98);
__d("MWV2FileDropzone.react",["fbt","FBLogger","LSFactory","LSIssueNewErrorStoredProcedure","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWMediaManagerFileSizeLimit","MWXTextPairing.react","cometIsMimeTypeForMedia","promiseDone","react","react-compiler-runtime","stylex","useFileDragEvents","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.createContext,_=m.useCallback,f=m.useRef,g=m.useState,h=p({current:{enabled:!0,handler:null}});function y(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.fileUploadHandlerConfigRef,a=h.Provider,i;return t[0]!==n||t[1]!==r?(i=d.jsx(a,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=i):i=t[2],i}var C={root:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",maxWidth:"x193iq5w",minHeight:"x2lwn1j",position:"x1n2onr6",$$css:!0}};function b(e){if(e==null)return[];var t=e.dataTransfer;return t==null?[]:t.types}function v(e){switch(e){case 0:return;case 1:return s._(/*BTDS*/"Certain file types are unsupported in this chat.").toString();default:return s._(/*BTDS*/"Some files are unsupported and cannot be shared to this chat").toString()}}function S(e,t){var n=v(t);n!=null&&r("promiseDone")(e.runInTransaction(function(e){return r("LSIssueNewErrorStoredProcedure")(r("LSFactory")(e),{errorBodyText:n,errorTitleText:n})},"readwrite",void 0,void 0,i.id+":122"))}function R(e){var t=e.type;return o("cometIsMimeTypeForMedia").isMimeTypeForPhoto(t)||o("cometIsMimeTypeForMedia").isMimeTypeForVideo(t)?!0:t.startsWith("audio/")}var L=new Set(["text/plain","text/html","text/uri-list"]);function E(t){var n=o("react-compiler-runtime").c(17),a=t.children,i=t.getMaxAttachmentSizeInMBFunc,l=t.isDisabled,c=t.isMediaOnly,m=t.thread,p=t.xstyle,_=i===void 0?o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB:i,h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h={enabled:!1,handler:null},n[0]=h):h=n[0];var v=f(h),L=g(null),E=L[0],D=L[1],x=(e||(e=r("useReStore")))(),$;n[1]!==m?($=m!=null?(o("MWCMThreadTypes.react").isBroadcastThread(m.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType)||o("LSMessagingThreadTypeUtil").isAiBot(m.threadType))&&!o("LSThreadBitOffset").has(56,m):!1,n[1]=m,n[2]=$):$=n[2];var P=$,N=m!=null?o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType):!1,M=l===!0||P,w;n[3]===Symbol.for("react.memo_cache_sentinel")?(w=function(t){var e;return((e=v.current)==null?void 0:e.handler)==null?!1:!b(t).some(T)},n[3]=w):w=n[3];var A=w,F=r("useFileDragEvents")(I,void 0,A),O;n[4]!==x||n[5]!==P||n[6]!==M||n[7]!==c?(O=function(t){var e,n;if(((e=v.current)==null?void 0:e.enabled)!==!1){var o=(n=v.current)==null?void 0:n.handler;if(o==null){P||r("FBLogger")("messenger_web_media").mustfix(v.current==null?"fileUploadHandlerConfigRef was not setup to handle dropped file!":"fileUploadHandlerConfigRef.current.handler was not setup to handle dropped file");return}var a=Array.from(t),i=c?a.filter(R):a;a.length!==i.length&&S(x,a.length),!M&&i.length!==0&&o(i)}},n[4]=x,n[5]=P,n[6]=M,n[7]=c,n[8]=O):O=n[8];var B=O;r("useFileDragEvents")(B,E,k);var W;n[9]!==p?(W=(u||(u=r("stylex"))).props(C.root,p!=null?p:!1),n[9]=p,n[10]=W):W=n[10];var q;n[11]!==a?(q=d.jsx(y,{fileUploadHandlerConfigRef:v,children:a}),n[11]=a,n[12]=q):q=n[12];var U=!M&&F?d.jsx("div",{className:"x6s0dn4 x1h0vfkc x1ey2m1c x78zum5 xtijo5x x1o0tod xl56j7k x10l6tqk x13vifvy x1vjfegm",children:d.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"max {fileSizeLimit} MB",[s._param("fileSizeLimit",String(_(N)))]),bodyColor:"secondary",headline:s._(/*BTDS*/"Drop files here"),level:4,textAlign:"center"})}):null,V;return n[13]!==W||n[14]!==q||n[15]!==U?(V=d.jsxs("div",babelHelpers.extends({},W,{ref:D,children:[q,U]})),n[13]=W,n[14]=q,n[15]=U,n[16]=V):V=n[16],V}function k(e){return!0}function I(){return!1}function T(e){return L.has(e)}l.mWV2FileDropzoneContext=h,l.MWV2FileDropzone=E}),226);
__d("MWV2MessageActionsVisibility.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useRef;function u(){return s(c)}function c(){}l.useStopHoveringRef=u}),98);
__d("MWV2MessageEndOfGroupContentTextOnly.react",["fbt","MWMessageDeliveryStatus","MWStatusText.react","intlSummarizeNumber","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={statusText:{paddingBottom:"xwib8y2",paddingTop:"x1iorvi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.alignLeft,a=e.enableSeenInfo,i=e.num;if(!a){var l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(u.Fragment,{}),t[0]=l):l=t[0],l}var d;t[1]!==i?(d=s._(/*BTDS*/"Seen by {seenByNumber}",[s._param("seenByNumber",r("intlSummarizeNumber")(i))]).toString(),t[1]=i,t[2]=d):d=t[2];var m;return t[3]!==n||t[4]!==d?(m=u.jsx(r("MWStatusText.react"),{alignLeft:n,text:d,xstyle:c.statusText}),t[3]=n,t[4]=d,t[5]=m):m=t[5],m}function m(e){var t=o("react-compiler-runtime").c(13),n=e.alignLeft,a=e.enableSeenInfo,i=e.status,l=a===void 0?!0:a,s;if(t[0]!==n||t[1]!==l||t[2]!==i){s=Symbol.for("react.early_return_sentinel");e:{var m=o("MWMessageDeliveryStatus").getBroadcastStatusTitle(i);t:switch(i.type){case"NoneStatus":{s=null;break e}case"Error":{s=u.jsx(r("MWStatusText.react"),{error:!0,text:m.toString(),xstyle:c.statusText});break e}case"SingleSeenHead":{var p;t[4]!==l?(p=u.jsx(d,{enableSeenInfo:l,num:1}),t[4]=l,t[5]=p):p=t[5],s=p;break e}case"MultipleSeenHeads":case"DeliveredAndRead":break t;case"SeenCount":{var _;t[6]!==n||t[7]!==l||t[8]!==i.count?(_=u.jsx(d,{alignLeft:n,enableSeenInfo:l,num:i.count}),t[6]=n,t[7]=l,t[8]=i.count,t[9]=_):_=t[9],s=_;break e}case"Loading":{s=u.jsx(r("MWStatusText.react"),{alignLeft:n,text:m.toString(),xstyle:c.statusText});break e}case"RetriableError":{s=u.jsx(r("MWStatusText.react"),{alignLeft:n,error:!0,text:m.toString(),xstyle:c.statusText});break e}default:{s=u.jsx(r("MWStatusText.react"),{text:m.toString(),xstyle:c.statusText});break e}}}t[0]=n,t[1]=l,t[2]=i,t[3]=s}else s=t[3];if(s!==Symbol.for("react.early_return_sentinel"))return s;var f;return t[10]!==l||t[11]!==i.heads.length?(f=u.jsx(d,{enableSeenInfo:l,num:i.heads.length}),t[10]=l,t[11]=i.heads.length,t[12]=f):f=t[12],f}l.default=m}),226);
__d("MWV2MessageEndOfGroupContent.react",["LSMessagingThreadTypeUtil","MWChatSingleSeenHeadRow.react","MWClickToRevealMustacheText.react","MWLSThread","MWMessageDeliveryStatus","MWMessageOutgoingStatus.react","MWPMessageListColumn.react","MWV2ChatSeenHeadsRow.react","MWV2MessageEndOfGroupContentTextOnly.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={baseStyle:{marginInlineEnd:"x14iifvp",marginTop:"x1gslohp",$$css:!0},lastMessage:{marginBottom:"x12nagc",$$css:!0},nonLastMessage:{marginBottom:"xod5an3",$$css:!0},seenHeads:{marginTop:"x1gslohp",marginInlineEnd:"x2fvf9",marginBottom:"xjpr12u",marginInlineStart:"x1lziwak",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(35),n=e.alignLeft,a=e.enableSeenInfo,i=e.hasTextBasedMessageReceipts,l=e.isFromBlockedContact,c=e.isLastMessage,m=e.isOutgoing,p=e.isSecureMessage,_=e.isTextOnly,f=e.message,g=e.status,h=a===void 0?!0:a,y=o("MWLSThread").useThread(f.threadKey,d);if(c&&i&&g.type==="NoneStatus"){var C;return t[0]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:17}),t[0]=C):C=t[0],C}if(l){var b;return t[1]!==f.messageId?(b=s.jsx(r("MWClickToRevealMustacheText.react"),{messageId:f.messageId}),t[1]=f.messageId,t[2]=b):b=t[2],b}if(_===!0){var v;return t[3]!==n||t[4]!==h||t[5]!==g?(v=s.jsx(r("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:n,enableSeenInfo:h,status:g}),t[3]=n,t[4]=h,t[5]=g,t[6]=v):v=t[6],v}if(g.type==="MultipleSeenHeads"){var S=i&&(c?u.lastMessage:u.nonLastMessage),R=i&&u.baseStyle,L;t[7]!==S||t[8]!==R?(L=[u.seenHeads,S,R],t[7]=S,t[8]=R,t[9]=L):L=t[9];var E;return t[10]!==g.heads||t[11]!==L?(E=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:s.jsx(r("MWV2ChatSeenHeadsRow.react"),{messageSeenBy:g.heads,xstyle:L})}),t[10]=g.heads,t[11]=L,t[12]=E):E=t[12],E}if(c===!0&&y===!0&&i===!0&&g.type==="SeenCount"){if(g.count>0){var k;return t[13]!==n||t[14]!==h||t[15]!==g?(k=s.jsx(r("MWV2MessageEndOfGroupContentTextOnly.react"),{alignLeft:n,enableSeenInfo:h,status:g}),t[13]=n,t[14]=h,t[15]=g,t[16]=k):k=t[16],k}var I;return t[17]===Symbol.for("react.memo_cache_sentinel")?(I=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:22}),t[17]=I):I=t[17],I}if(i&&g.type==="SingleSeenHead"){var T=g.head,D;t[18]!==g.head?(D=o("MWMessageDeliveryStatus").getSingleSeenHead(g.head),t[18]=g.head,t[19]=D):D=t[19];var x=c?u.lastMessage:u.nonLastMessage,$;t[20]!==x?($=[x,u.baseStyle],t[20]=x,t[21]=$):$=t[21];var P;return t[22]!==g.head||t[23]!==D||t[24]!==$?(P=s.jsx(r("MWChatSingleSeenHeadRow.react"),{head:T,text:D,xstyle:$}),t[22]=g.head,t[23]=D,t[24]=$,t[25]=P):P=t[25],P}if(m&&i){var N=c?u.lastMessage:u.nonLastMessage,M;t[26]!==N?(M=[N,u.baseStyle],t[26]=N,t[27]=M):M=t[27];var w;return t[28]!==n||t[29]!==c||t[30]!==p||t[31]!==f||t[32]!==g||t[33]!==M?(w=s.jsx(r("MWMessageOutgoingStatus.react"),{alignLeft:n,isLastMessage:c,isSecureMessage:p,message:f,status:g,xstyle:M}),t[28]=n,t[29]=c,t[30]=p,t[31]=f,t[32]=g,t[33]=M,t[34]=w):w=t[34],w}return null}function d(e){return o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType)}l.MWV2MessageEndOfGroupContent=c}),98);
__d("MWV2MessageProfilePhotoMenuQuery$Parameters",["MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWV2MessageProfilePhotoMenuQuery_facebookRelayOperation"),metadata:{},name:"MWV2MessageProfilePhotoMenuQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWV2MessageProfilePhotoMenu.entrypoint",["JSResourceForInteraction","MWV2MessageProfilePhotoMenuQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.groupID,n=t.userID;return{queries:{messageProfilePhotoMenuQueryRef:{parameters:r("MWV2MessageProfilePhotoMenuQuery$Parameters"),variables:{groupID:e,userID:n}}}}},root:r("JSResourceForInteraction")("MWV2MessageProfilePhotoMenu.react").__setRef("MWV2MessageProfilePhotoMenu.entrypoint")};l.default=e}),98);
__d("MWXIconAccount",["MWXSvgIcon","SVGIcon","cr:22172","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22172")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2MessageProfilePhotoContent.react",["fbt","FDSImageCover.react","I64","IGDWebUtils","LSContactBitOffset","LSMessagingThreadTypeUtil","MWLSThread","MWPActor.react","MWPContactContext.react","MWPreloadableQueries","MWV2MessageProfilePhotoMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MWXGlimmer.react","MWXIconAccount","MWXIconStrict.react","MWXPressable.react","MWXTooltip.react","QE2Logger","ReQLSuspense","getLSMediaContactProfilePictureUrl","mwCMIsAnyCMThread","qex","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=s._(/*BTDS*/"Member"),p={glimmer:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x5yr21d",width:"xh8yej3",$$css:!0},profile:{alignItems:"xuk3077",display:"x78zum5",flexShrink:"x2lah0s",height:"x1fgtraw",maxWidth:"x193iq5w",width:"xgd8bvy",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(46),a=t.ariaHidden,l=t.isGroupThread,s=t.message,c=a===void 0?!1:a,_=o("MWPContactContext.react").useMWPContactStableContext(),g=_.contact,h=_.nickname,y=o("MWPActor.react").useActor(),C=(e||(e=r("useReStore")))(),b=o("MWLSThread").useThread(s.threadKey),v=b==null?void 0:b.parentThreadKey,S=b==null?void 0:b.threadType,R,L;n[0]!==C||n[1]!==v?(R=function(){return o("MWPreloadableQueries").getCommunityFolderQuery(C,v!=null?v:(u||(u=o("I64"))).zero).map(f)},L=[C,v],n[0]=C,n[1]=v,n[2]=R,n[3]=L):(R=n[2],L=n[3]);var E=o("ReQLSuspense").useFirst(R,L,i.id+":74"),k;n[4]!==S?(k=S!=null?r("mwCMIsAnyCMThread")(S):!1,n[4]=S,n[5]=k):k=n[5];var I=k,T;if(s.takedownState!=null){var D;n[6]===Symbol.for("react.memo_cache_sentinel")?(D=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"start",tooltip:m,children:d.jsx(r("MWXIconStrict.react"),{alt:m,color:"secondary",icon:r("MWXIconAccount"),size:28})}),n[6]=D):D=n[6],T=D}else if(g!=null&&r("getLSMediaContactProfilePictureUrl")(g)!==""){var x=h!=null?h+" ("+g.name+")":g.name,$;if(n[7]!==g){var P;$=(P=o("LSContactBitOffset").has(77,g))!=null?P:!1,n[7]=g,n[8]=$}else $=n[8];var N=$,M;if(n[9]!==g){var w;M=(w=o("LSContactBitOffset").has(84,g))!=null?w:!1,n[9]=g,n[10]=M}else M=n[10];var A=M,F;n[11]!==A||n[12]!==N?(F=!A&&!N&&!o("IGDWebUtils").isOnInstagramWeb(),n[11]=A,n[12]=N,n[13]=F):F=n[13];var O=F,B;n[14]!==I||n[15]!==O?(B=O&&I&&r("qex")._("20")===!0,n[14]=I,n[15]=O,n[16]=B):B=n[16];var W=B,q;n[17]!==O||n[18]!==b?(q=O&&b!=null&&o("LSMessagingThreadTypeUtil").isOpenOrArmadilloFnFThread(b),n[17]=O,n[18]=b,n[19]=q):q=n[19];var U=q,V=g.name,H;n[20]!==g?(H=r("getLSMediaContactProfilePictureUrl")(g),n[20]=g,n[21]=H):H=n[21];var G;n[22]===Symbol.for("react.memo_cache_sentinel")?(G={borderRadius:"50%"},n[22]=G):G=n[22];var z;n[23]!==g.name||n[24]!==H?(z=d.jsx(r("FDSImageCover.react"),{alt:V,src:H,style:G}),n[23]=g.name,n[24]=H,n[25]=z):z=n[25];var j=z,K;n[26]!==I?(K=function(t){t&&I&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu")},n[26]=I,n[27]=K):K=n[27];var Q;n[28]!==y||n[29]!==j||n[30]!==E||n[31]!==I||n[32]!==l||n[33]!==s||n[34]!==W||n[35]!==U?(Q=W||U?d.jsx(r("MWXEntryPointPopoverTrigger.react"),{entryPointParams:{groupID:(u||(u=o("I64"))).to_string(E!=null?E:(u||(u=o("I64"))).zero),userID:(u||(u=o("I64"))).to_string(y)},otherProps:{isGroupThread:l,message:s},popoverEntryPoint:r("MWV2MessageProfilePhotoMenu.entrypoint"),position:"above",children:function(t,n,a,i,l,s){return d.jsx(r("MWXPressable.react"),{onHoverIn:i,onHoverOut:l,onPress:function(){I&&o("QE2Logger").logExposureForUser("cm_web_group_message_profile_photo_menu"),n()},onPressIn:s,overlayRadius:"50%",ref:t,xstyle:p.profile,children:j})}}):j,n[28]=y,n[29]=j,n[30]=E,n[31]=I,n[32]=l,n[33]=s,n[34]=W,n[35]=U,n[36]=Q):Q=n[36];var X;n[37]!==K||n[38]!==Q||n[39]!==x?(X=d.jsx(r("MWXTooltip.react"),{align:"middle",onVisibilityChange:K,position:"start",tooltip:x,children:Q}),n[37]=K,n[38]=Q,n[39]=x,n[40]=X):X=n[40],T=X}else{var Y;n[41]===Symbol.for("react.memo_cache_sentinel")?(Y=d.jsx(r("MWXGlimmer.react"),{index:1,xstyle:p.glimmer}),n[41]=Y):Y=n[41],T=Y}var J;n[42]===Symbol.for("react.memo_cache_sentinel")?(J={className:"xuk3077 x78zum5 x2lah0s x1fgtraw x193iq5w xgd8bvy"},n[42]=J):J=n[42];var Z;return n[43]!==c||n[44]!==T?(Z=d.jsx("div",babelHelpers.extends({"aria-hidden":c},J,{children:T})),n[43]=c,n[44]=T,n[45]=Z):Z=n[45],Z}function f(e){return e.fbGroupId}l.default=_}),226);
__d("MWV2MessageProfilePhoto.react",["MWV2MessageProfilePhotoContent.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.ariaHidden,a=e.display,i=e.isGroupThread,l=e.message,u=n===void 0?!1:n,c=a===void 0?"visible":a,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"xgd8bvy"},t[0]=d):d=t[0];var m;t[1]!==u||t[2]!==c||t[3]!==i||t[4]!==l?(m=c==="visible"&&s.jsx(r("MWV2MessageProfilePhotoContent.react"),{ariaHidden:u,isGroupThread:i,message:l}),t[1]=u,t[2]=c,t[3]=i,t[4]=l,t[5]=m):m=t[5];var p;return t[6]!==m?(p=s.jsx("div",babelHelpers.extends({},d,{children:m})),t[6]=m,t[7]=p):p=t[7],p}l.default=u}),98);
__d("MWV2MessageStartOfGroupContent.react",["BaseHeadingContextWrapper.react","I64","MWPDateBreak.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t){return t!=null?(s||(s=o("I64"))).compare(s.abs(s.sub(e.timestampMs,t.timestampMs)),s.of_string("900000"))>0:!0}function d(e){var t=o("react-compiler-runtime").c(12),n=e.domElementRef,a=e.message,i=e.prevMessage,l=e.renderTextWrapper;if(c(a,i)){var d;t[0]!==a.timestampMs?(d=(s||(s=o("I64"))).to_float(a.timestampMs),t[0]=a.timestampMs,t[1]=d):d=t[1];var m;t[2]!==l||t[3]!==d?(m=u.jsx(r("BaseHeadingContextWrapper.react"),{children:u.jsx(r("MWPDateBreak.react"),{renderTextWrapper:l,timestamp:d})}),t[2]=l,t[3]=d,t[4]=m):m=t[4];var p;t[5]!==a||t[6]!==i||t[7]!==m?(p=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:u.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{nextMessage:a,prevMessage:i,children:m})}),t[5]=a,t[6]=i,t[7]=m,t[8]=p):p=t[8];var _;return t[9]!==n||t[10]!==p?(_=u.jsx(r("MWV2MessageRowSimple.react"),{domElementRef:n,children:p}),t[9]=n,t[10]=p,t[11]=_):_=t[11],_}else return null}function m(e){var t=o("react-compiler-runtime").c(5),n=e.domElementRef,r=e.message,a=e.prevMessage,i=e.renderTextWrapper,l;return t[0]!==n||t[1]!==r||t[2]!==a||t[3]!==i?(l=u.jsx(d,{domElementRef:n,message:r,prevMessage:a,renderTextWrapper:i}),t[0]=n,t[1]=r,t[2]=a,t[3]=i,t[4]=l):l=t[4],l}l.default=m}),98);
__d("MWV2MessageTimestampTooltip.react",["fbt","FBLogger","I64","MWMessageUnsentTimestampText.react","MWXTooltip.react","cr:6194","err","getMessengerPreciseTimestamp","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=e.useMemo;function m(e){var t=o("react-compiler-runtime").c(2),n=e.ts,r=n!=null?"Uploaded to EB: "+n:null,a;return t[0]!==r?(a=c.jsx("div",{children:r}),t[0]=r,t[1]=a):a=t[1],a}function p(e,t){try{var n=s._(/*BTDS*/"{time}",[s._param("time",r("getMessengerPreciseTimestamp")(e,!0))]);return[c.jsxs("div",{"data-testid":void 0,children:[c.jsx(m,{ts:t}),c.jsx("div",{children:n})]},"first"),n]}catch(e){var o=e instanceof Error?e:r("err")(String(e));r("FBLogger")("MWV2MessageTimestampTooltip").catching(o).mustfix("Failed to render message timestamp");var a=s._(/*BTDS*/"Timestamp unavailable");return[c.jsx("div",{"data-testid":void 0,children:c.jsx("div",{children:a})},"first"),a]}}function _(e){var t=e.children,a=e.message,i=e.position,l=i===void 0?"start":i,m=n("cr:6194")==null?void 0:n("cr:6194")(a.messageId),_=d(function(){var e=a.isUnsent,t=a.unsentTimestampMs;return t!=null&&e?[c.jsx(r("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:t},"first"),s._(/*BTDS*/"Message unsent")]:p((u||(u=o("I64"))).to_float(a.timestampMs),m)},[a,m]),f=_[0],g=_[1];return c.jsx(r("MWXTooltip.react"),{align:"middle",label:g,position:l,tooltip:f,children:t})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWXIconReply",["MWXSvgIcon","SVGIcon","cr:22460","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22460")),r("gkx")("23219"));l.default=e}),98);
__d("useMWV2SetReply.react",["MWPReplyContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(){var e=s(o("MWPReplyContext.react").MWPReplyContext),t=e.setReply;return t}l.default=u}),98);
__d("MWV2ReplyButtonImpl.react",["fbt","MAWEditMessageContext.react","MWMessageActionButton.react","MWV2MessageListIsRowModalContext.react","MWV2MessageRowActionsContext.react","MWXIconReply","emptyFunction","react","useMWV2SetReply.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useEffect;function _(e){var t=e.message,n=s._(/*BTDS*/"Reply"),a=r("useMWV2SetReply.react")(),i=m(o("MAWEditMessageContext.react").Context),l=i.editMessageData,c=i.setEditMessageData,_=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),f=_.setModal,g=function(){l!=null&&c(null),a({messageId:t.messageId,offlineThreadingId:t.offlineThreadingId,sendStatusV2:t.sendStatusV2,threadKey:t.threadKey,timestampMs:t.timestampMs},t.threadKey),f("")},h=o("MWV2MessageRowActionsContext.react").useMessageRowActionsContext(),y=h.replyToMessage;y.current=g;var C=d(function(){y.current=r("emptyFunction")},[y]);return p(function(){return C},[C]),u.jsx(r("MWMessageActionButton.react"),{icon:r("MWXIconReply"),label:n,loggingEvent:"message_reply",onPress:g,testid:void 0})}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),226);
__d("MWV2SetupS2SLoggingShared",["I64","LSIntEnum","MWChatInteraction","MWLSLogSend","MWSharedS2SBaseAnnotations","MWVersion","ReQL","ReQLSubscribe","err","gkx","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(e,t){o("sendToSentQPLLogger").markSendToSentPoint(e,"received_successful_server_ack"),o("sendToSentQPLLogger").markSendToSentSuccess(e),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function c(e,t){o("sendToSentQPLLogger").markSendToSentFail(e,"send_message_server_error",r("err")("send_message_server_error")),o("MWChatInteraction").remove(o("MWChatInteraction").s2sKey(t))}function d(e){o("sendToSentQPLLogger").markSendToSentPoint(e,"sending_message")}function m(t){var n=t.db,a=t.isCommunityEvent,i=t.isFirstMessage,l=i===void 0?!1:i,m=t.isMessageRequest,p=t.isWorkChat,_=p===void 0?!1:p,f=t.s2sInstanceKey,g=t.sendFirstMessageSeparately,h=g===void 0?!1:g,y=t.source,C=t.threadType,b=t.traceSendMessageAPI,v={isCommunityEvent:a,isMessageRequest:m,mwVersion:o("MWVersion").v2,source:y,threadType:C};return function(t){o("MWLSLogSend").logSentHeroInteraction(b,t,v),o("MWChatInteraction").set(o("MWChatInteraction").s2sKey(t),String(f)),o("sendToSentQPLLogger").addSendToSentAnnotations(f,{bool:{subscription_points_gk:!0},string:{entrypoint:o("MWSharedS2SBaseAnnotations").getEntrypointAnnotation(y),is_community_event:a===!0?"true":"false",is_first_message:l===!0?"true":"false",is_message_request:m===!0?"true":"false",offline_threading_id:_&&r("gkx")("9326")?t:null,send_first_message_separately:h===!0?"true":"false",thread_type:C==null?"unknown":(e||(e=o("I64"))).to_string(C)}});var i=!1,p=o("ReQL").fromTableAscending(n.tables.messages.index("optimistic")).getKeyRange(t),g=o("ReQLSubscribe").subscribeToFirst(p,function(n){n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(2))?(i=!0,u(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(4))?(i=!0,c(f,t),g()):n!=null&&(e||(e=o("I64"))).equal(n.sendStatusV2,(s||(s=o("LSIntEnum"))).ofNumber(1))&&d(f)});window.setTimeout(async function(){if(!i){var e=await o("ReQL").firstAsync(p);i||o("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{status_after_10s:e?""+(s||(s=o("LSIntEnum"))).toNumber(e.sendStatusV2):"none"}})}},1e4),window.setTimeout(function(){g()},12e4)}}l.default=m}),98);
__d("MWXMessageBaseMessageListText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(15),n=e.outgoing,a=e.ref,i=e.text,l=e.xstyle,c=e.ranges,d=e.renderers,m=e.transforms;if(i==null)return null;var p=n?"white":"primary",_=n?u.outgoing:u.incoming,f;t[0]!==_||t[1]!==l?(f=[u.regular,_,l],t[0]=_,t[1]=l,t[2]=f):f=t[2];var g=m!=null?m:o("MWChatTextTransform").textTransforms,h;t[3]!==c||t[4]!==d||t[5]!==g||t[6]!==i?(h=s.jsx(r("MWXMessageTextWithEntities.react"),{ranges:c,renderers:d,text:i,transforms:g,withParagraphs:!1}),t[3]=c,t[4]=d,t[5]=g,t[6]=i,t[7]=h):h=t[7];var y;t[8]!==a||t[9]!==f||t[10]!==h?(y=s.jsx(o("react-strict-dom").html.div,{dir:"auto",ref:a,style:f,children:h}),t[8]=a,t[9]=f,t[10]=h,t[11]=y):y=t[11];var C;return t[12]!==p||t[13]!==y?(C=s.jsx(r("MWXText.react"),{color:p,type:"body3",children:y}),t[12]=p,t[13]=y,t[14]=C):C=t[14],C}l.default=c}),98);
__d("MWXMessageListText.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","MWChatTextTransform","MWXMessageBaseMessageListText.react","MWXMessageBlockQuote.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t=o("react-compiler-runtime").c(16),n=e.hasBlockQuoteStyle,a=e.message,i=e.ref,l=e.xstyleForForwarded,d=e.xstyleForText,m=e.outgoing,p=e.ranges,_=e.renderers,f=e.text,g=e.transforms,h=n===void 0?!1:n;if(f==null)return null;var y;t[0]!==a.replySourceTypeV2?(y=a.replySourceTypeV2!=null&&(s||(s=o("I64"))).equal(a.replySourceTypeV2,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),t[0]=a.replySourceTypeV2,t[1]=y):y=t[1];var C=y,b=g!=null?g:o("MWChatTextTransform").textTransforms,v;t[2]!==m||t[3]!==p||t[4]!==i||t[5]!==_||t[6]!==b||t[7]!==f||t[8]!==d?(v=c.jsx(r("MWXMessageBaseMessageListText.react"),{outgoing:m,ranges:p,ref:i,renderers:_,text:f,transforms:b,xstyle:d}),t[2]=m,t[3]=p,t[4]=i,t[5]=_,t[6]=b,t[7]=f,t[8]=d,t[9]=v):v=t[9];var S=v,R;return t[10]!==S||t[11]!==h||t[12]!==C||t[13]!==m||t[14]!==l?(R=C||h===!0?c.jsx(r("MWXMessageBlockQuote.react"),{outgoing:m,xstyle:l,children:S}):S,t[10]=S,t[11]=h,t[12]=C,t[13]=m,t[14]=l,t[15]=R):R=t[15],R}l.default=d}),98);
__d("MWXUseLatch",["CometThrottle","Run","debounce","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useMemo;function d(e,t,n){var a=o("react-compiler-runtime").c(20),i=t!=null?t:!1,l,s;a[0]!==e||a[1]!==i?(l=function(){if(i){var t=o("Run").onUnload(function(){return e(!1)});return(function(){return t.remove()})}},s=[i,e],a[0]=e,a[1]=i,a[2]=l,a[3]=s):(l=a[2],s=a[3]),u(l,s);var c;a[4]===Symbol.for("react.memo_cache_sentinel")?(c={contents:!1},a[4]=c):c=a[4];var d=c,m;a[5]!==e?(m=function(){if(!d.contents)return e(!1)},a[5]=e,a[6]=m):m=a[6];var p=n|0,_;a[7]!==m||a[8]!==p?(_=r("debounce")(m,p),a[7]=m,a[8]=p,a[9]=_):_=a[9];var f=_,g;a[10]!==e?(g=r("CometThrottle")(function(){return e(!0)},3e3,{leading:!0,trailing:!1}),a[10]=e,a[11]=g):g=a[11];var h=g,y;a[12]!==e?(y=function(){e(!1),d.contents=!0},a[12]=e,a[13]=y):y=a[13];var C=y,b;a[14]!==f||a[15]!==h?(b=function(){return h(),f()},a[14]=f,a[15]=h,a[16]=b):b=a[16];var v=b,S;return a[17]!==C||a[18]!==v?(S=[v,C],a[17]=C,a[18]=v,a[19]=S):S=a[19],S}l.useLatch=d}),98);
__d("MessagingLoggingUtils",["I64","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=(e||(e=o("I64"))).to_int32(t);switch(n){case r("MessagingAttachmentType").NONE:return 1;case r("MessagingAttachmentType").STICKER:return 4;case r("MessagingAttachmentType").IMAGE:return 8;case r("MessagingAttachmentType").ANIMATED_IMAGE:return 6;case r("MessagingAttachmentType").VIDEO:return 10;case r("MessagingAttachmentType").AUDIO:return 11;case r("MessagingAttachmentType").FILE:return 9;case r("MessagingAttachmentType").XMA:return 13;case r("MessagingAttachmentType").EPHEMERAL_IMAGE:return 8;case r("MessagingAttachmentType").EPHEMERAL_VIDEO:return 5;case r("MessagingAttachmentType").SELFIE_STICKER:return 22;case r("MessagingAttachmentType").SOUND_BITE:return 23;default:return 1}}l.convertI64ToAttachmentType=s}),98);
__d("MessengerAccountFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm5.824-6.132c.408.316.431.91.059 1.268A8.472 8.472 0 0 1 18 26.5c-2.283 0-4.355-.9-5.883-2.364a.834.834 0 0 1 .059-1.268C13.654 21.719 15.746 21 18 21c2.255 0 4.346.719 5.824 1.868zM18 19c-1.882 0-3.5-1.304-3.5-4.142C14.5 12.544 15.974 11 18 11s3.5 1.544 3.5 3.858C21.5 17.696 19.882 19 18 19z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerBadgeCheckmarkFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M7.818 18.378c-1.176 1.307-1.645 2.915-1.077 4.286.567 1.37 2.036 2.176 3.792 2.268.287.015.52.248.535.535.092 1.756.897 3.225 2.268 3.793 1.371.567 2.979.098 4.286-1.078a.568.568 0 0 1 .756 0c1.307 1.177 2.915 1.645 4.286 1.078 1.37-.568 2.176-2.037 2.268-3.793a.568.568 0 0 1 .535-.535c1.756-.092 3.225-.897 3.793-2.268.567-1.371.098-2.979-1.078-4.286a.568.568 0 0 1 0-.756c1.177-1.307 1.645-2.915 1.078-4.286-.568-1.37-2.037-2.176-3.793-2.268a.569.569 0 0 1-.535-.535c-.092-1.756-.897-3.225-2.268-3.792-1.371-.568-2.979-.1-4.286 1.077a.568.568 0 0 1-.756 0c-1.307-1.176-2.915-1.645-4.286-1.077-1.37.567-2.176 2.036-2.268 3.792a.568.568 0 0 1-.535.535c-1.756.092-3.225.897-3.792 2.268-.568 1.371-.1 2.979 1.077 4.286a.568.568 0 0 1 0 .756zm15.547-4.376a1 1 0 0 0-1.73-1.004l-4.41 7.595a.25.25 0 0 1-.393.051l-2.625-2.625a1 1 0 0 0-1.414 1.414l3.774 3.774a1 1 0 0 0 1.572-.205l5.226-9z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerBotFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M9.798 17.105a.25.25 0 0 1-.25-.25v-1.29a.25.25 0 0 1 .25-.25h.572c.517 0 .826.337.826.892 0 .543-.329.898-.855.898h-.543zM9.798 20.685a.25.25 0 0 1-.25-.25v-1.564a.25.25 0 0 1 .25-.25h.64c.613 0 .98.374.98 1.016 0 .68-.362 1.048-.995 1.048h-.625zM18 20.462c-.857 0-1.42-.958-1.42-2.459 0-1.507.568-2.466 1.42-2.466s1.42.959 1.42 2.466c0 1.501-.563 2.46-1.42 2.46z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M9 7a4 4 0 0 0-4 4v14a4 4 0 0 0 4 4h18a4 4 0 0 0 4-4V11a4 4 0 0 0-4-4H9zm-.476 15.5h2.517c1.493 0 2.459-1.042 2.459-2.62 0-1.18-.773-2.09-1.703-2.138a.028.028 0 0 1-.027-.027c0-.014.01-.025.024-.028.795-.142 1.392-.916 1.392-1.942 0-1.403-.836-2.245-2.26-2.245H8.523c-.652 0-1.024.499-1.024 1.385v6.23c0 .886.372 1.385 1.024 1.385zm9.476 0c2.147 0 3.5-1.718 3.5-4.497S20.147 13.5 18 13.5c-2.147 0-3.5 1.724-3.5 4.503S15.848 22.5 18 22.5zm8.54-1.361c0 .87-.378 1.361-1.04 1.361s-1.04-.49-1.04-1.361v-5.317a.25.25 0 0 0-.25-.25h-.793c-.55 0-.917-.374-.917-1.036s.358-1.036.917-1.036h4.166c.56 0 .917.374.917 1.036s-.368 1.036-.917 1.036h-.794a.25.25 0 0 0-.25.25v5.317z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerClickImpressionEventsLoggerUtils",["$InternalEnum","I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=n("$InternalEnum").Mirrored(["CLICK","IMPRESSION","CONVERSION"]);function c(t,n){var a=o("react-compiler-runtime").c(14),l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),c;a[0]!==n?(c=(e||(e=o("I64"))).to_int32(n!=null?n:(e||(e=o("I64"))).zero),a[0]=n,a[1]=c):c=a[1];var m=c,p=m===1||m===15,_,f;a[2]!==l||a[3]!==p||a[4]!==t?(_=function(){return p&&t!=null?o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t):o("ReQL").empty()},f=[l,t,p],a[2]=l,a[3]=p,a[4]=t,a[5]=_,a[6]=f):(_=a[5],f=a[6]);var g=o("ReQLSuspense").useArray(_,f,i.id+":72");if(t==null)return null;if(p){var h;if(a[7]!==u||a[8]!==g){var y;a[10]!==u?(y=function(n){return n!==(e||(e=o("I64"))).to_string(u)},a[10]=u,a[11]=y):y=a[11],h=g.map(d).filter(y),a[7]=u,a[8]=g,a[9]=h}else h=a[9];var C=h[0];return C}else{var b;return a[12]!==t?(b=(e||(e=o("I64"))).to_string(t),a[12]=t,a[13]=b):b=a[13],b}}function d(t){return(e||(e=o("I64"))).to_string(t.contactId)}l.EventTypeEnum=u,l.useGetUniqueThreadID=c}),98);
__d("MessengerDefaultTheme",["CurrentEnvironment","I64"],(function(t,n,r,o,a,i,l){"use strict";var e,s={color:r("CurrentEnvironment").messengerdotcom?"#0099FF":"#0084FF",id:(e||(e=o("I64"))).of_string("196241301102133"),label:"Default Blue",type:"solid"};l.default=s}),98);
__d("MessengerExclamationMarkCircleFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-1.425-16.502a1.427 1.427 0 1 1 2.85 0l-.375 7.503a1.051 1.051 0 0 1-2.1 0l-.375-7.503zM19.25 23.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerFaceHappyOutline.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M13.25 16c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zM19.75 16c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zM12.73 20.464a1 1 0 0 1 1.41-.12 5.963 5.963 0 0 0 3.856 1.406c1.47 0 2.813-.528 3.856-1.406a1 1 0 1 1 1.288 1.53 7.962 7.962 0 0 1-5.144 1.876 7.962 7.962 0 0 1-5.144-1.877 1 1 0 0 1-.121-1.409z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M29 18c0 6.075-4.925 11-11 11S7 24.075 7 18 11.925 7 18 7s11 4.925 11 11zm-2.5 0a8.5 8.5 0 1 1-17 0 8.5 8.5 0 0 1 17 0z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerGroupFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M18 18c-2.554 0-4.75-1.793-4.75-5.695C13.25 9.123 15.25 7 18 7s4.75 2.123 4.75 5.305C22.75 16.207 20.554 18 18 18zM25.94 28c.69 0 1.06-.595 1.06-1.335C27 22.985 22.835 20 18 20s-9 2.985-9 6.665c0 .74.37 1.335 1.06 1.335h15.88zM29 19c-1.882 0-3.5-1.304-3.5-4.142C25.5 12.544 26.974 11 29 11s3.5 1.544 3.5 3.858C32.5 17.696 30.882 19 29 19zM29.977 27a1 1 0 0 1-.992-.87l-.017-.13c-.162-1.687-.935-3.176-2.037-4.379-.239-.26-.17-.685.164-.8A5.938 5.938 0 0 1 29 20.5c2 0 4 1 4 3 0 3.5-2.5 3.5-2.5 3.5h-.523zM3.5 14.858C3.5 17.696 5.118 19 7 19s3.5-1.304 3.5-4.142C10.5 12.544 9.026 11 7 11s-3.5 1.544-3.5 3.858zM6.023 27H5.5S3 27 3 23.5c0-2 2-3 4-3a5.94 5.94 0 0 1 1.905.322c.335.114.403.539.164.8-1.102 1.202-1.875 2.69-2.037 4.378l-.017.13a1 1 0 0 1-.992.87z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerInboxTrayConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3905"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3476"),s=o("FalcoLoggerInternal").create("messenger_inbox_tray_event",e),u=s;l.default=u}),98);
__d("MessengerInboxTrayClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayConversionClickEventFalcoEvent","MessengerInboxTrayEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function s(e,t){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION,t)}function u(e){c(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function c(e,t,n){var a=e.id,i=e.isOnline,l=e.messageThreadId,s=e.position,u=e.storyIds,c=e.surface,d=e.targetType,m=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)m="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)m="one_px_impression";else return;var p={event_type:m,surface:{entry_point:c.entry_point,major_surface:c.major_surface,minor_surface:c.minor_surface},target:{ranking:{absolute_position:s!=null?s.toString():"-1"},type:d,user:{id:a}}};if(i!=null&&(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{presence:{status:i?1:0}})})),(u==null?void 0:u.firstCardId)!=null&&(u==null?void 0:u.bucketId)!=null){var _,f=atob(u.firstCardId),g=null;f!=null&&f.includes("S:_ISC:")&&(g=f.split("S:_ISC:")[1]),p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{story:{bucket_id:(_=u.bucketId)!=null?_:null,first_card_id:g!=null?g:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerInboxTrayEventFalcoEvent").log(function(){return p}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?(p=babelHelpers.extends({},p,{target:babelHelpers.extends({},p.target,{button:n!=null?{type:n}:void 0,message_thread:l!=null?{consistent_thread_fbid:l}:void 0})}),r("MessengerInboxTrayConversionClickEventFalcoEvent").log(function(){return p})):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerInboxTrayEventFalcoEvent").log(function(){return p})}l.logClickEvent=e,l.logConversionClickEvent=s,l.logImpressionEvent=u}),98);
__d("MessengerRefreshAltFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M24.808 12.314c-.532.339-.618 1.08-.255 1.596a8 8 0 1 1-6.803-3.406.245.245 0 0 1 .25.246v1.415a.833.833 0 0 0 1.28.703l4.582-2.915a.833.833 0 0 0 0-1.406L19.28 5.632A.833.833 0 0 0 18 6.335V7.75c0 .138-.113.25-.25.253C12.065 8.136 7.5 12.785 7.5 18.5c0 2.33.758 4.481 2.042 6.223a10.535 10.535 0 0 0 4.453 3.486l.005.002a10.468 10.468 0 0 0 5.074.735c5.294-.538 9.426-5.01 9.426-10.446 0-2.33-.758-4.481-2.042-6.223-.293-.398-.846-.474-1.264-.209l-.386.246z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerReplyFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.001 24.4c0 1.278-1.335 2.04-2.333 1.332l-9.004-6.399c-.891-.633-.89-2.028 0-2.661l9.004-6.398c.998-.71 2.333.053 2.333 1.33l.001 3.147c0 .138.114.25.252.251 6.999.076 11.74 3.317 11.742 10.986 0 .594-.411 1.012-1.033 1.012-.46 0-.844-.265-1.114-1.083-1.129-3.409-4.431-4.87-9.595-4.916a.25.25 0 0 0-.252.249v3.15z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerSidebarClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2305"),s=o("FalcoLoggerInternal").create("messenger_sidebar_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarConversionClickEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2306"),s=o("FalcoLoggerInternal").create("messenger_sidebar_conversion_click_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarImpressionEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2307"),s=o("FalcoLoggerInternal").create("messenger_sidebar_impression_event",e),u=s;l.default=u}),98);
__d("MessengerSidebarClickImpressionEventsLoggerImpl",["MessengerClickImpressionEventsLoggerUtils","MessengerSidebarClickEventFalcoEvent","MessengerSidebarConversionClickEventFalcoEvent","MessengerSidebarImpressionEventFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e={scrollMargin:-33};function s(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)}function u(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)}function c(e){d(e,o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)}function d(e,t){var n=e.id,a=e.isOnline,i=e.position,l=e.storyIds,s=e.surface,u=e.targetType,c=null;if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION)c="single_click";else if(t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION)c="vpvd_impression";else return;var d={event_type:c,surface:{entry_point:s.entry_point,major_surface:s.major_surface,minor_surface:s.minor_surface},target:{ranking:{absolute_position:i!=null?i.toString():"-1"},type:u,user:{id:n}}};if(a!=null&&(d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{presence:{status:a?1:0}})})),(l==null?void 0:l.firstCardId)!=null&&(l==null?void 0:l.bucketId)!=null){var m,p=atob(l.firstCardId),_=null;p!=null&&p.includes("S:_ISC:")&&(_=p.split("S:_ISC:")[1]),d=babelHelpers.extends({},d,{target:babelHelpers.extends({},d.target,{story:{bucket_id:(m=l.bucketId)!=null?m:null,first_card_id:_!=null?_:null}})})}t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CLICK?r("MessengerSidebarClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.CONVERSION?r("MessengerSidebarConversionClickEventFalcoEvent").log(function(){return d}):t===o("MessengerClickImpressionEventsLoggerUtils").EventTypeEnum.IMPRESSION&&r("MessengerSidebarImpressionEventFalcoEvent").log(function(){return d})}l.IMPRESSION_LOG_OPTIONS=e,l.logClickEvent=s,l.logConversionClickEvent=u,l.logImpressionEvent=c}),98);
__d("MessengerThreadFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M29 17.5c0 6.103-4.607 10.57-11 10.57-1.066 0-2.08-.094-3.032-.327a4.261 4.261 0 0 0-2.39.09L8.91 28.96c-.591.202-1.165-.372-.964-.986l.728-2.41a3.007 3.007 0 0 0-.291-2.5C7.413 21.48 7 19.591 7 17.5v-.002C7 11.396 11.607 7 18 7s11 4.396 11 10.498v.002zM12.5 16a1 1 0 0 1 1-1h9a1 1 0 1 1 0 2h-9a1 1 0 0 1-1-1zm1 3a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("ReQLObservable",["SortedAsyncIterable","applyChangesToBPlusTree","createBPlusTreeFromSorted","isPromise","promiseDone","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){return o("relay-runtime").Observable.create(function(a){var i=n(t),l=function(t){a.closed||a.next(t)},s,u=[],c=i.subscribe(function(e,t){u.push([e,t])}),d=t.subscribeToCommit(function(){if(!a.closed&&s!=null&&u.length>0){var e=s;r("applyChangesToBPlusTree")(e,u)&&l(Array.from(e.entries()))}}),m=i.iterator(o("SortedAsyncIterable").getOrCreateContext(i)),p=[];return r("promiseDone")((async function(){for(;!a.closed;){var t=m.next();if((e||(e=r("isPromise")))(t)&&(t=await t),t.done)break;p.push(t.value)}if(!a.closed){var n=s=r("createBPlusTreeFromSorted")(p,i.direction);l(r("applyChangesToBPlusTree")(n,u)?Array.from(n.entries()):p)}})()),function(){c(),d()}})}l.create=s}),98);
__d("SupportAISitevarConfigJSModuleWrapper",["SupportAISitevarConfig"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("SupportAISitevarConfig")}),98);
__d("WorkGalahadMWChatTabContext.react",["MessengerSurfaceType","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).createContext,u=s({surface:o("MessengerSurfaceType").messenger});l.context=u}),98);
__d("cometLexicalBaseTheme",[],(function(t,n,r,o,a,i,l){"use strict";var e={ltr:"xdpxx8g",rtl:"x1hr2gdg"},s=e;l.default=s}),98);
__d("createOptimisticAudioSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.audioAttachment,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageAudiosContent",__typename:"SlideMessageAudiosContent",audio_attachments:[{attachment_cdn_url:URL.createObjectURL(t.file),attachment_fbid:null,playable_duration_ms:t.playableDurationMs,waveform_data:t.waveformData}]},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a voice message").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticImageSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.image,n=e.offlineThreadingId,r=e.optimisticMessageId,o=e.repliedToMessageId,a=e.senderFbid,i=e.threadFbid,l=e.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:l,content:{__isSlideMessageContent:"SlideMessageImageContent",__typename:"SlideMessageImageContent",attachments:[{__isSlideMessagingMediaAttachment:"XFBSlideAttachment",__typename:"XFBSlideAttachment",attachment_cdn_fallback_url:t.url,attachment_cdn_url:t.url,attachment_fbid:null,attachment_type:2,preview_cdn_fallback_url:t.url,preview_cdn_url:t.url,preview_height:t.height,preview_width:t.width}]},content_type:"IMAGES",id:r,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a photo").toString(),is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:"",thread_fbid:i,timestamp_ms:l};return u}l.default=e}),226);
__d("createOptimisticTextSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"You").toString();function u(t){var n=t.offlineThreadingId,r=t.optimisticMessageId,o=t.repliedToMessageId,a=t.senderFbid,i=t.text,l=t.threadFbid,s=t.timestampMs,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:s,content:{__isSlideMessageContent:"SlideMessageText",__typename:"SlideMessageText",text_body:i},content_type:"TEXT",id:r,igd_is_forwarded:!1,igd_snippet:e+": "+i,is_reported:!1,message_id:r,offline_threading_id:n,reactions:[],replied_to_message:null,replied_to_message_id:o,sender_fbid:a,text_body:i,thread_fbid:l,timestamp_ms:s};return u}l.default=u}),226);
__d("createOptimisticVideoSlideMessage",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){var t=e.offlineThreadingId,n=e.optimisticMessageId,r=e.repliedToMessageId,o=e.senderFbid,a=e.threadFbid,i=e.timestampMs,l=e.video,u={client__send_status:"OPTIMISTIC",client__timestamp_ms:i,content:{__isSlideMessageContent:"SlideMessageVideosContent",__typename:"SlideMessageVideosContent",videos:[{__typename:"XFBSlideVideoAttachment",attachment_cdn_url:l.url,attachment_fbid:null,attachment_type:4,preview_cdn_url:l.url,preview_height:l.height,preview_width:l.width}]},content_type:"VIDEOS",id:n,igd_is_forwarded:!1,igd_snippet:s._(/*BTDS*/"You sent a video").toString(),is_reported:!1,message_id:n,offline_threading_id:t,reactions:[],replied_to_message:null,replied_to_message_id:r,sender_fbid:o,text_body:"",thread_fbid:a,timestamp_ms:i};return u}l.default=e}),226);
__d("fileInputAcceptValues",[],(function(t,n,r,o,a,i){"use strict";var e=[".png",".jpg",".jpeg"],l=["image/*","image/heif","image/heic"],s=["video/*","video/mp4","video/x-m4v","video/x-matroska",".mkv"],u=l.concat(s);i.CUSTOM_THUMBNAIL=e,i.PHOTO=l,i.VIDEO=s,i.PHOTO_AND_VIDEO=u}),66);
__d("getPrivacyAwareEditorState",["Lexical"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return{nodes:s(e),selection:c(e)}}function s(e){var t=[],n=["key","type","detail","format","mode","children","parent","first","last","size","next","prev"];for(var r of e._nodeMap){var o=r[0],a=r[1],i={};for(var l of n){var s="__"+l,c=a[s];c==null||u(l,c)||(i[l]=c)}t.push(i)}return t}function u(e,t){var n=new Set(["detail","format"]);return!!(n.has(e)&&t===0||e==="mode"&&t==="normal")}function c(e){var t=e._selection;if(!o("Lexical").$isRangeSelection(t))return null;var n=t.anchor,r=t.focus;return{anchor:{key:n.key,offset:n.offset,type:n.type},focus:{key:r.key,offset:r.offset,type:r.type}}}l.default=e}),98);
__d("issueLSAudioMediaSendJob",["I64","LSDatabaseSingletonLazyWrapper","LSFactory","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWPAttachmentUploadQplFlow","MWPComposerMediaUploadUtil","MWPOpenComposerUtils","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e,t,n,r){if(e!=null&&e.startsWith("blob:")){var a={contents:function(){}};a.contents=o("ReQL").fromTableAscending(n.tables.attachments).getKeyRange(r).subscribe(function(n,r){if(r.operation==="put"){var o=r.value;if(o.attachmentFbid!==t.toString())return;var i=o.playableUrl;i!=null&&!i.startsWith("blob:")&&(a.contents(),URL.revokeObjectURL(e))}})}}async function u(t,n,a,l,u,c,d,m,p,_,f,g){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:d.attachment_type,inMessageIndex:(e||(e=o("I64"))).zero,isSecure:!1,offlineAttachmentId:u,offlineThreadingId:c,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1});var h=function(a,m){if(!(m==null||m.length===0)){var t=async function(){var t=await r("LSDatabaseSingletonLazyWrapper")();return t.runInTransaction(async function(a){var i=r("LSFactory")(a);await r("LSMarkSubJobCompletedV2StoredProcedure")(i,{fbid:(e||(e=o("I64"))).of_string(m),offlineAttachmentId:u}),await o("MWPOpenComposerUtils").resumeSendJob(i,c,l),s(d.playable_url,m,t,n)},"readwrite",void 0,void 0,i.id+":101")};r("promiseDone")(t(),function(){_==null||_(a)})}},y=function(t,n){var e;f==null||f((e=n.response.getErrorDescriptionString())!=null?e:"unknown_upload_failure",t)},C=g==="IGDComposer"?o("MWPAttachmentUploadQplFlow").createAttachmentUploadIdToQplFlowMap([{attachmentType:"audio",entryPoint:g,fileSize:m.file.size,platform:"igd",uploadId:u}]):null;await o("MWPComposerMediaUploadUtil").startUpload(p,void 0,h,y,!0,[m.file],[u],void 0,void 0,m.waveformData,void 0,e.to_string(a),C)}l.default=u}),98);
__d("issueLSMediaSendJobs",["ArmadilloDataTraceCheckPoint","I64","LSAppendDataTraceAddonStoredProcedure","LSFactory","LSGenerateTraceId","LSInsertNewMediaSendStoredProcedure","LSMarkSubJobCompletedV2StoredProcedure","MWConsole","MWMediaTraceHandler","MWPOpenComposerUtils","MessagingLoggingUtils","gkx","updateAndFlushLSDataTrace"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,r,a){n!=null&&await o("MWMediaTraceHandler").logMediaSendStart(t,n,r,(e||(e=o("I64"))).of_int32(a))}async function u(t,n,a){a!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(t),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:a,syncChannel:(e||(e=o("I64"))).minus_one,tags:n})}async function c(t,n,a,i,l){var c=r("LSGenerateTraceId")(),d=l[0],m=o("MessagingLoggingUtils").convertI64ToAttachmentType(d.attachmentType);await s(t,c,(e||(e=o("I64"))).of_int32(i.length),m);var p=0,_=i.map(async function(i,s){await r("LSInsertNewMediaSendStoredProcedure")(r("LSFactory")(t),{attachmentType:i.attachment_type,inMessageIndex:(e||(e=o("I64"))).of_int32(s),isSecure:!1,offlineAttachmentId:i.attachment_fbid,offlineThreadingId:a,sendByServer:!1,shouldTranscode:!1,useDoublePhase:!1}),await o("MWPOpenComposerUtils").updateMediaStaging(t,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})});var u=l.find(function(e){return e.offlineAttachmentId===i.offline_attachment_id});if(u!=null){var c=u.fbid;c!=null&&(await r("LSMarkSubJobCompletedV2StoredProcedure")(r("LSFactory")(t),{fbid:c,offlineAttachmentId:i.attachment_fbid}),await o("MWPOpenComposerUtils").deleteMediaStaging(t,i.attachment_fbid),await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(t){return babelHelpers.extends({},t,{attachmentFbid:(e||(e=o("I64"))).to_string(c)})}),p++)}r("gkx")("24136")&&await o("MWPOpenComposerUtils").updateAttachment(t,n,a,i.attachment_fbid,function(e){return babelHelpers.extends({},e,{previewHeight:void 0,previewWidth:void 0})})});return await Promise.allSettled(_),await o("MWPOpenComposerUtils").resumeSendJob(r("LSFactory")(t),a,c),await u(t,e.to_string(n),c),await r("updateAndFlushLSDataTrace")(t,c),{sentWithAllFilesUploaded:p===i.length}}l.default=c}),98);
__d("issueSendInstamadilloMediaMessage",["IGDBridgedAPI","MWPOpenComposerUtils","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t,n){r("promiseDone")(r("IGDBridgedAPI").sendMediaMessage({offlineThreadingId:n}));var a=t.map(async function(t){await o("MWPOpenComposerUtils").updateMediaStaging(e,t.attachment_fbid,function(e){return babelHelpers.extends({},e,{isSent:!0})})});await Promise.allSettled(a)}l.default=e}),98);
__d("mapSlideMessageSendStatusToLSStatusV2",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e==="OPTIMISTIC"?1:e==="AUTHORITATIVE"?2:e==="ERROR"?t===!0?5:4:e==="UNKNOWN"?2:e==null?0:(function(){throw Error("Match: No case succesfully matched. Make exhaustive or add a wildcard case using '_'. Argument: "+e)})()}i.default=e}),66);
__d("mlcErrorHandler__INTERNAL",["getPrivacyAwareEditorState"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var o=document.activeElement,a=null;o!=null&&(a={activeElement:o.nodeName,rootSelected:o===t.getRootElement()});var i=window.event,l=null;i!=null&&(l={altKey:i.altKey,ctrlKey:i.ctrlKey,data:i.data,inputType:i.inputType,isComposing:i.isComposing,keyCode:i.keyCode,metaKey:i.metaKey,shiftKey:i.shiftKey,type:i.type});var s=null;try{s=r("getPrivacyAwareEditorState")(t.getEditorState())}catch(e){}n(JSON.stringify({activeElement:a,editorState:s,error:e,event:l}))}l.default=e}),98);
__d("mwpLexicalCreateEditor",["CometLexicalEmojiNode","FBLogger","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","mlcErrorHandler__INTERNAL"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,o("CometLexicalEmojiNode").EmojiNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode],s=babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r",text:{base:"x3jgonx"}});function u(t){var n,a,i=o("Lexical").createEditor({namespace:"MWPEditor",nodes:(n=t==null?void 0:t.nodes)!=null?n:e.filter(Boolean),onError:function(t){return r("mlcErrorHandler__INTERNAL")(t,i,function(e){r("FBLogger")("messenger_web").catching(t).mustfix("Lexical Error MWP: %s",e)})},theme:(a=t==null?void 0:t.theme)!=null?a:s});return i}l.default=u}),98);
__d("useEnabledForWorkchatOnly",["MessengerSurfaceType","WorkGalahadMWChatTabContext.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useMemo;function d(){var e=u(o("WorkGalahadMWChatTabContext.react").context);return e.surface===o("MessengerSurfaceType").workQuickchat||e.surface===o("MessengerSurfaceType").workChat||e.surface===o("MessengerSurfaceType").workMeetingsInCall}l.default=d}),98);
__d("useIGDChatTabsMessagingSource.react",["I64","IGDChatTabsStateContext.react","IGDChatTabsStateTypes","MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),r=o("IGDChatTabsStateContext.react").useIGDChatTabsState();if(n==="ChatTab"){var a,i=r==null?void 0:r.openedTabs.get((e||(e=o("I64"))).to_string(t));return(a=i==null?void 0:i.source)!=null?a:o("IGDChatTabsStateTypes").IGDChatTabsMessagingInitiationSource.Unknown}return null}l.default=s}),98);
__d("useIGDReplyOnLS",["I64","IGDReplyContext.react","LSIntEnum","MWPReplyContext.react","mapSlideMessageSendStatusToLSStatusV2","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(){var e=c(o("MWPReplyContext.react").MWPReplyContext),t=e.reply,n=o("IGDReplyContext.react").useIGDReplyContext();return t==null&&n==null?null:t!=null?t:m(n)}function m(e){var t,n,a;return e==null?null:{isReported:(t=e.message.is_reported)!=null?t:!1,messageId:e.message.message_id,offlineThreadingId:e.message.offline_threading_id,sendStatusV2:(s||(s=o("LSIntEnum"))).ofNumber(r("mapSlideMessageSendStatusToLSStatusV2")(e.message.client__send_status)),text:(n=(a=e.message.content)==null?void 0:a.text_body)!=null?n:"",threadKey:(u||(u=o("I64"))).of_string(e.message.thread_fbid),timestampMs:u.of_string(e.message.timestamp_ms)}}l.default=d}),98);
__d("useLexicalInitializeEditor__DEPRECATED",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e){s(function(){e.update(function(){var t=o("Lexical").$getRoot();if(t.isEmpty()){var n=o("Lexical").$createParagraphNode();t.append(n);var r=document.activeElement;(o("Lexical").$getSelection()!==null||r!==null&&r===e.getRootElement())&&n.select()}})},[e])}l.default=u}),98);
__d("useMAWDeleteLinkPreviewXMATableData",["FBLogger","Int64Hooks","LSMessagingThreadTypeUtil","getErrorSafe","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=r("useAsyncReStore")(),a;t[0]!==e?(a=e!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),t[0]=e,t[1]=a):a=t[1];var l=a,s;return t[2]!==n||t[3]!==l?(s=async function(t){var e=t.draftId;if(l){var o=await n,a=await o.runInTransaction(async function(t){var n=null;return await t.e2ee_composer_draft_link_preview.get(e).then(function(e){var t,r=JSON.parse((t=e==null?void 0:e.data)!=null?t:"{}");n=r.iframeMediaURL}),await t.e2ee_composer_draft_link_preview.delete(e),n},"readwrite",void 0,void 0,i.id+":41");if(a!=null)try{URL.revokeObjectURL(a)}catch(e){var s=e,u=r("getErrorSafe")(s);r("FBLogger")("messenger_web_sharing").mustfix("Failed to revoke the object URL with, failed with error: %s",u.message)}}},t[2]=n,t[3]=l,t[4]=s):s=t[4],o("Int64Hooks").useCallbackInt64(s)}l.default=e}),98);
__d("useMAWFetchAndWriteLinkPreviewXMATableData",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FBLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWExternalLinkUtil","MAWPreProcessLinkPreviewQPL","getErrorSafe","getRequestConstUri","isFacebookURI","promiseDone","react-compiler-runtime","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){var e=!1;return{abort:function(){e=!0},isAborted:function(){return e}}};function u(e){var t=o("react-compiler-runtime").c(9),n=e.threadKey,a=e.threadType,i=r("useAsyncReStore")(),l;t[0]!==a?(l=a!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a),t[0]=a,t[1]=l):l=t[1];var u=l,p=r("useMAWDeleteLinkPreviewXMATableData")(a),_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_=r("getRequestConstUri")(),t[2]=_):_=t[2];var f=_,g=r("useXMAPreviewsDisabledSetting")(),h;return t[3]!==i||t[4]!==p||t[5]!==g||t[6]!==u||t[7]!==n?(h=function(t){var e=t.draftId,a=t.urls,l=s(),_=async function(){if(u){var t=o("ConstUriUtils").getUri(a[0].entity.url);if(t!=null){var s=o("MAWPreProcessLinkPreviewQPL").startMediaPreProcessLinkPreviewQpl({draftId:e,url:t.toString()}),_=r("isFacebookURI")(t),h=r("isFacebookURI")(f),y=_&&h;if(_&&g){c({abortToken:l,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_fb_disabled",status:r("E2EELinkPreviewXMADataStatus").DISABLED,threadKey:n,xmaData:null}),s.endCancel({string:{cancel_reason:"fb_xmas_disabled"}},706);return}c({abortToken:l,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_loading_status",status:r("E2EELinkPreviewXMADataStatus").LOADING,threadKey:n,xmaData:{title:t.getDomain(),url:t.toString()}}),s.addAnnotations({bool:{should_fetch_from_og:y},string:{link_type:_?"facebook":"external"}});var C=y?await d(t.toString(),s):await m(a,s),b=C.dataType,v=C.xmaData;c({abortToken:l,dataType:b,dbPromise:i,deleteLinkPreviewXMATableData:p,draftId:e,qplEvent:s,qplSubspanPoint:"write_xma_data",status:r("E2EELinkPreviewXMADataStatus").LOADED,threadKey:n,xmaData:v})}}};return _(),l},t[3]=i,t[4]=p,t[5]=g,t[6]=u,t[7]=n,t[8]=h):h=t[8],o("Int64Hooks").useCallbackInt64(h)}function c(t){var n=t.abortToken,a=t.dataType,l=t.dbPromise,s=t.deleteLinkPreviewXMATableData,u=t.draftId,c=t.qplEvent,d=t.qplSubspanPoint,m=t.status,p=t.xmaData;if(c.addAnnotations({int:{data_type:a}}),n.isAborted()){c.endCancel({string:{cancel_reason:"fetch_aborted"}},706);return}c.addPoint(d+"_start"),r("promiseDone")(l,function(t){return t.runInTransaction(function(t){return t.e2ee_composer_draft_link_preview.put({data:p!=null?JSON.stringify(p):void 0,dataType:a!=null?(e||(e=o("I64"))).of_int32(a):void 0,draftId:u,status:(e||(e=o("I64"))).of_int32(m)})},"readwrite",void 0,void 0,i.id+":214").then(function(e){n.isAborted()&&(c.endCancel({string:{cancel_reason:"fetch_aborted_delete"}},706),s({draftId:e[0]})),c.addPoint(d+"_success"),d==="write_xma_data"&&c.endSuccess()}).catch(function(e){c.endFail(d+"_failed",{string:{data_status:String(m),error:"Error thrown when writing Link Preview XMA data to LSDB table. Error: "+e}}),r("FBLogger")("messenger_web_sharing").catching(e).mustfix("Failed to write Link Preview XMA data to LSDB table.")})})}async function d(e,t){var n,a;t.addPoint("fetch_fb_og_data_start");var i=(n=(a=o("ConstUriUtils").getUri(e))==null?void 0:a.getDomain())!=null?n:e;try{var l,s,u;t.addPoint("http_request_start");var c=await window.fetch(e,{credentials:"omit",referrerPolicy:"no-referrer"});if(t.addPoint("http_response_end"),!c.ok)return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"http_response_error",response_status_code:String(c.status),xma_data_returned:"fallback"}}),p(i,e);var d=await c.text(),m=new DOMParser,_=m.parseFromString(d,"text/html");_.querySelector("parsererror")&&t.addPoint("html_parsererror");var f=(l=_.querySelector('meta[property="og:image"]'))==null?void 0:l.getAttribute("content"),g=(s=_.querySelector('meta[name="description"]'))==null?void 0:s.getAttribute("content"),h=(u=_.querySelector('meta[property="og:title"]'))==null?void 0:u.getAttribute("content");return f==null&&g==null&&h==null?(t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"og_data_is_null",xma_data_returned:"fallback"}}),p(i,e)):(t.addPoint("fetch_fb_og_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").FB_CLIENT_FETCH,xmaData:{author_name:g!=null?g:void 0,iframeMediaURL:f,thumbnail_url:f!=null?f:void 0,title:h!=null?h:i,url:e}})}catch(n){return t.addPoint("fetch_fb_og_data_end",{string:{fetch_fb_og_data_end:"failed_to_fetch_data",xma_data_returned:"fallback"}}),p(i,e)}}async function m(e,n){var a,i,l;n.addPoint("fetch_external_link_oembed_data_start");var s=o("MAWExternalLinkUtil").findFirstAvailableOembedUrlAndRequestPair(e),u=e[0].entity.url,c=null;if(s!=null){u=s.oEmbedUrl;try{n.addPoint("get_oembed_response_start"),c=await o("MAWExternalLinkUtil").getOembedResponse({fallbackUrl:u,qplEvent:n,request:s.oEmbedRequest}),n.addPoint("get_oembed_response_success")}catch(e){var d=r("getErrorSafe")(e);n.addPoint("get_oembed_response_returned_null",{string:{get_oembed_response_returned_null:"Error thrown when fetching oEmbed data for External Link XMA. Error message: "+d.message}}),n.addPoint("get_oembed_response_end"),r("FBLogger")("messenger_web_sharing").catching(d).mustfix("[External link] Error thrown when fetching oEmbed data for External Link XMA.")}}var m=(a=o("ConstUriUtils").getUri(u))==null?void 0:a.getDomain();if(c==null)return n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"fallback"}}),p(m!=null?m:u,u);n==null||n.addPoint("get_image_blob_response_start");var _=await o("MAWExternalLinkUtil").getImageBlobResponse({qplEvent:n,xmaData:c}),f=null;if(_!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(_.type)){var g=new File([_],"preview",{type:_.type});f=t.URL.createObjectURL(g)}return n==null||n.addPoint("get_image_blob_response_end",{bool:{media_url_is_null:f==null}}),n.addPoint("fetch_external_link_oembed_data_success",{string:{xma_data_returned:"rich_xma"}}),{dataType:r("E2EELinkPreviewXMADataType").OEMBED,xmaData:babelHelpers.extends({iframeMediaURL:f},c,{title:(i=c.title)!=null?i:m,url:(l=c.url)!=null?l:u})}}function p(e,t){return{dataType:r("E2EELinkPreviewXMADataType").FALLBACK,xmaData:{title:e,url:t}}}l.default=u}),98);
__d("useMWComposerAriaDescribedBy",["fbt","I64","Int64Hooks","MWPActor.react","ReQL","ReQLSuspense","intlList","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u;function c(t){var n=o("react-compiler-runtime").c(12),a=t.threadKey,l=t.threadName,c=(u||(u=r("useReStore")))(),d=o("MWPActor.react").useActor(),m;n[0]!==c.tables.contacts||n[1]!==c.tables.participants||n[2]!==a?(m=function(){return o("ReQL").fromTableAscending(c.tables.participants,["contactId"]).getKeyRange(a).map(function(e){return o("ReQLSuspense").first(o("ReQL").fromTableAscending(c.tables.contacts).getKeyRange(e.contactId),i.id+":33")})},n[0]=c.tables.contacts,n[1]=c.tables.participants,n[2]=a,n[3]=m):m=n[3];var p;n[4]!==c||n[5]!==a?(p=[c,a],n[4]=c,n[5]=a,n[6]=p):p=n[6];var _=o("ReQLSuspense").useArray(m,p,i.id+":28"),f,g;return n[7]!==d||n[8]!==_||n[9]!==l?(f=function(){if(l!=null)return s._(/*BTDS*/"Write to {name of conversation}",[s._param("name of conversation",l)]);var t=r("intlList")(_.map(function(t){if(t!=null&&!(e||(e=o("I64"))).equal(t.id,d))return t.name}).filter(Boolean),r("intlList").CONJUNCTIONS.AND,r("intlList").DELIMITERS.COMMA);return s._(/*BTDS*/"Write to {participant list}",[s._param("participant list",t)])},g=[_,l,d],n[7]=d,n[8]=_,n[9]=l,n[10]=f,n[11]=g):(f=n[10],g=n[11]),o("Int64Hooks").useMemoInt64(f,g)}l.default=c}),226);
__d("useMWIsOffline",["CometSSRRenderingStateHooks","NetworkStatus","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(){var e=o("react-compiler-runtime").c(4),t=o("CometSSRRenderingStateHooks").useIsServerRenderingOrHydrating(),n;e[0]!==t?(n=!r("NetworkStatus").isOnline()&&!t,e[0]=t,e[1]=n):n=e[1];var a=c(n),i=a[0],l=a[1],s,d;return e[2]===Symbol.for("react.memo_cache_sentinel")?(s=function(){var e=r("NetworkStatus").onChange(function(e){var t=e.online;l(!t)});return(function(){e.remove()})},d=[],e[2]=s,e[3]=d):(s=e[2],d=e[3]),u(s,d),i}l.default=d}),98);
__d("useMWLSAcceptMessageRequest",["Int64Hooks","LSFactory","LSOptimisticAcceptMessageRequestStoredProcedure","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;return n[0]!==a||n[1]!==t?(l=function(){r("promiseDone")(a.runInTransaction(function(e){return r("LSOptimisticAcceptMessageRequestStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":25"))},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]),o("Int64Hooks").useCallbackInt64(l,s)}l.default=s}),98);
__d("useMWLSDefaultThreadSourceWithResetBasedOnThreadType",["LSThreadAttributionTypeUtil","MWGenAIUtils","react","react-compiler-runtime","useLSMessagingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useLSMessagingSource")(),n;return e[0]!==t?(n=function(n){return o("MWGenAIUtils").isMetaAIThread(n)?o("LSThreadAttributionTypeUtil").getSourceWithoutReset(n,t):o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(n,t)},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("useMWLSSaveDrafts",["CometDebounce","Int64Hooks","LexicalText","MWDraftMessages.react","MWPComposerDraftMessages","MWPNewMessageDraftContext.react","isStringNullOrEmpty","justknobx","react","react-compiler-runtime","useMAWDeleteLinkPreviewXMATableData","useMAWFetchAndWriteLinkPreviewXMATableData","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=r("justknobx")._("3119");function c(e){var t=o("react-compiler-runtime").c(16),n=e.editor,a=e.isPreviewThread,i=e.subthreadParentMessageId,l=e.threadKey,s=e.threadType,c=o("MWDraftMessages.react").useMWUpdateDraft(),m;t[0]!==l||t[1]!==s?(m={threadKey:l,threadType:s},t[0]=l,t[1]=s,t[2]=m):m=t[2];var p=r("useMAWFetchAndWriteLinkPreviewXMATableData")(m),_=r("useMAWDeleteLinkPreviewXMATableData")(s),f=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),g;t[3]!==_||t[4]!==p||t[5]!==a||t[6]!==f||t[7]!==i||t[8]!==l||t[9]!==s||t[10]!==c?(g=function(t){a&&f!=null?f.current=t:(c==null||c(l,t,i),o("MWPComposerDraftMessages").updateDraftMessage({deleteLinkPreviewXMATableData:_,fetchAndWriteLinkPreviewXMA:p,message:t,subthreadParentMessageId:i,threadKey:l,threadType:s}))},t[3]=_,t[4]=p,t[5]=a,t[6]=f,t[7]=i,t[8]=l,t[9]=s,t[10]=c,t[11]=g):g=t[11];var h=g,y,C;t[12]!==n||t[13]!==h?(y=function(){n.registerUpdateListener(r("CometDebounce")(function(e){var t=e.editorState;r("vulture")("KeqOUuaMdqaSaGiBnklN6mG4UtY=");var n=t.read(d);if(r("isStringNullOrEmpty")(n)){h(n);return}h(n)},{wait:u}))},C=[u,n,h],t[12]=n,t[13]=h,t[14]=y,t[15]=C):(y=t[14],C=t[15]),o("Int64Hooks").useEffectInt64(y,C)}function d(){return o("LexicalText").$rootTextContent()}l.default=c}),98);
__d("useMWMarkThreadAsReadWhenNewMessagesArrive",["I64","Int64Hooks","MWLSThreadDisplayContext","MWV2IsTabFocusedContext.react","ReQL","ReQLObservable","UserActivity","cr:268","promiseDone","react-compiler-runtime","useAsyncReStore","useEmptyFunction","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e=n("cr:268"))!=null?e:r("useEmptyFunction");async function d(e,t,n,a){var i=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.tables.messages).getKeyRange(t));if(i==null)return!1;var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.threads).getKeyRange(t));if(l==null)return!1;var s=a!==void 0&&a==="ChatTab"?n:!0,c=(u||(u=o("I64"))).gt(i.timestampMs,l.lastActivityTimestampMs)?i.timestampMs:l.lastActivityTimestampMs,d=(u||(u=o("I64"))).gt(c,l.lastReadWatermarkTimestampMs);return r("UserActivity").isOnTab()&&r("UserActivity").isActive()&&s&&d}function m(e,t){var n=o("react-compiler-runtime").c(7),a=r("useAsyncReStore")(),i=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s,u;return n[0]!==a||n[1]!==i||n[2]!==t||n[3]!==l||n[4]!==e?(s=function(){r("promiseDone")((async function(){var n=await a;if(await d(n,e,i,l))return t()})())},u=[a,e,i,l,t],n[0]=a,n[1]=i,n[2]=t,n[3]=l,n[4]=e,n[5]=s,n[6]=u):(s=n[5],u=n[6]),o("Int64Hooks").useCallbackInt64(s,u)}function p(e,t,n,a){var i=o("react-compiler-runtime").c(7),l=(s||(s=r("useReStore")))(),u,c;i[0]!==e||i[1]!==t||i[2]!==l||i[3]!==n||i[4]!==a?(u=function(){var r=async function(){var r=e();if(typeof r!="boolean"&&(r=await r),r&&!t())return n()};window.addEventListener("focus",r),document.hasFocus()&&r();var i=o("ReQLObservable").create(l,function(){return o("ReQL").fromTableDescending(l.tables.messages).getKeyRange(a)}).subscribe({next:r});return(function(){window.removeEventListener("focus",r),i.unsubscribe()})},c=[n,e,t,a,l],i[0]=e,i[1]=t,i[2]=l,i[3]=n,i[4]=a,i[5]=u,i[6]=c):(u=i[5],c=i[6]),o("Int64Hooks").useEffectInt64(u,c)}function _(e,t,n,r){var o=m(e.threadKey,t);return c(e),p(n,r,o,e.threadKey),o}l.default=_}),98);
__d("useMWPAriaLabelForMessageListGrid",["fbt","Int64Hooks","MWPActor.react","MWPGetThreadTitle","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t){var n=o("react-compiler-runtime").c(11),a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),u,c;n[0]!==l||n[1]!==t.threadKey||n[2]!==t.threadName?(u=function(){return t.threadName!=null?o("ReQL").empty():o("ReQL").leftJoin(o("ReQL").fromTableAscending(l.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(l.tables.contacts,["name","rank","contactType","firstName","capabilities","capabilities2"])).take(8)},c=[l,t.threadKey,t.threadName],n[0]=l,n[1]=t.threadKey,n[2]=t.threadName,n[3]=u,n[4]=c):(u=n[3],c=n[4]);var d=o("ReQLSuspense").useArray(u,c,i.id+":32"),m,p;return n[5]!==a||n[6]!==d||n[7]!==t.threadName||n[8]!==t.threadType?(m=function(){var e;if(t.threadName!=null)return s._(/*BTDS*/"Messages in conversation titled {name of conversation}",[s._param("name of conversation",t.threadName)]).toString();var n=(e=o("MWPGetThreadTitle").computeThreadTitle(void 0,t.threadType,d,a))!=null?e:"";return s._(/*BTDS*/"Messages in conversation with {participant list}",[s._param("participant list",n)]).toString()},p=[a,d,t.threadName,t.threadType],n[5]=a,n[6]=d,n[7]=t.threadName,n[8]=t.threadType,n[9]=m,n[10]=p):(m=n[9],p=n[10]),o("Int64Hooks").useMemoInt64(m,p)}l.default=u}),226);
__d("useMWPComposerAutoFocus",["HiddenSubtreePassiveContext","IGDReplyContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWV2IsTabFocusedContext.react","deepEquals","react","useMWGetInboxFocusTargetFromRoute","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect;function m(e,t){var n,r=t.getCurrentState(),o=r.hiddenOrBackgrounded;if(!o){var a=(n=document.activeElement)==null||(n=n.attributes.getNamedItem("id"))==null?void 0:n.value;if(!(a!=null&&a.includes("prevent-composer-focus-steal")))return e.focus(function(){})}}function p(e){var t=e.editor,n=e.focusEditorDelayed,a=e.hasUnsentAttachments,i=a===void 0?!1:a,l=e.isPreviewThread,s=l===void 0?!1:l,p=e.isQuickchat,_=c(r("HiddenSubtreePassiveContext")),f=o("MWChatFocusComposerContext").useMWChatFocusComposer(),g=f.setFocusComposer,h=c(o("MWPReplyContext.react").MWPReplyContext),y=h.reply,C=r("usePrevious")(y),b=o("IGDReplyContext.react").useIGDReplyContext(),v=r("usePrevious")(b);d(function(){((C==null?y!=null:!r("deepEquals")(C,y))||(v==null?b!=null:!r("deepEquals")(v,b)))&&(p&&n?n(t):m(t,_))},[t,y,C,n,p,_,v,b]);var S=r("useMWGetInboxFocusTargetFromRoute")(),R=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),L=S===0&&R&&!s;d(function(){L&&(p&&n?n(t):m(t,_))},[t,L,n,p,_]),d(function(){i&&(p&&n?n(t):m(t,_))},[t,i,n,p,_]),g(u(function(){p&&n?n(t):m(t,_)},[t,n,_,p]))}l.default=p}),98);
__d("usePrepopulateLexicalEditor",["Lexical","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t,n){s(function(){t!=null&&e.update(function(){if(t!=null){var e=o("Lexical").$getRoot(),r=e.getFirstChild();o("Lexical").$isParagraphNode(r)||(r=o("Lexical").$createParagraphNode(),e.append(r));var a=o("Lexical").$createTextNode(t);r.clear(),r.append(a),n===!0&&r.selectEnd()}})},[e])}l.default=u}),98);
__d("useMWPComposerEditorDraftText",["MWPComposerDraftMessages","MWPNewMessageDraftContext.react","MWPreloadedText","react","useMWLSSaveDrafts","usePrepopulateLexicalEditor"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useContext;function u(e){var t,n=e.editor,a=e.isPreviewThread,i=a===void 0?!1:a,l=e.isQuickchat,u=l===void 0?!1:l,c=e.subthreadParentMessageId,d=e.threadKey,m=e.threadType,p=o("MWPNewMessageDraftContext.react").useNewMessageDraftContext(),_=s(r("MWPreloadedText")),f=_.text!=null?_.text:p!=null?p.current:(t=o("MWPComposerDraftMessages").getDraftMessage(d,c))==null?void 0:t.messageText;return r("useMWLSSaveDrafts")({editor:n,isPreviewThread:i,subthreadParentMessageId:c,threadKey:d,threadType:m}),r("usePrepopulateLexicalEditor")(n,u?void 0:f,!0),f}l.default=u}),98);
__d("useMWPLexicalClearEditor",["Lexical","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useLayoutEffect;function u(e,t){var n=o("react-compiler-runtime").c(4),r=t===void 0?!1:t,a,i;n[0]!==r||n[1]!==e?(a=function(){return e.registerCommand(o("Lexical").CLEAR_EDITOR_COMMAND,function(){return e.update(function(){var e=o("Lexical").$getRoot(),t=o("Lexical").$getSelection(),n=o("Lexical").$createParagraphNode();e.clear(),e.append(n),t!==null&&(n.select(),r===!0&&o("Lexical").$isRangeSelection(t)&&(t.format=0))}),!0},o("Lexical").COMMAND_PRIORITY_EDITOR)},i=[r,e],n[0]=r,n[1]=e,n[2]=a,n[3]=i):(a=n[2],i=n[3]),s(a,i)}l.default=u}),98);
__d("useMWPLexicalCommitMessageOnEnter",["Lexical","MLCInstrumentationCommands","MLCKeyBindingUtil","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useRef,d=250;function m(e,t){var n=o("react-compiler-runtime").c(4),a=c(null),i,l;n[0]!==e||n[1]!==t?(i=function(){return e.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(n){var i=n;if(o("MLCKeyBindingUtil").hasCommandModifier(i)&&r("gkx")("13931")&&!r("gkx")("23402"))return!1;if(i!=null&&!i.shiftKey&&!i.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(i))){i.preventDefault();var l=a.current;return l!=null&&i.timeStamp-l<=d?(a.current=i.timeStamp,!0):(e.dispatchCommand(o("MLCInstrumentationCommands").COMMIT_COMMAND,"create"),t(),a.current=i.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},l=[e,t],n[0]=e,n[1]=t,n[2]=i,n[3]=l):(i=n[2],l=n[3]),u(i,l)}l.default=m}),98);
__d("useMWXLexicalHasText",["LexicalText","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useLayoutEffect,m=s.useReducer,p=s.useRef,_=s.useState;function f(e){return e.getEditorState().read(o("LexicalText").$isRootTextContentEmptyCurry(e.isComposing()))}function g(e){var t=o("react-compiler-runtime").c(5),n;t[0]!==e?(n=function(){return!f(e)},t[0]=e,t[1]=n):n=t[1];var r=_(n),a=r[0],i=r[1],l,s;return t[2]!==e?(l=function(){return e.registerUpdateListener(function(){i(!f(e))})},s=[e],t[2]=e,t[3]=l,t[4]=s):(l=t[3],s=t[4]),c(l,s),a}function h(e){"use no forget";var t=e.editor,n=e.initialValue,r=p(n);return{useHasText:u(function(){var e,n=p((e=r.current)!=null?e:!1);return c(function(){n.current=!1},[]),g(t)||n.current},[t])}}function y(e){var t=o("react-compiler-runtime").c(2),n=e.editor,r=e.initialValue,a=_(r!=null?r:!1),i=a[0],l=m(C,!1),s=l[0],u=l[1],c,p;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=function(){u()},p=[],t[0]=c,t[1]=p):(c=t[0],p=t[1]),d(c,p);var f=g(n);return f||!s&&i}function C(){return!0}l.useMWXLexicalHasText_DEPRECATED=h,l.useMWXLexicalHasText=y}),98);
__d("useMWXLexicalOnTypingChanged",["LexicalText","MWXUseLatch","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(6),n=e.editor,r=e.onTypingStateChanged,a=o("MWXUseLatch").useLatch(r,!0,5e3),i=a[0],l=a[1],s=c(""),d,p;t[0]!==n||t[1]!==i||t[2]!==l?(d=function(){var e=function(t){var e=t.editorState.read(m);if(e!==s.current)return s.current=e,e===""?l():i()};return n.registerUpdateListener(e)},p=[i,l,n],t[0]=n,t[1]=i,t[2]=l,t[3]=d,t[4]=p):(d=t[3],p=t[4]),u(d,p);var _;return t[5]===Symbol.for("react.memo_cache_sentinel")?(_={},t[5]=_):_=t[5],_}function m(){return o("LexicalText").$rootTextContent()}l.default=d}),98);
__d("useMWPComposerEditor",["Int64Hooks","Lexical","LexicalText","MWChatMessagesOnChatTabLoadTracker","MWDraftMessages.react","MWFBLogger","MWPComposerDraftMessages","MWV2ChatComposerGetViewContent","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","cr:7101","emptyFunction","mwpLexicalCreateEditor","react","useIsMessengerPWA","useLexicalInitializeEditor__DEPRECATED","useMWIsOffline","useMWPComposerAutoFocus","useMWPComposerEditorDraftText","useMWPLexicalClearEditor","useMWPLexicalCommitMessageOnEnter","useMWXLexicalHasText","useMWXLexicalOnTypingChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useMemo,m=s.useRef;function p(e){}var _=n("cr:7101")==null?p:n("cr:7101").useMWComposerKeyCommandFocusRegister,f=[],g=function(t){return t.read(function(){return o("LexicalText").$rootTextContent()})};function h(e){var t=e.customizedRanges,n=e.getTextFromEditorState,a=n===void 0?g:n,i=e.isPreviewThread,l=i===void 0?!1:i,s=e.isSendDisabled,p=s===void 0?!1:s,h=e.mediaStaging,y=h===void 0?f:h,C=e.onSendMessage,b=e.onTypingStateChanged,v=e.threadKey,S=e.clearFormatAfterSend,R=e.isQuickchat,L=R===void 0?!1:R,E=e.focusEditorDelayed,k=e.editorNodes,I=e.editorTheme,T=e.threadType,D=e.composerEntrypointForLogging,x=e.subthreadParentMessageId,$=m(null),P=d(function(){return r("mwpLexicalCreateEditor")({nodes:k,theme:I})},[k,I]),N=y.length>0;r("useLexicalInitializeEditor__DEPRECATED")(P),r("useMWPLexicalClearEditor")(P,S),r("useMWPComposerAutoFocus")({editor:P,focusEditorDelayed:E,hasUnsentAttachments:N,isPreviewThread:l,isQuickchat:L});var M=r("useMWPComposerEditorDraftText")({editor:P,isPreviewThread:l,isQuickchat:L,subthreadParentMessageId:x,threadKey:v,threadType:T}),w=o("MWDraftMessages.react").useMWUpdateDraft(),A=o("useMWXLexicalHasText").useMWXLexicalHasText({editor:P,initialValue:M!=null&&M!==""}),F=A||N,O=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),B=O.hasContentRef;c(function(){B!=null&&(B.current=A)},[A,B]),r("useMWXLexicalOnTypingChanged")({editor:P,onTypingStateChanged:b});var W=u(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),q=W.onMessageSendAttempt,U=r("useMWIsOffline")(),V=r("useIsMessengerPWA")(),H=U&&V,G=o("Int64Hooks").useCallbackInt64(function(){var e;if(!H){var n=(e=o("MWPComposerDraftMessages").getDraftMessage(v,x))==null?void 0:e.id;if(o("MWPComposerDraftMessages").updateDraftMessage({message:null,subthreadParentMessageId:x,threadKey:v}),w==null||w(v,null,x),q==null||q(F),!!F){o("MWChatMessagesOnChatTabLoadTracker").trackSendFor(v),o("MWFBLogger").MWLogger().tags(["MWPComposerEditor","Composer"]).debug("Calling onSendMessage");var i=t!=null?t(P,o("MWPComposerDraftMessages").getNonEmptyDraftMessageKey(v,x)):r("MWV2ChatComposerGetViewContent").getRanges(P),l=P.getEditorState(),s=a(l);P.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND),C(s,i,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,D),P.focus()}}},[w,H,q,F,P,v,t,a,C,D,x]),z=p?r("emptyFunction"):G;return r("useMWPLexicalCommitMessageOnEnter")(P,z),_($.current),{editor:P,editorElementRef:$,hasStuffToSend:F,sendMessage:z}}l.default=h}),98);
__d("useMWPSafelyMarkThreadAsRead",["I64","Int64Hooks","LSFactory","LSMessagingThreadTypeUtil","LSOptimisticMarkThreadReadV2StoredProcedure","ServerTime","cr:886","promiseDone","react-compiler-runtime","useAsyncReStore","useMAWMarkThreadAsRead","useMWMarkThreadAsReadWhenNewMessagesArrive","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a,l,s){var u=o("react-compiler-runtime").c(13),c=r("useAsyncReStore")(),d=t.consistentThreadFbid,m=t.threadKey,p=t.threadType,_=r("useMWPThreadHasSpectraUser")(m),f=r("useMAWMarkThreadAsRead")(t),g;u[0]!==d||u[1]!==s||u[2]!==m||u[3]!==p?(g={consistentThreadFbid:d,entryPoint:s,threadKey:m,threadType:p},u[0]=d,u[1]=s,u[2]=m,u[3]=p,u[4]=g):g=u[4];var h=n("cr:886")(g),y,C;u[5]!==c||u[6]!==h||u[7]!==f||u[8]!==_||u[9]!==m||u[10]!==p?(y=function(){if(!_){if(h==null||h(),o("LSMessagingThreadTypeUtil").isArmadilloSecure(p)){f();return}r("promiseDone")(c,function(t){return t.runInTransaction(function(t){return r("LSOptimisticMarkThreadReadV2StoredProcedure")(r("LSFactory")(t),{readWatermarkTimestampMs:(e||(e=o("I64"))).of_float(o("ServerTime").getMillis()),threadKey:m})},"readwrite","ui",void 0,i.id+":67")})}},C=[c,h,f,_,m,p],u[5]=c,u[6]=h,u[7]=f,u[8]=_,u[9]=m,u[10]=p,u[11]=y,u[12]=C):(y=u[11],C=u[12]);var b=o("Int64Hooks").useCallbackInt64(y,C);return r("useMWMarkThreadAsReadWhenNewMessagesArrive")(t,b,a,l)}l.default=s}),98);
__d("useMWV2FileDropzoneRegisterHandler",["MWV2FileDropzone.react","react","react-compiler-runtime","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=o("react-compiler-runtime").c(5),n=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext),a=r("useMWIsHDMediaEnabled")(),i,l;t[0]!==n||t[1]!==a||t[2]!==e?(i=function(){var t={enabled:!0,handler:function(n){return e(n,a)}};return n.current=t,(function(){t.enabled=!1,t.handler=null})},l=[n,e,a],t[0]=n,t[1]=a,t[2]=e,t[3]=i,t[4]=l):(i=t[3],l=t[4]),c(i,l)}l.default=d}),98);
__d("useMWV2SendOpenMessageImplShared",["ArmadilloDataTraceCheckPoint","ChatGeminiDisplayContextProvider.react","CometRelay","I64","IGDGetMessagePluginInfo","IGDReplyContext.react","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSAppendDataTraceAddonStoredProcedure","LSAuthorityLevel","LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSPendingTasksPluginType","LSShape","MWPActor.react","MWPReplyContext.react","MWPSendMessageLogger","MessagePowerUp","MessagingAttachmentType","ODS","ReQL","ReQLSuspense","WATimeUtils","createOptimisticTextSlideMessage","gkx","isMWBumpMessage","react","sendToSentQPLLogger","useLSMessagingInitiatingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=(s||(s=o("react"))).useContext;async function p(e,t,n){n!=null&&r("gkx")("23995")&&await r("LSAppendDataTraceAddonStoredProcedure")(r("LSFactory")(e),{checkPointId:o("ArmadilloDataTraceCheckPoint").armadilloTlcControlOpenThread,dataTraceId:n,syncChannel:(d||(d=o("I64"))).minus_one,tags:t})}function _(t){var n=t.authorityLevel,a=t.disableMarkRead,l=t.ephemeralDurationInSec,s=t.onOptimisticMessageCreation,_=t.skipUrlPreviewGen,f=t.threadKey,g=t.threadType,h=o("MWPActor.react").useActor(),y=m(o("MWPReplyContext.react").MWPReplyContext),C=y.reply,b=m(o("IGDReplyContext.react").IGDReplyContext),v=o("CometRelay").useRelayEnvironment(),S=r("useLSMessagingInitiatingSource")(),R=(e||(e=r("useReStore")))(),L=o("ChatGeminiDisplayContextProvider.react").useChatGeminiDisplayContext(),E=L.sideChatMainMessageId,k=o("ReQLSuspense").useFirst(function(){return(C==null?void 0:C.messageId)==null?o("ReQL").empty():o("ReQL").fromTableAscending(R.tables.messages.index("messageId")).getKeyRange(C.messageId)},[C==null?void 0:C.messageId,R.tables.messages],i.id+":149"),I=r("isMWBumpMessage")(k==null?void 0:k.replyType)?k==null?void 0:k.replySourceId:C==null?void 0:C.messageId,T=b==null?void 0:b.message.message_id;return o("Int64Hooks").useCallbackInt64(function(e,t){var i=t.accessibilityLabel,m=t.afterSend,y=t.attributionAppId,R=t.dataclassParams,L=t.dataTraceId,k=t.externalAttachmentUrl,D=t.hotEmojiSize,x=t.logSendPoint,$=t.mentionData,P=t.messageText,N=t.messageTypeParams,M=t.multitabEnv,w=t.optimisticAttachmentPreview,A=t.platformToken,F=t.pluginType,O=t.profileRanges,B=t.richTextFormatType,W=t.s2sInstanceKey,q=t.setupS2SLogging,U=t.source,V=t.sticker,H=t.traceSendMessageAPI,G=t.transaction;return z(G);async function z(t){var z=r("LSFactory")(t),j=r("gkx")("24135");await p(t,(d||(d=o("I64"))).to_string(f),L);var K=N.hasAttachment,Q=K===void 0?!1:K,X=N.hasGif,Y=X===void 0?!1:X,J=N.hasHotEmoji,Z=J===void 0?!1:J,ee=N.hasLinks,te=ee===void 0?!1:ee,ne=N.hasSticker,re=ne===void 0?!1:ne,oe=N.hasText,ae=oe===void 0?!1:oe,ie=await t.threads.get(f),le=te?o("IGDThreadTTLCUtils").isInstamadilloTTLCLinkEnabled(ie):o("IGDThreadTTLCUtils").isInstamadilloTTLCTextEnabled(ie),se=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(t,C,function(){return Promise.resolve({openEb:le,pluginType:le?(u||(u=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):F})}),ue=se.openEb,ce=se.pluginType,de=await r("LSOptimisticSendMessageV2StoredProcedure")(z,{dataclassParams:R!=null?JSON.stringify(R):void 0,extraSendMessageParams:o("LSShape").ofRecord({attribution_app_id:y,calculate_denormalizations:!1,data_trace_id:L!=null?L:void 0,ephemeral_duration_in_sec:l,external_attachment_url:k,hot_emoji_size:D,initiating_source:S,is_exclusive_to_subthread:E!=null,mark_read:a===!0?!1:(d||(d=o("I64"))).ge(n,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),mention_data:$,multitab_env:M,openEb:ue,optimistic_attachment_preview:w,platform_token:A,plugin_type:ce,power_up_style:(u||(u=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),qpl_instance_key:W.toString(),reply_source_id:I!=null?I:T,reply_source_type:C!=null||b!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:C!=null||b!=null?(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,rich_text_format_type:B,skip_url_preview_gen:_,source:U,sticker_id:V==null?void 0:V.stickerId,subthread_parent_message_id:E!=null?E:void 0,text_has_links:te&&j}),mailboxType:u.ofNumber(r("LSMailboxType").MESSENGER),metadataDataclass:JSON.stringify({media_accessibility_metadata:{alt_text:Y?i:null}}),senderId:h,text:P,threadKey:f,threadType:g});(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","optimistic_message_created");var me=de[0],pe=ie==null?void 0:ie.consistentThreadFbid;if(ie!=null&&(d||(d=o("I64"))).equal(ie.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&pe==null&&(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","consistent_thread_fbid_null_for_authoritative_thread"),pe!=null&&P!=null){x("create_igd_relay_optimistic_message");var _e=o("WATimeUtils").millisTime(),fe=r("createOptimisticTextSlideMessage")({offlineThreadingId:me,optimisticMessageId:"mid.$"+me,repliedToMessageId:T,senderFbid:(d||(d=o("I64"))).to_string(h),text:P,threadFbid:d.to_string(pe),timestampMs:_e.toString()});r("IGDWriteOptimisticRelayMessage")(v,fe),(c||(c=o("ODS"))).bumpEntityKey(3303,"igd_send_open_message","igd_relay_optimistic_message_created")}return x("create_optimistic_message_end"),o("MWPSendMessageLogger").log(e,f,g,h,void 0,[],U,r("MessagingAttachmentType").NONE,C!=null||b!=null,ce,le,l),(!Q||Y||re||Z)&&(q(me),H.addAnnotationBoolean("is_instamadillo_ttlc",le&&ue===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(W,{bool:{is_instamadillo_ttlc:le&&ue===!0}})),s!=null&&s({TAG:0,hasHotEmoji:Z,hasLink:te,hasMention:O!=null&&O.length>0,isGIF:Y,isReply:!!(C&&C.messageId!==""),isSticker:re,isText:ae,offlineThreadingId:de[0]}),m!=null&&await m(G),de}},[f,C,l,S,E,a,n,I,T,b,_,h,g,s,v])}l.default=_}),98);
__d("useMWV2SendOpenMessageImpl",["react-compiler-runtime","useMWV2SendOpenMessageImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(8),n=e.disableMarkRead,a=e.ephemeralDurationInSec,i=e.onOptimisticMessageCreation,l=e.skipUrlPreviewGen,s=e.thread,u;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==s.authorityLevel||t[5]!==s.threadKey||t[6]!==s.threadType?(u={authorityLevel:s.authorityLevel,disableMarkRead:n,ephemeralDurationInSec:a,onOptimisticMessageCreation:i,skipUrlPreviewGen:l,threadKey:s.threadKey,threadType:s.threadType},t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s.authorityLevel,t[5]=s.threadKey,t[6]=s.threadType,t[7]=u):u=t[7],r("useMWV2SendOpenMessageImplShared")(u)}l.default=e}),98);
__d("useMWV2SendOpenStagedMedia",["CometRelay","I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","LSPendingTasksPluginType","LSShape","LSThreadBitOffset","LSVec","MWConsole","MWMsgMediaTypeLogUtils","MWPActor.react","MWPComposerMediaUploadUtil","MWPSendMessageLogger","MessagingAttachmentType","MessagingLoggingUtils","MessengerWebEventsFalcoEvent","MessengerWebUXLogger","WATimeUtils","createOptimisticImageSlideMessage","createOptimisticVideoSlideMessage","issueLSMediaSendJobs","issueSendInstamadilloMediaMessage","react-compiler-runtime","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a,i){var l=o("react-compiler-runtime").c(14),u=o("CometRelay").useRelayEnvironment(),m=o("MWPActor.react").useActor(),p=r("useIGDReplyOnLS")(),_=r("useLSMessagingInitiatingSource")(),f;l[0]!==a?(f=o("LSThreadBitOffset").has(40,a),l[0]=a,l[1]=f):f=l[1];var g=f,h=r("MessengerWebUXLogger").useInteractionLogger(),y,C;return l[2]!==m||l[3]!==u||l[4]!==t||l[5]!==_||l[6]!==i||l[7]!==h||l[8]!==n||l[9]!==p||l[10]!==g||l[11]!==a?(y=async function(f,y){var l=y.isFirstMessage,C=y.isFirstMessageText,b=y.mediaStagings,v=y.metadataDataclass,S=y.pluginType,R=y.s2sInstanceKey,L=y.sendFirstMessageSeparately,E=y.setupS2SLogging,k=y.source,I=y.traceSendMessageAPI,T=y.transaction,D=l===void 0?!1:l,x=L===void 0?!1:L;if(b.length!==0){var $=!1;if(b.length===1){var P=b[0];(e||(e=o("I64"))).to_int32(P.attachmentType)===r("MessagingAttachmentType").IMAGE?$=o("IGDThreadTTLCUtils").isInstamadilloTTLCImageEnabled(a):(e||(e=o("I64"))).to_int32(P.attachmentType)===r("MessagingAttachmentType").VIDEO&&($=o("IGDThreadTTLCUtils").isInstamadilloTTLCVideoEnabled(a))}for(var N=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(T,p,function(){return Promise.resolve({openEb:$,pluginType:$?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):S})}),M=N.openEb,w=N.pluginType,A=b[0],F=o("MessagingLoggingUtils").convertI64ToAttachmentType(A.attachmentType),O=o("MWPComposerMediaUploadUtil").createPartitionedAttachments(b,g,i),B=!0,W=0;W<O.length;W++)if(!D||!x||W===0&&D&&!C){var q=O[W],U=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(r("LSFactory")(T),{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray(q.map(o("LSShape").ofRecord)),ephemeral_duration_in_sec:t,external_attachment_url:void 0,initiating_source:_,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:w,reply_source_id:p==null?void 0:p.messageId,reply_source_type:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:p!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:k}),senderId:m,threadKey:a.threadKey,threadType:a.threadType}),V=U[0],H=a==null?void 0:a.consistentThreadFbid;if(H!=null)for(var G of q){var z=null,j=o("WATimeUtils").millisTime(),K=(s||(s=o("LSIntEnum"))).unwrapIntEnum(G.attachment_type),Q={offlineThreadingId:V,optimisticMessageId:"mid.$"+V,repliedToMessageId:p==null?void 0:p.messageId,senderFbid:(e||(e=o("I64"))).to_string(m),threadFbid:e.to_string(H),timestampMs:j.toString()};if(K===r("MessagingAttachmentType").IMAGE){var X,Y,J;z=r("createOptimisticImageSlideMessage")(babelHelpers.extends({},Q,{image:{height:(e||(e=o("I64"))).to_float((X=G.preview_height)!=null?X:(e||(e=o("I64"))).zero),url:(Y=G.preview_url)!=null?Y:"",width:e.to_float((J=G.preview_width)!=null?J:(e||(e=o("I64"))).zero)}}))}else if(K===r("MessagingAttachmentType").VIDEO){var Z,ee,te;z=r("createOptimisticVideoSlideMessage")(babelHelpers.extends({},Q,{video:{height:(e||(e=o("I64"))).to_float((Z=G.preview_height)!=null?Z:(e||(e=o("I64"))).zero),url:(ee=G.preview_url)!=null?ee:"",width:e.to_float((te=G.preview_width)!=null?te:(e||(e=o("I64"))).zero)}}))}z&&r("IGDWriteOptimisticRelayMessage")(u,z)}if(W===0&&(E(V),I.addAnnotationBoolean("is_instamadillo_ttlc",$&&M===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(R,{bool:{is_instamadillo_ttlc:$&&M===!0}})),await T.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:_,markThreadRead:!1,messageId:void 0,metadataDataclass:v,offlineThreadingId:V,openEb:M,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:void 0,taskId:(e||(e=o("I64"))).of_string(V),threadAttributionSource:k,threadKey:a.threadKey}),n==null||n({TAG:2,attachmentType:d(q),numberOfAttachments:q.length,offlineThreadingId:V}),w!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(w)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO)await r("issueSendInstamadilloMediaMessage")(T,q,V);else{var ne=await r("issueLSMediaSendJobs")(T,a.threadKey,V,q,b);B=B&&ne.sentWithAllFilesUploaded}o("MWPSendMessageLogger").log(f,a.threadKey,a.threadType,m,V,q.map(c),k,F,p!=null,w,$,t)}g===!1&&(h==null||h({eventName:"media_collection_message_sent"}));var re=(e||(e=o("I64"))).to_string(a.threadKey),oe=o("LSMessagingThreadTypeUtil").isGroup(a.threadType)?[re,null]:[null,re],ae=oe[0],ie=oe[1];r("MessengerWebEventsFalcoEvent").log(function(){return{event_name:B?"hit_send_message_with_all_files_uploaded":"hit_send_message_with_files_pending",extra_data:null,other_user_fbid:ie,thread_fbid:ae}})}},C=[p,g,i,a,t,_,m,n,u,h],l[2]=m,l[3]=u,l[4]=t,l[5]=_,l[6]=i,l[7]=h,l[8]=n,l[9]=p,l[10]=g,l[11]=a,l[12]=y,l[13]=C):(y=l[12],C=l[13]),o("Int64Hooks").useCallbackInt64(y,C)}function c(e){return e.attachment_fbid}function d(e){if(e.length===0)return o("MWMsgMediaTypeLogUtils").AttachmentType.None;var t=e[0].playable_url_mime_type;return t==null?o("MWMsgMediaTypeLogUtils").AttachmentType.None:t.indexOf("image")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Image:t.indexOf("video")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.Video:t.indexOf("application")!==-1?o("MWMsgMediaTypeLogUtils").AttachmentType.File:o("MWMsgMediaTypeLogUtils").AttachmentType.None}l.default=u}),98);
__d("useMWV2SendOpenVoiceClipImplShared",["I64","IGDGetMessagePluginInfo","IGDThreadTTLCUtils","IGDWriteOptimisticRelayMessage","Int64Hooks","LSFactory","LSIntEnum","LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSPendingTasksPluginType","LSShape","LSVec","MWMediaTraceHandler","MWPActor.react","MWPComposerMediaUploadUtil","MessagingLoggingUtils","OfflineThreadingId","RelayHooks","WATimeUtils","createOptimisticAudioSlideMessage","issueLSAudioMediaSendJob","issueSendInstamadilloMediaMessage","react-compiler-runtime","sendToSentQPLLogger","useIGDReplyOnLS","useLSMessagingInitiatingSource"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(t,n,r,a){n!=null&&await o("MWMediaTraceHandler").logMediaSendStart(t,n,r,(e||(e=o("I64"))).of_int32(a))}function c(t){var n=o("react-compiler-runtime").c(16),a=t.entryPoint,i=t.ephemeralDurationInSec,l=t.onOptimisticMessageCreation,c=t.onUploadFailure,d=t.onUploadStart,m=t.onUploadSuccess,p=t.sendMessageLogger,_=t.skipUrlPreviewGen,f=t.threadKey,g=t.threadType,h=o("MWPActor.react").useActor(),y=r("useLSMessagingInitiatingSource")(),C=o("RelayHooks").useRelayEnvironment(),b=r("useIGDReplyOnLS")(),v,S;return n[0]!==h||n[1]!==a||n[2]!==C||n[3]!==i||n[4]!==y||n[5]!==l||n[6]!==c||n[7]!==d||n[8]!==m||n[9]!==b||n[10]!==p||n[11]!==_||n[12]!==f||n[13]!==g?(v=async function(n,v){var t=v.dataTraceId,S=v.pluginType,R=v.s2sInstanceKey,L=v.setupS2SLogging,E=v.source,k=v.traceSendMessageAPI,I=v.transaction,T=v.voiceClip,D=r("LSFactory")(I),x=o("OfflineThreadingId").createOfflineThreadingID(),$=o("MWPComposerMediaUploadUtil").getAudioAttachment(x,T.file,T.duration,T.waveformData);await u(I,t,(e||(e=o("I64"))).one,2);var P=await I.threads.get(f),N=o("IGDThreadTTLCUtils").isInstamadilloTTLCAudioEnabled(P),M=await o("IGDGetMessagePluginInfo").IGDGetMessagePluginInfo(I,b,function(){return Promise.resolve({openEb:N,pluginType:N?(s||(s=o("LSIntEnum"))).ofNumber(r("LSPendingTasksPluginType").IGD_INSTAMADILLO):S})}),w=M.openEb,A=M.pluginType,F=await r("LSLocalApplyOptimisticMessageWithAttachmentsV2StoredProcedure")(D,{extraSendMessageParams:o("LSShape").ofRecord({attachments:r("LSVec").ofArray([o("LSShape").ofRecord($)]),ephemeral_duration_in_sec:i,external_attachment_url:void 0,initiating_source:y,mark_read:!1,platform_ref:void 0,platform_token:void 0,plugin_type:A,reply_source_id:b==null?void 0:b.messageId,reply_source_type:b!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,reply_source_type_v2:b!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,source:E}),senderId:h,threadKey:f,threadType:g}),O=F[0],B=P==null?void 0:P.consistentThreadFbid;if(B!=null){var W=o("WATimeUtils").millisTime(),q=r("createOptimisticAudioSlideMessage")({audioAttachment:{file:T.file,playableDurationMs:T.duration*1e3,waveformData:[].concat(T.waveformData.amplitudes)},offlineThreadingId:O,optimisticMessageId:"mid.$"+O,repliedToMessageId:b==null?void 0:b.messageId,senderFbid:(e||(e=o("I64"))).to_string(h),threadFbid:e.to_string(B),timestampMs:W.toString()});r("IGDWriteOptimisticRelayMessage")(C,q)}L(O),k.addAnnotationBoolean("is_instamadillo_ttlc",N&&w===!0),o("sendToSentQPLLogger").addSendToSentAnnotations(R,{bool:{is_instamadillo_ttlc:N&&w===!0}}),await I.messages_optimistic_context.add({externalAttachmentUrl:void 0,initiatingSource:y,markThreadRead:!1,messageId:void 0,offlineThreadingId:O,openEb:w,platformRef:void 0,platformToken:void 0,replySourceId:void 0,replySourceType:void 0,sendType:void 0,skipUrlPreviewGen:_,taskId:e.of_string(O),threadAttributionSource:E,threadKey:f}),l!=null&&l({TAG:1,offlineThreadingId:O}),A!=null&&(s||(s=o("LSIntEnum"))).unwrapIntEnum(A)===r("LSPendingTasksPluginType").IGD_INSTAMADILLO?await r("issueSendInstamadilloMediaMessage")(I,[$],O):await r("issueLSAudioMediaSendJob")(I,f,h,t,x,O,$,T,d,m,c,a),p(n,{actor:h,attachmentFbids:[$.attachment_fbid],attachmentType:o("MessagingLoggingUtils").convertI64ToAttachmentType($.attachment_type),hasReply:b!=null,isInstamadilloTTLC:w,key:f,offlineThreadingId:O,pluginType:A,source:E,type:g})},S=[f,b,i,y,h,g,_,l,p,C,d,m,c,a],n[0]=h,n[1]=a,n[2]=C,n[3]=i,n[4]=y,n[5]=l,n[6]=c,n[7]=d,n[8]=m,n[9]=b,n[10]=p,n[11]=_,n[12]=f,n[13]=g,n[14]=v,n[15]=S):(v=n[14],S=n[15]),o("Int64Hooks").useCallbackInt64(v,S)}l.default=c}),98);
__d("useMWV2SendOpenVoiceClip",["Int64Hooks","MWPSendMessageLogger","react-compiler-runtime","useMWV2SendOpenVoiceClipImplShared"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(14),n=e.entryPoint,a=e.ephemeralDurationInSec,i=e.onOptimisticMessageCreation,l=e.onUploadFailure,s=e.onUploadStart,u=e.onUploadSuccess,c=e.skipUrlPreviewGen,d=e.thread,m,p;t[0]!==a?(m=function(t,n){var e=n.actor,r=n.attachmentFbids,i=n.attachmentType,l=n.hasReply,s=n.isInstamadilloTTLC,u=n.key,c=n.offlineThreadingId,d=n.pluginType,m=n.source,p=n.type;e!=null&&o("MWPSendMessageLogger").log(t,u,p,e,c,r,m,i,l,d,s,a)},p=[a],t[0]=a,t[1]=m,t[2]=p):(m=t[1],p=t[2]);var _=o("Int64Hooks").useCallbackInt64(m,p),f;return t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==s||t[8]!==u||t[9]!==_||t[10]!==c||t[11]!==d.threadKey||t[12]!==d.threadType?(f={entryPoint:n,ephemeralDurationInSec:a,onOptimisticMessageCreation:i,onUploadFailure:l,onUploadStart:s,onUploadSuccess:u,sendMessageLogger:_,skipUrlPreviewGen:c,threadKey:d.threadKey,threadType:d.threadType},t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=s,t[8]=u,t[9]=_,t[10]=c,t[11]=d.threadKey,t[12]=d.threadType,t[13]=f):f=t[13],r("useMWV2SendOpenVoiceClipImplShared")(f)}l.default=e}),98);
__d("useMWV2SendOpenMessage",["I64","Int64Hooks","LSGenerateTraceId","LSIntEnum","LSMessagingThreadTypeUtil","LSShape","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","MWV2SetupS2SLoggingShared","MultipleTabsLogger","ReQL","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useEnabledForWorkchatOnly","useIGDReplyOnLS","useIsMessengerPWA","useMWLSDefaultThreadSourceWithResetBasedOnThreadType","useMWV2SendOpenMessageImpl","useMWV2SendOpenStagedMedia","useMWV2SendOpenVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e){var t=o("react-compiler-runtime").c(31),n=e.disableMarkRead,a=e.entryPoint,l=e.ephemeralDurationInSec,d=e.isIGDW,g=e.onOptimisticMessageCreation,h=e.onUploadFailure,y=e.onUploadStart,C=e.onUploadSuccess,b=e.pluginType,v=e.skipUrlPreviewGen,S=e.thread,R=r("useAsyncReStore")(),L=r("useIsMessengerPWA")(),E=r("useIGDReplyOnLS")(),k=r("useMWLSDefaultThreadSourceWithResetBasedOnThreadType")(),I;t[0]!==a||t[1]!==l||t[2]!==g||t[3]!==h||t[4]!==y||t[5]!==C||t[6]!==v||t[7]!==S?(I={entryPoint:a,ephemeralDurationInSec:l,onOptimisticMessageCreation:g,onUploadFailure:h,onUploadStart:y,onUploadSuccess:C,skipUrlPreviewGen:v,thread:S},t[0]=a,t[1]=l,t[2]=g,t[3]=h,t[4]=y,t[5]=C,t[6]=v,t[7]=S,t[8]=I):I=t[8];var T=r("useMWV2SendOpenVoiceClip")(I),D=r("useMWV2SendOpenStagedMedia")(l,g,S,d),x=n!=null?n:!1,$;t[9]!==l||t[10]!==g||t[11]!==v||t[12]!==x||t[13]!==S?($={disableMarkRead:x,ephemeralDurationInSec:l,onOptimisticMessageCreation:g,skipUrlPreviewGen:v,thread:S},t[9]=l,t[10]=g,t[11]=v,t[12]=x,t[13]=S,t[14]=$):$=t[14];var P=r("useMWV2SendOpenMessageImpl")($),N;t[15]!==S?(N=o("LSMessagingThreadTypeUtil").isMessageRequest(S),t[15]=S,t[16]=N):N=t[16];var M=N,w=r("useEnabledForWorkchatOnly")(),A=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),F=A.onMessageSendAttempt,O,B;return t[17]!==R||t[18]!==k||t[19]!==M||t[20]!==L||t[21]!==w||t[22]!==F||t[23]!==b||t[24]!==E||t[25]!==P||t[26]!==D||t[27]!==T||t[28]!==S?(O=async function(t,n,a,l,c,d,g,h,y,C,v,I,x,$,N,A,O,B,W,q){var e=v===void 0?!1:v,U=I===void 0?!1:I,V=!1;F==null||F(!0);var H=function(t){x.addMarkerPoint(t,"AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint($,t)},G=k(S.threadKey),z=r("LSGenerateTraceId")(),j={contents:1},K=S.eventStartTimestampMs!=null,Q=S.threadType,X=await R,Y=r("MWV2SetupS2SLoggingShared")({db:X,isCommunityEvent:K,isFirstMessage:U,isMessageRequest:M,isWorkChat:w,s2sInstanceKey:$,sendFirstMessageSeparately:e,source:(s||(s=o("LSIntEnum"))).unwrapIntEnum(G),threadType:Q,traceSendMessageAPI:x}),J=await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(X.tables.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,S.threadKey)})),Z=o("MWSharedS2SBaseAnnotations").getMessageTypeParams(babelHelpers.extends({externalAttachmentUrl:d,hotEmojiSize:l,mediaStagings:J,messageText:t,sticker:a,threadType:S.threadType,voiceClip:h},E!=null?{reply:E}:{})),ee=await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:Z,isPwa:L,source:s.unwrapIntEnum(G),thread:S}),te=await o("MultipleTabsLogger").hasMultipleTabs();return X.runInTransaction(async function(r){if(o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(x,Z,S),o("sendToSentQPLLogger").addSendToSentAnnotations($,ee),h!=null){(e===!1||U===!0)&&await T(X,{dataTraceId:z,pluginType:b,s2sInstanceKey:$,setupS2SLogging:Y,source:G,traceSendMessageAPI:x,transaction:r,voiceClip:h});return}var i=Z.hasGif,s=Z.hasHotEmoji,v=Z.hasSticker,R=Z.hasText,L=i===void 0?!1:i,E=s===void 0?!1:s,k=v===void 0?!1:v,I=R===void 0?!1:R;k||E?j.contents=4:L&&(j.contents=6);var N=n!=null?o("LSShape").ofRecord({mention_ids:n.map(f).join(","),mention_lengths:n.map(_).join(","),mention_offsets:n.map(p).join(","),mention_types:n.length!==0?n.map(m).join(","):void 0}):void 0;if(H("create_optimistic_message_start"),I||k||E||L){if(V=!0,(e===!1||U===!0)&&(H("send_message_impl"),await P(X,{accessibilityLabel:q,afterSend:C,attributionAppId:c,dataclassParams:W,dataTraceId:z,externalAttachmentUrl:d,hotEmojiSize:l,logSendPoint:H,mentionData:N,messageText:t,messageTypeParams:Z,multitabEnv:te,optimisticAttachmentPreview:g,platformToken:y,pluginType:b,profileRanges:n,richTextFormatType:A,s2sInstanceKey:$,setupS2SLogging:Y,source:G,sticker:a,traceSendMessageAPI:x,transaction:r}),e===!0)){H("send_first_message_separately_return");return}}else C!=null&&await C(r);!k&&!L&&!E&&await D(X,{isFirstMessage:U,isFirstMessageText:V,mediaStagings:await o("ReQL").toArrayAsync(o("ReQL").fromTableAscending(r.media_staging).filter(function(e){return!e.isSent&&(u||(u=o("I64"))).equal(e.threadKey,S.threadKey)})),pluginType:b,s2sInstanceKey:$,sendFirstMessageSeparately:e,setupS2SLogging:Y,source:G,traceSendMessageAPI:x,transaction:r})},"readwrite","ui",void 0,i.id+":250")},B=[F,k,S,R,M,w,E,L,T,b,P,D],t[17]=R,t[18]=k,t[19]=M,t[20]=L,t[21]=w,t[22]=F,t[23]=b,t[24]=E,t[25]=P,t[26]=D,t[27]=T,t[28]=S,t[29]=O,t[30]=B):(O=t[29],B=t[30]),o("Int64Hooks").useCallbackInt64(O,B)}function m(e){return e.type}function p(e){return String(e.offset)}function _(e){return String(e.length)}function f(e){return e.id}l.default=d}),98);
__d("useMWV2OnSendOpenMessage",["I64","IGDReplyContext.react","IGDThreadListNewMessageLoggingDataContext","Int64Hooks","LSContactListConversionAttributionStore","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWPActor.react","MWPReplyContext.react","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","MessengerWebUXLogger","ReQL","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useCometInteractionTracing","useCometRouteTracePolicy","useIGDChatTabsMessagingSource.react","useMWLSAcceptMessageRequest","useMWV2SendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useContext,m=c.useMemo;function p(e){var t=o("react-compiler-runtime").c(52),n=e.afterSendMessage,a=e.checkWAStorageForLogging,i=e.disableMarkRead,l=e.entryPoint,c=e.ephemeralDurationInSec,m=e.isIGDW,p=e.onOptimisticMessageCreation,_=e.onUploadFailure,f=e.onUploadStart,g=e.onUploadSuccess,h=e.pluginType,y=e.skipUrlPreviewGen,C=e.thread,b=o("MWPActor.react").useActor(),v=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(C.threadKey,C.threadType),S=d(o("MWPReplyContext.react").MWPReplyContext),R=S.clearReply,L=d(o("IGDReplyContext.react").IGDReplySetterContext),E=L.clearReply,k=C.threadSubtype,I=C.eventStartTimestampMs!=null,T;t[0]!==I?(T=I.toString(),t[0]=I,t[1]=T):T=t[1];var D;t[2]===Symbol.for("react.memo_cache_sentinel")?(D="false",t[2]=D):D=t[2];var x;t[3]===Symbol.for("react.memo_cache_sentinel")?(x="false",t[3]=x):x=t[3];var $;t[4]!==b||t[5]!==m?($=m===!0?(s||(s=o("I64"))).to_string(b):null,t[4]=b,t[5]=m,t[6]=$):$=t[6];var P;t[7]!==C.threadKey?(P=(s||(s=o("I64"))).to_string(C.threadKey),t[7]=C.threadKey,t[8]=P):P=t[8];var N;t[9]!==k?(N=k!=null&&o("MWCMThreadTypes.react").isIGBroadcastChannelThread(k)?(s||(s=o("I64"))).to_string(k):"",t[9]=k,t[10]=N):N=t[10];var M;t[11]!==C.threadType?(M=(s||(s=o("I64"))).to_string(C.threadType),t[11]=C.threadType,t[12]=M):M=t[12];var w;t[13]!==T||t[14]!==$||t[15]!==P||t[16]!==N||t[17]!==M?(w={is_community_event:T,is_cutover:D,is_secure:x,sender_id:$,thread_id:P,thread_subtype:N,thread_type:M},t[13]=T,t[14]=$,t[15]=P,t[16]=N,t[17]=M,t[18]=w):w=t[18];var A=w,F=r("useMWLSAcceptMessageRequest")(C.threadKey),O;t[19]===Symbol.for("react.memo_cache_sentinel")?(O=r("qpl")._(30605384,"573"),t[19]=O):O=t[19];var B=r("useCometInteractionTracing")(O,"fast","INTERACTION",void 0,A),W;t[20]!==i||t[21]!==l||t[22]!==c||t[23]!==m||t[24]!==p||t[25]!==_||t[26]!==f||t[27]!==g||t[28]!==h||t[29]!==y||t[30]!==C?(W={disableMarkRead:i,entryPoint:l,ephemeralDurationInSec:c,isIGDW:m,onOptimisticMessageCreation:p,onUploadFailure:_,onUploadStart:f,onUploadSuccess:g,pluginType:h,skipUrlPreviewGen:y,thread:C},t[20]=i,t[21]=l,t[22]=c,t[23]=m,t[24]=p,t[25]=_,t[26]=f,t[27]=g,t[28]=h,t[29]=y,t[30]=C,t[31]=W):W=t[31];var q=r("useMWV2SendOpenMessage")(W),U=r("MessengerWebUXLogger").useInteractionLogger(),V=o("IGDThreadListNewMessageLoggingDataContext").useFlowInstanceIdContext(),H=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),G=r("useIGDChatTabsMessagingSource.react")(C.threadKey),z=r("useCometRouteTracePolicy")(),j,K;return t[32]!==F||t[33]!==b||t[34]!==n||t[35]!==G||t[36]!==a||t[37]!==R||t[38]!==E||t[39]!==A||t[40]!==H||t[41]!==V||t[42]!==m||t[43]!==U||t[44]!==q||t[45]!==C||t[46]!==v||t[47]!==k||t[48]!==z||t[49]!==B?(j=function(t,i,l,c,d,p,_,f,g,h,y,S,L,I,T,D,x,$){var e=y===void 0?!1:y,P=S===void 0?!1:S,N=o("LSMessagingThreadTypeUtil").isMessageRequest(C);if(m===!0){var M={displayContext:H!=null?H:"UNKNOWN",isMessageRequest:String(N),thread_type:(s||(s=o("I64"))).to_string(C.threadType),threadSubtype:k!=null?(s||(s=o("I64"))).to_string(k):"UNKNOWN",tracePolicy:z},w=H==="ChatTab"&&G!=null?babelHelpers.extends({},M,{messaging_source:String(G)}):babelHelpers.extends({},M);U==null||U({eventName:"send_message",extraData:w,flowInstanceId:V})}B(function(m){var y,S=o("sendToSentQPLLogger").markSendToSentStart(a);o("sendToSentQPLLogger").addSendToSentAnnotations(S,{int:{message_text_length_int:(y=t==null?void 0:t.length)!=null?y:0},string:A}),r("promiseDone")(q(t,i,l,c,d,p,_,f,g,async function(e){var t;if(h==null||h(),!!o("LSMessagingThreadTypeUtil").isOneToOne(C.threadType)){var n=(t=await o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(e.participants,[]).getKeyRange(C.threadKey),o("ReQL").fromTableAscending(e.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,b)})))==null?void 0:t[1];n!=null&&!(s||(s=o("I64"))).to_float(n.contactViewerRelationship)!==r("LSContactViewerRelationship").CONTACT_OF_VIEWER&&await e.contacts.put(babelHelpers.extends({},n,{contactViewerRelationship:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactViewerRelationship").CONTACT_OF_VIEWER)}))}},e,P,m,S,void 0,I,T,D,x,$),function(){var e=o("LSContactListConversionAttributionStore").getAttribution(v);e!=null&&(e.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(e):e.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(e),o("LSContactListConversionAttributionStore").resetAttribution(v)),n(),R(C.threadKey,!1),E(),N&&(F(),o("MessageRequestsLog").logActionConfirmed(C,1))})})},K=[m,C,B,H,k,z,G,U,V,a,A,q,b,v,n,R,E,F],t[32]=F,t[33]=b,t[34]=n,t[35]=G,t[36]=a,t[37]=R,t[38]=E,t[39]=A,t[40]=H,t[41]=V,t[42]=m,t[43]=U,t[44]=q,t[45]=C,t[46]=v,t[47]=k,t[48]=z,t[49]=B,t[50]=j,t[51]=K):(j=t[50],K=t[51]),o("Int64Hooks").useCallbackInt64(j,K)}l.default=p}),98);