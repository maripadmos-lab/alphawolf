;/*FB_PKG_DELIM*/

__d("MinGapType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum")({UNKNOWN:0,ORGANIC:1,ENGAGEMENT:2,FIXED_POSITION:3,PROMOTION:4,SPONSORED:5,END_OF_FEED_CONTENT:6,FB_STORIES:7,HIGH_VALUE_PROMOTION:8,FB_STORIES_ENGAGEMENT:9,PYMK:10,SHOWCASE:11,FB_SHORTS:12,TRENDING:13,IFR:14,ENGAGEMENT_QP:15,GROUPS_TAB_UNCONNECTED:16,END_OF_FEED_REELS:17,FRIEND_REQUESTS:18,FB_SHORTS_FALLBACK:19,FRIENDLY_FEED_BIRTHDAYS:20,FRIENDLY_FEED_FRIEND_REQUESTS:21,FRIENDLY_FEED_MID_CARD:22,FRIENDLY_FEED_PROMOTION:23,INJECTED_STORY:24,LIMITED_PERSONALIZATION_NOTICE:25,FRIENDS_FEED_BADGED:26,FRIENDLY_FEED_PROMOTION_GAP_3:27,FRIENDLY_FEED_PHOTO_RECAP:28,FB_FRIENDLY_FEED_STORIES:29,NO_GAP:30}),l=e;i.default=l}),66);
__d("AdsExtremeGapUtils",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=3,s=6;function u(e,t){if(t!==5)return!1;var n=r("gkx")("23035");if(!n)return!1;var o=c(e,0);return o>s}function c(t,n){if(t.length===0||n>s)return n;var r=t.length,o=d(t);return o===-1?n:r-o<=e?c(t.slice(0,o),n+1):n}function d(e){for(var t=e.length-1;t>=0;t--)if(e[t].minGapType===5)return t;return-1}l.EXTREME_GAP_DISTANCE=e,l.shouldApplyExtremeGapProtection=u,l.getLastSponsoredStoryPosition=d}),98);
__d("AuditImpressionChannelSessionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("3703"),s=o("FalcoLoggerInternal").create("audit_impression_channel_session",e),u=s;l.default=u}),98);
__d("BrandSafetyOpportunityLossRateFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1305"),s=o("FalcoLoggerInternal").create("brand_safety_opportunity_loss_rate",e),u=s;l.default=u}),98);
__d("Comet2ndChannelContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=o("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),a;return t[0]!==n||t[1]!==e?(a=s.createElement(r("CometAccessibilityAnnouncement.react"),babelHelpers.extends({},e,{key:n})),t[0]=n,t[1]=e,t[2]=a):a=t[2],a}l.default=u}),98);
__d("CometAdsProductLoggingFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5479"),s=o("FalcoLoggerInternal").create("comet_ads_product_logging",e),u=s;l.default=u}),98);
__d("CometFeedUnitStatusTrackingUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e,t){return e.map(function(e,n){return t(e)?babelHelpers.extends({},e,{position:n}):null}).filter(Boolean)}function l(e){return e.filter(m)}function s(e){return e.filter(p)}function u(e){return e.filter(_)}function c(e){return e.filter(function(e){return e.status==="received"||e.status==="positioned"})}function d(e){var t=e.reduce(function(e,t,n){return _(t)?n:e},-1);return e.map(function(e,n){return n<=t&&!_(e)?babelHelpers.extends({},e,{status:"rendered"}):e})}function m(e){return e.status==="rendered"}function p(e){return e.status!=="error"}function _(e){return e.status==="rendered"||e.status==="error"||e.status==="positioned"}i.getFeedUnitsWithOriginalPosition=e,i.getCurrentlyVisibleFeedUnits=l,i.getPossiblyVisibleFeedUnits=s,i.getAllPositionedFeedUnits=u,i.getUncommittedFeedUnits=c,i.getFeedUnitsWithRenderingOutOfOrderFixed=d,i.isCurrentlyVisible=m,i.isPossiblyVisible=p,i.isAnyPositionedType=_}),66);
__d("CometAdsProductLogger",["AdsExtremeGapUtils","CometAdsProductLoggingFalcoEvent","CometFeedUnitStatusTrackingUtils","WebSession"],(function(t,n,r,o,a,i,l){"use strict";var e="SPONSORED",s="comet.home";function u(t){var n=t.adId,o=t.csp,a=t.cts,i=t.endPoint,l=t.getFeedUnitStatusList,s=t.hba,u=t.isv,d=t.minGapRule,m=t.minGapType,p=t.sessionKey,_=t.tracking,f=t.vp;m!==e||d==null||n==null||(r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:n,csp:o,endpoint:i,event:"impression",hba:s,isv:u,min_gap_shape:{min_gap_rule:d.toString(),min_gap_type:m},session_key:p,timestamp:a,tracking:_,vp:f}}),c({adId:n,csp:o,cts:a,endPoint:i,getFeedUnitStatusList:l,hba:s,isv:u,minGapRule:d,minGapType:m,sessionKey:p,tracking:_,vp:f}))}function c(e){var t=e.adId,n=e.csp,a=e.cts,i=e.endPoint,l=e.getFeedUnitStatusList,s=e.hba,u=e.isv,c=e.minGapRule,d=e.minGapType,m=e.sessionKey,p=e.tracking,_=e.vp;if(!(l==null||n==null)){var f=l(),g=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(f,o("CometFeedUnitStatusTrackingUtils").isCurrentlyVisible),h=parseInt(n,10),y=g.slice(0,h-1),C=o("AdsExtremeGapUtils").shouldApplyExtremeGapProtection(y,5);if(C){var b=h-o("AdsExtremeGapUtils").getLastSponsoredStoryPosition(y);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:t,csp:n,endpoint:i,event:"extreme_experience",hba:s,isv:u,min_gap_shape:{min_gap_rule:c!=null?c.toString():null,min_gap_type:d},product_features:b<=o("AdsExtremeGapUtils").EXTREME_GAP_DISTANCE?"not protected":"protected",session_key:m,timestamp:a,tracking:p,vp:_}})}}}function d(e){var t=e.endPoint,n=t===void 0?s:t,a=e.minGapRule,i=e.minGapType,l=Date.now(),u=Math.floor(l/1e3);r("CometAdsProductLoggingFalcoEvent").logImmediately(function(){return{ad_id:null,csp:"0",endpoint:n,event:"impression",hba:!1,isv:null,min_gap_shape:{min_gap_rule:a!=null?a.toString():null,min_gap_type:i},product_features:"highest_position_ad_from_multifeed",session_key:o("WebSession").getId(),timestamp:u.toString(),tracking:null,vp:null}})}l.logCometAdsProductGapRule=u,l.logCometAdsProductGapRuleExtremeExperience=c,l.logCometFeedHighestPositionAd=d}),98);
__d("CometComposedTextUtils",["CometSplitPointForText","FBLogger","UnicodeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){return function(t){return t.offset!=null&&t.offset<e}}var u=20;function c(t,n){for(var r=[],a=!1,i=0,l=0;l<t.length;l++){var c=n-i,d=t[l],m=d.text,p=d.block_type==="INLINE"||d.block_type==="TABLE",_=!p;if(_&&typeof m=="string"){var f=m.length;if(f>=c+u){var g=o("CometSplitPointForText").findSplitPointForText(m,c);if(g!=null){var h=(e||(e=o("UnicodeUtils"))).substring(m,0,g);r.push(babelHelpers.extends({},d,{entity_ranges:d.entity_ranges.filter(s(e.strlen(h))),inline_style_ranges:d.inline_style_ranges.filter(s(e.strlen(h))),text:h,truncated:!0})),a=!0;break}}i+=f}r.push(d)}return{composedText:r,splitWithinBlock:a}}function d(e){return{children:[],type:"wrapper",wrapperType:e}}function m(e){switch(e){case"ORDERED_LIST_ITEM":return"ORDERED";case"UNORDERED_LIST_ITEM":return"UNORDERED";case"CHECKBOX_LIST_ITEM":return"CHECKBOX";default:return"UNSTYLED"}}function p(e){switch(e.block_type){case"ORDERED_LIST_ITEM":case"UNORDERED_LIST_ITEM":case"CHECKBOX_LIST_ITEM":case"BLOCKQUOTE":case"CODE":return!0;default:return!1}}function _(e){switch(e.block_type){case"CHECKBOX_LIST_ITEM":case"UNORDERED_LIST_ITEM":case"ORDERED_LIST_ITEM":case"BLOCKQUOTE":case"CODE":return!0;default:return!1}}function f(e){if(p(e)){if(e.depth==null)throw r("FBLogger")("comet_feed").mustfixThrow("CometComposedTextUtils: unexpected wrapper item without a depth property");return e.depth}return 0}function g(e,t){if(t==null)return!1;var n=f(e);return e.block_type!==t.type&&n===t.depth?!1:n>=t.depth}function h(e,t,n){var r=y(t.items,m(t.type),n,t.depth);return e.children.push(r),r}function y(e,t,n,o){n===void 0&&(n=0),o===void 0&&(o=0);for(var a=d(t),i=n,l=null,s=0;s<e.length;s++){var u=e[s],c=p(u);if(c&&m(u.block_type)===t&&u.depth===o){var y=_(u)?u.block_type:"UNSTYLED";u=babelHelpers.extends({},u,{block_type:y}),c=!1}if(!c)l!==null&&(h(a,l,i),l=null,i=0),a.children.push({data:u,type:"text"});else{var C=g(u,l);if(l!==null&&C)l.items.push(u);else{if(C)throw r("FBLogger")("comet_feed").mustfixThrow("Unexpected state encountered while processing composed blocks");var b;if(l!==null){var v=h(a,l,i);v.type==="wrapper"&&v.wrapperType==="ORDERED"&&(i+=v.children.filter(function(e){return e.type==="text"}).length),l=null}l={depth:f(u),items:[u],type:(b=u.block_type)!=null?b:"UNSTYLED"}}}}return l!==null&&h(a,l,i),a}function C(e){return y(e,"UNSTYLED")}function b(e){var t=[],n=new Map,r=0;e.forEach(function(e,t){if(e.type==="text")r=t,n.set(t,[e]);else{var o=n.get(r);o&&o.push(e)}});var o=function(){var e=n.get(a);if(e)if(e.length===1){var r=e[0];t.push(r)}else{var o=[];e.forEach(function(e){o.push(e)});var i={children:o,type:"wrapper",wrapperType:"UNSTYLED"};t.push(i)}};for(var a of n.keys())o();return t}l.filterRangesOutsideOfLength=s,l.getComposedTextTruncatedByLength=c,l.getWrapperType=m,l.getRootBlock=C,l.unflattenStyledBlockList=b}),98);
__d("XPlatReactCometUnknownComposedRendererMessage.react",["cr:1156068","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));l.default=n("cr:1156068")}),98);
__d("CometUnknownBlockRenderer.react",["FBLogger","XPlatReactCometUnknownComposedRendererMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(12),n,a;if(t[0]!==e.type?(n=function(){r("FBLogger")("comet_feed").mustfix("Unhandled block renderer type: %s",e.type)},a=[e.type],t[0]=e.type,t[1]=n,t[2]=a):(n=t[1],a=t[2]),u(n,a),r("XPlatReactCometUnknownComposedRendererMessage.react")!=null){var i=e.type,l;t[3]!==e.children?(l=e.children(null),t[3]=e.children,t[4]=l):l=t[4];var c;return t[5]!==e.type||t[6]!==l?(c=s.jsx(r("XPlatReactCometUnknownComposedRendererMessage.react"),{type:i,typename:"blockType",children:l}),t[5]=e.type,t[6]=l,t[7]=c):c=t[7],c}var d;t[8]!==e.children?(d=e.children(null),t[8]=e.children,t[9]=d):d=t[9];var m;return t[10]!==d?(m=s.jsx(o("react-strict-dom").html.div,{children:d}),t[10]=d,t[11]=m):m=t[11],m}l.default=c}),98);
__d("CometUnknownListRenderer.react",["FBLogger","XPlatReactCometUnknownComposedRendererMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(12),n,a;if(t[0]!==e.type?(n=function(){r("FBLogger")("comet_feed").mustfix("Unhandled list renderer type: %s",e.type)},a=[e.type],t[0]=e.type,t[1]=n,t[2]=a):(n=t[1],a=t[2]),u(n,a),r("XPlatReactCometUnknownComposedRendererMessage.react")!=null){var i=e.type,l;t[3]!==e.children?(l=e.children(null),t[3]=e.children,t[4]=l):l=t[4];var c;return t[5]!==e.type||t[6]!==l?(c=s.jsx(r("XPlatReactCometUnknownComposedRendererMessage.react"),{type:i,typename:"listType",children:l}),t[5]=e.type,t[6]=l,t[7]=c):c=t[7],c}var d;t[8]!==e.children?(d=e.children(null),t[8]=e.children,t[9]=d):d=t[9];var m;return t[10]!==d?(m=s.jsx(o("react-strict-dom").html.div,{children:d}),t[10]=d,t[11]=m):m=t[11],m}l.default=c}),98);
__d("XPlatReactCometBlockComposedTextUtils",["cr:21277"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21277")}),98);
__d("XPlatReactCometSeeMoreExpandingUtils",["cr:21278"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:21278")}),98);
__d("XPlatReactGeminiSeeMoreExperimentalUtils",["cr:4950"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:4950")}),98);
__d("XPlatReactTruncateComposedTextWithInlines",["cr:4955"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e=n("cr:4955"))!=null?e:{isLastBlockTruncated:null,truncateComposedTextWithInlines:null},u=s;l.default=u}),98);
__d("baseTextWithEntitiesFilterEntityRanges",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t=[];for(var n of e){var r=n.entity,o=n.entity_type,a=n.length,i=n.offset;i!=null&&a!=null&&r!=null&&r.__typename!=null&&t.push({entity:r,entity_type:o,length:a,offset:i})}return t}i.default=e}),66);
__d("CometComposedBlockWithEntities.react",["fbt","BaseCometTextWithEntitiesBase.react","CometComposedTextUtils","CometTrackingNodeProvider.react","CometUnknownBlockRenderer.react","CometUnknownListRenderer.react","FDSLink.react","XPlatReactCometBlockComposedTextUtils","XPlatReactCometSeeMoreExpandingUtils","XPlatReactFocusRegion.react","XPlatReactGeminiSeeMoreExperimentalUtils","XPlatReactTruncateComposedTextWithInlines","baseTextWithEntitiesFilterEntityRanges","clearTimeout","cometNormalizeTextEntityRanges","focusScopeQueries","qpl","react","react-compiler-runtime","react-strict-dom","setTimeout","useCometInteractionTracing"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useLayoutEffect,p=c.useRef,_=c.useState,f=.6,g={truncatedFocus:{outline:"x1a2a7pz",$$css:!0}};function h(e){var t=e.hiddenContentOffset,n=e.isExpanded,a=e.isTruncatedBlock,i=e.ranges,l=e.renderers,s=e.text,c=e.transforms,d=r("baseTextWithEntitiesFilterEntityRanges")(i),m=[],p=[];if(r("XPlatReactCometSeeMoreExpandingUtils")&&a){var _=r("XPlatReactGeminiSeeMoreExperimentalUtils")!=null?r("XPlatReactGeminiSeeMoreExperimentalUtils")(s,t):t,f=r("XPlatReactCometSeeMoreExpandingUtils").splitEntityRangesIntoRegularAndHiddenParts(i,_),g=f.entitiesBeforeTruncatedOffset,h=f.entitiesFromTruncatedOffset;m=g,p=h}return n&&a?u.jsxs(u.Fragment,{children:[u.jsx(r("BaseCometTextWithEntitiesBase.react"),{ranges:m,renderers:l,text:s.substring(0,t),transforms:c}),u.jsx(r("XPlatReactFocusRegion.react"),{autoFocusQuery:o("focusScopeQueries").focusableScopeQuery,children:u.jsx(r("BaseCometTextWithEntitiesBase.react"),{ranges:p,renderers:l,text:s.substring(t,s.length),transforms:c})})]}):u.jsx(r("BaseCometTextWithEntitiesBase.react"),{ranges:d,renderers:l,text:s,transforms:c})}function y(e){var t=o("react-compiler-runtime").c(37),n=e.block,a=e.hiddenContentOffset,i=e.isExpanded,l=e.isFirstBlock,s=e.isLastBlock,c=e.isTruncatedBlock,d=e.rootProps,_=e.seeMoreFragment,f=a===void 0?-1:a,y=i===void 0?!1:i,v=c===void 0?!1:c,S=d.blockRenderers,R=d.renderers,L=d.transforms,E;t[0]!==S?(E=S===void 0?{}:S,t[0]=S,t[1]=E):E=t[1];var I=E,T=n.data,D=T.block_type,x=T.data,$=T.entity_ranges,P=T.inline_style_ranges,N=T.media_alignment,M=T.media_caption,w=T.text,A=T.truncated,F=T.truncatedAspectRatio,O=A===void 0?!1:A,B=p(null),W,q;if(t[2]!==y||t[3]!==v?(W=function(){if(v&&y){var e=r("setTimeout")(function(){var e;(e=B.current)==null||e.focus({preventScroll:!0})},0);return(function(){return r("clearTimeout")(e)})}},q=[v,y],t[2]=y,t[3]=v,t[4]=W,t[5]=q):(W=t[4],q=t[5]),m(W,q),w==null)return null;var U;t[6]!==$||t[7]!==P?(U=[].concat($,r("cometNormalizeTextEntityRanges")(P,"Inline")),t[6]=$,t[7]=P,t[8]=U):U=t[8];var V=U,H=D!=null?D:"UNSTYLED",G=I[H];G==null&&(G=r("CometUnknownBlockRenderer.react"));var z=v&&y&&g.truncatedFocus,j;t[9]!==n.data||t[10]!==D||t[11]!==x||t[12]!==f||t[13]!==y||t[14]!==v||t[15]!==V||t[16]!==R||t[17]!==_||t[18]!==w||t[19]!==L||t[20]!==O?(j=function(t){return b([].concat(C((t!=null?t:h)({block:n.data,block_type:D,data:x,hiddenContentOffset:f,isExpanded:y,isTruncatedBlock:v,ranges:V,renderers:R,text:w,transforms:L})),[O&&_]))},t[9]=n.data,t[10]=D,t[11]=x,t[12]=f,t[13]=y,t[14]=v,t[15]=V,t[16]=R,t[17]=_,t[18]=w,t[19]=L,t[20]=O,t[21]=j):j=t[21];var K;t[22]!==G||t[23]!==n.data||t[24]!==x||t[25]!==l||t[26]!==s||t[27]!==N||t[28]!==M||t[29]!==j||t[30]!==O||t[31]!==F||t[32]!==H?(K=u.jsx(G,{block:n.data,data:x,isFirstBlock:l,isLastBlock:s,mediaAlignment:N,mediaCaption:M,parseSectionID:k,truncated:O,truncatedAspectRatio:F,type:H,children:j}),t[22]=G,t[23]=n.data,t[24]=x,t[25]=l,t[26]=s,t[27]=N,t[28]=M,t[29]=j,t[30]=O,t[31]=F,t[32]=H,t[33]=K):K=t[33];var Q;return t[34]!==z||t[35]!==K?(Q=u.jsx(o("react-strict-dom").html.div,{ref:B,style:z,tabIndex:-1,children:K}),t[34]=z,t[35]=K,t[36]=Q):Q=t[36],Q}function C(e){return Array.isArray(e)?e:[e]}function b(e){return e.map(function(e,t){return u.jsx(u.Fragment,{children:e},t)})}function v(e){var t,n=o("react-compiler-runtime").c(30),a=e.hiddenContentOffset,i=e.isExpanded,l=e.isFirstBlock,s=e.isLastBlock,c=e.isRoot,d=e.rootProps,m=e.seeMoreFragment,p=e.truncatedBlockIndex,_=e.wrapper,f=a===void 0?-1:a,g=i===void 0?!1:i,h=c===void 0?!1:c,C=p===void 0?-1:p,b;n[0]!==_.children||n[1]!==_.wrapperType?(b=_.wrapperType!=="UNSTYLED"?o("CometComposedTextUtils").unflattenStyledBlockList(_.children):_.children,n[0]=_.children,n[1]=_.wrapperType,n[2]=b):b=n[2];var S=b,R=S.length-1,L;if(n[3]!==f||n[4]!==g||n[5]!==h||n[6]!==R||n[7]!==d||n[8]!==m||n[9]!==C||n[10]!==S){var E;n[12]!==f||n[13]!==g||n[14]!==h||n[15]!==R||n[16]!==d||n[17]!==m||n[18]!==C?(E=function(t,n){return t.type==="text"?u.jsx(y,{block:t,hiddenContentOffset:f,isExpanded:g,isFirstBlock:h&&n===0,isLastBlock:h&&n===R,isTruncatedBlock:n===C,rootProps:d,seeMoreFragment:m},n):u.jsx(v,{isFirstBlock:h&&n===0,isLastBlock:h&&n===R,rootProps:d,seeMoreFragment:m,wrapper:t},n)},n[12]=f,n[13]=g,n[14]=h,n[15]=R,n[16]=d,n[17]=m,n[18]=C,n[19]=E):E=n[19],L=S.map(E),n[3]=f,n[4]=g,n[5]=h,n[6]=R,n[7]=d,n[8]=m,n[9]=C,n[10]=S,n[11]=L}else L=n[11];var k=L,I=_.wrapperType,T=d.listRenderers,D;n[20]!==T?(D=T===void 0?{}:T,n[20]=T,n[21]=D):D=n[21];var x=D,$=(t=x[I])!=null?t:r("CometUnknownListRenderer.react");if(h){var P;return n[22]!==k?(P=u.jsx(u.Fragment,{children:k}),n[22]=k,n[23]=P):P=n[23],P}var N;return n[24]!==$||n[25]!==k||n[26]!==l||n[27]!==s||n[28]!==I?(N=u.jsx($,{isFirstBlock:l,isLastBlock:s,type:I,children:k}),n[24]=$,n[25]=k,n[26]=l,n[27]=s,n[28]=I,n[29]=N):N=n[29],N}function S(e,t,n,a,i){var l;if(t||i==="none"){var s=e.length>n;return r("XPlatReactCometBlockComposedTextUtils")?babelHelpers.extends({},r("XPlatReactCometBlockComposedTextUtils").getBlockComposedTextWithWrapper(e,Math.round(a*f),s,n),{splitBetweenBlocks:s}):{composedText:e,splitBetweenBlocks:s,splitWithinBlock:!1}}var u=(l=r("XPlatReactTruncateComposedTextWithInlines").truncateComposedTextWithInlines==null?void 0:r("XPlatReactTruncateComposedTextWithInlines").truncateComposedTextWithInlines(e,n))!=null?l:e.slice(0,n);return babelHelpers.extends({},o("CometComposedTextUtils").getComposedTextTruncatedByLength(u,Math.round(a*f)),{splitBetweenBlocks:e.length!==u.length||(r("XPlatReactTruncateComposedTextWithInlines").isLastBlockTruncated==null?void 0:r("XPlatReactTruncateComposedTextWithInlines").isLastBlockTruncated(u))===!0})}function R(e){var t=o("react-compiler-runtime").c(11),n=e.href,a=e.isPrefixEllipsis,i=e.onClick,l=a===void 0?!1:a,c;t[0]!==l?(c=l&&s._(/*BTDS*/"\u2026"),t[0]=l,t[1]=c):c=t[1];var d;t[2]!==n?(d=n==null?s._(/*BTDS*/"See more"):s._(/*BTDS*/"See all"),t[2]=n,t[3]=d):d=t[3];var m;t[4]!==n||t[5]!==i||t[6]!==d?(m=u.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:44,children:u.jsx(r("FDSLink.react"),{href:n,onClick:i,role:"button",testid:void 0,children:d})}),t[4]=n,t[5]=i,t[6]=d,t[7]=m):m=t[7];var p;return t[8]!==c||t[9]!==m?(p=u.jsxs(u.Fragment,{children:[c," ",m]}),t[8]=c,t[9]=m,t[10]=p):p=t[10],p}function L(e){var t=o("react-compiler-runtime").c(35),n=e.composedText,a=e.expanded,i=e.maxLength,l=e.maxLines,c=e.onToggleExpanded,d=e.truncationStyle,m=i===void 0?800:i,p=l===void 0?8:l,f=d===void 0?"none":d,g=_(!1),h=g[0],y=g[1],C;t[0]===Symbol.for("react.memo_cache_sentinel")?(C=r("qpl")._(30615438,"590"),t[0]=C):C=t[0];var b=r("useCometInteractionTracing")(C,"fast","INTERACTION"),L;t[1]!==c||t[2]!==b?(L=function(){b(function(){y(E),c==null||c()})},t[1]=c,t[2]=b,t[3]=L):L=t[3];var k=L,I=a!=null?a:h,T,D,x,$,P;if(t[4]!==n||t[5]!==I||t[6]!==m||t[7]!==p||t[8]!==f){var N=S(n,I,p,m,f),M=N.composedText,w=N.hiddenContentOffset,A=N.splitBetweenBlocks,F=N.splitWithinBlock,O=N.truncatedBlockIndex;T=w,x=F,P=O,D=A||x,$=o("CometComposedTextUtils").getRootBlock(M),t[4]=n,t[5]=I,t[6]=m,t[7]=p,t[8]=f,t[9]=T,t[10]=D,t[11]=x,t[12]=$,t[13]=P}else T=t[9],D=t[10],x=t[11],$=t[12],P=t[13];var B=$,W=null;if(!I){if(D)e:switch(f){case"ellipsis-only":{var q;t[14]===Symbol.for("react.memo_cache_sentinel")?(q=u.jsx(u.Fragment,{children:s._(/*BTDS*/"\u2026")}),t[14]=q):q=t[14],W=q;break e}case"see-all":{var U;t[15]!==e.onTruncationLinkClick||t[16]!==e.truncationLink||t[17]!==x?(U=u.jsx(R,{href:e.truncationLink,isPrefixEllipsis:x,onClick:e.onTruncationLinkClick}),t[15]=e.onTruncationLinkClick,t[16]=e.truncationLink,t[17]=x,t[18]=U):U=t[18],W=U;break e}case"see-more":case"see-more-with-attachments":{var V;t[19]!==x||t[20]!==k?(V=u.jsx(R,{isPrefixEllipsis:x,onClick:k}),t[19]=x,t[20]=k,t[21]=V):V=t[21],W=V}}else if(f==="see-more-with-attachments"){var H;t[22]!==x||t[23]!==k?(H=u.jsx(R,{isPrefixEllipsis:x,onClick:k}),t[22]=x,t[23]=k,t[24]=H):H=t[24],W=H}}var G;t[25]!==I||t[26]!==T||t[27]!==e||t[28]!==B||t[29]!==W||t[30]!==P?(G=u.jsx(v,{hiddenContentOffset:T,isExpanded:I,isFirstBlock:!1,isLastBlock:!1,isRoot:!0,rootProps:e,seeMoreFragment:W,truncatedBlockIndex:P,wrapper:B}),t[25]=I,t[26]=T,t[27]=e,t[28]=B,t[29]=W,t[30]=P,t[31]=G):G=t[31];var z=G;if(!I&&!x){var j;return t[32]!==z||t[33]!==W?(j=u.jsxs(u.Fragment,{children:[z,W]}),t[32]=z,t[33]=W,t[34]=j):j=t[34],j}return z}function E(e){return!e}function k(e){return e!=null?"section-"+e.replace(/[ :]+/g,""):void 0}var I=u.memo(L);l.default=I}),226);
__d("CometFeed5sImpressionDelayContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({firstAdStoryPosition:null,firstLoggedAdImpressionStoryPosition:null,hasAnyAdImpressionAlreadyBeenLogged:!1,hasUserSeenAnyAd:!1});l.default=u}),98);
__d("CometFeedAdsProductContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({adId:null,minGapRule:null,minGapType:null});l.default=u}),98);
__d("CometFeedBrandSafetyContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("CometFeedBrandSafetyLoggingUtil",["CometFeedUnitStatusTrackingUtils","FBLogger","NetworkStatus"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){if(e==null||t==null)return a&&r("FBLogger")("comet_feed_impression_null_brs_field").warn("Unable to get brs data for position %s. Debug: isAd: %s, feedUnitStatusList: %s, brsRegistry: %s",n,a,JSON.stringify(e?e():null),JSON.stringify(t?t():null)),null;var i=e(),l=o("CometFeedUnitStatusTrackingUtils").getFeedUnitsWithOriginalPosition(i,o("CometFeedUnitStatusTrackingUtils").isPossiblyVisible),d=l.findIndex(function(e){return e.position===n});if(!s(l,d))return a&&r("FBLogger")("comet_feed_impression_null_brs_field_unsponsored").warn("Impression at nonErrorFeedUnit index %s was determined to be non sponsored. Debug: storyPosition: %s, isAd: %s, nonErrorFeedUnits: %s, feedUnitStatusList: %s, brsRegistry: %s",d,n,a,JSON.stringify(l),JSON.stringify(e()),JSON.stringify(t())),null;var p=t(),_=u(l,p,d-1),f=u(l,p,d+1),g=c(l,p,d);return{brs_filter_setting:g,feed_size:l.length.toString(),feed_state:m(p),unit_after:f,unit_before:_}}function s(e,t){var n;return((n=e[t])==null?void 0:n.category)==="SPONSORED"}function u(e,t,n){var r,o=d(e,t,n);return o&&{brs_content_label:(r=o.brsContentLabel)==null?void 0:r.toString(),organic_tracking:o.tracking,unit_type:o.unitType}}function c(e,t,n){var r,o=d(e,t,n);return o==null||(r=o.brsFilterSetting)==null?void 0:r.toString()}function d(e,t,n){var o=e[n];if(o==null)return null;var a=o.key,i=t.feedUnitRegistry[a];return i==null&&o.status==="rendered"?r("FBLogger")("comet_feed_unit_brand_safety_null_brs_info").warn("Unable to find a CometFeedUnitBrandSafetyInfo for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))):o.status==="error"&&r("FBLogger")("comet_feed_unit_brand_safety_error_status").mustfix("CometFeedUnitStatus is error for position %s and deduplicationKey %s. feedUnitStatusList: %s. brsRegistry: %s",n,o.key,JSON.stringify(e),JSON.stringify(Object.keys(t.feedUnitRegistry))),i}function m(e){var t=e.feedStateInfoRef.current;if(t==null)return r("FBLogger")("comet_feed_unit_brand_safety_feed_state").mustfix("feedStateInfo was not initialized correctly"),"feed_uninitialized_state_info";var n=t.hasMore,o=t.isEOFError,a=t.isLoading,i=t.showEOFMessageAfterFeedStoppedLoading,l=r("NetworkStatus").isOnline();return o?l?"feed_eof_error_while_online":"feed_eof_error_while_offline":i?l?"feed_eof_no_more_stories_while_online":"feed_eof_no_more_stories_while_offline":n&&a?"feed_has_more_and_is_loading":n?"feed_has_more":a?"feed_is_loading":"feed_unknown"}l.getBrandSafetyFieldForAdImpression=e}),98);
__d("CometFeedMessageListRendererContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=s.createContext({ordered:0,unordered:0});function p(){return c(m)}function _(e){var t=o("react-compiler-runtime").c(6),n=e.children,r=e.type,a=p(),i;t[0]!==a||t[1]!==r?(i=babelHelpers.extends({},a),i[r]=a[r]+1,t[0]=a,t[1]=r,t[2]=i):i=t[2];var l=i,u;return t[3]!==n||t[4]!==l?(u=s.jsx(m.Provider,{value:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}l.useCometFeedMessageListRendererNestedLevel=p,l.CometFeedMessageListRendererContextProvider=_}),98);
__d("GHLGating",["Random","gkx","justknobx"],(function(t,n,r,o,a,i,l){"use strict";var e=function(){return r("gkx")("23204")},s=function(){return!1},u=function(){return r("gkx")("23209")},c=function(){return r("gkx")("23181")},d=function(){return r("gkx")("23182")},m=function(){return r("gkx")("23210")},p=function(){return r("gkx")("23174")},_=function(){return r("gkx")("21000")},f=function(){return r("gkx")("23176")},g=function(){return r("gkx")("23177")},h=function(){return r("gkx")("23180")},y=function(){return o("Random").intBetween(r("justknobx")._("2436"),r("justknobx")._("2437"))},C=function(){return r("justknobx")._("1731")},b=function(){return r("justknobx")._("592")},v=function(){return r("justknobx")._("593")},S=function(){return r("justknobx")._("4525")};l.getSvgTextFontSizeFix=e,l.getCometFooterDisplayCheck=s,l.getCometAriaLabelledBysOnRHC=u,l.getCometDeferDOMAriaLabel=c,l.getCometAriaLabelledBys=d,l.getCometDeferDOMLink=m,l.getCometDebugAdvanced=p,l.getCometGhlContentVisibility=_,l.getUseInjectedStylexLikeCSS=f,l.getScramblerOrderStylesInClass=g,l.getScramblerNodeRandomizePlaceholderClasses=h,l.getWidthRandomizerInPx=y,l.getSvgExtraLayersNumofLayers=C,l.getFakeElementBeforeElementCount=b,l.getFakeElementAfterElementCount=v,l.getExtraElementsForFeedCount=S}),98);
__d("CometGHLDisplayMonitor",["DebugOwl","FBLogger","GHLGating","clearTimeout","cometGHLContentDisplayCheck","setTimeoutCometLoggingPri"],(function(t,n,r,o,a,i,l){"use strict";var e=new Map,s=1e3,u=null,c=!1,d=new Set,m=function(n,o){e.has(n)||e.set(n,new Set);var t=e.get(n);return t==null?(r("FBLogger")("GHL").mustfix("Expected Set to be declared for container"),{dispose:function(){}}):(t.add(o),u===null&&p(),{dispose:function(){t.delete(o),t.size===0&&(e.delete(n),e.size===0&&(r("clearTimeout")(u),u=null))}})},p=function(){e.forEach(function(e,t){var n=t.current;n==null||g(n)||!r("cometGHLContentDisplayCheck")(n)||e.forEach(function(e,t){var n=t.onLogBlockCallback,o=t.startTime,a=t.targetRef,i=a.current;if(r("DebugOwl").hoot(i),i!=null){var l=g(i)!=null;if(r("DebugOwl").flap(i,{hiddenByFB:l}),!l){var s=r("cometGHLContentDisplayCheck")(i);if(!s){var u=Date.now()-o;n(u),f()}}}})}),u=r("setTimeoutCometLoggingPri")(p,s)},_=function(t){return d.add(t),c&&t(),{dispose:function(){d.delete(t)}}},f=function(){c!==!0&&(c=!0,d.forEach(function(e){return e()}))},g=function(t){return t.closest==null||t.closest(h)},h=(function(){return"."+"x1s85apg".split(" ").pop()+(o("GHLGating").getCometGhlContentVisibility()?",."+"xdps06".split(" ").pop():"")})();l.m=m,l.subscribeAny=_}),98);
__d("CometGHLTracker",["DebugOwl","GHLBox"],(function(t,n,r,o,a,i,l){"use strict";var e=new Set;function s(t){r("DebugOwl").swoop(t),e.add(t),e.size>o("GHLBox").MinimumHiddenAdsToUpdateLocalStorage&&o("GHLBox").s(Date.now())}function u(t){return e.has(t)}function c(t){return e.delete(t)}function d(){return e.size>0}function m(){return e.size}l.m=s,l.c=u,l.d=c,l.b=d,l.s=m}),98);
__d("CometMetricsViewableImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1900896"),s=o("FalcoLoggerInternal").create("comet_metrics_viewable_impression",e),u=s;l.default=u}),98);
__d("CometImpressionLoggingUtil",["AuditImpressionChannelSessionFalcoEvent","CometMetricsViewableImpressionFalcoEvent","WebSession","gkx","randomInt","setTimeout","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e="TWO_M_SECOND_CHANNEL",s="TWO_M_FIRST_CHANNEL";function u(e,t,n,o,a){var i=Date.now(),l=i+"_"+(r("randomInt")(0,4294967295)+1),s={aidv2:e,brs:a!=null?a:null,csp:t.toString(),cts:Math.floor(i/1e3).toString(),etid:l,event_trace_id:r("uuidv4")(),gap_to_prev_ad:o==null?void 0:o.toString(),isv:"1",xt:n};r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return s})}function c(e,t,n,a,i,l){var s,u,c,m,p,_,f,g,h,y,C,b,v,S,R,L,E,k;l===void 0&&(l="comet_feed");var I=r("gkx")("15955");if(!(!I&&l==="comet_feed")){var T=r("gkx")("20817");if(!(!T&&l==="comet_reels")&&!(!a||e==null)){var D=t!=null?t:"",x={sessionKey:o("WebSession").getId(),time:Date.now(),tracking:D,view_rect:{view_bottom:((s=(u=n.boundingClientRect)==null?void 0:u.y)!=null?s:0)+((c=(m=n.boundingClientRect)==null?void 0:m.height)!=null?c:0),view_top:(p=(_=n.rootBounds)==null?void 0:_.y)!=null?p:0},viewport_rect:{view_bottom:((f=(g=n.rootBounds)==null?void 0:g.y)!=null?f:0)+((h=(y=n.rootBounds)==null?void 0:y.height)!=null?h:0),view_top:(C=(b=n.rootBounds)==null?void 0:b.y)!=null?C:0},window_rect:{view_bottom:((v=(S=n.intersectionRect)==null?void 0:S.y)!=null?v:0)+((R=(L=n.intersectionRect)==null?void 0:L.height)!=null?R:0),view_top:(E=(k=n.intersectionRect)==null?void 0:k.y)!=null?E:0}};a[e]||(a[e]={}),i==="TWO_M_FIRST_CHANNEL"?a[e].firstChannel=x:a[e].secondChannel=x,r("setTimeout")(function(){d(e,a,D,l)},1e3)}}}function d(e,t,n,a){if(a===void 0&&(a="comet_feed"),!(e==null||!t||!t[e])&&!(t[e].lastSent!=null&&t[e].lastSent>Date.now()-6e4)){var i=m(t[e].firstChannel),l=m(t[e].secondChannel),s={old_impression_source:a,on_unit_enter_view_stamp:l,on_unit_exit_view_stamp:{scroll_velocity:"0",time:"1234567890",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}},on_unit_impression_view_stamp:i,primary_impression_channel:"intersection_observer",secondary_impression_channel:"scroll_based",session_end_time:"0",session_key:o("WebSession").getId(),session_start_time:Math.min(parseInt(i.time,10),parseInt(l.time,10)).toString(),surface_module:"COMET",tracking:n};r("AuditImpressionChannelSessionFalcoEvent").logImmediately(function(){return s}),t[e].lastSent=Date.now()}}function m(e){return e?{scroll_velocity:"0",time:e.time.toString(),view_rect:{view_bottom:Math.round(e.view_rect.view_bottom).toString(),view_top:Math.round(e.view_rect.view_top).toString()},viewport_rect:{view_bottom:Math.round(e.viewport_rect.view_bottom).toString(),view_top:Math.round(e.viewport_rect.view_top).toString()},window_rect:{view_bottom:Math.round(e.window_rect.view_bottom).toString(),view_top:Math.round(e.window_rect.view_top).toString()}}:{scroll_velocity:"0",time:"0",view_rect:{view_bottom:"0",view_top:"0"},viewport_rect:{view_bottom:"0",view_top:"0"},window_rect:{view_bottom:"0",view_top:"0"}}}l.TwoMSecondChannel=e,l.TwoMFirstChannel=s,l.logPostImpressionForReel=u,l.logChannelData=c}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:r("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:t.threadId}}}}},root:r("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};l.default=e}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9555699731214088"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:r("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:t.thread_id}}}}},root:r("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};l.default=e}),98);
__d("CometMetricsChannel2ViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1960868"),s=o("FalcoLoggerInternal").create("comet_metrics_channel2_viewability",e),u=s;l.default=u}),98);
__d("CometMetricsFullViewFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1936086"),s=o("FalcoLoggerInternal").create("comet_metrics_full_view",e),u=s;l.default=u}),98);
__d("CometMetricsViewabilityFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1948176"),s=o("FalcoLoggerInternal").create("comet_metrics_viewability",e),u=s;l.default=u}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null};a.exports=e}),null);
__d("SafetyInterventionEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2113"),s=o("FalcoLoggerInternal").create("safety_intervention_engagement",e),u=s;l.default=u}),98);
__d("SafetyInterventionErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2114"),s=o("FalcoLoggerInternal").create("safety_intervention_error",e),u=s;l.default=u}),98);
__d("SafetyInterventionImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2115"),s=o("FalcoLoggerInternal").create("safety_intervention_impression",e),u=s;l.default=u}),98);
__d("SafetyInterventionPlatformTriggeredFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("2118"),s=o("FalcoLoggerInternal").create("safety_intervention_platform_triggered",e),u=s;l.default=u}),98);
__d("SafetyInterventionPlatformAnalyticsLogger",["SafetyInterventionEngagementFalcoEvent","SafetyInterventionErrorFalcoEvent","SafetyInterventionImpressionFalcoEvent","SafetyInterventionPlatformTriggeredFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,o,a,i,l,s,u){r("SafetyInterventionImpressionFalcoEvent").log(function(){return{client_session_id:e,expiration_ts:t,other_user_id:l,safety_intervention_impression_trigger_action:s,safety_intervention_type:u,server_evaluation_id:n,thread_id:o,thread_type:a,user_id:i}})}function s(e,t,n,o,a,i,l,s,u,c){r("SafetyInterventionEngagementFalcoEvent").log(function(){return{client_session_id:e,expiration_ts:t,intervention_engagement_action_type:c,intervention_engagement_type:u,other_user_id:l,safety_intervention_type:s,server_evaluation_id:n,thread_id:o,thread_type:a,user_id:i}})}function u(e,t,n,o,a,i,l){r("SafetyInterventionErrorFalcoEvent").log(function(){return{client_session_id:e,extra_field:l,other_user_id:i,server_evaluation_id:t,thread_id:n,thread_type:o,user_id:a}})}function c(e,t,n,o,a,i,l){r("SafetyInterventionPlatformTriggeredFalcoEvent").log(function(){return{client_session_id:e,other_user_id:i,safety_intervention_platform_trigger_source:l,server_evaluation_id:t,thread_id:n,thread_type:o,user_id:a}})}l.logSafetyInterventionImpression=e,l.logSafetyInterventionEngagement=s,l.logSafetyInterventionError=u,l.logSafetyInterventionTriggered=c}),98);
__d("SafetyNoticeThreadType",["$InternalEnum"],(function(t,n,r,o,a,i){var e=n("$InternalEnum").Mirrored(["AI_BOT","ARMADILLO_GROUP","ARMADILLO_ONE_TO_ONE","CARRIER_MESSAGING_GROUP","CARRIER_MESSAGING_ONE_TO_ONE","COMMUNITY_ANNOUNCEMENT_JOINED_THREAD","COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD","COMMUNITY_BROADCAST_JOINED_THREAD","COMMUNITY_BROADCAST_UNJOINED_THREAD","COMMUNITY_CHANNEL_CATEGORY","COMMUNITY_FOLDER","COMMUNITY_GROUP","COMMUNITY_GROUP_INVITED_UNJOINED","COMMUNITY_GROUP_UNJOINED","COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD","COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD","COMMUNITY_SUB_THREAD","DISCOVERABLE_PUBLIC_BROADCAST_CHAT","DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT","DISCOVERABLE_PUBLIC_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT_V2","DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED","FOLDER","GEMSTONE","GROUP","LWG","MARKETPLACE","MONTAGE","ONE_TO_ONE","PAGE_FOLLOW_UP","PHONE_NUMBER","PINNED","ROOM","SECURE_MESSAGE_OVER_WA_GROUP","SECURE_MESSAGE_OVER_WA_ONE_TO_ONE","SELF_THREAD","TH_COMMUNITY_GROUP","TINCAN_GROUP_DISAPPEARING","TINCAN_ONE_TO_ONE","TINCAN_ONE_TO_ONE_DISAPPEARING","UNKNOWN","XAC_GROUP"]),l=e;i.default=l}),66);
__d("SafetyNoticeEnumConverter",[],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case 201:return"AI_BOT";case-2:return"ARMADILLO_GROUP";case-1:return"ARMADILLO_ONE_TO_ONE";case 11:return"CARRIER_MESSAGING_GROUP";case 10:return"CARRIER_MESSAGING_ONE_TO_ONE";case 17:return"COMMUNITY_FOLDER";case 18:return"COMMUNITY_GROUP";case 152:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT";case 150:return"DISCOVERABLE_PUBLIC_CHAT";case 6:return"FOLDER";case 2:return"GROUP";case 102:return"LWG";case 5:return"MARKETPLACE";case 4:return"MONTAGE";case 1:return"ONE_TO_ONE";case 14:return"PAGE_FOLLOW_UP";case 101:return"PINNED";case 3:return"ROOM";case 12:return"SELF_THREAD";case 0:return"UNKNOWN";case 200:return"XAC_GROUP";case 23:return"COMMUNITY_BROADCAST_JOINED_THREAD";case 24:return"COMMUNITY_BROADCAST_UNJOINED_THREAD";case 20:return"COMMUNITY_CHANNEL_CATEGORY";case 25:return"COMMUNITY_GROUP_INVITED_UNJOINED";case 19:return"COMMUNITY_GROUP_UNJOINED";case 21:return"COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD";case 22:return"COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD";case 26:return"COMMUNITY_SUB_THREAD";case 153:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED";case 151:return"DISCOVERABLE_PUBLIC_CHAT_UNJOINED";case 154:return"DISCOVERABLE_PUBLIC_CHAT_V2";case 155:return"DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED";case 16:return"SECURE_MESSAGE_OVER_WA_GROUP";case 15:return"SECURE_MESSAGE_OVER_WA_ONE_TO_ONE";case 8:return"TINCAN_GROUP_DISAPPEARING";case 7:return"TINCAN_ONE_TO_ONE";case 13:return"TINCAN_ONE_TO_ONE_DISAPPEARING";case 202:return"AI_BOT";case 27:return"COMMUNITY_ANNOUNCEMENT_JOINED_THREAD";case 28:return"COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD";case 203:return"AI_BOT";default:return"UNKNOWN"}}l.convertLSThreadTypeToSafetyNoticeThreadType=e}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBanner.react",["fbt","Actor","CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql","I64","LsThreadType","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useEffect,_=m.useState,f={boxShadow:"0px 1px 6px rgba(0, 0, 0, 0.1), 0px -4px 6px rgba(0, 0, 0, 0.1)",display:"block",marginTop:"10px"};e!==void 0||(e=n("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"));function g(e){var t=o("react-compiler-runtime").c(29),n=e.client_session_id,a=e.expiration_ts,i=e.header,l=e.image,u=e.is_dismissable,m=e.other_user_id,g=e.safety_intervention_type,h=e.server_evaluation_id,C=e.text,b=e.thread,v=o("Actor").useActor(),S=v[0],R=_(!1),L=R[0],E=R[1],k;if(t[0]!==b.threadType){var I;k=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((c||(c=o("I64"))).to_int32((I=b.threadType)!=null?I:(c||(c=o("I64"))).zero),r("LsThreadType"),0)),t[0]=b.threadType,t[1]=k}else k=t[1];var T=k,D;t[2]!==S||t[3]!==n||t[4]!==T||t[5]!==a||t[6]!==m||t[7]!==g||t[8]!==h||t[9]!==b.threadKey?(D=function(){E(!0),o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionEngagement(n,a,h,(c||(c=o("I64"))).to_string(b.threadKey),T,S,m,g,"dismissal","DISMISS")},t[2]=S,t[3]=n,t[4]=T,t[5]=a,t[6]=m,t[7]=g,t[8]=h,t[9]=b.threadKey,t[10]=D):D=t[10];var x=D,$,P;t[11]!==S||t[12]!==n||t[13]!==T||t[14]!==a||t[15]!==m||t[16]!==g||t[17]!==h||t[18]!==b.threadKey?($=function(){return o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionImpression(n,a,h,(c||(c=o("I64"))).to_string(b.threadKey),T,S,m,"thread_open",g)},P=[S,n,T,a,m,g,h,b.threadKey],t[11]=S,t[12]=n,t[13]=T,t[14]=a,t[15]=m,t[16]=g,t[17]=h,t[18]=b.threadKey,t[19]=$,t[20]=P):($=t[19],P=t[20]),p($,P);var N;return t[21]!==x||t[22]!==i||t[23]!==(l==null?void 0:l.image_type)||t[24]!==(l==null?void 0:l.stock_image_type_v2)||t[25]!==L||t[26]!==u||t[27]!==C?(N=!L&&d.jsx("div",{style:f,children:d.jsx(r("MWXListCellPressable.react"),{addOnEnd:u===!0?d.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Dismiss safety intervention banner"),icon:r("MWXIconCross"),onPress:x,size:24}):d.jsx(d.Fragment,{}),addOnStart:(l==null?void 0:l.image_type)==="STOCK_IMAGE"?d.jsx(r("MWXImage.react"),{src:y(l==null?void 0:l.stock_image_type_v2)}):d.jsx(d.Fragment,{}),content:d.jsx(r("MWXTextPairing.react"),{body:d.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:C}),headline:i,level:4})})}),t[21]=x,t[22]=i,t[23]=l==null?void 0:l.image_type,t[24]=l==null?void 0:l.stock_image_type_v2,t[25]=L,t[26]=u,t[27]=C,t[28]=N):N=t[28],N}function h(e){var t=o("react-compiler-runtime").c(11),n=e.client_session_id,a=e.expiration_ts,i=e.fragment$key,l=e.other_user_id,s=e.safety_intervention_type,u=e.server_evaluation_id,c=e.thread,m=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"),i);if((m==null?void 0:m.header)==null||m.body==null||m.is_dismissable==null||m.body.text==null)return null;var p=m==null?void 0:m.is_dismissable,_;return t[0]!==n||t[1]!==m.body.text||t[2]!==m.header||t[3]!==m.image||t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==u||t[8]!==p||t[9]!==c?(_=d.jsx(g,{client_session_id:n,expiration_ts:a,header:m.header,image:m.image,is_dismissable:p,other_user_id:l,safety_intervention_type:s,server_evaluation_id:u,text:m.body.text,thread:c}),t[0]=n,t[1]=m.body.text,t[2]=m.header,t[3]=m.image,t[4]=a,t[5]=l,t[6]=s,t[7]=u,t[8]=p,t[9]=c,t[10]=_):_=t[10],_}function y(e){return e==="exclamation_mark_warning_filled"?"/images/messenger_web/msip/messenger_warning_alpha_light.png":""}l.default=h}),226);
__d("CometMsgrSafetyInterventionsUIEngineFragment.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsUIEngineFragment",selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment"}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],type:"XFBMsgrSafetyInterventionsOneToOneThreadResult",abstractKey:null};a.exports=e}),null);
__d("CometMsgrSafetyInterventionsUIEngine.react",["Actor","CometMsgrSafetyInterventionsAboveComposerBanner.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","I64","LsThreadType","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react"));e!==void 0||(e=n("CometMsgrSafetyInterventionsUIEngineFragment.graphql"));var d=["ABOVE_COMPOSER_BANNER"];function m(e){var t,n,a=e.client_session_id,i=e.fragment$key,l=e.other_user_id,u=e.thread,m=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),i),p=o("Actor").useActor(),_=p[0],f=p[1];if(m==null)return null;var g=m.eligible_interventions;if(g==null||g[0]==null)return null;var h=m.eligible_interventions[0],y=(t=h.component)==null?void 0:t.component_type;if(y==null||!d.includes(y))return null;try{var C;switch((C=h.component)==null?void 0:C.component_type){case"ABOVE_COMPOSER_BANNER":return c.jsx(r("CometMsgrSafetyInterventionsAboveComposerBanner.react"),{client_session_id:a,expiration_ts:String((n=h.client_instructions)==null?void 0:n.expiration_ts),fragment$key:h.component,other_user_id:l,safety_intervention_type:h.intervention_type,server_evaluation_id:m.evaluation_id,thread:u});default:return null}}catch(e){var b,v=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((s||(s=o("I64"))).to_int32((b=u.threadType)!=null?b:(s||(s=o("I64"))).zero),r("LsThreadType"),0));o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionError(a,m.evaluation_id,s.to_string(u.threadKey),v,_,l,String(e))}return null}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("CometStickerPickerStickerGeneratedCardQuery$Parameters",["CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerStickerGeneratedCardQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerStickerGeneratedCardQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerStickerGeneratedCard.entrypoint",["CometStickerPickerStickerGeneratedCardQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=4,s=r("JSResourceForInteraction")("CometStickerPickerStickerGeneratedCard.react").__setRef("CometStickerPickerStickerGeneratedCard.entrypoint"),u={getPreloadProps:function(n){var t=n.stickerHeight,a=n.stickerInterface,i=n.stickerWidth;return{extraProps:{stickerInterface:a},queries:{stickerGeneratedTrendingStickersQueryReference:{parameters:r("CometStickerPickerStickerGeneratedCardQuery$Parameters"),variables:{limit:e,scale:o("WebPixelRatio").get(),sticker_height:typeof t=="number"?Math.floor(t):t,sticker_width:typeof i=="number"?Math.floor(i):i}}}}},root:s};l.default=u}),98);
__d("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.count,n=t.cursor;return{queries:{flyoutTagsQueryReference:{parameters:r("CometStickerPickerFlyoutTagSelectorRootQuery$Parameters"),variables:{count:e,cursor:n,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometStickerPickerFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerFlyoutTagSelectorRoot.entrypoint")};l.default=e}),98);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery_facebookRelayOperation"),metadata:{},name:"CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint",["CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.count,n=t.cursor;return{queries:{flyoutTagsQueryReference:{parameters:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRootQuery$Parameters"),variables:{count:e,cursor:n,scale:o("WebPixelRatio").get()}}}}},root:r("JSResourceForInteraction")("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.react").__setRef("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint")};l.default=e}),98);
__d("CometStickerPickerStickerSearchCard.entrypoint",["CometStickerPickerFlyoutTagSelectorRoot.entrypoint","CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=r("JSResourceForInteraction")("CometStickerPickerStickerSearchCard.react").__setRef("CometStickerPickerStickerSearchCard.entrypoint"),s={getPreloadProps:function(t){var e=t.flyoutTagsCount,n=t.flyoutTagsCursor,a=t.stickerInterface,i={count:e,cursor:n};return{entryPoints:{flyoutTagSelectorEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i}),flyoutTagSelectorGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerGeneratedStickersFlyoutTagSelectorRoot.entrypoint"),entryPointParams:i})},extraProps:{stickerInterface:a}}},root:e};l.default=s}),98);
__d("CometStickerPickerCard.entrypoint",["CometStickerPickerCardQuery$Parameters","CometStickerPickerStickerGeneratedCard.entrypoint","CometStickerPickerStickerSearchCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils","WebPixelRatio"],(function(t,n,r,o,a,i,l){"use strict";var e=128,s=r("JSResourceForInteraction")("CometStickerPickerCard.react").__setRef("CometStickerPickerCard.entrypoint"),u={getPreloadProps:function(n){var t=n.feedbackID,a=n.flyoutTagsCount,i=n.flyoutTagsCursor,l=n.stickerHeight,s=l===void 0?e:l,u=n.stickerInterface,c=n.stickerWidth,d=c===void 0?e:c,m={flyoutTagsCount:a,flyoutTagsCursor:i,stickerInterface:u},p={stickerHeight:s,stickerInterface:u,stickerWidth:d};return{entryPoints:{stickerGeneratedEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerGeneratedCard.entrypoint"),entryPointParams:p}),stickerSearchEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerStickerSearchCard.entrypoint"),entryPointParams:m})},extraProps:{feedbackTargetID:t,stickerInterface:u},queries:{stickerPickerQueryReference:{parameters:r("CometStickerPickerCardQuery$Parameters"),variables:{feedbackID:t,scale:o("WebPixelRatio").get(),stickerInterface:u}}}}},root:s};l.default=u}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useContext,d=u.useEffect;function m(t){var n=o("react-compiler-runtime").c(4),a=t.description,i=c(o("hero-tracing-placeholder").HeroInteractionIDContext),l,s;return n[0]!==a||n[1]!==i?(l=function(){var t=(e||(e=r("performanceNow")))();return(function(){if(i!=null){var n=(e||(e=r("performanceNow")))();r("InteractionTracingMetrics").addSubspan(i,a,"AppTiming",t,n,{})}})},s=[a,i],n[0]=a,n[1]=i,n[2]=l,n[3]=s):(l=n[2],s=n[3]),d(l,s),null}l.default=m}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({SENDING:1});i.default=e}),66);
__d("FDSUndoFilled16Icon",["cr:15840"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:15840")}),98);
__d("GHLSurfaceContainerContext",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext(null);l.default=u}),98);
__d("GhlSwankFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1955947"),s=o("FalcoLoggerInternal").create("ghl_swank",e),u=s;l.default=u}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9627401294020921"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:r("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:e}}}}},root:r("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};l.default=e}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(t===void 0&&(t="Got unexpected null or undefined"),e==null)throw r("FBLogger")("hdwp").mustfixThrow(t);return e}l.nullthrows=e}),98);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch",["LSInsertAnonymousTaskContext","LSIssueNewTaskUsingSyncChannel","LSMailboxTaskCompletionApiOnTaskInsertion"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(o){return r[0]=new t.Map,r[0].set("message_id",e[0]),r[0].set("content_ref",e[1]),r[0].set("video_ps_product_holdout_2024h2_launch",e[2]),r[1]=r[0].get("message_id"),r[4]=["LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchSyncAction",".",r[1]].join(""),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTaskUsingSyncChannel"),r[4],t.i64.cast([0,1006]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,2]),!1,t.i64.cast([0,0])).then(function(e){var t;return t=e,r[3]=t[0],t})},function(e){return t.storedProcedure(n("LSMailboxTaskCompletionApiOnTaskInsertion"),r[3])},function(e){return t.storedProcedure(n("LSInsertAnonymousTaskContext"),r[3],"LS_MsgrXmaReceiverFetch")}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure",["LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatch"),a.messageId,a.contentRef,a.videoPsProductHoldout2024h2Launch);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(e){return t.sequence([function(e){return t.forEach(t.db.table(239).fetch(),function(e){return e.delete()})},function(e){return t.forEach(t.db.table(243).fetch(),function(e){return e.delete()})}])},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxClearReactionsV2DetailsAndRangeStoredProcedure",e.__tables__=["reactions_v2_details","reactions_v2_details_ranges_v2__generated"],a.exports=e}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t){var a=t.storedProcedure(r("LSClearReactionsV2DetailsAndRange"));return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}l.default=s}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});i.default=e}),66);
__d("LSEditMessage",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(n,r){var o=n.done,a=n.value;return o?0:(r=a.item,(t.i64.eq(e[1],t.i64.cast([0,20]))||t.i64.le(r.authorityLevel,e[1]))&&t.i64.le(e[3],t.i64.cast([0,5]))?t.forEach(t.filter(t.db.table(12).fetch([[[r.threadKey,r.timestampMs,e[0]]]]),function(n){return t.i64.eq(n.threadKey,r.threadKey)&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(n.timestampMs,r.timestampMs)&&n.messageId===e[0]}),function(n){var r=n.update,o=n.item;return r({authorityLevel:e[1],editCount:e[3],text:e[2],sendStatus:t.i64.eq(e[1],t.i64.cast([0,20]))?t.i64.cast([0,1]):t.i64.cast([0,2]),sendStatusV2:t.i64.eq(e[1],t.i64.cast([0,20]))?t.i64.cast([0,1]):t.i64.cast([0,2])})}):t.resolve())})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxEditMessageStoredProcedure",e.__tables__=["messages"],a.exports=e}),null);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.filter(t.db.table(119).fetch(),function(n){return t.i64.eq(n.ctaId,e[0])}).next().then(function(e,o){var a=e.done,i=e.value;return a?0:(o=i.item,r[0]=new t.Map,r[0].set("banner_id",o.bannerId),r[0].set("cta_type",o.ctaType),r[0].set("context_id",o.contextId),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",t.i64.cast([0,73]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0])))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure",e.__tables__=["in_thread_banner_ctas"],a.exports=e}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSExecuteCTA"),a.ctaId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=r[0].get("thread_key"),r[2]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),["fetch_additional_thread_data","_",t.i64.to_string(r[1])].join(""),t.i64.cast([0,733]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxFetchAdditionalThreadDataStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchAdditionalThreadData"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchBanners"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[5]=n.syncGroup,t.i64.neq(r[5],void 0)?r[4]=r[5]:r[4]=t.i64.cast([0,1]),r[0]=r[4])})},function(o){return t.db.table(183).fetch([[[e[0]]]]).next().then(function(o,a){var i=o.done,l=o.value;return i?t.sequence([function(n){return t.db.table(183).put({threadKey:e[0],suspectId:e[0]})},function(o){return r[4]=new t.Map,r[4].set("thread_key",e[0]),r[4].set("sync_group",r[0]),r[5]=t.toJSON(r[4]),t.storedProcedure(n("LSIssueNewTask"),"proactive_warnings_fetch_queue",t.i64.cast([0,192]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[2]=t.i64.cast([0,1])}]):(a=l.item,t.sequence([function(o){return r[5]=a.nextCheckTimestampMs,r[4]=t.i64.of_float(Date.now()),t.i64.neq(r[5],void 0)&&t.i64.ge(r[4],r[5])?t.sequence([function(n){return t.db.table(183).put({threadKey:e[0],suspectId:e[0]})},function(o){return r[7]=new t.Map,r[7].set("thread_key",e[0]),r[7].set("sync_group",r[0]),r[8]=t.toJSON(r[7]),t.storedProcedure(n("LSIssueNewTask"),"proactive_warnings_fetch_queue",t.i64.cast([0,192]),r[8],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return r[6]=t.i64.cast([0,1])}]):t.resolve((t.i64.neq(r[5],void 0)&&a.tag!==void 0?r[7]=t.i64.cast([0,2]):r[7]=t.i64.cast([0,3]),r[6]=r[7]))},function(e){return r[2]=r[6]}]))})}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure",e.__tables__=["threads","thread_proactive_warning_settings"],a.exports=e}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSFetchProactiveWarningsIfNeeded"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return e[3]!==void 0?(r[0]=new t.Map,r[0].set("open_message_thread_key",e[0]),r[0].set("armadillo_thread_key",e[1]),r[0].set("trace_id",e[3]),r[0].set("should_copy_messages",e[2]),r[1]=r[0].get("open_message_thread_key"),r[2]=r[0].get("armadillo_thread_key"),r[3]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),[t.i64.to_string(r[1]),"_",t.i64.to_string(r[2])].join(""),t.i64.cast([0,436]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))):(r[0]=new t.Map,r[0].set("open_message_thread_key",e[0]),r[0].set("armadillo_thread_key",e[1]),r[0].set("should_copy_messages",e[2]),r[1]=r[0].get("open_message_thread_key"),r[2]=r[0].get("armadillo_thread_key"),r[3]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),[t.i64.to_string(r[1]),"_",t.i64.to_string(r[2])].join(""),t.i64.cast([0,436]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0])))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSInitiateThreadMigration"),a.openMessageThreadKey,a.armadilloThreadKey,a.shouldCopyMessages,a.traceId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("roll_call_id",e[1]),r[0].set("thread_key",e[0]),r[0].set("query_purpose",t.i64.cast([0,2])),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"roll_call_point_query",t.i64.cast([0,611]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssuePointQueryForRollCallConversion"),a.threadKey,a.rollCallId);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSIssuePollCreationForThreadTask",["LSGetViewerFBID","LSIssueNewTaskWithExtraOperations"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[0]=t.i64.cast([0,1]):(n=a.item,r[8]=n.syncGroup,t.i64.neq(r[8],void 0)?r[7]=r[8]:r[7]=t.i64.cast([0,1]),r[0]=r[7])})},function(o){return r[2]=new t.Map,r[2].set("question_text",e[0]),r[2].set("thread_key",e[1]),r[2].set("options",e[2]),r[2].set("sync_group",r[0]),t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[3]=t[0],t})},function(n){return t.db.table(9).fetch([[[e[1]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[4]=!1:(n=a.item,t.sequence([function(e){return t.filter(t.db.table(14).fetch([[[n.threadKey,r[3]]]]),function(e){return t.i64.eq(e.threadKey,n.threadKey)&&t.i64.eq(t.i64.cast([0,0]),n.mailboxType)&&t.i64.eq(e.contactId,r[3])}).next().then(function(e,o){var a=e.done,i=e.value;return a?r[7]=!1:(o=i.item,t.i64.eq(n.threadType,t.i64.cast([0,152]))?(r[10]=o.threadRoles,t.i64.lt(t.i64.cast([0,7]),t.i64.cast([0,0]))||t.i64.gt(t.i64.cast([0,7]),t.i64.cast([0,11]))?r[11]=!1:r[11]=!t.i64.eq(t.i64.and_(t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.cast([0,7]))),r[10]),t.i64.cast([0,0])),r[12]=n.capabilities,r[13]=n.capabilities2,r[14]=n.capabilities3,r[15]=n.capabilities4,r[16]=n.capabilities5,r[18]=t.i64.div(t.i64.cast([0,223]),t.i64.cast([0,64])),r[19]=t.i64.lsl_(t.i64.cast([0,1]),t.i64.to_int32(t.i64.sub(t.i64.cast([0,223]),t.i64.mul(r[18],t.i64.cast([0,64]))))),t.i64.lt(t.i64.cast([0,223]),t.i64.cast([0,0]))||t.i64.gt(t.i64.cast([0,223]),t.i64.cast([0,307]))?r[17]=!1:(t.i64.eq(r[18],t.i64.cast([0,0]))?r[20]=!t.i64.eq(t.i64.and_(r[19],r[12]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,1]))?r[21]=!t.i64.eq(t.i64.and_(r[19],r[13]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,2]))?r[22]=!t.i64.eq(t.i64.and_(r[19],r[14]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,3]))?r[23]=!t.i64.eq(t.i64.and_(r[19],r[15]),t.i64.cast([0,0])):(t.i64.eq(r[18],t.i64.cast([0,4]))?r[24]=!t.i64.eq(t.i64.and_(r[19],r[16]),t.i64.cast([0,0])):r[24]=!1,r[23]=r[24]),r[22]=r[23]),r[21]=r[22]),r[20]=r[21]),r[17]=r[20]),r[11]!==r[17]&&((function(e){t.logger(e).mustfix(e)})("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),t.throw("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),r[9]=r[11]):r[9]=!1,r[7]=r[9])})},function(e){return r[4]=r[7]}]))})},function(e){return r[4]&&r[2].set("perform_action_as_page",!0),r[6]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),"poll_creation",t.i64.cast([0,163]),r[6],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxIssuePollCreationForThreadTaskStoredProcedure",e.__tables__=["threads","participants"],a.exports=e}),null);
__d("LSIssuePollCreationForThreadTaskStoredProcedure",["LSIssuePollCreationForThreadTask","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSIssuePollCreationForThreadTask"),a.questionText,a.threadKey,a.options);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSMessageTakedownState",[],(function(t,n,r,o,a,i){var e=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4,TAKEN_DOWN_BY_PARENT_FOR_ALL:5,TAKEN_DOWN_BY_PARENT_FOR_SELF_KID:6});i.default=e}),66);
__d("LSNullstateCTAType",[],(function(t,n,r,o,a,i){var e=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});i.default=e}),66);
__d("LSNullstateDescriptionType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});i.default=e}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.db.table(12).fetch([[[e[0]]],"messageId"]).next().then(function(o,a){var i=o.done,l=o.value;return i?0:(a=l.item,r[2]=a.editCount,r[1]=t.i64.of_float(Date.now()),t.i64.lt(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,5]))&&t.i64.le(r[1],t.i64.add(a.timestampMs,t.i64.cast([0,9e5])))?t.sequence([function(o){return t.storedProcedure(n("LSEditMessage"),a.messageId,t.i64.cast([0,20]),e[1],t.i64.add(r[2]==null?t.i64.cast([0,0]):r[2],t.i64.cast([0,1])))},function(o){return r[3]=new t.Map,r[3].set("message_id",e[0]),r[3].set("text",e[1]),t.i64.gt(t.i64.cast([0,0]),t.i64.cast([0,0]))?(r[7]=t.i64.of_float(Date.now()),r[4]=t.i64.add(r[7],t.i64.cast([0,0]))):r[4]=t.i64.cast([0,0]),r[5]=t.toJSON(r[3]),t.storedProcedure(n("LSIssueNewTaskAndGetTaskID"),"edit_message",t.i64.cast([0,742]),r[5],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,r[4],t.i64.cast([0,0])).then(function(e){var t;return t=e,r[6]=t[0],t})},function(e){return t.resolve()}]):t.resolve(0))})},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure",e.__tables__=["messages","pending_tasks"],a.exports=e}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSOptimisticEditMessage"),a.messageId,a.text);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSPageType",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,AI:1});i.default=e}),66);
__d("LSSetLoadingAfterOnMessageRanges",[],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],n=[],r=[];return t.sequence([function(n){return t.sortBy(t.db.table(13).fetch([[[e[0]]]]),[["maxTimestampMs","DESC"]]).next().then(function(e,n){var r=e.done,o=e.value;return r?0:(n=o.item,t.forEach(t.filter(t.db.table(13).fetch([[[n.threadKey,n.minTimestampMs,n.minMessageId]]]),function(e){return t.i64.eq(e.threadKey,n.threadKey)&&t.i64.eq(t.i64.cast([0,0]),t.i64.cast([0,0]))&&t.i64.eq(e.minTimestampMs,n.minTimestampMs)&&e.minMessageId===n.minMessageId}),function(e){var t=e.update,n=e.item;return t({isLoadingAfter:!0})}))})},function(e){return t.resolve(r)}])}e.__sproc_name__="LSMailboxSetLoadingAfterOnMessageRangesStoredProcedure",e.__tables__=["messages_ranges_v2__generated"],a.exports=e}),null);
__d("LSReportThreadViewOpen",["LSIssueNewTaskWithExtraOperations","LSSetLoadingAfterOnMessageRanges"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n,o,a=e.done,i=e.value;return a?(n=[void 0,void 0],r[0]=n[0],r[1]=n[1],n):(t=i.item,o=[t.syncGroup,t.threadType],r[0]=o[0],r[1]=o[1])})},function(e){return t.i64.neq(r[0],void 0)?t.sequence([function(e){return t.db.table(1).fetch([[[r[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[14]=void 0:(t=o.item,r[14]=t.syncParams)})},function(e){return r[3]=r[14]}]):t.resolve(r[3]=void 0)},function(n){return t.islc(t.db.table(12).fetch([[[e[0],t.i64.cast([0,80])]],"messageDisplayOrderAuthority"]),0,t.i64.to_float(t.i64.cast([0,1]))).next().then(function(e,t){var n=e.done,o=e.value;return n?r[4]=void 0:(t=o.item,r[4]=t.timestampMs)})},function(n){return t.db.table(294).fetch([[[e[0]]]]).next().then(function(e,n){var o,a,i=e.done,l=e.value;return i?(o=[!1,t.i64.cast([0,0]),void 0],r[6]=o[0],r[7]=o[1],r[8]=o[2],o):(n=l.item,a=[n.isStale,n.threadQueueSequenceId,n.lastSelectiveSyncTimestampMs],r[6]=a[0],r[7]=a[1],r[8]=a[2])})},function(e){return r[6]?r[10]=!0:r[10]=!1,t.i64.neq(r[8],void 0)&&(t.i64.eq(r[1],t.i64.cast([0,152]))?r[14]=t.i64.cast([0,0]):r[14]=t.i64.cast([0,0]),r[15]=t.i64.of_float(Date.now())),t.resolve()},function(o){return r[11]=new t.Map,r[11].set("thread_key",e[0]),r[11].set("is_stale",r[10]),r[11].set("client_seq_id",r[7]),r[11].set("sync_params_encoded",r[3]),r[11].set("client_last_sync_timestamp_ms",r[8]),r[11].set("sync_group",r[0]),r[11].set("last_message_timestamp_ms",r[4]),r[12]=r[11].get("thread_key"),r[13]=t.toJSON(r[11]),t.storedProcedure(n("LSIssueNewTaskWithExtraOperations"),["report_thread_view_open","_",t.i64.to_string(r[12])].join(""),t.i64.cast([0,605]),r[13],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),void 0,t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxReportThreadViewOpenStoredProcedure",e.__tables__=["threads","sync_groups","messages","community_thread_sync_info"],a.exports=e}),null);
__d("LSReportThreadViewOpenStoredProcedure",["LSReportThreadViewOpen","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSReportThreadViewOpen"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=new t.Map,r[0].set("thread_key",e[0]),r[1]=t.toJSON(r[0]),t.storedProcedure(n("LSIssueNewTask"),"ctm_ad_context",t.i64.cast([0,235]),r[1],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure",e.__tables__=[],a.exports=e}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSRequestAdContextFromThreadKey"),a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return r[0]=["typing","_",t.i64.to_string(e[0])].join(""),t.sequence([function(e){return t.forEach(t.filter(t.db.table(5).fetch(),function(e){return r[0]===e.queueName}),function(e){return e.delete()})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[1]=t.i64.cast([0,1]):(n=a.item,r[7]=n.syncGroup,t.i64.neq(r[7],void 0)?r[6]=r[7]:r[6]=t.i64.cast([0,1]),r[1]=r[6])})},function(n){return t.db.table(9).fetch([[[e[0]]]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[3]=void 0:(t=o.item,r[3]=t.threadType)})},function(o){return r[5]=new t.Map,r[5].set("thread_key",e[0]),r[5].set("is_group_thread",e[1]),r[5].set("is_typing",e[2]),r[5].set("attribution",t.i64.cast([0,0])),r[5].set("sync_group",r[1]),r[5].set("thread_type",r[3]),r[6]=t.toJSON(r[5]),t.storedProcedure(n("LSIssueNewFireAndForgetTask"),r[0],t.i64.cast([0,3]),r[6])}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure",e.__tables__=["threads","pending_fire_and_forget_tasks"],a.exports=e}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSSendTypingIndicator"),a.threadKey,a.isGroupThread,a.isTyping);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.sortBy(t.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(e,t){var n=e.done,o=e.value;return n?r[0]=!1:(t=o.item,r[0]=t.errorShouldBeShown)})},function(e){return r[0]===!0?t.sequence([function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,2285622730]),void 0).then(function(e){return r[4]=e})},function(e){return n("LSLocalize").localizeV2Async(t.i64.cast([0,1919524925]),void 0).then(function(e){return r[5]=e})},function(e){return t.storedProcedure(n("LSIssueNewError"),void 0,t.i64.cast([0,1545093]),r[4],r[5],void 0,void 0)}]):t.resolve()},function(o){return r[2]=new t.Map,r[2].set("thread_key",e[0]),r[2].set("marketplace_cta_type",e[1]),r[3]=t.toJSON(r[2]),t.storedProcedure(n("LSIssueNewTask"),"marketplace_server_mutation_cta",t.i64.cast([0,279]),r[3],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure",e.__tables__=["user_visible_network_connectivity_error"],a.exports=e}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSServerMutationCta"),a.threadKey,a.marketplaceCtaType);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LSThreadPointQueryTTRCStatus",[],(function(t,n,r,o,a,i){var e=Object.freeze({COMPLETED:1,SKIPPED:2});i.default=e}),66);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){if(o("LSMessagingThreadTypeUtil").isOneToOne(t)){if(n.length===1){var i=n[0],l=i[0],s=i[1];return s!=null?[l,s]:void 0}var u=n.filter(function(t){var n=t[0];return!(e||(e=o("I64"))).equal(n.contactId,a)});if(u.length===0){r("FBLogger")("messenger_web").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(e||(e=o("I64"))).to_int32(t),n.length,n.some(function(t){var n=t[0];return(e||(e=o("I64"))).equal(n.contactId,a)}));return}var c=u[0],d=c[0],m=c[1];if(m!=null)return[d,m]}}l.default=s}),98);
__d("LSThreadTitleWithContactWrapper.react",["LSMessagingThreadTypeUtil","LSThreadTitle.react","MWChatTextTransform","getMWV2OtherUser","react","react-compiler-runtime","useLSComputedThreadName"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e.thread,a=e.transforms,i=e.wrapOutput,l=r("useLSComputedThreadName")(n,a),s=l.actorId,u=l.participantsAndContacts,c=l.threadNameElement,d;if(t[0]!==s||t[1]!==u||t[2]!==n.threadType||t[3]!==c||t[4]!==i){d=Symbol.for("react.early_return_sentinel");e:{var m=r("getMWV2OtherUser")(n.threadType,u,s);if(m!=null){d=i(m[1],c);break e}}t[0]=s,t[1]=u,t[2]=n.threadType,t[3]=c,t[4]=i,t[5]=d}else d=t[5];return d!==Symbol.for("react.early_return_sentinel")?d:c}function c(e){var t=o("react-compiler-runtime").c(7),n=e.thread,a=e.transforms,i=e.wrapOutput,l=a===void 0?o("MWChatTextTransform").textTransforms:a;if(!o("LSMessagingThreadTypeUtil").isOneToOne(n.threadType)||i==null){var c;return t[0]!==n||t[1]!==l?(c=s.jsx(r("LSThreadTitle.react"),{thread:n,transforms:l}),t[0]=n,t[1]=l,t[2]=c):c=t[2],c}var d;return t[3]!==n||t[4]!==l||t[5]!==i?(d=s.jsx(u,{thread:n,transforms:l,wrapOutput:i}),t[3]=n,t[4]=l,t[5]=i,t[6]=d):d=t[6],d}l.default=c}),98);
__d("LSTypingIndicatorSettingState",[],(function(t,n,r,o,a,i){var e=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});i.default=e}),66);
__d("LSUpdateE2eeHdMediaSettings",["LSGetViewerFBID","LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(e){return t.storedProcedure(n("LSGetViewerFBID")).then(function(e){var t;return t=e,r[0]=t[0],t})},function(n){return t.forEach(t.db.table(288).fetch([[[r[0]]]]),function(t){var n=t.update,r=t.item;return n({e2eeHdMediaEnabled:e[0]})})},function(o){return r[1]=new t.Map,r[1].set("hd_media_enabled",e[0]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"toggle_e2ee_hd_media_settings",t.i64.cast([0,1030]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSOmnistoreSettingsUpdateE2eeHdMediaSettingsStoredProcedure",e.__tables__=["messaging_privacy_settings"],a.exports=e}),null);
__d("LSVerifyReachabilityBannerEligible",["LSIssueNewTask"],(function(t,n,r,o,a,i){function e(){var e=arguments,t=e[e.length-1],r=[],o=[];return t.sequence([function(o){return t.sequence([function(n){return t.i64.neq(e[2],void 0)?t.sequence([function(n){return t.db.table(9).fetch([[[e[2]]]]).next().then(function(e,n){var o=e.done,a=e.value;return o?r[3]=t.i64.cast([0,1]):(n=a.item,r[6]=n.syncGroup,t.i64.neq(r[6],void 0)?r[5]=r[6]:r[5]=t.i64.cast([0,1]),r[3]=r[5])})},function(e){return r[0]=r[3]}]):t.resolve(r[0]=t.i64.cast([0,1]))},function(o){return r[1]=new t.Map,r[1].set("contact_id",e[0]),r[1].set("contact_reachability_status_type",e[1]),r[1].set("sync_group",r[0]),r[2]=t.toJSON(r[1]),t.storedProcedure(n("LSIssueNewTask"),"verify_reachability_status",t.i64.cast([0,160012]),r[2],void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]),void 0,void 0,t.i64.cast([0,0]),t.i64.cast([0,0]))}])},function(e){return t.resolve(o)}])}e.__sproc_name__="LSMailboxVerifyReachabilityBannerEligibleStoredProcedure",e.__tables__=["threads"],a.exports=e}),null);
__d("LSVerifyReachabilityBannerEligibleStoredProcedure",["LSSynchronousPromise","LSVerifyReachabilityBannerEligible","Promise","cr:8709"],(function(t,n,r,o,a,i,l){var e;function s(t,a){var i=t.storedProcedure(r("LSVerifyReachabilityBannerEligible"),a.contactId,a.contactReachabilityStatusType,a.threadKey);return(e||(e=n("Promise"))).resolve(o("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(i))}l.default=s}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743836"),s=o("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",e),u=s;l.default=u}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743837"),s=o("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",e),u=s;l.default=u}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743846"),s=o("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",e),u=s;l.default=u}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1743878"),s=o("FalcoLoggerInternal").create("ls_reply_rendered",e),u=s;l.default=u}),98);
__d("MAWMediaSetRetryingAndIncreaseCount",["FBLogger","I64","LSIntEnum","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){r("promiseDone")(t.then(function(t){return t.runInTransaction(async function(t){var a,i=await t.client_media_status.get(n);if(i==null){r("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",n);return}return t.client_media_status.put({downloadRetryCount:(e||(e=o("I64"))).add((a=i.downloadRetryCount)!=null?a:(e||(e=o("I64"))).zero,e.one),id:n,mainMediaStatus:(s||(s=o("LSIntEnum"))).ofNumber(5),mainMediaStatusDetails:"manual_retry"})},"readwrite",void 0,void 0,i.id+":23")}))}l.call=u}),98);
__d("MAWIssueReceiverFetchTaskDeferred",["requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWIssueReceiverFetchTask").__setRef("MAWIssueReceiverFetchTaskDeferred");function s(t,n,r,o){return e.load().then(function(e){return e.issueReceiverFetchTask(t,n,r,o)})}l.issueReceiverFetchTask=s}),98);
__d("MAWMediaIncreaseCount",["FBLogger","I64","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){r("promiseDone")(t.then(function(t){return t.runInTransaction(async function(t){var a,i=await t.client_media_status.get(n);if(i==null){r("FBLogger")("messenger_web_media").mustfix("Trying to increase download retry count without pre-existing media status %s",n);return}return t.client_media_status.put(babelHelpers.extends({},i,{downloadRetryCount:(e||(e=o("I64"))).add((a=i.downloadRetryCount)!=null?a:(e||(e=o("I64"))).zero,e.one)}))},"readwrite",void 0,void 0,i.id+":21")}))}l.call=s}),98);
__d("MAWRetryReceiverFetchSticker",["FBLogger","MAWBridgeUpdateClientMediaStatusHandler","MAWIssueReceiverFetchTaskDeferred","MAWMediaDownloadStatus","MAWMediaIncreaseCount","WAHashUtils","nullthrows","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){if(n==null||n.addPoint("receiver_fetch_retry_attempt"),t==null){n==null||n.endFailAfterDelay("receiver_fetch_retry_no_attachment");return}var a=r("nullthrows")(t.receiverFetchId),i=t.messageId,l=t.threadKey,s=o("WAHashUtils").stringToPlaintextHash(i);o("MAWMediaIncreaseCount").call(e,s.toString()),r("promiseDone")(e,function(e){return o("MAWIssueReceiverFetchTaskDeferred").issueReceiverFetchTask(e,i,a,l)},function(t){n==null||n.endFailAfterDelay("receiver_fetch_task_fail"),r("promiseDone")(e,function(e){return o("MAWBridgeUpdateClientMediaStatusHandler").call(e,{details:"receiver_fetch_task_fail_"+t,key:s,status:r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,type:"main"})}),r("FBLogger")("messenger_web_media").catching(t).warn("Failed to issue media receiver fetch task for manual retry")})}l.retryReceiverFetchSticker=e}),98);
__d("useMAWBulkMediaDownloadManualRetry",["MAWClientMediaStatusUtils","MAWDownloadMediaInWorkerDeferred","MAWMediaSetRetryingAndIncreaseCount","MAWRetryReceiverFetchSticker","isReceiverFetchSticker","react","react-compiler-runtime","useAsyncReStore","useClientMediaStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useMemo;function d(e,t){var n=o("react-compiler-runtime").c(10),a=r("useAsyncReStore")(),i;if(n[0]!==e||n[1]!==t){var l;n[3]!==t?(l=function(n){var e=n.attachment,o=n.mediaStatus,a=r("isReceiverFetchSticker")(e);return{attachment:e,mediaRenderQpl:t,mediaStatus:o,statusKey:a?e.messageId:e.attachmentFbid}},n[3]=t,n[4]=l):l=n[4],i=e.map(l),n[0]=e,n[1]=t,n[2]=i}else i=n[2];var s=i,u=r("useClientMediaStatus")(s),c;return n[5]!==s||n[6]!==u||n[7]!==a||n[8]!==t?(c=function(){s.forEach(function(e){var n,i=e.attachment,l=e.mediaStatus,s=e.statusKey,c=r("isReceiverFetchSticker")(i),d=o("MAWClientMediaStatusUtils").getStatusDataFromLsdb({clientMediaStatus:u,preloadedMediaStatus:l,statusKey:s}),m=d.retryCount,p=d.statusData;if(t==null||t.start({isManualRetry:!0,manualRetryCount:m,previousManualRetryErrorDetails:(n=p==null?void 0:p.mainMediaStatusDetails)!=null?n:"no-previous-status"}),c){o("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(a,i,t);return}o("MAWMediaSetRetryingAndIncreaseCount").call(a,s),o("MAWDownloadMediaInWorkerDeferred").downloadMediaInWorker({attachment:i,dbPromise:a,mediaRenderQpl:t,triggerUIView:"manual-retry-thread"})})},n[5]=s,n[6]=u,n[7]=a,n[8]=t,n[9]=c):c=n[9],c}l.default=d}),98);
__d("useMAWMaybeAutoTriggerDownload",["MAWDownloadMediaInWorkerDeferred","MAWMediaDownloadStatus","MAWRetryReceiverFetchSticker","isReceiverFetchSticker","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef;function d(e){var t=o("react-compiler-runtime").c(22),n=e.attachment,a=e.downloadStatusKeyOverride,i=e.downloadStatusV2,l=e.downloadType,s=e.mediaRenderQpl,d=e.shouldDisableAutoTriggerDownload,m=e.triggerUIView,p=e.xmaMediaType,_=d===void 0?!1:d,f;t[0]!==n?(f=r("isReceiverFetchSticker")(n),t[0]=n,t[1]=f):f=t[1];var g=f,h=!g&&r("MAWMediaDownloadStatus").DOWNLOADING,y;t[2]!==h?(y=[r("MAWMediaDownloadStatus").MISSING_FILE,r("MAWMediaDownloadStatus").MANUAL_RETRYABLE_FAILURE,r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,h].filter(Boolean),t[2]=h,t[3]=y):y=t[3];var C=y,b=C.includes(i==null?void 0:i.mainMediaStatus),v=!_&&b,S=c(!1),R=r("useAsyncReStore")(),L;t[4]!==n||t[5]!==R||t[6]!==l||t[7]!==g||t[8]!==s||t[9]!==v||t[10]!==m?(L=function(){v&&S.current===!1&&(S.current=!0,g?o("MAWRetryReceiverFetchSticker").retryReceiverFetchSticker(R,n,s):o("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:n,dbPromise:R,downloadType:l,mediaRenderQpl:s,triggerUIView:m}))},t[4]=n,t[5]=R,t[6]=l,t[7]=g,t[8]=s,t[9]=v,t[10]=m,t[11]=L):L=t[11];var E;t[12]!==n||t[13]!==R||t[14]!==a||t[15]!==l||t[16]!==g||t[17]!==s||t[18]!==v||t[19]!==m||t[20]!==p?(E=[n,s,v,m,g,R,a,p,l],t[12]=n,t[13]=R,t[14]=a,t[15]=l,t[16]=g,t[17]=s,t[18]=v,t[19]=m,t[20]=p,t[21]=E):E=t[21],u(L,E)}l.default=d}),98);
__d("MAWAttachmentStateHandlerContentBase.react",["FBLogger","InteractionTracingMetrics","LSIntEnum","MAWClientMediaStatusUtils","MAWMediaDownloadStatusUIStateType","react","useMAWBulkMediaDownloadManualRetry","useMAWMaybeAutoTriggerDownload","useMAWMediaDownloadStatus"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=e||(e=r("react")),m=c.useEffect,p=c.useMemo;function _(e){var t=e.attachmentsFromGroupToRetry,n=e.dbAttachment,a=e.descriptionForLogging,i=e.downloadStatusKeyOverride,l=e.errorComponentRenderer,u=e.errorWithBlurComponentRenderer,c=e.loadingPlaceholderRenderer,d=e.mediaRenderQpl,_=e.shouldDisableAutoTriggerDownload,f=_===void 0?!1:_,g=e.successfulComponentRenderer,h=e.xmaMediaType,y=p(function(){return t!=null&&t.length>0?t:[{attachment:n}]},[n,t]),C=r("useMAWBulkMediaDownloadManualRetry")(y,d),b=r("useMAWMediaDownloadStatus")(n,d,i),v=b.status,S=b.uiState;r("useMAWMaybeAutoTriggerDownload")({attachment:n,downloadStatusKeyOverride:i,downloadStatusV2:v!=null?o("MAWClientMediaStatusUtils").getMAWMediaStatus(v):null,downloadType:"fullsizeAndPreview",mediaRenderQpl:d,shouldDisableAutoTriggerDownload:f,triggerUIView:"thread",xmaMediaType:h}),m(function(){var e={string:{call_site:a,download_status_main_details:v==null?void 0:v.mainMediaStatusDetails,download_status_main_media:String((v==null?void 0:v.mainMediaStatus)!=null?o("MAWClientMediaStatusUtils").getMAWMediaDownloadStatus((s||(s=o("LSIntEnum"))).unwrapIntEnum(v.mainMediaStatus)):v==null?void 0:v.mainMediaStatus),download_status_preview_details:v==null?void 0:v.previewMediaStatusDetails,download_status_preview_media:String((v==null?void 0:v.previewMediaStatus)!=null?o("MAWClientMediaStatusUtils").getMAWMediaDownloadStatus((s||(s=o("LSIntEnum"))).unwrapIntEnum(v.previewMediaStatus)):v==null?void 0:v.previewMediaStatus),download_status_ui_state:S}};d==null||d.addPoint("render-attachment-state-handler-content-wrapper-"+(S!=null?S:"null"),e),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-attachment-state-handler-content-wrapper-"+(S!=null?S:"null"),"AppTiming")})},[d,S,v==null?void 0:v.mainMediaStatusDetails,v==null?void 0:v.mainMediaStatus,v==null?void 0:v.previewMediaStatusDetails,v==null?void 0:v.previewMediaStatus,a]),m(function(){switch(S){case"non_retryable_error":case"retryable_error":case"non_retryable_error_with_preview":case"retryable_error_with_preview":v!=null&&v.mainMediaStatusDetails?d==null||d.endFailAfterDelay(S+": "+(v==null?void 0:v.mainMediaStatusDetails)):d==null||d.endFailAfterDelay(S);break;case"downloaded":case"loading":break;default:d==null||d.endFailAfterDelay("unknown_state",{string:{unknown_state_value:S}});break}},[d,S,a]);var R=o("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(S);switch(S){case"loading":return c(a+".MAWAttachmentStateHandlerContentBase.NoMedia",!1);case"non_retryable_error":case"retryable_error":return l(R,C);case"non_retryable_error_with_preview":case"retryable_error_with_preview":return u==null?l(R,C):u(R,C);case"downloaded":return g(c);default:return r("FBLogger")("messenger_web_media").mustfix("[MAW Attachment Content] Unknown MediaDownloadStatusUIState %s",S),c(a+".MAWAttachmentStateHandlerContentBase.UnknownState",!1)}}_.displayName=_.name+" [from "+i.id+"]",l.default=_}),98);
__d("MAWBumpThread",["ODS","ReQL"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t){var n=t.description,r=t.lastActivityTs,a=t.lastMessageCtaType,i=t.lastReadTs,l=t.threadKey,s=t.txn,u=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(s.threads).getKeyRange(l));if(u==null)return(e||(e=o("ODS"))).bumpEntityKey(3185,"armadillo_thread_bump","missing_thread");var c=babelHelpers.extends({},u,{lastActivityTimestampMs:r!=null?r:u.lastActivityTimestampMs,lastMessageCtaType:a,lastReadWatermarkTimestampMs:i!=null?i:u.lastReadWatermarkTimestampMs});await s.threads.put(c)}l.threadMutation_DEPRECATED=s}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=s._(/*BTDS*/"File");function c(t){return t.filesize==null?null:r("formatFileSize")((e||(e=o("I64"))).to_int32(t.filesize))}l.PLACEHOLDER_FILENAME=u,l.getFileSize=c}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWXPressable.react","goUriOnNewWindow","react","react-compiler-runtime","useMWFileOnPress"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useEffect,p={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.linkProps,i=e.onPress,l=e.testid,s;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(s=u.jsx(r("MWXPressable.react"),{display:"inline",linkProps:a,onPress:i,overlayDisabled:!0,testid:void 0,xstyle:p.filePressable,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=s):s=t[4],s}function f(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.linkProps,i=e.onPress,l=e.testid,s=r("useMWFileOnPress")(i),c;return t[0]!==n||t[1]!==a||t[2]!==s||t[3]!==l?(c=u.jsx(_,{linkProps:a,onPress:s,testid:void 0,children:n}),t[0]=n,t[1]=a,t[2]=s,t[3]=l,t[4]=c):c=t[4],c}function g(e){var t,n=e.children,a=e.file,i=e.getFileUrl,l=e.mediaRenderQpl,c=e.onPress,p=e.renderUnsupportedAttachment,g=e.testid,h=((t=a.filename)!=null?t:o("MWFileUtils").PLACEHOLDER_FILENAME).toString(),y=i!=null?i(a,"MAWFilePressable",l):o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(a,"MAWFilePressable",l),C=o("MWChatMessageId").makeSent((s||(s=o("I64"))).to_string(a.threadKey),a.messageId,s.to_string(a.timestampMs)),b={download:h,target:"_blank",url:y},v=o("MWFileUtils").getFileSize(a),S=d(function(e,t){r("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(e.message||"Cannot open file viewer in "+t),y!=null&&r("goUriOnNewWindow")(y)},[y]);return m(function(){y!=null&&y.length>0?(l==null||l.addPoint("render-file-pressable"),l==null||l.endSuccessAfterDelay()):l==null||l.endFailAfterDelay("load-file-error")},[l,y]),(y==null||y.length===0)&&p!=null?p(a):C.type==="sent"?u.jsx(r("CometErrorBoundary.react"),{onError:S,children:u.jsx(f,{linkProps:b,onPress:c,testid:void 0,children:n({filename:h,messageID:C,size:v})})}):u.jsx(_,{linkProps:b,onPress:c,testid:void 0,children:n({filename:h,messageID:C,size:v})})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.file,i=t.getFileUrl,l=t.mediaRenderQpl,s=t.renderUnsupportedAttachment,d;n[0]!==a?(d=function(n){var t=n.filename,o=n.size;return u.jsxs("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.root,!1),{children:[u.jsx(r("MWChatFilePreview.react"),{attachment:a,withPreview:!1}),u.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe",children:[u.jsx(r("MWXTextPairing.react"),{headline:t,headlineLineLimit:3,level:4}),u.jsx("div",{className:"x889kno",children:u.jsx(r("MWXTextPairing.react"),{body:o,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}))},n[0]=a,n[1]=d):d=n[1];var m;return n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==s||n[6]!==d?(m=u.jsx(r("MAWFilePressable.react"),{file:a,getFileUrl:i,mediaRenderQpl:l,renderUnsupportedAttachment:s,testid:void 0,children:d}),n[2]=a,n[3]=i,n[4]=l,n[5]=s,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("MAWChatLiveLocationDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9800226046700666"}),null);
__d("MAWChatLiveLocationDialogQuery$Parameters",["MAWChatLiveLocationDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MAWChatLiveLocationDialogQuery_facebookRelayOperation"),metadata:{},name:"MAWChatLiveLocationDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MAWChatLiveLocationDialog.entrypoint",["JSResourceForInteraction","MAWChatLiveLocationDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){return{queries:{queryReference:{parameters:r("MAWChatLiveLocationDialogQuery$Parameters"),variables:{data:{client_subscription_id:t.clientSubscriptionId,thread_key:t.threadKey}}}}}},root:r("JSResourceForInteraction")("MAWChatLiveLocationDialog.react").__setRef("MAWChatLiveLocationDialog.entrypoint")};l.default=e}),98);
__d("MAWCreateOptimisticSecureMessage",["EntMessageReplyType","I64","LSAuthorityLevel","LSIntEnum","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSMessageSendStatus","LSQuickReplyType","LSReplyMessageAttachmentType","LSReplyMessageStatus","MAWBridgeBuildMsg","MAWMsgReplySnippet","MessagingAttachmentType","QPLUserFlow","ReQL","isMWBumpMessage","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s;async function u(e,t,n,a){if(n==null)return[void 0,void 0];var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.messages).getKeyRange(t,n.timestampMs,n.messageId));r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"get_reply_msg_end",{instanceKey:a});var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.attachments).getKeyRange(t,n.messageId));return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"get_reply_attachment_end",{instanceKey:a}),[i,l]}async function c(e,t){var n=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(t));return n==null?void 0:n.firstName}async function d(t,n,a,i){var l;if(n!=null){var s=r("isMWBumpMessage")(n.replyType)&&n.replyToUserId!=null?n.replyToUserId:n.senderId,u=await c(t,s),d=n.replyStatus!=null?(e||(e=o("I64"))).to_int32(n.replyStatus)===r("LSReplyMessageStatus").DELETED:!1;return(l=o("MAWMsgReplySnippet").buildLocalizedReplySnippetLegacy({isAuthorMe:!0,isBumpMsg:i,isDeletedMsg:d,recipientName:u,replySenderIsMe:(e||(e=o("I64"))).equal(s,a)}))==null?void 0:l.toString()}}function m(t){if(t!=null){var n=t.attachmentType;return(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))||(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?t.previewUrl:void 0}}function p(t){if(t!=null)return(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO):(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER):(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO):(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE))?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF):(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE))||(e||(e=o("I64"))).equal(t==null?void 0:t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO))?(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE):(s||(s=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER)}async function _(e,t,n,a,i,l,c,_,f,g,h,y,C,b){var v=await o("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_get_reply",_,function(){return u(t,l,a,_)}),S=v[0],R=v[1],L=o("MAWBridgeBuildMsg").buildOptimisticMessage(i,S,f,C),E=await o("sendToSentQPLLogger").measureSendToSentPerformance("optimistic_message_reply_snippet",_,function(){return d(e,S,n,b===!0)}),k=babelHelpers.extends({},L,{authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),displayedContentTypes:s.ofNumber(y),hasQuickReplies:!1,hotEmojiSize:c,isAdminMessage:!1,isCollapsed:!1,isUnsent:!1,messageId:g,offlineThreadingId:g,primarySortKey:h,quickReplyType:s.ofNumber(r("LSQuickReplyType").NONE),replyAttachmentType:p(R),replyMediaPreviewHeight:R==null?void 0:R.previewHeight,replyMediaPreviewWidth:R==null?void 0:R.previewWidth,replyMediaUrl:m(R),replyMediaUrlMimeType:R==null?void 0:R.playableUrlMimeType,replySnippet:E,replySourceId:a==null?void 0:a.messageId,replySourceType:a!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceType").MESSAGE):void 0,replySourceTypeV2:a!=null?(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE):void 0,replyType:b===!0?(s||(s=o("LSIntEnum"))).ofNumber(r("EntMessageReplyType").BUMP):void 0,senderId:n,sendStatus:s.ofNumber(r("LSMessageSendStatus").SENDING_TO_SERVER),sendStatusV2:s.ofNumber(1),textHasLinks:!1,threadKey:l,timestampMs:h,transportKey:"WhatsApp",viewFlags:s.ofNumber(0)});return k}l.buildOptimisticLsMessage=_}),98);
__d("MAWOptimisticMessageUtils",["I64","LSAuthorityLevel","LSHotEmojiSize","LSIntEnum","MAWAckLevel","MAWAdminMsg","MAWBumpThread","MAWLocalizationType","MAWMsgType","MessagingAttachmentType","ReQL","WAJids","WATimeUtils"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){return o("WATimeUtils").millisTime()}async function c(t,n){var r=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.threads.index("lastActivityTimestampMs")));return r==null||(e||(e=o("I64"))).equal(r.threadKey,n)?null:(e||(e=o("I64"))).add(r.lastActivityTimestampMs,e.one)}async function d(e,t){var n=t.threadKey,r=await c(e,n);await o("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWOptimisticMessageUtils",lastActivityTs:r,lastReadTs:r,threadKey:n,txn:e})}async function m(e,t){var n=t.optimisticMediaAttachment,r=t.threadKey,a=g(n.type);if(a!=null){var i=await c(e,r);await o("MAWBumpThread").threadMutation_DEPRECATED({description:"MAWCreateOptimisticSecureMessageWithAttachment",lastActivityTs:i,lastReadTs:i,threadKey:r,txn:e})}}function p(e){var t=e.ephemeralSettings,n=e.externalId,r=e.threadJid,a=e.ts;return{ack:o("MAWAckLevel").ACK.partialOptimistic,altIndex:void 0,author:o("WAJids").AUTHOR_ME,ephemeralSetting:t!=null?t:void 0,externalId:n,isForwarded:!1,specialTextSize:void 0,threadJid:r,ts:o("WATimeUtils").castMilliSecondsToUnixTime(a)}}function _(e){var t=e.commands,n=e.content,r=e.initiatingSource,o=e.isFirstMsg,a=e.mentionedJids,i=e.optimisticMsg,l=e.quote,s=e.specialTextSize,u=e.threadSource;return{commands:t==null?void 0:t.slice(),content:n,initiatingSource:r,isFirstMsg:o,isForwarded:!1,mentionedJids:a==null?void 0:a.slice(),openMessageOtid:void 0,openMessageParticipantCount:void 0,optimisticMsg:i,participantCount:void 0,quote:l,source:u,specialTextSize:s}}function f(t){var n=t.optimisticMediaAttachment,a=t.threadKey,i=t.timestampMsI64,l={actionUrl:t.actionUrl,attachmentFbid:t.offlineAttachmentId,attachmentIndex:(e||(e=o("I64"))).zero,attachmentType:t.attachmentType,authorityLevel:(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC),filename:n==null?void 0:n.filename,gifPlayback:t.gifPlayback,hasMedia:!e.equal(t.attachmentType,s.ofNumber(r("MessagingAttachmentType").XMA)),hasXma:e.equal(t.attachmentType,s.ofNumber(r("MessagingAttachmentType").XMA)),isHd:t.isHd,isSharable:!1,messageId:t.messageExternalId,offlineAttachmentId:t.offlineAttachmentId,receiverFetchId:t.contentRef,subtitleText:t.subtitleText,threadKey:a,timestampMs:i,titleText:t.titleText,transportKey:"WhatsApp",xmaContentType:t.xmaContentType};if(n){if(l=babelHelpers.extends({},l,{filesize:(e||(e=o("I64"))).of_float(n.file.size),previewUrl:n.url}),n.type==="image"||n.type==="animated_image"||n.type==="video"||n.type==="sticker"){var u,c,d,m;l=babelHelpers.extends({},l,{previewHeight:(u=n.thumbnailSpec)!=null&&u.height?(e||(e=o("I64"))).of_float((c=n.thumbnailSpec)==null?void 0:c.height):void 0,previewWidth:(d=n.thumbnailSpec)!=null&&d.width?(e||(e=o("I64"))).of_float((m=n.thumbnailSpec)==null?void 0:m.width):void 0})}n.type==="audio"&&(l=babelHelpers.extends({},l,{waveformData:n.waveformString}))}return l}function g(e){switch(e){case"animated_image":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_GIF);case"image":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_IMAGE);case"video":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_VIDEO);case"audio":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_AUDIO);case"document":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_ATTACHMENT);case"sticker":return o("MAWAdminMsg").buildLocalizedString([],[],o("MAWLocalizationType").CURRENT_USER_SEND_STICKER);default:return null}}function h(e){switch(e){case(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER):return o("MAWMsgType").MSG_TYPE.STICKER;case(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE):return o("MAWMsgType").MSG_TYPE.IMAGE;case(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE):return o("MAWMsgType").MSG_TYPE.GIF;case(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO):return o("MAWMsgType").MSG_TYPE.VIDEO;case(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO):return o("MAWMsgType").MSG_TYPE.PTT;default:return o("MAWMsgType").MSG_TYPE.DOCUMENT_FILE}}function y(t){if(t!=null){if((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL)))return 1;if((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM)))return 2;if((e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))return 3}}l.getOptimisticMessageTimestamp=u,l.getOptimisticThreadBumpTimestamp=c,l.optimisticBumpThread=d,l.optimisticBumpThreadMedia=m,l.buildMAWOptimisticBaseMsg=p,l.buildMAWBaseSendMsgArgs=_,l.buildOptimisticAttachment=f,l.lsAttachmentTypeToMsgType=h,l.getSpecialTextSize=y}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n,a,i,l,s,c,d,m,p,_,f,g,h){m(_);var y=o("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),C=(e||(e=o("I64"))).of_float(y),b=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(t,n,a,i,"",l,void 0,d,void 0,_,C,u(c.type,h)),v=f==null?void 0:f.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s));v!=null&&(b=babelHelpers.extends({},b,{groupId:v.groupId,groupIndex:(e||(e=o("I64"))).of_float(v.groupIndex),groupSize:e.of_float(v.groupSize)})),await n.messages.add(b);var S=o("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:p,gifPlayback:h,isHd:g,messageExternalId:_,offlineAttachmentId:s,optimisticMediaAttachment:c,senderId:a,threadKey:l,timestampMsI64:C});return await n.attachments.add(S),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:d}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:d}),await o("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(n,{optimisticMediaAttachment:c,senderId:a,threadKey:l}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:d}),{messageExternalId:_,offlineAttachmentId:o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(s),offlineMsgTimestamp:y}}function u(e,t){switch(e){case"animated_image":return 16384;case"image":return 2;case"video":return t===!0?16384:2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}l.createOptimisticMessageWithAttachment=s}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){this.getOrCreateMessageRangeCoveringCursor=function(t,n){var r;return o("relay-runtime").Observable.from(new(o("ReplayLastSubject")).ReplayLastSubject({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(e||(e=o("I64"))).max_int,minMessageId:(r=t.messageId)!=null?r:"",minTimestampMs:e.min_int,threadKey:t.threadKey},rangeExternalIds:{maxExternalId:null,minExternalId:null}}))},this.extendRange=async function(e,t,n,r){}},u;function c(){return u==null&&(u=new s),u}l.default=c}),98);
__d("MAWFetchExternalAttachmentBlob",["sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";async function e(e,t){var n=await window.fetch(e,{}).then(function(e){return e.blob()}).catch(function(e){throw o("sendToSentQPLLogger").markSendToSentPoint(t,"fetch_external_attachment_failed"),e});return n}l.fetchExternalAttachmentBlob=e}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(n))}l.linkPreviewDataStatusIsOfType=u}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){return t!=null&&(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(n))}l.linkPreviewDataTypeIsOfType=u}),98);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useEffect,m=c.useMemo,p=c.useRef;function _(e,t,n,a){e===void 0&&(e=""),t===void 0&&(t="");var i=o("MAWLoggerUtils").getInstanceKeyFromId(e.concat(t)),l=p(!1),c=m(function(){if(e==null||t==null)return null;var c=(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA);return r("QPLUserFlow").start(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{attachment_type:o("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(c),content_type:o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(c),entry_point:"composer_view",linkPreviewDataType:o("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum(n!=null?n:(u||(u=o("I64"))).zero),thread_type:o("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(a!=null?a:(u||(u=o("I64"))).zero)}},cancelOnUnload:!0,instanceKey:i,timeoutInMs:o("MWMediaRenderQplUtils").QPL_TIMEOUT}),babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,i,l))},[i]);return d(function(){l.current=!1},[i]),d(function(){return function(){l.current===!1&&(c==null?void 0:c.getInstanceKey())!=null&&(c==null||c.endCancelAfterDelay(706))}},[c]),c}l.useMediaComposerLinkPreviewXMARenderQpl=_}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xng8ra",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(5),n=e.title;if(n==null)return null;var a,i,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d x1xnnf8n x106a9eq"},i=s.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconLink"),size:16}),l={className:"x1iyjqo2"},t[0]=a,t[1]=i,t[2]=l):(a=t[0],i=t[1],l=t[2]);var c;return t[3]!==n?(c=s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmer,children:s.jsxs("div",babelHelpers.extends({},a,{children:[i,s.jsx("div",babelHelpers.extends({},l,{children:s.jsx(r("MWXText.react"),{type:"body4",children:n})}))]}))}),t[3]=n,t[4]=c):c=t[4],c}l.default=c}),98);
__d("MWXLinkPreviewTruncateText",[],(function(t,n,r,o,a,i){"use strict";var e={body:100,headline:80,subtext:100},l={body:30,headline:20,subtext:30};function s(t){var n=t.isChatTab,r=t.position,o=t.text,a=n?l:e,i=a[r];if(o!=null){var s=o.replace(/\r?\n|\r/g,"").trim();return s.length<=i?s:Array.from(s).slice(0,i).join("").trim()+"..."}}i.truncateText=s}),66);
__d("MAWLinkPreviewCard.react",["fbt","BaseView.react","ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FDSCrossFilled12Icon","I64","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MWLSThreadDisplayContext","MWMediaComposerLinkPreviewXMARenderQpl","MWXIcon_DEPRECATED.react","MWXImage.react","MWXLinkPreviewLoadingIndicator.react","MWXLinkPreviewTruncateText","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xlqzeqv",width:"xh8yej3",$$css:!0},image:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"xng8ra",marginInlineEnd:"x1sa5p1d",objectFit:"xl1xv1r",width:"x1247r65",$$css:!0},isReplying:{borderTopWidth:"x972fbf",$$css:!0},outerContainer:{backgroundColor:"x57kliw",borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",paddingInlineStart:"x1gx403c",paddingInlineEnd:"x1q3ajuy",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},textSection:{flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(59),a=t.draftID,l=t.isReplying,c=t.linkPreview,m=t.threadType,p=t.xmaData,g=o("MWMediaComposerLinkPreviewXMARenderQpl").useMediaComposerLinkPreviewXMARenderQpl(a,p.url,c.dataType,m),h=(e||(e=r("useReStore")))(),y=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",C=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(c.dataType,r("E2EELinkPreviewXMADataType").FALLBACK),b=p.author_name,v=p.iframeMediaURL,S=p.title,R=p.url,L;if(n[0]!==R){var E;L=R!=null?(E=o("ConstUriUtils").getUri(R))==null?void 0:E.getDomain():"",n[0]=R,n[1]=L}else L=n[1];var k=L,I=C?R:k,T;n[2]!==y||n[3]!==I?(T=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"subtext",text:I}),n[2]=y,n[3]=I,n[4]=T):T=n[4];var D=T,x=C?void 0:S,$;n[5]!==y||n[6]!==x?($=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"headline",text:x}),n[5]=y,n[6]=x,n[7]=$):$=n[7];var P=$,N=C?S:b,M;n[8]!==y||n[9]!==N?(M=o("MWXLinkPreviewTruncateText").truncateText({isChatTab:y,position:"body",text:N}),n[8]=y,n[9]=N,n[10]=M):M=n[10];var w=M,A=c==null?void 0:c.status,F;n[11]!==A?(F=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(A,r("E2EELinkPreviewXMADataStatus").LOADING),n[11]=A,n[12]=F):F=n[12];var O=F,B,W;n[13]!==v||n[14]!==O||n[15]!==g?(B=function(){!v&&!O?g==null||g.endSuccessAfterDelay({bool:{has_media_preview_url:!1}}):g==null||g.addPoint("link-preview-card-render")},W=[v,O,g],n[13]=v,n[14]=O,n[15]=g,n[16]=B,n[17]=W):(B=n[16],W=n[17]),_(B,W);var q;n[18]!==g?(q=function(){g==null||g.endFailAfterDelay("load-image-error")},n[18]=g,n[19]=q):q=n[19];var U=q,V;n[20]!==g?(V=function(){g==null||g.endSuccessAfterDelay({bool:{has_media_preview_url:!0}})},n[20]=g,n[21]=V):V=n[21];var H=V;if(O){g==null||g.addPoint("render_preview_loading_indicator");var G=l&&f.isReplying,z;n[22]!==G?(z=[f.outerContainer,G],n[22]=G,n[23]=z):z=n[23];var j;n[24]!==p.title?(j=d.jsx(r("BaseView.react"),{xstyle:f.container,children:d.jsx(r("MWXLinkPreviewLoadingIndicator.react"),{title:p.title})}),n[24]=p.title,n[25]=j):j=n[25];var K;return n[26]!==z||n[27]!==j?(K=d.jsx(r("BaseView.react"),{xstyle:z,children:j}),n[26]=z,n[27]=j,n[28]=K):K=n[28],K}var Q=l&&f.isReplying,X;n[29]!==Q?(X=[f.outerContainer,Q],n[29]=Q,n[30]=X):X=n[30];var Y;n[31]!==v||n[32]!==U||n[33]!==H?(Y=v!=null&&d.jsx(r("MWXImage.react"),{onError:U,onLoad:H,src:v,xstyle:f.image}),n[31]=v,n[32]=U,n[33]=H,n[34]=Y):Y=n[34];var J;n[35]!==P?(J=d.jsx(r("MWXText.react"),{type:"headline4",children:P}),n[35]=P,n[36]=J):J=n[36];var Z;n[37]!==w||n[38]!==D||n[39]!==J?(Z=d.jsx(r("BaseView.react"),{xstyle:f.textSection,children:d.jsx(r("MWXTextPairing.react"),{body:w,bodyLineLimit:1,headline:J,level:4,meta:D})}),n[37]=w,n[38]=D,n[39]=J,n[40]=Z):Z=n[40];var ee;n[41]!==Y||n[42]!==Z?(ee=d.jsxs(r("BaseView.react"),{xstyle:f.content,children:[Y,Z]}),n[41]=Y,n[42]=Z,n[43]=ee):ee=n[43];var te;n[44]===Symbol.for("react.memo_cache_sentinel")?(te=s._(/*BTDS*/"Remove link preview from message"),n[44]=te):te=n[44];var ne;n[45]!==h||n[46]!==c.data||n[47]!==c.dataType||n[48]!==c.draftId?(ne=function(){h.runInTransaction(async function(e){var t,n;await e.e2ee_composer_draft_link_preview.put({data:(t=c.data)!=null?t:void 0,dataType:(n=c.dataType)!=null?n:void 0,draftId:c.draftId,status:(u||(u=o("I64"))).of_int32(r("E2EELinkPreviewXMADataStatus").DISABLED)})},"readwrite",void 0,void 0,i.id+":189")},n[45]=h,n[46]=c.data,n[47]=c.dataType,n[48]=c.draftId,n[49]=ne):ne=n[49];var re;n[50]!==te||n[51]!==ne?(re=d.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":te,color:"primary",icon:r("FDSCrossFilled12Icon"),onPress:ne}),n[50]=te,n[51]=ne,n[52]=re):re=n[52];var oe;n[53]!==ee||n[54]!==re?(oe=d.jsxs(r("BaseView.react"),{xstyle:f.container,children:[ee,re]}),n[53]=ee,n[54]=re,n[55]=oe):oe=n[55];var ae;return n[56]!==X||n[57]!==oe?(ae=d.jsx(r("BaseView.react"),{xstyle:X,children:oe}),n[56]=X,n[57]=oe,n[58]=ae):ae=n[58],ae}l.default=g}),226);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=t==null?void 0:t.status,a=t==null?void 0:t.data;if(t==null||n==null||a==null)return null;var i=(e||(e=o("I64"))).equal(n,(s||(s=o("LSIntEnum"))).ofNumber(r("E2EELinkPreviewXMADataStatus").DISABLED)),l=JSON.parse(a);return Object.keys(l).length===0||l.url==null||i?null:l}l.parseLinkPreviewXMAData=u}),98);
__d("MAWLinkPreview.react",["MAWLinkPreviewCard.react","MAWParseLinkPreviewXMAData","MWPComposerDraftMessages","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(12),a=t.isReplying,l=t.threadKey,s=t.threadType,c=(e||(e=r("useReStore")))(),d,m;n[0]!==c.tables.e2ee_composer_draft_link_preview||n[1]!==l?(d=function(){return o("ReQL").fromTableAscending(c.tables.e2ee_composer_draft_link_preview).filter(function(e){var t;return e.draftId===((t=o("MWPComposerDraftMessages").getDraftMessage(l))==null?void 0:t.id)})},m=[c.tables.e2ee_composer_draft_link_preview,l],n[0]=c.tables.e2ee_composer_draft_link_preview,n[1]=l,n[2]=d,n[3]=m):(d=n[2],m=n[3]);var p=o("ReQLSuspense").useArray(d,m,i.id+":32"),_=p.length>0?p[0]:void 0,f;n[4]!==_?(f=o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(_),n[4]=_,n[5]=f):f=n[5];var g=f;if((_==null?void 0:_.draftId)==null||g==null)return null;var h=_==null?void 0:_.draftId,y;return n[6]!==a||n[7]!==_||n[8]!==h||n[9]!==s||n[10]!==g?(y=u.jsx(r("MAWLinkPreviewCard.react"),{draftID:h,isReplying:a,linkPreview:_,threadType:s,xmaData:g}),n[6]=a,n[7]=_,n[8]=h,n[9]=s,n[10]=g,n[11]=y):y=n[11],y}l.default=c}),98);
__d("MAWMessageAssociatedDataContext",["I64","MWPActor.react","MWPMessageReactions.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.createContext,m=c.useMemo,p=d({reactions:[],selectedReaction:null});function _(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.reactions;r("vulture")("ToW1qNDBDegMiTt6aDE2LdNlXjs=");var i=o("MWPActor.react").useActor(),l;if(t[0]!==i||t[1]!==a){var c;t[3]!==i?(c=function(t){return(s||(s=o("I64"))).equal(t.actorId,i)},t[3]=i,t[4]=c):c=t[4],l=a.filter(c).at(0),t[0]=i,t[1]=a,t[2]=l}else l=t[2];var d=l,m;t[5]!==a||t[6]!==d?(m={reactions:a,selectedReaction:d},t[5]=a,t[6]=d,t[7]=m):m=t[7];var _=m,f;return t[8]!==_||t[9]!==n?(f=u.jsx(p.Provider,{value:_,children:n}),t[8]=_,t[9]=n,t[10]=f):f=t[10],f}function f(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.message;r("vulture")("Dm8E024czWpE17PwrxErWovey_w=");var i=o("MWPActor.react").useActor(),l=o("MWPMessageReactions.react").useReactions(a),s;if(t[0]!==i||t[1]!==l){var c;t[3]!==i?(c=function(t){return t.actorId===i},t[3]=i,t[4]=c):c=t[4],s=l.filter(c),t[0]=i,t[1]=l,t[2]=s}else s=t[2];var d=s[0],m;t[5]!==l||t[6]!==d?(m={reactions:l,selectedReaction:d},t[5]=l,t[6]=d,t[7]=m):m=t[7];var _=m,f;return t[8]!==_||t[9]!==n?(f=u.jsx(p.Provider,{value:_,children:n}),t[8]=_,t[9]=n,t[10]=f):f=t[10],f}l.MAWMessageAssociatedDataContext=p,l.MAWMessageAssociatedDataContextProvider=_,l.MAWMessageAssociatedDataContextFetchReactionsLSProvider=f}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e=r("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function s(t,n,o,a,i,l,s,u,c,d){e.onReady(function(e){return r("promiseDone")(e.runMessageIntegrityCheck(t,n,o,a,i,l,s,u,c,d))})}l.runMessageIntegrityCheckDeferred=s}),98);
__d("MAWMessageIntegrityCheckFlytrapQueue",["FBLogger","I64","LSDatabaseSingleton","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","WATimeUtils","justknobx","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MAWMessageIntegrityFetchAndCompareData").__setRef("MAWMessageIntegrityCheckFlytrapQueue"),c=r("justknobx")._("3629"),d=[],m=null;function p(e){var t=o("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(e.threadKey,e.uiMessages);t!=null&&(d.push([t,e]),d.length>c&&d.shift())}function _(){return m!=null||(m=new Promise(async function(e,t){try{var n=[].concat(d),r=await f(n.reverse());e(r)}catch(e){t(e)}finally{m=null}})),m}async function f(t){var n=await u.load(),a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,i=await Promise.all(t.map(async function(e){var t=e[0],i=e[1],l=i.lastItemFromPreviousPage,u=i.pageSize,c=i.threadKey,d=i.uiMessages,m=o("MAWMessageIntegrityCheckFlytrapResultCache").getMessageIntegrityCheckResult(t);if(m!=null)return[c,m];var p=l!=null?{lastItemFromPreviousPage:l,type:"lastItemFromPreviousPage"}:{timeOfSnapshotMs:o("WATimeUtils").millisTime(),type:"latestPageSnapshot"},_=o("MAWMessageIntegrityEBFetchStatus").hasEBFailure(c),f=await n.fetchAndCompareMessagesData({db:a,fromReferencePoint:p,hasEbFetchFailed:_,localMessages:d,pageSize:u,threadKey:c});return f.success===!1?(r("FBLogger")("messenger_web_missing_messages").info("Message Integrity Check skipped for threadKey %s, reason %s",(s||(s=o("I64"))).to_float(c),f.error),null):(m=f.value.missingInTargetCategory,o("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(t,m),[c,m])}));return g(i.filter(Boolean))}function g(e){return e.reduce(function(e,t){var n=t[0],r=t[1];if(r.length===0)return e;var a=(s||(s=o("I64"))).to_float(n);return e.threadKeyToCategoryMapByExternalIds[a]==null&&(e.threadKeyToCategoryMapByExternalIds[a]={}),r.forEach(function(t){var n=t[0],r=t[1];e.threadKeyToCategoryMapByExternalIds[a][n.externalId]=r}),e},{numPagesChecked:e.length,threadKeyToCategoryMapByExternalIds:{}})}l.enqueueFlytrapMessageIntegrityCheck=p,l.getFlytrapMissingMessageReport=_}),98);
__d("MAWThreadViewAttachmentStateHandlerContent.react",["CometHeroHoldTrigger.react","MAWAttachmentStateHandlerContentBase.react","MWV2AttachmentLoadingPlaceholder.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.attachmentsFromGroupToRetry,a=e.connectBottom,i=e.connectTop,l=e.dbAttachment,u=e.descriptionForLogging,c=e.downloadStatusKeyOverride,d=e.errorComponentRenderer,m=e.errorWithBlurComponentRenderer,p=e.loadingPlaceholderStyle,_=e.mediaRenderQpl,f=e.outgoing,g=e.placeholderHeight,h=e.placeholderMaxHeight,y=e.placeholderMaxWidth,C=e.placeholderWidth,b=e.shouldDisableAutoTriggerDownload,v=e.successfulComponentRenderer,S=e.xmaMediaType,R=b===void 0?!1:b,L=u+".MAWThreadViewAttachmentStateHandlerContent",E;t[0]!==a||t[1]!==i||t[2]!==(l==null?void 0:l.attributionAppName)||t[3]!==p||t[4]!==_||t[5]!==f||t[6]!==g||t[7]!==h||t[8]!==y||t[9]!==C?(E=function(t,n){return s.jsxs(s.Fragment,{children:[s.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:a,connectTop:i,descriptionForLogging:t,hasAppAttribution:(l==null?void 0:l.attributionAppName)!=null,height:g,maxHeight:h!=null?h:g,maxWidth:y!=null?y:C,mediaRenderQpl:_,outgoing:f,width:C,xstyle:p}),!n&&s.jsx(r("CometHeroHoldTrigger.react"),{description:t,hold:!0})]})},t[0]=a,t[1]=i,t[2]=l==null?void 0:l.attributionAppName,t[3]=p,t[4]=_,t[5]=f,t[6]=g,t[7]=h,t[8]=y,t[9]=C,t[10]=E):E=t[10];var k;return t[11]!==n||t[12]!==l||t[13]!==c||t[14]!==d||t[15]!==m||t[16]!==_||t[17]!==R||t[18]!==v||t[19]!==L||t[20]!==E||t[21]!==S?(k=s.jsx(r("MAWAttachmentStateHandlerContentBase.react"),{attachmentsFromGroupToRetry:n,dbAttachment:l,descriptionForLogging:L,downloadStatusKeyOverride:c,errorComponentRenderer:d,errorWithBlurComponentRenderer:m,loadingPlaceholderRenderer:E,mediaRenderQpl:_,shouldDisableAutoTriggerDownload:R,successfulComponentRenderer:v,xmaMediaType:S}),t[11]=n,t[12]=l,t[13]=c,t[14]=d,t[15]=m,t[16]=_,t[17]=R,t[18]=v,t[19]=L,t[20]=E,t[21]=S,t[22]=k):k=t[22],k}l.default=u}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef;function _(t){var n=o("react-compiler-runtime").c(35),a=t.attachment,i=t.connectBottom,l=t.connectTop,s=t.isReply,d=t.isRetryableError,_=t.mediaRenderQpl,f=t.message,g=t.onRetry,h=t.outgoing,y=t.width,C=s===void 0?!1:s,b=a.playableDurationMs,v=(u||(u=o("I64"))).to_float(b!=null?b:(u||(u=o("I64"))).zero)/1e3,S=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:h===!0?"right":"left",connectBottom:i,connectTop:l}),R=o("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,f.messageId,void 0,r("emptyFunction"),!1,v,_,null,!1),L=R[2],E=R[4],k;if(n[0]!==f.ephemeralDurationInSec){var I;k=(u||(u=o("I64"))).gt((I=f.ephemeralDurationInSec)!=null?I:(u||(u=o("I64"))).zero,u.zero),n[0]=f.ephemeralDurationInSec,n[1]=k}else k=n[1];var T=k,D=p(),x=o("MWPAudioHighlightStylesHooks").useHighlightStyles(h),$=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(y,T),P=$+"px",N;n[2]!==P?(N={width:P},n[2]=P,n[3]=N):N=n[3];var M=N,w,A;n[4]!==d||n[5]!==_?(w=function(){_==null||_.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:d}})},A=[_,d],n[4]=d,n[5]=_,n[6]=w,n[7]=A):(w=n[6],A=n[7]),m(w,A);var F=r("MWPAudioPlayerContainer.react"),O=!1,B=null,W="mw_audio_player_error_placeholder",q=o("MWPAudioPlayerUtils").UseCase,U=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.common,S,h?o("MWPAudioPlayerSharedStyles").styles.commonOutgoing:o("MWPAudioPlayerSharedStyles").styles.commonIncoming,C&&o("MWPAudioPlayerSharedStyles").styles.commonReply,h&&C&&o("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply),V=a.isAttachmentConsumed===!0,H;n[8]!==g?(H=function(){g&&g()},n[8]=g,n[9]=H):H=n[9];var G;n[10]!==d||n[11]!==h||n[12]!==H?(G=c.jsx(r("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:d,onPress:H,outgoing:h,scrubberRef:D}),n[10]=d,n[11]=h,n[12]=H,n[13]=G):G=n[13];var z;n[14]!==L||n[15]!==v||n[16]!==x||n[17]!==h||n[18]!==E||n[19]!==V||n[20]!==G?(z=c.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:L,currentTime:v,disabled:!0,duration:v,hasEnded:!1,hasScrubber:!1,isListened:V,isPlaying:!1,onUpdateScrubber:r("emptyFunction"),outgoing:h,progressHighlightRef:E,scrubberRef:D,waveformData:null,xstyle:x,children:G}),n[14]=L,n[15]=v,n[16]=x,n[17]=h,n[18]=E,n[19]=V,n[20]=G,n[21]=z):z=n[21];var j;n[22]!==v||n[23]!==h?(j=c.jsx("div",{children:c.jsx(r("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:h,time:v})}),n[22]=v,n[23]=h,n[24]=j):j=n[24];var K;n[25]!==U||n[26]!==z||n[27]!==j?(K=c.jsxs("div",babelHelpers.extends({},U,{children:[z,j]})),n[25]=U,n[26]=z,n[27]=j,n[28]=K):K=n[28];var Q;return n[29]!==F||n[30]!==L||n[31]!==M||n[32]!==q.PLAYER||n[33]!==K?(Q=c.jsx(F,{audioEl:L,hasScrubber:O,mediaRenderQpl:B,scrubberRef:D,style:M,testid:void 0,useCase:q.PLAYER,children:K}),n[29]=F,n[30]=L,n[31]=M,n[32]=q.PLAYER,n[33]=K,n[34]=Q):Q=n[34],Q}l.default=_}),98);
__d("MAWSecureAudioAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","mwpMessageIsReply","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(30),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,c=e.mediaRenderQpl,d=e.message,m=e.outgoing,p=e.shouldDisableAutoTriggerDownload,_,f;t[0]!==c?(_=function(){c==null||c.addPoint("render-audio-attachment")},f=[c],t[0]=c,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g=o("MWPAudioPlayerUtils").useCalculatePlayerWidth(),h=o("MWPAudioPlayerUtils").useCalculatePlayerHeight(o("MWPAudioPlayerUtils").UseCase.PLAYER),y;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m?(y=function(t,o){return s.jsx(r("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:i,connectBottom:n,connectTop:a,isRetryableError:t,mediaRenderQpl:c,message:d,onRetry:o,outgoing:m})},t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=y):y=t[9];var C=y,b;t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==C||t[14]!==l||t[15]!==c||t[16]!==d||t[17]!==m?(b=function(t){return s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:s.jsx(r("MWAudioPlayer.react"),{attachment:i,connectBottom:n,connectTop:a,getPlayableUrl:l,isReply:r("mwpMessageIsReply")(d),isSecure:!0,mediaRenderQpl:c,message:d,outgoing:m,renderUnsupportedAttachment:function(){return C(!1)}})})},t[10]=n,t[11]=a,t[12]=i,t[13]=C,t[14]=l,t[15]=c,t[16]=d,t[17]=m,t[18]=b):b=t[18];var v=b,S;return t[19]!==n||t[20]!==a||t[21]!==i||t[22]!==C||t[23]!==c||t[24]!==m||t[25]!==h||t[26]!==g||t[27]!==p||t[28]!==v?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:C,mediaRenderQpl:c,outgoing:m,placeholderHeight:h,placeholderWidth:g,shouldDisableAutoTriggerDownload:p,successfulComponentRenderer:v}),t[19]=n,t[20]=a,t[21]=i,t[22]=C,t[23]=c,t[24]=m,t[25]=h,t[26]=g,t[27]=p,t[28]=v,t[29]=S):S=t[29],S}l.default=c}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a=t.connectBottom,i=t.connectTop,l=t.detailedUserFacingErrorMessage,u=t.hasAppAttribution,m=t.height,p=t.outgoing,_=t.width,f=t.xstyle,g=r("useCurrentDisplayMode")(),h=m!=null?m:100,y=_!=null?_:200,C=p===!0?"right":"left",b=u===!0?"bottom":"none",v;n[0]!==a||n[1]!==i||n[2]!==C||n[3]!==b?(v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:C,connectBottom:a,connectTop:i,flatten:b}),n[0]=a,n[1]=i,n[2]=C,n[3]=b,n[4]=v):v=n[4];var S=v,R;n[5]!==l?(R=l!=null?l:s._(/*BTDS*/"Error loading media"),n[5]=l,n[6]=R):R=n[6];var L;n[7]!==S||n[8]!==g||n[9]!==f?(L=function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,d.content,g==="dark"?d.dark:d.light,S,f]),{"data-testid":void 0,children:c.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconCautionTriangle"),size:20})}))},n[7]=S,n[8]=g,n[9]=f,n[10]=L):L=n[10];var E;n[11]!==h||n[12]!==L||n[13]!==y?(E=c.jsx(r("MWXAspectRatioContainer.react"),{height:h,maxHeight:200,maxWidth:480,width:y,children:L}),n[11]=h,n[12]=L,n[13]=y,n[14]=E):E=n[14];var k;return n[15]!==R||n[16]!==E?(k=c.jsx(r("MWXTooltip.react"),{tooltip:R,children:E}),n[15]=R,n[16]=E,n[17]=k):k=n[17],k}l.default=m}),226);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t,n=o("react-compiler-runtime").c(25),a=e.file,i=e.isRetryableError,l=e.mediaRenderQpl,c=e.onRetry,d=(t=a.filename)!=null?t:o("MWFileUtils").PLACEHOLDER_FILENAME,m;n[0]!==d?(m=d.toString(),n[0]=d,n[1]=m):m=n[1];var p=m,_;n[2]!==a?(_=o("MWFileUtils").getFileSize(a),n[2]=a,n[3]=_):_=n[3];var f=_,g,h;n[4]!==i||n[5]!==l?(g=function(){l==null||l.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:i}})},h=[l,i],n[4]=i,n[5]=l,n[6]=g,n[7]=h):(g=n[6],h=n[7]),u(g,h);var y;n[8]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5 x87ps6o"},n[8]=y):y=n[8];var C;n[9]!==a||n[10]!==i||n[11]!==c?(C=s.jsx(r("MWChatFilePreview.react"),{attachment:a,isError:!0,isRetryableError:i,onRetry:c,withPreview:!1}),n[9]=a,n[10]=i,n[11]=c,n[12]=C):C=n[12];var b;n[13]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe"},n[13]=b):b=n[13];var v;n[14]!==p?(v=s.jsx(r("MWXTextPairing.react"),{headline:p,headlineColor:"disabled",headlineLineLimit:3,level:4}),n[14]=p,n[15]=v):v=n[15];var S;n[16]===Symbol.for("react.memo_cache_sentinel")?(S={className:"x1x80s81 x889kno"},n[16]=S):S=n[16];var R;n[17]!==f?(R=s.jsx("div",babelHelpers.extends({},S,{children:s.jsx(r("MWXTextPairing.react"),{body:f,bodyColor:"disabled",bodyLineLimit:1,level:4})})),n[17]=f,n[18]=R):R=n[18];var L;n[19]!==R||n[20]!==v?(L=s.jsxs("div",babelHelpers.extends({},b,{children:[v,R]})),n[19]=R,n[20]=v,n[21]=L):L=n[21];var E;return n[22]!==L||n[23]!==C?(E=s.jsxs("div",babelHelpers.extends({},y,{"data-testid":void 0,children:[C,L]})),n[22]=L,n[23]=C,n[24]=E):E=n[24],E}l.default=c}),98);
__d("MAWSecureFileAttachmentContent.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect,c=60,d=250,m={bubble:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(25),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getFileUrl,p=e.mediaRenderQpl,_=e.outgoing,f=e.shouldDisableAutoTriggerDownload,g,h;t[0]!==p?(g=function(){p==null||p.addPoint("render-file-attachment")},h=[p],t[0]=p,t[1]=g,t[2]=h):(g=t[1],h=t[2]),u(g,h);var y;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==p||t[7]!==_?(y=function(t,o){return s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:m.bubble,children:s.jsx(r("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:i,isRetryableError:t,mediaRenderQpl:p,onRetry:o})})},t[3]=n,t[4]=a,t[5]=i,t[6]=p,t[7]=_,t[8]=y):y=t[8];var C=y,b;t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==p||t[14]!==_?(b=function(t){return s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:s.jsx(r("MWXMessageBubble.react"),{align:_?"right":"left",color:"incoming",connectBottom:n,connectTop:a,xstyle:m.bubble,children:s.jsx(r("MAWChatFile.react"),{file:i,getFileUrl:l,mediaRenderQpl:p,renderUnsupportedAttachment:function(){return s.jsx(r("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:n,connectTop:a,height:c,outgoing:_,width:d})}})})})},t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=p,t[14]=_,t[15]=b):b=t[15];var v=b,S;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==C||t[20]!==p||t[21]!==_||t[22]!==f||t[23]!==v?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:C,mediaRenderQpl:p,outgoing:_,placeholderHeight:c,placeholderWidth:d,shouldDisableAutoTriggerDownload:f,successfulComponentRenderer:v}),t[16]=n,t[17]=a,t[18]=i,t[19]=C,t[20]=p,t[21]=_,t[22]=f,t[23]=v,t[24]=S):S=t[24],S}l.default=p}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(t,n,r,o,a,i){"use strict";var e=n("$InternalEnum")({Small:"small",Large:"large"}),l=e;i.default=l}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u.useEffect,m={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0},content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(27),a=t.attachment,i=t.connectBottom,l=t.connectTop,u=t.hasAppAttribution,p=t.height,_=t.iconSize,f=t.isRetryableError,g=t.maxHeight,h=t.maxWidth,y=t.mediaRenderQpl,C=t.onRetry,b=t.outgoing,v=t.width,S=t.withTooltip,R=t.xstyle,L=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(a,f,C),E=L.mediaStatusText,k=L.retryButton,I,T;n[0]!==f||n[1]!==y?(I=function(){y==null||y.addPoint("render-error-placeholder",{bool:{is_retryable_error:f}})},T=[y,f],n[0]=f,n[1]=y,n[2]=I,n[3]=T):(I=n[2],T=n[3]),d(I,T);var D=r("useCurrentDisplayMode")(),x=p!=null?p:100,$=v!=null?v:200,P=b===!0?"right":"left",N=u===!0?"bottom":"none",M;n[4]!==i||n[5]!==l||n[6]!==P||n[7]!==N?(M=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:P,connectBottom:i,connectTop:l,flatten:N}),n[4]=i,n[5]=l,n[6]=P,n[7]=N,n[8]=M):M=n[8];var w=M,A=g!=null?g:200,F=h!=null?h:480,O;n[9]!==w||n[10]!==D||n[11]!==_||n[12]!==f||n[13]!==C||n[14]!==R?(O=function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,m.content,D==="dark"?m.dark:m.light,w,R]),{"data-testid":void 0,children:f?c.jsx(r("MWXPressable.react"),{display:"inline",label:s._(/*BTDS*/"Retry"),onPress:C,testid:void 0,xstyle:[m.circleButton,m.container,_===r("MediaDownloadStatusIconSize").Large&&m.buttonLarge,_===r("MediaDownloadStatusIconSize").Small&&m.buttonSmall],children:c.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconRefreshAlt"),size:_===r("MediaDownloadStatusIconSize").Large?24:12})}):c.jsx("div",babelHelpers.extends({},{0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xdd8jsf xvni27"}}[(_===r("MediaDownloadStatusIconSize").Large)<<0],{children:c.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconExclamationMarkCircle"),size:_===r("MediaDownloadStatusIconSize").Large?24:12})}))}))},n[9]=w,n[10]=D,n[11]=_,n[12]=f,n[13]=C,n[14]=R,n[15]=O):O=n[15];var B;n[16]!==x||n[17]!==A||n[18]!==F||n[19]!==O||n[20]!==$?(B=c.jsx(r("MWXAspectRatioContainer.react"),{height:x,maxHeight:A,maxWidth:F,width:$,children:O}),n[16]=x,n[17]=A,n[18]=F,n[19]=O,n[20]=$,n[21]=B):B=n[21];var W=B,q;return n[22]!==W||n[23]!==E||n[24]!==k||n[25]!==S?(q=S===!0?c.jsx(r("MWXTooltip.react"),{label:E,tooltip:c.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[E,k]}),children:W}):W,n[22]=W,n[23]=E,n[24]=k,n[25]=S,n[26]=q):q=n[26],q}l.default=p}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(30),a=t.connectBottom,i=t.connectTop,l=t.dbAttachment,s=t.getPreviewUrl,d=t.hasAppAttribution,p=t.height,_=t.isGroupedImage,f=t.maxHeight,g=t.maxWidth,h=t.mediaRenderQpl,y=t.message,C=t.outgoing,b=t.width,v=t.xstyle,S=r("useCurrentDisplayMode")(),R=p!=null?p:100,L=b!=null?b:200,E=C===!0?"right":"left",k=d===!0?"bottom":"none",I;n[0]!==a||n[1]!==i||n[2]!==E||n[3]!==k?(I=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:E,connectBottom:a,connectTop:i,flatten:k}),n[0]=a,n[1]=i,n[2]=E,n[3]=k,n[4]=I):I=n[4];var T=I,D=f!=null?f:200,x=g!=null?g:480,$;n[5]!==T||n[6]!==S||n[7]!==v?($=function(n){return u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([n,c.content,S==="dark"?c.dark:c.light,T,v]),{"data-testid":void 0}))},n[5]=T,n[6]=S,n[7]=v,n[8]=$):$=n[8];var P;n[9]!==R||n[10]!==D||n[11]!==x||n[12]!==$||n[13]!==L?(P=u.jsx(r("MWXAspectRatioContainer.react"),{height:R,maxHeight:D,maxWidth:x,width:L,children:$}),n[9]=R,n[10]=D,n[11]=x,n[12]=$,n[13]=L,n[14]=P):P=n[14];var N=P,M;n[15]===Symbol.for("react.memo_cache_sentinel")?(M={className:"x47corl"},n[15]=M):M=n[15];var w;return n[16]!==a||n[17]!==i||n[18]!==l||n[19]!==N||n[20]!==s||n[21]!==R||n[22]!==_||n[23]!==f||n[24]!==g||n[25]!==h||n[26]!==y||n[27]!==C||n[28]!==L?(w=u.jsx("div",babelHelpers.extends({},M,{children:y!=null?u.jsx(r("CometPlaceholder.react"),{fallback:N,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:u.jsx(r("MWV2ChatImage.react"),{attachment:l,connectBottom:a,connectTop:i,getPreviewUrl:s,isGroupedImage:_,isSecure:!0,maxHeight:f!=null?f:R,maxWidth:g!=null?g:L,mediaRenderQpl:null,message:y,navigateToRouteForMediaViewer:!1,outgoing:C,renderUnsupportedAttachment:function(){return N},shouldBlur:!0})}):u.jsx(r("CometPlaceholder.react"),{fallback:N,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:u.jsx(m,{dbAttachment:l,fallback:N,getPreviewUrl:s,heightCalculated:R,maxHeight:f,maxWidth:g,mediaRenderQpl:h,widthCalculated:L})})})),n[16]=a,n[17]=i,n[18]=l,n[19]=N,n[20]=s,n[21]=R,n[22]=_,n[23]=f,n[24]=g,n[25]=h,n[26]=y,n[27]=C,n[28]=L,n[29]=w):w=n[29],w}function m(e){var t=o("react-compiler-runtime").c(11),n=e.dbAttachment,a=e.fallback,i=e.getPreviewUrl,l=e.heightCalculated,s=e.maxHeight,d=e.maxWidth,m=e.mediaRenderQpl,p=e.widthCalculated,_;t[0]!==n||t[1]!==i||t[2]!==m?(_=i(n,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",m),t[0]=n,t[1]=i,t[2]=m,t[3]=_):_=t[3];var f=_,g;return t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==d||t[8]!==f||t[9]!==p?(g=f!=null?u.jsx(r("MWXAspectRatioContainer.react"),{height:l,maxHeight:s,maxWidth:d,width:p,children:function(t){return u.jsx(r("FDSBlurredBackgroundImage.react"),{src:f,xstyle:[t,c.gallery]})}}):a,t[4]=a,t[5]=l,t[6]=s,t[7]=d,t[8]=f,t[9]=p,t[10]=g):g=t[10],g}l.default=d}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(35),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,c=e.hasAppAttribution,d=e.height,m=e.iconSize,p=e.isGroupedImage,_=e.maxHeight,f=e.maxWidth,g=e.mediaRenderQpl,h=e.message,y=e.outgoing,C=e.width,b=e.withTooltip,v=e.xstyle,S,R;t[0]!==g||t[1]!==h?(S=function(){g==null||g.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:h!=null}})},R=[g,h],t[0]=g,t[1]=h,t[2]=S,t[3]=R):(S=t[2],R=t[3]),u(S,R);var L=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!1),E=L.mediaStatusText,k=L.retryButton,I;t[4]===Symbol.for("react.memo_cache_sentinel")?(I={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[4]=I):I=t[4];var T;t[5]!==m?(T={0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xdd8jsf xvni27"}}[(m===r("MediaDownloadStatusIconSize").Large)<<0],t[5]=m,t[6]=T):T=t[6];var D=m===r("MediaDownloadStatusIconSize").Large?24:12,x;t[7]!==D?(x=s.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconExclamationMarkCircle"),size:D}),t[7]=D,t[8]=x):x=t[8];var $;t[9]!==T||t[10]!==x?($=s.jsx("div",babelHelpers.extends({},I,{children:s.jsx("div",babelHelpers.extends({},T,{"data-testid":void 0,children:x}))})),t[9]=T,t[10]=x,t[11]=$):$=t[11];var P;t[12]!==n||t[13]!==a||t[14]!==i||t[15]!==l||t[16]!==c||t[17]!==d||t[18]!==p||t[19]!==_||t[20]!==f||t[21]!==g||t[22]!==h||t[23]!==y||t[24]!==C||t[25]!==v?(P=s.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:l,hasAppAttribution:c,height:d,isGroupedImage:p,maxHeight:_,maxWidth:f,mediaRenderQpl:g,message:h,outgoing:y,width:C,xstyle:v}),t[12]=n,t[13]=a,t[14]=i,t[15]=l,t[16]=c,t[17]=d,t[18]=p,t[19]=_,t[20]=f,t[21]=g,t[22]=h,t[23]=y,t[24]=C,t[25]=v,t[26]=P):P=t[26];var N;t[27]!==$||t[28]!==P?(N=s.jsxs(s.Fragment,{children:[$,P]}),t[27]=$,t[28]=P,t[29]=N):N=t[29];var M=N,w;return t[30]!==M||t[31]!==E||t[32]!==k||t[33]!==b?(w=b===!0?s.jsx(r("MWXTooltip.react"),{label:E,tooltip:s.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[E,k]}),children:M}):M,t[30]=M,t[31]=E,t[32]=k,t[33]=b,t[34]=w):w=t[34],w}l.default=c}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconRefreshAlt","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(38),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,m=e.hasAppAttribution,p=e.height,_=e.iconSize,f=e.isGroupedImage,g=e.maxHeight,h=e.maxWidth,y=e.mediaRenderQpl,C=e.message,b=e.onRetry,v=e.outgoing,S=e.width,R=e.withTooltip,L=e.xstyle,E,k;t[0]!==y||t[1]!==C?(E=function(){y==null||y.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:C!=null,is_retryable_error:!0}})},k=[y,C],t[0]=y,t[1]=C,t[2]=E,t[3]=k):(E=t[2],k=t[3]),c(E,k);var I=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!0,b),T=I.mediaStatusText,D=I.retryButton,x;t[4]===Symbol.for("react.memo_cache_sentinel")?(x={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[4]=x):x=t[4];var $;t[5]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Retry"),t[5]=$):$=t[5];var P=_===r("MediaDownloadStatusIconSize").Large&&d.buttonLarge,N=_===r("MediaDownloadStatusIconSize").Small&&d.buttonSmall,M;t[6]!==P||t[7]!==N?(M=[d.circleButton,d.container,P,N],t[6]=P,t[7]=N,t[8]=M):M=t[8];var w=_===r("MediaDownloadStatusIconSize").Large?24:12,A;t[9]!==w?(A=u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconRefreshAlt"),size:w}),t[9]=w,t[10]=A):A=t[10];var F;t[11]!==b||t[12]!==M||t[13]!==A?(F=u.jsx("div",babelHelpers.extends({},x,{children:u.jsx(r("MWXPressable.react"),{display:"inline",label:$,onPress:b,testid:void 0,xstyle:M,children:A})})),t[11]=b,t[12]=M,t[13]=A,t[14]=F):F=t[14];var O;t[15]!==n||t[16]!==a||t[17]!==i||t[18]!==l||t[19]!==m||t[20]!==p||t[21]!==f||t[22]!==g||t[23]!==h||t[24]!==y||t[25]!==C||t[26]!==v||t[27]!==S||t[28]!==L?(O=u.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:l,hasAppAttribution:m,height:p,isGroupedImage:f,maxHeight:g,maxWidth:h,mediaRenderQpl:y,message:C,outgoing:v,width:S,xstyle:L}),t[15]=n,t[16]=a,t[17]=i,t[18]=l,t[19]=m,t[20]=p,t[21]=f,t[22]=g,t[23]=h,t[24]=y,t[25]=C,t[26]=v,t[27]=S,t[28]=L,t[29]=O):O=t[29];var B;t[30]!==F||t[31]!==O?(B=u.jsxs(u.Fragment,{children:[F,O]}),t[30]=F,t[31]=O,t[32]=B):B=t[32];var W=B,q;return t[33]!==W||t[34]!==T||t[35]!==D||t[36]!==R?(q=R===!0?u.jsx(r("MWXTooltip.react"),{label:T,tooltip:u.jsxs(r("MWXText.react"),{color:"tooltip",type:"meta4",children:[T,D]}),children:W}):W,t[33]=W,t[34]=T,t[35]=D,t[36]=R,t[37]=q):q=t[37],q}l.default=m}),226);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","I64","MAWThreadViewAttachmentStateHandlerContent.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","MessagingAttachmentType","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(76),n=e.attachmentsFromGroupToRetry,a=e.connectBottom,i=e.connectTop,l=e.dbAttachment,c=e.getPreviewUrl,p=e.isGroupedImage,_=e.mediaRenderQpl,f=e.message,g=e.outgoing,h=e.previewHeight,y=e.previewWidth,C=e.shouldDisableAutoTriggerDownload,b=C===void 0?!1:C,v=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),S=m(!1),R=S[0],L=S[1],E,k;t[0]!==_?(E=function(){_==null||_.addPoint("render-image-attachment")},k=[_],t[0]=_,t[1]=E,t[2]=k):(E=t[1],k=t[2]),d(E,k);var I=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),T=I!=null?I:void 0,D;t[3]!==p||t[4]!==T?(D=o("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,T,p),t[3]=p,t[4]=T,t[5]=D):D=t[5];var x=D,$=x.maxHeight,P=x.maxWidth,N;t[6]!==l?(N=l!=null&&((s||(s=o("I64"))).to_int32(l.attachmentType)===r("MessagingAttachmentType").ANIMATED_IMAGE||(l==null?void 0:l.gifPlayback)===!0),t[6]=l,t[7]=N):N=t[7];var M=N;if(f==null||l==null){var w=(l==null?void 0:l.attributionAppName)!=null,A;t[8]!==a||t[9]!==i||t[10]!==$||t[11]!==P||t[12]!==_||t[13]!==g||t[14]!==h||t[15]!==y||t[16]!==w?(A=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:a,connectTop:i,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:w,height:h,maxHeight:$,maxWidth:P,mediaRenderQpl:_,outgoing:g,width:y}),t[8]=a,t[9]=i,t[10]=$,t[11]=P,t[12]=_,t[13]=g,t[14]=h,t[15]=y,t[16]=w,t[17]=A):A=t[17];var F;t[18]===Symbol.for("react.memo_cache_sentinel")?(F=u.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),t[18]=F):F=t[18];var O;return t[19]!==A?(O=u.jsxs(u.Fragment,{children:[A,F]}),t[19]=A,t[20]=O):O=t[20],O}var B;t[21]!==a||t[22]!==i||t[23]!==l||t[24]!==$||t[25]!==P||t[26]!==_||t[27]!==g||t[28]!==h||t[29]!==y?(B=function(t,n){return u.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:l,connectBottom:a,connectTop:i,hasAppAttribution:l.attributionAppName!=null,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:t,maxHeight:$,maxWidth:P,mediaRenderQpl:_,onRetry:n,outgoing:g,width:y})},t[21]=a,t[22]=i,t[23]=l,t[24]=$,t[25]=P,t[26]=_,t[27]=g,t[28]=h,t[29]=y,t[30]=B):B=t[30];var W=B,q;t[31]!==a||t[32]!==i||t[33]!==l||t[34]!==c||t[35]!==p||t[36]!==$||t[37]!==P||t[38]!==_||t[39]!==f||t[40]!==g||t[41]!==h||t[42]!==y?(q=function(t,n){return t?u.jsx(r("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:a,connectTop:i,dbAttachment:l,getPreviewUrl:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isGroupedImage:p,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,onRetry:n,outgoing:g,width:y}):u.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:a,connectTop:i,dbAttachment:l,getPreviewUrl:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,isGroupedImage:p,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,outgoing:g,width:y})},t[31]=a,t[32]=i,t[33]=l,t[34]=c,t[35]=p,t[36]=$,t[37]=P,t[38]=_,t[39]=f,t[40]=g,t[41]=h,t[42]=y,t[43]=q):q=t[43];var U=q,V;t[44]!==v||t[45]!==a||t[46]!==i||t[47]!==l||t[48]!==W||t[49]!==c||t[50]!==M||t[51]!==R||t[52]!==p||t[53]!==$||t[54]!==P||t[55]!==_||t[56]!==f||t[57]!==g||t[58]!==h||t[59]!==y?(V=function(t){if(f==null)return t("MAWSecureImageAttachmentContentV2.NoMessage",!1);var e=M&&v!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;return u.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:e&&R===!1?u.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:a,connectTop:i,dbAttachment:l,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isSecure:!0,mediaRenderQpl:_,message:f,onPlay:function(){return L(!0)},outgoing:g,previewHeight:h,previewWidth:y,testid:void 0}):u.jsx(r("MWV2ChatImage.react"),{attachment:l,connectBottom:a,connectTop:i,getPreviewUrl:c,isGroupedImage:p,isSecure:!0,maxHeight:$,maxWidth:P,mediaRenderQpl:_,message:f,navigateToRouteForMediaViewer:!1,onPressOverride:e?function(){return L(!1)}:void 0,outgoing:g,renderUnsupportedAttachment:function(){return W(!1)}})})},t[44]=v,t[45]=a,t[46]=i,t[47]=l,t[48]=W,t[49]=c,t[50]=M,t[51]=R,t[52]=p,t[53]=$,t[54]=P,t[55]=_,t[56]=f,t[57]=g,t[58]=h,t[59]=y,t[60]=V):V=t[60];var H=V,G;return t[61]!==n||t[62]!==a||t[63]!==i||t[64]!==l||t[65]!==W||t[66]!==U||t[67]!==$||t[68]!==P||t[69]!==_||t[70]!==g||t[71]!==h||t[72]!==y||t[73]!==b||t[74]!==H?(G=u.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:n,connectBottom:a,connectTop:i,dbAttachment:l,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:W,errorWithBlurComponentRenderer:U,mediaRenderQpl:_,outgoing:g,placeholderHeight:h,placeholderMaxHeight:$,placeholderMaxWidth:P,placeholderWidth:y,shouldDisableAutoTriggerDownload:b,successfulComponentRenderer:H}),t[61]=n,t[62]=a,t[63]=i,t[64]=l,t[65]=W,t[66]=U,t[67]=$,t[68]=P,t[69]=_,t[70]=g,t[71]=h,t[72]=y,t[73]=b,t[74]=H,t[75]=G):G=t[75],G}l.default=p}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","MAWSecureImageAttachmentContent.react","react","react-compiler-runtime","useGetMediaGroupStyles"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(23),n=e.mediaGroupInfo,a=e.mediaRenderQpl,i=e.outgoing,l=n.messagesAndAttachmentsShownInGroup,c=n.tileSize,d=o("useGetMediaGroupStyles").useGetMediaGroupStyles(i,c),m=d.containerStyles,p=d.coordinations,_=d.imageSize,f=d.wrapperStyles,g,h;t[0]!==a?(g=function(){a==null||a.addPoint("render-grouped-image-attachment"),a==null||a.addAnnotations({bool:{is_grouped_image:!0}})},h=[a],t[0]=a,t[1]=g,t[2]=h):(g=t[1],h=t[2]),u(g,h);var y;if(t[3]!==p||t[4]!==_||t[5]!==n.attachmentsToRetryDownload||t[6]!==a||t[7]!==l||t[8]!==i||t[9]!==c||t[10]!==f){var C;t[12]!==p||t[13]!==_||t[14]!==n.attachmentsToRetryDownload||t[15]!==a||t[16]!==i||t[17]!==c||t[18]!==f?(C=function(t,l){var e=t.attachment,u=t.message;return s.jsx("div",{className:f,style:babelHelpers.extends({zIndex:c-l},p[l]),children:s.jsx(r("MAWSecureImageAttachmentContent.react"),{attachmentsFromGroupToRetry:n.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:e,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,isGroupedImage:!0,mediaRenderQpl:a,message:u,outgoing:i,previewHeight:_,previewWidth:_})},l)},t[12]=p,t[13]=_,t[14]=n.attachmentsToRetryDownload,t[15]=a,t[16]=i,t[17]=c,t[18]=f,t[19]=C):C=t[19],y=l.map(C),t[3]=p,t[4]=_,t[5]=n.attachmentsToRetryDownload,t[6]=a,t[7]=l,t[8]=i,t[9]=c,t[10]=f,t[11]=y}else y=t[11];var b;return t[20]!==m||t[21]!==y?(b=s.jsx("div",{className:m,"data-testid":void 0,children:y}),t[20]=m,t[21]=y,t[22]=b):b=t[22],b}l.default=c}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(28),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPreviewUrl,c=e.mediaRenderQpl,d=e.outgoing,m=e.previewHeight,p=e.previewWidth,_=e.shouldDisableAutoTriggerDownload,f,g;t[0]!==c?(f=function(){c==null||c.addPoint("render-sticker-attachment")},g=[c],t[0]=c,t[1]=f,t[2]=g):(f=t[1],g=t[2]),u(f,g);var h;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==p?(h=function(t,o){return s.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:i,connectBottom:n,connectTop:a,hasAppAttribution:i.attributionAppName!=null,height:m,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:t,mediaRenderQpl:c,onRetry:o,outgoing:d,width:p})},t[3]=n,t[4]=a,t[5]=i,t[6]=c,t[7]=d,t[8]=m,t[9]=p,t[10]=h):h=t[10];var y=h,C;t[11]!==i||t[12]!==y||t[13]!==l||t[14]!==c?(C=function(t){return i.receiverFetchId!=null&&i.previewUrl==null?t("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:s.jsx(r("MWV2Sticker.react"),{attachment:i,getPreviewUrl:l,mediaRenderQpl:c,renderUnsupportedAttachment:function(){return y(!1)}})})},t[11]=i,t[12]=y,t[13]=l,t[14]=c,t[15]=C):C=t[15];var b=C,v=i.receiverFetchId!=null?i.messageId:i.attachmentFbid,S;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==v||t[20]!==y||t[21]!==c||t[22]!==d||t[23]!==m||t[24]!==p||t[25]!==_||t[26]!==b?(S=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:v,errorComponentRenderer:y,mediaRenderQpl:c,outgoing:d,placeholderHeight:m,placeholderWidth:p,shouldDisableAutoTriggerDownload:_,successfulComponentRenderer:b}),t[16]=n,t[17]=a,t[18]=i,t[19]=v,t[20]=y,t[21]=c,t[22]=d,t[23]=m,t[24]=p,t[25]=_,t[26]=b,t[27]=S):S=t[27],S}l.default=c}),98);
__d("MAWSecureVideoInvalidAttachment.react",["MWV2AttachmentErrorPlaceholderV2.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(14),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.height,c=e.iconSize,d=e.maxHeight,m=e.maxWidth,p=e.mediaRenderQpl,_=e.outgoing,f=e.width,g=e.withTooltip,h=e.xstyle;r("vulture")("Qt8wUEz-jEQQAGEk2V_G0Xgf2bc=");var y;t[0]!==p?(y=function(){p==null||p.addPoint("invalid-media-rendered"),p==null||p.endFailAfterDelay("invalid-media",{bool:{is_invalid_media:!0}})},t[0]=p,t[1]=y):y=t[1],u(y,void 0);var C;return t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==c||t[7]!==d||t[8]!==m||t[9]!==_||t[10]!==f||t[11]!==g||t[12]!==h?(C=s.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:n,connectBottom:a,connectTop:i,height:l,iconSize:c,isRetryableError:!1,maxHeight:d,maxWidth:m,mediaRenderQpl:null,outgoing:_,width:f,withTooltip:g,xstyle:h}),t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=c,t[7]=d,t[8]=m,t[9]=_,t[10]=f,t[11]=g,t[12]=h,t[13]=C):C=t[13],C}l.default=c}),98);
__d("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react",["fbt","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconDownload","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","MessengerWebUXLoggerImpl","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(58),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,m=e.getPreviewUrl,p=e.hasAppAttribution,_=e.height,f=e.iconSize,g=e.isGroupedImage,h=e.maxHeight,y=e.maxWidth,C=e.mediaRenderQpl,b=e.message,v=e.outgoing,S=e.placeholderMessage,R=e.previewHeight,L=e.previewWidth,E=e.width,k=e.withTooltip,I=e.xstyle,T=o("MessengerWebUXLoggerImpl").useInteractionLogger(),D;t[0]!==i||t[1]!==l?(D=l(i,"MWV2AttachmentDownloadablePlaceholderWithBlurImage"),t[0]=i,t[1]=l,t[2]=D):D=t[2];var x=D,$,P;if(t[3]!==C||t[4]!==b||t[5]!==x?($=function(){C==null||C.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:b!=null,has_playable_url:!!x,is_downloadable:!0}})},P=[C,b,x],t[3]=C,t[4]=b,t[5]=x,t[6]=$,t[7]=P):($=t[6],P=t[7]),c($,P),!x){var N;return t[8]!==n||t[9]!==a||t[10]!==i||t[11]!==m||t[12]!==h||t[13]!==y||t[14]!==C||t[15]!==b||t[16]!==v||t[17]!==R||t[18]!==L?(N=u.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:m,height:R,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:h,maxWidth:y,mediaRenderQpl:C,message:b,outgoing:v,width:L}),t[8]=n,t[9]=a,t[10]=i,t[11]=m,t[12]=h,t[13]=y,t[14]=C,t[15]=b,t[16]=v,t[17]=R,t[18]=L,t[19]=N):N=t[19],N}var M;t[20]===Symbol.for("react.memo_cache_sentinel")?(M={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},t[20]=M):M=t[20];var w;t[21]===Symbol.for("react.memo_cache_sentinel")?(w=s._(/*BTDS*/"Download"),t[21]=w):w=t[21];var A;t[22]!==x?(A={download:!0,url:x},t[22]=x,t[23]=A):A=t[23];var F;t[24]!==T?(F=function(){T==null||T({eventName:"click_unsupported_video_download_from_fallback"})},t[24]=T,t[25]=F):F=t[25];var O=f===r("MediaDownloadStatusIconSize").Large&&d.buttonLarge,B=f===r("MediaDownloadStatusIconSize").Small&&d.buttonSmall,W;t[26]!==O||t[27]!==B?(W=[d.circleButton,d.container,O,B],t[26]=O,t[27]=B,t[28]=W):W=t[28];var q=f===r("MediaDownloadStatusIconSize").Large?24:12,U;t[29]!==q?(U=u.jsx(r("MWXIconStrict.react"),{color:"white",icon:r("MWXIconDownload"),size:q}),t[29]=q,t[30]=U):U=t[30];var V;t[31]!==W||t[32]!==U||t[33]!==A||t[34]!==F?(V=u.jsx("div",babelHelpers.extends({},M,{children:u.jsx(r("MWXPressable.react"),{display:"inline",label:w,linkProps:A,onPress:F,xstyle:W,children:U})})),t[31]=W,t[32]=U,t[33]=A,t[34]=F,t[35]=V):V=t[35];var H;t[36]!==n||t[37]!==a||t[38]!==i||t[39]!==m||t[40]!==p||t[41]!==_||t[42]!==g||t[43]!==h||t[44]!==y||t[45]!==C||t[46]!==b||t[47]!==v||t[48]!==E||t[49]!==I?(H=u.jsx(r("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:m,hasAppAttribution:p,height:_,isGroupedImage:g,maxHeight:h,maxWidth:y,mediaRenderQpl:C,message:b,outgoing:v,width:E,xstyle:I}),t[36]=n,t[37]=a,t[38]=i,t[39]=m,t[40]=p,t[41]=_,t[42]=g,t[43]=h,t[44]=y,t[45]=C,t[46]=b,t[47]=v,t[48]=E,t[49]=I,t[50]=H):H=t[50];var G;t[51]!==V||t[52]!==H?(G=u.jsxs(u.Fragment,{children:[V,H]}),t[51]=V,t[52]=H,t[53]=G):G=t[53];var z=G,j;return t[54]!==z||t[55]!==S||t[56]!==k?(j=k===!0?u.jsx(r("MWXTooltip.react"),{label:S,tooltip:u.jsx(r("MWXText.react"),{color:"tooltip",type:"meta4",children:S}),children:z}):z,t[54]=z,t[55]=S,t[56]=k,t[57]=j):j=t[57],j}l.default=m}),226);
__d("MAWSecureVideoUnsupportedCodecAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentDownloadablePlaceholderWithBlurImage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(21),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.getPlayableUrl,c=e.getPreviewUrl,d=e.hasAppAttribution,m=e.height,p=e.iconSize,_=e.maxHeight,f=e.maxWidth,g=e.mediaRenderQpl,h=e.message,y=e.outgoing,C=e.previewHeight,b=e.previewWidth,v=e.width,S=e.withTooltip,R=e.xstyle,L;t[0]!==g?(L=function(){g==null||g.addPoint("downloadable-unsupported-media-rendered"),g==null||g.endFailAfterDelay("unsupported-media",{bool:{is_unsupported_media:!0}})},t[0]=g,t[1]=L):L=t[1],u(L,void 0);var E=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(i,!1),k=E.mediaStatusText,I=n!=null?n:!1,T=a!=null?a:!1,D=d!=null?d:!1,x=y!=null?y:!1,$=S!=null?S:!1,P;return t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==m||t[6]!==p||t[7]!==_||t[8]!==f||t[9]!==h||t[10]!==k||t[11]!==C||t[12]!==b||t[13]!==I||t[14]!==T||t[15]!==D||t[16]!==x||t[17]!==$||t[18]!==v||t[19]!==R?(P=s.jsx(r("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react"),{connectBottom:I,connectTop:T,dbAttachment:i,getPlayableUrl:l,getPreviewUrl:c,hasAppAttribution:D,height:m,iconSize:p,maxHeight:_,maxWidth:f,mediaRenderQpl:null,message:h,outgoing:x,placeholderMessage:k,previewHeight:C,previewWidth:b,width:v,withTooltip:$,xstyle:R}),t[2]=i,t[3]=l,t[4]=c,t[5]=m,t[6]=p,t[7]=_,t[8]=f,t[9]=h,t[10]=k,t[11]=C,t[12]=b,t[13]=I,t[14]=T,t[15]=D,t[16]=x,t[17]=$,t[18]=v,t[19]=R,t[20]=P):P=t[20],P}l.default=c}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometPlaceholder.react","MAWAttachmentSizeUtils","MAWMediaSetMediaValidatedResult","MAWSecureImageAttachmentContent.react","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatVideo.react","MediaDownloadStatusIconSize","gkx","react","react-compiler-runtime","useAsyncReStore","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect;function m(e){if(e==null)return null;var t=e.match(/Content-Type:([^\s]+)/i);return t!=null?t[1].toLowerCase():null}function p(e){var t,n,a=o("react-compiler-runtime").c(80),i=e.connectBottom,l=e.connectTop,u=e.dbAttachment,c=e.getPlayableUrl,m=e.getPreviewUrl,p=e.mediaRenderQpl,f=e.message,g=e.outgoing,h=e.previewHeight,y=e.previewWidth,C=e.shouldDisableAutoTriggerDownload,b=C===void 0?!1:C,v,S;a[0]!==p?(v=function(){p==null||p.addPoint("render-video-attachment")},S=[p],a[0]=p,a[1]=v,a[2]=S):(v=a[1],S=a[2]),d(v,S);var R=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),L;a[3]!==u||a[4]!==R||a[5]!==h||a[6]!==y?(L=o("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:h,width:y},R,u,!0),a[3]=u,a[4]=R,a[5]=h,a[6]=y,a[7]=L):L=a[7];var E=L,k=E.maxHeight,I=E.maxWidth,T=(t=r("useShouldShowPlaybackErrorFallback")(u,p))!=null?t:!1,D=(n=r("useShouldShowUnsupportedCodecFallback")(u,p))!=null?n:!1,x;a[8]!==i||a[9]!==l||a[10]!==u||a[11]!==c||a[12]!==m||a[13]!==k||a[14]!==I||a[15]!==p||a[16]!==f||a[17]!==g||a[18]!==h||a[19]!==y?(x=function(t,n,r){return s.jsx(_,{connectBottom:i,connectTop:l,dbAttachment:u,errorMessage:r,getPlayableUrl:c,getPreviewUrl:m,isRetryableError:t,manualRetry:n,maxHeight:k,maxWidth:I,mediaRenderQpl:p,message:f,outgoing:g,previewHeight:h,previewWidth:y})},a[8]=i,a[9]=l,a[10]=u,a[11]=c,a[12]=m,a[13]=k,a[14]=I,a[15]=p,a[16]=f,a[17]=g,a[18]=h,a[19]=y,a[20]=x):x=a[20];var $=x;if(T){var P;return a[21]!==i||a[22]!==l||a[23]!==u||a[24]!==k||a[25]!==I||a[26]!==p||a[27]!==g||a[28]!==h||a[29]!==y?(P=s.jsx(r("MAWSecureVideoInvalidAttachment.react"),{attachment:u,connectBottom:i,connectTop:l,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:k,maxWidth:I,mediaRenderQpl:p,outgoing:g,width:y}),a[21]=i,a[22]=l,a[23]=u,a[24]=k,a[25]=I,a[26]=p,a[27]=g,a[28]=h,a[29]=y,a[30]=P):P=a[30],P}if(D){var N=m!=null?m:c,M;return a[31]!==i||a[32]!==l||a[33]!==u||a[34]!==c||a[35]!==k||a[36]!==I||a[37]!==p||a[38]!==f||a[39]!==g||a[40]!==h||a[41]!==y||a[42]!==N?(M=s.jsx(r("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:i,connectTop:l,dbAttachment:u,getPlayableUrl:c,getPreviewUrl:N,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:k,maxWidth:I,mediaRenderQpl:p,message:f,outgoing:g,width:y}),a[31]=i,a[32]=l,a[33]=u,a[34]=c,a[35]=k,a[36]=I,a[37]=p,a[38]=f,a[39]=g,a[40]=h,a[41]=y,a[42]=N,a[43]=M):M=a[43],M}var w=u.gifPlayback===!0,A;a[44]!==l||a[45]!==u||a[46]!==$||a[47]!==c||a[48]!==w||a[49]!==p||a[50]!==f||a[51]!==g?(A=function(t){return s.jsx(r("CometPlaceholder.react"),{fallback:t("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:s.jsx(r("MWV2ChatVideo.react"),{attachment:u,autoPlaySetting:w,connectTop:l,getPlayableUrl:c,gifPlayback:w,isSecure:!0,loops:w||!r("gkx")("8625"),mediaRenderQpl:p,message:f,navigateToRouteForMediaViewer:!1,outgoing:g,renderUnsupportedAttachment:function(t,n,r){return $(!1,void 0,r)}})})},a[44]=l,a[45]=u,a[46]=$,a[47]=c,a[48]=w,a[49]=p,a[50]=f,a[51]=g,a[52]=A):A=a[52];var F=A,O;a[53]!==i||a[54]!==l||a[55]!==u||a[56]!==c||a[57]!==m||a[58]!==k||a[59]!==I||a[60]!==p||a[61]!==f||a[62]!==g||a[63]!==h||a[64]!==y?(O=function(t,n){return t?s.jsx(r("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:i,connectTop:l,dbAttachment:u,getPreviewUrl:m!=null?m:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:k,maxWidth:I,mediaRenderQpl:p,message:f,onRetry:n,outgoing:g,width:y}):s.jsx(r("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:i,connectTop:l,dbAttachment:u,getPreviewUrl:m!=null?m:c,height:h,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:k,maxWidth:I,mediaRenderQpl:p,message:f,outgoing:g,width:y})},a[53]=i,a[54]=l,a[55]=u,a[56]=c,a[57]=m,a[58]=k,a[59]=I,a[60]=p,a[61]=f,a[62]=g,a[63]=h,a[64]=y,a[65]=O):O=a[65];var B=O,W;return a[66]!==i||a[67]!==l||a[68]!==u||a[69]!==$||a[70]!==B||a[71]!==k||a[72]!==I||a[73]!==p||a[74]!==g||a[75]!==h||a[76]!==y||a[77]!==b||a[78]!==F?(W=s.jsx(r("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:i,connectTop:l,dbAttachment:u,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:$,errorWithBlurComponentRenderer:B,mediaRenderQpl:p,outgoing:g,placeholderHeight:h,placeholderMaxHeight:k,placeholderMaxWidth:I,placeholderWidth:y,shouldDisableAutoTriggerDownload:b,successfulComponentRenderer:F}),a[66]=i,a[67]=l,a[68]=u,a[69]=$,a[70]=B,a[71]=k,a[72]=I,a[73]=p,a[74]=g,a[75]=h,a[76]=y,a[77]=b,a[78]=F,a[79]=W):W=a[79],W}function _(e){var t=o("react-compiler-runtime").c(45),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.errorMessage,u=e.getPlayableUrl,c=e.getPreviewUrl,p=e.isRetryableError,_=e.manualRetry,f=e.maxHeight,g=e.maxWidth,h=e.mediaRenderQpl,y=e.message,C=e.outgoing,b=e.previewHeight,v=e.previewWidth,S=r("useAsyncReStore")(),R;t[0]!==l?(R=m(l),t[0]=l,t[1]=R):R=t[1];var L=R,E=L==="image/gif"||L==="image/webp",k,I;if(t[2]!==i.attachmentFbid||t[3]!==S||t[4]!==p||t[5]!==h||t[6]!==E?(k=function(){E?h==null||h.addPoint("gif_fallback_to_image",{string:{fallback_reason:"video_playback_failed_for_image_gif"}}):p||(o("MAWMediaSetMediaValidatedResult").call(S,i.attachmentFbid,{validatedMimeType:"unsupported-video"}),h==null||h.addPoint("browser_cant_play_video",{string:{invalid_media_reason:"browser_cant_play_video"}}))},I=[i.attachmentFbid,S,p,h,E],t[2]=i.attachmentFbid,t[3]=S,t[4]=p,t[5]=h,t[6]=E,t[7]=k,t[8]=I):(k=t[7],I=t[8]),d(k,I),E){var T;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==u||t[13]!==h||t[14]!==y||t[15]!==C||t[16]!==b||t[17]!==v?(T=s.jsx(r("MAWSecureImageAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPreviewUrl:u,mediaRenderQpl:h,message:y,outgoing:C,previewHeight:b,previewWidth:v}),t[9]=n,t[10]=a,t[11]=i,t[12]=u,t[13]=h,t[14]=y,t[15]=C,t[16]=b,t[17]=v,t[18]=T):T=t[18],T}if(!p){var D=c!=null?c:u,x;return t[19]!==n||t[20]!==a||t[21]!==i||t[22]!==u||t[23]!==f||t[24]!==g||t[25]!==h||t[26]!==y||t[27]!==C||t[28]!==b||t[29]!==v||t[30]!==D?(x=s.jsx(r("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:n,connectTop:a,dbAttachment:i,getPlayableUrl:u,getPreviewUrl:D,height:b,iconSize:r("MediaDownloadStatusIconSize").Large,maxHeight:f,maxWidth:g,mediaRenderQpl:h,message:y,outgoing:C,width:v}),t[19]=n,t[20]=a,t[21]=i,t[22]=u,t[23]=f,t[24]=g,t[25]=h,t[26]=y,t[27]=C,t[28]=b,t[29]=v,t[30]=D,t[31]=x):x=t[31],x}var $=i.attributionAppName!=null,P;return t[32]!==n||t[33]!==a||t[34]!==i||t[35]!==p||t[36]!==_||t[37]!==f||t[38]!==g||t[39]!==h||t[40]!==C||t[41]!==b||t[42]!==v||t[43]!==$?(P=s.jsx(r("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:i,connectBottom:n,connectTop:a,hasAppAttribution:$,height:b,iconSize:r("MediaDownloadStatusIconSize").Large,isRetryableError:p,maxHeight:f,maxWidth:g,mediaRenderQpl:h,onRetry:_,outgoing:C,width:v}),t[32]=n,t[33]=a,t[34]=i,t[35]=p,t[36]=_,t[37]=f,t[38]=g,t[39]=h,t[40]=C,t[41]=b,t[42]=v,t[43]=$,t[44]=P):P=t[44],P}l.default=p}),98);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(r("MessengerViewOnceFilled.svg.react")),!0);l.default=e}),98);
__d("MAWSecureViewOnceMessageBubble.react",["MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageBubble.react","MWXText.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect,d=r("gkx")("23219");function m(e){var t=o("react-compiler-runtime").c(21),n=e.connectBottom,a=e.connectTop,i=e.label,l=e.mediaRenderQpl,s=e.outgoing,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-tombstoned-message",{bool:{outgoing_or_has_seen:!0}}),l==null||l.endSuccessAfterDelay()},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),c(m,p);var _;t[3]===Symbol.for("react.memo_cache_sentinel")?(_={eventName:"view_once_message_bubble_rendered"},t[3]=_):_=t[3];var f=r("MessengerWebUXLogger").useImpressionLoggerRef(_),g=s?"right":"left",h=s?"outgoing":"incoming",y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x6s0dn4 x78zum5"},t[4]=y):y=t[4];var C;t[5]===Symbol.for("react.memo_cache_sentinel")?(C={className:"x1lliihq xbelrpt xbyyjgo"},t[5]=C):C=t[5];var b=s?"white":"primary",v;t[6]!==b?(v=u.jsx("div",babelHelpers.extends({},C,{children:u.jsx(r("MWXIconStrict.react"),{color:b,icon:r("MWViewOnceMessageIcon"),isDecorative:!0,size:18})})),t[6]=b,t[7]=v):v=t[7];var S=s?d?"primaryOnMedia":"secondaryOnMedia":"secondary",R;t[8]!==i||t[9]!==S?(R=u.jsx(r("MWXText.react"),{color:S,type:"bodyLink3",children:i}),t[8]=i,t[9]=S,t[10]=R):R=t[10];var L;t[11]!==f||t[12]!==R||t[13]!==v?(L=u.jsxs("div",babelHelpers.extends({},y,{"data-testid":void 0,ref:f,children:[v,R]})),t[11]=f,t[12]=R,t[13]=v,t[14]=L):L=t[14];var E;return t[15]!==n||t[16]!==a||t[17]!==L||t[18]!==g||t[19]!==h?(E=u.jsx(r("MWXMessageBubble.react"),{align:g,color:h,connectBottom:n,connectTop:a,variant:"opaque",children:L}),t[15]=n,t[16]=a,t[17]=L,t[18]=g,t[19]=h,t[20]=E):E=t[20],E}l.default=m}),98);
__d("MAWSecureViewOnceAttachmentContent.react",["fbt","I64","LSIntEnum","MAWLocalizationType","MAWSecureViewOnceMessageBubble.react","MWV2TombstonedMessage.react","MWViewOnceMessageIcon","MWXIconStrict.react","MessagingAttachmentType","MessengerWebUXLogger","RavenMessagingState","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(22),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.mediaRenderQpl,m=e.outgoing,p;t[0]!==i.attachmentType?(p=(u||(u=o("I64"))).equal(i.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE)),t[0]=i.attachmentType,t[1]=p):p=t[1];var _=p,f=i.ephemeralMediaState!=null&&(u||(u=o("I64"))).equal(i.ephemeralMediaState,(c||(c=o("LSIntEnum"))).ofNumber(r("RavenMessagingState").SEEN)),g;t[2]===Symbol.for("react.memo_cache_sentinel")?(g={eventName:"view_once_message_tombstoned_rendered"},t[2]=g):g=t[2];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g);if(m||f){var y;t[3]!==_?(y=_?s._(/*BTDS*/"Photo"):s._(/*BTDS*/"Video"),t[3]=_,t[4]=y):y=t[4];var C;return t[5]!==n||t[6]!==a||t[7]!==l||t[8]!==m||t[9]!==y?(C=d.jsx(r("MAWSecureViewOnceMessageBubble.react"),{connectBottom:n,connectTop:a,label:y,mediaRenderQpl:l,outgoing:m}),t[5]=n,t[6]=a,t[7]=l,t[8]=m,t[9]=y,t[10]=C):C=t[10],C}var b;t[11]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x6s0dn4 x78zum5"},t[11]=b):b=t[11];var v;t[12]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx("div",{className:"x1lliihq xbelrpt xzbario",children:d.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWViewOnceMessageIcon"),isDecorative:!0,size:18})}),t[12]=v):v=t[12];var S=_?o("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_PHOTO_MESSAGE:o("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_VIDEO_MESSAGE,R;t[13]!==S?(R=r("getMAWLocalizedFallbackMsgSnippet")(S),t[13]=S,t[14]=R):R=t[14];var L;t[15]!==h||t[16]!==R?(L=d.jsxs("div",babelHelpers.extends({},b,{"data-testid":void 0,ref:h,children:[v,R]})),t[15]=h,t[16]=R,t[17]=L):L=t[17];var E;return t[18]!==l||t[19]!==m||t[20]!==L?(E=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:m,mediaRenderQpl:l,children:L}),t[18]=l,t[19]=m,t[20]=L,t[21]=E):E=t[21],E}l.default=m}),226);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MWXMAAttachment.react","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(17),n=e.connectBottom,a=e.connectTop,i=e.dbAttachment,l=e.hasText,c=e.mediaRenderQpl,_=e.outgoing,f=r("useAsyncReStore")(),g,h;t[0]!==i||t[1]!==f||t[2]!==c?(g=function(){i.hasMedia!==!0&&o("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:i,dbPromise:f,mediaRenderQpl:c,triggerUIView:"thread"})},h=[i,c,f],t[0]=i,t[1]=f,t[2]=c,t[3]=g,t[4]=h):(g=t[3],h=t[4]),u(g,h);var y;t[5]!==c?(y=function(){c==null||c.addPoint("render-xma-attachment")},t[5]=c,t[6]=y):y=t[6];var C;t[7]!==i.hasMedia||t[8]!==c?(C=[i.hasMedia,c],t[7]=i.hasMedia,t[8]=c,t[9]=C):C=t[9],u(y,C);var b;return t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==l||t[14]!==c||t[15]!==_?(b=s.jsx(r("MWXMAAttachment.react"),{attachment:i,connectBottom:n,connectTop:a,getFaviconUrlXMA:p,getHeaderUrlXMA:m,getPreviewUrlXMA:d,hasText:l,mediaRenderQpl:c,outgoing:_}),t[10]=n,t[11]=a,t[12]=i,t[13]=l,t[14]=c,t[15]=_,t[16]=b):b=t[16],b}function d(e,t,n,r){if(r==null||r.addPoint("fetch_preview_url_xma_start"),e.previewUrl!=null){r==null||r.addPoint("fetch_preview_url_xma_receiver_fetch");var a=o("LSMediaUrlAttachment").previewUrl(e);return r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!a},string:{fetch_by:"receiver_fetch"}}),a}if(e.hasXmaPreview===!0){var i=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+n,r);return r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!i},string:{fetch_by:"maw_backend"}}),i}r==null||r.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function m(e,t,n){if(n==null||n.addPoint("fetch_header_url_xma_start"),e.headerImageUrl!=null){n==null||n.addPoint("fetch_header_url_xma_receiver_fetch");var r=o("LSMediaUrlAttachment").headerImageUrl(e);return n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:!!r},string:{fetch_by:"receiver_fetch"}}),r}if(e.hasXmaHeaderImage===!0){var a=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+t,n);return n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:!!a},string:{fetch_by:"maw_backend"}}),a}n==null||n.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function p(e,t,n,r){if(r==null||r.addPoint("fetch_favicon_url_xma_start"),e.faviconUrl!=null){r==null||r.addPoint("fetch_favicon_url_xma_receiver_fetch");var a=o("LSMediaUrlAttachment").faviconUrl(e);return r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:!!a},string:{fetch_by:"receiver_fetch"}}),a}if(e.hasXmaFavicon===!0){var i=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(e,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+n,r);return r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:!!i},string:{fetch_by:"maw_backend"}}),i}r==null||r.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}l.default=c}),98);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWBridgeUpdateClientMediaStatusHandler","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","WAHashUtils","clearTimeout","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=r("justknobx")._("3314");function m(e,t,n,a,i,l,s,m,p){var _=o("react-compiler-runtime").c(25),f=r("useAsyncReStore")(),g=c(!1),h;_[0]!==s||_[1]!==m?(h=o("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(s,m),_[0]=s,_[1]=m,_[2]=h):h=_[2];var y=h,C=c(null),b,v;_[3]!==y?(b=function(){var e=C.current;return y&&r("clearTimeout")(e),(function(){r("clearTimeout")(e)})},v=[y],_[3]=y,_[4]=b,_[5]=v):(b=_[4],v=_[5]),u(b,v);var S;_[6]!==f||_[7]!==y||_[8]!==e||_[9]!==i||_[10]!==l||_[11]!==t||_[12]!==a||_[13]!==n?(S=function(){if(!(!i||!e||a==null||t==null||g.current||y)){g.current=!0,l==null||l.addPoint("media_receiver_fetch_task_start");var s=function(n){r("promiseDone")(f,function(e){return o("MAWBridgeUpdateClientMediaStatusHandler").call(e,{details:n,key:o("WAHashUtils").stringToPlaintextHash(t),status:r("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,type:"main"})})};r("promiseDone")(f,function(e){o("MAWIssueReceiverFetchTask").issueReceiverFetchTask(e,t,a,n),C.current=r("setTimeout")(function(){l==null||l.addPoint("media_receiver_fetch_task_timeout"),s("media_receiver_fetch_task_timeout")},d)},function(e){r("clearTimeout")(C.current),l==null||l.addPoint("media_receiver_fetch_task_fail"),s("media_receiver_fetch_task_fail"),r("FBLogger")("messenger_web_media").catching(e).warn("Failed to issue media receiver fetch task on mount")})}},_[6]=f,_[7]=y,_[8]=e,_[9]=i,_[10]=l,_[11]=t,_[12]=a,_[13]=n,_[14]=S):S=_[14];var R;_[15]!==p||_[16]!==f||_[17]!==y||_[18]!==e||_[19]!==i||_[20]!==l||_[21]!==t||_[22]!==a||_[23]!==n?(R=[f,y,i,l,t,a,n,e,p],_[15]=p,_[16]=f,_[17]=y,_[18]=e,_[19]=i,_[20]=l,_[21]=t,_[22]=a,_[23]=n,_[24]=R):R=_[24],o("Int64Hooks").useEffectInt64(S,R)}l.default=m}),98);
__d("useIssueXMAReceiverFetchTask",["FBLogger","Int64Hooks","LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure","LSFactory","LSIntEnum","LSXmaContentType","MAWReceiverFetchQPLLogger","Promise","gkx","promiseDone","react","useAsyncReStore","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useRef;function d(t,a,l){if(l==null)return o("MAWReceiverFetchQPLLogger").logFailure(a,"RECEIVER_FECH_PARAMS_IS_NULL","xmaReceiverFetchParams is null"),(e||(e=n("Promise"))).resolve();o("MAWReceiverFetchQPLLogger").logPreviewFetchStart(a);var s=r("gkx")("8698");return t.runInTransaction(function(e){return r("LSAnonymizedMsgrWebE2EEXmaReceiverFetchDispatchStoredProcedure")(r("LSFactory")(e),{contentRef:l,messageId:a,videoPsProductHoldout2024h2Launch:s})},"readwrite",void 0,void 0,i.id+":47")}function m(e,t,n,a,l,u){var m=r("useAsyncReStore")(),p=r("useXMAPreviewsDisabledSetting")(),_=c(!1);o("Int64Hooks").useEffectInt64(function(){var c;if(!(l==null||(s||(s=o("LSIntEnum"))).toNumber(l)!==r("LSXmaContentType").MSG_RECEIVER_FETCH||p||_.current)){var f;try{f=a!=null?JSON.parse(a):null}catch(e){f=null,r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}var g=JSON.stringify((c=f)==null?void 0:c.fetch_params);if(g==null){u==null||u.addPoint("missing_message_or_receiver_fetch_params"),r("promiseDone")(m,function(a){if(t==null){u==null||u.endFailAfterDelay("missing_attachment");return}a.runInTransaction(function(a){return a.attachments.upsert([n,e,t.attachmentFbid],babelHelpers.extends({},t,{hasXmaPreview:!1,xmaContentType:(s||(s=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK)}))},"readwrite",void 0,void 0,i.id+":102").then(function(){u==null||u.addPoint("upsert_rf_fallback_xma_success")}).catch(function(){u==null||u.endFailAfterDelay("upsert_rf_fallback_xma_failed")})});return}u==null||u.addPoint("xma_receiver_fetch_task_start"),_.current=!0,o("MAWReceiverFetchQPLLogger").logReceiverFetchXMAStartQPL(e),r("promiseDone")(m,function(t){return d(t,e,g)},function(t){u==null||u.endFailAfterDelay("xma_receiver_fetch_task_fail"),o("MAWReceiverFetchQPLLogger").logFailure(e,"RECEIVER_FETCH_TASK_FAILURE",t),r("FBLogger")("messenger_web_sharing").catching(t).warn("Failed to issue receiver fetch task on mount")})}},[m,e,a,p,l,u,t,n])}l.default=m}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureAudioAttachmentContent.react","MAWSecureFileAttachmentContent.react","MAWSecureGroupedImageAttachment.react","MAWSecureImageAttachmentContent.react","MAWSecureStickerAttachmentContent.react","MAWSecureVideoAttachmentContent.react","MAWSecureViewOnceAttachmentContent.react","MAWSecureXMAAttachmentContent.react","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWLSThread","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2TombstonedMessage.react","MWXLink.react","MWXMessageBubble.react","MWXText.react","MessagingAttachmentType","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleXmaEventsLogging","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useXMAPreviewsDisabledSetting"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useEffect,p=d.useMemo,_={unsetWidth:{width:"x4pn7vq",$$css:!0}};function f(e){var t=e.dbAttachment,n=e.connectBottom,a=e.connectTop,i=e.hasText,l=e.mediaRenderQpl,d=e.message,p=e.outgoing,_=t.attachmentFbid,f=t.attachmentType,g=t.authorityLevel;m(function(){l==null||l.addPoint("render-secure-attachment-content"),_===(s||(s=o("I64"))).to_string((s||(s=o("I64"))).max_int)&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&(l==null||l.addPoint("loading_eb_frontloading"))},[_,g,t,l]);var h=r("useGetMediaGroupInformation")(d,!0,l),y=o("MAWAttachmentSizeUtils").getSizeFromAttachment(t),C=y.height,b=y.width;switch(!0){case(_===(s||(s=o("I64"))).to_string((s||(s=o("I64"))).max_int)&&(s||(s=o("I64"))).equal(g,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))):return c.jsxs(c.Fragment,{children:[c.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:n,connectTop:a,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:t.attributionAppName!=null,height:C,mediaRenderQpl:l,outgoing:p,width:b}),c.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE)):return r("MAWSecureGroupedImageAttachment.react")!=null&&h!=null?c.jsx(r("MAWSecureGroupedImageAttachment.react"),{mediaGroupInfo:h,mediaRenderQpl:l,outgoing:p}):c.jsx(r("MAWSecureImageAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO)):return c.jsx(r("MAWSecureVideoAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPlayableUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,getPreviewUrl:o("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO)):return c.jsx(r("MAWSecureAudioAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPlayableUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE)):return c.jsx(r("MAWSecureImageAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,message:d,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER)):return t.receiverFetchId!=null?c.jsx(r("MAWSecureStickerAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:function(t){return o("LSMediaUrlAttachment").previewUrl(t)},mediaRenderQpl:l,outgoing:p,previewHeight:C,previewWidth:b}):c.jsx(r("MAWSecureStickerAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getPreviewUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,outgoing:p,previewHeight:C,previewWidth:b});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)):return c.jsx(r("MAWSecureXMAAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,hasText:i,mediaRenderQpl:l,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").FILE)):return c.jsx(r("MAWSecureFileAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,getFileUrl:o("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:l,outgoing:p});case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(s||(s=o("I64"))).equal(f,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").EPHEMERAL_VIDEO)):return r("MAWSecureViewOnceAttachmentContent.react")!=null?c.jsx(r("MAWSecureViewOnceAttachmentContent.react"),{connectBottom:n,connectTop:a,dbAttachment:t,mediaRenderQpl:l,outgoing:p}):c.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:p,children:r("getMAWLocalizedFallbackMsgSnippet")(p?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:return l==null||l.endFailAfterDelay("unsupported-attachment"),"Unsupported attachment type"}}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=o("react-compiler-runtime").c(76),n=e.connectBottom,a=e.connectTop,i=e.hasEmphasisRing,l=e.hasText,d=e.mediaRenderQpl,p=e.message,g=e.outgoing,y=o("MWLSThread").useThread(p.threadKey,h),C=r("useXMAPreviewsDisabledSetting")(),b=o("MWPAttachmentDataContext").useMWPGetAttachments(p),v=b!=null&&b.length>0?b[0]:null,S=p.authorityLevel,R=p.threadKey,L;t[0]!==v||t[1]!==p||t[2]!==y?(L={attachment:v,message:p,threadType:y},t[0]=v,t[1]=p,t[2]=y,t[3]=L):L=t[3];var E=r("useHandleXmaEventsLogging")(L),k;t[4]!==v||t[5]!==d||t[6]!==C?(k=function(){v!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(v),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMetadata(e.traceId,"is_receiver_fetch_sticker",r("isReceiverFetchSticker")(v)?1:0)})),d==null||d.addPoint("render-secure-attachment",{bool:{has_attachment:v!=null}}),r("InteractionTracingMetrics").currentInteractionLogger().forEach(function(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-secure-attachment","AppTiming"),r("InteractionTracingMetrics").addMetadata(e.traceId,"xma_previews_disabled",C?1:0)})},t[4]=v,t[5]=d,t[6]=C,t[7]=k):k=t[7];var I;t[8]!==S||t[9]!==v||t[10]!==d||t[11]!==C?(I=[S,v,d,C],t[8]=S,t[9]=v,t[10]=d,t[11]=C,t[12]=I):I=t[12],m(k,I),r("useIssueXMAReceiverFetchTask")(p.messageId,v,R,v==null?void 0:v.receiverFetchId,v==null?void 0:v.xmaContentType,d);var T;t[13]!==v?(T=v?r("isReceiverFetchSticker")(v):!1,t[13]=v,t[14]=T):T=t[14],r("useIssueMediaReceiverFetchTask")(T,p.messageId,R,v==null?void 0:v.receiverFetchId,!0,d,v==null?void 0:v.previewUrl,v==null?void 0:v.previewUrlExpirationTimestampMs,v==null?void 0:v.attachmentType);var D;t[15]!==n||t[16]!==a||t[17]!==i||t[18]!==l||t[19]!==p||t[20]!==g?(D=i===!0?function(e){return c.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:n,connectTop:a,flattenTop:l,message:p,outgoing:g,precedesXMA:!1,children:e})}:void 0,t[15]=n,t[16]=a,t[17]=i,t[18]=l,t[19]=p,t[20]=g,t[21]=D):D=t[21];var x=D;if(v==null)return null;var $=(v==null?void 0:v.xmaContentType)!=null&&(u||(u=o("LSIntEnum"))).toNumber(v.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED,P=(v==null?void 0:v.xmaContentType)!=null&&(u||(u=o("LSIntEnum"))).toNumber(v.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,N=C&&o("MAWIsFBXMA").isFBXMA(v==null?void 0:v.xmaContentType);if(N||P||$){d==null||d.addPoint("render_rf_xma_fallback"),N||$?d==null||d.endSuccessAfterDelay():P&&(d==null||d.endFailAfterDelay("fetch_xma_data_receiver_fetch_failed"));var M=v==null?void 0:v.actionUrl,w;t[22]!==p||t[23]!==M?(w=babelHelpers.extends({},p,{text:M}),t[22]=p,t[23]=M,t[24]=w):w=t[24];var A=w,F;t[25]===Symbol.for("react.memo_cache_sentinel")?(F=c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),t[25]=F):F=t[25];var O=g?"white":"primary",B;t[26]!==g?(B={0:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a x18lvrbx"},1:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a xyk4ms5"}}[!!g<<0],t[26]=g,t[27]=B):B=t[27];var W=v==null?void 0:v.actionUrl,q;t[28]!==E?(q=function(){return E()},t[28]=E,t[29]=q):q=t[29];var U;t[30]===Symbol.for("react.memo_cache_sentinel")?(U={textDecoration:"underline"},t[30]=U):U=t[30];var V=v==null?void 0:v.actionUrl,H;t[31]!==W||t[32]!==q||t[33]!==V?(H=c.jsx(r("MWXLink.react"),{encryptedLink:!0,href:W,onClick:q,style:U,children:V}),t[31]=W,t[32]=q,t[33]=V,t[34]=H):H=t[34];var G;t[35]!==B||t[36]!==H?(G=c.jsx("div",babelHelpers.extends({},B,{children:H})),t[35]=B,t[36]=H,t[37]=G):G=t[37];var z;t[38]!==G||t[39]!==O?(z=c.jsx(r("MWXText.react"),{color:O,type:"bodyLink3",children:G}),t[38]=G,t[39]=O,t[40]=z):z=t[40];var j;return t[41]!==n||t[42]!==a||t[43]!==i||t[44]!==g||t[45]!==z||t[46]!==A?(j=c.jsxs(c.Fragment,{children:[F,c.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:n,connectTop:a,hasEmphasisRing:i,message:A,outgoing:g,precedesXMA:!1,children:z})]}),t[41]=n,t[42]=a,t[43]=i,t[44]=g,t[45]=z,t[46]=A,t[47]=j):j=t[47],j}if(o("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(p.displayedContentTypes,v)){d==null||d.addPoint("fetch_xma_data_receiver_fetch");var K;t[48]===Symbol.for("react.memo_cache_sentinel")?(K=c.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),t[48]=K):K=t[48];var Q=g?"right":"left",X,Y;t[49]===Symbol.for("react.memo_cache_sentinel")?(X=c.jsx(r("MWChatTypingIndicator.react"),{}),Y=c.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),t[49]=X,t[50]=Y):(X=t[49],Y=t[50]);var J;t[51]!==n||t[52]!==a||t[53]!==Q?(J=c.jsxs(r("MWXMessageBubble.react"),{align:Q,color:"incoming",connectBottom:n,connectTop:a,children:[X,Y]}),t[51]=n,t[52]=a,t[53]=Q,t[54]=J):J=t[54];var Z;return t[55]!==a||t[56]!==p||t[57]!==g||t[58]!==J?(Z=c.jsxs(c.Fragment,{children:[K,c.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:p,outgoing:g,xstyle:_.unsetWidth,children:J})]}),t[55]=a,t[56]=p,t[57]=g,t[58]=J,t[59]=Z):Z=t[59],Z}var ee=(s||(s=o("I64"))).equal(p.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(4))?!1:void 0,te;t[60]!==v?(te=o("HelpdeskGeminiNullthrows").nullthrows(v),t[60]=v,t[61]=te):te=t[61];var ne;t[62]!==n||t[63]!==a||t[64]!==l||t[65]!==d||t[66]!==p||t[67]!==g||t[68]!==te?(ne=c.jsx(f,{connectBottom:n,connectTop:a,dbAttachment:te,hasText:l,mediaRenderQpl:d,message:p,outgoing:g}),t[62]=n,t[63]=a,t[64]=l,t[65]=d,t[66]=p,t[67]=g,t[68]=te,t[69]=ne):ne=t[69];var re;return t[70]!==a||t[71]!==p||t[72]!==x||t[73]!==ee||t[74]!==ne?(re=c.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:a,message:p,paint:ee,renderEmphasisRing:x,children:ne}),t[70]=a,t[71]=p,t[72]=x,t[73]=ee,t[74]=ne,t[75]=re):re=t[75],re}function h(e){return e.threadType}l.default=g}),98);
__d("MAWUnavailablePlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message sent before this device was added to this conversation. This message cannot be delivered."),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("MAWUnavailableStoryPlaceholder.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Story unavailable"),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("MAWSecurePlaceholderTombstone.react",["MAWUnavailablePlaceholder.react","MAWUnavailableStoryPlaceholder.react","MAWXMAUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.attachments||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId)},n[0]=a.tables.attachments,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l):l=n[3];var s;return n[4]!==a||n[5]!==t.messageId||n[6]!==t.threadKey?(s=[a,t.threadKey,t.messageId],n[4]=a,n[5]=t.messageId,n[6]=t.threadKey,n[7]=s):s=n[7],o("ReQLSuspense").useFirst(l,s,i.id+":25")}function d(e){var t=o("react-compiler-runtime").c(4),n=e.isOutgoing,a=e.message,i=a,l=c(i);if(l==null)return null;var s=l.xmaContentType;if(s!=null&&o("MAWXMAUtils").isXMAFBStory(s)){var d;return t[0]!==n?(d=u.jsx(r("MAWUnavailableStoryPlaceholder.react"),{isOutgoing:n}),t[0]=n,t[1]=d):d=t[1],d}var m;return t[2]!==n?(m=u.jsx(r("MAWUnavailablePlaceholder.react"),{isOutgoing:n}),t[2]=n,t[3]=m):m=t[3],m}l.default=d}),98);
__d("MAWSecurePlaceholder.react",["fbt","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSIntEnum","LSXmaContentType","MAWLocalizationType","MAWSecurePlaceholderTombstone.react","MAWUnavailablePlaceholder.react","MWPMessageListColumn.react","MWV2TombstonedMessage.react","MWXLink.react","MWXMAUtils","MWXText.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(81),n=e.actorId,a=e.message,i=e.xmaContentType,l=a.displayedContentTypes,m=a.senderId,_;t[0]!==n||t[1]!==m?(_=(u||(u=o("I64"))).equal(m,n),t[0]=n,t[1]=m,t[2]=_):_=t[2];var f=_,g,h;if(t[3]!==l?(g=function(){r("InteractionTracingMetrics").currentInteractionLogger().forEach(p),(u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(65536))&&r("FBLogger")("messenger_web").info("Message show up as encryption placeholder")},h=[l],t[3]=l,t[4]=g,t[5]=h):(g=t[4],h=t[5]),o("Int64Hooks").useEffectInt64(g,h),(u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(65536))){var y;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.USER_SEND_ENCRYPTED_MESSAGE_FALLBACK),t[6]=y):y=t[6];var C=f?"white":"primary",b;t[7]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Learn more about encrypted messages delays"),t[7]=b):b=t[7];var v;t[8]===Symbol.for("react.memo_cache_sentinel")?(v=d.jsx(r("MWXLink.react"),{"aria-label":b,href:"https://www.facebook.com/help/messenger-app/2751245661706174?cms_platform=iphone-app&helpref=platform_switcher&locale=en_US",target:"_blank",children:s._(/*BTDS*/"Learn more")}),t[8]=v):v=t[8];var S;t[9]!==C?(S=d.jsx(r("MWXText.react"),{color:C,type:"bodyLink3",children:v}),t[9]=C,t[10]=S):S=t[10];var R;return t[11]!==f||t[12]!==S?(R=d.jsxs(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:[y," ",S]}),t[11]=f,t[12]=S,t[13]=R):R=t[13],R}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(131072))){var L=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK,E;t[14]!==L?(E=r("getMAWLocalizedFallbackMsgSnippet")(L),t[14]=L,t[15]=E):E=t[15];var k;return t[16]!==f||t[17]!==E?(k=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:E}),t[16]=f,t[17]=E,t[18]=k):k=t[18],k}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(524288))){var I=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LOCATION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LOCATION_FALLBACK,T;t[19]!==I?(T=r("getMAWLocalizedFallbackMsgSnippet")(I),t[19]=I,t[20]=T):T=t[20];var D;return t[21]!==f||t[22]!==T?(D=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:T}),t[21]=f,t[22]=T,t[23]=D):D=t[23],D}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(4294967296))){var x=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_LIVE_LOCATION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_LIVE_LOCATION_FALLBACK,$;t[24]!==x?($=r("getMAWLocalizedFallbackMsgSnippet")(x),t[24]=x,t[25]=$):$=t[25];var P;return t[26]!==f||t[27]!==$?(P=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:$}),t[26]=f,t[27]=$,t[28]=P):P=t[28],P}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(1048576))){var N=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POLL_CREATION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POLL_CREATION_FALLBACK,M;t[29]!==N?(M=r("getMAWLocalizedFallbackMsgSnippet")(N),t[29]=N,t[30]=M):M=t[30];var w;return t[31]!==f||t[32]!==M?(w=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:M}),t[31]=f,t[32]=M,t[33]=w):w=t[33],w}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(2097152))){var A=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_CONTACT_SHARE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_CONTACT_SHARE_FALLBACK,F;t[34]!==A?(F=r("getMAWLocalizedFallbackMsgSnippet")(A),t[34]=A,t[35]=F):F=t[35];var O;return t[36]!==f||t[37]!==F?(O=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:F}),t[36]=f,t[37]=F,t[38]=O):O=t[38],O}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(8589934592))||i!=null&&(c||(c=o("LSIntEnum"))).toNumber(i)===r("LSXmaContentType").MSG_MEMORIES_SHARE){var B;t[39]===Symbol.for("react.memo_cache_sentinel")?(B=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.MESSENGER_MEMORY_ENCRYPTED_MESSAGE_FALLBACK),t[39]=B):B=t[39];var W;return t[40]!==f?(W=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:B}),t[40]=f,t[41]=W):W=t[41],W}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(4194304))){var q=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STORY_MENTION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STORY_MENTION_FALLBACK,U;t[42]!==q?(U=r("getMAWLocalizedFallbackMsgSnippet")(q),t[42]=q,t[43]=U):U=t[43];var V;return t[44]!==f||t[45]!==U?(V=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:U}),t[44]=f,t[45]=U,t[46]=V):V=t[46],V}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(2147483648))){var H=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_POST_MENTION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_POST_MENTION_FALLBACK,G;t[47]!==H?(G=r("getMAWLocalizedFallbackMsgSnippet")(H),t[47]=H,t[48]=G):G=t[48];var z;return t[49]!==f||t[50]!==G?(z=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:G}),t[49]=f,t[50]=G,t[51]=z):z=t[51],z}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(8388608))){var j;t[52]===Symbol.for("react.memo_cache_sentinel")?(j=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),t[52]=j):j=t[52];var K;return t[53]!==f?(K=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:j}),t[53]=f,t[54]=K):K=t[54],K}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(16777216))){var Q=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_BUMP_MESSAGE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE,X;t[55]!==Q?(X=r("getMAWLocalizedFallbackMsgSnippet")(Q),t[55]=Q,t[56]=X):X=t[56];var Y;return t[57]!==f||t[58]!==X?(Y=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:X}),t[57]=f,t[58]=X,t[59]=Y):Y=t[59],Y}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(262144))){var J;return t[60]!==f?(J=d.jsx(r("MAWUnavailablePlaceholder.react"),{isOutgoing:f}),t[60]=f,t[61]=J):J=t[61],J}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(256))){var Z;return t[62]!==f||t[63]!==a?(Z=d.jsx(r("MAWSecurePlaceholderTombstone.react"),{isOutgoing:f,message:a}),t[62]=f,t[63]=a,t[64]=Z):Z=t[64],Z}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(33554432))){var ee;t[65]===Symbol.for("react.memo_cache_sentinel")?(ee=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_BUMP_MESSAGE_ORIGINAL_UNAVAILABLE_FALLBACK),t[65]=ee):ee=t[65];var te;return t[66]!==f?(te=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:ee}),t[66]=f,t[67]=te):te=t[67],te}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(67108864))){var ne=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_STICKER_RECEIVER_FETCH_MESSAGE_FALLBACK,re;t[68]!==ne?(re=r("getMAWLocalizedFallbackMsgSnippet")(ne),t[68]=ne,t[69]=re):re=t[69];var oe;return t[70]!==f||t[71]!==re?(oe=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:re}),t[70]=f,t[71]=re,t[72]=oe):oe=t[72],oe}if((u||(u=o("I64"))).equal(l,(c||(c=o("LSIntEnum"))).ofNumber(1073741824))){var ae=f?o("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_NOTE_MENTION_FALLBACK:o("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_NOTE_MENTION_FALLBACK,ie;t[73]!==ae?(ie=r("getMAWLocalizedFallbackMsgSnippet")(ae),t[73]=ae,t[74]=ie):ie=t[74];var le;return t[75]!==f||t[76]!==ie?(le=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:ie}),t[75]=f,t[76]=ie,t[77]=le):le=t[77],le}if(i!=null&&o("MWXMAUtils").isXMAContentTypeRTC(i)){var se;t[78]===Symbol.for("react.memo_cache_sentinel")?(se=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.RTC_XMA_FALLBACK),t[78]=se):se=t[78];var ue;return t[79]!==f?(ue=d.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:f,children:se}),t[79]=f,t[80]=ue):ue=t[80],ue}return null}function p(e){r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"render-maw-secure-placeholder","AppTiming")}function _(e){var t=o("react-compiler-runtime").c(5),n=e.actorId,r=e.message,a=e.xmaContentType,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=d.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==r||t[3]!==a?(l=d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{children:[i,d.jsx(m,{actorId:n,message:r,xmaContentType:a})]}),t[1]=n,t[2]=r,t[3]=a,t[4]=l):l=t[4],l}l.default=_}),226);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e,t,n,a,i,l,u,c){var d=o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(e,t,"below"),m=o("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(e,n,"below");return s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:o("MAWMsg").isMediaMsg(e)||o("MAWMsg").isXMAMsg(e)?s.jsx(r("MAWSecureAttachment.react"),{connectBottom:m,connectTop:d,hasEmphasisRing:c,hasText:l,mediaRenderQpl:i,message:e,outgoing:a}):s.jsx(r("MAWSecurePlaceholder.react"),{actorId:u,message:e})})}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t=o("react-compiler-runtime").c(3),n=o("MWPActor.react").useActor(),r;t[0]!==n||t[1]!==e?(r=function(r,o,a,i,l,s){return c(r,o,a,i,s,l,n,e)},t[0]=n,t[1]=e,t[2]=r):r=t[2];var a=r;return a}l.render=c,l.useRenderAttachment=d}),98);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(){var e=o("react-compiler-runtime").c(2),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n=r("gkx")("23219")?"12px":t==="Inbox"?"16px":"8px",a;return e[0]!==n?(a={dark:{"mwp-message-list-profile-start-padding":n},light:{"mwp-message-list-profile-start-padding":n},type:"VARIABLES"},e[0]=n,e[1]=a):a=e[1],a}l.default=u}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(29),n=e.domElementRef,a=e.isDialogOpened,i=e.isFirstMessageInGroup,l=e.isFocused,c=e.isModal,d=e.message,m=e.messageDomID,p=e.nextMessage,_=e.outgoing,f=e.prevMessage,g=e.setFocusedInTransition,h=e.setHoveredInTransition,y=e.setIsDialogOpened,C=e.stopHoveringRef,b=r("useMWPEditMessageDeemphasizer")(),v=r("useMWMessageRowTheme")(),S;t[0]!==b?(S=[b,u.adminMessageContainer],t[0]=b,t[1]=S):S=t[1];var R;t[2]!==d||t[3]!==p||t[4]!==f?(R=s.jsx(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:d,nextMessage:p,prevMessage:f}),t[2]=d,t[3]=p,t[4]=f,t[5]=R):R=t[5];var L;t[6]!==d||t[7]!==_?(L=s.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:d,outgoing:_,xstyle:u.adminMessageAttachment}),t[6]=d,t[7]=_,t[8]=L):L=t[8];var E;t[9]!==S||t[10]!==R||t[11]!==L?(E=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:s.jsxs(r("BaseView.react"),{xstyle:S,children:[R,L]})}),t[9]=S,t[10]=R,t[11]=L,t[12]=E):E=t[12];var k=E;if(d.adminMsgCtaType==="admin_msg_e2ee_thread")return null;if(d.adminMsgCtaType==null){var I;return t[13]!==k?(I=s.jsx(r("MWV2MessageRowSimple.react"),{children:k}),t[13]=k,t[14]=I):I=t[14],I}else{var T=i?void 0:n,D;return t[15]!==k||t[16]!==a||t[17]!==l||t[18]!==c||t[19]!==d||t[20]!==m||t[21]!==_||t[22]!==g||t[23]!==h||t[24]!==y||t[25]!==C||t[26]!==T||t[27]!==v?(D=s.jsx(r("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:T,isDialogOpened:a,isFocused:l,isModal:c,message:d,messageDomID:m,outgoing:_,setFocused:g,setHovered:h,setIsDialogOpened:y,stopHoveringRef:C,theme:v,children:k}),t[15]=k,t[16]=a,t[17]=l,t[18]=c,t[19]=d,t[20]=m,t[21]=_,t[22]=g,t[23]=h,t[24]=y,t[25]=C,t[26]=T,t[27]=v,t[28]=D):D=t[28],D}}l.default=c}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n=e.nextMessage,a=r("useMWPIsMessagePinned")(n),i;return t[0]!==a?(i=a&&s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}),t[0]=a,t[1]=i):i=t[1],i}l.default=u}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useId;function c(e){var t=o("react-compiler-runtime").c(38),n=u(),a=u(),i=u(),l=u(),c="url(#"+n+")",d="url(#"+a+")",m;t[0]!==d?(m=s.jsx("rect",{fill:d,height:"2",width:"8",x:"17",y:"26"}),t[0]=d,t[1]=m):m=t[1];var p;t[2]!==c||t[3]!==m?(p=s.jsx("g",{filter:c,children:m}),t[2]=c,t[3]=m,t[4]=p):p=t[4];var _="url(#"+i+")",f;t[5]!==_?(f=s.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:_}),t[5]=_,t[6]=f):f=t[6];var g;t[7]===Symbol.for("react.memo_cache_sentinel")?(g=s.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),t[7]=g):g=t[7];var h="url(#"+l+")",y;t[8]!==h?(y=s.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:h}),t[8]=h,t[9]=y):y=t[9];var C,b,v;t[10]===Symbol.for("react.memo_cache_sentinel")?(v=s.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),C=s.jsx("feBlend",{in:"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),b=s.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"}),t[10]=C,t[11]=b,t[12]=v):(C=t[10],b=t[11],v=t[12]);var S;t[13]!==n?(S=s.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:n,width:"8.8",x:"16.6",y:"25.6",children:[v,C,b]}),t[13]=n,t[14]=S):S=t[14];var R,L;t[15]===Symbol.for("react.memo_cache_sentinel")?(R=s.jsx("stop",{stopColor:"#969495"}),L=s.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"}),t[15]=R,t[16]=L):(R=t[15],L=t[16]);var E;t[17]!==a?(E=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:a,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[R,L]}),t[17]=a,t[18]=E):E=t[18];var k,I;t[19]===Symbol.for("react.memo_cache_sentinel")?(k=s.jsx("stop",{stopColor:"#666666"}),I=s.jsx("stop",{offset:"1",stopColor:"#CACCCD"}),t[19]=k,t[20]=I):(k=t[19],I=t[20]);var T;t[21]!==i?(T=s.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:i,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[k,I]}),t[21]=i,t[22]=T):T=t[22];var D,x;t[23]===Symbol.for("react.memo_cache_sentinel")?(D=s.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),x=s.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}),t[23]=D,t[24]=x):(D=t[23],x=t[24]);var $;t[25]!==l?($=s.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:l,r:"1",children:[D,x]}),t[25]=l,t[26]=$):$=t[26];var P;t[27]!==S||t[28]!==E||t[29]!==T||t[30]!==$?(P=s.jsxs("defs",{children:[S,E,T,$]}),t[27]=S,t[28]=E,t[29]=T,t[30]=$,t[31]=P):P=t[31];var N;return t[32]!==e||t[33]!==P||t[34]!==p||t[35]!==f||t[36]!==y?(N=s.jsxs(r("MDSSvgIcon.react"),babelHelpers.extends({},e,{children:[p,f,g,y,P]})),t[32]=e,t[33]=P,t[34]=p,t[35]=f,t[36]=y,t[37]=N):N=t[37],N}l.default=c}),98);
__d("usePinnedIconAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useRef,d=s.useState,m="xb9r6ac-B",p="xjbsbib-B",_="x17qceat-B",f={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function g(e,t){var n=o("react-compiler-runtime").c(6),a=d(!1),i=a[0],l=a[1],s=c(e),m=t?f.mountAnimationOutgoing:f.mountAnimationIncoming,p,_;n[0]!==e?(p=function(){e!==s.current&&l(!0),s.current=e},_=[e],n[0]=e,n[1]=p,n[2]=_):(p=n[1],_=n[2]),u(p,_);var g=i?m:null,h=r("useDebouncedValue")(e,200),y;return n[3]!==g||n[4]!==h?(y={mountAnimation:g,shouldShow:h,unmountAnimation:f.unmountAnimation},n[3]=g,n[4]=h,n[5]=y):y=n[5],y}l.default=g}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","MWGroupBlockingProtectionUtils","react","react-compiler-runtime","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={alignEnd:{insetInlineEnd:"xtijo5x",transform:"x7b9nwf",$$css:!0},alignStart:{insetInlineStart:"x1o0tod",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.alreadyRenderedPin,i=t.children,l=t.message,s=t.outgoing,d=r("useMWPIsMessagePinned")(l),m=r("usePinnedIconAnimation")(d,s),p=m.mountAnimation,_=m.shouldShow,f=m.unmountAnimation,g=o("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(l.threadKey);if(!_||a||g){var h;return n[0]!==i?(h=u.jsx(u.Fragment,{children:i}),n[0]=i,n[1]=h):h=n[1],h}var y;return n[2]!==i||n[3]!==d||n[4]!==p||n[5]!==s||n[6]!==f?(y=i&&u.jsxs("div",{className:"x1n2onr6",children:[u.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.container,s?c.alignEnd:c.alignStart,d?p:f]),{children:u.jsx(r("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})})),i]}),n[2]=i,n[3]=d,n[4]=p,n[5]=s,n[6]=f,n[7]=y):y=n[7],y}l.default=d}),98);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"},d=s._(/*BTDS*/"Message hidden");function m(e){var t=o("react-compiler-runtime").c(13),n=e.isLastMessageInGroup,a=e.message,i=e.onClick,l=e.source,s=a.messageId,c=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),m=c.visibleMessage,p=(m==null?void 0:m.source)==="Pinned"&&(m==null?void 0:m.messageId)===s,_;t[0]!==a||t[1]!==p||t[2]!==l?(_=p?u.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,flattenTop:!1,message:a,outgoing:!1,precedesXMA:!1,children:u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:l==="replied-to",children:d})}):u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:l==="replied-to",children:d}),t[0]=a,t[1]=p,t[2]=l,t[3]=_):_=t[3];var f=_,g;t[4]!==n||t[5]!==l?(g={0:{},2:{className:"x1120s5i"},1:{className:"xwib8y2"},3:{className:"xwib8y2"}}[(n===!1)<<1|(l==="replied-to")<<0],t[4]=n,t[5]=l,t[6]=g):g=t[6];var h;t[7]!==f||t[8]!==i?(h=u.jsx(r("MWXPressable.react"),{onPress:i,overlayDisabled:!0,children:f}),t[7]=f,t[8]=i,t[9]=h):h=t[9];var y;return t[10]!==g||t[11]!==h?(y=u.jsx("div",babelHelpers.extends({},g,{"data-testid":void 0,children:h})),t[10]=g,t[11]=h,t[12]=y):y=t[12],y}l.MWBlockedTombstoneMessageSource=c,l.HIDDEN_MESSAGE_LABEL=d,l.MWBlockedTombstoneMessage=m}),226);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=!!o("MWLSThread").useThread(e,s);return t}function s(e){return o("LSThreadBitOffset").has(152,e)}l.default=e}),98);
__d("MWPBaseRepliedMessage.react",["FBLogger","I64","LSIntEnum","LSMessageHiddenState","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWPBumpEntityKey","MWXPressable.react","MsgrWebGating","react","react-compiler-runtime","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d={pressable:{display:"x1lliihq",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(207),n=e.clickToNavigateToReply,a=e.earlyCheckForReplyStatus,i=e.isSecureMessage,l=e.mediaRenderQpl,d=e.message,m=e.outgoing,_=e.renderAttachment,f=e.renderCollection,g=e.renderExpiredMessage,h=e.renderGIF,y=e.renderHiddenMessage,C=e.renderMedia,b=e.renderPost,v=e.renderRaven,S=e.renderRemovedMessage,R=e.renderRollcallContribution,L=e.renderSticker,E=e.renderStory,k=e.renderTextMessage,I=e.renderUnavailableMessage,T=e.renderUnavailableStory,D=e.renderVideo,x=n===void 0?!0:n,$=a===void 0?!1:a,P=d.replyAttachmentId,N=d.replyAttachmentPlaintextHash,M=d.replyAttachmentType,w=d.replyMessageHiddenState,A=d.replyMessageText,F=d.replySourceTypeV2,O=d.replyStatus,B,W=F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY)),q=F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY)),U=w!=null?(s||(s=o("I64"))).equal(w,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageHiddenState").HIDDEN_REPORTED)):!1,V=P!=null||W||N!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled();if(U&&y!=null){var H;t[0]!==y||t[1]!==d?(H=c.jsx(y,{message:d}),t[0]=y,t[1]=d,t[2]=H):H=t[2],B=H}else if(q){var G;t[3]!==T||t[4]!==m?(G=T!=null?c.jsx(T,{outgoing:m}):null,t[3]=T,t[4]=m,t[5]=G):G=t[5],B=G}else if(M!=null&&V&&(!$||O!=null&&!(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))))if(((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO)))&&W){var z;t[6]!==E||t[7]!==i||t[8]!==l||t[9]!==d||t[10]!==m?(z=c.jsx(E,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[6]=E,t[7]=i,t[8]=l,t[9]=d,t[10]=m,t[11]=z):z=t[11],B=z}else if(P!=null||N!=null&&o("MsgrWebGating").isQuotedMessagesInLsEnabled())if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA))&&_!=null)if(A!=null&&A!==""){var j;t[12]!==k||t[13]!==i||t[14]!==d||t[15]!==m||t[16]!==A?(j=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[12]=k,t[13]=i,t[14]=d,t[15]=m,t[16]=A,t[17]=j):j=t[17],B=j}else{var K;t[18]!==_||t[19]!==i||t[20]!==l||t[21]!==d||t[22]!==m?(K=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[18]=_,t[19]=i,t[20]=l,t[21]=d,t[22]=m,t[23]=K):K=t[23],B=K}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").OTHER))){var Q;t[24]!==_||t[25]!==i||t[26]!==l||t[27]!==d||t[28]!==m?(Q=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[24]=_,t[25]=i,t[26]=l,t[27]=d,t[28]=m,t[29]=Q):Q=t[29],B=Q}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PHOTO)))if(C!=null){var X;t[30]!==C||t[31]!==i||t[32]!==l||t[33]!==d||t[34]!==m?(X=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[30]=C,t[31]=i,t[32]=l,t[33]=d,t[34]=m,t[35]=X):X=t[35],B=X}else{var Y;t[36]!==_||t[37]!==i||t[38]!==l||t[39]!==d||t[40]!==m?(Y=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[36]=_,t[37]=i,t[38]=l,t[39]=d,t[40]=m,t[41]=Y):Y=t[41],B=Y}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)))if(R!=null){var J;t[42]!==R||t[43]!==i||t[44]!==l||t[45]!==d||t[46]!==m?(J=c.jsx(R,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[42]=R,t[43]=i,t[44]=l,t[45]=d,t[46]=m,t[47]=J):J=t[47],B=J}else{var Z;t[48]!==_||t[49]!==i||t[50]!==l||t[51]!==d||t[52]!==m?(Z=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[48]=_,t[49]=i,t[50]=l,t[51]=d,t[52]=m,t[53]=Z):Z=t[53],B=Z}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").MULTIPHOTO)))if(f!=null){var ee;t[54]!==f||t[55]!==d||t[56]!==m?(ee=c.jsx(f,{message:d,outgoing:m}),t[54]=f,t[55]=d,t[56]=m,t[57]=ee):ee=t[57],B=ee}else if(C!=null){var te;t[58]!==C||t[59]!==i||t[60]!==l||t[61]!==d||t[62]!==m?(te=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[58]=C,t[59]=i,t[60]=l,t[61]=d,t[62]=m,t[63]=te):te=t[63],B=te}else{var ne;t[64]!==_||t[65]!==i||t[66]!==l||t[67]!==d||t[68]!==m?(ne=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[64]=_,t[65]=i,t[66]=l,t[67]=d,t[68]=m,t[69]=ne):ne=t[69],B=ne}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").VIDEO)))if(D!=null){var re;t[70]!==D||t[71]!==i||t[72]!==l||t[73]!==d||t[74]!==m?(re=c.jsx(D,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[70]=D,t[71]=i,t[72]=l,t[73]=d,t[74]=m,t[75]=re):re=t[75],B=re}else{var oe;t[76]!==_||t[77]!==i||t[78]!==l||t[79]!==d||t[80]!==m?(oe=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[76]=_,t[77]=i,t[78]=l,t[79]=d,t[80]=m,t[81]=oe):oe=t[81],B=oe}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").GIF)))if(h!=null){var ae;t[82]!==h||t[83]!==i||t[84]!==l||t[85]!==d||t[86]!==m?(ae=c.jsx(h,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[82]=h,t[83]=i,t[84]=l,t[85]=d,t[86]=m,t[87]=ae):ae=t[87],B=ae}else{var ie;t[88]!==_||t[89]!==i||t[90]!==l||t[91]!==d||t[92]!==m?(ie=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[88]=_,t[89]=i,t[90]=l,t[91]=d,t[92]=m,t[93]=ie):ie=t[93],B=ie}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").THIRD_PARTY_STICKER)))if(L!=null){var le;t[94]!==L||t[95]!==i||t[96]!==l||t[97]!==d||t[98]!==m?(le=c.jsx(L,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[94]=L,t[95]=i,t[96]=l,t[97]=d,t[98]=m,t[99]=le):le=t[99],B=le}else{var se;t[100]!==_||t[101]!==i||t[102]!==l||t[103]!==d||t[104]!==m?(se=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[100]=_,t[101]=i,t[102]=l,t[103]=d,t[104]=m,t[105]=se):se=t[105],B=se}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").LINK))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").AUDIO))){var ue;t[106]!==_||t[107]!==i||t[108]!==l||t[109]!==d||t[110]!==m?(ue=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[106]=_,t[107]=i,t[108]=l,t[109]=d,t[110]=m,t[111]=ue):ue=t[111],B=ue}else if(b!=null){var ce;t[112]!==b||t[113]!==i||t[114]!==l||t[115]!==d||t[116]!==m?(ce=c.jsx(b,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[112]=b,t[113]=i,t[114]=l,t[115]=d,t[116]=m,t[117]=ce):ce=t[117],B=ce}else{var de;t[118]!==M?(de=r("FBLogger")("messenger_comet").mustfix("Unknown attachment type: %s",(s||(s=o("I64"))).to_string(M)),t[118]=M,t[119]=de):de=t[119],B=de}else if((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").STICKER))&&L!=null){var me;t[120]!==L||t[121]!==i||t[122]!==l||t[123]!==d||t[124]!==m?(me=c.jsx(L,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[120]=L,t[121]=i,t[122]=l,t[123]=d,t[124]=m,t[125]=me):me=t[125],B=me}else r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content when attachment is available, reply source type: %s, attachment type: %s",(s||(s=o("I64"))).to_string(F!=null?F:(s||(s=o("I64"))).zero),s.to_string(M)),B=null;else if(F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&A!=null&&A!==""){var pe=(s||(s=o("I64"))).of_float(Date.now()),_e=d.replyMediaExpirationTimestampMs,fe=_e!=null&&(s||(s=o("I64"))).gt(pe,_e)&&!(s||(s=o("I64"))).equal(_e,(s||(s=o("I64"))).zero);if(fe)B=null;else{var ge;t[126]!==k||t[127]!==i||t[128]!==d||t[129]!==m||t[130]!==A?(ge=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[126]=k,t[127]=i,t[128]=d,t[129]=m,t[130]=A,t[131]=ge):ge=t[131],B=ge}}else if(P!=null)if(A!=null&&A!==""){var he;t[132]!==k||t[133]!==i||t[134]!==d||t[135]!==m||t[136]!==A?(he=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[132]=k,t[133]=i,t[134]=d,t[135]=m,t[136]=A,t[137]=he):he=t[137],B=he}else if(C!=null){var ye;t[138]!==C||t[139]!==i||t[140]!==l||t[141]!==d||t[142]!==m?(ye=c.jsx(C,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[138]=C,t[139]=i,t[140]=l,t[141]=d,t[142]=m,t[143]=ye):ye=t[143],B=ye}else{var Ce;t[144]!==_||t[145]!==i||t[146]!==l||t[147]!==d||t[148]!==m?(Ce=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[144]=_,t[145]=i,t[146]=l,t[147]=d,t[148]=m,t[149]=Ce):Ce=t[149],B=Ce}else if(M!=null&&(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&v!=null){var be;t[150]!==v||t[151]!==i||t[152]!==l||t[153]!==d||t[154]!==m?(be=c.jsx(v,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[150]=v,t[151]=i,t[152]=l,t[153]=d,t[154]=m,t[155]=be):be=t[155],B=be}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").DELETED))){var ve;t[156]!==S||t[157]!==m?(ve=S!=null?c.jsx(S,{outgoing:m}):null,t[156]=S,t[157]=m,t[158]=ve):ve=t[158],B=ve}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").EXPIRED))){var Se;t[159]!==g||t[160]!==i||t[161]!==l||t[162]!==d||t[163]!==m?(Se=g!=null?c.jsx(g,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}):null,t[159]=g,t[160]=i,t[161]=l,t[162]=d,t[163]=m,t[164]=Se):Se=t[164],B=Se}else if(O!=null&&(s||(s=o("I64"))).equal(O,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))){var Re;t[165]!==I||t[166]!==m?(Re=I!=null?c.jsx(I,{outgoing:m}):null,t[165]=I,t[166]=m,t[167]=Re):Re=t[167],B=Re}else if(A!=null&&F!=null&&(s||(s=o("I64"))).equal(F,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE)))if(A!==""){var Le;t[168]!==k||t[169]!==i||t[170]!==d||t[171]!==m||t[172]!==A?(Le=c.jsx(k,{isSecureMessage:i,message:d,outgoing:m,text:A}),t[168]=k,t[169]=i,t[170]=d,t[171]=m,t[172]=A,t[173]=Le):Le=t[173],B=Le}else{var Ee;t[174]!==_||t[175]!==i||t[176]!==l||t[177]!==d||t[178]!==m?(Ee=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[174]=_,t[175]=i,t[176]=l,t[177]=d,t[178]=m,t[179]=Ee):Ee=t[179],B=Ee}else if(M!=null&&(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").XMA)))if(T!=null){var ke;t[180]!==T||t[181]!==m?(ke=c.jsx(T,{outgoing:m}),t[180]=T,t[181]=m,t[182]=ke):ke=t[182],B=ke}else{var Ie;t[183]!==_||t[184]!==i||t[185]!==l||t[186]!==d||t[187]!==m?(Ie=c.jsx(_,{isSecureMessage:i,mediaRenderQpl:l,message:d,outgoing:m}),t[183]=_,t[184]=i,t[185]=l,t[186]=d,t[187]=m,t[188]=Ie):Ie=t[188],B=Ie}else r("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content, reply source type: %s",(s||(s=o("I64"))).to_string(F!=null?F:(s||(s=o("I64"))).zero)),B=null;var Te;t[189]===Symbol.for("react.memo_cache_sentinel")?(Te={className:"x193iq5w x1n2onr6 x1vjfegm"},t[189]=Te):Te=t[189];var De;t[190]!==B?(De=c.jsx("div",babelHelpers.extends({},Te,{children:B})),t[190]=B,t[191]=De):De=t[191];var xe=De,$e=d.replySourceTimestampMs,Pe=d.replySourceId,Ne=r("useMWJumpToMessage")("Reply"),Me=M!=null&&((s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(s||(s=o("I64"))).equal(M,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION))),we=o("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler(),Ae=r("useIsRollcallEnabled")(d.threadKey),Fe=(u||(u=o("LSIntEnum"))).equal(d.replyAttachmentType,r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(u||(u=o("LSIntEnum"))).equal(d.replyAttachmentId,0);if(Pe!=null&&$e!=null&&x&&!Fe){var Oe;t[192]!==Ne||t[193]!==Pe||t[194]!==$e?(Oe=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Ne(Pe,$e)},t[192]=Ne,t[193]=Pe,t[194]=$e,t[195]=Oe):Oe=t[195];var Be=Oe;if(Me&&Ae){var We,qe;if(t[196]!==d.replyAttachmentExtra){var Ue;qe=(s||(s=o("I64"))).of_string((Ue=d.replyAttachmentExtra)!=null?Ue:"0"),t[196]=d.replyAttachmentExtra,t[197]=qe}else qe=t[197];var Ve=qe,He=d.threadKey,Ge=(We=d.replySourceId)!=null?We:null,ze;t[198]!==d.messageId||t[199]!==we||t[200]!==Ve||t[201]!==Ge||t[202]!==He?(ze=function(){o("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),we(Ve,He,Ge,null,d.messageId)},t[198]=d.messageId,t[199]=we,t[200]=Ve,t[201]=Ge,t[202]=He,t[203]=ze):ze=t[203],Be=ze}var je;return t[204]!==Be||t[205]!==xe?(je=c.jsx(r("MWXPressable.react"),{onPress:Be,overlayDisabled:!0,xstyle:p,children:xe}),t[204]=Be,t[205]=xe,t[206]=je):je=t[206],je}else return xe}function p(){return[d.pressable]}l.default=m}),98);
__d("MWXMessageReplyBubble.react",["fbt","MWXMessageBubble.react","MWXText.react","ScreenReaderText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.fontStyle,i=e.outgoing,l=a===void 0?"normal":a,c=i?"right":"left",d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=u.jsx(r("ScreenReaderText.react"),{tabIndex:-1,text:s._(/*BTDS*/"Original message:")}),t[0]=d):d=t[0];var m;t[1]!==l?(m={0:{className:"x1mzt3pk x1l90r2v x1iorvi4"},1:{className:"x1mzt3pk x1l90r2v x1iorvi4 x1k4tb9n"}}[(l==="italic")<<0],t[1]=l,t[2]=m):m=t[2];var p;t[3]!==n||t[4]!==m?(p=u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:u.jsx("div",babelHelpers.extends({},m,{"data-testid":void 0,children:n}))}),t[3]=n,t[4]=m,t[5]=p):p=t[5];var _;return t[6]!==c||t[7]!==p?(_=u.jsxs(r("MWXMessageBubble.react"),{align:c,color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[d,p]}),t[6]=c,t[7]=p,t[8]=_):_=t[8],_}l.default=c}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon_DEPRECATED.react","MWXMessageReplyBubble.react","fbicon","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useEffect;function m(e){var t=o("react-compiler-runtime").c(9),n=e.mediaRenderQpl,a=e.outgoing,i,l;t[0]!==n?(i=function(){n==null||n.addPoint("render-replies-attachment")},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),d(i,l);var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Attachment"),t[3]=m):m=t[3];var p=m,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5"},t[4]=_):_=t[4];var f;t[5]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x1lliihq x13fj5qh"},t[5]=f):f=t[5];var g;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsxs("div",babelHelpers.extends({},_,{children:[p,c.jsx("span",babelHelpers.extends({},f,{children:c.jsx(r("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:o("fbicon")._(u("537728"),12)})}))]})),t[6]=g):g=t[6];var h;return t[7]!==a?(h=c.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:g}),t[7]=a,t[8]=h):h=t[8],h}l.default=m}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(6),n=e.mediaRenderQpl,a=e.outgoing,i,l;t[0]!==n?(i=function(){n==null||n.addPoint("render-replies-expired"),n==null||n.endSuccessAfterDelay()},l=[n],t[0]=n,t[1]=i,t[2]=l):(i=t[1],l=t[2]),c(i,l);var d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Message expired"),t[3]=d):d=t[3];var m=d,p;return t[4]!==a?(p=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:m}),t[4]=a,t[5]=p):p=t[5],p}l.default=d}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(2),t=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),n=t==="ChatTab",r=n?180:300,a;return e[0]!==r?(a={maxHeight:100,maxWidth:r},e[0]=r,e[1]=a):a=e[1],a}l.default=e}),98);
__d("MWRepliesImage.react",["I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","cr:4509","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWRepliesImageGetMaxDimensions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useCallback,m={incoming:{borderEndStartRadius:"x1pczhz8",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",$$css:!0},root:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0}};function p(t){var a=o("react-compiler-runtime").c(28),i=t.attachment,l=t.height,s=t.imageAlt,d=t.isAnimatedImage,p=t.isSecureMessage,_=t.isSticker,f=t.mediaRenderQpl,g=t.message,h=t.outgoing,y=t.src,C=t.width,b=s===void 0?"":s,v=d===void 0?!1:d,S=p===void 0?!1:p,R=_===void 0?!1:_,L=o("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),E=r("useMWRepliesImageGetMaxDimensions")(),k=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),I=k.blurMediaEnabled,T=r("gkx")("24098")&&I,D=R?!1:h?m.outgoing:m.incoming,x;a[0]!==f?(x=function(){f==null||f.endFailAfterDelay("load-image-error")},a[0]=f,a[1]=x):x=a[1];var $=x,P;a[2]!==f?(P=function(){f==null||f.endSuccessAfterDelay()},a[2]=f,a[3]=P):P=a[3];var N=P,M;a[4]!==i||a[5]!==L||a[6]!==D||a[7]!==l||a[8]!==b||a[9]!==v||a[10]!==S||a[11]!==R||a[12]!==E.maxHeight||a[13]!==E.maxWidth||a[14]!==f||a[15]!==g||a[16]!==$||a[17]!==N||a[18]!==h||a[19]!==y||a[20]!==C?(M=v&&L!==o("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON?c.jsx(r("MWXAspectRatioContainer.react"),{height:l!=null?(u||(u=o("I64"))).to_float(l):E.maxHeight,maxHeight:E.maxHeight,maxWidth:E.maxWidth,width:C!=null?(u||(u=o("I64"))).to_float(C):E.maxWidth,children:function(n){return c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props([m.root,R&&m.rootHasSticker,D,n]),{children:c.jsx(o("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:i,entryPoint:o("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isReplyImage:!0,isSecure:S,mediaRenderQpl:f,message:g,onPlay:r("emptyFunction"),onPress:r("emptyFunction"),outgoing:h,previewHeight:l!=null?(u||(u=o("I64"))).to_float(l):void 0,previewWidth:C!=null?(u||(u=o("I64"))).to_float(C):void 0,sourceURL:y})}))}}):c.jsx(r("MWXMessageImage.react"),{alt:b,height:l!=null?(u||(u=o("I64"))).to_float(l):void 0,maxHeight:E.maxHeight,maxWidth:E.maxWidth,onError:$,onLoad:N,src:y,width:C!=null?(u||(u=o("I64"))).to_float(C):void 0,xstyle:[m.root,R&&m.rootHasSticker,D]}),a[4]=i,a[5]=L,a[6]=D,a[7]=l,a[8]=b,a[9]=v,a[10]=S,a[11]=R,a[12]=E.maxHeight,a[13]=E.maxWidth,a[14]=f,a[15]=g,a[16]=$,a[17]=N,a[18]=h,a[19]=y,a[20]=C,a[21]=M):M=a[21];var w=M;if(n("cr:4509")!=null&&T&&!R){var A;a[22]!==D?(A=[m.root,D],a[22]=D,a[23]=A):A=a[23];var F;return a[24]!==w||a[25]!==y||a[26]!==A?(F=c.jsx(n("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:y,xstyle:A,children:w}),a[24]=w,a[25]=y,a[26]=A,a[27]=F):F=a[27],F}return w}l.default=p}),98);
__d("MWRepliesUtil",["I64","cr:9765"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,r,a){if(n("cr:9765")==null)return null;if(t.replyAttachmentPlaintextHash!=null){r==null||r.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});var i=t.replyAttachmentPlaintextHash!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(t.replyAttachmentPlaintextHash,a,r):void 0;return r==null||r.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:!!i},string:{fetch_by:"plaintextHash"}}),i}else{r==null||r.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});var l=t.replyAttachmentId!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((e||(e=o("I64"))).to_string(t.replyAttachmentId),a,r):void 0;return r==null||r.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:!!l},string:{fetch_by:"mediaId"}}),l}}l.getSecureReplyMediaURL_CausesSuspense=s}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.replyMediaExpirationTimestampMs;return t!=null&&o("LSMediaUrlUtils").isTimestampExpired(t)?e.replyMediaUrlFallback:e.replyMediaUrl}l.default=e}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=c||(c=o("react")),p=c.useEffect;function _(t){var a=o("react-compiler-runtime").c(32),l=t.isSecureMessage,c=t.mediaRenderQpl,d=t.message,_=t.outgoing,f=l===void 0?!1:l,g,h;a[0]!==c?(g=function(){c==null||c.addPoint("render-replies-gif-impl")},h=[c],a[0]=c,a[1]=g,a[2]=h):(g=a[1],h=a[2]),p(g,h);var y=(e||(e=r("useReStore")))(),C;a[3]!==y.tables.attachments||a[4]!==d.replyAttachmentId||a[5]!==d.replyAttachmentPlaintextHash||a[6]!==d.replySourceId||a[7]!==d.threadKey?(C=function(){var e,t,n=(e=d.replyAttachmentPlaintextHash)!=null?e:null,r=(t=d.replySourceId)!=null?t:"";if(n!=null)return o("ReQL").fromTableAscending(y.tables.attachments).filter(function(e){return e.attachmentFbid===n&&e.messageId===r});var a,i=(a=d.replyAttachmentId)!=null?a:(u||(u=o("I64"))).zero;return o("ReQL").fromTableAscending(y.tables.attachments).getKeyRange(d.threadKey,r,(u||(u=o("I64"))).to_string(i))},a[3]=y.tables.attachments,a[4]=d.replyAttachmentId,a[5]=d.replyAttachmentPlaintextHash,a[6]=d.replySourceId,a[7]=d.threadKey,a[8]=C):C=a[8];var b;a[9]!==y||a[10]!==d?(b=[y,d],a[9]=y,a[10]=d,a[11]=b):b=a[11];var v=o("ReQLSuspense").useFirst(C,b,i.id+":50"),S=f?v:null,R=r("useMAWMediaDownloadStatus")(S,c),L=R.uiState,E;if(v!=null)if(L!=="downloaded"&&f)E=null;else if(n("cr:9765")==null||!f){var k;a[12]!==v?(k=o("LSMediaUrlAttachment").previewUrl(v),a[12]=v,a[13]=k):k=a[13],E=k}else{var I;a[14]!==v.attachmentFbid||a[15]!==c?(I=n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(v.attachmentFbid,"MWRepliesGIF",c),a[14]=v.attachmentFbid,a[15]=c,a[16]=I):I=a[16],E=I}else if(n("cr:9765")!=null){var T;a[17]!==f||a[18]!==c||a[19]!==d?(T=n("cr:9765")!=null&&f?o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(d,c,"MWRepliesGIF"):r("getLSMediaMessageReplyMediaUrl")(d),a[17]=f,a[18]=c,a[19]=d,a[20]=T):T=a[20],E=T}if(E!=null&&E!==""){var D=v==null?void 0:v.accessibilitySummaryText,x;return a[21]!==v||a[22]!==f||a[23]!==c||a[24]!==d||a[25]!==_||a[26]!==E||a[27]!==D?(x=m.jsx(r("MWRepliesImage.react"),{attachment:v,height:d.replyMediaPreviewHeight,imageAlt:D,isAnimatedImage:!0,isSecureMessage:f,mediaRenderQpl:c,message:d,outgoing:_,src:E,width:d.replyMediaPreviewWidth}),a[21]=v,a[22]=f,a[23]=c,a[24]=d,a[25]=_,a[26]=E,a[27]=D,a[28]=x):x=a[28],x}else{var $;a[29]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"GIF"),a[29]=$):$=a[29];var P;return a[30]!==_?(P=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:_,children:$}),a[30]=_,a[31]=P):P=a[31],P}}function f(e){var t,n,a=o("react-compiler-runtime").c(11),i=babelHelpers.extends({},(d(e),e)),l=i.message,s=i.outgoing;p(function(){var e;(e=i.mediaRenderQpl)==null||e.addPoint("render-replies-gif")},[i.mediaRenderQpl]);var c=r("CometPlaceholder.react"),f=r("MWV2AttachmentLoadingPlaceholder.react"),g="MWRepliesGIF.Suspense",h=(u||(u=o("I64"))).to_float((t=l.replyMediaPreviewHeight)!=null?t:(u||(u=o("I64"))).of_float(100)),y=u.to_float((n=l.replyMediaPreviewWidth)!=null?n:(u||(u=o("I64"))).of_float(100)),C;a[0]!==f||a[1]!==s||a[2]!==h||a[3]!==y?(C=m.jsx(f,{descriptionForLogging:g,height:h,outgoing:s,width:y}),a[0]=f,a[1]=s,a[2]=h,a[3]=y,a[4]=C):C=a[4];var b;a[5]!==i?(b=m.jsx(_,babelHelpers.extends({},i)),a[5]=i,a[6]=b):b=a[6];var v;return a[7]!==c||a[8]!==C||a[9]!==b?(v=m.jsx(c,{fallback:C,name:"MWRepliesGIF",children:b}),a[7]=c,a[8]=C,a[9]=b,a[10]=v):v=a[10],v}l.default=f}),226);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=d||(d=o("react")),p=d.useEffect;function _(t){var a=o("react-compiler-runtime").c(54),l=t.isSecureMessage,d=t.mediaRenderQpl,_=t.message,f=t.outgoing,g=l===void 0?!1:l,h;a[0]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"Photo"),a[0]=h):h=a[0];var y=h,C;a[1]!==f?(C=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:f,children:y}),a[1]=f,a[2]=C):C=a[2];var b=C,v=(e||(e=r("useReStore")))(),S;a[3]!==v||a[4]!==_.replyAttachmentId||a[5]!==_.replyAttachmentPlaintextHash||a[6]!==_.replySourceId||a[7]!==_.threadKey?(S=function(){var e=_.replySourceId;if(e!=null){if(_.replyAttachmentPlaintextHash!=null){var t=_.replyAttachmentPlaintextHash;return o("ReQL").fromTableAscending(v.tables.attachments).filter(function(n){return n.attachmentFbid===t&&n.messageId===e})}else if(_.replyAttachmentId!=null){var n=_.replyAttachmentId;return o("ReQL").fromTableAscending(v.tables.attachments).getKeyRange(_.threadKey,e,(c||(c=o("I64"))).to_string(n))}}return o("ReQL").empty()},a[3]=v,a[4]=_.replyAttachmentId,a[5]=_.replyAttachmentPlaintextHash,a[6]=_.replySourceId,a[7]=_.threadKey,a[8]=S):S=a[8];var R;a[9]!==v||a[10]!==_?(R=[v,_],a[9]=v,a[10]=_,a[11]=R):R=a[11];var L=o("ReQLSuspense").useFirst(S,R,i.id+":95"),E,k;a[12]!==L||a[13]!==d?(E=function(){L!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(L)),d==null||d.addPoint("render-reply-media-impl",{bool:{has_db_attachment:L!=null}})},k=[L,d],a[12]=L,a[13]=d,a[14]=E,a[15]=k):(E=a[14],k=a[15]),p(E,k);var I=r("useMWRepliesImageGetMaxDimensions")(),T=g?L:null,D=r("useMAWMediaDownloadStatus")(T,d),x=D.uiState;if(T!=null&&x!=="downloaded")return b;var $=L!=null&&L.hasXma&&g&&L.gatingType===String(o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE),P;if(L!=null&&L.hasXma&&g){var N;P=(N=L.defaultCtaType)!=null?N:""}else P="";var M;a[16]===Symbol.for("react.memo_cache_sentinel")?(M=new(r("IconSource"))("FB",u("1423124"),28),a[16]=M):M=a[16];var w=M;if($)if(P==="xma_montage_share"){var A,F;a[17]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x6s0dn4 x1qb2erx xjw5052 x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk"},A={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},a[17]=A,a[18]=F):(A=a[17],F=a[18]);var O;return a[19]!==w?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx("div",babelHelpers.extends({},A,{children:m.jsx(r("FDSIcon.react"),{icon:w})}))})),a[19]=w,a[20]=O):O=a[20],O}else{var B,W;a[21]===Symbol.for("react.memo_cache_sentinel")?(W={className:"x6s0dn4 x99fzhk x18aeczl x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk"},B={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},a[21]=B,a[22]=W):(B=a[21],W=a[22]);var q;return a[23]!==w?(q=m.jsx("div",babelHelpers.extends({},W,{children:m.jsx("div",babelHelpers.extends({},B,{children:m.jsx(r("FDSIcon.react"),{icon:w})}))})),a[23]=w,a[24]=q):q=a[24],q}if(g&&(L==null?void 0:L.hasMedia)===!1){var U;if(a[25]!==_.replyMediaPreviewHeight){var V;U=(c||(c=o("I64"))).to_float((V=_.replyMediaPreviewHeight)!=null?V:(c||(c=o("I64"))).of_float(100)),a[25]=_.replyMediaPreviewHeight,a[26]=U}else U=a[26];var H=I.maxHeight,G=I.maxWidth,z;if(a[27]!==_.replyMediaPreviewWidth){var j;z=(c||(c=o("I64"))).to_float((j=_.replyMediaPreviewWidth)!=null?j:(c||(c=o("I64"))).of_float(100)),a[27]=_.replyMediaPreviewWidth,a[28]=z}else z=a[28];var K;a[29]!==I.maxHeight||a[30]!==I.maxWidth||a[31]!==d||a[32]!==f||a[33]!==z||a[34]!==U?(K=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:U,maxHeight:H,maxWidth:G,mediaRenderQpl:d,outgoing:f,width:z}),a[29]=I.maxHeight,a[30]=I.maxWidth,a[31]=d,a[32]=f,a[33]=z,a[34]=U,a[35]=K):K=a[35];var Q;a[36]===Symbol.for("react.memo_cache_sentinel")?(Q=m.jsx(r("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0}),a[36]=Q):Q=a[36];var X;return a[37]!==K?(X=m.jsxs(m.Fragment,{children:[K,Q]}),a[37]=K,a[38]=X):X=a[38],X}var Y;a[39]!==L||a[40]!==g||a[41]!==d||a[42]!==_?(Y=n("cr:9765")!=null&&g?function(e){if(L!=null&&L.hasXma){d==null||d.addPoint("fetch_reply_preview_url_xma_start");var t=e.replyAttachmentId!=null?n("cr:9765").getInfoUrlXMA_CausesSuspense(L,"preview","MWRepliesMedia",d):void 0;return d==null||d.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:!!t},string:{fetch_by:"maw_backend"}}),t}return o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(_,d,"MWRepliesMedia")}:r("getLSMediaMessageReplyMediaUrl"),a[39]=L,a[40]=g,a[41]=d,a[42]=_,a[43]=Y):Y=a[43];var J=Y,Z;a[44]!==J||a[45]!==_?(Z=J(_),a[44]=J,a[45]=_,a[46]=Z):Z=a[46];var ee=Z;if(ee!=null&&ee!==""){var te=_.replyMediaPreviewHeight,ne;a[47]===Symbol.for("react.memo_cache_sentinel")?(ne=s._(/*BTDS*/"Original image"),a[47]=ne):ne=a[47];var re;return a[48]!==d||a[49]!==_.replyMediaPreviewHeight||a[50]!==_.replyMediaPreviewWidth||a[51]!==f||a[52]!==ee?(re=m.jsx(r("MWRepliesImage.react"),{height:te,imageAlt:ne,mediaRenderQpl:d,outgoing:f,src:ee,width:_.replyMediaPreviewWidth}),a[48]=d,a[49]=_.replyMediaPreviewHeight,a[50]=_.replyMediaPreviewWidth,a[51]=f,a[52]=ee,a[53]=re):re=a[53],re}return b}function f(e){var t=o("react-compiler-runtime").c(21),n=e.isSecureMessage,a=e.mediaRenderQpl,i=e.message,l=e.outgoing,s=n===void 0?!1:n,u,d;t[0]!==a?(u=function(){a==null||a.addPoint("render-replies-media")},d=[a],t[0]=a,t[1]=u,t[2]=d):(u=t[1],d=t[2]),p(u,d);var f=r("useMWRepliesImageGetMaxDimensions")(),g;if(t[3]!==i.replyMediaPreviewHeight){var h;g=(c||(c=o("I64"))).to_float((h=i.replyMediaPreviewHeight)!=null?h:(c||(c=o("I64"))).of_float(100)),t[3]=i.replyMediaPreviewHeight,t[4]=g}else g=t[4];var y=f.maxHeight,C=f.maxWidth,b;if(t[5]!==i.replyMediaPreviewWidth){var v;b=(c||(c=o("I64"))).to_float((v=i.replyMediaPreviewWidth)!=null?v:(c||(c=o("I64"))).of_float(100)),t[5]=i.replyMediaPreviewWidth,t[6]=b}else b=t[6];var S;t[7]!==f.maxHeight||t[8]!==f.maxWidth||t[9]!==l||t[10]!==g||t[11]!==b?(S=m.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:g,maxHeight:y,maxWidth:C,outgoing:l,width:b}),t[7]=f.maxHeight,t[8]=f.maxWidth,t[9]=l,t[10]=g,t[11]=b,t[12]=S):S=t[12];var R;t[13]!==s||t[14]!==a||t[15]!==i||t[16]!==l?(R=m.jsx(_,{isSecureMessage:s,mediaRenderQpl:a,message:i,outgoing:l}),t[13]=s,t[14]=a,t[15]=i,t[16]=l,t[17]=R):R=t[17];var L;return t[18]!==S||t[19]!==R?(L=m.jsx(r("CometPlaceholder.react"),{fallback:S,name:"MWRepliesMedia.Suspense",children:R}),t[18]=S,t[19]=R,t[20]=L):L=t[20],L}l.default=f}),226);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useEffect,p=s._(/*BTDS*/"Attachment");function _(t){var n=o("react-compiler-runtime").c(17),a=t.mediaRenderQpl,l=t.message,c=t.outgoing,_,f;n[0]!==a?(_=function(){a==null||a.addPoint("render-replies-raven")},f=[a],n[0]=a,n[1]=_,n[2]=f):(_=n[1],f=n[2]),m(_,f);var g=(e||(e=r("useReStore")))(),h=l.replySourceId,y=l.threadKey,C,b;n[3]!==g||n[4]!==h||n[5]!==y?(C=function(){return h!=null?o("ReQL").fromTableAscending(g.tables.attachments).getKeyRange(y,h):o("ReQL").empty()},b=[g,y,h],n[3]=g,n[4]=h,n[5]=y,n[6]=C,n[7]=b):(C=n[6],b=n[7]);var v=o("ReQLSuspense").useFirst(C,b,i.id+":55"),S=p;if(v!=null){var R=(u||(u=o("LSIntEnum"))).unwrapIntEnum(v.attachmentType);e:switch(R){case r("MessagingAttachmentType").EPHEMERAL_IMAGE:{var L;n[8]===Symbol.for("react.memo_cache_sentinel")?(L=s._(/*BTDS*/"Photo"),n[8]=L):L=n[8],S=L;break e}case r("MessagingAttachmentType").EPHEMERAL_VIDEO:{var E;n[9]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Video"),n[9]=E):E=n[9],S=E;break e}default:S=p}}var k=S,I,T;n[10]===Symbol.for("react.memo_cache_sentinel")?(I={className:"x6s0dn4 x78zum5"},T=d.jsx("span",{className:"x1lliihq xbelrpt",children:d.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWViewOnceMessageIcon"),size:12})}),n[10]=I,n[11]=T):(I=n[10],T=n[11]);var D;n[12]!==S?(D=d.jsxs("div",babelHelpers.extends({"aria-label":k},I,{children:[T,S]})),n[12]=S,n[13]=D):D=n[13];var x;return n[14]!==c||n[15]!==D?(x=d.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:D}),n[14]=c,n[15]=D,n[16]=x):x=n[16],x}l.default=_}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message removed"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.default=c}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime","stylex","useJSON","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m;function p(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var _=c||(c=o("react")),f=c.useEffect,g=213,h=213,y={blurredImage:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x16xm01d",$$css:!0},unblurredImageContainer:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},C=function(t){var e=r("isStringNullOrEmpty")(t.replyMessageText)?s._(/*BTDS*/"Prompt contribution"):n("cr:2472")==null?t.replyMessageText:n("cr:2472").unvault(t.replyMessageText);return e};function b(e){var t=o("react-compiler-runtime").c(11),n;t[0]!==e?(n=babelHelpers.extends({},(p(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-rollcall-contribution")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),f(a,i);var l=n,s=l.message,u;t[5]!==s.replyAttachmentId||t[6]!==s.replyAttachmentType?(u=(m||(m=o("LSIntEnum"))).equal(s.replyAttachmentType,r("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=o("LSIntEnum"))).equal(s.replyAttachmentId,0),t[5]=s.replyAttachmentId,t[6]=s.replyAttachmentType,t[7]=u):u=t[7];var c=u,d;return t[8]!==c||t[9]!==n?(d=_.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:c?_.jsx(v,babelHelpers.extends({},n)):_.jsx(S,babelHelpers.extends({},n))}),t[8]=c,t[9]=n,t[10]=d):d=t[10],d}function v(e){var t,n=o("react-compiler-runtime").c(16),a=e.message,i=e.outgoing,l;n[0]!==a?(l=C(a),n[0]=a,n[1]=l):l=n[1];var s=l,u=r("useJSON")((t=a.replyAttachmentExtra)!=null?t:"{}"),c=u.avatar_height,d=u.avatar_url,m=u.avatar_width,p=u.owner_name,f;n[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},n[2]=f):f=n[2];var g;n[3]!==c||n[4]!==d||n[5]!==m?(g=d!=null&&_.jsx("div",{className:"x1xegmmw",children:_.jsx(r("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:c,uri:d,width:m}})}),n[3]=c,n[4]=d,n[5]=m,n[6]=g):g=n[6];var h;n[7]!==p?(h=p!=null&&_.jsx(r("MWXText.react"),{type:"meta2",children:p}),n[7]=p,n[8]=h):h=n[8];var y;n[9]!==g||n[10]!==h?(y=_.jsxs("div",babelHelpers.extends({},f,{children:[g,h]})),n[9]=g,n[10]=h,n[11]=y):y=n[11];var b;return n[12]!==i||n[13]!==y||n[14]!==s?(b=_.jsxs(r("MWXMessageReplyBubble.react"),{outgoing:i,children:[y,s]}),n[12]=i,n[13]=y,n[14]=s,n[15]=b):b=n[15],b}function S(t){var n,a=o("react-compiler-runtime").c(45),l=t.mediaRenderQpl,s=t.message,c=t.outgoing,m,p;a[0]!==l?(m=function(){l==null||l.addPoint("render-replies-rollcall-contribution-impl")},p=[l],a[0]=l,a[1]=m,a[2]=p):(m=a[1],p=a[2]),f(m,p);var b;a[3]!==s?(b=C(s),a[3]=s,a[4]=b):b=a[4];var v=b,S=(e||(e=r("useReStore")))(),R;if(a[5]!==s.replyAttachmentExtra){var L;R=(d||(d=o("I64"))).of_string((L=s.replyAttachmentExtra)!=null?L:"0"),a[5]=s.replyAttachmentExtra,a[6]=R}else R=a[6];var E=R,k;a[7]!==S.tables.roll_calls||a[8]!==E?(k=function(){return o("ReQL").fromTableAscending(S.tables.roll_calls).getKeyRange(E)},a[7]=S.tables.roll_calls,a[8]=E,a[9]=k):k=a[9];var I;a[10]!==S||a[11]!==E?(I=[S,E],a[10]=S,a[11]=E,a[12]=I):I=a[12];var T=o("ReQLSuspense").useFirst(k,I,i.id+":163"),D=s.threadKey,x,$;a[13]!==S||a[14]!==E||a[15]!==T||a[16]!==D?(x=function(){T||r("promiseDone")(S.runInTransaction(function(e){return r("LSIssuePointQueryForRollCallConversionStoredProcedure")(r("LSFactory")(e),{rollCallId:E,threadKey:D})},"readwrite",void 0,void 0,i.id+":172"))},$=[T,E,D,S],a[13]=S,a[14]=E,a[15]=T,a[16]=D,a[17]=x,a[18]=$):(x=a[17],$=a[18]),o("Int64Hooks").useEffectInt64(x,$);var P=(n=T==null?void 0:T.isBlurred)!=null?n:!1,N,M,w,A;if(a[19]!==s){w=r("getLSMediaMessageReplyMediaUrl")(s);var F;a[24]!==s.replyMediaPreviewHeight?(F=s.replyMediaPreviewHeight!=null?(d||(d=o("I64"))).to_float(s.replyMediaPreviewHeight):0,a[24]=s.replyMediaPreviewHeight,a[25]=F):F=a[25];var O=F,B;a[26]!==s.replyMediaPreviewWidth?(B=s.replyMediaPreviewWidth!=null?(d||(d=o("I64"))).to_float(s.replyMediaPreviewWidth):0,a[26]=s.replyMediaPreviewWidth,a[27]=B):B=a[27];var W=B,q=Math.min(1,g/O),U=Math.min(1,h/W),V;a[28]!==O||a[29]!==q||a[30]!==U?(V=Math.round(O*Math.min(q,U)),a[28]=O,a[29]=q,a[30]=U,a[31]=V):V=a[31],N=V;var H;a[32]!==q||a[33]!==U||a[34]!==W?(H=Math.round(W*Math.min(q,U)),a[32]=q,a[33]=U,a[34]=W,a[35]=H):H=a[35],M=H,A=r("isStringNullOrEmpty")(w),a[19]=s,a[20]=N,a[21]=M,a[22]=w,a[23]=A}else N=a[20],M=a[21],w=a[22],A=a[23];if(!A){var G;return a[36]!==P||a[37]!==N||a[38]!==M||a[39]!==c||a[40]!==w?(G=P?_.jsx("div",{style:{height:N,width:M},children:_.jsx(r("FDSBlurredBackgroundImage.react"),{src:w,xstyle:[y.blurredImage,c&&y.outgoing]})}):_.jsx("div",{className:(u||(u=r("stylex")))([y.unblurredImageContainer,c&&y.outgoing]),style:{height:N,width:M},children:_.jsx(r("FDSImageCover.react"),{alt:"",src:w})}),a[36]=P,a[37]=N,a[38]=M,a[39]=c,a[40]=w,a[41]=G):G=a[41],G}var z;return a[42]!==c||a[43]!==v?(z=_.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:v}),a[42]=c,a[43]=v,a[44]=z):z=a[44],z}l.default=b}),226);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","react","react-compiler-runtime","useIssueMediaReceiverFetchTask","useMAWMediaDownloadStatus","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=c||(c=o("react")),p=c.useEffect,_={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function f(t){var a,l,c=o("react-compiler-runtime").c(37),d=t.isSecureMessage,f=t.mediaRenderQpl,h=t.message,y=t.outgoing,C=d===void 0?!1:d,b;c[0]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Sticker"),c[0]=b):b=c[0];var v=b,S;c[1]!==y?(S=m.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:y,children:v}),c[1]=y,c[2]=S):S=c[2];var R=S,L=(e||(e=r("useReStore")))(),E;c[3]!==L||c[4]!==h.replyAttachmentId||c[5]!==h.replyAttachmentPlaintextHash||c[6]!==h.replySourceId||c[7]!==h.threadKey?(E=function(){var e=h.replyAttachmentPlaintextHash,t=h.replySourceId;if(e!=null&&t!=null)return o("ReQL").fromTableAscending(L.tables.attachments).filter(function(n){return n.attachmentFbid===e&&n.messageId===t});var n=h.replyAttachmentId;return n!=null&&t!=null?o("ReQL").fromTableAscending(L.tables.attachments).getKeyRange(h.threadKey,t,(u||(u=o("I64"))).to_string(n)):o("ReQL").empty()},c[3]=L,c[4]=h.replyAttachmentId,c[5]=h.replyAttachmentPlaintextHash,c[6]=h.replySourceId,c[7]=h.threadKey,c[8]=E):E=c[8];var k;c[9]!==L||c[10]!==h?(k=[L,h],c[9]=L,c[10]=h,c[11]=k):k=c[11];var I=o("ReQLSuspense").useFirst(E,k,i.id+":81"),T;c[12]!==I?(T=I?r("isReceiverFetchSticker")(I):!1,c[12]=I,c[13]=T):T=c[13],r("useIssueMediaReceiverFetchTask")(T,h.replySourceId,h.threadKey,I==null?void 0:I.receiverFetchId,C,f,I==null?void 0:I.previewUrl,I==null?void 0:I.previewUrlExpirationTimestampMs,I==null?void 0:I.attachmentType);var D,x;c[14]!==I||c[15]!==f?(D=function(){I!=null&&(f==null||f.addAttachmentAnnotations==null||f.addAttachmentAnnotations(I)),f==null||f.addPoint("render-replies-sticker-impl",{bool:{has_db_attachment:I!=null}})},x=[I,f],c[14]=I,c[15]=f,c[16]=D,c[17]=x):(D=c[16],x=c[17]),p(D,x);var $=C?I:null,P=(a=r("useMAWMediaDownloadStatus")($,f))!=null?a:{},N=P.uiState;if($!=null&&N!=="downloaded")return R;var M=(l=h.replyMessageText)!=null?l:"",w=(n("cr:2472")!=null?n("cr:2472").unvault(M):M)==="\uD83D\uDC4D";if(w){var A;return c[18]===Symbol.for("react.memo_cache_sentinel")?(A=m.jsx(r("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:r("LSHotEmojiSize").NONE,xstyle:r("gkx")("23249")?_.replyHotLikeSticker:_.replyHotLikeStickerV2}),c[18]=A):A=c[18],A}var F;c[19]!==C||c[20]!==f||c[21]!==h?(F=n("cr:9765")!=null&&C?o("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(h,f,"MWRepliesSticker"):r("getLSMediaMessageReplyMediaUrl")(h),c[19]=C,c[20]=f,c[21]=h,c[22]=F):F=c[22];var O=F;if(O!=null&&O!==""){var B=I==null?void 0:I.accessibilitySummaryText,W;return c[23]!==I||c[24]!==C||c[25]!==f||c[26]!==h||c[27]!==y||c[28]!==O||c[29]!==B?(W=m.jsx(r("MWRepliesImage.react"),{attachment:I,height:h.replyMediaPreviewHeight,imageAlt:B,isSecureMessage:C,isSticker:!0,mediaRenderQpl:f,message:h,outgoing:y,src:O,width:h.replyMediaPreviewWidth}),c[23]=I,c[24]=C,c[25]=f,c[26]=h,c[27]=y,c[28]=O,c[29]=B,c[30]=W):W=c[30],W}if(I==null)return R;var q;if(n("cr:9765")==null||!C||I.receiverFetchId!=null)q=g;else{var U;c[31]!==f?(U=function(t){return n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(t.attachmentFbid,"MWRepliesSticker",f)},c[31]=f,c[32]=U):U=c[32],q=U}var V;return c[33]!==I||c[34]!==f||c[35]!==q?(V=m.jsx(r("MWV2Sticker.react"),{attachment:I,getPreviewUrl:q,mediaRenderQpl:f,scale:.6,xstyle:_.replySticker}),c[33]=I,c[34]=f,c[35]=q,c[36]=V):V=c[36],V}function g(e){return o("LSMediaUrlAttachment").previewUrl(e)}function h(e){var t,n,a=o("react-compiler-runtime").c(11),i=babelHelpers.extends({},(d(e),e)),l=i.message,s=i.outgoing;p(function(){var e;(e=i.mediaRenderQpl)==null||e.addPoint("render-replies-sticker")},[i.mediaRenderQpl]);var c=r("CometPlaceholder.react"),_=r("MWV2AttachmentLoadingPlaceholder.react"),g="MWRepliesSticker.Suspense",h=(u||(u=o("I64"))).to_float((t=l.replyMediaPreviewHeight)!=null?t:(u||(u=o("I64"))).of_float(24)),y=u.to_float((n=l.replyMediaPreviewWidth)!=null?n:(u||(u=o("I64"))).of_float(24)),C;a[0]!==_||a[1]!==s||a[2]!==h||a[3]!==y?(C=m.jsx(_,{descriptionForLogging:g,height:h,outgoing:s,width:y}),a[0]=_,a[1]=s,a[2]=h,a[3]=y,a[4]=C):C=a[4];var b;a[5]!==i?(b=m.jsx(f,babelHelpers.extends({},i)),a[5]=i,a[6]=b):b=a[6];var v;return a[7]!==c||a[8]!==C||a[9]!==b?(v=m.jsx(c,{fallback:C,name:"MWRepliesSticker",children:b}),a[7]=c,a[8]=C,a[9]=b,a[10]=v):v=a[10],v}l.default=h}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","MsgrWebGating","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c;function d(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var m=e||(e=o("react")),p=e.useEffect;function _(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=babelHelpers.extends({},(d(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-story")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),p(a,i);var l;return t[5]!==n?(l=m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:m.jsx(f,babelHelpers.extends({},n))}),t[5]=n,t[6]=l):l=t[6],l}function f(e){var t=o("react-compiler-runtime").c(34),a=e.isSecureMessage,i=e.mediaRenderQpl,l=e.message,d=e.outgoing,_=a===void 0?!1:a,f=l.replySourceId,g;if(t[0]!==_||t[1]!==f){var h;g=f!=null?_?f:(h=r("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+f),view_single:!0}).setDomain("www.facebook.com"))==null||(h=h.setProtocol("https"))==null?void 0:h.toString():void 0,t[0]=_,t[1]=f,t[2]=g}else g=t[2];var y=g,C,b;t[3]!==i||t[4]!==l.replyAttachmentId||t[5]!==l.replyAttachmentPlaintextHash||t[6]!==l.replySourceId?(C=function(){i==null||i.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:l.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:l.replyAttachmentPlaintextHash!=null,has_reply_source_id:l.replySourceId!=null}}),i==null||i.addAnnotations({string:{xma_content_type:o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(r("LSXmaContentType").FB_STORY_REPLY))}})},b=[i,l.replyAttachmentId,l.replyAttachmentPlaintextHash,l.replySourceId],t[3]=i,t[4]=l.replyAttachmentId,t[5]=l.replyAttachmentPlaintextHash,t[6]=l.replySourceId,t[7]=C,t[8]=b):(C=t[7],b=t[8]),o("Int64Hooks").useEffectInt64(C,b);var v;t[9]!==_||t[10]!==i?(v=n("cr:9765")!=null&&_?function(e){return o("MsgrWebGating").isQuotedMessagesInLsEnabled()?(e.replyAttachmentId!=null&&e.replyAttachmentPlaintextHash==null&&r("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing"),e.replyAttachmentPlaintextHash!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(e.replyAttachmentPlaintextHash,"MWRepliesStory",i):null):e.replyAttachmentId!=null?n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((c||(c=o("I64"))).to_string(e.replyAttachmentId),"MWRepliesStory",i):null}:r("getLSMediaMessageReplyMediaUrl"),t[9]=_,t[10]=i,t[11]=v):v=t[11];var S=v,R;t[12]!==S||t[13]!==l?(R=S(l),t[12]=S,t[13]=l,t[14]=R):R=t[14];var L=R,E,k;if(t[15]!==i||t[16]!==l.replyAttachmentPlaintextHash||t[17]!==L?(E=function(){L==null&&(i==null||i.endFailAfterDelay("missing-reply-media",{bool:{has_plaintexthash:l.replyAttachmentPlaintextHash!=null}}))},k=[i,l.replyAttachmentPlaintextHash,L],t[15]=i,t[16]=l.replyAttachmentPlaintextHash,t[17]=L,t[18]=E,t[19]=k):(E=t[18],k=t[19]),p(E,k),L==null){var I;t[20]===Symbol.for("react.memo_cache_sentinel")?(I=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[20]=I):I=t[20];var T;return t[21]!==i||t[22]!==d?(T=m.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:d,mediaRenderQpl:i,children:I}),t[21]=i,t[22]=d,t[23]=T):T=t[23],T}var D;t[24]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"View story"),t[24]=D):D=t[24];var x;t[25]!==y?(x=y!=null?{url:y}:void 0,t[25]=y,t[26]=x):x=t[26];var $;t[27]!==i||t[28]!==d||t[29]!==L?($=m.jsx(r("MWRepliesImage.react"),{mediaRenderQpl:i,outgoing:d,src:L}),t[27]=i,t[28]=d,t[29]=L,t[30]=$):$=t[30];var P;return t[31]!==x||t[32]!==$?(P=m.jsx(r("MWXPressable.react"),{"aria-label":D,linkProps:x,overlayDisabled:!0,children:$}),t[31]=x,t[32]=$,t[33]=P):P=t[33],P}l.default=_}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t,a,i=o("react-compiler-runtime").c(15),l=e.isSecureMessage,u=e.message,c=e.outgoing,d=e.text;r("vulture")("7YIuyL18sPcYsls8dBQzAKzz2NI=");var m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m={MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},i[0]=m):m=i[0];var p=m,_;i[1]!==d?(_=o("MWChatTextFormattingUtils").getFormattingRanges(d),i[1]=d,i[2]=_):_=i[2];var f=_,g;if(i[3]!==l||i[4]!==u.mentionIds){var h,y;g=new Set(l?(h=(y=u.mentionIds)==null||y.split==null?void 0:y.split(","))!=null?h:[]:[]),i[3]=l,i[4]=u.mentionIds,i[5]=g}else g=i[5];var C=g,b;i[6]!==d?(b=n("cr:2472")==null?d:n("cr:2472").unvault(d),i[6]=d,i[7]=b):b=i[7];var v=b,S=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(v,[],C,u.threadKey))==null?void 0:a.textWithSubstitutions)!=null?t:v,R;i[8]===Symbol.for("react.memo_cache_sentinel")?(R={className:"xi81zsa x126k92a"},i[8]=R):R=i[8];var L;i[9]!==f||i[10]!==S?(L=s.jsx("div",babelHelpers.extends({},R,{children:s.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:f,renderers:p,text:S,transforms:o("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})),i[9]=f,i[10]=S,i[11]=L):L=i[11];var E;return i[12]!==c||i[13]!==L?(E=s.jsx(r("MWXMessageReplyBubble.react"),{outgoing:c,children:L}),i[12]=c,i[13]=L,i[14]=E):E=i[14],E}l.default=c}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message unavailable"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.default=c}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d;function m(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var p=d||(d=o("react")),_=d,f=_.useCallback,g=_.useEffect,h=_.useRef,y={thumbnail:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function C(t){var a=o("react-compiler-runtime").c(65),l=t.isSecureMessage,d=t.mediaRenderQpl,m=t.message,_=t.outgoing,f=l===void 0?!1:l,C=r("useMWRepliesImageGetMaxDimensions")(),b=C.maxHeight,v=C.maxWidth,S=(e||(e=r("useReStore")))(),R;a[0]!==S.tables.attachments||a[1]!==m.replyAttachmentId||a[2]!==m.replyAttachmentPlaintextHash||a[3]!==m.replySourceId||a[4]!==m.threadKey?(R=function(){var e,t=m.replyAttachmentPlaintextHash,n=(e=m.replySourceId)!=null?e:"";if(t!=null&&n!=null)return o("ReQL").fromTableAscending(S.tables.attachments).filter(function(e){return e.attachmentFbid===t&&e.messageId===n});var r,a=(r=m.replyAttachmentId)!=null?r:(c||(c=o("I64"))).zero;return o("ReQL").fromTableAscending(S.tables.attachments).getKeyRange(m.threadKey,n,(c||(c=o("I64"))).to_string(a))},a[0]=S.tables.attachments,a[1]=m.replyAttachmentId,a[2]=m.replyAttachmentPlaintextHash,a[3]=m.replySourceId,a[4]=m.threadKey,a[5]=R):R=a[5];var L;a[6]!==S||a[7]!==m?(L=[S,m],a[6]=S,a[7]=m,a[8]=L):L=a[8];var E=o("ReQLSuspense").useFirst(R,L,i.id+":72"),k,I;a[9]!==E||a[10]!==d?(k=function(){E!=null&&(d==null||d.addAttachmentAnnotations==null||d.addAttachmentAnnotations(E)),d==null||d.addPoint("render-reply-video-impl",{bool:{has_db_attachment:E!=null}})},I=[E,d],a[9]=E,a[10]=d,a[11]=k,a[12]=I):(k=a[11],I=a[12]),g(k,I);var T=f?E:null,D=r("useMAWMediaDownloadStatus")(T,d),x=D.uiState,$;if(E!=null)if(T!=null&&x!=="downloaded")$=null;else if(n("cr:9765")==null||!f){var P;a[13]!==E?(P=o("LSMediaUrlAttachment").previewUrl(E),a[13]=E,a[14]=P):P=a[14],$=P}else{var N;a[15]!==E.attachmentFbid||a[16]!==d?(N=n("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(E.attachmentFbid,"MWRepliesVideo",d),a[15]=E.attachmentFbid,a[16]=d,a[17]=N):N=a[17],$=N}var M=h(null),w;a[18]!==d?(w=function(t){d==null||d.endFailAfterDelay("load-video-error",{string:{video_error_name:t}})},a[18]=d,a[19]=w):w=a[19];var A=w,F;a[20]!==d?(F=function(){d==null||d.endSuccessAfterDelay()},a[20]=d,a[21]=F):F=a[21];var O=F;if($==null){d==null||d.endSuccessAfterDelay();var B;a[22]===Symbol.for("react.memo_cache_sentinel")?(B=s._(/*BTDS*/"Video"),a[22]=B):B=a[22];var W;return a[23]!==_?(W=p.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:_,children:B}),a[23]=_,a[24]=W):W=a[24],W}var q;a[25]!==m.replyMediaPreviewHeight?(q=m.replyMediaPreviewHeight!=null?(c||(c=o("I64"))).to_float(m.replyMediaPreviewHeight):void 0,a[25]=m.replyMediaPreviewHeight,a[26]=q):q=a[26];var U=q,V;a[27]!==m.replyMediaPreviewWidth?(V=m.replyMediaPreviewWidth!=null?(c||(c=o("I64"))).to_float(m.replyMediaPreviewWidth):void 0,a[27]=m.replyMediaPreviewWidth,a[28]=V):V=a[28];var H=V,G;if((E==null?void 0:E.previewUrlMimeType)!=null&&!f){var z;a[29]!==A?(z=function(){return A()},a[29]=A,a[30]=z):z=a[30];var j;a[31]!==U||a[32]!==b||a[33]!==v||a[34]!==O||a[35]!==$||a[36]!==z||a[37]!==H?(j=p.jsx(r("MWXMessageImage.react"),{alt:"",height:U,maxHeight:b,maxWidth:v,onError:z,onLoad:O,src:$,width:H,xstyle:y.thumbnail}),a[31]=U,a[32]=b,a[33]=v,a[34]=O,a[35]=$,a[36]=z,a[37]=H,a[38]=j):j=a[38],G=j}else{var K=1,Q=1;U!=null&&(K=U/b),H!=null&&(Q=H/v);var X=Math.max(K,Q),Y;a[39]!==A||a[40]!==O?(Y=p.jsx(r("MWXVideoStatusListener.react"),{onError:A,onLoad:O,videoRef:M}),a[39]=A,a[40]=O,a[41]=Y):Y=a[41];var J;a[42]===Symbol.for("react.memo_cache_sentinel")?(J="x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d xin470k x6ikm8r x10wlt62",a[42]=J):J=a[42];var Z=U!=null&&U>b?"100%":U,ee;a[43]!==b||a[44]!==v?(ee={maxHeight:b,maxWidth:v},a[43]=b,a[44]=v,a[45]=ee):ee=a[45];var te=H!=null&&H>v?"100%":(H||0)/X,ne;a[46]!==$||a[47]!==Z||a[48]!==ee||a[49]!==te?(ne=p.jsx("video",{alt:"",className:J,height:Z,ref:M,src:$,style:ee,width:te}),a[46]=$,a[47]=Z,a[48]=ee,a[49]=te,a[50]=ne):ne=a[50];var re;a[51]!==Y||a[52]!==ne?(re=p.jsxs(p.Fragment,{children:[Y,ne]}),a[51]=Y,a[52]=ne,a[53]=re):re=a[53],G=re}var oe;a[54]===Symbol.for("react.memo_cache_sentinel")?(oe={className:"x1n2onr6"},a[54]=oe):oe=a[54];var ae=G,ie;a[55]===Symbol.for("react.memo_cache_sentinel")?(ie={className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k x10l6tqk x13vifvy xh8yej3"},a[55]=ie):ie=a[55];var le;a[56]!==A?(le=function(){return A()},a[56]=A,a[57]=le):le=a[57];var se;a[58]===Symbol.for("react.memo_cache_sentinel")?(se=u("354763"),a[58]=se):se=a[58];var ue;a[59]!==O||a[60]!==le?(ue=p.jsx("div",babelHelpers.extends({},ie,{children:p.jsx(r("MWXImage.react"),{onError:le,onLoad:O,src:se})})),a[59]=O,a[60]=le,a[61]=ue):ue=a[61];var ce;return a[62]!==ue||a[63]!==G?(ce=p.jsxs("div",babelHelpers.extends({},oe,{children:[ae,ue]})),a[62]=ue,a[63]=G,a[64]=ce):ce=a[64],ce}function b(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e?(n=babelHelpers.extends({},(m(e),e)),t[0]=e,t[1]=n):n=t[1];var a,i;t[2]!==n.mediaRenderQpl?(a=function(){var e;(e=n.mediaRenderQpl)==null||e.addPoint("render-replies-video")},i=[n.mediaRenderQpl],t[2]=n.mediaRenderQpl,t[3]=a,t[4]=i):(a=t[3],i=t[4]),g(a,i);var l;return t[5]!==n?(l=p.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:p.jsx(C,babelHelpers.extends({},n))}),t[5]=n,t[6]=l):l=t[6],l}l.default=b}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRaven.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","react","react-compiler-runtime","useMWJumpToMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(20),n=e.isSecureMessage,a=e.mediaRenderQpl,i=e.message,l=e.outgoing,c=n===void 0?!1:n,d=r("MWBlockingProtectionContext.react").useHook(),m=d.findMessageId,p=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(i.replyToUserId,i.threadKey),_;if(t[0]!==m||t[1]!==p||t[2]!==i.replySourceId){var f;_=p&&!m((f=i.replySourceId)!=null?f:""),t[0]=m,t[1]=p,t[2]=i.replySourceId,t[3]=_}else _=t[3];var g=_,h=r("useMWJumpToMessage")("Pinned"),y,C;if(t[4]!==a||t[5]!==g?(y=function(){a==null||a.addPoint("render-replied-message",{bool:{show_blocking_tombstone:g}})},C=[a,g],t[4]=a,t[5]=g,t[6]=y,t[7]=C):(y=t[6],C=t[7]),u(y,C),g){var b=i.replySourceTimestampMs,v=i.replySourceId,S;t[8]!==h||t[9]!==v||t[10]!==b?(S=function(){v!=null&&b!=null&&h(v,b)},t[8]=h,t[9]=v,t[10]=b,t[11]=S):S=t[11];var R;return t[12]!==i||t[13]!==S?(R=s.jsx(o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{message:i,onClick:S,source:o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),t[12]=i,t[13]=S,t[14]=R):R=t[14],R}var L;return t[15]!==c||t[16]!==a||t[17]!==i||t[18]!==l?(L=s.jsx(r("MWPBaseRepliedMessage.react"),{isSecureMessage:c,mediaRenderQpl:a,message:i,outgoing:l,renderAttachment:r("MWRepliesAttachment.react"),renderExpiredMessage:r("MWRepliesExpired.react"),renderGIF:r("MWRepliesGIF.react"),renderMedia:r("MWRepliesMedia.react"),renderRaven:r("MWRepliesRaven.react")!=null?r("MWRepliesRaven.react"):void 0,renderRemovedMessage:r("MWRepliesRemoved.react"),renderRollcallContribution:r("MWRepliesRollcallContribution.react"),renderSticker:r("MWRepliesSticker.react"),renderStory:r("MWRepliesStory.react"),renderTextMessage:r("MWRepliesText.react"),renderUnavailableMessage:r("MWRepliesUnavailable.react"),renderUnavailableStory:r("MWStoryUnavailable.react"),renderVideo:r("MWRepliesVideo.react")}),t[15]=c,t[16]=a,t[17]=i,t[18]=l,t[19]=L):L=t[19],L}l.default=c}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentAppID","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","mergeDeep","react","react-compiler-runtime","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useLayoutEffect,m=c.useRef;function p(e,t,n,r){var a=o("react-compiler-runtime").c(1),i=n===void 0?g:n,l=r===void 0?o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT:r,s;return a[0]===Symbol.for("react.memo_cache_sentinel")?(s={},a[0]=s):s=a[0],f(e,t,i,!1,s,l)}function _(e,t){var n=o("react-compiler-runtime").c(4),r;n[0]!==e.replyAttachmentType?(r=o("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(e.replyAttachmentType),n[0]=e.replyAttachmentType,n[1]=r):r=n[1];var a;return n[2]!==r?(a={string:{reply_attachment_type:r}},n[2]=r,n[3]=a):a=n[3],f(e,t,h,!0,a,o("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT)}function f(e,t,n,a,i,l){i===void 0&&(i={});var c=(s||(s=o("I64"))).le(e.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),p=o("MWPActor.react").useActor(),_=s.equal(e.senderId,p),f=r("useLSMessagingInitiatingSource")(),g=r("useXMAPreviewsDisabledSetting")(),h=m(!1),y=o("Int64Hooks").useMemoInt64(function(){var d;if(r("vulture")("Lp_keVrDMbR_lxlaz-4i9tUhgVI="),!n(e,t))return null;var m=o("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(e.offlineThreadingId,c,a),p=o("CurrentAppID").getAppID(),y={bool:{has_db_reply_attachment:e.replyAttachmentId!=null,has_db_reply_attachment_plaintexthash:e.replyAttachmentPlaintextHash!=null,has_quick_replies:e.hasQuickReplies,has_reply_source_id:e.replySourceId!=null,has_text:!!e.text,is_admin_message:e.isAdminMessage,is_bot_response:e.botResponseId!=null,is_collapsed:e.isCollapsed,is_expired:e.isExpired,is_forwarded:(d=e.isForwarded)!=null?d:!1,is_optimistic:c,is_outgoing:_,is_pdb:!!r("gkx")("8483"),is_reply_to_media:a,is_unsent:e.isUnsent,mention_type_is_ai:e.mentionTypes==="ai",text_has_links:e.textHasLinks,use_maw_shared_worker:o("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},int:{message_rendering_type:(s||(s=o("I64"))).to_float(e.messageRenderingType),quick_reply_type:s.to_float(e.quickReplyType),reply_status:e.replyStatus!=null?(s||(s=o("I64"))).to_float(e.replyStatus):void 0,reply_type:e.replyType!=null?(s||(s=o("I64"))).to_float(e.replyType):void 0,takedown_state:e.takedownState!=null?(s||(s=o("I64"))).to_float(e.takedownState):void 0},string:{app_id:p!=null?p:void 0,content_type:a&&e.replyAttachmentType!=null?o("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(e.replyAttachmentType):o("MWMediaRenderQplUtils").getMessageContentTypeString(e),content_type_num:s.to_string(e.displayedContentTypes),entry_point:"thread_view",message_age_bucket:o("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(e.primarySortKey),messaging_initiation_source:o("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(f),mw_version:s.to_string(o("MWVersion").v2),reply_source_type:e.replySourceType!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(e.replySourceType):void 0,reply_source_type_v2:e.replySourceTypeV2!=null?o("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(e.replySourceTypeV2):void 0,thread_type:o("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(t),transport_key:e.transportKey}},C=r("mergeDeep")(y,i);return babelHelpers.extends({},o("MWMediaRenderQplUtils").createQplFlowCommon(l,m,h,C),{addAttachmentAnnotations:function(t){var e,n,a,i=t==null?void 0:t.receiverFetchId,c;try{c=i!=null?JSON.parse(i):null}catch(e){c=null,r("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}var d=(e=c)==null?void 0:e.xma_content_type,p=d!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((u||(u=o("LSIntEnum"))).ofNumber(d)):void 0;r("QPLUserFlow").addAnnotations(l,{bool:{has_attachment_receiver_fetch_id:(t==null?void 0:t.receiverFetchId)!=null,has_db_attachment:t!=null,has_db_media:(t==null?void 0:t.hasMedia)===!0,has_db_playable_url:!!(t!=null&&t.playableUrl),has_db_preview_url:!!(t!=null&&t.previewUrl),has_db_preview_url_large:!!(t!=null&&t.previewUrlLarge),has_db_xma:(t==null?void 0:t.hasXma)===!0,has_db_xma_favicon:(t==null?void 0:t.hasXmaFavicon)===!0,has_db_xma_header_image:(t==null?void 0:t.hasXmaHeaderImage)===!0,has_db_xma_preview:(t==null?void 0:t.hasXmaPreview)===!0,is_db_playable_url_expired:(t==null?void 0:t.playableUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(t==null?void 0:t.previewUrlExpirationTimestampMs)!=null?o("LSMediaUrlUtils").isTimestampExpired(t.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:g},string:{attachment_logging_type:t==null?void 0:t.attachmentLoggingType,attachment_transport_key:(n=t==null?void 0:t.transportKey)!=null?n:void 0,attachment_type:t==null?null:o("MWMediaRenderQplUtils").getAttachmentTypeString(t),audio_duration_bucket:(t==null?void 0:t.playableDurationMs)!=null?o("MWMediaRenderQplUtils").convertDurationToStringBucket((s||(s=o("I64"))).to_float((a=t==null?void 0:t.playableDurationMs)!=null?a:(s||(s=o("I64"))).zero)/1e3):void 0,file_size_bucket:(t==null?void 0:t.filesize)!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket((s||(s=o("I64"))).to_float(t==null?void 0:t.filesize)):void 0,playable_url_mime_type:t==null?void 0:t.playableUrlMimeType,preview_url_mime_type:t==null?void 0:t.previewUrlMimeType,sanitized_plaintext_hash:b(t),xma_content_type:p!=null?p:(t==null?void 0:t.xmaContentType)!=null?o("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(t.xmaContentType):void 0,xma_default_cta_type:t==null?void 0:t.defaultCtaType,xma_layout_type:o("MWMediaRenderQplUtils").getMessageXmaLayoutTypeStringFromEnum(t==null?void 0:t.xmaLayoutType)}},{instanceKey:m})}})},[c,e.displayedContentTypes]),C=r("usePartialViewImpression")({onImpressionEnd:function(){h.current===!1&&(y==null||y.addPoint("message-row-hidden"),y==null||y.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){h.current===!1&&(y==null||y.addPoint("message-row-visible"),y==null||y.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});return d(function(){return y==null||y.start(),y==null||y.addPoint("message-row-mounted"),function(){h.current===!1&&(y==null?void 0:y.getInstanceKey())!=null&&(y==null||y.addPoint("message-row-unmounted"),y==null||y.endCancelAfterDelay(706))}},[y]),{mediaRenderQpl:y,messageRowRef:C}}function g(e,t){if(y(e))return!1;var n=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(8),e.displayedContentTypes);return n||o("MAWMsg").isMediaMsg(e)}function h(e,t){return o("MAWMsg").isMediaReplyAttachmentType(e,t)&&C(e)}function y(e){return e.isUnsent||e.isExpired}function C(e){return e.replyStatus!=null&&(s||(s=o("I64"))).equal(e.replyStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSReplyMessageStatus").VALID))}function b(e){if(!(!r("gkx")("23916")||e==null||isFinite(e.attachmentFbid)))return o("WAHashUtils").sanitisePlaintextHash(o("WAHashUtils").stringToPlaintextHash(e.attachmentFbid))}l.useMediaRenderQpl=p,l.useMediaRenderQplForReply=_,l.enableQplForMessage=g}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.outgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Error rendering media"),t[0]=a):a=t[0];var i;return t[1]!==n?(i=u.jsx(r("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=c}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(2),a;return n[0]!==t.replySourceTypeV2?(a=t.replySourceTypeV2!=null&&(e||(e=o("I64"))).equal(t.replySourceTypeV2,(s||(s=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").XMA)),n[0]=t.replySourceTypeV2,n[1]=a):a=n[1],a}l.default=u}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","react-compiler-runtime","useMWIsReplyToAuthor"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect,m={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(31),n=e.outgoing,a=e.isGroupThread,i=e.isSecureMessage,l=e.message,p=e.threadType,_=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),f=_.isStandardMessageList,g=r("useMWIsReplyToAuthor")(l),h;t[0]!==l.replySourceTypeV2?(h=l.replySourceTypeV2!=null&&(s||(s=o("I64"))).equal(l.replySourceTypeV2,(u||(u=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY)),t[0]=l.replySourceTypeV2,t[1]=h):h=t[1];var y=h,C;t[2]!==l.replyMediaExpirationTimestampMs?(C=l.replyMediaExpirationTimestampMs!=null?(s||(s=o("I64"))).gt(l.replyMediaExpirationTimestampMs,(s||(s=o("I64"))).zero):!0,t[2]=l.replyMediaExpirationTimestampMs,t[3]=C):C=t[3];var b=C,v=l.replySourceId==null?y:b,S=g||v,R;t[4]!==a||t[5]!==l?(R=c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:c.jsx(r("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:a,message:l})}),t[4]=a,t[5]=l,t[6]=R):R=t[6];var L=R,E;t[7]===Symbol.for("react.memo_cache_sentinel")?(E=c.jsx("div",{className:"x1xc55vz",role:"none"}),t[7]=E):E=t[7];var k=E,I=o("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(l,p),T=I.mediaRenderQpl,D=I.messageRowRef,x,$;t[8]!==T?(x=function(){T==null||T.addPoint("render-message-reply-row")},$=[T],t[8]=T,t[9]=x,t[10]=$):(x=t[9],$=t[10]),d(x,$);var P=n?L:k,N=n?k:L,M=n?"right":"left",w=S&&m.replyMargin,A;t[11]!==n?(A=function(t){return c.jsx(r("MWV2ReplyError.react"),{outgoing:n})},t[11]=n,t[12]=A):A=t[12];var F;t[13]!==i||t[14]!==f||t[15]!==T||t[16]!==l||t[17]!==n?(F=f?c.jsx(r("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:l,outgoing:n,children:c.jsx(r("MWRepliedMessage.react"),{isSecureMessage:i,mediaRenderQpl:T,message:l,outgoing:n})}):c.jsx(r("MWRepliedMessage.react"),{isSecureMessage:i,mediaRenderQpl:T,message:l,outgoing:n}),t[13]=i,t[14]=f,t[15]=T,t[16]=l,t[17]=n,t[18]=F):F=t[18];var O;t[19]!==A||t[20]!==F?(O=c.jsx(r("CometErrorBoundary.react"),{fallback:A,children:F}),t[19]=A,t[20]=F,t[21]=O):O=t[21];var B;t[22]!==w||t[23]!==O||t[24]!==P||t[25]!==N||t[26]!==M?(B=c.jsx(r("MWXMessageBubbleRow.react"),{addOnEnd:P,addOnStart:N,align:M,opaque:!0,xstyle:w,children:O}),t[22]=w,t[23]=O,t[24]=P,t[25]=N,t[26]=M,t[27]=B):B=t[27];var W;return t[28]!==D||t[29]!==B?(W=c.jsx("div",{ref:D,children:B}),t[28]=D,t[29]=B,t[30]=W):W=t[30],W}l.default=p}),98);
__d("MWBlockingProtectionLogging",["I64","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function u(t){var n=o("react-compiler-runtime").c(2),r;return n[0]!==t?(r=function(){s.onReady(function(n){return n.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(e||(e=o("I64"))).to_string(t.threadKey)}})})},n[0]=t,n[1]=r):r=n[1],r}l.useLogTapToReviewAction=u}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=m||(m=o("react")),_=m,f=_.useEffect,g=_.useMemo,h=9;function y(e){var t=o("react-compiler-runtime").c(6),n=(u||(u=r("useReStore")))(),a,l;t[0]!==n||t[1]!==e?(a=function(){return e==null?o("ReQL").empty():o("ReQL").fromTableAscending(n.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(e)},l=[n,e],t[0]=n,t[1]=e,t[2]=a,t[3]=l):(a=t[2],l=t[3]);var s=o("ReQLSuspense").useArray(a,l,i.id+":47"),c;if(t[4]!==s){c=new Map;for(var m of s){var p=m==null?void 0:m.profileName;p!=null&&c.set((d||(d=o("I64"))).to_string(m.ownerId),p)}t[4]=s,t[5]=c}else c=t[5];var _=c;return _}function C(e){var t=o("react-compiler-runtime").c(6),n=e.messageId,r=e.reactions,a=e.threadKey,i=o("MWLSThread").useThread(a,b),l=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a),s;return t[0]!==l||t[1]!==n||t[2]!==i||t[3]!==r||t[4]!==a?(s=l?p.jsx(E,{messageId:n,parentThreadKey:i,reactions:r,threadKey:a}):p.jsx(v,{messageId:n,parentThreadKey:i,reactions:r,threadKey:a}),t[0]=l,t[1]=n,t[2]=i,t[3]=r,t[4]=a,t[5]=s):s=t[5],s}function b(e){return e.parentThreadKey}function v(t){var a=o("react-compiler-runtime").c(21),l=t.messageId,m=t.parentThreadKey,_=t.reactions,g=t.threadKey,C=(u||(u=r("useReStore")))(),b;a[0]!==C.tables.contacts||a[1]!==C.tables.reactions||a[2]!==l||a[3]!==g?(b=function(){return o("ReQL").leftJoin(o("ReQL").fromTableAscending(C.tables.reactions).getKeyRange(g,l),o("ReQL").fromTableAscending(C.tables.contacts))},a[0]=C.tables.contacts,a[1]=C.tables.reactions,a[2]=l,a[3]=g,a[4]=b):b=a[4];var v;a[5]!==C||a[6]!==l||a[7]!==g?(v=[C,g,l],a[5]=C,a[6]=l,a[7]=g,a[8]=v):v=a[8];var E=o("ReQLSuspense").useArray(b,v,i.id+":108"),k=y(m),I,T;a[9]!==C||a[10]!==E?(I=function(){r("promiseDone")(C.runInTransaction(function(t){return(e||(e=n("Promise"))).all(E.map(function(a){var i=a[1];return i!=null?r("LSVerifyContactRowExistsStoredProcedure")(r("LSFactory")(t),{authorityLevel:(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:c.ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:c.ofNumber(r("LSContactIdType").FBID),contactType:c.ofNumber(r("LSContactType").USER),contactViewerRelationship:c.ofNumber(r("LSContactViewerRelationship").UNKNOWN),gender:c.ofNumber(r("LSContactGender").UNKNOWN),id:i.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:c.ofNumber(r("LSContactWorkForeignEntityType").UNKNOWN)}):(e||(e=n("Promise"))).resolve()}))},"readwrite",void 0,void 0,i.id+":124"))},T=[C,E],a[9]=C,a[10]=E,a[11]=I,a[12]=T):(I=a[11],T=a[12]),f(I,T);var D;if(a[13]!==k||a[14]!==_||a[15]!==E){var x=new Map(E.map(L)),$=_.map(function(e){var t=(d||(d=o("I64"))).to_string(e.actorId);if(k.has(t))return k.get(t);var n=x.get(t);return n==null?"":n}).filter(R),P=$.length;if(D=$.slice(0,h),P>h){var N=P-h;D.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(N),s._param("count",String(N))]))}a[13]=k,a[14]=_,a[15]=E,a[16]=D}else D=a[16];var M=D,w;a[17]!==M?(w=M.map(S),a[17]=M,a[18]=w):w=a[18];var A=w,F;return a[19]!==A?(F=p.jsx(o("react-strict-dom").html.div,{children:A}),a[19]=A,a[20]=F):F=a[20],F}function S(e,t){return p.jsx(o("react-strict-dom").html.div,{children:e},String(t))}S.displayName=S.name+" [from "+i.id+"]";function R(e){return e!==""}function L(e){var t=e[1];return t==null&&r("FBLogger")("messenger_web").debug("missing contact for reaction tooltip"),[(d||(d=o("I64"))).to_string(e[0].actorId),t!=null?t.name:s._(/*BTDS*/"Facebook user")]}function E(e){var t,n,a=e.messageId,l=e.parentThreadKey,c=e.reactions,m=e.threadKey,_=(u||(u=r("useReStore")))();f(function(){r("promiseDone")(_.runInTransaction(function(e){return r("LSClearReactionsV2DetailsAndRangeStoredProcedure")(r("LSFactory")(e))},"readwrite",void 0,void 0,i.id+":226")),r("promiseDone")(_.runInTransaction(function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:a,threadId:m})},"readwrite",void 0,void 0,i.id+":231"))},[_,m,a]);var g=y(l),C=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(_.tables.reactions_v2_details).getKeyRange(m,a).map(function(e){var t;return(t=g.get((d||(d=o("I64"))).to_string(e.reactorId)))!=null?t:e.fullName})},[_,g,m,a],i.id+":242"),b=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(_.tables.reactions_v2).getKeyRange(m,a)},[_,m,a],i.id+":255"),v=b?b.map(function(e){return e.viewerIsReactor}):[],S=v.length>0?v.reduce(function(e,t){return e||t}):!1,R=o("MWPActor.react").useActor(),L=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(_.tables.contacts).getKeyRange(R)},[_,R],i.id+":274"),E=b?b.map(function(e){return(d||(d=o("I64"))).to_int32(e.count)}).filter(function(e){return e>0}):[],k=(t=(L==null?void 0:L.id)!=null?g.get((d||(d=o("I64"))).to_string(L.id)):null)!=null?t:L==null?void 0:L.name;JSON.stringify(E)===JSON.stringify([1])&&S&&k!=null&&C.length===0?C.push(k):S&&C[0]!=null&&L&&k!=null&&((n=C[0])==null?void 0:n.toString())!==k&&C.unshift(k);var I=s._(/*BTDS*/"Loading..."),T=C.slice(0,h);if(C.length>h){var D=C.length-h;T.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(D),s._param("count",String(r("intlSummarizeNumber")(D)))]).toString())}var x=T.length===0?I:T.map(function(e,t){return p.jsx(o("react-strict-dom").html.div,{children:e},String(t))});return p.jsx(o("react-strict-dom").html.div,{children:x})}E.displayName=E.name+" [from "+i.id+"]",l.default=C}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIsReactionDialogEnabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginInlineEnd:"xjn30re",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingInlineEnd:"x1ccui7m",paddingBottom:"x1j85h84",paddingInlineStart:"x18pi947",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(28),a=t.count,i=t.countXstyle,l=t.disableReactionDialog,u=t.emojis,c=t.message,p=t.reactions,h=t.reactionsV2,y=t.renderEmojis,C=t.threadKey,b=t.xstyle,v=l===void 0?!1:l,S=c.messageId,R;n[0]!==h?(R=h!=null?h.map(f).reduce(_,0):0,n[0]=h,n[1]=R):R=n[1];var L=R,E=r("useIsReactionDialogEnabled")(C)&&!v,k=L>1?L:a,I=k>1,T;if(n[2]!==u||n[3]!==E||n[4]!==y||n[5]!==I){var D;n[7]!==u.length||n[8]!==E||n[9]!==y||n[10]!==I?(D=function(n,a){var t=I||a!==u.length-1,i=o("MWChatReactionsUtils").isHeart(n[0]);return d.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(m.emoji,E?m.emojiWithCursor:!1,t?m.emojiMargin:!1),{key:String(a)}),d.jsx("div",babelHelpers.extends({},e.props(i?m.scaleHeartEmoji:!1),{children:y?y(n,16,"messenger_reaction_emoji_"+n[0]):d.jsx(r("MWChatReactionEmoji"),{emoji:n,size:16,testid:void 0})})))},n[7]=u.length,n[8]=E,n[9]=y,n[10]=I,n[11]=D):D=n[11],T=u.map(D),n[2]=u,n[3]=E,n[4]=y,n[5]=I,n[6]=T}else T=n[6];var x=T,$;n[12]!==b?($=(e||(e=r("stylex"))).props(m.emojiRow,b),n[12]=b,n[13]=$):$=n[13];var P;n[14]!==i||n[15]!==k||n[16]!==I?(P=I?d.jsx(g,{countXstyle:i,reactionCount:k}):null,n[14]=i,n[15]=k,n[16]=I,n[17]=P):P=n[17];var N;n[18]!==x||n[19]!==$||n[20]!==P?(N=d.jsxs("div",babelHelpers.extends({},$,{role:"none",children:[x,P]})),n[18]=x,n[19]=$,n[20]=P,n[21]=N):N=n[21];var M=N,w;return n[22]!==E||n[23]!==S||n[24]!==p||n[25]!==M||n[26]!==C?(w=E?d.jsx(r("MWXTooltip.react"),{align:"middle",label:s._(/*BTDS*/"Reactions"),position:"above",tooltip:d.jsx(r("MWV2ChatReactionsTooltip.react"),{messageId:S,reactions:p,threadKey:C}),children:M}):M,n[22]=E,n[23]=S,n[24]=p,n[25]=M,n[26]=C,n[27]=w):w=n[27],w}function _(e,t){return e+t}function f(e){return(u||(u=o("I64"))).to_int32(e.count)}function g(t){var n=o("react-compiler-runtime").c(10),a=t.countXstyle,i=t.reactionCount,l;n[0]!==i?(l=r("intlSummarizeNumber")(i),n[0]=i,n[1]=l):l=n[1];var s=l,u=s.length,c;n[2]!==a?(c=(e||(e=r("stylex")))(m.emojiNum,a),n[2]=a,n[3]=c):c=n[3];var p=u*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER,_;n[4]!==p?(_={width:p},n[4]=p,n[5]=_):_=n[5];var f;return n[6]!==s||n[7]!==c||n[8]!==_?(f=d.jsx("div",{className:c,role:"none",style:_,children:s}),n[6]=s,n[7]=c,n[8]=_,n[9]=f):f=n[9],f}l.default=p}),226);
__d("MWUnsupportedXMA.react",["fbt","MWV2TombstonedMessage.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect,d={extraPaddingBottom:{paddingTop:"x1iorvi4",$$css:!0},extraPaddingTop:{paddingTop:"x1iorvi4",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(9),n=e.mediaRenderQpl,a=e.nextMessage,i=e.prevMessage,l,m;t[0]!==n?(l=function(){n==null||n.endSuccessAfterDelay()},m=[n],t[0]=n,t[1]=l,t[2]=m):(l=t[1],m=t[2]),c(l,m);var p=i&&d.extraPaddingTop,_=a&&d.extraPaddingBottom,f;t[3]!==p||t[4]!==_?(f=[p,_],t[3]=p,t[4]=_,t[5]=f):f=t[5];var g;t[6]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:!1,children:s._(/*BTDS*/"You received a message that can't be shown on web. Use the Messenger mobile app to see it.")}),t[6]=g):g=t[6];var h;return t[7]!==f?(h=u.jsx(o("react-strict-dom").html.div,{style:f,children:g}),t[7]=f,t[8]=h):h=t[8],h}l.default=m}),226);
__d("MWXMAV2AttachmentHscrollLayout.react",["FDSHScroll.react","MWXColumn.react","MWXColumnItem.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={card:{display:"x3nfvp2",height:"x5yr21d",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},centerElement:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",$$css:!0},firstElement:{borderEndEndRadius:"x1wcsgtt",borderStartEndRadius:"x1t39747",$$css:!0},lastElement:{borderEndStartRadius:"x1pczhz8",borderStartStartRadius:"xjwep3j",$$css:!0},maxHeight:{maxHeight:"xuyqlj2",$$css:!0},scrollContainer:{paddingBottom:"x18d9i69",paddingTop:"xexx8yu",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(25),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.disableMaxHeight,d=e.flattenTop,m=e.outgoing,p=l===void 0?!1:l,_,f,g,h,y,C,b;if(t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==p||t[4]!==d||t[5]!==m){var v=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:m?"right":"left",connectBottom:a,connectTop:i,flatten:d?"top":"none"}),S=n.length;t[13]===Symbol.for("react.memo_cache_sentinel")?(b={className:"xic84rp x64bnmy xh8yej3 x1s3gxii x19a7vgm"},t[13]=b):b=t[13],_=o("FDSHScroll.react").Container,t[14]===Symbol.for("react.memo_cache_sentinel")?(f={minWidth:180,type:"responsive"},t[14]=f):f=t[14],g=c.scrollContainer,h=4,y=!0,C=n.map(function(e,t){var n=S===1,a=!n&&t===0,i=!n&&t===S-1,l=!n&&!a&&!i;return u.jsx(o("FDSHScroll.react").Child,{expanding:!0,type:"custom",children:u.jsx(r("MWXColumn.react"),{expanding:!0,verticalAlign:"top",xstyle:!p&&c.maxHeight,children:u.jsx(r("MWXColumnItem.react"),{expanding:!0,children:u.createElement("div",babelHelpers.extends({},(s||(s=r("stylex"))).props(c.card,v,a&&c.firstElement,l&&c.centerElement,i&&c.lastElement),{key:t}),e)})})},t)}),t[0]=n,t[1]=a,t[2]=i,t[3]=p,t[4]=d,t[5]=m,t[6]=_,t[7]=f,t[8]=g,t[9]=h,t[10]=y,t[11]=C,t[12]=b}else _=t[6],f=t[7],g=t[8],h=t[9],y=t[10],C=t[11],b=t[12];var R;t[15]!==_||t[16]!==f||t[17]!==g||t[18]!==h||t[19]!==y||t[20]!==C?(R=u.jsx(_,{cardWidth:f,containerXStyle:g,gap:h,reduceArrowSize:y,children:C}),t[15]=_,t[16]=f,t[17]=g,t[18]=h,t[19]=y,t[20]=C,t[21]=R):R=t[21];var L;return t[22]!==b||t[23]!==R?(L=u.jsx("div",babelHelpers.extends({},b,{children:R})),t[22]=b,t[23]=R,t[24]=L):L=t[24],L}l.default=d}),98);
__d("MWXMAV2AttachmentSingleLayout.react",["MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={root:{display:"x3nfvp2",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(8),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,d=e.outgoing,m;if(t[0]!==a||t[1]!==i||t[2]!==l||t[3]!==d){var p=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:d?"right":"left",connectBottom:a,connectTop:i,flatten:l?"top":"none"});m=(s||(s=r("stylex"))).props(c.root,p),t[0]=a,t[1]=i,t[2]=l,t[3]=d,t[4]=m}else m=t[4];var _;return t[5]!==n||t[6]!==m?(_=u.jsx("div",babelHelpers.extends({},m,{children:n})),t[5]=n,t[6]=m,t[7]=_):_=t[7],_}l.default=d}),98);
__d("MWXMAV2AttachmentVstackLayout.react",["MSGDataclassTypes.flow","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMessageBubbleCornerStyles.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=r("react")),c={headerIcon:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"x1kpxq89",width:"xsmyaan",$$css:!0},root:{backgroundColor:"x1xr0vuk",display:"x78zum5",flexDirection:"xdt5ytf",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xeq5yr9",$$css:!0}};function d(e){var t,n=o("react-compiler-runtime").c(15),a=e.layoutHeader,i=a==null?void 0:a.title;if(i==null)return null;var l=a==null?void 0:a.alignment,s=a==null?void 0:a.subtitle,d=a==null||(t=a.attribution_icon)==null?void 0:t.url,m=l===o("MSGDataclassTypes.flow").XmsgXmaVStackLayoutHeaderAlignmentType.Center?"center":"start",p;n[0]!==i?(p=u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXRow.react"),{paddingTop:12,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",type:"headlineEmphasized3",children:i})})})}),n[0]=i,n[1]=p):p=n[1];var _;n[2]!==d?(_=d!=null&&u.jsx(r("MWXImage.react"),{src:d,xstyle:c.headerIcon}),n[2]=d,n[3]=_):_=n[3];var f;n[4]!==_?(f=u.jsx(r("MWXRowItem.react"),{children:_}),n[4]=_,n[5]=f):f=n[5];var g;n[6]!==s?(g=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:s})}),n[6]=s,n[7]=g):g=n[7];var h;n[8]!==f||n[9]!==g?(h=u.jsx(r("MWXColumnItem.react"),{children:u.jsxs(r("MWXRow.react"),{align:"start",paddingTop:0,spacing:4,verticalAlign:"center",children:[f,g]})}),n[8]=f,n[9]=g,n[10]=h):h=n[10];var y;return n[11]!==m||n[12]!==p||n[13]!==h?(y=u.jsxs(r("MWXColumn.react"),{align:m,paddingHorizontal:8,paddingVertical:8,spacing:8,children:[p,h]}),n[11]=m,n[12]=p,n[13]=h,n[14]=y):y=n[14],y}function m(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,m=e.layoutExtension,p=e.outgoing,_;if(t[0]!==a||t[1]!==i||t[2]!==l||t[3]!==p){var f=o("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:p?"right":"left",connectBottom:a,connectTop:i,flatten:l?"top":"none"});_=(s||(s=r("stylex"))).props(c.root,f),t[0]=a,t[1]=i,t[2]=l,t[3]=p,t[4]=_}else _=t[4];var g=m==null?void 0:m.header,h;t[5]!==g?(h=u.jsx(d,{layoutHeader:g}),t[5]=g,t[6]=h):h=t[6];var y;return t[7]!==n||t[8]!==_||t[9]!==h?(y=u.jsx("div",{children:u.jsxs("div",babelHelpers.extends({},_,{children:[h,n]}))}),t[7]=n,t[8]=_,t[9]=h,t[10]=y):y=t[10],y}l.default=m}),98);
__d("MWXMAV2AttachmentLayoutWrapper.react",["FBLogger","MSGDataclassTypes.flow","MWXMAV2AttachmentHscrollLayout.react","MWXMAV2AttachmentSingleLayout.react","MWXMAV2AttachmentVstackLayout.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect;function d(e){var t=o("react-compiler-runtime").c(23),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.disableMaxHeightForHscrollLayout,s=e.flattenTop,d=e.layoutExtension,m=e.layoutType,p=e.mediaRenderQpl,_=e.outgoing,f,g;switch(t[0]!==p?(f=function(){p==null||p.addPoint("render-xma-v2-layout")},g=[p],t[0]=p,t[1]=f,t[2]=g):(f=t[1],g=t[2]),c(f,g),m){case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Single:{var h;return t[3]!==n[0]||t[4]!==a||t[5]!==i||t[6]!==s||t[7]!==_?(h=u.jsx(r("MWXMAV2AttachmentSingleLayout.react"),{connectBottom:a,connectTop:i,flattenTop:s,outgoing:_,children:n[0]}),t[3]=n[0],t[4]=a,t[5]=i,t[6]=s,t[7]=_,t[8]=h):h=t[8],h}case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Hscroll:{var y;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==s||t[14]!==_?(y=u.jsx(r("MWXMAV2AttachmentHscrollLayout.react"),{connectBottom:a,connectTop:i,disableMaxHeight:l,flattenTop:s,outgoing:_,children:n}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=s,t[14]=_,t[15]=y):y=t[15],y}case o("MSGDataclassTypes.flow").XmsgXmaLayoutType.Vstack:{var C;return t[16]!==n||t[17]!==a||t[18]!==i||t[19]!==s||t[20]!==d||t[21]!==_?(C=u.jsx(r("MWXMAV2AttachmentVstackLayout.react"),{connectBottom:a,connectTop:i,flattenTop:s,layoutExtension:d,outgoing:_,children:n}),t[16]=n,t[17]=a,t[18]=i,t[19]=s,t[20]=d,t[21]=_,t[22]=C):C=t[22],C}default:throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 layout type %s",o("MSGDataclassTypes.flow").XmsgXmaLayoutType.getName(m))}}l.default=d}),98);
__d("MAWXMAV2GatedTemplateError",[],(function(t,n,r,o,a,i){"use strict";var e=(function(e){function t(t){var n;return n=e.call(this,t)||this,n.name="MAWXMAV2GatedTemplateError",n.message=t,n}return babelHelpers.inheritsLoose(t,e),t})(babelHelpers.wrapNativeSuper(Error));i.MAWXMAV2GatedTemplateError=e}),66);
__d("MWXMAV2AiSparkTemplate.react",["fbt","BaseProfilePhoto.react","I64","MWPActor.react","MWPContactContext.react","MWXImage.react","MWXText.react","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useEffect;function p(t){var n=o("react-compiler-runtime").c(56),a=t.mediaRenderQpl,l=t.outgoing,c=t.template,p=l===void 0?!1:l,f,g;n[0]!==a?(f=function(){a==null||a.addPoint("render-ai-spark-template")},g=[a],n[0]=a,n[1]=f,n[2]=g):(f=n[1],g=n[2]),m(f,g);var h=c.title,y=c.subtitle,C=c.main_content,b=c.footer,v=c.is_generated_by_ai,S=c.recipient_user_id,R=o("MWPActor.react").useActor(),L=o("MWPContactContext.react").useMWPContactStableContext(),E=L.contact,k=(e||(e=r("useReStore")))(),I;n[3]!==p||n[4]!==S||n[5]!==R?(I=p||(u||(u=o("I64"))).to_string(R)===S,n[3]=p,n[4]=S,n[5]=R,n[6]=I):I=n[6];var T=I,D,x;n[7]!==k||n[8]!==S||n[9]!==T?(D=function(){return T&&S!=null?o("ReQL").fromTableAscending(k.tables.contacts).getKeyRange((u||(u=o("I64"))).of_string(S)):o("ReQL").empty()},x=[k,S,T],n[7]=k,n[8]=S,n[9]=T,n[10]=D,n[11]=x):(D=n[10],x=n[11]);var $=o("ReQLSuspense").useFirst(D,x,i.id+":134"),P;n[12]!==$||n[13]!==T?(P=T&&$!=null?r("getLSMediaContactProfilePictureUrl")($):"",n[12]=$,n[13]=T,n[14]=P):P=n[14];var N=P,M;n[15]!==E?(M=E!=null?r("getLSMediaContactProfilePictureUrl")(E):"",n[15]=E,n[16]=M):M=n[16];var w=M,A,F;n[17]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x1xr0vuk x78zum5 xdt5ytf"},A={className:"x1c3p0ji x78zum5 xdt5ytf x1y1aw1k xwib8y2 x1g0dm76 xpdmqnj x3pnbk8"},n[17]=A,n[18]=F):(A=n[17],F=n[18]);var O;n[19]!==v?(O=v&&d.jsxs("div",{className:"x6s0dn4 xfex06f x78zum5",children:[d.jsx(r("MWXImage.react"),{alt:s._(/*BTDS*/"Meta AI"),height:32,objectFit:"contain",src:"/images/web_messenger/gen-ai-ring-2_36-4x.png",width:32}),d.jsx(r("MWXText.react"),{color:"white",isSemanticHeading:!1,type:"body3",children:d.jsx("strong",{children:s._(/*BTDS*/"Meta AI")})})]}),n[19]=v,n[20]=O):O=n[20];var B,W,q;n[21]===Symbol.for("react.memo_cache_sentinel")?(B={className:"x6s0dn4 x78zum5 xl56j7k xexx8yu x18d9i69 x1n2onr6"},W={className:"x78zum5 x1n2onr6"},q={className:"x1qhmfi1 x1ln79ka x16mcqjb x198bso0 x1ixznfr x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xmn4e3e x1if355w x2x41l1 xct1zlm xwzfr38 xl1xv1r x1dmp6jm x1vjfegm"},n[21]=B,n[22]=W,n[23]=q):(B=n[21],W=n[22],q=n[23]);var U;n[24]!==N?(U=N!==""&&d.jsx(r("BaseProfilePhoto.react"),{imageUri:N,shape:"circle",size:80}),n[24]=N,n[25]=U):U=n[25];var V;n[26]!==U?(V=d.jsx("div",babelHelpers.extends({},q,{children:U})),n[26]=U,n[27]=V):V=n[27];var H;n[28]===Symbol.for("react.memo_cache_sentinel")?(H={className:"x1qhmfi1 x1ln79ka x16mcqjb x198bso0 x1ixznfr x1c9tyrk xeusxvb x1pahc9y x1ertn4p x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu xmn4e3e x1if355w x2x41l1 xct1zlm xwzfr38 xl1xv1r x1dmp6jm x1o1p3th x1ja2u2z"},n[28]=H):H=n[28];var G;n[29]!==w?(G=w!==""&&d.jsx(r("BaseProfilePhoto.react"),{imageUri:w,shape:"circle",size:80}),n[29]=w,n[30]=G):G=n[30];var z;n[31]!==G?(z=d.jsx("div",babelHelpers.extends({},H,{children:G})),n[31]=G,n[32]=z):z=n[32];var j;n[33]!==V||n[34]!==z?(j=d.jsx("div",babelHelpers.extends({},B,{children:d.jsxs("div",babelHelpers.extends({},W,{children:[V,z]}))})),n[33]=V,n[34]=z,n[35]=j):j=n[35];var K;n[36]!==O||n[37]!==j?(K=d.jsxs("div",babelHelpers.extends({},A,{children:[O,j]})),n[36]=O,n[37]=j,n[38]=K):K=n[38];var Q;n[39]===Symbol.for("react.memo_cache_sentinel")?(Q={className:"x78zum5 xdt5ytf xz9dl7a xsag5q8 x1g0dm76 xpdmqnj xp1r0qw"},n[39]=Q):Q=n[39];var X;n[40]!==h?(X=h!=null&&h!==""&&d.jsx("div",{className:"x1yc453h",children:d.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body2",children:d.jsx("strong",{children:h})})}),n[40]=h,n[41]=X):X=n[41];var Y;n[42]!==y?(Y=y!=null&&y!==""&&d.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!1,type:"body3",children:d.jsx("strong",{children:y})}),n[42]=y,n[43]=Y):Y=n[43];var J;n[44]!==C?(J=C!=null&&C.length>0&&d.jsx("div",{className:"x78zum5 xdt5ytf xp1r0qw",children:C.map(_)}),n[44]=C,n[45]=J):J=n[45];var Z;n[46]!==b?(Z=b!=null&&b!==""&&d.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!1,type:"body3",children:b}),n[46]=b,n[47]=Z):Z=n[47];var ee;n[48]!==X||n[49]!==Y||n[50]!==J||n[51]!==Z?(ee=d.jsxs("div",babelHelpers.extends({},Q,{children:[X,Y,J,Z]})),n[48]=X,n[49]=Y,n[50]=J,n[51]=Z,n[52]=ee):ee=n[52];var te;return n[53]!==K||n[54]!==ee?(te=d.jsxs("div",babelHelpers.extends({},F,{children:[K,ee]})),n[53]=K,n[54]=ee,n[55]=te):te=n[55],te}function _(e,t){return d.jsx("div",{className:"x6s0dn4 xfex06f x78zum5",children:d.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:e})},t)}_.displayName=_.name+" [from "+i.id+"]",l.default=p}),226);
__d("MWXMAV2AttachmentBloksTemplate.react",["CometPlaceholder.react","MWLSPostbackCtaHandler","MWLSThreadDisplayContext","MWPThreadCapabilitiesContext","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay","useCurrentDisplayMode","useJSON"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useMemo,d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MSGWebBloksEntryPoint.react").__setRef("MWXMAV2AttachmentBloksTemplate.react"));function m(e){var t=o("react-compiler-runtime").c(17),n=e.mediaRenderQpl,a=e.template,l=r("useJSON")(a.payload),s=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=s==="ChatTab",m=r("useCurrentDisplayMode")(),p=o("MWLSPostbackCtaHandler").usePostbackCtaHandler(),_=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),f=_.hasLSThreadBitOffset,g;t[0]!==n?(g=function(){n==null||n.addPoint("render-xma-v2-bloks-template"),n==null||n.endSuccessAfterDelay()},t[0]=n,t[1]=g):g=t[1];var h;t[2]!==f||t[3]!==p?(h=function(t,n,r,o,a){var e=f(283);e&&p(o,r)},t[2]=f,t[3]=p,t[4]=h):h=t[4];var y;t[5]!==g||t[6]!==h?(y={"bk.action.msg.wbloks.qpl.EndSuccess":g,"bk.action.xs.SendTextMessageCTA":h},t[5]=g,t[6]=h,t[7]=y):y=t[7];var C=y,b;t[8]!==c?(b={0:{className:"x5yr21d xn9wirt"},2:{className:"x5yr21d xn9wirt x16em4ew"},1:{className:"x5yr21d xn9wirt x1e4dklr"},3:{className:"x5yr21d xn9wirt x1e4dklr"}}[!c<<1|!!c<<0],t[8]=c,t[9]=b):b=t[9];var v;t[10]!==C||t[11]!==l||t[12]!==m?(v=u.jsx(d,{actionOverrides:C,payload:l,theme:m}),t[10]=C,t[11]=l,t[12]=m,t[13]=v):v=t[13];var S;return t[14]!==b||t[15]!==v?(S=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:i.id,children:u.jsx("div",babelHelpers.extends({},b,{children:v}))}),t[14]=b,t[15]=v,t[16]=S):S=t[16],S}l.default=m}),98);
__d("getXmaOpenNativeCtaHandler",["isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.action_url;return t==null||r("isStringNullOrWhitespaceOnly")(t)?null:{ctaActionType:"link",link:t}}l.getXmaOpenNativeCtaHandler=e}),98);
__d("getXmaWebUrlCtaHandler",["isStringNullOrWhitespaceOnly"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e.action_url;return t==null||r("isStringNullOrWhitespaceOnly")(t)?null:{ctaActionType:"link",link:t}}l.getXmaWebUrlCtaHandler=e}),98);
__d("useGetCtaAction.react",["MSGDataclassTypes.flow","getXmaOpenNativeCtaHandler","getXmaWebUrlCtaHandler","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=e==null?void 0:e.cta_type;if(e==null||n==null)return null;switch(n){case o("MSGDataclassTypes.flow").XmsgctaType.XmaWebUrl:{var r;return t[0]!==e?(r=o("getXmaWebUrlCtaHandler").getXmaWebUrlCtaHandler(e),t[0]=e,t[1]=r):r=t[1],r}case o("MSGDataclassTypes.flow").XmsgctaType.XmaOpenNative:{var a;return t[2]!==e?(a=o("getXmaOpenNativeCtaHandler").getXmaOpenNativeCtaHandler(e),t[2]=e,t[3]=a):a=t[3],a}default:{var i;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i={ctaActionType:"unsupported"},t[4]=i):i=t[4],i}}}l.useGetCtaAction=e}),98);
__d("MWXMAV2PressableWrapper.react",["fbt","MWLSThreadDisplayContext","MWXPressable.react","react","react-compiler-runtime","useGetCtaAction.react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react")),c={pressable:{height:"x5yr21d",width:"xh8yej3",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.cta,i=e.handleXmaClickLogging,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab",d=o("useGetCtaAction.react").useGetCtaAction(a);if(d==null||d.ctaActionType==="unsupported")return n;var m;t[0]!==d.ctaActionType||t[1]!==d.link||t[2]!==l?(m=d.ctaActionType==="link"?{target:l?"_self":"_blank",url:d.link}:void 0,t[0]=d.ctaActionType,t[1]=d.link,t[2]=l,t[3]=m):m=t[3];var p=m,_=d.ctaActionType==="function"?d.onPress:void 0,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Go to link"),t[4]=f):f=t[4];var g;t[5]!==i||t[6]!==_?(g=function(){i(),_&&_()},t[5]=i,t[6]=_,t[7]=g):g=t[7];var h;return t[8]!==n||t[9]!==p||t[10]!==g?(h=u.jsx(r("MWXPressable.react"),{"aria-label":f,linkProps:p,onPress:g,overlayDisabled:!0,xstyle:c.pressable,children:n}),t[8]=n,t[9]=p,t[10]=g,t[11]=h):h=t[11],h}l.default=d}),226);
__d("MWXMAV2AttachmentCompactGenericTemplate.react",["FBLogger","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconChevronRight","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react")),u={accessory_container:{alignSelf:"xamitd3",marginInlineStart:"x1diwwjn",$$css:!0},cardWidth:{maxWidth:"xw5ewwj",$$css:!0},cardWidthChatTab:{maxWidth:"x1i5r0r9",$$css:!0},preview_image_style_circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xc9qbxq",marginInlineEnd:"x1xegmmw",objectFit:"xl1xv1r",width:"x14qfxbe",$$css:!0},preview_image_style_square:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xnnlda6",marginInlineEnd:"xbmvrgn",objectFit:"xl1xv1r",width:"x15yg21f",$$css:!0},root:{backgroundColor:"x1xr0vuk",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.preview,a=n==null?void 0:n.image.url;if(n==null||a==null||r("isStringNullOrWhitespaceOnly")(a))return null;switch(n.style){case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Circle:{var i;return t[0]!==a?(i=s.jsx(r("MWXImage.react"),{src:a,xstyle:u.preview_image_style_circle}),t[0]=a,t[1]=i):i=t[1],i}case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplatePreviewStyle.Square:{var l;return t[2]!==a?(l=s.jsx(r("MWXImage.react"),{src:a,xstyle:u.preview_image_style_square}),t[2]=a,t[3]=l):l=t[3],l}}}function d(e){var t=o("react-compiler-runtime").c(2),n=e.accessory;if(n==null)return null;var a=null;switch(n){case o("MSGDataclassTypes.flow").XmsgXmaCompactGenericTemplateAccessoryType.Chevron:a=r("MWXIconChevronRight")}if(a==null)return null;var i;return t[0]!==a?(i=s.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:a,size:16}),t[0]=a,t[1]=i):i=t[1],i}function m(e){var t=o("react-compiler-runtime").c(26),n=e.content,a=e.handleXmaClickLogging,i=e.mediaRenderQpl,l=e.template,m=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),p=m==="ChatTab",_=l.title;if(_==null)throw r("FBLogger")("messenger_web").mustfixThrow("Template title is null for MWXMAV2AttachmentCompactGenericTemplate");i!=null&&(i.addPoint("render-xma-v2-template"),i.endSuccessAfterDelay());var f=l.subtitle,g=l.metadata,h=n.default_cta,y=l.accessory,C=!p&&u.cardWidth,b=p&&u.cardWidthChatTab,v;t[0]!==C||t[1]!==b?(v=[u.root,C,b],t[0]=C,t[1]=b,t[2]=v):v=t[2];var S;t[3]!==l.preview?(S=s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx(c,{preview:l.preview})}),t[3]=l.preview,t[4]=S):S=t[4];var R;t[5]!==_?(R=s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:_})}),t[5]=_,t[6]=R):R=t[6];var L;t[7]!==f?(L=f!=null&&s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:f})}),t[7]=f,t[8]=L):L=t[8];var E;t[9]!==g?(E=g!=null&&s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:g})}),t[9]=g,t[10]=E):E=t[10];var k;t[11]!==R||t[12]!==L||t[13]!==E?(k=s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsxs(r("MWXColumn.react"),{spacing:8,children:[R,L,E]})}),t[11]=R,t[12]=L,t[13]=E,t[14]=k):k=t[14];var I;t[15]!==y?(I=s.jsx(r("MWXRowItem.react"),{xstyle:u.accessory_container,children:s.jsx(d,{accessory:y})}),t[15]=y,t[16]=I):I=t[16];var T;t[17]!==v||t[18]!==S||t[19]!==k||t[20]!==I?(T=s.jsxs(r("MWXRow.react"),{paddingHorizontal:12,paddingVertical:12,spacing:0,verticalAlign:"center",xstyle:v,children:[S,k,I]}),t[17]=v,t[18]=S,t[19]=k,t[20]=I,t[21]=T):T=t[21];var D;return t[22]!==h||t[23]!==a||t[24]!==T?(D=s.jsx(r("MWXMAV2PressableWrapper.react"),{cta:h,handleXmaClickLogging:a,children:T}),t[22]=h,t[23]=a,t[24]=T,t[25]=D):D=t[25],D}l.default=m}),98);
__d("MWXIconAppInstagramReels",["MWXSvgIcon","SVGIcon","cr:22181","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22181")),r("gkx")("23219"));l.default=e}),98);
__d("MWXMAV2AttachmentStandardGenericTemplate.react",["fbt","ix","CometPageVerificationIcon.react","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXIconAppInstagramReels","MWXIconStrict.react","MWXImage.react","MWXMAV2PressableWrapper.react","MWXRow.react","MWXRowItem.react","MWXText.react","isStringNullOrWhitespaceOnly","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=d||(d=o("react")),p=e||(e=r("react")),_=m.useMemo,f=m.useState,g=240,h=195,y=350,C=180,b=150,v=250,S=1,R={cardOverlayWidth:{width:"xg7gh6y",$$css:!0},cardOverlayWidthChatTab:{width:"xrostsh",$$css:!0},cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},header_image_style_circle:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xxk0z11",objectFit:"xl1xv1r",width:"xvy4d1p",$$css:!0},rootOverlay:{aspectRatio:"x15jox0q",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},L={image:{objectFit:"xl1xv1r",$$css:!0},imageContainer:{display:"x78zum5",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"xh8yej3",$$css:!0},imageMaxHeight:{maxHeight:"x1csiy34",$$css:!0},imageMaxHeightChatTab:{maxHeight:"xl8z2ie",$$css:!0},threeImages:{aspectRatio:"x1plog1",width:"xfhlp2a",$$css:!0},twoImages:{aspectRatio:"x1plog1",width:"x3hqpx7",$$css:!0}},E=function(t,n){return t?n?b:C:n?h:g};function k(e){var t=o("react-compiler-runtime").c(10),n=e.isChatTab,a=e.isOverlayOrVideo,i=e.media,l=e.mediaRenderQpl,s=e.mediaUrl,u=e.renderedMediaCount,c;t[0]!==s?(c=new Image,c.src=s,t[0]=s,t[1]=c):c=t[1];var d=c.complete,m=f(!d),_=m[0],g=m[1],h=E(n,a),C=n?v:y,b=u===1?i.width==null||i.height==null?1:i.width/i.height:S,R=h/u/b,k=R>C||a?C:R,I=_?k:"100%",T,D;t[2]!==l?(T=function(){return l==null?void 0:l.endFailAfterDelay("load-image-error")},D=function(){g(!1),l==null||l.endSuccessAfterDelay()},t[2]=l,t[3]=T,t[4]=D):(T=t[3],D=t[4]);var x;return t[5]!==s||t[6]!==I||t[7]!==T||t[8]!==D?(x=p.jsx(r("MWXImage.react"),{height:I,onError:T,onLoad:D,src:s,width:"100%",xstyle:L.image}),t[5]=s,t[6]=I,t[7]=T,t[8]=D,t[9]=x):x=t[9],x}function I(e){var t=o("react-compiler-runtime").c(16),n=e.isChatTab,a=e.isOverlayOrVideo,i=e.mediaRenderQpl,l=e.medias,u=e.totalMediaCount,d=l.length,m=u-3,_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x1ned7t2 x78zum5 x1q0g3np x5yr21d xh8yej3"},t[0]=_):_=t[0];var f;if(t[1]!==m||t[2]!==n||t[3]!==a||t[4]!==i||t[5]!==l||t[6]!==d){var g;t[8]!==m||t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==d?(g=function(t,o){var e=t.url;return e==null?null:p.createElement("div",babelHelpers.extends({},(c||(c=r("stylex"))).props([L.imageContainer,!a&&(n?L.imageMaxHeightChatTab:L.imageMaxHeight),d===2&&L.twoImages,d>2&&L.threeImages]),{key:o}),p.jsx(k,{isChatTab:n,isOverlayOrVideo:a,media:t,mediaRenderQpl:i,mediaUrl:e,renderedMediaCount:d}),o===2&&m>0&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"x1pincqn x5yr21d x10l6tqk x13vifvy xh8yej3"}),p.jsx("div",{className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm",children:p.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized4",children:s._(/*BTDS*/"+{value}",[s._param("value",m)])})})]}))},t[8]=m,t[9]=n,t[10]=a,t[11]=i,t[12]=d,t[13]=g):g=t[13],f=l.filter(T).slice(0,3).map(g),t[1]=m,t[2]=n,t[3]=a,t[4]=i,t[5]=l,t[6]=d,t[7]=f}else f=t[7];var h;return t[14]!==f?(h=p.jsx("div",babelHelpers.extends({},_,{children:f})),t[14]=f,t[15]=h):h=t[15],h}function T(e){return e.url!=null}function D(e){var t,n=o("react-compiler-runtime").c(31),a=e.body,i=e.header,l=e.isChatTab,s=e.isOverlayOrVideo,u=e.mediaRenderQpl,c=e.preview;if((c==null?void 0:c.__typename)==null){var d;return n[0]!==i?(d=p.jsx($,{hasPreview:!1,header:i,titleColor:"primary"}),n[0]=i,n[1]=d):d=n[1],d}var m;n[2]===Symbol.for("react.memo_cache_sentinel")?(m=[],n[2]=m):m=n[2];var _=m,f=null;e:switch(c==null?void 0:c.__typename){case"XMSGXmaStandardGenericMultiMediaPreview":{var g;n[3]!==(c==null?void 0:c.medias)?(g=(c==null?void 0:c.medias)||[],n[3]=c==null?void 0:c.medias,n[4]=g):g=n[4];var h;n[5]!==g?(h=g.map(x).filter(Boolean),n[5]=g,n[6]=h):h=n[6],_=h;break e}case"XMSGXmaStandardGenericVideoPreview":if(f=c==null?void 0:c.decoration_type,(c==null?void 0:c.preview.url)!=null){var y=c==null?void 0:c.preview,C;n[7]!==y?(C=[y],n[7]=y,n[8]=C):C=n[8],_=C}}if(!_||_.length===0){u==null||u.endSuccessAfterDelay();var b;return n[9]!==i?(b=p.jsx($,{hasPreview:!1,header:i,titleColor:"primary"}),n[9]=i,n[10]=b):b=n[10],b}var v=a==null?void 0:a.source_decoration_type,S=a==null?void 0:a.source_text,R;n[11]===Symbol.for("react.memo_cache_sentinel")?(R={className:"x1jfb8zj x5yr21d x1n2onr6"},n[11]=R):R=n[11];var L=(t=c==null?void 0:c.total_media_count)!=null?t:_.length,E;n[12]!==l||n[13]!==s||n[14]!==u||n[15]!==_||n[16]!==L?(E=p.jsx(I,{isChatTab:l,isOverlayOrVideo:s,mediaRenderQpl:u,medias:_,totalMediaCount:L}),n[12]=l,n[13]=s,n[14]=u,n[15]=_,n[16]=L,n[17]=E):E=n[17];var k;n[18]!==i||n[19]!==_?(k=i!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",babelHelpers.extends({},{0:{className:"xnvtxd0 x1jjfqgs x1o0tod x10l6tqk x13vifvy xh8yej3"},1:{className:"x1o0tod x10l6tqk x13vifvy xo90atz x10vz0mv xh8yej3"}}[(_.length>2)<<0])),p.jsx("div",{className:"x1o0tod x10l6tqk x13vifvy xh8yej3",children:p.jsx($,{hasPreview:!0,header:i,titleColor:"white"})})]}),n[18]=i,n[19]=_,n[20]=k):k=n[20];var T;n[21]!==v||n[22]!==S?(T=!r("isStringNullOrWhitespaceOnly")(S)&&S!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x1o0tod x10l6tqk xh8yej3"}),p.jsx("div",{className:"xn0vg7t x1r4y97 x10l6tqk",children:p.jsx(M,{paddingTop:0,placement:"overlay",sourceText:S,subtitleDecorationType:v})})]}),n[21]=v,n[22]=S,n[23]=T):T=n[23];var D;n[24]!==f?(D=f!=null&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"xudvloq x1ey2m1c x1jjfqgs x1o0tod x10l6tqk xh8yej3"}),p.jsx("div",{className:"xn0vg7t x1r4y97 x10l6tqk",children:p.jsx(N,{decorationType:f})})]}),n[24]=f,n[25]=D):D=n[25];var P;return n[26]!==E||n[27]!==k||n[28]!==T||n[29]!==D?(P=p.jsxs("div",babelHelpers.extends({},R,{children:[E,k,T,D]})),n[26]=E,n[27]=k,n[28]=T,n[29]=D,n[30]=P):P=n[30],P}function x(e){return e.url!=null?e:null}function $(e){var t,n=o("react-compiler-runtime").c(13),a=e.hasPreview,i=e.header,l=e.titleColor;if(i==null)return null;var s=i.verified_type===o("MSGDataclassTypes.flow").XmsgXmaVerifiedType.Default,u=(t=i.image)==null?void 0:t.url,c=i.title,d;n[0]===Symbol.for("react.memo_cache_sentinel")?(d={className:"x6s0dn4 xfex06f x78zum5 x1nhvcw1 xz9dl7a xpdmqnj x18d9i69 x1g0dm76"},n[0]=d):d=n[0];var m;n[1]!==u?(m=u!=null&&!r("isStringNullOrWhitespaceOnly")(u)&&p.jsx(r("MWXImage.react"),{src:u,xstyle:R.header_image_style_circle}),n[1]=u,n[2]=m):m=n[2];var _;n[3]!==c||n[4]!==l?(_=!r("isStringNullOrWhitespaceOnly")(c)&&c!=null&&p.jsx(r("MWXText.react"),{color:l,isSemanticHeading:!0,numberOfLines:1,type:"headlineEmphasized4",children:c}),n[3]=c,n[4]=l,n[5]=_):_=n[5];var f;n[6]!==a||n[7]!==s?(f=s&&p.jsx(r("CometPageVerificationIcon.react"),{isInverted:a,size:"small",verificationBadge:"BLUE_VERIFIED"}),n[6]=a,n[7]=s,n[8]=f):f=n[8];var g;return n[9]!==m||n[10]!==_||n[11]!==f?(g=p.jsxs("div",babelHelpers.extends({},d,{children:[m,_,f]})),n[9]=m,n[10]=_,n[11]=f,n[12]=g):g=n[12],g}function P(e){var t=o("react-compiler-runtime").c(17),n=e.body,a=r("isStringNullOrWhitespaceOnly")(n.title),i=r("isStringNullOrWhitespaceOnly")(n.subtitle),l=!a&&!i?8:0,s;if(t[0]!==n.max_title_num_lines||t[1]!==n.title){var u;s=n.title!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!0,numberOfLines:(u=n.max_title_num_lines)!=null?u:3,type:"headlineEmphasized4",children:n.title})}),t[0]=n.max_title_num_lines,t[1]=n.title,t[2]=s}else s=t[2];var c=a?0:8,d;if(t[3]!==n.max_subtitle_num_lines||t[4]!==n.subtitle){var m;d=n.subtitle!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:(m=n.max_subtitle_num_lines)!=null?m:3,type:"body4",children:n.subtitle})}),t[3]=n.max_subtitle_num_lines,t[4]=n.subtitle,t[5]=d}else d=t[5];var _;t[6]!==n.source_decoration_type||t[7]!==n.source_text||t[8]!==l?(_=n.source_text!=null&&p.jsx(r("MWXColumnItem.react"),{children:p.jsx(M,{paddingTop:l,placement:"body",sourceText:n.source_text,subtitleDecorationType:n.source_decoration_type})}),t[6]=n.source_decoration_type,t[7]=n.source_text,t[8]=l,t[9]=_):_=t[9];var f;t[10]!==c||t[11]!==d||t[12]!==_?(f=p.jsxs(r("MWXColumn.react"),{expanding:!0,paddingTop:c,verticalAlign:"bottom",children:[d,_]}),t[10]=c,t[11]=d,t[12]=_,t[13]=f):f=t[13];var g;return t[14]!==s||t[15]!==f?(g=p.jsxs(r("MWXColumn.react"),{expanding:!0,paddingHorizontal:12,paddingVertical:12,children:[s,f]}),t[14]=s,t[15]=f,t[16]=g):g=t[16],g}function N(e){var t=o("react-compiler-runtime").c(5),n=e.decorationType,a=null;e:switch(n){case o("MSGDataclassTypes.flow").XmsgXmaImageDecorationType.ReelsIcon:{var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=p.jsx(r("MWXIconStrict.react"),{color:"disabled",icon:r("MWXIconAppInstagramReels"),size:24}),t[0]=i):i=t[0],a=i;break e}default:}var l;t[1]!==a?(l=a!=null&&p.jsx(r("MWXRowItem.react"),{children:a}),t[1]=a,t[2]=l):l=t[2];var s;return t[3]!==l?(s=p.jsx(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:0,spacing:4,verticalAlign:"center",children:l}),t[3]=l,t[4]=s):s=t[4],s}function M(e){var t=o("react-compiler-runtime").c(13),n=e.paddingTop,a=e.placement,i=e.sourceText,l=e.subtitleDecorationType,s=a==="overlay",c=null;if(l!=null)e:switch(l){case o("MSGDataclassTypes.flow").XmsgXmaSubtitleDecorationType.FacebookIcon:{var d;t[0]!==s?(d=u(s?"845914":"845912"),t[0]=s,t[1]=d):d=t[1];var m=d,_;t[2]!==m?(_=p.jsx(r("MWXImage.react"),{src:m}),t[2]=m,t[3]=_):_=t[3],c=_;break e}default:}var f;t[4]!==c?(f=c!=null&&p.jsx(r("MWXRowItem.react"),{children:c}),t[4]=c,t[5]=f):f=t[5];var g;t[6]!==s||t[7]!==i?(g=!r("isStringNullOrWhitespaceOnly")(i)&&i!=null&&p.jsx(r("MWXRowItem.react"),{children:p.jsx(r("MWXText.react"),{color:s?"white":"secondary",numberOfLines:1,type:"body4",children:i})}),t[6]=s,t[7]=i,t[8]=g):g=t[8];var h;return t[9]!==n||t[10]!==f||t[11]!==g?(h=p.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingTop:n,spacing:4,verticalAlign:"center",children:[f,g]}),t[9]=n,t[10]=f,t[11]=g,t[12]=h):h=t[12],h}function w(e){var t,n=o("react-compiler-runtime").c(24),a=e.defaultCta,i=e.handleXmaClickLogging,l=e.mediaRenderQpl,s=e.template,u=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),c=u==="ChatTab";l!=null&&l.addPoint("render-xma-v2-template");var d=((t=s.config)==null?void 0:t.body_layout_type)===o("MSGDataclassTypes.flow").XmsgXmaStandardGenericBodyLayoutType.Overlay,m=s.body,_=s.header,f=s.preview,g=d||(f==null?void 0:f.__typename)==="XMSGXmaStandardGenericVideoPreview",h=!c&&(g?R.cardOverlayWidth:R.cardWidth),y=c&&(g?R.cardOverlayWidthChatTab:R.cardWidthChatTab),C=g&&R.rootOverlay,b;n[0]!==h||n[1]!==y||n[2]!==C?(b=[R.templateRoot,h,y,C],n[0]=h,n[1]=y,n[2]=C,n[3]=b):b=n[3];var v;n[4]!==m||n[5]!==_||n[6]!==c||n[7]!==d||n[8]!==g||n[9]!==l||n[10]!==f?(v=(_!=null||f!=null)&&p.jsx(r("MWXColumnItem.react"),{expanding:f!=null,children:p.jsx(D,{body:d?m:null,header:_,isChatTab:c,isOverlayOrVideo:g,mediaRenderQpl:l,preview:f})}),n[4]=m,n[5]=_,n[6]=c,n[7]=d,n[8]=g,n[9]=l,n[10]=f,n[11]=v):v=n[11];var S;n[12]!==m||n[13]!==d||n[14]!==f?(S=!d&&m!=null&&p.jsx(r("MWXColumnItem.react"),{expanding:f==null,children:p.jsx(P,{body:m})}),n[12]=m,n[13]=d,n[14]=f,n[15]=S):S=n[15];var L;n[16]!==b||n[17]!==v||n[18]!==S?(L=p.jsxs(r("MWXColumn.react"),{expanding:!0,xstyle:b,children:[v,S]}),n[16]=b,n[17]=v,n[18]=S,n[19]=L):L=n[19];var E;return n[20]!==a||n[21]!==i||n[22]!==L?(E=p.jsx(r("MWXMAV2PressableWrapper.react"),{cta:a,handleXmaClickLogging:i,children:L}),n[20]=a,n[21]=i,n[22]=L,n[23]=E):E=n[23],E}l.default=w}),226);
__d("MWGenAIReelPrimitive.react",["MWXMAV2AttachmentStandardGenericTemplate.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,n=o("react-compiler-runtime").c(4),a=e.data,i=e.handleXmaClickLogging;if(r("vulture")("n3EwOTSAlpnZ3ANrBd8dGZ_YEB0="),((t=a.data)==null?void 0:t.__typename)!=="XMSGXmaStandardGenericTemplateData")return null;var l;return n[0]!==a.data||n[1]!==a.defaultCta||n[2]!==i?(l=s.jsx(r("MWXMAV2AttachmentStandardGenericTemplate.react"),{defaultCta:a.defaultCta,handleXmaClickLogging:i,mediaRenderQpl:null,template:a.data}),n[0]=a.data,n[1]=a.defaultCta,n[2]=i,n[3]=l):l=n[3],l}l.default=u}),98);
__d("MWXHScroll.react",["fbt","BaseHScroll.react","CometTrackingNodeProvider.react","Locale","MWXCircleButton.react","MWXIconChevronLeft","MWXIconChevronRight","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["arrowSize","buttonFocusable","nextButtonLabel","prevButtonLabel"],u,c=u||(u=o("react")),d=u.useCallback,m=o("Locale").isRTL(),p=s._(/*BTDS*/"Next items"),_=s._(/*BTDS*/"Previous items");function f(t){var n=o("react-compiler-runtime").c(18),a,i,l,s,u;n[0]!==t?(a=t.arrowSize,i=t.buttonFocusable,s=t.nextButtonLabel,u=t.prevButtonLabel,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u):(a=n[1],i=n[2],l=n[3],s=n[4],u=n[5]);var d=s===void 0?p:s,f=u===void 0?_:u,g;n[6]!==a||n[7]!==i||n[8]!==f?(g=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:419,children:c.jsx(r("MWXCircleButton.react"),{"aria-label":f,color:"secondary",disabled:n,focusable:i,icon:r(m?"MWXIconChevronRight":"MWXIconChevronLeft"),onPress:t,size:a,testid:void 0,type:"overlay-raised"})})},n[6]=a,n[7]=i,n[8]=f,n[9]=g):g=n[9];var h=g,y;n[10]!==a||n[11]!==i||n[12]!==d?(y=function(t,n){return c.jsx(r("CometTrackingNodeProvider.react"),{trackingNode:420,children:c.jsx(r("MWXCircleButton.react"),{"aria-label":d,color:"secondary",disabled:n,focusable:i,icon:r(m?"MWXIconChevronLeft":"MWXIconChevronRight"),onPress:t,size:a,testid:void 0,type:"overlay-raised"})})},n[10]=a,n[11]=i,n[12]=d,n[13]=y):y=n[13];var C=y,b;return n[14]!==C||n[15]!==h||n[16]!==l?(b=c.jsx(o("BaseHScroll.react").HScrollContainer,babelHelpers.extends({},l,{nextButton:C,prevButton:h})),n[14]=C,n[15]=h,n[16]=l,n[17]=b):b=n[17],b}l.Container=f,l.Child=o("BaseHScroll.react").HScrollChild}),226);
__d("MWGenAIResponseHScrollLayoutViewModel.react",["MWGenAIReelPrimitive.react","MWXCard.react","MWXHScroll.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.data,a=e.handleXmaClickLogging;r("vulture")("pTB-6ctgXbUXujWG99uuL1R0Yr8=");var i;if(t[0]!==n.primitives||t[1]!==a){var l;t[3]!==a?(l=function(t,n){switch(t.__typename){case"MWGenAIReelPrimitive":return s.jsx(r("MWGenAIReelPrimitive.react"),{data:t,handleXmaClickLogging:a},n);default:return null}},t[3]=a,t[4]=l):l=t[4],i=n.primitives.map(l).filter(d).map(c),t[0]=n.primitives,t[1]=a,t[2]=i}else i=t[2];var u=i,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(m={type:"fixed",width:150},t[5]=m):m=t[5];var p;return t[6]!==u?(p=s.jsx(o("MWXHScroll.react").Container,{accessibilityLabel:"Meta AI Hscroll content",arrowSize:24,cardWidth:m,gap:4,peek:!0,peekPaddingEnd:8,peekPaddingStart:8,peekWidth:4,children:u}),t[6]=u,t[7]=p):p=t[7],p}function c(e,t){return s.jsx(o("MWXHScroll.react").Child,{children:s.jsx(r("MWXCard.react"),{border:"solid",dropShadow:1,children:e})},t)}c.displayName=c.name+" [from "+i.id+"]";function d(e){return e!=null}l.default=u}),98);
__d("MWGenAIResponsePayloadUtils",["$InternalEnum","MWGenAIRichResponsePayload","MWGenAIUnifiedResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";var e=n("$InternalEnum").Mirrored(["KEYWORD","METHOD","STR","NUMBER","COMMENT","DEFAULT"]);function s(e){var t,n,r,a=(t=e==null?void 0:e.sections)!=null?t:[],i=e==null?void 0:e.streaming_action,l=e==null?void 0:e.search_metadata,s=(n=l==null?void 0:l.attributions)!=null?n:[],u=(r=i==null?void 0:i.insertions)!=null?r:[],c=new Map(u.map(function(e){return[e.section_id,e.template_data]})),d=s==null?null:{attributions:s.map(function(e){var t,n;return{image:{url:(t=e.image)==null?void 0:t.url,urlFallback:(n=e.image)==null?void 0:n.url_fallback},searchQueryUrl:e.search_query_url,subtitle:e.subtitle,title:e.title}}),sourcesUrl:l==null?void 0:l.sources_url},m=e.unified_response==null?o("MWGenAIRichResponsePayload").buildSectionsFromRichResponse(a,c):o("MWGenAIUnifiedResponsePayloadUtils").buildSectionsFromUnifiedResponse(e.unified_response);return{__typename:"MWGenAIResponse",responseId:i==null?void 0:i.response_id,searchMetadata:d,sections:m}}function u(e){var t=e.custom_template_data;if((t==null?void 0:t.__typename)==="XMSGXmaGenAiRichResponseTemplateData")return s(t)}l.MWGenAICodePrimitiveBlockType=e,l.responseToMWGenAIResponse=s,l.xmaContentToMWGenAIResponse=u}),98);
__d("MWGenAIRichResponsePayload",["MWGenAIResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return e.map(function(e){var n=e.template_data.section_id,r=n!=null?t==null?void 0:t.get(n):null,o=r!=null?r:e.template_data;switch(o.__typename){case"XMSGXmaRichTextTemplateData":return s(o);case"XMSGXmaGenAiCodeTemplateData":return u(o);case"XMSGXmaNestedHScrollTemplateData":return d(o);default:return null}}).filter(function(e){return e!=null})}function s(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text}}}}function u(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:{__typename:"MWGenAICodePrimitive",codeLines:c(e.code_blocks),language:e.language}}}}function c(e){var t=[],n=[];for(var r of e)for(var a=r.content.split("\n"),i=o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.cast(r.type),l=0;l<a.length;l++){var s=a[l];s!==""&&i!=null&&n.push({__typename:"MWGenAICodePrimitiveBlock",content:s,type:i}),l<a.length-1&&(t.push(n),n=[])}return t.push(n),t}function d(e){return{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseHScrollLayoutViewModel",primitives:e.items.map(function(e){return{__typename:"MWGenAIReelPrimitive",data:e.data,defaultCta:e.default_cta}})}}}l.buildSectionsFromRichResponse=e}),98);
__d("MWGenAIUnifiedResponsePayloadUtils",["MWGenAIResponsePayloadUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=e==null?void 0:e.sections)!=null?t:[];return n.map(function(e){var t=e.view_model;switch(t.__typename){case"GenAISingleLayoutViewModel":return s(t);case"GenAIHScrollLayoutViewModel":default:return null}}).filter(function(e){return e!=null})}function s(e){var t=c(e.primitive);return t==null?null:{__typename:"MWGenAIResponseSection",viewModel:{__typename:"MWGenAIResponseSingleLayoutViewModel",primitive:t}}}function u(e){if(e.inline_entities==null)return{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text};var t=e.inline_entities.map(function(e){return e.metadata.__typename!=="GenAISearchCitationItem"?null:{__typename:"MWGenAITextInlineEntity",key:e.key,metadata:babelHelpers.extends({},e.metadata,{__typename:"MWGenAISearchCitationItem"})}});return{__typename:"MWGenAIMarkdownTextPrimitive",inlineEntities:t.filter(Boolean),text:e.text}}function c(e){switch(e.__typename){case"GenAIMarkdownTextUXPrimitive":return u(e);case"FOATextPrimitive":return{__typename:"MWGenAIMarkdownTextPrimitive",text:e.text};case"GenAICodeUXPrimitive":return{__typename:"MWGenAICodePrimitive",codeLines:d(e.code_blocks),language:e.language};default:return null}}function d(e){var t=[],n=[];for(var r of e)for(var a=r.content.split("\n"),i=o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.cast(r.type),l=0;l<a.length;l++){var s=a[l];s!==""&&i!=null&&n.push({__typename:"MWGenAICodePrimitiveBlock",content:s,type:i}),l<a.length-1&&(t.push(n),n=[])}return t.push(n),t}l.buildSectionsFromUnifiedResponse=e}),98);
__d("MWGenAICodePrimitiveLine.react",["MWGenAIResponsePayloadUtils","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={comment:{color:"x16np4np",$$css:!0},default:{color:"x1y24irf",$$css:!0},inlineBlock:{whiteSpace:"x126k92a",$$css:!0},keyword:{color:"xii46a8",$$css:!0},method:{color:"xy3wbsu",$$css:!0},number:{color:"xtlthio",$$css:!0},string:{color:"x1wqh759",$$css:!0}};function d(e){switch(e){case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.KEYWORD:return c.keyword;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.METHOD:return c.method;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.STR:return c.string;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.NUMBER:return c.number;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.COMMENT:return c.comment;case o("MWGenAIResponsePayloadUtils").MWGenAICodePrimitiveBlockType.DEFAULT:return c.default}}function m(e){var t=o("react-compiler-runtime").c(4),n=e.codeLineData,r;t[0]!==n?(r=n.map(p),t[0]=n,t[1]=r):r=t[1];var a;return t[2]!==r?(a=u.jsx("div",{children:r}),t[2]=r,t[3]=a):a=t[3],a}function p(t,n){return u.jsx("span",babelHelpers.extends({},(e||(e=r("stylex"))).props([c.inlineBlock,d(t.type)]),{children:t.content}),n)}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWGenAICodePrimitive.react",["BaseTheme.react","MWGenAICodePrimitiveLine.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark:{"mwx-code-background-color":"#1F1F1F","mwx-code-header-background-color":"#2E2E2E","mwx-code-syntax-comment":"#B0B3B8","mwx-code-syntax-default":"#E2E5E9","mwx-code-syntax-keyword":"#5AA7FF","mwx-code-syntax-method":"#F68628","mwx-code-syntax-number":"#FF70C7","mwx-code-syntax-string":"#14B898"},light:{"mwx-code-background-color":"#FFFFFF","mwx-code-header-background-color":"#F5F5F5","mwx-code-syntax-comment":"#65686C","mwx-code-syntax-default":"#080809","mwx-code-syntax-keyword":"#0866FF","mwx-code-syntax-method":"#B15B0F","mwx-code-syntax-number":"#BE438C","mwx-code-syntax-string":"#008168"},type:"VARIABLES"};function c(e){var t=o("react-compiler-runtime").c(11),n=e.data,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x4tzy3f x8cjs6t x3sou0m x80vd3b x12u81az x5a5i1n x1obq294 x13fuv20 x18b5jzi x1q0q8m5 x1t7ytsu x178xt8z x1lun4ml xso031l xpilrb4 x1xmf6yo xsag5q8 xf159sx xmzvs34 xz9dl7a"},t[0]=a):a=t[0];var i;t[1]!==n.language?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("MWXText.react"),{type:"headlineEmphasized3",children:n.language})})),t[1]=n.language,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x1xo0k7 x8cjs6t x3sou0m x80vd3b x12u81az xde0f50 x15x8krk x18b5jzi x1q0q8m5 x1t7ytsu x1ejq31n x178xt8z x1lun4ml xso031l xpilrb4 x1e56ztr x1y1aw1k xf159sx xwib8y2 xmzvs34"},t[3]=l):l=t[3];var c;t[4]!==n.codeLines?(c=n.codeLines.map(d),t[4]=n.codeLines,t[5]=c):c=t[5];var m;t[6]!==c?(m=s.jsx("div",babelHelpers.extends({},l,{children:s.jsx("code",{children:c})})),t[6]=c,t[7]=m):m=t[7];var p;return t[8]!==i||t[9]!==m?(p=s.jsxs(r("BaseTheme.react"),{config:u,children:[i,m]}),t[8]=i,t[9]=m,t[10]=p):p=t[10],p}function d(e,t){return s.jsx(r("MWGenAICodePrimitiveLine.react"),{codeLineData:e},t)}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWXMAV2ComposedTextSpacing",[],(function(t,n,r,o,a,i,l){"use strict";var e={block:{marginBottom:"x13xjzxd",marginTop:"xdj266r",$$css:!0},lastBlock:{marginBottom:"xat24cr",marginTop:"xdj266r",$$css:!0}};function s(t){return t?e.lastBlock:e.block}l.getBlockSpacing=s}),98);
__d("MWXMAV2ComposedTextBlockquoteRenderer.react",["MWXMAV2ComposedTextSpacing","MWXMessageBlockQuote.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e.children?(n=e.children(null),t[0]=e.children,t[1]=n):n=t[1];var a=n;if(a==null)return null;var i;t[2]!==e.isLastBlock?(i=o("MWXMAV2ComposedTextSpacing").getBlockSpacing(e.isLastBlock),t[2]=e.isLastBlock,t[3]=i):i=t[3];var l;return t[4]!==i||t[5]!==a?(l=s.jsx(r("MWXMessageBlockQuote.react"),{outgoing:!1,xstyle:i,children:a}),t[4]=i,t[5]=a,t[6]=l):l=t[6],l}l.default=u}),98);
__d("MWXCodeBlock.react",["cr:2127","cr:4724","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),r=e.align,a=e.children,i=e.color,l=e.testid,u=e.type;if(n("cr:2127")!=null){var c;return t[0]!==r||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==u?(c=s.jsx(n("cr:2127"),{align:r,children:a,color:i,testid:void 0,type:u}),t[0]=r,t[1]=a,t[2]=i,t[3]=l,t[4]=u,t[5]=c):c=t[5],c}if(n("cr:4724")!=null){var d;return t[6]!==a?(d=s.jsx(n("cr:4724"),{children:a}),t[6]=a,t[7]=d):d=t[7],d}return null}l.default=u}),98);
__d("MWXMAV2ComposedTextCodeRenderer.react",["MWXCodeBlock.react","MWXMAV2ComposedTextSpacing","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(10),a;n[0]!==t.children?(a=t.children(null),n[0]=t.children,n[1]=a):a=n[1];var i=a;if(i==null)return null;var l;n[2]!==t.isLastBlock?(l=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),n[2]=t.isLastBlock,n[3]=l):l=n[3];var s;n[4]===Symbol.for("react.memo_cache_sentinel")?(s={className:"xw2csxc"},n[4]=s):s=n[4];var c;n[5]!==i?(c=u.jsx(r("MWXCodeBlock.react"),{type:"body4",children:u.jsx("div",babelHelpers.extends({},s,{children:u.jsx(r("MWXText.react"),{type:"body4",children:i})}))}),n[5]=i,n[6]=c):c=n[6];var d;return n[7]!==l||n[8]!==c?(d=u.jsx("pre",babelHelpers.extends({},l,{children:c})),n[7]=l,n[8]=c,n[9]=d):d=n[9],d}l.default=c}),98);
__d("MWXMAV2ComposedTextHeadingRenderer.react",["MWXMAV2ComposedTextSpacing","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={HEADER_ONE:"headlineEmphasized1",HEADER_THREE:"headlineEmphasized3",HEADER_TWO:"headlineEmphasized2"};function d(t){var n,a,i=o("react-compiler-runtime").c(10),l;i[0]!==t.children?(l=t.children(null),i[0]=t.children,i[1]=l):l=i[1];var s=l;if(s==null)return null;var d=(n=c[(a=t.block.block_type)!=null?a:"UNSTYLED"])!=null?n:"body3",m;i[2]!==t.isLastBlock?(m=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),i[2]=t.isLastBlock,i[3]=m):m=i[3];var p;i[4]!==s||i[5]!==d?(p=u.jsx(r("MWXText.react"),{color:"primary",dir:"auto",type:d,children:s}),i[4]=s,i[5]=d,i[6]=p):p=i[6];var _;return i[7]!==m||i[8]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{children:p})),i[7]=m,i[8]=p,i[9]=_):_=i[9],_}l.default=d}),98);
__d("MWXMAV2ComposedTextInlineRenderer.react",["ComposedInlineStyle","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=function(t,n){switch(n.inline_style){case"BOLD":case r("ComposedInlineStyle").BOLD:return s.jsx("b",{children:t});case"ITALIC":case r("ComposedInlineStyle").ITALIC:return s.jsx("i",{children:t});case"UNDERLINE":case r("ComposedInlineStyle").UNDERLINE:return s.jsx("u",{children:t});case"CODE":case r("ComposedInlineStyle").CODE:return s.jsx("code",{className:"xeb7xqv x1nn3v0j x14vy60q x1120s5i xyiysdx",children:t});case"STRIKETHROUGH":case r("ComposedInlineStyle").STRIKETHROUGH:return s.jsx("strike",{children:t});case"LIGHTSTRIKETHROUGH":case r("ComposedInlineStyle").LIGHTSTRIKETHROUGH:return s.jsx("strike",{children:t});case"SUBSCRIPT":case r("ComposedInlineStyle").SUBSCRIPT:return s.jsx("sub",{children:t});case"SUPERSCRIPT":case r("ComposedInlineStyle").SUPERSCRIPT:return s.jsx("sup",{children:t});case"LINEBREAK":case r("ComposedInlineStyle").LINEBREAK:return s.jsx("br",{});default:return t}};l.default=u}),98);
__d("MWXMAV2ComposedTextLinkRenderer.react",["getMAWLinkEntityRenderer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={link:{color:"x1heor9g",textDecoration:"x1bvjpef",textDecorationLine:"xujl8zx",$$css:!0}},c=function(t,n){var e=r("getMAWLinkEntityRenderer.react")({encryptedLink:!1,target:"_blank",testid:"chat_message_regular_link",xstyle:[u.link]});return e(t,{__typename:n.__typename,uri:n.external_url},void 0,n.external_url,void 0)};l.default=c}),98);
__d("cometFeedMesssageOrderedListItemBlockUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){if(e==null)return null;try{var t=JSON.parse(e),n=t.marker;if(n!=null)return n}catch(e){}return null}i.parseListItemMarker=e}),66);
__d("MWXMAV2ComposedTextListItemRenderer.react",["cometFeedMesssageOrderedListItemBlockUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(7),n;t[0]!==e.data?(n=o("cometFeedMesssageOrderedListItemBlockUtils").parseListItemMarker(e.data),t[0]=e.data,t[1]=n):n=t[1];var r=n,a;t[2]!==e.children?(a=e.children(null),t[2]=e.children,t[3]=a):a=t[3];var i=a,l;return t[4]!==r||t[5]!==i?(l=s.jsx("li",{value:r,children:i}),t[4]=r,t[5]=i,t[6]=l):l=t[6],l}l.default=u}),98);
__d("MWXMAV2ComposedTextListRenderer.react",["CometFeedMessageListRendererContext.react","MWXMAV2ComposedTextSpacing","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={root:{paddingInlineStart:"x13jy36j",$$css:!0}},d={level0:{listStyleType:"xtaz4m5",$$css:!0},level1:{listStyleType:"xrylv2j",$$css:!0},level2:{listStyleType:"x152237o",$$css:!0}},m={level0:{listStyleType:"x3yw8vx",$$css:!0},level1:{listStyleType:"x1rrqm6h",$$css:!0},level2:{listStyleType:"x19k9dhg",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(11),a=t.type==="ORDERED",i=a?"ol":"ul",l=o("CometFeedMessageListRendererContext.react").useCometFeedMessageListRendererNestedLevel(),s=a?l.ordered:l.unordered,p;n[0]!==a||n[1]!==s||n[2]!==t.isLastBlock?(p=(e||(e=r("stylex"))).props(s===0&&o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock),c.root,s%3===0&&(a?m.level0:d.level0),s%3===1&&(a?m.level1:d.level1),s%3===2&&(a?m.level2:d.level2)),n[0]=a,n[1]=s,n[2]=t.isLastBlock,n[3]=p):p=n[3];var _=a?"ordered":"unordered",f;n[4]!==t.children||n[5]!==_?(f=u.jsx(o("CometFeedMessageListRendererContext.react").CometFeedMessageListRendererContextProvider,{type:_,children:t.children}),n[4]=t.children,n[5]=_,n[6]=f):f=n[6];var g;n[7]!==i||n[8]!==p||n[9]!==f?(g=u.jsx(i,babelHelpers.extends({},p,{children:f})),n[7]=i,n[8]=p,n[9]=f,n[10]=g):g=n[10];var h=g;return h}l.default=p}),98);
__d("MWXMAV2ComposedTextParagraphRenderer.react",["MWXMAV2ComposedTextSpacing","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(7),a;n[0]!==t.children?(a=t.children(null),n[0]=t.children,n[1]=a):a=n[1];var i=a;if(i==null)return null;var l;n[2]!==t.isLastBlock?(l=(e||(e=r("stylex"))).props(o("MWXMAV2ComposedTextSpacing").getBlockSpacing(t.isLastBlock)),n[2]=t.isLastBlock,n[3]=l):l=n[3];var s;return n[4]!==l||n[5]!==i?(s=u.jsx("p",babelHelpers.extends({},l,{children:i})),n[4]=l,n[5]=i,n[6]=s):s=n[6],s}l.default=c}),98);
__d("MWXMAV2ComposedTextPassThroughRenderer.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e.children?(n=s.jsx(s.Fragment,{children:e.children}),t[0]=e.children,t[1]=n):n=t[1],n}l.default=u}),98);
__d("PrismjsLanguage",[],(function(t,n,r,o,a,i){var e=Object.freeze({batch:{prism_language:"batch",label:"Batch",alias:["batch"]},c:{prism_language:"c",label:"C",alias:["c"]},csharp:{prism_language:"csharp",label:"C#",alias:["c#","csharp","dotnet","cs"]},cpp:{prism_language:"cpp",label:"C++",alias:["cpp"]},clojure:{prism_language:"clojure",label:"Clojure",alias:["clojure"]},cmake:{prism_language:"cmake",label:"CMake",alias:["cmake"]},cobol:{prism_language:"cobol",label:"COBOL",alias:["cobol"]},coffeescript:{prism_language:"coffeescript",label:"CoffeeScript",alias:["coffeescript","coffe"]},css:{prism_language:"css",label:"CSS",alias:["css"]},csv:{prism_language:"csv",label:"CSV",alias:["csv"]},dart:{prism_language:"dart",label:"Dart",alias:["dart"]},docker:{prism_language:"docker",label:"Docker",alias:["docker","dockerfile"]},elixir:{prism_language:"elixir",label:"Elixir",alias:["elixir"]},erlang:{prism_language:"erlang",label:"Erlang",alias:["erlang"]},fortran:{prism_language:"fortran",label:"Fortran",alias:["fortran"]},graphql:{prism_language:"graphql",label:"GraphQL",alias:["graphql"]},go:{prism_language:"go",label:"Go",alias:["go","golang"]},groovy:{prism_language:"groovy",label:"Groovy",alias:["groovy"]},php:{prism_language:"php",label:"PHP",alias:["php"]},haskell:{prism_language:"haskell",label:"Haskell",alias:["haskell","hs"]},markup:{prism_language:"markup",label:"XML",alias:["xml"]},ini:{prism_language:"ini",label:"INI",alias:["ini"]},java:{prism_language:"java",label:"Java",alias:["java"]},javascript:{prism_language:"javascript",label:"JavaScript",alias:["javascript","js"]},json:{prism_language:"json",label:"Web Application Manifest",alias:["webmanifest"]},julia:{prism_language:"julia",label:"Julia",alias:["julia"]},kotlin:{prism_language:"kotlin",label:"Kotlin",alias:["kotlin","kt","kts"]},lisp:{prism_language:"lisp",label:"Emacs Lisp",alias:["elisp","emacs","emacs-lisp","emacs lisp"]},lua:{prism_language:"lua",label:"Lua",alias:["lua"]},makefile:{prism_language:"makefile",label:"Makefile",alias:["makefile"]},markdown:{prism_language:"markdown",label:"MarkDown",alias:["markdown","md"]},matlab:{prism_language:"matlab",label:"Matlab",alias:["matlab"]},objectivec:{prism_language:"objectivec",label:"Objective-C",alias:["objectivec","objc"]},ocaml:{prism_language:"ocaml",label:"OCaml",alias:["ocaml"]},pascal:{prism_language:"pascal",label:"Pascal",alias:["pascal","objectpascal"]},perl:{prism_language:"perl",label:"Perl",alias:["perl"]},powershell:{prism_language:"powershell",label:"PowerShell",alias:["powershell"]},prolog:{prism_language:"prolog",label:"Prolog",alias:["prolog"]},python:{prism_language:"python",label:"Python",alias:["python","py"]},r:{prism_language:"r",label:"R",alias:["r"]},ruby:{prism_language:"ruby",label:"Ruby",alias:["ruby","rb"]},rust:{prism_language:"rust",label:"Rust",alias:["rust"]},scala:{prism_language:"scala",label:"Scala",alias:["scala"]},shellsession:{prism_language:"shellsession",label:"Shell",alias:["shell-session","sh-session"]},sql:{prism_language:"sql",label:"SQL",alias:["sql"]},swift:{prism_language:"swift",label:"Swift",alias:["swift"]},latex:{prism_language:"latex",label:"LaTeX",alias:["latex","tex"]},toml:{prism_language:"toml",label:"TOML",alias:["toml"]},typescript:{prism_language:"typescript",label:"TypeScript",alias:["typescript","ts"]},verilog:{prism_language:"verilog",label:"Verilog",alias:["verilog"]},visualbasic:{prism_language:"visualbasic",label:"Visual Basic",alias:["visual-basic","visual basic","vb","vba"]},yaml:{prism_language:"yaml",label:"YAML",alias:["yaml","yml"]}});i.default=e}),66);
__d("prismjsLanguageFromAlias",["PrismjsLanguage"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)return null;var t=Object.values(r("PrismjsLanguage")),n=e.toLowerCase();for(var o of t)for(var a of o.alias)if(n===a)return o.prism_language;return null}l.default=e}),98);
__d("trustHTML",[],(function(t,n,r,o,a,i){"use strict";function e(e){var t;if((t=window.trustedTypes)!=null&&t.createPolicy){var n=window.trustedTypes.createPolicy("lexical",{createHTML:function(t){return t}});return n.createHTML(e)}return e}i.default=e}),66);
__d("MarkedComposedTextTransform",["URI","UnicodeUtils","nullthrows","prismjsLanguageFromAlias","trustHTML"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(e){if(Array.isArray(e)){for(var t of e)d(t);return!0}var n=e;for(var r of u){var o=r(n);if(o)return!0}return!1}function m(e){return e}function p(e){return function(t){return e(t,c)}}function _(e){return function(t){var n=c.at(-1);return n!=null?e(t,n):!1}}function f(e){c.push(e)}function g(e){var t=c.length;e();for(var n=c.length,a=[],i=1;i<n-t;i++){var l=c.pop();l!=null&&a.unshift(l)}var u=r("nullthrows")(c.at(-1));for(var d of a){var m,p,_=(s||(s=o("UnicodeUtils"))).strlen((m=u.text)!=null?m:""),f=a.at(-1)===d;C(((p=d.text)!=null?p:"")+(f?"":"\n"));for(var g of d.inline_style_ranges){var h=u.inline_style_ranges;h.push({inline_style:r("nullthrows")(g.inline_style),length:r("nullthrows")(g.length),offset:_})}for(var y of d.entity_ranges){var b=u.entity_ranges;b.push({entity:r("nullthrows")(y.entity),entity_type:r("nullthrows")(y.entity_type),length:r("nullthrows")(y.length),offset:_})}}}function h(e,t){var n,a,i=r("nullthrows")(c.at(-1)),l=(n=i.text)!=null?n:"",u=(s||(s=o("UnicodeUtils"))).strlen(l);t();var d=(a=i.text)!=null?a:"",m=s.strlen(d)-u,p=i.inline_style_ranges;for(var _ of p)if(_.inline_style===e&&_.offset+_.length>=u){_.length=u+m-_.offset;return}for(var f=p.length-1;f>=0&&p[f].offset===u;)f--;p.splice(f+1,0,{inline_style:e,length:m,offset:u})}function y(e,t,n){var a,i,l=r("nullthrows")(c.at(-1)),u=(a=l.text)!=null?a:"",d=(s||(s=o("UnicodeUtils"))).strlen(u);n();var m=(i=l.text)!=null?i:"",p=s.strlen(m)-d,_=l.entity_ranges;_.push({entity:t,entity_type:e,length:p,offset:d})}function C(e){var t,n=r("nullthrows")(c.at(-1));n.text=((t=n.text)!=null?t:"")+e}function b(){return{block_type:"UNSTYLED",data:"{}",depth:0,text:"",inline_style_ranges:[],entity_ranges:[]}}var v=p(function(e){return e.type==="paragraph"?(f(babelHelpers.extends({},b(),{block_type:"UNSTYLED"})),d(e.tokens),!0):!1}),S=["HEADER_ONE","HEADER_TWO","HEADER_THREE","HEADER_FOUR","HEADER_FIVE","HEADER_SIX"],R=p(function(e){return e.type==="heading"?(f(babelHelpers.extends({},b(),{block_type:S[Math.min(S.length-1,e.depth-1)]})),d(e.tokens),!0):!1}),L=p(function(e){return e.type==="code"?(f(babelHelpers.extends({},b(),{block_type:"CODE",language:e.lang,prism_language:r("prismjsLanguageFromAlias")(e.lang),text:e.text})),!0):!1}),E=0,k=!1,I=0,T=p(function(e){if(e.type==="list")return k=e.ordered,I=typeof e.start=="number"?e.start:0,d(e.items),k=!1,I=0,!0;if(e.type==="list_item"){f(babelHelpers.extends({},b(),{block_type:k?"ORDERED_LIST_ITEM":"UNORDERED_LIST_ITEM",depth:E,data:I>1?'{"marker":'+I+"}":"{}"})),I=0,E++;for(var t=k,n=["code","blockquote"],r=e.tokens,o=0;o<r.length;o++){var a=r[o],i=r[o+1];d(a),i!=null&&n.includes(a.type)&&!n.includes(i.type)&&f(b())}return E--,k=t,!0}return!1}),D=p(function(e){return e.type==="blockquote"?(g(function(){f(babelHelpers.extends({},b(),{block_type:"BLOCKQUOTE"})),d(e.tokens)}),!0):!1}),x=p(function(e){return e.type==="space"});function $(e){var t,n=(t=e==null?void 0:e.preserveNewLines)!=null?t:!1;return _(function(e){if(e.type==="text"){if(e.tokens!=null)d(e.tokens);else{var t=e.text;n||(t=t.replace(/[\r\n]+/g,""));var o=document.createElement("textarea");o.innerHTML=r("trustHTML")(t),C(o.value)}return!0}return!1})}var P=$(),N=_(function(e){return e.type==="br"?(C("\n"),!0):!1}),M=_(function(e){return e.type==="html"&&e.text.match(/<br\s*\/?>/i)?(C("\n"),!0):!1}),w=_(function(e){return e.type==="escape"?(C(e.text),!0):!1}),A=_(function(e){return e.type==="strong"?(h("BOLD",function(){d(e.tokens)}),!0):!1}),F=_(function(e){return e.type==="em"?(h("ITALIC",function(){d(e.tokens)}),!0):!1}),O=_(function(e){return e.type==="del"?(h("STRIKETHROUGH",function(){d(e.tokens)}),!0):!1}),B=_(function(e){return e.type==="codespan"?(h("CODE",function(){C(e.text)}),!0):!1}),W=_(function(t){if(t.type==="link")try{var n=new(e||(e=r("URI")))(t.href);return n.getProtocol()===""&&n.setProtocol("https"),y("LINK",{__typename:"XFBURLObject",external_url:n.toStringRawQuery(),url:t.href},function(){d(t.tokens)}),!0}catch(e){return!1}return!1}),q=p(function(e){return f(babelHelpers.extends({},b(),{text:e.raw})),!0}),U=_(function(e){return C(e.raw),!0}),V=[v,R,L,T,D,x,P,N,M,w,A,F,O,B,W,U,q];function H(e,t){t===void 0&&(t=V),u=t,c=[],d(e);var n=c;return u=null,c=null,n}l.transform=d,l.createBaseTransform=m,l.createBlockTransform=p,l.createInlineTransform=_,l.appendBlock=f,l.applyInlineStyle=h,l.applyEntity=y,l.appendText=C,l.createEmptyComposedTextBlock=b,l.createTextTransform=$,l.DEFAULT_TRANSFORMS=V,l.markedComposedTextRenderer=H}),98);
__d("MarkedMobileFlavorPlugin",[],(function(t,n,r,o,a,i){"use strict";var e={end:/_(?!_)/g,middle:/^_(?=\S)([\S\s]*?\S)_(?!_)/,start:/^_/},l={end:/\*(?!\*)/g,middle:/^\*(?=\S)([\S\s]*?\S)\*(?!\*)/,start:/^\*/};function s(e,t,n,r){return c(e,t,n,r,"em")}function u(e,t,n,r){return c(e,t,n,r,"strong")}function c(t,n,r,o,a){var i=a==="em"?e:l,s=i.start.exec(n),u=r;if(s&&(!s[1]||s[1]&&(o===""||t.rules.inline.punctuation.exec(o)))){u=u.slice(-1*n.length);var c=i.end;c.lastIndex=0;for(var d;(s=c.exec(u))!=null&&s!=null;)if(d=i.middle.exec(u.slice(0,s.index+2)),d){var m=n.slice(0,d[0].length),p=n.slice(1,d[0].length-1);return a==="em"?{raw:m,text:p,tokens:[],type:"em"}:{raw:m,text:p,tokens:[],type:"strong"}}}}i.em=s,i.strong=u}),66);
__d("MarkedTokenize",["marked"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t,n){var e;n===void 0&&(n={});var r=(e=n.isOptimistic)!=null?e:!1,o=t.split("\n");if(r&&o.length>0){var a=o[o.length-1].replace(/\s+$/,"");a.length>0&&(a=m(a),a=d(a),o[o.length-1]=a)}var i=new u(n),l=i.lex(o.join("\n"));if(r&&l.length>0){var s=l[l.length-1];s.raw.length>0&&(s=f(s,n),s=_(s,n),l[l.length-1]=s)}return l},s=/^ {0,3}(`{3,}(?=[^\n`]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\S\s]*?)(?:\n|$))(?: {0,3}\1[`~]* *(?=\n|$)|$)/,u=(function(e){function t(t){var n,r,o;o=e.call(this)||this,o.options=t;var a={block:babelHelpers.extends({},o.tokenizer.rules.block),inline:babelHelpers.extends({},o.tokenizer.rules.inline)};return((n=t.rules)==null?void 0:n.inline)!=null&&(a.inline=babelHelpers.extends({},a.inline,t.rules.inline)),((r=t.rules)==null?void 0:r.block)!=null&&(a.block=babelHelpers.extends({},a.block,t.rules.block)),t.isOptimistic===!0&&(a.block.fences=s),o.tokenizer=new c(t.plugins),o.tokenizer.rules=a,o}return babelHelpers.inheritsLoose(t,e),t})(r("marked").Lexer),c=(function(e){function t(t){var n;return n=e.call(this)||this,n.plugins=t||{},n}babelHelpers.inheritsLoose(t,e);var n=t.prototype;return n.em=function(n,r,o){return o===void 0&&(o=""),this.plugins.em==null?e.prototype.em.call(this,n,r,o):this.plugins.em(this,n,r,o)},n.strong=function(n,r,o){return o===void 0&&(o=""),this.plugins.strong==null?e.prototype.strong.call(this,n,r,o):this.plugins.strong(this,n,r,o)},n.escape=function(n){var t,r,o;return(t=(r=(o=this.plugins).katexInline)==null?void 0:r.call(o,n))!=null?t:e.prototype.escape.call(this,n)},n.code=function(n){for(var t,r,o,a,i,l,s,u=arguments.length,c=new Array(u>1?u-1:0),d=1;d<u;d++)c[d-1]=arguments[d];return(t=(r=(o=(a=this.plugins).katexBlock)==null?void 0:o.call(a,n))!=null?r:(i=(l=this.plugins).thinkingBlock)==null?void 0:i.call(l,n))!=null?t:(s=e.prototype.code).call.apply(s,[this,n].concat(c))},n.inlineText=function(n){var t,r,o,a=(t=(r=this.plugins).urInlineEntity)==null?void 0:t.call(r,n);if(a!=null&&a.type==="ur-inline-entity")return a.token=this.escape(a.text),a;for(var i=arguments.length,l=new Array(i>1?i-1:0),s=1;s<i;s++)l[s-1]=arguments[s];return(o=e.prototype.inlineText).call.apply(o,[this,n].concat(l))},t})(r("marked").Tokenizer);function d(e){return e.replace(/!?\[([^\]]*)]?(?:\([^\s)]*)?$/,"")}function m(e){var t=e.trimRight();return p.includes(t)?"":t}var p=["-","*","**","***","_","__","___",">","|","`","``","```","#","##","###"];function _(e,t){return y(e,function(e){var n=g(e),r=n.replace(/[*_`~]+$/,""),o=C(r);if(o.length>0||n.length!==r){var a=h(e).replace(/[*_`~]+$/,"")+o.toReversed().join(""),i=new u(t),l=i.inlineTokens(a,[]),s=g(l),c=C(s);if(c.length<=o.length&&s.length<n.length)return l}return null}),e}function f(e,t){var n,r;if(e.type!=="paragraph")return e;var o=((n=e.raw.match(/^\|\s*(?:[^\n\r|]+?\s*\|?)+\s*(?:\n\|\s*(?::?-+:?\s*\|?\s*)*)?$/))!=null?n:[])[0];if(o==null)return e;var a=o.split("\n")[0].trimRight().replace(/\|$/,"")+"|",i=((r=a.match(/\|/g))!=null?r:[]).length-1,l="|"+" - |".repeat(i),s=a+"\n"+l,c=new u(t),d=c.lex(s);return d.length===1&&d[0].type==="table"?d[0]:e}function g(e){var t="";return r("marked").walkTokens(e,function(e){e.type==="text"&&e.tokens==null&&(t+=e.raw)}),t}function h(e){return e.map(function(e){return e.raw}).join("")}function y(e,t){var n,r;if(e.type==="code")return null;if(e.type==="table"){for(var o,a,i=(o=e.tokens.cells)!=null?o:[],l=(a=i[i.length-1])!=null?a:[],s=l.length-1;s>=0;s--)if(l[s].length>0){var u=t(l[s]);u!=null&&(l[s]=u);break}return null}if(e.type==="list"){var c=e.items,d=c[c.length-1];return d==null?null:y(d,t)}if(e.type==="list_item"){var m,p=(m=e.tokens)!=null?m:[],_=p[p.length-1];return _==null?null:y(_,t)}if(e.tokens==null)return null;var f=(n=e.tokens)!=null?n:[];return e.tokens=(r=t(f))!=null?r:f,f}function C(e){var t;return(t=e.match(/[*_`~]/g))!=null?t:[]}l.tokenize=e,l.AMBIGUOUS_OPENING_TAGS=p}),98);
__d("MWXMAV2MarkdownRenderer.react",["CometComposedBlockWithEntities.react","MWXMAV2ComposedTextBlockquoteRenderer.react","MWXMAV2ComposedTextCodeRenderer.react","MWXMAV2ComposedTextHeadingRenderer.react","MWXMAV2ComposedTextInlineRenderer.react","MWXMAV2ComposedTextLinkRenderer.react","MWXMAV2ComposedTextListItemRenderer.react","MWXMAV2ComposedTextListRenderer.react","MWXMAV2ComposedTextParagraphRenderer.react","MWXMAV2ComposedTextPassThroughRenderer.react","MWXText.react","MarkedComposedTextTransform","MarkedMobileFlavorPlugin","MarkedTokenize","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={BLOCKQUOTE:r("MWXMAV2ComposedTextBlockquoteRenderer.react"),CODE:r("MWXMAV2ComposedTextCodeRenderer.react"),HEADER_FIVE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_FOUR:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_ONE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_SIX:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_THREE:r("MWXMAV2ComposedTextHeadingRenderer.react"),HEADER_TWO:r("MWXMAV2ComposedTextHeadingRenderer.react"),ORDERED_LIST_ITEM:r("MWXMAV2ComposedTextListItemRenderer.react"),PARAGRAPH:r("MWXMAV2ComposedTextParagraphRenderer.react"),UNORDERED_LIST_ITEM:r("MWXMAV2ComposedTextListItemRenderer.react"),UNSTYLED:r("MWXMAV2ComposedTextParagraphRenderer.react")},c={Inline:[r("MWXMAV2ComposedTextInlineRenderer.react")],XFBURLObject:[r("MWXMAV2ComposedTextLinkRenderer.react")]},d={ORDERED:r("MWXMAV2ComposedTextListRenderer.react"),UNORDERED:r("MWXMAV2ComposedTextListRenderer.react"),UNSTYLED:r("MWXMAV2ComposedTextPassThroughRenderer.react")},m=[o("MarkedComposedTextTransform").createTextTransform({preserveNewLines:!0})].concat(o("MarkedComposedTextTransform").DEFAULT_TRANSFORMS);function p(e){var t=o("react-compiler-runtime").c(8),n=e.markdown,a=e.outgoing,i=a===void 0?!1:a,l;if(t[0]!==n){var p=o("MarkedTokenize").tokenize(n,{plugins:{em:o("MarkedMobileFlavorPlugin").em,strong:o("MarkedMobileFlavorPlugin").strong}});l=o("MarkedComposedTextTransform").markedComposedTextRenderer(p,m),t[0]=n,t[1]=l}else l=t[1];var _=l,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={className:"xjkvuk6 x1iorvi4 x1fj9vlw"},t[2]=f):f=t[2];var g=i?"white":"primary",h;t[3]!==_?(h=s.jsx(r("CometComposedBlockWithEntities.react"),{blockRenderers:u,composedText:_,expanded:!0,listRenderers:d,renderers:c}),t[3]=_,t[4]=h):h=t[4];var y;return t[5]!==g||t[6]!==h?(y=s.jsx("div",babelHelpers.extends({},f,{children:s.jsx(r("MWXText.react"),{color:g,dir:"auto",type:"body3",children:h})})),t[5]=g,t[6]=h,t[7]=y):y=t[7],y}l.default=p}),98);
__d("MWGenAIMarkdownTextPrimitive.react",["MWXMAV2MarkdownRenderer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.data,a=e.outgoing,i=a===void 0?!1:a,l=n.text,u;if(t[0]!==n.inlineEntities){var c;u=(c=n.inlineEntities)!=null?c:[],t[0]=n.inlineEntities,t[1]=u}else u=t[1];var d=u;if(t[2]!==d||t[3]!==l){for(var m of d)l=l.replaceAll("{{"+m.key+"}}",""),l=l.replaceAll("{{/"+m.key+"}}","");t[2]=d,t[3]=l,t[4]=l}else l=t[4];var p;return t[5]!==l||t[6]!==i?(p=s.jsx(r("MWXMAV2MarkdownRenderer.react"),{markdown:l,outgoing:i}),t[5]=l,t[6]=i,t[7]=p):p=t[7],p}l.default=u}),98);
__d("MWGenAIResponseSingleLayoutViewModel.react",["MWGenAICodePrimitive.react","MWGenAIMarkdownTextPrimitive.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.data,a=e.outgoing,i=a===void 0?!1:a;switch(n.primitive.__typename){case"MWGenAIMarkdownTextPrimitive":{var l;return t[0]!==n.primitive||t[1]!==i?(l=s.jsx(r("MWGenAIMarkdownTextPrimitive.react"),{data:n.primitive,outgoing:i}),t[0]=n.primitive,t[1]=i,t[2]=l):l=t[2],l}case"MWGenAICodePrimitive":{var u;return t[3]!==n.primitive?(u=s.jsx(r("MWGenAICodePrimitive.react"),{data:n.primitive}),t[3]=n.primitive,t[4]=u):u=t[4],u}default:return null}}l.default=u}),98);
__d("MWGenAIRichReponseFallback.react",["MAWLocalizationType","MWV2TombstonedMessage.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=r("getMAWLocalizedFallbackMsgSnippet")(o("MAWLocalizationType").LOCALIZATION_TYPE.META_AI_SEND_MESSAGE_FALLBACK),t[0]=a):a=t[0];var i;return t[1]!==n?(i=s.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:a}),t[1]=n,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWGenAIRichResponseRenderEligibilityUtils",["gkx","qex"],(function(t,n,r,o,a,i,l){"use strict";var e=["XMSGXmaRichTextTemplateData","XMSGXmaNestedHScrollTemplateData","XMSGXmaGenAiCodeTemplateData"],s=["GenAIMarkdownTextUXPrimitive","GenAICodeUXPrimitive","FOATextPrimitive"],u=["GenAISearchCitationItem"];function c(e){switch(e){case"MWGenAIMarkdownTextPrimitive":return!0;case"MWGenAIReelPrimitive":return r("qex")._("4016")===!0;case"MWGenAICodePrimitive":return r("gkx")("13861")===!0;default:return null}}function d(e){var t,n,r=(t=e==null||(n=e.sections)==null?void 0:n.map(function(e){return e.template_data.__typename}))!=null?t:[];return Array.from(new Set(r))}function m(e){var t,n,r=(t=e==null||(n=e.streaming_action)==null||(n=n.insertions)==null?void 0:n.map(function(e){return e.template_data.__typename}))!=null?t:[];return Array.from(new Set(r))}function p(e){var t=d(e),n=m(e);return t.concat(n)}function _(t){return p(t).filter(function(t){return!e.includes(t)})}function f(e){return e.sections.flatMap(function(e){var t,n,r;return[(t=e.viewModel)==null?void 0:t.primitive].concat((n=(r=e.viewModel)==null?void 0:r.primitives)!=null?n:[]).filter(function(e){return e!=null})})}function g(e){var t=e==null?void 0:e.unified_response;return t==null?[]:t.sections.map(function(e){var t,n,r;return{__typename:e.view_model.__typename,primitives:[(t=e.view_model)==null?void 0:t.primitive].concat((n=(r=e.view_model)==null?void 0:r.primitives)!=null?n:[]).filter(function(e){return e!=null})}})}function h(e){return g(e).filter(function(e){switch(e==null?void 0:e.__typename){case"GenAISingleLayoutViewModel":return e.primitives.some(function(e){if(s.includes(e.__typename)){if(e.__typename==="GenAIMarkdownTextUXPrimitive"&&e.inline_entities)return e.inline_entities.some(function(e){return!u.includes(e.metadata.__typename)})}else return!0;return!1});default:return!0}})}function y(e){return f(e).every(function(e){return c(e.__typename)===!0})}function C(e,t){if((e==null?void 0:e.__typename)!=="XMSGXmaGenAiRichResponseTemplateData")return!1;var n=p(e),r=g(e);if(n.length+r.length===0)return!1;var o=_(e),a=h(e);return o.length+a.length>0?!1:y(t)}l.getTemplateSectionTypes=d,l.getStreamingActionSectionTypes=m,l.getAllSectionTypes=p,l.getAllUnsupportedSectionTypes=_,l.getAllPrimivitesFromResponseData=f,l.getAllUnifiedViewModels=g,l.getAllUnsupportedUnifiedViewModels=h,l.isGatingPassForAllSections=y,l.shouldRenderRichResponseXMA=C}),98);
__d("MWGenAIRichResponseImpressionQplLogger",["I64","LSThreadAttributionStore","MWGenAIRichResponseRenderEligibilityUtils","MWGenAIUtils","QPLUserFlow","Random","qpl"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("qpl")._(25304537,"2861"),u=r("qpl")._(25310752,"2895");function c(t,n,a){var i=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(e||(e=o("I64"))).to_string(o("MWGenAIUtils").META_AI_THREAD_KEY)),l=n.custom_template_data,s=l==null?void 0:l.__typename,u=o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnsupportedSectionTypes(l).concat(o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnsupportedUnifiedViewModels(l).map(function(e){return JSON.stringify(e)})),c=o("MWGenAIRichResponseRenderEligibilityUtils").getTemplateSectionTypes(l).concat(o("MWGenAIRichResponseRenderEligibilityUtils").getAllUnifiedViewModels(l)).map(function(e){return JSON.stringify(e)}),d=o("MWGenAIRichResponseRenderEligibilityUtils").getStreamingActionSectionTypes(l),m=Date.now()+(Math.round(o("Random").random()*1e4)+1e4);return r("QPLUserFlow").start(t,{annotations:{string:{entry_point:a,source:(e||(e=o("I64"))).isI64(i.value)?(e||(e=o("I64"))).to_string(i.value):i.value,template_type:s==null?"null":s},string_array:{streaming_action_section_types:d,template_section_types:c,unsupported_section_types:u}},instanceKey:m}),r("QPLUserFlow").endSuccess(t,{instanceKey:m}),m}function d(e,t){return c(s,e,t)}function m(e,t){return c(u,e,t)}l.markFallbackImpression=d,l.markRichResponseImpression=m}),98);
__d("MWXGenAIRichResponseSearchPluginAttachment.react",["FDSImageCover.react","MWXLink.react","MWXMAIconParser.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useMWXMAInformedAttachmentLabel"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(20),n=e.imageUrl,a=e.queryUrl,i=e.subtitle,l=e.title,u=r("useMWXMAInformedAttachmentLabel")(l!=null?l:"",void 0,i!=null?i:""),m;t[0]!==n?(m=n==null?void 0:o("MWXMAIconParser.react").parse(n),t[0]=n,t[1]=m):m=t[1];var p=m,_;t[2]===Symbol.for("react.memo_cache_sentinel")?(_={className:"x6s0dn4 x78zum5"},t[2]=_):_=t[2];var f;t[3]!==p?(f=typeof p=="string"?s.jsx(r("FDSImageCover.react"),{alt:"Icon for this message's header",src:p,style:{borderRadius:"50%",height:"40px",width:"40px"}}):null,t[3]=p,t[4]=f):f=t[4];var g;t[5]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x12nagc x1diwwjn x1gslohp x6ikm8r x10wlt62 xjkvuk6 x1iorvi4"},t[5]=g):g=t[5];var h;t[6]!==i?(h=i!=null&&i.length>0?s.jsx(r("MWXText.react"),{numberOfLines:1,type:"meta4",children:i}):null,t[6]=i,t[7]=h):h=t[7];var y;t[8]!==l?(y=l!=null?s.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:l}):null,t[8]=l,t[9]=y):y=t[9];var C;t[10]!==h||t[11]!==y?(C=s.jsx("div",babelHelpers.extends({},g,{children:s.jsx(r("MWXTextPairing.react"),{body:h,bodyColor:"secondary",bodyLineLimit:1,headline:y,headlineLineLimit:1,level:3})})),t[10]=h,t[11]=y,t[12]=C):C=t[12];var b;t[13]!==f||t[14]!==C?(b=s.jsxs("div",babelHelpers.extends({},_,{children:[f,C]})),t[13]=f,t[14]=C,t[15]=b):b=t[15];var v;return t[16]!==u||t[17]!==a||t[18]!==b?(v=s.jsx(r("MWXLink.react"),{href:a,label:u,onClick:d,onNavigate_DEPRECATED_FIXME:c,target:void 0,children:b}),t[16]=u,t[17]=a,t[18]=b,t[19]=v):v=t[19],v}function c(){}function d(){}l.default=u}),98);
__d("MWXGenAIRichResponseSourcesMustache.react",["JSResourceForInteraction","MWSearchPluginUtils","MWXPressable.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWXGenAIRichResponseSourcesMustache.react");function d(e){var t=o("react-compiler-runtime").c(9),n=e.sourcesUrl,a=o("MWSearchPluginUtils").useSearchPluginSources(n),i=r("useMWXLazyDialog")(c),l=i[0],u;t[0]!==l||t[1]!==a?(u=function(){a!=null&&l({botResponseId:void 0,sources:a})},t[0]=l,t[1]=a,t[2]=u):u=t[2];var d=u;if(a==null||a.header==null||a.source_titles.length===0||a.source_urls.length===0)return null;var m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m={className:"x78zum5 x1diwwjn"},t[3]=m):m=t[3];var p;t[4]!==a.header?(p=s.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:a.header}),t[4]=a.header,t[5]=p):p=t[5];var _;return t[6]!==d||t[7]!==p?(_=s.jsx("div",babelHelpers.extends({},m,{children:s.jsx(r("MWXPressable.react"),{onPress:d,overlayDisabled:!0,children:p})})),t[6]=d,t[7]=p,t[8]=_):_=t[8],_}l.default=d}),98);
__d("MetaAiDestinationCoreClientEventsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("5443"),s=o("FalcoLoggerInternal").create("meta_ai_destination_core_client_events",e),u=s;l.default=u}),98);
__d("MWXMAV2AttachmentGenAIRichResponseTemplateV2.react",["MWGenAIResponseHScrollLayoutViewModel.react","MWGenAIResponsePayloadUtils","MWGenAIResponseSingleLayoutViewModel.react","MWGenAIRichReponseFallback.react","MWGenAIRichResponseImpressionQplLogger","MWGenAIRichResponseRenderEligibilityUtils","MWLSThreadDisplayContext","MWMessageListLoggingContext","MWXGenAIRichResponseSearchPluginAttachment.react","MWXGenAIRichResponseSourcesMustache.react","MWXMessageBubble.react","MetaAiDestinationCoreClientEventsFalcoEvent","react","react-compiler-runtime","usePartialViewImpression","useSinglePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useEffect,m=u.useRef,p=r("uuidv4")();function _(e){var t,n,a=o("react-compiler-runtime").c(76),i=e.content,l=e.handleXmaClickLogging,u=e.mediaRenderQpl,c=e.outgoing,_=c===void 0?!1:c,f=o("MWMessageListLoggingContext").useFlowInstanceIdContext(),g=i.custom_template_data,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="ChatTab",C=m(!1),b;a[0]!==i||a[1]!==y?(b={onImpressionStart:function(){o("MWGenAIRichResponseImpressionQplLogger").markFallbackImpression(i,y?"ChatTab":"FullScreen")}},a[0]=i,a[1]=y,a[2]=b):b=a[2];var v=r("useSinglePartialViewImpression")(b),S;a[3]!==i||a[4]!==(g==null?void 0:g.bot_response_id)||a[5]!==(g==null?void 0:g.streaming_action)||a[6]!==f||a[7]!==y?(S={onImpressionStart:function(){(g==null?void 0:g.streaming_action)==null&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){var e;return{bot_response_id:(e=g==null?void 0:g.bot_response_id)!=null?e:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"first_response_token_vpv",referrer_session_id:p}}),o("MWGenAIRichResponseImpressionQplLogger").markRichResponseImpression(i,y?"ChatTab":"FullScreen")}},a[3]=i,a[4]=g==null?void 0:g.bot_response_id,a[5]=g==null?void 0:g.streaming_action,a[6]=f,a[7]=y,a[8]=S):S=a[8];var R=r("useSinglePartialViewImpression")(S),L;a[9]===Symbol.for("react.memo_cache_sentinel")?(L=function(){C.current=!1},a[9]=L):L=a[9];var E;a[10]!==(g==null?void 0:g.bot_response_id)||a[11]!==(g==null?void 0:g.streaming_action)||a[12]!==f?(E={onImpressionEnd:L,onImpressionStart:function(){(g==null?void 0:g.streaming_action)!=null&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){var e;return{bot_response_id:(e=g==null?void 0:g.bot_response_id)!=null?e:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"response_vpv",referrer_session_id:p}}),C.current=!0}},a[10]=g==null?void 0:g.bot_response_id,a[11]=g==null?void 0:g.streaming_action,a[12]=f,a[13]=E):E=a[13];var k=r("usePartialViewImpression")(E),I;a[14]!==k||a[15]!==R?(I=function(t){R(t),k(t)},a[14]=k,a[15]=R,a[16]=I):I=a[16];var T=I,D=g==null?void 0:g.streaming_action,x=g==null?void 0:g.bot_response_id,$,P;a[17]!==x||a[18]!==f||a[19]!==D?($=function(){C.current&&D&&r("MetaAiDestinationCoreClientEventsFalcoEvent").log(function(){return{bot_response_id:x!=null?x:"",destination_name:"meta_ai_thread_view",destination_session_id:f.current,event_name:"response_vpv",referrer_session_id:p}})},P=[x,f,D],a[17]=x,a[18]=f,a[19]=D,a[20]=$,a[21]=P):($=a[20],P=a[21]),d($,P),u!=null&&(u.addPoint("render-xma-v2-template"),u.endSuccessAfterDelay());var N,M,w,A,F,O,B,W,q,U,V,H,G,z,j,K,Q;if(a[22]!==T||a[23]!==i||a[24]!==g||a[25]!==v||a[26]!==l||a[27]!==_){K=Symbol.for("react.early_return_sentinel");e:{var X,Y,J;if(O=o("MWGenAIResponsePayloadUtils").xmaContentToMWGenAIResponse(i),O==null||!o("MWGenAIRichResponseRenderEligibilityUtils").shouldRenderRichResponseXMA(g,O)){var Z;a[45]===Symbol.for("react.memo_cache_sentinel")?(Z=s.jsx(r("MWGenAIRichReponseFallback.react"),{isOutgoing:!1}),a[45]=Z):Z=a[45];var ee;a[46]!==v?(ee=s.jsx("div",{ref:v,children:Z}),a[46]=v,a[47]=ee):ee=a[47],K=ee;break e}var te=(X=(Y=O.searchMetadata)==null?void 0:Y.attributions)!=null?X:[],ne=te[0];A=ne==null?void 0:ne.title,w=ne==null?void 0:ne.subtitle,F=ne==null?void 0:ne.searchQueryUrl,M=ne==null||(J=ne.image)==null?void 0:J.url,B=A!=null&&F!=null,z=T,a[48]===Symbol.for("react.memo_cache_sentinel")?(j={className:"x78zum5 xdt5ytf x193iq5w x1r0jzty"},a[48]=j):j=a[48],N=r("MWXMessageBubble.react"),Q="left",W=_?"outgoing":"incoming",q=!1,U=!1,V=B?"bottom":void 0,H="default";var re;a[49]!==l||a[50]!==_?(re=function(t,n){switch(t.viewModel.__typename){case"MWGenAIResponseSingleLayoutViewModel":return s.jsx(r("MWGenAIResponseSingleLayoutViewModel.react"),{data:t.viewModel,outgoing:_},n);case"MWGenAIResponseHScrollLayoutViewModel":return s.jsx(r("MWGenAIResponseHScrollLayoutViewModel.react"),{data:t.viewModel,handleXmaClickLogging:l},n);default:return null}},a[49]=l,a[50]=_,a[51]=re):re=a[51],G=O.sections.map(re)}a[22]=T,a[23]=i,a[24]=g,a[25]=v,a[26]=l,a[27]=_,a[28]=N,a[29]=M,a[30]=w,a[31]=A,a[32]=F,a[33]=O,a[34]=B,a[35]=W,a[36]=q,a[37]=U,a[38]=V,a[39]=H,a[40]=G,a[41]=z,a[42]=j,a[43]=K,a[44]=Q}else N=a[28],M=a[29],w=a[30],A=a[31],F=a[32],O=a[33],B=a[34],W=a[35],q=a[36],U=a[37],V=a[38],H=a[39],G=a[40],z=a[41],j=a[42],K=a[43],Q=a[44];if(K!==Symbol.for("react.early_return_sentinel"))return K;var oe;a[52]!==N||a[53]!==W||a[54]!==q||a[55]!==U||a[56]!==V||a[57]!==H||a[58]!==G||a[59]!==Q?(oe=s.jsx(N,{align:Q,color:W,connectBottom:q,connectTop:U,flattenCorners:V,variant:H,children:G}),a[52]=N,a[53]=W,a[54]=q,a[55]=U,a[56]=V,a[57]=H,a[58]=G,a[59]=Q,a[60]=oe):oe=a[60];var ae;a[61]!==M||a[62]!==w||a[63]!==A||a[64]!==F||a[65]!==_||a[66]!==B?(ae=B&&s.jsx(r("MWXMessageBubble.react"),{align:"left",color:_?"outgoing":"incoming",connectBottom:!1,connectTop:!1,flattenCorners:"top",variant:"default",children:s.jsx(r("MWXGenAIRichResponseSearchPluginAttachment.react"),{imageUrl:M,queryUrl:F,subtitle:w,title:A})}),a[61]=M,a[62]=w,a[63]=A,a[64]=F,a[65]=_,a[66]=B,a[67]=ae):ae=a[67];var ie=(t=(n=O.searchMetadata)==null?void 0:n.sourcesUrl)!=null?t:void 0,le;a[68]!==ie?(le=s.jsx(r("MWXGenAIRichResponseSourcesMustache.react"),{sourcesUrl:ie}),a[68]=ie,a[69]=le):le=a[69];var se;return a[70]!==z||a[71]!==j||a[72]!==oe||a[73]!==ae||a[74]!==le?(se=s.jsxs("div",babelHelpers.extends({ref:z},j,{children:[oe,ae,le]})),a[70]=z,a[71]=j,a[72]=oe,a[73]=ae,a[74]=le,a[75]=se):se=a[75],se}l.default=_}),98);
__d("MWThreadLiveLocationSessionsSetterContext.react",["emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useContext,p=d({addOrUpdateSession:r("emptyFunction")});function _(){return m(p)}l.MAWThreadLiveLocationSessionsSetterContext=p,l.useThreadMAWLiveLocationSessionsSetterContext=_}),98);
__d("MWThreadLiveLocationSessionsStateContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.createContext,m=u.useContext,p=d({sessions:{}});function _(){return m(p)}l.MAWThreadLiveLocationSessionsStateContext=p,l.useThreadMAWLiveLocationSessionsStateContext=_}),98);
__d("MWXMAV2LiveLocationTemplate.react",["fbt","ix","I64","MAWChatLiveLocationDialog.entrypoint","MSGDataclassTypes.flow","MWLSThreadDisplayContext","MWPActor.react","MWPMessageAuthor.react","MWThreadKey.react","MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","formatDate","justknobx","react","react-compiler-runtime","useMWXEntryPointDialog","uuidv4"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d=c||(c=r("react")),m=1e3,p={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xehuqhz",$$css:!0},locationIcon:{height:"x10w6t97",width:"x1td3qas",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(5),n=e.eventTimestamp,a;t[0]!==n?(a=r("formatDate")(new Date(n),{future:"g:ia",older:"m/d/Y g:ia",thisYear:"M jS, g:ia",today:"g:ia",withinWeek:"D g:ia"}),t[0]=n,t[1]=a):a=t[1];var i=a,l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"headlineEmphasized5",children:s._(/*BTDS*/"Location sharing ended")})}),t[2]=l):l=t[2];var u;return t[3]!==i?(u=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXRowItem.react"),{children:d.jsxs(r("MWXColumn.react"),{spacing:8,children:[l,d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:s._(/*BTDS*/"Last update {endDate}",[s._param("endDate",i)])})})]})})}),t[3]=i,t[4]=u):u=t[4],u}function f(t){var n=o("react-compiler-runtime").c(17),a=t.isOutgoing,i=o("MWPMessageAuthor.react").useAuthorName(),l=i[0],c=o("MWThreadLiveLocationSessionsStateContext.react").useThreadMAWLiveLocationSessionsStateContext(),m=c.sessions,_=o("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext(),f=_.addOrUpdateSession,g=(e||(e=o("I64"))).to_string(o("MWThreadKey.react").useMWThreadKeyMemoizedExn()),h;n[0]===Symbol.for("react.memo_cache_sentinel")?(h=r("uuidv4")(),n[0]=h):h=n[0];var y=h,C;n[1]!==g?(C={clientSubscriptionId:y,threadKey:g},n[1]=g,n[2]=C):C=n[2];var b=r("useMWXEntryPointDialog")(r("MAWChatLiveLocationDialog.entrypoint"),C),v=b[0],S;n[3]===Symbol.for("react.memo_cache_sentinel")?(S=d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXImage.react"),{src:u("293343"),xstyle:p.locationIcon})}),n[3]=S):S=n[3];var R;n[4]===Symbol.for("react.memo_cache_sentinel")?(R=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized5",children:s._(/*BTDS*/"Live Location")})}),n[4]=R):R=n[4];var L;n[5]!==l||n[6]!==a?(L=d.jsx(r("MWXColumnItem.react"),{children:d.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[S,d.jsx(r("MWXRowItem.react"),{children:d.jsxs(r("MWXColumn.react"),{spacing:4,children:[R,d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta4",children:a?s._(/*BTDS*/"You started sharing"):s._(/*BTDS*/"{authorName} started sharing",[s._param("authorName",l)])})})]})})]})}),n[5]=l,n[6]=a,n[7]=L):L=n[7];var E;n[8]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"View location"),n[8]=E):E=n[8];var k;n[9]!==f||n[10]!==m||n[11]!==v||n[12]!==g?(k=d.jsx(r("MWXColumnItem.react"),{children:d.jsx(r("MWXButton.react"),{label:E,onPress:function(){v({addOrUpdateSession:f,clientSubscriptionId:y,sessions:m,threadKey:g})},type:"secondary"})}),n[9]=f,n[10]=m,n[11]=v,n[12]=g,n[13]=k):k=n[13];var I;return n[14]!==L||n[15]!==k?(I=d.jsxs(r("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[L,k]}),n[14]=L,n[15]=k,n[16]=I):I=n[16],I}function g(t){var n=t.mediaRenderQpl,a=t.template,i=o("MWPActor.react").useActor(),l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s=o("MWThreadLiveLocationSessionsSetterContext.react").useThreadMAWLiveLocationSessionsSetterContext(),u=s.addOrUpdateSession,c=a.location_metadata.user_id,g=a.location_metadata.encryption_key,h=Number(a.location_metadata.event_timestamp_ms),y=c!=null?(e||(e=o("I64"))).equal((e||(e=o("I64"))).of_string(c),i):!1;c!=null&&g!=null&&u(c,g,h);var C=l==="ChatTab",b=r("justknobx")._("4207"),v=Date.now()-b*m,S=a.location_metadata.session_state===o("MSGDataclassTypes.flow").XmsgXmaLiveLocationSessionState.Ended||Number(a.location_metadata.event_timestamp_ms)<v;return n!=null&&(n.addPoint("render-xma-v2-template"),n.endSuccessAfterDelay()),d.jsx(r("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:[p.templateRoot,!C&&p.cardWidth,C&&p.cardWidthChatTab],children:S?d.jsx(_,{eventTimestamp:h}):d.jsx(f,{isOutgoing:y})})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),226);
__d("MWXMAV2SenderCopyMedia.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","FBLogger","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWDownloadMediaInWorker","MWV2AttachmentLoadingPlaceholder.react","MWXImage.react","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=r("react")),c=(e||(e=o("react"))).useEffect,d={corners:{borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",borderStartEndRadius:"x1ga7v0g",borderStartStartRadius:"x15mokao",$$css:!0}},m=function(t,n){n==null||n.addPoint("fetch_preview_url_xma_start");var e=o("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(t,"preview","MAWXMAV2SenderCopyGetPreviewUrl - getSenderCopyPreviewUrl",n);if(n==null||n.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:!!e},string:{fetch_by:"maw_backend"}}),e==="")throw r("FBLogger")("messenger_web_sharing").mustfixThrow("XMA 2.0 - SenderCopyMediaSuccessComponent - url is emtpy");return e};function p(e){var t=o("react-compiler-runtime").c(11),n=e.attachment,a=e.mediaRenderQpl,i=e.width,l=i===void 0?"100%":i,s;t[0]!==n||t[1]!==a?(s=m(n,a),t[0]=n,t[1]=a,t[2]=s):s=t[2];var c=s,d,p;t[3]!==a?(d=function(){return a==null?void 0:a.endFailAfterDelay("load-image-error")},p=a==null?void 0:a.endSuccessAfterDelay(),t[3]=a,t[4]=d,t[5]=p):(d=t[4],p=t[5]);var _;return t[6]!==d||t[7]!==p||t[8]!==c||t[9]!==l?(_=u.jsx(r("MWXImage.react"),{height:"100%",objectFit:"cover",onError:d,onLoad:p,src:c,width:l}),t[6]=d,t[7]=p,t[8]=c,t[9]=l,t[10]=_):_=t[10],_}function _(e){var t=o("react-compiler-runtime").c(23),n=e.attachment,a=e.mediaRenderQpl,i=e.width,l=i===void 0?"100%":i,s=r("useAsyncReStore")(),m;t[0]!==n?(m=o("MAWAttachmentSizeUtils").getSizeFromAttachment(n),t[0]=n,t[1]=m):m=t[1];var _=m,f=_.height,g=_.width,h,y;if(t[2]!==n||t[3]!==s||t[4]!==a?(h=function(){n.hasMedia!==!0&&o("MAWDownloadMediaInWorker").maybeDownloadMediaInWorker({attachment:n,dbPromise:s,mediaRenderQpl:a,triggerUIView:"thread"})},y=[n,a,s],t[2]=n,t[3]=s,t[4]=a,t[5]=h,t[6]=y):(h=t[5],y=t[6]),c(h,y),n.hasXmaPreview===!0&&n.hasMedia===!1){var C;t[7]!==f||t[8]!==g?(C=u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:!1,connectTop:!1,descriptionForLogging:"MWXMAV2SenderCopyMedia.NoMedia",hasAppAttribution:!1,height:f,width:g,xstyle:d.corners}),t[7]=f,t[8]=g,t[9]=C):C=t[9];var b;t[10]===Symbol.for("react.memo_cache_sentinel")?(b=u.jsx(r("CometHeroHoldTrigger.react"),{description:"MWXMAV2SenderCopyMedia.NoMedia",hold:!0}),t[10]=b):b=t[10];var v;return t[11]!==C?(v=u.jsxs(u.Fragment,{children:[C,b]}),t[11]=C,t[12]=v):v=t[12],v}var S;t[13]!==n||t[14]!==a||t[15]!==l?(S=function(t){return u.jsx(r("CometPlaceholder.react"),{fallback:t("MAWXMAAttachmentItemDefaultPreview.Suspense",!0),name:"MAWXMAAttachmentItemDefaultPreview",children:u.jsx(p,{attachment:n,mediaRenderQpl:a,width:l})})},t[13]=n,t[14]=a,t[15]=l,t[16]=S):S=t[16];var R=S,L;t[17]!==f||t[18]!==g?(L=function(){return u.jsx(r("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWXMAV2SenderCopyMedia.Suspense",height:f,width:g})},t[17]=f,t[18]=g,t[19]=L):L=t[19];var E;return t[20]!==R||t[21]!==L?(E=R(L),t[20]=R,t[21]=L,t[22]=E):E=t[22],E}l.default=_}),98);
__d("MWXMAV2MemoriesTemplate.react",["fbt","ix","FBLogger","MWLSThreadDisplayContext","MWXColumn.react","MWXColumnItem.react","MWXImage.react","MWXMAV2SenderCopyMedia.react","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=r("react")),d=180,m=240,p={cardWidth:{width:"xafpxmx",$$css:!0},cardWidthChatTab:{width:"xzjbwwf",$$css:!0},footer:{bottom:"x1ey2m1c",position:"x10l6tqk",$$css:!0},headerContainer:{insetInlineStart:"x1o0tod",left:null,right:null,position:"x10l6tqk",top:"x13vifvy",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",$$css:!0}};function _(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXImage.react"),{src:u("849069")})}),e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=c.jsxs(r("MWXRow.react"),{align:"start",paddingVertical:8,spacing:8,verticalAlign:"center",xstyle:p.headerContainer,children:[t,c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:s._(/*BTDS*/"Memory")})})]}),e[1]=n):n=e[1],n}function f(e){var t=o("react-compiler-runtime").c(4),n=e.originalMessageCreationTs,a;t[0]!==n?(a=new Date(parseInt(n,10)*1e3).toLocaleDateString("default",{day:"numeric",month:"long",year:"numeric"}),t[0]=n,t[1]=a):a=t[1];var i=a,l;return t[2]!==i?(l=c.jsx(r("MWXRow.react"),{align:"start",paddingHorizontal:16,paddingVertical:16,xstyle:p.footer,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"white",type:"headlineEmphasized5",children:i})})}),t[2]=i,t[3]=l):l=t[3],l}function g(e){var t=o("react-compiler-runtime").c(18),n=e.attachmentForSenderCopyMediaDownload,a=e.mediaRenderQpl,i=e.template,l=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),s=l==="ChatTab";if(n==null)throw r("FBLogger")("messenger_web").mustfixThrow("Attachment for Sender Copy Media Download is null for MWXMAV2MemoriesTemplate");a!=null&&(a.addPoint("render-xma-v2-template"),a.endSuccessAfterDelay());var u=!s&&p.cardWidth,d=s&&p.cardWidthChatTab,m;t[0]!==u||t[1]!==d?(m=[p.templateRoot,u,d],t[0]=u,t[1]=d,t[2]=m):m=t[2];var g,h,y,C;t[3]===Symbol.for("react.memo_cache_sentinel")?(g={className:"x5yr21d x1n2onr6"},h=c.jsx("div",{className:"xq6dov1 xoverlg x1o0tod x10l6tqk x13vifvy xh8yej3"}),y=c.jsx("div",{className:"x152gpt9 x1ey2m1c xoverlg x1o0tod x10l6tqk xh8yej3"}),C=c.jsx(_,{}),t[3]=g,t[4]=h,t[5]=y,t[6]=C):(g=t[3],h=t[4],y=t[5],C=t[6]);var b;t[7]!==n||t[8]!==a?(b=c.jsx(r("MWXMAV2SenderCopyMedia.react"),{attachment:n,mediaRenderQpl:a}),t[7]=n,t[8]=a,t[9]=b):b=t[9];var v;t[10]!==i.original_message_creation_ts?(v=c.jsx(f,{originalMessageCreationTs:i.original_message_creation_ts}),t[10]=i.original_message_creation_ts,t[11]=v):v=t[11];var S;t[12]!==b||t[13]!==v?(S=c.jsx(r("MWXColumnItem.react"),{children:c.jsxs("div",babelHelpers.extends({},g,{children:[h,y,C,b,v]}))}),t[12]=b,t[13]=v,t[14]=S):S=t[14];var R;return t[15]!==S||t[16]!==m?(R=c.jsx(r("MWXColumn.react"),{xstyle:m,children:S}),t[15]=S,t[16]=m,t[17]=R):R=t[17],R}l.default=g}),226);
__d("MWXIconCamcorderIncoming",["MWXSvgIcon","SVGIcon","cr:22246","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22246")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconCamcorderMissed",["MWXSvgIcon","SVGIcon","cr:22247","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22247")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconCamcorderOutgoing",["MWXSvgIcon","SVGIcon","cr:22248","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22248")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneIncoming",["MWXSvgIcon","SVGIcon","cr:22427","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22427")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneMissed",["MWXSvgIcon","SVGIcon","cr:22429","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22429")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhoneOutgoing",["MWXSvgIcon","SVGIcon","cr:22430","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22430")),r("gkx")("23219"));l.default=e}),98);
__d("RTCFormatDurationInSecs",["fbt","DateConsts"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e){return e>=o("DateConsts").SEC_PER_DAY?u(e):e>=o("DateConsts").SEC_PER_HOUR?c(e):e>=o("DateConsts").SEC_PER_MIN?d(e):m(e)}function u(e){var t=Math.floor(e/o("DateConsts").SEC_PER_DAY),n=Math.floor((e-t*o("DateConsts").SEC_PER_DAY)/o("DateConsts").SEC_PER_HOUR);return n>0?s._(/*BTDS*/"_j{\"*\":{\"*\":\"{days} days {hours} hrs\",\"_1\":\"{days} days 1 hr\"},\"_1\":{\"*\":\"1 day {hours} hrs\",\"_1\":\"1 day 1 hr\"}}",[s._plural(t,"days"),s._plural(n,"hours")]):s._(/*BTDS*/"_j{\"*\":\"{days} days\",\"_1\":\"1 day\"}",[s._plural(t,"days")])}function c(e){var t=Math.floor(e/o("DateConsts").SEC_PER_HOUR),n=Math.floor((e-t*o("DateConsts").SEC_PER_HOUR)/o("DateConsts").SEC_PER_MIN);return n>0?s._(/*BTDS*/"_j{\"*\":{\"*\":\"{hours} hrs {minutes} mins\",\"_1\":\"{hours} hrs 1 min\"},\"_1\":{\"*\":\"1 hr {minutes} mins\",\"_1\":\"1 hr 1 min\"}}",[s._plural(t,"hours"),s._plural(n,"minutes")]):s._(/*BTDS*/"_j{\"*\":\"{hours} hrs\",\"_1\":\"1 hr\"}",[s._plural(t,"hours")])}function d(e){var t=Math.round(e/o("DateConsts").SEC_PER_MIN);return t===o("DateConsts").MIN_PER_HOUR?c(t*o("DateConsts").SEC_PER_MIN):s._(/*BTDS*/"_j{\"*\":\"{minutes} mins\",\"_1\":\"1 min\"}",[s._plural(t,"minutes")])}function m(e){return s._(/*BTDS*/"_j{\"*\":\"{seconds} secs\",\"_1\":\"1 sec\"}",[s._plural(e,"seconds")])}l.formatDurationInSecs=e}),226);
__d("MWXMAV2RTCCallTemplateUtils",["fbt","MSGDataclassTypes.flow","MWXIconCamcorderIncoming","MWXIconCamcorderMissed","MWXIconCamcorderOutgoing","MWXIconPhoneIncoming","MWXIconPhoneMissed","MWXIconPhoneOutgoing","RTCFormatDurationInSecs","formatDate"],(function(t,n,r,o,a,i,l,s){"use strict";var e={future:"g:ia",older:"g:ia",thisYear:"g:ia",today:"g:ia",withinWeek:"g:ia"};function u(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?r("MWXIconCamcorderMissed"):r("MWXIconPhoneMissed")}function c(e,t){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?r(t?"MWXIconCamcorderOutgoing":"MWXIconCamcorderIncoming"):r(t?"MWXIconPhoneOutgoing":"MWXIconPhoneIncoming")}function d(t){var n=r("formatDate")(new Date(t),e);return s._(/*BTDS*/"{time}",[s._param("time",n)])}function m(e){var t=o("RTCFormatDurationInSecs").formatDurationInSecs(e);return s._(/*BTDS*/"{duration}",[s._param("duration",t)])}function p(e,t){return t===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Missed?_(e):f(e)}function _(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?s._(/*BTDS*/"Missed video call"):s._(/*BTDS*/"Missed audio call")}function f(e){return e===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Video?s._(/*BTDS*/"Video call"):s._(/*BTDS*/"Audio call")}function g(e){return e?s._(/*BTDS*/"Call again"):s._(/*BTDS*/"Call back")}l.getIconForMissedCallXMA=u,l.getIconForEndedCallXMA=c,l.getSubtitleForMissedCallXMA=d,l.getSubtitleForEndedCallXMA=m,l.getTitleForXMA=p,l.getCTALabelForCallXMA=g}),226);
__d("MWXMAV2RTCCallTemplate.react",["FDSSkittleIcon.react","I64","MSGDataclassTypes.flow","MWLSThread","MWPActor.react","MWStartRTCCallUtils","MWThreadKey.react","MWXButton.react","MWXColumn.react","MWXColumnItem.react","MWXMAV2RTCCallTemplateUtils","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","requireDeferred","useMWReQLStartGroupCall"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useCallback,m=r("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWXMAV2RTCCallTemplate.react"),p={cardWidth:{width:"x1oysuqx",$$css:!0},templateRoot:{backgroundColor:"x1xr0vuk",height:"x5yr21d",$$css:!0}},_=36;function f(e){var t=o("react-compiler-runtime").c(23),n=e.callType,a=e.ctaLabel,i=e.handleXmaClickLogging,l=e.icon,s=e.iconColor,u=e.subtitle,d=e.title,m=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),p;t[0]!==m?(p=function(t){var e=t.capabilities,n=t.capabilities2,r=t.capabilities3,o=t.capabilities4,a=t.capabilities5,i=t.folderName,l=t.ongoingCallState,s=t.parentThreadKey,u=t.threadType;return{capabilities:e,capabilities2:n,capabilities3:r,capabilities4:o,capabilities5:a,folderName:i,ongoingCallState:l,parentThreadKey:s,threadKey:m,threadType:u}},t[0]=m,t[1]=p):p=t[1];var f=o("MWLSThread").useThreadExn(m,p),h=g,y=r("useMWReQLStartGroupCall")(f,h,n===o("MSGDataclassTypes.flow").XmsgXmaRtcCallType.Audio?"audio":"video","xma_cta_click"),C=o("MWStartRTCCallUtils").useCanCall(f),b=C[0],v=C[1],S=b!==o("MWStartRTCCallUtils").CanCallResult.SECURE_VOICE_UNSUPPORTED||v!==o("MWStartRTCCallUtils").CanCallResult.SECURE_VIDEO_UNSUPPORTED,R;t[2]!==l||t[3]!==s?(R=c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("FDSSkittleIcon.react"),{color:s,disabled:!1,icon:l,shape:"circle",size:_})}),t[2]=l,t[3]=s,t[4]=R):R=t[4];var L;t[5]!==d?(L=c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{color:"primary",type:"headlineEmphasized5",children:d})}),t[5]=d,t[6]=L):L=t[6];var E;t[7]!==u?(E=c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body4",children:u})}),t[7]=u,t[8]=E):E=t[8];var k;t[9]!==L||t[10]!==E?(k=c.jsx(r("MWXRowItem.react"),{expanding:!0,children:c.jsxs(r("MWXColumn.react"),{spacing:8,children:[L,E]})}),t[9]=L,t[10]=E,t[11]=k):k=t[11];var I;t[12]!==R||t[13]!==k?(I=c.jsx(r("MWXColumnItem.react"),{children:c.jsxs(r("MWXRow.react"),{align:"start",paddingHorizontal:0,paddingVertical:0,spacing:8,verticalAlign:"center",children:[R,k]})}),t[12]=R,t[13]=k,t[14]=I):I=t[14];var T;t[15]!==S||t[16]!==a||t[17]!==i||t[18]!==y?(T=S?c.jsx(r("MWXColumnItem.react"),{children:c.jsx(r("MWXButton.react"),{label:a,onPress:function(){y(),i()},type:"secondary"})}):null,t[15]=S,t[16]=a,t[17]=i,t[18]=y,t[19]=T):T=t[19];var D;return t[20]!==I||t[21]!==T?(D=c.jsxs(r("MWXColumn.react"),{paddingHorizontal:0,paddingVertical:0,spacing:8,children:[I,T]}),t[20]=I,t[21]=T,t[22]=D):D=t[22],D}function g(){m.onReady(h)}function h(e){return e.logClick({component:"call_xma_cta",surface:"message_list"})}function y(e){var t=o("react-compiler-runtime").c(17),n=e.callState,r=e.callType,a=e.eventTimestamp,i=e.handleXmaClickLogging,l=e.isOutgoingCall,s;t[0]!==a?(s=o("MWXMAV2RTCCallTemplateUtils").getSubtitleForMissedCallXMA(a),t[0]=a,t[1]=s):s=t[1];var u=s,d;t[2]!==r?(d=o("MWXMAV2RTCCallTemplateUtils").getIconForMissedCallXMA(r),t[2]=r,t[3]=d):d=t[3];var m=d,p;t[4]!==l?(p=o("MWXMAV2RTCCallTemplateUtils").getCTALabelForCallXMA(l),t[4]=l,t[5]=p):p=t[5];var _=m.component,g=l?"gray":"cherry",h;t[6]!==n||t[7]!==r?(h=o("MWXMAV2RTCCallTemplateUtils").getTitleForXMA(r,n),t[6]=n,t[7]=r,t[8]=h):h=t[8];var y;return t[9]!==r||t[10]!==i||t[11]!==m.component||t[12]!==u||t[13]!==p||t[14]!==g||t[15]!==h?(y=c.jsx(f,{callType:r,ctaLabel:p,handleXmaClickLogging:i,icon:_,iconColor:g,subtitle:u,title:h}),t[9]=r,t[10]=i,t[11]=m.component,t[12]=u,t[13]=p,t[14]=g,t[15]=h,t[16]=y):y=t[16],y}function C(e){var t=o("react-compiler-runtime").c(17),n=e.callDuration,r=e.callState,a=e.callType,i=e.handleXmaClickLogging,l=e.isOutgoingCall,s;t[0]!==n?(s=o("MWXMAV2RTCCallTemplateUtils").getSubtitleForEndedCallXMA(n),t[0]=n,t[1]=s):s=t[1];var u=s,d;t[2]!==a||t[3]!==l?(d=o("MWXMAV2RTCCallTemplateUtils").getIconForEndedCallXMA(a,l),t[2]=a,t[3]=l,t[4]=d):d=t[4];var m=d,p;t[5]!==l?(p=o("MWXMAV2RTCCallTemplateUtils").getCTALabelForCallXMA(l),t[5]=l,t[6]=p):p=t[6];var _=m.component,g;t[7]!==r||t[8]!==a?(g=o("MWXMAV2RTCCallTemplateUtils").getTitleForXMA(a,r),t[7]=r,t[8]=a,t[9]=g):g=t[9];var h;return t[10]!==a||t[11]!==i||t[12]!==m.component||t[13]!==u||t[14]!==p||t[15]!==g?(h=c.jsx(f,{callType:a,ctaLabel:p,handleXmaClickLogging:i,icon:_,iconColor:"gray",subtitle:u,title:g}),t[10]=a,t[11]=i,t[12]=m.component,t[13]=u,t[14]=p,t[15]=g,t[16]=h):h=t[16],h}function b(e){var t=o("react-compiler-runtime").c(12),n=e.handleXmaClickLogging,a=e.mediaRenderQpl,i=e.template;a!=null&&(a.addPoint("render-xma-v2-template-rtc-xma"),a.endSuccessAfterDelay());var l=i.call_state===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Ended,u=i.call_state===o("MSGDataclassTypes.flow").XmsgXmaRtcCallState.Missed,d=i.event_actor_id===(s||(s=o("I64"))).to_string(o("MWPActor.react").useActor()),m;if(t[0]!==n||t[1]!==l||t[2]!==u||t[3]!==d||t[4]!==i.call_duration_sec||t[5]!==i.call_state||t[6]!==i.call_type||t[7]!==i.event_time_ms){var _;m=l?c.jsx(C,{callDuration:(_=i.call_duration_sec)!=null?_:0,callState:i.call_state,callType:i.call_type,handleXmaClickLogging:n,isOutgoingCall:d}):u?c.jsx(y,{callState:i.call_state,callType:i.call_type,eventTimestamp:Number(i.event_time_ms),handleXmaClickLogging:n,isOutgoingCall:d}):null,t[0]=n,t[1]=l,t[2]=u,t[3]=d,t[4]=i.call_duration_sec,t[5]=i.call_state,t[6]=i.call_type,t[7]=i.event_time_ms,t[8]=m}else m=t[8];var f=m,g;t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[p.templateRoot,p.cardWidth],t[9]=g):g=t[9];var h;return t[10]!==f?(h=c.jsx(r("MWXColumn.react"),{paddingHorizontal:12,paddingVertical:12,xstyle:g,children:f}),t[10]=f,t[11]=h):h=t[11],h}l.default=b}),98);
__d("MWSparkIcebreakerEmojiDisplay.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={container:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",minHeight:"x1wxaq2x",minWidth:"x900493",width:"x1useyqa",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(8),a=t.emoji,i=t.xstyle,l;n[0]!==i?(l=(e||(e=r("stylex"))).props(c.container,i),n[0]=i,n[1]=l):l=n[1];var s;n[2]===Symbol.for("react.memo_cache_sentinel")?(s={className:"x1rg5ohu x1q74xe4 x87ps6o"},n[2]=s):s=n[2];var d;n[3]!==a?(d=u.jsx("span",babelHelpers.extends({},s,{children:a})),n[3]=a,n[4]=d):d=n[4];var m;return n[5]!==l||n[6]!==d?(m=u.jsx("div",babelHelpers.extends({},l,{children:d})),n[5]=l,n[6]=d,n[7]=m):m=n[7],m}l.default=d}),98);
__d("MWXMAV2SparkIcebreakerTemplate.react",["fbt","MWPMessageAuthor.react","MWSparkIcebreakerEmojiDisplay.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useEffect;function d(e){var t=o("react-compiler-runtime").c(23),n=e.mediaRenderQpl,a=e.outgoing,i=e.template,l=a===void 0?!1:a,d,m;t[0]!==n?(d=function(){n==null||n.addPoint("render-spark-icebreaker-template")},m=[n],t[0]=n,t[1]=d,t[2]=m):(d=t[1],m=t[2]),c(d,m);var p=o("MWPMessageAuthor.react").useAuthorName(),_=p[0],f=i.question,g=i.emoji_answer,h=i.recipient_prompt_text,y;t[3]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x1cy8zhl x1xr0vuk xfex06f x78zum5 xerhiuh x1pn3fxy x10zy8in xm9bcq3"},t[3]=y):y=t[3];var C;t[4]!==g?(C=g!=null&&g!==""&&u.jsx(r("MWSparkIcebreakerEmojiDisplay.react"),{emoji:g}),t[4]=g,t[5]=C):C=t[5];var b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x78zum5 xdt5ytf x3pnbk8"},t[6]=b):b=t[6];var v;t[7]!==f?(v=f!=null&&f!==""&&u.jsx("div",{className:"x1k70j0n",children:u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:u.jsx("strong",{children:f})})}),t[7]=f,t[8]=v):v=t[8];var S;t[9]!==_||t[10]!==g||t[11]!==l?(S=g!=null&&g!==""&&u.jsxs("div",{className:"x6s0dn4 xfex06f x78zum5",children:[u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:l?s._(/*BTDS*/"You answered"):s._(/*BTDS*/"{authorName} answered",[s._param("authorName",_)])}),u.jsx("span",{children:g})]}),t[9]=_,t[10]=g,t[11]=l,t[12]=S):S=t[12];var R;t[13]!==l||t[14]!==h?(R=!l&&h!=null&&h!==""&&u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!1,type:"body3",children:h}),t[13]=l,t[14]=h,t[15]=R):R=t[15];var L;t[16]!==v||t[17]!==S||t[18]!==R?(L=u.jsxs("div",babelHelpers.extends({},b,{children:[v,S,R]})),t[16]=v,t[17]=S,t[18]=R,t[19]=L):L=t[19];var E;return t[20]!==L||t[21]!==C?(E=u.jsxs("div",babelHelpers.extends({},y,{children:[C,L]})),t[20]=L,t[21]=C,t[22]=E):E=t[22],E}l.default=d}),226);
__d("MWXMAV2AttachmentTemplateWrapper.react",["FBLogger","MAWXMAV2GatedTemplateError","MWXMAV2AiSparkTemplate.react","MWXMAV2AttachmentBloksTemplate.react","MWXMAV2AttachmentCompactGenericTemplate.react","MWXMAV2AttachmentGenAIRichResponseTemplateV2.react","MWXMAV2AttachmentStandardGenericTemplate.react","MWXMAV2LiveLocationTemplate.react","MWXMAV2MemoriesTemplate.react","MWXMAV2RTCCallTemplate.react","MWXMAV2SparkIcebreakerTemplate.react","qex","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useEffect;function c(e){var t=o("react-compiler-runtime").c(40),n=e.attachmentForSenderCopyMediaDownload,a=e.content,i=e.handleXmaClickLogging,l=e.mediaRenderQpl,c=e.outgoing,d=c===void 0?!1:c,m,p;t[0]!==l?(m=function(){l==null||l.addPoint("render-xma-v2-template")},p=[l],t[0]=l,t[1]=m,t[2]=p):(m=t[1],p=t[2]),u(m,p);var _=a.custom_template_data;if(_==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null custom_template_data for XMA 2.0");var f=null;e:switch(_.__typename){case"XMSGXmaStandardGenericTemplateData":{var g;t[3]!==a.default_cta||t[4]!==_||t[5]!==i||t[6]!==l?(g=s.jsx(r("MWXMAV2AttachmentStandardGenericTemplate.react"),{defaultCta:a.default_cta,handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[3]=a.default_cta,t[4]=_,t[5]=i,t[6]=l,t[7]=g):g=t[7],f=g;break e}case"XMSGXmaCompactGenericTemplateData":{var h;if((h=r("qex")._("1590"))!=null&&h){var y;t[8]!==a||t[9]!==_||t[10]!==i||t[11]!==l?(y=s.jsx(r("MWXMAV2AttachmentCompactGenericTemplate.react"),{content:a,handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[8]=a,t[9]=_,t[10]=i,t[11]=l,t[12]=y):y=t[12],f=y}else throw new(o("MAWXMAV2GatedTemplateError")).MAWXMAV2GatedTemplateError(_.__typename);break e}case"XMSGXmaBloksTemplateData":{var C;t[13]!==_||t[14]!==l?(C=s.jsx(r("MWXMAV2AttachmentBloksTemplate.react"),{mediaRenderQpl:l,template:_}),t[13]=_,t[14]=l,t[15]=C):C=t[15],f=C;break e}case"XMSGXmaLocationTemplateData":{var b;t[16]!==_||t[17]!==l?(b=s.jsx(r("MWXMAV2LiveLocationTemplate.react"),{mediaRenderQpl:l,template:_}),t[16]=_,t[17]=l,t[18]=b):b=t[18],f=b;break e}case"XMSGXmaGenAiRichResponseTemplateData":{var v;t[19]!==a||t[20]!==i||t[21]!==l||t[22]!==d?(v=s.jsx(r("MWXMAV2AttachmentGenAIRichResponseTemplateV2.react"),{content:a,handleXmaClickLogging:i,mediaRenderQpl:l,outgoing:d}),t[19]=a,t[20]=i,t[21]=l,t[22]=d,t[23]=v):v=t[23],f=v;break e}case"XMSGXmaMemoriesTemplateData":{var S;t[24]!==n||t[25]!==_||t[26]!==l?(S=s.jsx(r("MWXMAV2MemoriesTemplate.react"),{attachmentForSenderCopyMediaDownload:n,mediaRenderQpl:l,template:_}),t[24]=n,t[25]=_,t[26]=l,t[27]=S):S=t[27],f=S;break e}case"XMSGXmaCallingTemplateData":{var R;t[28]!==_||t[29]!==i||t[30]!==l?(R=s.jsx(r("MWXMAV2RTCCallTemplate.react"),{handleXmaClickLogging:i,mediaRenderQpl:l,template:_}),t[28]=_,t[29]=i,t[30]=l,t[31]=R):R=t[31],f=R;break e}case"XMSGXmaSparkIcebreakerTemplateData":{var L;t[32]!==_||t[33]!==l||t[34]!==d?(L=s.jsx(r("MWXMAV2SparkIcebreakerTemplate.react"),{mediaRenderQpl:l,outgoing:d,template:_}),t[32]=_,t[33]=l,t[34]=d,t[35]=L):L=t[35],f=L;break e}case"XMSGXmaAiSparkTemplateData":{var E;t[36]!==_||t[37]!==l||t[38]!==d?(E=s.jsx(r("MWXMAV2AiSparkTemplate.react"),{mediaRenderQpl:l,outgoing:d,template:_}),t[36]=_,t[37]=l,t[38]=d,t[39]=E):E=t[39],f=E}}if(f==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unsupported XMA 2.0 template type %s",_.__typename);return f}l.default=c}),98);
__d("MWXMAV2EmphasisRing.react",["MWChatBubbleEmphasisRing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(14),n=e.children,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,u=e.hasEmphasisRing,c=e.message,d=e.outgoing,m;t[0]!==i||t[1]!==l?(m=!l&&i?s.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}):null,t[0]=i,t[1]=l,t[2]=m):m=t[2];var p;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==u||t[8]!==c||t[9]!==d?(p=u===!0?s.jsx("div",{className:"x1rg5ohu",children:s.jsx(r("MWChatBubbleEmphasisRing.react"),{connectBottom:a,connectTop:i,flattenTop:l,message:c,outgoing:d,precedesXMA:!1,children:n})}):n,t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=p):p=t[10];var _;return t[11]!==m||t[12]!==p?(_=s.jsxs(s.Fragment,{children:[m,p]}),t[11]=m,t[12]=p,t[13]=_):_=t[13],_}l.default=u}),98);
__d("MWXMAV2HscrollLayoutUtils",[],(function(t,n,r,o,a,i){"use strict";function e(e){for(var t of e){var n;if(((n=t.custom_template_data)==null?void 0:n.__typename)==="XMSGXmaBloksTemplateData")return!0}return!1}i.isDisableMaxHeightForXMAV2HscrollLayout=e}),66);
__d("MWXMAV2ReceiverFetchPlaceholder.react",["CometHeroHoldTrigger.react","ConstUriUtils","FBLogger","MWPMessageListAttachmentContainer.react","MWV2ChatBubbleContainer.react","MWXLink.react","MWXMessageBubble.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime","useHandleXmaEventsLogging","useIssueXMAReceiverFetchTask"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={unsetWidth:{width:"x4pn7vq",$$css:!0}};function c(e){var t,n,a=o("react-compiler-runtime").c(28),i=e.props,l;a[0]!==i.attachment||a[1]!==i.message||a[2]!==i.threadType?(l={attachment:i.attachment,message:i.message,threadType:i.threadType},a[0]=i.attachment,a[1]=i.message,a[2]=i.threadType,a[3]=l):l=a[3];var u=r("useHandleXmaEventsLogging")(l),c=i.connectBottom,d=i.connectTop,m=i.message,p=i.outgoing,_=i.receiverFetchParams,f=_==null?void 0:_.actionUrl,g;a[4]!==m||a[5]!==f?(g=babelHelpers.extends({},m,{text:f}),a[4]=m,a[5]=f,a[6]=g):g=a[6];var h=g,y=p?"white":"primary",C;a[7]!==p?(C={0:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a x18lvrbx"},1:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a xyk4ms5"}}[!!p<<0],a[7]=p,a[8]=C):C=a[8];var b=(t=i.attachment)==null?void 0:t.actionUrl,v;a[9]!==u?(v=function(){return u()},a[9]=u,a[10]=v):v=a[10];var S;a[11]===Symbol.for("react.memo_cache_sentinel")?(S={textDecoration:"underline"},a[11]=S):S=a[11];var R=(n=i.attachment)==null?void 0:n.actionUrl,L;a[12]!==b||a[13]!==v||a[14]!==R?(L=s.jsx(r("MWXLink.react"),{encryptedLink:!0,href:b,onClick:v,style:S,children:R}),a[12]=b,a[13]=v,a[14]=R,a[15]=L):L=a[15];var E;a[16]!==L||a[17]!==C?(E=s.jsx("div",babelHelpers.extends({},C,{children:L})),a[16]=L,a[17]=C,a[18]=E):E=a[18];var k;a[19]!==E||a[20]!==y?(k=s.jsx(r("MWXText.react"),{color:y,type:"bodyLink3",children:E}),a[19]=E,a[20]=y,a[21]=k):k=a[21];var I;return a[22]!==c||a[23]!==d||a[24]!==p||a[25]!==k||a[26]!==h?(I=s.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:c,connectTop:d,hasEmphasisRing:!1,message:h,outgoing:p,precedesXMA:!1,children:k}),a[22]=c,a[23]=d,a[24]=p,a[25]=k,a[26]=h,a[27]=I):I=a[27],I}function d(e){var t=o("react-compiler-runtime").c(19),n=e.props,a=n.attachment,i=n.connectBottom,l=n.connectTop,c=n.hasText,d=n.mediaRenderQpl,m=n.message,p=n.outgoing;d==null||d.addPoint("fetch_xma_data_receiver_fetch");var _;if(t[0]!==(a==null?void 0:a.actionUrl)){var f=(a==null?void 0:a.actionUrl)!=null?o("ConstUriUtils").getUri(a==null?void 0:a.actionUrl):null;_=f==null?void 0:f.getRegisteredDomain(),t[0]=a==null?void 0:a.actionUrl,t[1]=_}else _=t[1];var g=_,h=p?"right":"left",y,C;t[2]===Symbol.for("react.memo_cache_sentinel")?(y={className:"xfex06f xzt5al7 x78zum5"},C=s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:12}),t[2]=y,t[3]=C):(y=t[2],C=t[3]);var b;t[4]===Symbol.for("react.memo_cache_sentinel")?(b={className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a"},t[4]=b):b=t[4];var v;t[5]!==g?(v=s.jsxs("div",babelHelpers.extends({},y,{children:[C,s.jsx(r("MWXText.react"),{color:"secondary",type:"body3",children:s.jsx("div",babelHelpers.extends({},b,{children:g}))})]})),t[5]=g,t[6]=v):v=t[6];var S;t[7]===Symbol.for("react.memo_cache_sentinel")?(S=s.jsx(r("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),t[7]=S):S=t[7];var R;t[8]!==i||t[9]!==l||t[10]!==h||t[11]!==v?(R=s.jsxs(r("MWXMessageBubble.react"),{align:h,color:"incoming",connectBottom:i,connectTop:l,children:[v,S]}),t[8]=i,t[9]=l,t[10]=h,t[11]=v,t[12]=R):R=t[12];var L;return t[13]!==l||t[14]!==c||t[15]!==m||t[16]!==p||t[17]!==R?(L=s.jsx(r("MWPMessageListAttachmentContainer.react"),{connectTop:l,hasTopMargin:c,message:m,outgoing:p,xstyle:u.unsetWidth,children:R}),t[13]=l,t[14]=c,t[15]=m,t[16]=p,t[17]=R,t[18]=L):L=t[18],L}function m(e){var t=o("react-compiler-runtime").c(4),n=e.props,a=n.attachment,i=n.isFbXmaAndDisabled,l=n.isRfXmaDeleted,u=n.isXmaReceiverFetchFallback,m=n.mediaRenderQpl,p=n.message,_=n.receiverFetchParams;if(r("useIssueXMAReceiverFetchTask")(p.messageId,a,p.threadKey,_==null?void 0:_.xmaReceiverFetchParams,_==null?void 0:_.xmaContentType,m),i||u||l){m==null||m.addPoint("render_rf_xma_fallback"),i||l?m==null||m.endSuccessAfterDelay():u&&(m==null||m.endFailAfterDelay("fetch_xma_data_receiver_fetch_failed"));var f;return t[0]!==n?(f=s.jsx(c,{props:n}),t[0]=n,t[1]=f):f=t[1],f}var g;return t[2]!==n?(g=s.jsx(d,{props:n}),t[2]=n,t[3]=g):g=t[3],g}function p(e){var t=o("react-compiler-runtime").c(4),n=e.message,a=e.receiverFetchParams;if(n==null){var i;throw(i=e.mediaRenderQpl)==null||i.endFailAfterDelay("missing_message"),r("FBLogger")("messenger_web_sharing").mustfixThrow("Missing message in placeholder")}var l;return t[0]!==n||t[1]!==e||t[2]!==a?(l=s.jsx(m,{props:babelHelpers.extends({},e,{message:n,receiverFetchParams:a})}),t[0]=n,t[1]=e,t[2]=a,t[3]=l):l=t[3],l}l.default=p}),98);
__d("MWXMAV2AttachmentContainerComponent.react",["CometErrorBoundary.react","FBLogger","LSIntEnum","LSXmaContentType","MAWIsFBXMA","MAWSecurePlaceholder.react","MWUnsupportedXMA.react","MWXMAV2AttachmentLayoutWrapper.react","MWXMAV2AttachmentTemplateWrapper.react","MWXMAV2EmphasisRing.react","MWXMAV2HscrollLayoutUtils","MWXMAV2ReceiverFetchPlaceholder.react","react","react-compiler-runtime","useHandleXmaEventsLogging"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=r("react")),d=(e||(e=o("react"))).useEffect;function m(e){var t=o("react-compiler-runtime").c(18),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.currentUserID,s=e.flattenTop,u=e.hasEmphasisRing,d=e.mediaRenderQpl,m=e.message,_=e.outgoing,f;t[0]!==(n==null?void 0:n.xmaContentType)||t[1]!==l||t[2]!==d||t[3]!==m?(f=function(){return l!=null&&m!=null?c.jsx(r("MAWSecurePlaceholder.react"),{actorId:l,message:m,xmaContentType:n==null?void 0:n.xmaContentType}):c.jsx(r("MWUnsupportedXMA.react"),{mediaRenderQpl:d,nextMessage:null,prevMessage:null})},t[0]=n==null?void 0:n.xmaContentType,t[1]=l,t[2]=d,t[3]=m,t[4]=f):f=t[4];var g;t[5]!==e?(g=c.jsx(p,babelHelpers.extends({},e)),t[5]=e,t[6]=g):g=t[6];var h;t[7]!==f||t[8]!==g?(h=c.jsx(r("CometErrorBoundary.react"),{fallback:f,children:g}),t[7]=f,t[8]=g,t[9]=h):h=t[9];var y;return t[10]!==a||t[11]!==i||t[12]!==s||t[13]!==u||t[14]!==m||t[15]!==_||t[16]!==h?(y=c.jsx(r("MWXMAV2EmphasisRing.react"),{connectBottom:a,connectTop:i,flattenTop:s,hasEmphasisRing:u,message:m,outgoing:_,children:h}),t[10]=a,t[11]=i,t[12]=s,t[13]=u,t[14]=m,t[15]=_,t[16]=h,t[17]=y):y=t[17],y}function p(e){var t=o("react-compiler-runtime").c(57),n=e.attachment,a=e.connectBottom,i=e.connectTop,l=e.flattenTop,u=e.hasText,m=e.mediaRenderQpl,p=e.message,_=e.outgoing,f=e.receiverFetchParams,g=e.threadType,h=e.xmaDataclass,y=e.xmaEventImpressionLoggingRef,C,b;t[0]!==n||t[1]!==m?(C=function(){m==null||m.addAttachmentAnnotations==null||m.addAttachmentAnnotations(n)},b=[n,m],t[0]=n,t[1]=m,t[2]=C,t[3]=b):(C=t[2],b=t[3]),d(C,b);var v;t[4]!==n||t[5]!==p||t[6]!==g?(v={attachment:n,message:p,threadType:g},t[4]=n,t[5]=p,t[6]=g,t[7]=v):v=t[7];var S=r("useHandleXmaEventsLogging")(v),R;t[8]!==f?(R=(f==null?void 0:f.xmaContentType)!=null&&(s||(s=o("LSIntEnum"))).toNumber(f.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED,t[8]=f,t[9]=R):R=t[9];var L=R,E=(f==null?void 0:f.isReceiverFetchXma)===!0&&h==null,k;t[10]!==f?(k=(f==null?void 0:f.xmaContentType)!=null&&(s||(s=o("LSIntEnum"))).toNumber(f.xmaContentType)===r("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK,t[10]=f,t[11]=k):k=t[11];var I=k,T;t[12]!==(f==null?void 0:f.xmaContentType)||t[13]!==(f==null?void 0:f.xmaPreviewsDisabled)?(T=(f==null?void 0:f.xmaPreviewsDisabled)===!0&&o("MAWIsFBXMA").isFBXMA(f==null?void 0:f.xmaContentType),t[12]=f==null?void 0:f.xmaContentType,t[13]=f==null?void 0:f.xmaPreviewsDisabled,t[14]=T):T=t[14];var D=T;if(E||D||I||L){var x=u!=null?u:!1,$;return t[15]!==n||t[16]!==a||t[17]!==i||t[18]!==D||t[19]!==L||t[20]!==I||t[21]!==m||t[22]!==p||t[23]!==_||t[24]!==f||t[25]!==x||t[26]!==g?($=c.jsx(r("MWXMAV2ReceiverFetchPlaceholder.react"),{attachment:n,connectBottom:a,connectTop:i,hasText:x,isFbXmaAndDisabled:D,isRfXmaDeleted:L,isXmaReceiverFetchFallback:I,mediaRenderQpl:m,message:p,outgoing:_,receiverFetchParams:f,threadType:g}),t[15]=n,t[16]=a,t[17]=i,t[18]=D,t[19]=L,t[20]=I,t[21]=m,t[22]=p,t[23]=_,t[24]=f,t[25]=x,t[26]=g,t[27]=$):$=t[27],$}if(h==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null xmaDataclass for XMA 2.0");var P=h.layout_type;if(P==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null layout_type for XMA 2.0");var N=h.content;if(N==null)throw r("FBLogger")("messenger_web_sharing").mustfixThrow("Unexpected null content for XMA 2.0");if((N==null?void 0:N.__typename)==="XMSGXmaBloksContent")throw r("FBLogger")("messenger_web").mustfixThrow("XMSGXmaBloksContent is unsupported, Bloks XMAs should be using XMA 2.0");var M;t[28]!==N?(M=(N==null?void 0:N.__typename)==="XMSGXmaSingleContent"?[N]:N.list,t[28]=N,t[29]=M):M=t[29];var w=M,A;t[30]!==w?(A=o("MWXMAV2HscrollLayoutUtils").isDisableMaxHeightForXMAV2HscrollLayout(w),t[30]=w,t[31]=A):A=t[31];var F=A,O=h.layout_extension,B;t[32]===Symbol.for("react.memo_cache_sentinel")?(B={className:"x1eb86dx x78zum5 x193iq5w"},t[32]=B):B=t[32];var W;if(t[33]!==n||t[34]!==S||t[35]!==m||t[36]!==_||t[37]!==w){var q;t[39]!==n||t[40]!==S||t[41]!==m||t[42]!==_?(q=function(t,o){return c.jsx(r("MWXMAV2AttachmentTemplateWrapper.react"),{attachmentForSenderCopyMediaDownload:n,content:t,handleXmaClickLogging:S,mediaRenderQpl:m,outgoing:_},o)},t[39]=n,t[40]=S,t[41]=m,t[42]=_,t[43]=q):q=t[43],W=w.map(q),t[33]=n,t[34]=S,t[35]=m,t[36]=_,t[37]=w,t[38]=W}else W=t[38];var U;t[44]!==a||t[45]!==i||t[46]!==F||t[47]!==l||t[48]!==O||t[49]!==P||t[50]!==m||t[51]!==_||t[52]!==W?(U=c.jsx(r("MWXMAV2AttachmentLayoutWrapper.react"),{connectBottom:a,connectTop:i,disableMaxHeightForHscrollLayout:F,flattenTop:l,layoutExtension:O,layoutType:P,mediaRenderQpl:m,outgoing:_,children:W}),t[44]=a,t[45]=i,t[46]=F,t[47]=l,t[48]=O,t[49]=P,t[50]=m,t[51]=_,t[52]=W,t[53]=U):U=t[53];var V;return t[54]!==U||t[55]!==y?(V=c.jsx("div",babelHelpers.extends({},B,{ref:y,children:U})),t[54]=U,t[55]=y,t[56]=V):V=t[56],V}l.default=m}),98);
__d("MWXMAV2AttachmentContainer.react",["MWXMAV2AttachmentContainerComponent.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MWXMAV2AttachmentContainerComponent.react")}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","LSXmaContentType","MWLSThread","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MessengerWebUXLoggerXMAEventLoggingImpl","MetaConfig","justknobx","react","react-compiler-runtime","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){var t,n,a,i=o("react-compiler-runtime").c(46),l=e.attachments,d=e.connectBottom,p=e.connectTop,_=e.hasMessageEmphasisRing,f=e.hasText,g=e.isSearchPluginAttachment,h=e.isSecureMessage,y=e.mediaRenderQpl,C=e.message,b=e.navigateToRouteForMediaViewer,v=e.nextMessage,S=e.outgoing,R=e.prevMessage,L=e.renderAttachment,E=o("MWPActor.react").useActor(),k=r("useXMAV2Provider")(l),I=r("useXMAPreviewsDisabledSetting")();y==null||y.addAnnotations({bool:{renders_with_xma_v2:k!=null}});var T=o("MWLSThread").useThread(C.threadKey,m),D;i[0]!==l[0]||i[1]!==C||i[2]!==T?(D={attachment:l[0],clickCategory:1,message:C,threadType:T},i[0]=l[0],i[1]=C,i[2]=T,i[3]=D):D=i[3];var x=o("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(D);if(g)return y==null||y.endSuccessAfterDelay(),null;var $;i[4]!==C.displayedContentTypes?($=(s||(s=o("I64"))).equal(C.displayedContentTypes,(u||(u=o("LSIntEnum"))).ofNumber(536870912)),i[4]=C.displayedContentTypes,i[5]=$):$=i[5];var P=$,N=(t=l[0])==null?void 0:t.actionUrl,M=(n=l[0])==null?void 0:n.xmaContentType,w=(a=l[0])==null?void 0:a.receiverFetchId,A;i[6]!==P||i[7]!==C.messageId||i[8]!==N||i[9]!==M||i[10]!==w||i[11]!==I?(A={actionUrl:N,isReceiverFetchXma:P,messageId:C.messageId,xmaContentType:M,xmaPreviewsDisabled:I,xmaReceiverFetchParams:w},i[6]=P,i[7]=C.messageId,i[8]=N,i[9]=M,i[10]=w,i[11]=I,i[12]=A):A=i[12];var F=A;if(k!=null&&k.content_type!==r("LSXmaContentType").FB_STORY_MENTION||P){var O;return i[13]!==l[0]||i[14]!==d||i[15]!==p||i[16]!==E||i[17]!==_||i[18]!==f||i[19]!==y||i[20]!==C||i[21]!==S||i[22]!==F||i[23]!==T||i[24]!==k||i[25]!==x?(O=c.jsx(r("MWXMAV2AttachmentContainer.react"),{attachment:l[0],connectBottom:d,connectTop:p,currentUserID:E,flattenTop:f,hasEmphasisRing:_,hasText:f,mediaRenderQpl:y,message:C,outgoing:S,receiverFetchParams:F,threadType:T,xmaDataclass:k,xmaEventImpressionLoggingRef:x}),i[13]=l[0],i[14]=d,i[15]=p,i[16]=E,i[17]=_,i[18]=f,i[19]=y,i[20]=C,i[21]=S,i[22]=F,i[23]=T,i[24]=k,i[25]=x,i[26]=O):O=i[26],O}if(L!=null&&h){var B;return i[27]!==f||i[28]!==y||i[29]!==C||i[30]!==v||i[31]!==S||i[32]!==R||i[33]!==L?(B=L(C,R,v,S,f,y),i[27]=f,i[28]=y,i[29]=C,i[30]=v,i[31]=S,i[32]=R,i[33]=L,i[34]=B):B=i[34],B}var W;return i[35]!==d||i[36]!==p||i[37]!==_||i[38]!==f||i[39]!==y||i[40]!==C||i[41]!==b||i[42]!==v||i[43]!==S||i[44]!==R?(W=!r("justknobx")._("743")&&(s||(s=o("I64"))).to_string(C.threadKey)===r("MetaConfig")._("83")&&!S?c.jsx(r("MWUnsupportedXMA.react"),{mediaRenderQpl:y,nextMessage:v,prevMessage:R}):c.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:d,connectTop:p,hasEmphasisRing:_,hasText:f,mediaRenderQpl:y,message:C,navigateToRouteForMediaViewer:b,outgoing:S}),i[35]=d,i[36]=p,i[37]=_,i[38]=f,i[39]=y,i[40]=C,i[41]=b,i[42]=v,i[43]=S,i[44]=R,i[45]=W):W=i[45],W}function m(e){return e.threadType}l.default=d}),98);
__d("MWPMessageFooter.react",["react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.Children,d={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(18),a=t.children,i=t.itemsXstyle,l=t.outgoing,s=t.xstyle,m,p,_,f;if(n[0]!==a||n[1]!==i||n[2]!==s){f=Symbol.for("react.early_return_sentinel");e:{var g=c.toArray(a).filter(Boolean);if(g.length===0){f=null;break e}n[7]!==s?(m=(e||(e=r("stylex"))).props(d.container,s),n[7]=s,n[8]=m):m=n[8],p="none";var h;n[9]!==i?(h=function(n,o){return u.createElement("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(d.items,i),{key:""+o,role:"none"}),n)},n[9]=i,n[10]=h):h=n[10],_=g.map(h)}n[0]=a,n[1]=i,n[2]=s,n[3]=m,n[4]=p,n[5]=_,n[6]=f}else m=n[3],p=n[4],_=n[5],f=n[6];if(f!==Symbol.for("react.early_return_sentinel"))return f;var y;n[11]!==l?(y=l?null:u.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"}),n[11]=l,n[12]=y):y=n[12];var C;return n[13]!==m||n[14]!==p||n[15]!==_||n[16]!==y?(C=u.jsxs("div",babelHelpers.extends({},m,{role:p,children:[_,y]})),n[13]=m,n[14]=p,n[15]=_,n[16]=y,n[17]=C):C=n[17],C}l.MWPMessageFooter=m}),98);
__d("MWPMessageLoggingUtil",["MWChatInteraction"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=e.messageId,r=e.optimisticAttachmentId,a=e.optimisticMessageId,i=o("MWChatInteraction").get(n),l=o("MWChatInteraction").get(a),s=r!=null?o("MWChatInteraction").get(r):null,u=(t=i!=null?i:l)!=null?t:s;return u}l.getInteractionUUIDForMessage=e}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWPMessageLoggingUtil","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(13),a=t.children,i=t.messageId,l=t.optimisticAttachmentId,s=t.optimisticMessageId,c=t.xstyle,d;n[0]!==i||n[1]!==l||n[2]!==s?(d=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:i,optimisticAttachmentId:l,optimisticMessageId:s}),n[0]=i,n[1]=l,n[2]=s,n[3]=d):d=n[3];var m=d;if(m==null){var p;n[4]!==c?(p=(e||(e=r("stylex"))).props(c),n[4]=c,n[5]=p):p=n[5];var _;return n[6]!==a||n[7]!==p?(_=u.jsx("div",babelHelpers.extends({},p,{children:a})),n[6]=a,n[7]=p,n[8]=_):_=n[8],_}else{var f;return n[9]!==a||n[10]!==m||n[11]!==c?(f=u.jsx(r("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:m,pageletName:"Message",xstyle:c,children:a}),n[9]=a,n[10]=m,n[11]=c,n[12]=f):f=n[12],f}}l.default=c}),98);
__d("useAdsTrackingMetadata",["react-compiler-runtime","useJSON"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n,a,i,l=o("react-compiler-runtime").c(3),s=r("useJSON")((e==null?void 0:e.platformXmdEncoded)!=null&&e.platformXmdEncoded!==""?e.platformXmdEncoded:"{}"),u=r("useJSON")((t=e==null?void 0:e.metadataDataclass)!=null?t:"{}"),c=(n=(a=u.ads_tracking_data)==null?void 0:a.ad_client_token)!=null?n:s==null?void 0:s.mm_impression_token,d=(i=u.ads_tracking_data)==null?void 0:i.serialized_linkshim_callback_for_web,m=d!=null?d:null,p=c!=null&&typeof c=="string"?c:null,_;return l[0]!==m||l[1]!==p?(_={linkShimCallback:m,mmImpressionToken:p},l[0]=m,l[1]=p,l[2]=_):_=l[2],_}l.default=e}),98);
__d("useCometGHLDisplayMonitor",["CometGHLDisplayMonitor","GHLSurfaceContainerContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect,d=s.useRef;function m(e,t){var n=o("react-compiler-runtime").c(5),a=d(null),i=u(r("GHLSurfaceContainerContext")),l,s;return n[0]!==i||n[1]!==e||n[2]!==t?(l=function(){var n=null,r=Date.now();if(i!==null&&e)return n=o("CometGHLDisplayMonitor").m(i,{onLogBlockCallback:t,startTime:r,targetRef:a}),(function(){n&&n.dispose()})},s=[i,e,t],n[0]=i,n[1]=e,n[2]=t,n[3]=l,n[4]=s):(l=n[3],s=n[4]),c(l,s),a}l.default=m}),98);
__d("useCometGHLFeedSurvey",["CometGHLTracker","DebugOwl","GhlSwankFalcoEvent","cr:1088657","react","react-compiler-runtime","useCometGHLDisplayMonitor","useMergeRefs"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useRef,m=s.useState;function p(e){var t=o("react-compiler-runtime").c(14),a=e.encryptedToken,i=e.id,l=e.isDisabled,s=e.position,u=e.type,p=l===void 0?!1:l,_=m(!1),f=_[0],g=_[1],h=d(null),y;t[0]!==a||t[1]!==f||t[2]!==s?(y=function(t){if(!(f||a==null)){g(!0),r("GhlSwankFalcoEvent").log(function(){return{hd:String(t),sli:String(s),xt:a}});var e=h.current;e!==null&&(o("CometGHLTracker").m(e),n("cr:1088657")&&n("cr:1088657").b({e:e,hd:t,token:a!=null?a:""}))}},t[0]=a,t[1]=f,t[2]=s,t[3]=y):y=t[3];var C=y,b=r("useCometGHLDisplayMonitor")(!f&&!p,C),v,S;t[4]!==b?(v=function(){h.current=b.current},S=[b],t[4]=b,t[5]=v,t[6]=S):(v=t[5],S=t[6]),c(v,S);var R,L;t[7]!==b?(R=function(){var e=b.current;return(function(){e&&o("CometGHLTracker").d(e)})},L=[b],t[7]=b,t[8]=R,t[9]=L):(R=t[8],L=t[9]),c(R,L);var E;t[10]!==i||t[11]!==s||t[12]!==u?(E=function(t){r("DebugOwl").nest(t,{id:i,location:"FEED",position:s,type:u})},t[10]=i,t[11]=s,t[12]=u,t[13]=E):E=t[13];var k=E;return r("useMergeRefs")(b,k)}var _=p;l.default=_}),98);
__d("useStoryFullViewLogger",["CometMetricsFullViewFalcoEvent","react","react-compiler-runtime","requireDeferred","useFullViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useRef,d=r("requireDeferred")("Banzai").__setRef("useStoryFullViewLogger");function m(e,t,n){var a=o("react-compiler-runtime").c(5),i=c(!1),l;a[0]!==t||a[1]!==e?(l=function(o){if(!i.current&&e!=null){i.current=!0;var n=e,a=t,l=r("uuidv4")(),s={csp:a,event_trace_id:l,xt:n};r("CometMetricsFullViewFalcoEvent").log(function(){return{csp:a.toString(),event_trace_id:l,xt:n}}),d.onReady(function(e){e.post("comet_metrics:full_view",s)})}},a[0]=t,a[1]=e,a[2]=l):l=a[2];var s=l,u;return a[3]!==s?(u={onFullViewStart:s},a[3]=s,a[4]=u):u=a[4],r("useFullViewImpression")(u)}l.default=m}),98);
__d("registerSourceForView",["DTSG","DTSGUtils","SprinkleConfig","XCometPrivacySandboxRegisterSourceControllerRouteBuilder","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){if(r("justknobx")._("1464")){var n={eventSourceEligible:!0,triggerEligible:!1},a={},i=r("XCometPrivacySandboxRegisterSourceControllerRouteBuilder").buildUri({}).toString();e!=null&&e.length>0?a.eid=e:t!=null&&t.length>0&&(a.xt=t);var l=o("DTSG").getToken();l!=null&&l.length>0&&(a.fb_dtsg=l,r("SprinkleConfig").param_name.length>0&&(a[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(l)));var s=Object.keys(a).map(function(e){return[encodeURIComponent(e),encodeURIComponent(a[e])].join("=")}).join("&");window.fetch(i,{attributionReporting:n,body:s,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST"}).catch(function(){})}}l.default=e}),98);
__d("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder",["jsRouteBuilder"],(function(t,n,r,o,a,i,l){var e=r("jsRouteBuilder")("/privacy_sandbox/topics/reporting/",Object.freeze({}),void 0),s=e;l.default=s}),98);
__d("gpsTopicsConstants",[],(function(t,n,r,o,a,i){"use strict";var e={LOGGING_EVENT_NAME:"topics_api_reporting",LOGGING_PROJECT_NAME:"privacy_sandbox_topics_api",MESSAGE_PREFIX:"[Topics API][Comet Reporting]"},l=e;i.default=l}),66);
__d("isTopicsAPIEnabledForReporting",["FBLogger","gkx","gpsTopicsConstants","justknobx"],(function(t,n,r,o,a,i,l){"use strict";function e(){if(navigator.userAgent.indexOf("Chrome")<0){if(r("justknobx")._("4782")){var e=r("gpsTopicsConstants").MESSAGE_PREFIX+" user-agent topic reporting check failed for agent: "+navigator.userAgent;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(e)}return!1}return r("gkx")("6546")}l.default=e}),98);
__d("localStorageAccessor",["FBLogger","WebStorage","gpsTopicsConstants"],(function(t,n,r,o,a,i,l){"use strict";var e,s=function(){try{var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t==null)return!1}catch(e){var n=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",o=r("gpsTopicsConstants").MESSAGE_PREFIX+" isLocalItemSupported issue: "+n;return r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(o),!1}return!0},u=function(n,o){if(s()){var t=(e||(e=r("WebStorage"))).getLocalStorage();e.setItemGuarded(t,n,o.toString())}},c=function(n){if(!s())return null;var t=(e||(e=r("WebStorage"))).getLocalStorage();if(t==null)return null;var o=t.getItem(n);if(o==null)return null;var a=Number(o);return a};l.isLocalItemSupported=s,l.getLocalItem=c,l.setLocalItem=u}),98);
__d("shouldReportTopicsOnSchedule",["FBLogger","gpsTopicsConstants","justknobx","localStorageAccessor"],(function(t,n,r,o,a,i,l){"use strict";var e="topicsLastReportingTime",s=36e5;function u(){var t=r("justknobx")._("4782"),n=o("localStorageAccessor").isLocalItemSupported();if(t){var a=r("gpsTopicsConstants").MESSAGE_PREFIX+" on-schedule reporting support status: "+String(n)+", for reporting agent: "+navigator.userAgent;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).debug(a)}if(!n)return!1;var i=!1;try{var l=o("localStorageAccessor").getLocalItem(e);if(l==null)return o("localStorageAccessor").setLocalItem(e,Date.now()),!0;var u=Number(l),c=Date.now(),d=Number(c),m=r("justknobx")._("4792");i=d-u>=m*s,i&&o("localStorageAccessor").setLocalItem(e,Date.now())}catch(e){var p=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",_=r("gpsTopicsConstants").MESSAGE_PREFIX+" shouldReportTopicsOnSchedule issue: "+p;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(_),i=!1}return i}l.default=u}),98);
__d("reportTopicsForView",["DTSG","DTSGUtils","FBLogger","SprinkleConfig","XPrivacySandboxTopicsAPIReportingControllerRouteBuilder","gkx","gpsTopicsConstants","isTopicsAPIEnabledForReporting","shouldReportTopicsOnSchedule"],(function(t,n,r,o,a,i,l){"use strict";var e=function(t){var e={};e.token=t;var n=o("DTSG").getToken();return n!=null&&n.length>0&&(e.fb_dtsg=n,r("SprinkleConfig").param_name.length>0&&(e[r("SprinkleConfig").param_name]=r("DTSGUtils").getNumericValue(n))),e},s=function(t){window.fetch(r("XPrivacySandboxTopicsAPIReportingControllerRouteBuilder").buildURL({}),{body:Object.keys(t).map(function(e){return[encodeURIComponent(e),encodeURIComponent(t[e])].join("=")}).join("&"),browsingTopics:!0,headers:{"Content-Type":"application/x-www-form-urlencoded"},keepalive:!0,method:"POST",skipObservation:!0}).catch(function(e){var t=e==null?"Unknown":e.message,n=r("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsThroughRouter issue: "+t;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(n)})};function u(t){if(!(t==null||t.length===0))try{if(!r("isTopicsAPIEnabledForReporting")()||!r("shouldReportTopicsOnSchedule")())return;s(e(t))}catch(e){var n=e instanceof Error&&Object.prototype.hasOwnProperty.call(e,"message")?e.message:"Unknown",o=r("gpsTopicsConstants").MESSAGE_PREFIX+" reportTopicsForView issue: "+n;r("FBLogger")(r("gpsTopicsConstants").LOGGING_PROJECT_NAME,r("gpsTopicsConstants").LOGGING_EVENT_NAME).warn(o)}}function c(e){e==null||e.length===0||r("gkx")("13576")&&u(e)}l.reportTopicsForView=u,l.reportTopicsForViewMainObserver=c}),98);
__d("getCentralImpressionScrollSpeed",["cr:5662"],(function(t,n,r,o,a,i){"use strict";var e=0,l=Date.now(),s=null,u=null;function c(e){n("cr:5662").listen(window,"scroll",function(){u&&clearTimeout(u),u=setTimeout(function(){return e()},100)},n("cr:5662").Priority.NORMAL,{passive:!0})}function d(){var t=window.scrollY,n=Date.now();if(s!=null&&n!==l){var r=t-s;e=r/(n-l)*1e3}s=t,l=n}c(function(){e=0,s=null}),n("cr:5662").listen(window,"scroll",function(){return d()},n("cr:5662").Priority.NORMAL,{passive:!0}),a.exports=function(){return e}}),null);
__d("getCentralImpressionTimeAfterRefresh",[],(function(t,n,r,o,a,i){"use strict";var e=null;window.addEventListener("load",function(){e=Date.now()},{passive:!0});function l(){return e!=null?Date.now()-e:0}i.default=l}),66);
__d("sendImpressionEnterActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){var i=t.impressedAt,l=r("CometTimeSpentNavigation").getPathInfo(),s=r("uuidv4")(),u=r("getCentralImpressionScrollSpeed")(),c=o("WebSession").getId(),d={intersect_rect:t.intersectionRect,root:t.rootBounds,target_rect:t.boundingClientRect};r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:a.csp!=null?String(a.csp):"",cts:i.toString(),eid:a.eid!=null?String(a.eid):"",event_trace_id:s,framework:e,me:l?l.name:null,pre_rs:n?n.invisibleReason:null,rects:d,scroll_speed:u.toString(),sk:c,time_from_load:r("getCentralImpressionTimeAfterRefresh")().toString(),vp:t.visiblePercentage.toString(),xt:a.xt!=null?String(a.xt):""}})}l.default=e}),98);
__d("sendImpressionExitActionValidationData",["CometMetricsChannel2ViewabilityFalcoEvent","CometTimeSpentNavigation","WebSession","getCentralImpressionScrollSpeed","getCentralImpressionTimeAfterRefresh","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,a){var i=t.impressedAt,l=r("CometTimeSpentNavigation").getPathInfo(),s=r("uuidv4")(),u=i!=null&&i!==0?Date.now()-i:null,c={intersect_rect:t.intersectionRect,root:t.rootBounds,target_rect:t.boundingClientRect};r("CometMetricsChannel2ViewabilityFalcoEvent").logImmediately(function(){return{csp:a.csp!=null?String(a.csp):"",cts:String(i),duration:u!=null?String(u):null,eid:a.eid!=null?String(a.eid):"",event_trace_id:s,exit_rs:t.invisibleReason,framework:e,me:l?l.name:null,pre_rs:Object.prototype.hasOwnProperty.call(a,"pre_rs")?String(a.pre_rs):"",pre_vp:n?String(n.visiblePercentage):null,rects:c,scroll_speed:r("getCentralImpressionScrollSpeed")().toString(),sk:o("WebSession").getId(),time_from_load:r("getCentralImpressionTimeAfterRefresh")().toString(),vp:t.visiblePercentage!=null?t.visiblePercentage.toString():null,xt:a.xt!=null?String(a.xt):""}})}l.default=e}),98);
__d("useStoryObserverImpressionLogger",["BrandSafetyOpportunityLossRateFalcoEvent","Comet2ndChannelContext","CometAdsProductLogger","CometFeed5sImpressionDelayContext","CometFeedAdsProductContext","CometFeedBrandSafetyContext","CometFeedBrandSafetyLoggingUtil","CometFeedUnitStatusListPassiveContext","CometGHLTracker","CometImpressionLoggingUtil","CometMetricsViewableImpressionFalcoEvent","CometTimeSpentNavigation","DebugOwl","FBLogger","WebSession","cr:1813330","ghlTestUBT","gkx","randomInt","react","registerSourceForView","reportTopicsForView","sendImpressionEnterActionValidationData","sendImpressionExitActionValidationData","setTimeout","useMinifiedProductAttribution","usePartialViewImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useContext,d=s.useEffect,m=s.useRef,p={can_delay_log_impression:!1,subsequent_gap_in_ms:6e4},_=5e3;function f(e,t,a,i,l,s){i===void 0&&(i=!1),l===void 0&&(l=null);var f=babelHelpers.extends({},p,a),h=m(null),y=m(null),C=m(null),b=m(!1),v=m(!1),S=(a==null?void 0:a.can_delay_log_impression)===!0,R=r("useMinifiedProductAttribution")();d(function(){r("ghlTestUBT")(function(e){b.current=e})},[]),d(function(){return function(){h.current=null,v.current=!1,C.current=null}},[l]);var L=c(r("CometFeedUnitStatusListPassiveContext")),E=c(r("Comet2ndChannelContext")),k=c(r("CometFeedBrandSafetyContext")),I=c(r("CometFeed5sImpressionDelayContext")),T=c(r("CometFeedAdsProductContext")),D=T.adId,x=T.minGapRule,$=T.minGapType,P=u(function(a){var l=a.entry,u=a.visibleTime;r("DebugOwl").perch(l.target),n("cr:1813330")==null||n("cr:1813330").setNewsFeedStoryPosition(t);var c=function(a,i){var n=Date.now(),l=r("CometTimeSpentNavigation").getPathInfo(),c=o("CometGHLTracker").c(a.target);r("DebugOwl").fly(a.target);var d=t,m=Math.floor(n/1e3),p=n+"_"+(r("randomInt")(0,4294967295)+1),_=c,f=l?l.name:null,h=o("WebSession").getId(),y=a.visiblePercentage,C=e,b=r("uuidv4")(),E=o("CometFeedBrandSafetyLoggingUtil").getBrandSafetyFieldForAdImpression(L,k,t,S),T;{var P;d==null&&r("FBLogger")("comet_impression").mustfix("storyPosition param %s is invalid. event_trace_id: %s, aidv2: %s",d,b,R),T=(P=d==null?void 0:d.toString())!=null?P:"0"}if(r("CometMetricsViewableImpressionFalcoEvent").logImmediately(function(){return{aidv2:R,brs:E,csp:T,cts:m.toString(),etid:p,event_trace_id:b,hba:_,isv:"1",me:f,sk:h,vp:y.toString(),xt:C}}),L){var N,M=L();((N=M[d])==null?void 0:N.category)==="SPONSORED"&&I.hasAnyAdImpressionAlreadyBeenLogged===!1&&(I.hasAnyAdImpressionAlreadyBeenLogged=!0,I.firstLoggedAdImpressionStoryPosition=t)}g(E,s,u,t),o("CometAdsProductLogger").logCometAdsProductGapRule({adId:D,csp:T,cts:m.toString(),endPoint:f,getFeedUnitStatusList:L,hba:_,isv:"1",minGapRule:x,minGapType:$,sessionKey:h,tracking:C,vp:y.toString()}),r("registerSourceForView")(null,C),o("reportTopicsForView").reportTopicsForViewMainObserver(s),v.current=!0},d={boundingClientRect:l.boundingClientRect,impressedAt:u,intersectionRect:l.intersectionRect,invisibleReason:null,rootBounds:l.rootBounds,status:"ENTER",target:l.target,visible:!0,visiblePercentage:l.intersectionRatio};if(i&&r("sendImpressionEnterActionValidationData")("impression_api_comet_enter",d,null,{csp:t,pre_rs:h.current,xt:e}),E){var m=E();o("CometImpressionLoggingUtil").logChannelData(D,e,d,m,o("CometImpressionLoggingUtil").TwoMFirstChannel)}if(!(C.current||y.current))if(f.can_delay_log_impression===!0&&(b.current||o("CometGHLTracker").b()||r("gkx")("23488"))){I.hasUserSeenAnyAd===!1&&(I.hasUserSeenAnyAd=!0,I.firstAdStoryPosition=t);var p=r("gkx")("23490"),T=p,P=o("CometGHLTracker").b(),N=!I.hasAnyAdImpressionAlreadyBeenLogged,M=T||P||N?_:0,w;r("gkx")("1718")?w=M:w=_,y.current=r("setTimeout")(function(){c(d,"AD_BLOCKER"),y.current=null},w)}else c(d,v.current?"DEDUP":"ORIGINAL")},[i,f.can_delay_log_impression,t,e,R]),N=u(function(n){var o=n.hiddenReason,a=n.visibleDuration,l=n.visibleTime;i&&r("sendImpressionExitActionValidationData")("impression_api_comet_exit",{impressedAt:l,invisibleReason:o,visiblePercentage:0},null,{csp:t,duration:a,pre_rs:h.current,xt:e}),h.current=o,!C.current&&(v.current||y.current)&&(C.current=r("setTimeout")(function(){v.current=!1,C.current=null},f.subsequent_gap_in_ms))},[f.subsequent_gap_in_ms,t,e,i]);return r("usePartialViewImpression")({onImpressionEnd:N,onImpressionStart:P})}function g(e,t,n,o){var a=e==null?void 0:e.brs_filter_setting;if(r("BrandSafetyOpportunityLossRateFalcoEvent")!=null&&parseInt(a,10)>0){var i=e==null?void 0:e.unit_after,l=e==null?void 0:e.unit_before;r("BrandSafetyOpportunityLossRateFalcoEvent").log(function(){var e,r,s,u;return{ad_insertion_status:"INSERTED",ad_insertion_sub_status:"VALID_COMPATIBLE",ad_inventory_filter:String(a),adjacent_edges_info:{unit_after:i!=null?{brs_content_label:(e=i.brs_content_label)!=null?e:"",organic_tracking:(r=i.organic_tracking)!=null?r:""}:null,unit_before:l!=null?{brs_content_label:(s=l.brs_content_label)!=null?s:"",organic_tracking:(u=l.organic_tracking)!=null?u:""}:null},client_token:t!=null?t:"",feed_session_id:"",impression_original_timestamp_ms:String(n),slot_position:String(o)}})}}l.default=f}),98);
__d("PercentVisible",[],(function(t,n,r,o,a,i){var e=-1,l=0,s=50,u=100;i.NO_VISIBLE=e,i.VISIBLE_0_PCT=l,i.VISIBLE_50_PCT=s,i.VISIBLE_100_PCT=u}),66);
__d("useViewabilityImpression",["react-compiler-runtime","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=e.onIntersection,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={thresholdOverride:"MODERATE"},t[0]=a):a=t[0];var i;return t[1]!==n?(i={onIntersection:n,options:a},t[1]=n,t[2]=i):i=t[2],r("useVisibilityObserver")(i)}l.default=e}),98);
__d("useStoryViewabilityDurationLogger",["Banzai","CometMetricsViewabilityFalcoEvent","HiddenSubtreePassiveContext","PercentVisible","performance","react","react-compiler-runtime","useIsBackgrounded","useViewabilityImpression","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useContext,m=u.useEffect,p=u.useRef;function _(e,t,n){var a=o("react-compiler-runtime").c(9),i=p(null),l=p(null),s=p(null),u=p(!1),c=r("useIsBackgrounded")(),_=c.isDocumentHiddenOrBlurred,f=d(r("HiddenSubtreePassiveContext")),g=p(null),h,S;a[0]!==f||a[1]!==_||a[2]!==e?(h=function(){var t=function(){var t=f.getCurrentState().backgrounded,n=t||_;n?b(i,l,s,u,e):v(i,l,s,u)};return g.current=f.subscribeToChanges(function(){t()}),t(),(function(){g.current!=null&&(g.current.remove(),g.current=null)})},S=[f,_,e],a[0]=f,a[1]=_,a[2]=e,a[3]=h,a[4]=S):(h=a[3],S=a[4]),m(h,S);var R;a[5]!==e?(R=function(n){var t=n.entry,r=n.isElementVisible;if(u.current){i.current=null,l.current=null,s.current=null;return}r?t.intersectionRatio<.5?(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=y(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):t.intersectionRatio>=.5&&t.intersectionRatio<1?(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=C(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):(i.current=C(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=C(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=C(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e)):(i.current=y(t.time,o("PercentVisible").VISIBLE_0_PCT,i.current,e),l.current=y(t.time,o("PercentVisible").VISIBLE_50_PCT,l.current,e),s.current=y(t.time,o("PercentVisible").VISIBLE_100_PCT,s.current,e))},a[5]=e,a[6]=R):R=a[6];var L=R,E;return a[7]!==L?(E={onIntersection:L},a[7]=L,a[8]=E):E=a[8],r("useViewabilityImpression")(E)}function f(e,t,n){r("CometMetricsViewabilityFalcoEvent").logImmediately(function(){return{cumulative:e.cumulative.toString(),duration:e.duration.toString(),event_trace_id:t,interval:e.interval.toString(),segment_id:e.segmentid.toString(),start_ts:e.startTs.toString(),view_event_type:e.eventType.toString(),xt:n}})}function g(e,t){var n=e-t.intervalStartTs;return{cumulative:t.cumulative+n,duration:t.cumulative+n,eventType:t.eventType,interval:n,intervalStartTs:e,segmentid:t.segmentid+1,startTs:t.startTs}}function h(e,t){var n=r("uuidv4")(),o={cumulative:e.cumulative,duration:e.duration,event_trace_id:n,eventType:e.eventType,interval:e.interval,segmentid:e.segmentid,startTs:e.startTs,xt:t};f(e,n,t);var a=babelHelpers.extends({},r("Banzai").VITAL,{signal:!1});r("Banzai").post("comet_metrics:viewability",o,a)}function y(e,t,n,r){if(n==null)return null;var o=g(e,n);return h(o,r),null}function C(e,t,n,r){var o;return n==null?o={cumulative:0,duration:0,eventType:t,interval:0,intervalStartTs:e,segmentid:0,startTs:e}:o=g(e,n),o.segmentid<=2&&h(o,r),o}function b(t,n,o,a,i){if(!a.current){var l=(e||(e=r("performance"))).now();if(a.current=!0,t.current!=null){var s=g(l,t.current);h(s,i),t.current=s}if(n.current!=null){var u=g(l,n.current);h(u,i),n.current=u}if(o.current!=null){var c=g(l,o.current);h(c,i),o.current=c}}}function v(t,n,o,a){var i=(e||(e=r("performance"))).now();a.current=!1,t.current!=null&&(t.current=babelHelpers.extends({},t.current,{intervalStartTs:i})),n.current!=null&&(n.current=babelHelpers.extends({},n.current,{intervalStartTs:i})),o.current!=null&&(o.current=babelHelpers.extends({},o.current,{intervalStartTs:i}))}l.default=_}),98);
__d("useStoryViewabilityLogger",["mergeRefs","react","react-compiler-runtime","useCometGHLFeedSurvey","useStoryFullViewLogger","useStoryObserverImpressionLogger","useStoryVPVDLogger","useStoryViewabilityDurationLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e,t,n){return d}function d(){return null}function m(e){var t=o("react-compiler-runtime").c(41),n=e.clientToken,a=e.clientViewConfig,i=e.contentIdentifier,l=e.disabledViewabilityEventTypes,s=e.encryptedTracking,u=e.interactionSourceOverride,d=e.position,m=e.shouldDisableGHLSurvey,f=e.targetAudioTrack,g=e.viewabilityConfig,h=e.vpvdOptionalData,y=a===void 0?null:a,C=i===void 0?null:i,b=m===void 0?!1:m,v=[],S;t[0]!==l||t[1]!==g?(S=function(t,n){return g&&g.includes(t)&&(!l||!l.includes(t))?n:null},t[0]=l,t[1]=g,t[2]=S):S=t[2];var R=S,L;t[3]!==g?(L=!!g&&g.some(_),t[3]=g,t[4]=L):L=t[4];var E=L,k=r("useStoryObserverImpressionLogger")(s,d,y,E,C,n),I;t[5]!==R||t[6]!==k?(I=R(8,k),t[5]=R,t[6]=k,t[7]=I):I=t[7];var T=I,D=c(s,d,y),x;t[8]!==R||t[9]!==D?(x=R(7,D),t[8]=R,t[9]=D,t[10]=x):x=t[10];var $=x,P=r("useStoryFullViewLogger")(s,d,y),N;t[11]!==R||t[12]!==P?(N=R(2,P),t[11]=R,t[12]=P,t[13]=N):N=t[13];var M=N,w=r("useStoryViewabilityDurationLogger")(s,d,y),A;t[14]!==R||t[15]!==w?(A=R(3,w),t[14]=R,t[15]=w,t[16]=A):A=t[16];var F=A,O;t[17]!==s||t[18]!==u||t[19]!==d||t[20]!==f||t[21]!==h?(O=babelHelpers.extends({},h,{interactionSourceOverride:u,position:d,targetAudioTrack:f,trackable:s}),t[17]=s,t[18]=u,t[19]=d,t[20]=f,t[21]=h,t[22]=O):O=t[22];var B=r("useStoryVPVDLogger")(O),W=B[0],q=B[1];v.push(q);var U;t[23]!==R||t[24]!==W?(U=R(5,W),t[23]=R,t[24]=W,t[25]=U):U=t[25];var V=U,H;t[26]!==y||t[27]!==s||t[28]!==d||t[29]!==b?(H={clientViewConfig:y,encryptedToken:s,isDisabled:b,position:d},t[26]=y,t[27]=s,t[28]=d,t[29]=b,t[30]=H):H=t[30];var G=r("useCometGHLFeedSurvey")(H),z=b?null:G,j;t[31]!==M||t[32]!==T||t[33]!==$||t[34]!==z||t[35]!==F||t[36]!==V?(j=r("mergeRefs")(T,$,M,F,V,z,null),t[31]=M,t[32]=T,t[33]=$,t[34]=z,t[35]=F,t[36]=V,t[37]=j):j=t[37];var K=j,Q=v.map(p),X;return t[38]!==K||t[39]!==Q?(X={debuggingInfoLoggers:Q,ref:K},t[38]=K,t[39]=Q,t[40]=X):X=t[40],X}function p(e,t){return s.jsx("div",{children:e},t)}p.displayName=p.name+" [from "+i.id+"]";function _(e){return e===7}l.default=m}),98);
__d("useMarketingMessageImpressionLogging",["CometProductAttribution","CometRouteProductAttributionContext","gkx","mergeRefs","react","react-compiler-runtime","useAdsTrackingMetadata","useStoryViewabilityLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={v2:[o("CometProductAttribution").getProductAttributionEntryV2({bookmark_id:null,link_context:null,navChainContent:null,rootName:"MessengerThread",tap_point:"via_cold_start",tracePolicy:"comet.messenger.marketing_message",trackingNodes:null})]},e[0]=t):t=e[0],t}function d(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=c(),i;return t[0]!==a||t[1]!==n?(i=s.jsx(r("CometRouteProductAttributionContext").Provider,{value:a,children:n}),t[0]=a,t[1]=n,t[2]=i):i=t[2],i}function m(e,t){var n=o("react-compiler-runtime").c(10),a=r("useAdsTrackingMetadata")(e),i=a.mmImpressionToken,l=i!=null,s;n[0]!==i?(s=JSON.stringify({ei:i}),n[0]=i,n[1]=s):s=n[1];var u;n[2]!==l?(u=l?[8,5,r("gkx")("234")?7:null].filter(Boolean):null,n[2]=l,n[3]=u):u=n[3];var c;n[4]!==s||n[5]!==u?(c={encryptedTracking:s,position:0,viewabilityConfig:u},n[4]=s,n[5]=u,n[6]=c):c=n[6];var d=r("useStoryViewabilityLogger")(c),m=d.ref,p=r("gkx")("4068")&&l?m:null,_;n[7]!==t||n[8]!==p?(_=r("mergeRefs")(t,p),n[7]=t,n[8]=p,n[9]=_):_=n[9];var f=_;return f}l.MarketingMessageAttributionProvider=d,l.useMarketingMessageImpressionLogging=m}),98);
__d("MWV2ChatText.react",["MWUnvaultedText","MWV2ChatTextUtils","MWXMessageListText.react","cr:8839","isMWBumpMessage","react","react-compiler-runtime","useMWTextRenderers","useMarketingMessageImpressionLogging","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(19),a=e.containerThreadKey,i=e.containerThreadType,l=e.hasBlockQuoteStyle,u=e.isSecureMessage,c=e.message,p=e.outgoing,_=e.ref,f=l===void 0?!1:l,g=r("useMWTextRenderers")(p,u),h=o("MWUnvaultedText").useMWUnvaultedText(u,c.text),y=o("MWV2ChatTextUtils").useRanges(h,c,a,i),C=o("useMarketingMessageImpressionLogging").useMarketingMessageImpressionLogging(c,_);if(h==null)return null;if(u&&r("isMWBumpMessage")(c.replyType)){var b;return t[0]!==C||t[1]!==c||t[2]!==p||t[3]!==y||t[4]!==g||t[5]!==h?(b=s.jsx(m,{message:c,outgoing:p,ranges:y,ref:C,renderers:g,text:h}),t[0]=C,t[1]=c,t[2]=p,t[3]=y,t[4]=g,t[5]=h,t[6]=b):b=t[6],b}var v;t[7]!==f||t[8]!==C||t[9]!==u||t[10]!==c||t[11]!==p||t[12]!==y||t[13]!==g||t[14]!==h?(v=s.jsx(d,{hasBlockQuoteStyle:f,isSecureMessage:u,message:c,outgoing:p,ranges:y,ref:C,renderers:g,text:h}),t[7]=f,t[8]=C,t[9]=u,t[10]=c,t[11]=p,t[12]=y,t[13]=g,t[14]=h,t[15]=v):v=t[15];var S=v;if(!u&&n("cr:8839")!=null){var R;return t[16]!==S||t[17]!==c?(R=s.jsx(n("cr:8839"),{message:c,children:S}),t[16]=S,t[17]=c,t[18]=R):R=t[18],R}return S}function d(e){var t,n=o("react-compiler-runtime").c(10),a=e.hasBlockQuoteStyle,i=e.isSecureMessage,l=e.message,u=e.outgoing,c=e.ranges,d=e.ref,m=e.renderers,p=e.text,_=a===void 0?!1:a,f;if(n[0]!==l.mentionIds){var g,h;f=new Set((g=(h=l.mentionIds)==null||h.split==null?void 0:h.split(","))!=null?g:[]),n[0]=l.mentionIds,n[1]=f}else f=n[1];var y=f,C=(t=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(i?p:null,c,y,l.threadKey))!=null?t:{textWithSubstitutions:p,updatedRanges:c},b=C.textWithSubstitutions,v=C.updatedRanges,S;return n[2]!==_||n[3]!==l||n[4]!==u||n[5]!==d||n[6]!==m||n[7]!==b||n[8]!==v?(S=s.jsx(r("MWXMessageListText.react"),{hasBlockQuoteStyle:_,message:l,outgoing:u,ranges:v,ref:d,renderers:m,text:b}),n[2]=_,n[3]=l,n[4]=u,n[5]=d,n[6]=m,n[7]=b,n[8]=v,n[9]=S):S=n[9],S}function m(e){var t,n=o("react-compiler-runtime").c(7),a=e.message,i=e.outgoing,l=e.ranges,u=e.ref,c=e.renderers,d=e.text,m=(t=o("useStringWithSubstitutions").useStringWithSubstitutions(d,a.threadKey))!=null?t:d,p;return n[0]!==a||n[1]!==i||n[2]!==l||n[3]!==u||n[4]!==c||n[5]!==m?(p=s.jsx(r("MWXMessageListText.react"),{message:a,outgoing:i,ranges:l,ref:u,renderers:c,text:m}),n[0]=a,n[1]=i,n[2]=l,n[3]=u,n[4]=c,n[5]=m,n[6]=p):p=n[6],p}l.default=c}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(3),n=e.isOutgoing;r("FBLogger")("messenger_web").warn("Unsupported message type");var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Message unavailable"),t[0]=a):a=t[0];var i=a,l;return t[1]!==n?(l=u.jsx(r("MWV2TombstonedMessage.react"),{isOutgoing:n,children:i}),t[1]=n,t[2]=l):l=t[2],l}l.MWV2ChatUnsupportedMessage=c}),226);
__d("useMWMessageRowComponentAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","MWPMessageLoggingUtil","react","react-compiler-runtime","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useEffect;function d(e,t){var n=o("react-compiler-runtime").c(21),a;n[0]!==e.messageId||n[1]!==e.offlineThreadingId||n[2]!==t?(a=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:e.messageId,optimisticAttachmentId:t,optimisticMessageId:e.offlineThreadingId}),n[0]=e.messageId,n[1]=e.offlineThreadingId,n[2]=t,n[3]=a):a=n[3];var i=a,l;n[4]!==e.displayedContentTypes?(l=(s||(s=o("I64"))).to_int32(e.displayedContentTypes),n[4]=e.displayedContentTypes,n[5]=l):l=n[5];var d=r("usePrevious")(l),m;n[6]!==e.displayedContentTypes?(m=(s||(s=o("I64"))).to_int32(e.displayedContentTypes),n[6]=e.displayedContentTypes,n[7]=m):m=n[7];var p=m,_,f;n[8]!==p||n[9]!==e.displayedContentTypes||n[10]!==i||n[11]!==d?(_=function(){var t=i!=null?r("InteractionTracingMetrics").get(i):null;if(t!=null){d!==p&&r("InteractionTracingMetrics").addMarkerPoint(t.traceId,"message_row_displayed_content_type_changed_from_"+(d!=null?d:"null")+"_to_"+p,"AppTiming",void 0,{displayed_content_types_num:(s||(s=o("I64"))).to_int32(e.displayedContentTypes)});var n=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1),e.displayedContentTypes);n?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_text",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_text",!1);var a=o("LSBitFlag").has(u.ofNumber(2),e.displayedContentTypes);a?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_media_preview",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_media_preview",!1);var l=o("LSBitFlag").has(u.ofNumber(4),e.displayedContentTypes);l?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_audio_clip",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_audio_clip",!1);var c=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(8),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(1024),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(2048),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(536870912),e.displayedContentTypes);c?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_xma",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_xma",!1);var m=o("LSBitFlag").has(u.ofNumber(32),e.displayedContentTypes);m?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_admin",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_admin",!1);var _=o("LSBitFlag").has(u.ofNumber(64),e.displayedContentTypes);_?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_file_attachment",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_file_attachment",!1);var f=o("LSBitFlag").has(u.ofNumber(512),e.displayedContentTypes);f?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_story_reply",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_story_reply",!1);var g=o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(4096),e.displayedContentTypes)||o("LSBitFlag").has((u||(u=o("LSIntEnum"))).ofNumber(134217728),e.displayedContentTypes);g?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_sticker",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_sticker",!1);var h=o("LSBitFlag").has(u.ofNumber(16384),e.displayedContentTypes);h?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_gif",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_row_gif",!1),a||l||_||g||h?r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_media",!0):r("InteractionTracingMetrics").addAnnotationBoolean(t.traceId,"has_message_media",!1)}},f=[e.displayedContentTypes,d,p,i],n[8]=p,n[9]=e.displayedContentTypes,n[10]=i,n[11]=d,n[12]=_,n[13]=f):(_=n[12],f=n[13]),c(_,f);var g;n[14]!==e.authorityLevel?(g=(s||(s=o("I64"))).to_int32(e.authorityLevel),n[14]=e.authorityLevel,n[15]=g):g=n[15];var h=g,y=r("usePrevious")(h),C,b;n[16]!==h||n[17]!==i||n[18]!==y?(C=function(){var e=i!=null?r("InteractionTracingMetrics").get(i):null;e!=null&&y!==h&&r("InteractionTracingMetrics").addMarkerPoint(e.traceId,"message_row_authoritity_level_changed_from_"+(y!=null?y:"null")+"_to_"+h,"AppTiming")},b=[i,h,y],n[16]=h,n[17]=i,n[18]=y,n[19]=C,n[20]=b):(C=n[19],b=n[20]),c(C,b)}l.default=d}),98);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","mwpMessageIsReply","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useMWMessageRowComponentAddInteractionTracingMetadata","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.memo,p=d.useEffect;function _(t){var n=o("react-compiler-runtime").c(87),a=t.attachments,i=t.containerThreadKey,l=t.hasBlockQuoteStyle,u=t.hasClickState,d=t.hasMessageEmphasisRing,m=t.isFirstMessageInGroup,_=t.isLastMessageInGroup,f=t.isSearchPluginAttachment,g=t.isSecureMessage,h=t.mediaRenderQpl,y=t.message,C=t.navigateToRouteForMediaViewer,b=t.nextMessage,v=t.offlineAttachmentId,S=t.originalBumpedMsg,R=t.outgoing,L=t.prevMessage,E=t.reactions,k=t.reactionsV2,I=t.renderAttachment,T=t.threadType,D=l===void 0?!1:l,x=u===void 0?!1:u,$=r("MWClickedMessageContext.react").useHook(),P=$.clickedMessageId,N=$.fetchMessageSeenCount,M=$.hasError,w=$.setClickedMessageId,A=(e||(e=r("useReStore")))(),F=S!=null?S:y,O=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(F.threadKey),B;n[0]!==F?(B=r("mwpMessageIsReply")(F),n[0]=F,n[1]=B):B=n[1];var W=B;r("useMWMessageRowComponentAddInteractionTracingMetadata")(y,v);var q,U;n[2]!==P||n[3]!==A||n[4]!==N||n[5]!==M||n[6]!==F.messageId||n[7]!==F.threadKey||n[8]!==w?(q=function(){var e=window.getSelection();e!=null&&e.toString()!==""||r("promiseDone")((async function(){var e=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(A.tables.threads).getKeyRange(F.threadKey)),t=e==null?null:await o("ReQL").firstAsync(o("ReQL").fromTableAscending(A.tables.community_folders).getKeyRange(e.parentThreadKey));return e!=null&&t!=null&&o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:F.messageId},community_id:(s||(s=o("I64"))).to_string(t.folderId),event:"render_seen_count",group_id:s.to_string(t.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:s.to_string(e.threadKey)}),P===F.messageId&&!M?w(null):N(F.threadKey,F.messageId,t)})())},U=[A,P,F.messageId,F.threadKey,M,w,N],n[2]=P,n[3]=A,n[4]=N,n[5]=M,n[6]=F.messageId,n[7]=F.threadKey,n[8]=w,n[9]=q,n[10]=U):(q=n[9],U=n[10]);var V=o("Int64Hooks").useCallbackInt64(q,U),H=o("MWBlockingProtectionLogging").useLogTapToReviewAction(F),G,z;n[11]!==f||n[12]!==g||n[13]!==h||n[14]!==F.threadKey||n[15]!==I?(G=function(){h==null||h.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(s||(s=o("I64"))).to_string(F.threadKey)===r("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:I!=null,is_search_plugin:f,is_secure_message:g}})},z=[f,g,h,F.threadKey,I],n[11]=f,n[12]=g,n[13]=h,n[14]=F.threadKey,n[15]=I,n[16]=G,n[17]=z):(G=n[16],z=n[17]),p(G,z);var j;n[18]!==W||n[19]!==R?(j=function(){return c.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:R,isReply:W})},n[18]=W,n[19]=R,n[20]=j):j=n[20];var K;n[21]!==a||n[22]!==d||n[23]!==f||n[24]!==g||n[25]!==h||n[26]!==F||n[27]!==C||n[28]!==b||n[29]!==R||n[30]!==L||n[31]!==I?(K=function(t,n,o){return c.jsx(r("MWMessageRowAttachment.react"),{attachments:a,connectBottom:n,connectTop:t,hasMessageEmphasisRing:d,hasText:o,isSearchPluginAttachment:f,isSecureMessage:g,mediaRenderQpl:h,message:F,navigateToRouteForMediaViewer:C,nextMessage:b,outgoing:R,prevMessage:L,renderAttachment:I})},n[21]=a,n[22]=d,n[23]=f,n[24]=g,n[25]=h,n[26]=F,n[27]=C,n[28]=b,n[29]=R,n[30]=L,n[31]=I,n[32]=K):K=n[32];var Q;n[33]!==d||n[34]!==g||n[35]!==F?(Q=function(){return c.jsx(r("MWV2ChatEmoji.react"),{hasEmphasisRing:d,isSecureMessage:g,message:F})},n[33]=d,n[34]=g,n[35]=F,n[36]=Q):Q=n[36];var X;n[37]!==i||n[38]!==D||n[39]!==d||n[40]!==g||n[41]!==F||n[42]!==R||n[43]!==T?(X=function(t,n,o,a,l,s){return c.jsx(r("MWV2ChatBubbleContainer.react"),{connectBottom:o,connectTop:n,hasEmphasisRing:d,message:F,outgoing:R,precedesXMA:a,precedingXmaIsV2:s,children:c.jsx(r("MWV2ChatText.react"),{containerThreadKey:i,containerThreadType:T,hasBlockQuoteStyle:D,isSecureMessage:g,message:F,outgoing:R})})},n[37]=i,n[38]=D,n[39]=d,n[40]=g,n[41]=F,n[42]=R,n[43]=T,n[44]=X):X=n[44];var Y;n[45]!==x||n[46]!==F||n[47]!==v||n[48]!==V||n[49]!==R?(Y=function(t,n){var e=c.jsx(r("MWPMessageLoggingWrapper.react"),{messageId:F.messageId,optimisticAttachmentId:v,optimisticMessageId:F.offlineThreadingId,xstyle:n,children:c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:F,position:R?"end":"start",children:t})});return x?c.jsx(r("MWXPressable.react"),{onPress:V,overlayDisabled:!0,xstyle:n,children:e}):e},n[45]=x,n[46]=F,n[47]=v,n[48]=V,n[49]=R,n[50]=Y):Y=n[50];var J;n[51]!==O||n[52]!==y||n[53]!==R||n[54]!==E||n[55]!==k?(J=function(){if(O)return null;var e=k!=null&&k.length>0;return c.jsx(o("MWPMessageFooter.react").MWPMessageFooter,{outgoing:R,children:!e&&E.length<1?null:c.jsx(o("MWPMessageReactions.react").MWPMessageReactions,{message:y,outgoing:R,reactions:E,reactionsV2:e?k:void 0,children:function(n,o,a,i,l){return c.jsx(r("MWMessageReactionsContainer.react"),{count:o,emojis:n,message:i,reactions:a,reactionsV2:e?k:void 0,threadKey:l})}})})},n[51]=O,n[52]=y,n[53]=R,n[54]=E,n[55]=k,n[56]=J):J=n[56];var Z=o("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(F.threadKey)?function(e){var t=function(){e(),H()};return c.jsx(o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:_,message:F,onClick:t,source:o("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,ee;n[57]!==g||n[58]!==F||n[59]!==R?(ee=function(){return c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:F,children:c.jsx(o("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:g,message:F,outgoing:R})})},n[57]=g,n[58]=F,n[59]=R,n[60]=ee):ee=n[60];var te;n[61]!==F||n[62]!==R?(te=function(){return c.jsx(r("MWV2MessageTimestampTooltip.react"),{message:F,children:c.jsx(o("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:R})})},n[61]=F,n[62]=R,n[63]=te):te=n[63];var ne;n[64]!==m||n[65]!==_||n[66]!==f||n[67]!==g||n[68]!==h||n[69]!==F||n[70]!==b||n[71]!==R||n[72]!==L||n[73]!==E||n[74]!==k||n[75]!==Q||n[76]!==X||n[77]!==Y||n[78]!==J||n[79]!==Z||n[80]!==ee||n[81]!==te||n[82]!==K?(ne=c.jsx(r("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:m,isLastMessageInGroup:_,isSearchPluginAttachment:f,isSecureMessage:g,mediaRenderQpl:h,message:F,nextMessage:b,outgoing:R,prevMessage:L,reactions:E,reactionsV2:k,renderAttachment:K,renderEmoji:Q,renderMessageBubble:X,renderMessageContainer:Y,renderMessageFooter:J,renderMessageFromBlockee:Z,renderUnsentMessage:ee,renderUnsupportedMessage:te}),n[64]=m,n[65]=_,n[66]=f,n[67]=g,n[68]=h,n[69]=F,n[70]=b,n[71]=R,n[72]=L,n[73]=E,n[74]=k,n[75]=Q,n[76]=X,n[77]=Y,n[78]=J,n[79]=Z,n[80]=ee,n[81]=te,n[82]=K,n[83]=ne):ne=n[83];var re;return n[84]!==ne||n[85]!==j?(re=c.jsx(r("CometErrorBoundary.react"),{fallback:j,children:ne}),n[84]=ne,n[85]=j,n[86]=re):re=n[86],re}var f=m(_);l.MWMessageRowMessageComponent=f}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useCallback,d=u.useMemo,m={root:{marginInlineStart:"x1diwwjn",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(27),n=e.attachment,a=e.botResponseId,i=e.dialogResource,l=e.flowInstanceId,u=e.isSearchSingleBubblePluginAttachment,c=u===void 0?!1:u,d=o("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(n),p=d.attachmentCta1,_=d.attachmentCta2,f=p,g=c?p:_,h=o("MWSearchPluginUtils").useSearchPluginSources(g==null?void 0:g.nativeUrl),y=o("IGDWebUtils").isInstagramWebSupportedApp(Number(r("CurrentUser").getAppID())),C=r("useMWXLazyDialog")(i),b=C[0],v=y?"highlight":"blueLink",S=y?"bodyLink4":"body4",R=a!=null?a:"",L;t[0]!==R?(L={botResponseId:R},t[0]=R,t[1]=L):L=t[1];var E;t[2]!==l||t[3]!==L?(E={extraData:L,flowInstanceId:l},t[2]=l,t[3]=L,t[4]=E):E=t[4];var k=E,I;t[5]!==k?(I=babelHelpers.extends({eventName:"search_plugin_attachment_rendered"},k),t[5]=k,t[6]=I):I=t[6];var T=r("MessengerWebUXLogger").useImpressionLoggerRef(I),D=r("MessengerWebUXLogger").useInteractionLogger(),x;t[7]!==k||t[8]!==D?(x=function(){D==null||D(babelHelpers.extends({eventName:"search_plugin_see_more"},k))},t[7]=k,t[8]=D,t[9]=x):x=t[9];var $=x,P;t[10]!==a||t[11]!==k||t[12]!==D||t[13]!==b||t[14]!==h?(P=function(){h!=null&&(D==null||D(babelHelpers.extends({eventName:"search_plugin_see_sources"},k)),b({botResponseId:a,sources:h}))},t[10]=a,t[11]=k,t[12]=D,t[13]=b,t[14]=h,t[15]=P):P=t[15];var N=P,M;t[16]===Symbol.for("react.memo_cache_sentinel")?(M=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),t[16]=M):M=t[16];var w;t[17]!==c||t[18]!==$||t[19]!==N||t[20]!==f||t[21]!==g?(w=c?s.jsx("div",{className:"x78zum5 x1q0g3np",children:s.jsx(r("MWXPressable.react"),{onPress:N,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:g!=null&&g.title})})}):s.jsxs("div",{className:"x78zum5 x1q0g3np",children:[s.jsx(r("MWXPressable.react"),{linkProps:{url:f==null?void 0:f.actionUrl},onPress:$,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:f!=null&&f.title})}),s.jsx(r("MWXPressable.react"),{children:s.jsx(r("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xA0\xB7\xA0"})}),s.jsx(r("MWXPressable.react"),{onPress:N,overlayDisabled:!0,children:s.jsx(r("MWXText.react"),{color:v,type:S,children:g!=null&&g.title})})]}),t[17]=c,t[18]=$,t[19]=N,t[20]=f,t[21]=g,t[22]=w):w=t[22];var A;t[23]===Symbol.for("react.memo_cache_sentinel")?(A=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),t[23]=A):A=t[23];var F;return t[24]!==T||t[25]!==w?(F=s.jsxs(r("BaseView.react"),{ref:T,xstyle:m.root,children:[M,w,A]}),t[24]=T,t[25]=w,t[26]=F):F=t[26],F}l.default=p}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(14),n=e.mediaGroupInfo,a=e.mediaRenderQpl,i=e.outgoing,l=r("useMAWBulkMediaDownloadManualRetry")(n.attachmentsToRetryDownload,a),c;t[0]!==i?(c={0:{className:"xwib8y2 x1iorvi4 x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4 xpdmqnj"}}[!!i<<0],t[0]=i,t[1]=c):c=t[1];var d;t[2]!==n.groupSize||t[3]!==n.mediaDownloadErrorsCount?(d=s._(/*BTDS*/"Couldn't download {errorQuantity} of {totalQuantity} images",[s._param("errorQuantity",n.mediaDownloadErrorsCount),s._param("totalQuantity",n.groupSize)]),t[2]=n.groupSize,t[3]=n.mediaDownloadErrorsCount,t[4]=d):d=t[4];var m;t[5]!==l||t[6]!==n.attachmentsToRetryDownload.length?(m=n.attachmentsToRetryDownload.length>0&&u.jsxs(u.Fragment,{children:[u.jsx(r("BaseMiddot.react"),{}),u.jsx(r("MWXLink.react"),{onClick:l,weight_DEPRECATED:"medium",children:s._(/*BTDS*/"Retry")})]}),t[5]=l,t[6]=n.attachmentsToRetryDownload.length,t[7]=m):m=t[7];var p;t[8]!==d||t[9]!==m?(p=u.jsxs(r("MWXText.react"),{color:"negative",type:"meta4",children:[d,m]}),t[8]=d,t[9]=m,t[10]=p):p=t[10];var _;return t[11]!==c||t[12]!==p?(_=u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:u.jsx("div",babelHelpers.extends({},c,{children:p}))}),t[11]=c,t[12]=p,t[13]=_):_=t[13],_}l.default=c}),226);
__d("useMAWMediaDownloadManualRetry",["react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(2),a;n[0]!==e?(a=[{attachment:e}],n[0]=e,n[1]=a):a=n[1];var i=a;return r("useMAWBulkMediaDownloadManualRetry")(i,t)}l.default=u}),98);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","react-compiler-runtime","useMAWMediaDownloadManualRetry"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.downloadStatusUIState,i=e.mediaRenderQpl,l=e.outgoing,u=r("useMAWMediaDownloadManualRetry")(n,i),c;t[0]!==a?(c=o("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(a),t[0]=a,t[1]=c):c=t[1];var d=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(n,c,u),m=d.mediaStatusText,p=d.retryButton,_;t[2]!==l?(_={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!l<<0],t[2]=l,t[3]=_):_=t[3];var f;t[4]!==m||t[5]!==p?(f=s.jsxs(r("MWXText.react"),{color:"negative",type:"meta4",children:[m,p]}),t[4]=m,t[5]=p,t[6]=f):f=t[6];var g;return t[7]!==_||t[8]!==f?(g=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},_,{children:f}))}),t[7]=_,t[8]=f,t[9]=g):g=t[9],g}l.default=u}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(8),n=e.label,a=e.onClick,i=e.outgoing,l;t[0]!==i?(l={0:{className:"x1anpbxc xyorhqc"},1:{className:"x1anpbxc xyorhqc xpvyfi4"}}[!!i<<0],t[0]=i,t[1]=l):l=t[1];var u;t[2]!==n||t[3]!==a?(u=a!=null?s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s.jsx(r("MWXLink.react"),{onClick:a,children:n})}):s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:n}),t[2]=n,t[3]=a,t[4]=u):u=t[4];var c;return t[5]!==l||t[6]!==u?(c=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},l,{children:u}))}),t[5]=l,t[6]=u,t[7]=c):c=t[7],c}l.default=u}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="30279456138320382"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{queryReference:{parameters:r("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:r("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};l.default=e}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","logVultureJSDeadEntrypoint","qex","react","react-compiler-runtime","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=r("react")),c=n("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function d(e){var t=o("react-compiler-runtime").c(8),n=e.message,a=e.outgoing;r("vulture")("0hNvN_vprNJL8tgSWpNMukgCZSA=");var i;t[0]!==n?(i={message:n},t[0]=n,t[1]=i):i=t[1];var l=r("useMWInformTreatmentFalcoEventLogger")(i),c=r("gkx")("179"),d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=c?s._(/*BTDS*/"See context"):s._(/*BTDS*/"See third-party fact-check"),t[2]=d):d=t[2];var m=d,p;t[3]!==l?(p=function(){l("view_info_click",{name:"misinformation",type:"media_label"}),r("logVultureJSDeadEntrypoint")("MWCMElectionInformTreatmentDialog.entrypoint")},t[3]=l,t[4]=p):p=t[4];var _;return t[5]!==a||t[6]!==p?(_=u.jsx(r("MWMustacheTextImpl.react"),{label:m,onClick:p,outgoing:a}),t[5]=a,t[6]=p,t[7]=_):_=t[7],_}function m(e){var t=o("react-compiler-runtime").c(10),n=e.label,a=e.message,i=e.outgoing,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={},t[0]=l):l=t[0];var s=r("useMWXEntryPointDialog")(r("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),l),c=s[0],d;t[1]!==a?(d={message:a},t[1]=a,t[2]=d):d=t[2];var m=r("useMWInformTreatmentFalcoEventLogger")(d),p;t[3]!==m||t[4]!==c?(p=function(){m("view_info_click",{name:"ai_generated_content",type:"media_label"}),c({})},t[3]=m,t[4]=c,t[5]=p):p=t[5];var _;return t[6]!==n||t[7]!==i||t[8]!==p?(_=u.jsx(r("MWMustacheTextImpl.react"),{label:n,onClick:p,outgoing:i}),t[6]=n,t[7]=i,t[8]=p,t[9]=_):_=t[9],_}function p(e){var t=o("react-compiler-runtime").c(3),n=e.label,a=e.outgoing;r("vulture")("yQxPZTFLPSyNnGdfjOgB1L8rFgs=");var i=_,l;return t[0]!==n||t[1]!==a?(l=u.jsx(r("MWMustacheTextImpl.react"),{label:n,onClick:i,outgoing:a}),t[0]=n,t[1]=a,t[2]=l):l=t[2],l}function _(){r("logVultureJSDeadEntrypoint")("MWCMElectionFactLabelDialog.entrypoint")}function f(e){var t,n,a=o("react-compiler-runtime").c(13),i=e.isPublicCMThread,l=e.message,s=e.outgoing,_;a[0]!==l.metadataDataclass?(_=l.metadataDataclass!=null?JSON.parse(l.metadataDataclass):null,a[0]=l.metadataDataclass,a[1]=_):_=a[1];var f=_;if(f==null)return null;var g=(t=f.mustache_cta)==null?void 0:t.title;if(i&&(n=f.misinfo_metadata)!=null&&n.has_misinfo){var h;return a[2]!==l||a[3]!==s?(h=u.jsx(d,{message:l,outgoing:s}),a[2]=l,a[3]=s,a[4]=h):h=a[4],h}else if(r("qex")._("1581")===!0&&g===c.SEE_AI_INFO){var y;return a[5]!==l||a[6]!==g||a[7]!==s?(y=u.jsx(m,{label:g,message:l,outgoing:s}),a[5]=l,a[6]=g,a[7]=s,a[8]=y):y=a[8],y}else if(g===c.SEE_ELECTION_INFO){var C;return a[9]!==l.messageId||a[10]!==g||a[11]!==s?(C=u.jsx(p,{_messageId:l.messageId,label:g,outgoing:s}),a[9]=l.messageId,a[10]=g,a[11]=s,a[12]=C):C=a[12],C}return null}l.default=f}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.attachment,a=e.outgoing,i=o("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(n,!1,r("emptyFunction")),l=i.downloadButton,u=i.mediaStatusText,c;t[0]!==a?(c={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!a<<0],t[0]=a,t[1]=c):c=t[1];var d;t[2]!==l?(d=s.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:l}),t[2]=l,t[3]=d):d=t[3];var m;t[4]!==u||t[5]!==d?(m=s.jsxs(r("MWXText.react"),{color:"tertiary",type:"meta4",children:[u,d]}),t[4]=u,t[5]=d,t[6]=m):m=t[6];var p;return t[7]!==c||t[8]!==m?(p=s.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:s.jsx("div",babelHelpers.extends({},c,{children:m}))}),t[7]=c,t[8]=m,t[9]=p):p=t[9],p}l.default=u}),98);
__d("MWSupportTranslationsContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.useContext,d=u.useMemo,m=u.useState,p={setShowToggleMustache:function(){},setShowUntranslatedText:function(){},showToggleMustache:!1,showUntranslatedText:!1},_=s.createContext(p);function f(e){var t,n,r=o("react-compiler-runtime").c(6),a=e.children,i=e.value,l=i===void 0?p:i,u=m((t=l==null?void 0:l.showUntranslatedText)!=null?t:!1),c=u[0],d=u[1],f=m((n=l==null?void 0:l.showToggleMustache)!=null?n:!1),g=f[0],h=f[1],y;r[0]!==g||r[1]!==c?(y={setShowToggleMustache:h,setShowUntranslatedText:d,showToggleMustache:g,showUntranslatedText:c},r[0]=g,r[1]=c,r[2]=y):y=r[2];var C=y,b;return r[3]!==a||r[4]!==C?(b=s.jsx(_.Provider,{value:C,children:a}),r[3]=a,r[4]=C,r[5]=b):b=r[5],b}function g(){return c(_)}l.MWSupportTranslationsContextProvider=f,l.useMWSupportTranslationsContext=g}),98);
__d("useSupportTranslationsFetchDataLS",["ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=(e||(e=r("useReStore")))(),l=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.support_translations,["sourceText"]).getKeyRange(t)},[a,t],i.id+":26"))!=null?n:{},s=l.sourceText;return s}l.default=s}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWMediaDownloadStatusUIStateType","MWMustacheMediaGroupAttachments.react","MWMustacheTextAttachmentError.react","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWPAttachmentDataContext","MWSupportTranslationsContext.react","MessagingAttachmentType","isReceiverFetchSticker","react","react-compiler-runtime","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaDownloadStatus","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t,n=e.attachment,a=e.isSecureMessage,i=e.mediaRenderQpl,l=e.outgoing,m=r("useShouldShowUnsupportedCodecFallback")(n,i),p=(u||(u=o("I64"))).equal(n.attachmentType,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA)),_=(t=r("useMAWMediaDownloadStatus")(a&&!p?n:null,i,r("isReceiverFetchSticker")(n)?n.messageId:void 0))!=null?t:{},f=_.uiState,g=_.validationResult,h=o("MAWMediaDownloadStatusUIStateType").isErrorState(f),y=(g==null?void 0:g.validatedMimeType)==="invalid-mp4",C=h||y;if(f!=null&&C)return d.jsx(r("MWMustacheTextAttachmentError.react"),{attachment:n,downloadStatusUIState:f,mediaRenderQpl:i,outgoing:l});if(m)return d.jsx(r("MWMustacheUnsupportedMediaAttachment.react"),{attachment:n,outgoing:l});var b=n.mustacheText;return b==null||b===""?null:d.jsx(r("MWMustacheTextImpl.react"),{label:s._(/*BTDS*/"\"{quoted text}\"",[s._param("quoted text",b)]),outgoing:l})}m.displayName=m.name+" [from "+i.id+"]";function p(e){var t=o("react-compiler-runtime").c(9),n=e.outgoing,a=e.threadID,i;t[0]!==a?(i={isGeoBlocked:!0,threadID:a},t[0]=a,t[1]=i):i=t[1];var l=r("useGroupsCometCMDisabledChatEntryPointDialog")(i),u=l[0],c;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=s._(/*BTDS*/"See why"),t[2]=c):c=t[2];var m;t[3]!==u||t[4]!==a?(m=function(){u({threadID:a})},t[3]=u,t[4]=a,t[5]=m):m=t[5];var p;return t[6]!==n||t[7]!==m?(p=d.jsx(r("MWMustacheTextImpl.react"),{label:c,onClick:m,outgoing:n}),t[6]=n,t[7]=m,t[8]=p):p=t[8],p}function _(e){var t=o("react-compiler-runtime").c(9),n=e.isLastMessage,a=e.messageID,i=e.outgoing,l=o("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),u=l.setShowUntranslatedText,c=l.showToggleMustache,m=l.showUntranslatedText,p=r("useSupportTranslationsFetchDataLS")(a);if(p==null)return null;if(n||c){var _;t[0]!==m?(_=m?s._(/*BTDS*/"Hide Original"):s._(/*BTDS*/"Show Original"),t[0]=m,t[1]=_):_=t[1];var f;t[2]!==u||t[3]!==m?(f=function(){u(!m)},t[2]=u,t[3]=m,t[4]=f):f=t[4];var g;return t[5]!==i||t[6]!==_||t[7]!==f?(g=d.jsx(r("MWMustacheTextImpl.react"),{label:_,onClick:f,outgoing:i}),t[5]=i,t[6]=_,t[7]=f,t[8]=g):g=t[8],g}return null}function f(e){var t,n=o("react-compiler-runtime").c(22),a=e.isLastMessage,i=e.isPublicCMThread,l=e.isSecureMessage,s=e.mediaRenderQpl,f=e.message,g=e.outgoing,h=e.showSupportTranslationToggleMustache,y=(t=o("MWPAttachmentDataContext").useMWPGetAttachments(f))==null?void 0:t[0],C=r("useGetMediaGroupInformation")(f,l,s),b=f.takedownState!=null&&(u||(u=o("I64"))).equal(f.takedownState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageTakedownState").GEO_BLOCKED));if(b){var v;n[0]!==f.threadKey?(v=(u||(u=o("I64"))).to_string(f.threadKey),n[0]=f.threadKey,n[1]=v):v=n[1];var S;return n[2]!==g||n[3]!==v?(S=d.jsx(p,{outgoing:g,threadID:v}),n[2]=g,n[3]=v,n[4]=S):S=n[4],S}if(h&&!g){var R;return n[5]!==a||n[6]!==f.messageId||n[7]!==g?(R=d.jsx(_,{isLastMessage:a,messageID:f.messageId,outgoing:g}),n[5]=a,n[6]=f.messageId,n[7]=g,n[8]=R):R=n[8],R}if(f.metadataDataclass!=null){var L;return n[9]!==i||n[10]!==f||n[11]!==g?(L=d.jsx(r("MWMustacheTextInformTreatment.react"),{isPublicCMThread:i,message:f,outgoing:g}),n[9]=i,n[10]=f,n[11]=g,n[12]=L):L=n[12],L}else if(C!=null&&C.mediaDownloadErrorsCount>0){var E;return n[13]!==C||n[14]!==s||n[15]!==g?(E=d.jsx(r("MWMustacheMediaGroupAttachments.react"),{mediaGroupInfo:C,mediaRenderQpl:s,outgoing:g}),n[13]=C,n[14]=s,n[15]=g,n[16]=E):E=n[16],E}else if(y!=null){var k;return n[17]!==y||n[18]!==l||n[19]!==s||n[20]!==g?(k=d.jsx(m,{attachment:y,isSecureMessage:l,mediaRenderQpl:s,outgoing:g}),n[17]=y,n[18]=l,n[19]=s,n[20]=g,n[21]=k):k=n[21],k}return null}l.default=f}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={button:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}},d=r("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function m(e){var t=o("react-compiler-runtime").c(9),n=e.hidden,a=e.isSecureMessage,i=e.isSecureThread,l=e.message,s;t[0]!==n?(s={0:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k"},1:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k xlshs6z"}}[!!n<<0],t[0]=n,t[1]=s):s=t[1];var c;t[2]!==a||t[3]!==i||t[4]!==l?(c=u.jsx(r("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:a,isSecureThread:i,message:l},popoverResource:d,popoverType:"menu",children:p}),t[2]=a,t[3]=i,t[4]=l,t[5]=c):c=t[5];var m;return t[6]!==s||t[7]!==c?(m=u.jsx("div",babelHelpers.extends({},s,{children:c})),t[6]=s,t[7]=c,t[8]=m):m=t[8],m}function p(e,t){return u.jsx(r("MWXPressable.react"),{"aria-label":s._(/*BTDS*/"More options for pinned message"),onPress:t,overlayRadius:"inherit",ref:e,xstyle:[c.button,c.centered],children:u.jsx(r("MWXIconStrict.react"),{color:"primary",icon:r("MWXIconDots3Horizontal"),size:16})})}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.attachments||n[1]!==t.messageId||n[2]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(t.threadKey,t.messageId)},n[0]=a.tables.attachments,n[1]=t.messageId,n[2]=t.threadKey,n[3]=l):l=n[3];var s;n[4]!==a||n[5]!==t?(s=[a,t],n[4]=a,n[5]=t,n[6]=s):s=n[6];var u=o("ReQLSuspense").useFirst(l,s,i.id+":27");return(u==null?void 0:u.defaultCtaType)==="xma_web_url"&&(u==null?void 0:u.attachmentLoggingType)==="xma_open_native_rooms_invite"}l.default=s}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","react-compiler-runtime","useMWIsXMARoom","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=(e=n("nux:344"))==null?void 0:e("WEB_MSGR_PINNED_MESSAGES_NUX");function d(e){var t=o("react-compiler-runtime").c(1),n=e.isLastMessage,a=e.isOutgoing,i=e.message,l=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),s=l.isPinnedMessageList,d=i.textHasLinks,m=r("useMWIsXMARoom")(i),p=!a&&(d||m)&&n&&!s;if(!p)return null;var _;return t[0]===Symbol.for("react.memo_cache_sentinel")?(_=c?u.jsx(c,{}):null,t[0]=_):_=t[0],_}var m=o("withCometPlaceholder").withCometPlaceholder(d,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");l.default=m}),98);
__d("useMWShouldHideReply",["MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","isMWBumpMessage","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(6),n=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(e.senderId,e.threadKey),a=r("MWBlockingProtectionContext.react").useHook(),i=a.findMessageId,l=o("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(e.threadKey),s;return t[0]!==i||t[1]!==n||t[2]!==e.messageId||t[3]!==e.replyType||t[4]!==l?(s=r("isMWBumpMessage")(e.replyType)||l&&n&&!i(e.messageId),t[0]=i,t[1]=n,t[2]=e.messageId,t[3]=e.replyType,t[4]=l,t[5]=s):s=t[5],s}l.default=e}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n,a=o("react-compiler-runtime").c(2),l=(u||(u=r("useReStore")))(),c=(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(l.tables.threads,["threadSubtype"]).getKeyRange(t)},[l,t],i.id+":24"))!=null?n:{},d=c.threadSubtype;if(d==null)return!1;var m;return a[0]!==d?(m=(e||(e=o("I64"))).equal(d,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD)),a[0]=d,a[1]=m):m=a[1],m}l.useSupportMessagingGroupThreadSubtype=c}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPAttachmentDataContext","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","deferredLoadComponent","gkx","isMWEditedMessage","mwpIsMessageUnsupported","mwpMessageIsReply","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useGetMediaGroupInformation","useGetOriginalMsgFromBumpMsg","useIsMultiReactionEnabled","useMWShouldHideReply","useSupportMessagingGroupThreadSubtype.react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),m=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),p=r("deferredLoadComponent")(r("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),_={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function f(e){var t=e.attachments,n=e.isSearchSingleBubblePluginAttachment,a=e.message,i=o("MWMessageListLoggingContext").useFlowInstanceId();return c.jsx(r("MWMessageSearchPluginMustache.react"),{attachment:t[0],botResponseId:a.botResponseId,dialogResource:r("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:i.current,isSearchSingleBubblePluginAttachment:n})}f.displayName=f.name+" [from "+i.id+"]";function g(t){var n=o("react-compiler-runtime").c(155),a=t.containerThreadKey,i=t.focused,l=t.hasClickState,s=t.hasMessageEmphasisRing,g=t.hovered,C=t.incoming,b=t.isDialogOpened,v=t.isFirstMessageInGroup,S=t.isGroupThread,R=t.isModal,L=t.isSecureMessage,E=t.mediaRenderQpl,k=t.message,I=t.navigateToRouteForMediaViewer,T=t.nextMessage,D=t.onRenderError,x=t.prevMessage,$=t.renderAttachment,P=t.shouldUseReactionsV2,N=t.threadType,M=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),w=M.isPinnedMessageList,A=M.isStandardMessageList,F=o("MWPMessageReactions.react").useReactions(k),O=o("MWPMessageReactions.react").useReactionsV2(k),B=o("useIsMultiReactionEnabled").useIsMultiReactEnabled(k.threadKey),W=r("MWClickedMessageContext.react").useHook(),q=W.clickedMessageId,U;n[0]!==k?(U=r("isMWEditedMessage")(k),n[0]=k,n[1]=U):U=n[1];var V=U,H=r("useMWShouldHideReply")(k),G=T==null,z=!C,j=C&&S,K;n[2]!==N?(K=o("LSMessagingThreadTypeUtil").isArmadilloSecure(N),n[2]=N,n[3]=K):K=n[3];var Q=K,X;n[4]!==N?(X=o("LSMessagingThreadTypeUtil").isPublicCMThread(N),n[4]=N,n[5]=X):X=n[5];var Y=X,J=r("useGetMediaGroupInformation")(k,L,E),Z=o("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(k.threadKey),ee=Z&&r("gkx")("7815"),te;if(n[6]!==w||n[7]!==J||n[8]!==k||n[9]!==T){var ne;te=w||o("MWPMessageParsingUtils").isEndOfGroup(k,T)||(J==null?void 0:J.groupsLastMessage)!=null&&o("MWPMessageParsingUtils").isEndOfGroup(J.groupsLastMessage,(ne=J.groupsNextMessage)!=null?ne:void 0),n[6]=w,n[7]=J,n[8]=k,n[9]=T,n[10]=te}else te=n[10];var re=te,oe=r("useGetOriginalMsgFromBumpMsg")(k==null?void 0:k.replyType,k==null?void 0:k.replySourceId,k==null?void 0:k.threadKey),ae;n[11]!==k.senderId||n[12]!==oe?(ae=oe!=null&&!(u||(u=o("I64"))).equal(oe==null?void 0:oe.senderId,k.senderId),n[11]=k.senderId,n[12]=oe,n[13]=ae):ae=n[13];var ie=ae,le=oe!=null?oe:k,se;n[14]!==le?(se=r("mwpMessageIsReply")(le),n[14]=le,n[15]=se):se=n[15];var ue=se,ce=o("MWPAttachmentDataContext").useMWPGetAttachments(oe!=null?oe:k),de=ce.length>0,me;n[16]!==ce[0]||n[17]!==de?(me=de&&o("MWSearchPluginUtils").isSearchPlugin(ce[0]),n[16]=ce[0],n[17]=de,n[18]=me):me=n[18];var pe=me,_e;n[19]!==ce[0]||n[20]!==de?(_e=de&&o("MWSearchPluginUtils").isSearchSingleBubblePlugin(ce[0]),n[19]=ce[0],n[20]=de,n[21]=_e):_e=n[21];var fe=_e,ge=oe!=null?oe:k,he;n[22]!==ce||n[23]!==ge?(he=r("mwpIsMessageUnsupported")(ge,ce),n[22]=ce,n[23]=ge,n[24]=he):he=n[24];var ye=he,Ce;n[25]!==ye||n[26]!==B||n[27]!==O?(Ce=B&&O.some(y)||ye,n[25]=ye,n[26]=B,n[27]=O,n[28]=Ce):Ce=n[28];var be=Ce,ve=(F.length>0||O.length>0)&&!B,Se;n[29]!==v||n[30]!==j?(Se=v&&!j?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,n[29]=v,n[30]=j,n[31]=Se):Se=n[31];var Re;n[32]!==S||n[33]!==ue||n[34]!==L||n[35]!==k||n[36]!==z||n[37]!==H||n[38]!==N?(Re=ue&&!H&&c.jsx(r("MWMessageReplyRow.react"),{isGroupThread:S,isSecureMessage:L,message:k,outgoing:z,threadType:N}),n[32]=S,n[33]=ue,n[34]=L,n[35]=k,n[36]=z,n[37]=H,n[38]=N,n[39]=Re):Re=n[39];var Le;n[40]!==V||n[41]!==ue||n[42]!==L||n[43]!==k.editCount||n[44]!==k.messageId||n[45]!==z||n[46]!==N?(Le=V&&c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:c.jsx(m,{editCount:k.editCount,isReply:ue,isSecureMessage:L,msgId:k.messageId,outgoing:z,threadType:N})}),n[40]=V,n[41]=ue,n[42]=L,n[43]=k.editCount,n[44]=k.messageId,n[45]=z,n[46]=N,n[47]=Le):Le=n[47];var Ee;n[48]!==a||n[49]!==i||n[50]!==g||n[51]!==b||n[52]!==R||n[53]!==w||n[54]!==L||n[55]!==Q||n[56]!==A||n[57]!==k||n[58]!==z||n[59]!==be||n[60]!==N?(Ee=function(t){return A?c.jsx(o("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:R===!1,containerThreadKey:a,focused:i||b||R,hidden:t,hovered:g,isSecureMessage:L,message:k,outgoing:z,shouldHideHoverMenuReact:be,threadType:N}):w?c.jsx(r("MWPinnedMessageDropdownButton.react"),{hidden:!g&&!i,isSecureMessage:L,isSecureThread:Q,message:k}):null},n[48]=a,n[49]=i,n[50]=g,n[51]=b,n[52]=R,n[53]=w,n[54]=L,n[55]=Q,n[56]=A,n[57]=k,n[58]=z,n[59]=be,n[60]=N,n[61]=Ee):Ee=n[61];var ke;n[62]!==B||n[63]!==k||n[64]!==z||n[65]!==F||n[66]!==O?(ke=function(){if(k.isUnsent)return null;var t=O!=null&&O.length>0;return!B||!t?null:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(_.multiReactContainer,z?_.multiReactContainerOutgoing:!1),{children:c.jsx(o("MWPMessageReactions.react").MWPMessageReactions,{message:k,outgoing:z,reactions:F,reactionsV2:O,children:function(t,n,o,a,i,l,s,u){return c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:c.jsx(d,{emojis:t,isMultiReactRowExpanded:s,message:a,onOpenDialog:l,outgoing:z,reactionsV2:O,toggleMultiReactionRowExpansion:u})})}})}))},n[62]=B,n[63]=k,n[64]=z,n[65]=F,n[66]=O,n[67]=ke):ke=n[67];var Ie;n[68]!==S||n[69]!==re||n[70]!==R||n[71]!==k?(Ie=function(){return c.jsx(r("MWV2MessageProfilePhoto.react"),{ariaHidden:S?!R:!0,display:re?"visible":"hidden",isGroupThread:S,message:k})},n[68]=S,n[69]=re,n[70]=R,n[71]=k,n[72]=Ie):Ie=n[72];var Te;n[73]!==ue||n[74]!==z?(Te=function(t){return c.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:z,isReply:ue})},n[73]=ue,n[74]=z,n[75]=Te):Te=n[75];var De;n[76]!==ce||n[77]!==a||n[78]!==ie||n[79]!==l||n[80]!==s||n[81]!==v||n[82]!==re||n[83]!==w||n[84]!==ue||n[85]!==pe||n[86]!==L||n[87]!==E||n[88]!==k||n[89]!==I||n[90]!==T||n[91]!==oe||n[92]!==z||n[93]!==x||n[94]!==F||n[95]!==O||n[96]!==$||n[97]!==P||n[98]!==N?(De=w?c.jsx(o("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:ce,containerThreadKey:a,hasClickState:l,hasMessageEmphasisRing:s,isFirstMessageInGroup:v,isLastMessageInGroup:re,isSearchPluginAttachment:pe,isSecureMessage:L,mediaRenderQpl:E,message:k,nextMessage:T,offlineAttachmentId:ce&&ce.length>0?ce[0].offlineAttachmentId:null,originalBumpedMsg:oe,outgoing:z,prevMessage:x,reactions:F,reactionsV2:P?O:void 0,renderAttachment:$,threadType:N}):c.jsx(r("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:ue,message:k,outgoing:z,children:c.jsx(o("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:ce,containerThreadKey:a,hasBlockQuoteStyle:ie,hasClickState:l,hasMessageEmphasisRing:s,isFirstMessageInGroup:v,isLastMessageInGroup:re,isSearchPluginAttachment:pe,isSecureMessage:L,mediaRenderQpl:E,message:k,navigateToRouteForMediaViewer:I,nextMessage:T,offlineAttachmentId:ce&&ce.length>0?ce[0].offlineAttachmentId:null,originalBumpedMsg:oe,outgoing:z,prevMessage:x,reactions:F,reactionsV2:P?O:void 0,renderAttachment:$,threadType:N})}),n[76]=ce,n[77]=a,n[78]=ie,n[79]=l,n[80]=s,n[81]=v,n[82]=re,n[83]=w,n[84]=ue,n[85]=pe,n[86]=L,n[87]=E,n[88]=k,n[89]=I,n[90]=T,n[91]=oe,n[92]=z,n[93]=x,n[94]=F,n[95]=O,n[96]=$,n[97]=P,n[98]=N,n[99]=De):De=n[99];var xe;n[100]!==ce||n[101]!==pe||n[102]!==fe||n[103]!==k||n[104]!==oe?(xe=(pe||fe)&&c.jsx(f,{attachments:ce,isSearchSingleBubblePluginAttachment:fe,message:oe!=null?oe:k}),n[100]=ce,n[101]=pe,n[102]=fe,n[103]=k,n[104]=oe,n[105]=xe):xe=n[105];var $e;n[106]!==D||n[107]!==Te||n[108]!==De||n[109]!==xe?($e=c.jsxs(r("CometErrorBoundary.react"),{fallback:Te,onError:D,children:[De,xe]}),n[106]=D,n[107]=Te,n[108]=De,n[109]=xe,n[110]=$e):$e=n[110];var Pe;n[111]!==s||n[112]!==ve||n[113]!==k||n[114]!==oe||n[115]!==z||n[116]!==Ee||n[117]!==ke||n[118]!==Ie||n[119]!==$e?(Pe=c.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:s,hasReactions:ve,message:k,originalBumpedMsg:oe,outgoing:z,renderGutterItem:h,renderMessageActions:Ee,renderMultiReactions:ke,renderProfile:Ie,children:$e}),n[111]=s,n[112]=ve,n[113]=k,n[114]=oe,n[115]=z,n[116]=Ee,n[117]=ke,n[118]=Ie,n[119]=$e,n[120]=Pe):Pe=n[120];var Ne;n[121]!==C||n[122]!==k.messageId||n[123]!==ee?(Ne=ee&&C&&c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:c.jsx(p,{msgId:k.messageId})}),n[121]=C,n[122]=k.messageId,n[123]=ee,n[124]=Ne):Ne=n[124];var Me;n[125]!==G||n[126]!==k||n[127]!==z?(Me=c.jsx(r("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:G,isOutgoing:z,message:k}),n[125]=G,n[126]=k,n[127]=z,n[128]=Me):Me=n[128];var we;n[129]!==G||n[130]!==Y||n[131]!==L||n[132]!==E||n[133]!==k||n[134]!==z||n[135]!==ee?(we=c.jsx(r("MWMustacheText"),{isLastMessage:G,isPublicCMThread:Y,isSecureMessage:L,mediaRenderQpl:E,message:k,outgoing:z,showSupportTranslationToggleMustache:ee}),n[129]=G,n[130]=Y,n[131]=L,n[132]=E,n[133]=k,n[134]=z,n[135]=ee,n[136]=we):we=n[136];var Ae;n[137]!==T?(Ae=c.jsx(r("MWExtraPinnedMessagePadding.react"),{nextMessage:T}),n[137]=T,n[138]=Ae):Ae=n[138];var Fe;n[139]!==q||n[140]!==l||n[141]!==G||n[142]!==re||n[143]!==k.messageId?(Fe=l&&q===k.messageId?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):re&&!G?c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null,n[139]=q,n[140]=l,n[141]=G,n[142]=re,n[143]=k.messageId,n[144]=Fe):Fe=n[144];var Oe;return n[145]!==Se||n[146]!==Re||n[147]!==Le||n[148]!==Pe||n[149]!==Ne||n[150]!==Me||n[151]!==we||n[152]!==Ae||n[153]!==Fe?(Oe=c.jsxs(c.Fragment,{children:[Se,Re,Le,Pe,Ne,Me,we,Ae,Fe]}),n[145]=Se,n[146]=Re,n[147]=Le,n[148]=Pe,n[149]=Ne,n[150]=Me,n[151]=we,n[152]=Ae,n[153]=Fe,n[154]=Oe):Oe=n[154],Oe}function h(){return c.jsx("div",{className:"x1xc55vz",role:"none"})}h.displayName=h.name+" [from "+i.id+"]";function y(e){return(u||(u=o("I64"))).to_int32(e.count)>0}l.default=g}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(3),n=e.isLastMessage,a=e.message,i=e.nextMessage,l=o("MWPMessageParsingUtils").isEndOfGroup(a,i),c=l&&!n?u.lastMessageInGroup:u.pinnedMessage,d;return t[0]!==a.messageId||t[1]!==c?(d=s.jsx(r("MWClickToRevealMustacheText.react"),{messageId:a.messageId,xsyle:c}),t[0]=a.messageId,t[1]=c,t[2]=d):d=t[2],d}l.default=c}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(23),n=e.hasClickState,a=e.incoming,i=e.isBroadcastThread,l=e.isFromBlockedContact,u=e.isLastMessage,c=e.isSecureMessage,d=e.message,m=e.nextMessage,p=e.outgoing,_=e.status,f=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),g=f.isPinnedMessageList,h=f.isStandardMessageList;if(h){var y;t[0]!==n||t[1]!==_?(y=n||o("MWMessageDeliveryStatus").isAlwaysShownStatus(_),t[0]=n,t[1]=_,t[2]=y):y=t[2];var C;t[3]!==n||t[4]!==a||t[5]!==i||t[6]!==l||t[7]!==u||t[8]!==c||t[9]!==d||t[10]!==p||t[11]!==_?(C=function(){return s.jsx(o("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:n&&a,hasTextBasedMessageReceipts:!0,isFromBlockedContact:l,isLastMessage:u,isOutgoing:p,isSecureMessage:c,isTextOnly:i,message:d,status:_})},t[3]=n,t[4]=a,t[5]=i,t[6]=l,t[7]=u,t[8]=c,t[9]=d,t[10]=p,t[11]=_,t[12]=C):C=t[12];var b;return t[13]!==d||t[14]!==m||t[15]!==y||t[16]!==C?(b=s.jsx(o("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:d,nextMessage:m,showContent:y,children:C}),t[13]=d,t[14]=m,t[15]=y,t[16]=C,t[17]=b):b=t[17],b}if(g){var v;return t[18]!==l||t[19]!==u||t[20]!==d||t[21]!==m?(v=l?s.jsx(r("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:u,message:d,nextMessage:m}):null,t[18]=l,t[19]=u,t[20]=d,t[21]=m,t[22]=v):v=t[22],v}return null}l.default=u}),98);
__d("MWAttachmentTypeChecks",["I64","LSIntEnum","MessagingAttachmentType"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA))?t.defaultCtaType==="xma_web_url":!1}function c(t){return(e||(e=o("I64"))).equal(t,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").VIDEO))}function d(t){var n=(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").ANIMATED_IMAGE));return n||c(t.attachmentType)&&t.gifPlayback===!0}function m(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}function p(e){return c(e.attachmentType)&&e.gifPlayback!==!0}function _(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER))}function f(t){return(e||(e=o("I64"))).equal(t.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO))}l.isLink=u,l.isGif=d,l.isImage=m,l.isVideo=p,l.isSticker=_,l.isAudio=f}),98);
__d("MWPForwardedContent",["fbt","MWAttachmentTypeChecks","MWPMessageAuthor.react","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(u||(u=o("react"))).useMemo;function d(t,n,a){var l=o("react-compiler-runtime").c(32),u=(e||(e=r("useReStore")))(),c=t.messageId,d=t.threadKey,m;l[0]!==t?(m=r("mwpMessageHasAttachment")(t),l[0]=t,l[1]=m):m=l[1];var p=m,_,f;l[2]!==u||l[3]!==p||l[4]!==c||l[5]!==d?(_=function(){return p?o("ReQL").fromTableAscending(u.tables.attachments).getKeyRange(d,c):o("ReQL").empty()},f=[u,c,d,p],l[2]=u,l[3]=p,l[4]=c,l[5]=d,l[6]=_,l[7]=f):(_=l[6],f=l[7]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":32"),h;if(n)if(g!=null)if(o("MWAttachmentTypeChecks").isLink(g)){var y;l[8]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"You forwarded a link"),l[8]=y):y=l[8],h=y}else if(o("MWAttachmentTypeChecks").isGif(g)){var C;l[9]===Symbol.for("react.memo_cache_sentinel")?(C=s._(/*BTDS*/"You forwarded a GIF"),l[9]=C):C=l[9],h=C}else if(o("MWAttachmentTypeChecks").isImage(g)){var b;l[10]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"You forwarded an image"),l[10]=b):b=l[10],h=b}else if(o("MWAttachmentTypeChecks").isVideo(g)){var v;l[11]===Symbol.for("react.memo_cache_sentinel")?(v=s._(/*BTDS*/"You forwarded a video"),l[11]=v):v=l[11],h=v}else{var S;l[12]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"You forwarded a message"),l[12]=S):S=l[12],h=S}else{var R;l[13]===Symbol.for("react.memo_cache_sentinel")?(R=s._(/*BTDS*/"You forwarded a message"),l[13]=R):R=l[13],h=R}else if(g!=null)if(a!=null)if(o("MWAttachmentTypeChecks").isLink(g)){var L;l[14]!==a?(L=s._(/*BTDS*/"{name} forwarded a link",[s._param("name",a)]),l[14]=a,l[15]=L):L=l[15],h=L}else if(o("MWAttachmentTypeChecks").isGif(g)){var E;l[16]!==a?(E=s._(/*BTDS*/"{name} forwarded a GIF",[s._param("name",a)]),l[16]=a,l[17]=E):E=l[17],h=E}else if(o("MWAttachmentTypeChecks").isImage(g)){var k;l[18]!==a?(k=s._(/*BTDS*/"{name} forwarded an image",[s._param("name",a)]),l[18]=a,l[19]=k):k=l[19],h=k}else if(o("MWAttachmentTypeChecks").isVideo(g)){var I;l[20]!==a?(I=s._(/*BTDS*/"{name} forwarded a video",[s._param("name",a)]),l[20]=a,l[21]=I):I=l[21],h=I}else{var T;l[22]!==a?(T=s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]),l[22]=a,l[23]=T):T=l[23],h=T}else if(o("MWAttachmentTypeChecks").isLink(g)){var D;l[24]===Symbol.for("react.memo_cache_sentinel")?(D=s._(/*BTDS*/"Forwarded a link"),l[24]=D):D=l[24],h=D}else if(o("MWAttachmentTypeChecks").isGif(g)){var x;l[25]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Forwarded a GIF"),l[25]=x):x=l[25],h=x}else if(o("MWAttachmentTypeChecks").isImage(g)){var $;l[26]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Forwarded an image"),l[26]=$):$=l[26],h=$}else if(o("MWAttachmentTypeChecks").isVideo(g)){var P;l[27]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"Forwarded a video"),l[27]=P):P=l[27],h=P}else{var N;l[28]===Symbol.for("react.memo_cache_sentinel")?(N=s._(/*BTDS*/"Forwarded a message"),l[28]=N):N=l[28],h=N}else if(a!=null){var M;l[29]!==a?(M=s._(/*BTDS*/"{name} forwarded a message",[s._param("name",a)]),l[29]=a,l[30]=M):M=l[30],h=M}else{var w;l[31]===Symbol.for("react.memo_cache_sentinel")?(w=s._(/*BTDS*/"Forwarded a message"),l[31]=w):w=l[31],h=w}return h}function m(e,t){var n=o("MWPMessageAuthor.react").useAuthorName(),r=n[0];return d(e,t,r)}l.useTitle=m}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:22337","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22337")),r("gkx")("23219"));l.default=e}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function c(e){var t=o("react-compiler-runtime").c(7),n=e.message,a=e.outgoing,i=o("MWPForwardedContent").useTitle(n,a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("BaseIsDecorativeContext").Provider,{value:!0,children:s.jsx(r("MWXIconStrict.react"),{color:u,icon:r("MWXIconForwardAction"),size:12})})}),t[0]=l):l=t[0];var c;t[1]===Symbol.for("react.memo_cache_sentinel")?(c={className:"x1aimgj9"},t[1]=c):c=t[1];var d;t[2]!==i?(d=s.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[l,s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:s.jsx("span",babelHelpers.extends({},c,{children:i}))})})]}),t[2]=i,t[3]=d):d=t[3];var m=d,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j"},t[4]=p):p=t[4];var _;return t[5]!==m?(_=s.jsx("div",babelHelpers.extends({},p,{children:m})),t[5]=m,t[6]=_):_=t[6],_}l.default=c}),98);
__d("MWPMessagePinnedText.react",["fbt","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(4),n=e.divider,a=e.message,i=r("useMWPIsMessagePinned")(a),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Pinned"),t[0]=l):l=t[0];var c=l,d;return t[1]!==n||t[2]!==i?(d=i&&u.jsxs(u.Fragment,{children:[n!=null&&u.jsx("span",{className:"x1sdyfia",children:n}),u.jsx("span",{"aria-label":c,children:c})]}),t[1]=n,t[2]=i,t[3]=d):d=t[3],d}l.default=c}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:22338","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22338")),r("gkx")("23219"));l.default=e}),98);
__d("WorkLSHiddenEyebrowLabel.react",["fbt","BaseMiddot.react","FDSTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(10),n=e.separatorStyle,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={eventName:"edit_eyebrow_impression"},t[0]=a):a=t[0];var i=r("MessengerWebUXLogger").useImpressionLoggerRef(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Visible to only you"),t[1]=l):l=t[1];var c=l,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"This message is only visible to you"),t[2]=d):d=t[2];var m=d,p;t[3]!==n?(p=n!=null&&u.jsx(o("react-strict-dom").html.span,{style:n,children:u.jsx(r("BaseMiddot.react"),{})}),t[3]=n,t[4]=p):p=t[4];var _;t[5]!==i?(_=u.jsx(r("FDSTooltip.react"),{position:"end",tooltip:m,children:u.jsx(o("react-strict-dom").html.span,{"data-testid":void 0,ref:i,children:c})}),t[5]=i,t[6]=_):_=t[6];var f;return t[7]!==p||t[8]!==_?(f=u.jsxs(u.Fragment,{children:[p,_]}),t[7]=p,t[8]=_,t[9]=f):f=t[9],f}l.default=c}),226);
__d("isMWMetamateEmployeeOnlyHiddenMessage",["gkx"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){return!!(e!=null&&e.includes("#hidden"))&&!!(e!=null&&e.includes("#metamate"))&&t&&r("gkx")("20861")&&r("gkx")("22885")&&r("gkx")("10631")}l.default=e}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","react-compiler-runtime","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(t,n,r,o,a,i,l,s){"use strict";var e;function u(t,n){var a=o("react-compiler-runtime").c(3),i=r("useMWPIsMessagePinned")(t),l=o("MWPMessageAuthor.react").useAuthorName(),u=l[0],c=o("Actor").useActor(),d=c[0],m=d===(e||(e=o("I64"))).to_string(t.senderId),p=r("useMWIsReplyToAuthor")(t);if(!i||m||p)return t.replySnippet;var _;return a[0]!==u||a[1]!==n?(_=n?s._(/*BTDS*/"Pinned your reply").toString():s._(/*BTDS*/"Pinned {name}'s reply",[s._param("name",u)]).toString(),a[0]=u,a[1]=n,a[2]=_):_=a[2],_}l.default=u}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","WorkLSHiddenEyebrowLabel.react","isMWBumpMessage","isMWEditedMessage","isMWMetamateEmployeeOnlyHiddenMessage","react","react-compiler-runtime","useMWJumpToMessage","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m={separator:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0}},p=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function _(e){var t=o("react-compiler-runtime").c(3),n=e.replySourceType;if(n==null)return null;if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").STORY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY))){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconReply"),size:12}),t[0]=a):a=t[0],a}else if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_SHARE))){var i;return t[1]===Symbol.for("react.memo_cache_sentinel")?(i=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconForwardAction"),size:12}),t[1]=i):i=t[1],i}else if((u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FB_STORY_MENTION))){var l;return t[2]===Symbol.for("react.memo_cache_sentinel")?(l=d.jsx(r("MWXIconStrict.react"),{color:p,icon:r("MWXIconForward"),size:12}),t[2]=l):l=t[2],l}return null}function f(t){var n,a=o("react-compiler-runtime").c(35),l=t.enableEditHistory,s=t.message,u=t.outgoing,c=l===void 0?!0:l,p=(e||(e=r("useReStore")))(),f=r("useMWReplySnippetContent")(s,u),h=r("useMWJumpToMessage")("Bump"),y;a[0]!==p.tables.threads||a[1]!==s.threadKey?(y=function(){return o("ReQL").fromTableAscending(p.tables.threads,["threadType"]).getKeyRange(s.threadKey).map(g)},a[0]=p.tables.threads,a[1]=s.threadKey,a[2]=y):y=a[2];var C;a[3]!==p||a[4]!==s.threadKey?(C=[p,s.threadKey],a[3]=p,a[4]=s.threadKey,a[5]=C):C=a[5];var b=o("ReQLSuspense").useFirst(y,C,i.id+":123"),v=b==null?!1:o("LSMessagingThreadTypeUtil").isArmadilloSecure(b),S=(n=o("useStringWithSubstitutions").useStringWithSubstitutions(v?f:null,s.threadKey))!=null?n:f;if(f==null||f.trim().length===0)return null;var R;a[6]!==s?(R=r("isMWEditedMessage")(s),a[6]=s,a[7]=R):R=a[7];var L=R,E;a[8]!==s.text||a[9]!==u?(E=r("isMWMetamateEmployeeOnlyHiddenMessage")(s.text,u),a[8]=s.text,a[9]=u,a[10]=E):E=a[10];var k=E,I;a[11]!==s.replyType?(I=r("isMWBumpMessage")(s.replyType),a[11]=s.replyType,a[12]=I):I=a[12];var T=I,D=T&&s.replySourceId!=null&&s.replySourceTimestampMs!=null,x;a[13]!==s.replySourceTypeV2||a[14]!==D?(x=!D&&d.jsx(_,{replySourceType:s==null?void 0:s.replySourceTypeV2}),a[13]=s.replySourceTypeV2,a[14]=D,a[15]=x):x=a[15];var $;a[16]!==x?($=d.jsx(r("MWXRowItem.react"),{children:x}),a[16]=x,a[17]=$):$=a[17];var P;a[18]!==c||a[19]!==L||a[20]!==h||a[21]!==s.replySourceId||a[22]!==s.replySourceTimestampMs||a[23]!==S||a[24]!==D?(P=d.jsx(r("MWXRowItem.react"),{children:D?d.jsx(r("MWXPressable.react"),{onPress:function(){s.replySourceId!=null&&s.replySourceTimestampMs!=null&&h(s.replySourceId,s.replySourceTimestampMs)},overlayDisabled:!0,children:d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsx("span",{className:"x1aimgj9",children:S})})}):d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsxs("span",{className:"x1aimgj9",children:[S,L&&d.jsx(o("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:c,separatorStyle:m.separator})]})})}),a[18]=c,a[19]=L,a[20]=h,a[21]=s.replySourceId,a[22]=s.replySourceTimestampMs,a[23]=S,a[24]=D,a[25]=P):P=a[25];var N;a[26]===Symbol.for("react.memo_cache_sentinel")?(N={className:"x1aimgj9"},a[26]=N):N=a[26];var M;a[27]!==k?(M=k&&d.jsx(r("WorkLSHiddenEyebrowLabel.react"),{separatorStyle:m.separator}),a[27]=k,a[28]=M):M=a[28];var w;a[29]!==M?(w=d.jsx(r("MWXRowItem.react"),{children:d.jsx(r("MWXText.react"),{color:"tertiary",type:"meta4",children:d.jsx("span",babelHelpers.extends({},N,{children:M}))})}),a[29]=M,a[30]=w):w=a[30];var A;return a[31]!==w||a[32]!==$||a[33]!==P?(A=d.jsxs(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[$,P,w]}),a[31]=w,a[32]=$,a[33]=P,a[34]=A):A=a[34],A}function g(e){return e.threadType}l.default=f}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(21),n=e.isCMThread,a=e.isFirstMessageInGroup,i=e.isGroupThread,l=e.isLastMessageInGroup,u=e.message,m=e.outgoing,p=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),_=p.isPinnedMessageList,f=p.isStandardMessageList,g=d,h;t[0]!==u||t[1]!==m?(h=function(){return s.jsx(r("MWForwardedContent.react"),{message:u,outgoing:m})},t[0]=u,t[1]=m,t[2]=h):h=t[2];var y;t[3]!==f||t[4]!==u?(y=function(t,n){return f?s.jsx(r("MWPMessagePinnedText.react"),{divider:n&&s.jsx(r("BaseMiddot.react"),{}),message:u}):null},t[3]=f,t[4]=u,t[5]=y):y=t[5];var C;t[6]!==u||t[7]!==m?(C=function(){return s.jsx(r("MWReplySnippet.react"),{message:u,outgoing:m})},t[6]=u,t[7]=m,t[8]=C):C=t[8];var b=_?g:void 0,v;return t[9]!==n||t[10]!==a||t[11]!==i||t[12]!==l||t[13]!==_||t[14]!==u||t[15]!==m||t[16]!==h||t[17]!==y||t[18]!==C||t[19]!==b?(v=s.jsx(r("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:_,isAnyCMThread:n,isFirstMessageInGroup:a,isGroupThread:i,isLastMessageInGroup:l,message:u,outgoing:m,renderForwardSnippet:h,renderPinnedText:y,renderReplySnippet:C,renderTextWrapper:c,renderTimestamp:b}),t[9]=n,t[10]=a,t[11]=i,t[12]=l,t[13]=_,t[14]=u,t[15]=m,t[16]=h,t[17]=y,t[18]=C,t[19]=b,t[20]=v):v=t[20],v}function c(e){return s.jsx(r("MWXText.react"),{color:"secondary",type:"meta4",children:e})}c.displayName=c.name+" [from "+i.id+"]";function d(e){return s.jsx(r("MWXText.react"),{color:"secondary",type:"meta4",children:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(t,n,r,o,a,i,l){"use strict";l.default=n("cr:9929")}),98);
__d("MWPMessageListFocusableTableRowSimple.react",["BaseView.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.startTransition,d=u.useCallback,m=u.useState;function p(e){var t=o("react-compiler-runtime").c(6),n=e.nameForModality,a=m(!1),i=a[0],l=a[1],u=m(!1),d=u[0],p=u[1],_;t[0]===Symbol.for("react.memo_cache_sentinel")?(_=function(t){return c(function(){return l(t)})},t[0]=_):_=t[0];var f=_,g=o("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal(),h=g.modal,y=h===n,C;return t[1]!==d||t[2]!==i||t[3]!==y||t[4]!==e?(C=s.jsx(r("BaseView.react"),{role:"row",children:s.jsx(r("MWPMessageListFocusableTableRow.react"),babelHelpers.extends({isDialogOpened:d,isFocused:i,isModal:y,setFocused:f,setIsDialogOpened:p},e))}),t[1]=d,t[2]=i,t[3]=y,t[4]=e,t[5]=C):C=t[5],C}l.default=p}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["fbt","CometErrorBoundary.react","I64","JSResourceForInteraction","MWEBMobileOnboardingEligibility","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=o("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(r("JSResourceForInteraction")("MWEBOnboardingGapUI.react").__setRef("MWMessageRowMissingMessagesIndicator.react")),m=(u||(u=o("I64"))).of_int32(5e3);function p(e){var t=o("react-compiler-runtime").c(4),n=e.entryPoint,a=e.isSecureMessage,i=e.lastEbMessageTime,l=e.message,p=e.nextMessage,f=e.prevMessage;if(n==="pinned_message_list")return null;var g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=s._(/*BTDS*/"Messages are missing."),t[0]=g):g=t[0];var h=g;if(i==null){var y=a&&f!=null&&!(u||(u=o("I64"))).equal(f==null?void 0:f.threadKey,l.threadKey),C=a&&f==null;if(y||C){var b;return t[1]!==n?(b=d!=null&&c.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:h,nameForModality:"ebmmindicator",children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsx(d,{fallback:null,props:{entryPoint:n}})})}),t[1]=n,t[2]=b):b=t[2],b}}else if((u||(u=o("I64"))).gt((u||(u=o("I64"))).sub(i,l.timestampMs),m)&&(p==null||(u||(u=o("I64"))).lt(i,p.timestampMs))){var v;return t[3]===Symbol.for("react.memo_cache_sentinel")?(v=r("MWEBRestoreGapUIWithEBCheck.react")!=null&&c.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:h,nameForModality:"ebmmindicator",children:c.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:c.jsx(r("CometErrorBoundary.react"),{fallback:_,children:c.jsx(r("MWEBRestoreGapUIWithEBCheck.react"),{})})})}),t[3]=v):v=t[3],v}return null}function _(){return null}l.default=p}),226);
__d("MWChatMessageUnreadIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function d(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Unread messages"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",xstyle:c.line,children:u.jsx(u.Fragment,{})}),e[1]=a):a=e[1];var i;e[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:u.jsx(o("react-strict-dom").html.div,{style:c.color,children:n})})}),e[2]=i):i=e[2];var l;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsxs(r("MWXRow.react"),{"aria-label":n,paddingVertical:12,spacingVertical:0,children:[a,i,u.jsx(r("MWXRowItem.react"),{verticalAlign:"center",xstyle:c.line,children:u.jsx(u.Fragment,{})})]}),e[3]=l):l=e[3],l}l.default=d}),226);
__d("useThreadLastUnreadWatermarkAndMessages",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n,a=o("react-compiler-runtime").c(6),l=(s||(s=r("useReStore")))(),u;a[0]!==l.tables.threads||a[1]!==t?(u=function(){return o("ReQL").fromTableAscending(l.tables.threads).getKeyRange(t)},a[0]=l.tables.threads,a[1]=t,a[2]=u):u=a[2];var c;a[3]!==l||a[4]!==t?(c=[l,t],a[3]=l,a[4]=t,a[5]=c):c=a[5];var d=o("ReQLSuspense").useFirstWithoutSubscribing(u,c,i.id+":23");return(n=d==null?void 0:d.lastReadWatermarkTimestampMs)!=null?n:(e||(e=o("I64"))).zero}function c(t,n){var a=o("react-compiler-runtime").c(10),l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),c;a[0]!==u||a[1]!==l.tables.messages||a[2]!==n||a[3]!==t?(c=function(){return o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(t).bounds({gt:[n]}).filter(function(t){return(e||(e=o("I64"))).equal(t.senderId,u)?!1:!t.isAdminMessage})},a[0]=u,a[1]=l.tables.messages,a[2]=n,a[3]=t,a[4]=c):c=a[4];var d;return a[5]!==u||a[6]!==l||a[7]!==n||a[8]!==t?(d=[u,l,n,t],a[5]=u,a[6]=l,a[7]=n,a[8]=t,a[9]=d):d=a[9],o("ReQLSuspense").useArray(c,d,i.id+":36")}l.useThreadLastReadWatermark=u,l.useUnreadMessages=c}),98);
__d("MWChatMessageUnreadIndicatorCountAndAISummary.react",["fbt","I64","JSResourceForInteraction","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog","useThreadLastUnreadWatermarkAndMessages","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=r("requireDeferred")("MessagingAiAgentInteractionsFalcoEvent").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react"),m=r("JSResourceForInteraction")("MWAISummaryDialogRoot.react").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react");function p(e){var t=o("react-compiler-runtime").c(32),n=e.lastReadWatermarkTimestampMs,a=e.threadKey,i=n===void 0?(u||(u=o("I64"))).zero:n;r("vulture")("pjBSc5ez14RiY5fAc1jaVKrC3sg=");var l=o("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(a,i).length,p=r("useMWXLazyDialog")(m),f=p[0];if(l<=0)return null;var g;t[0]!==l?(g=s._(/*BTDS*/"_j{\"*\":\"{count} unread messages.\",\"_1\":\"{count} unread message.\"}",[s._plural(l),s._param("count",String(r("intlSummarizeNumber")(l)))]).toString(),t[0]=l,t[1]=g):g=t[1];var h=g,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(y=s._(/*BTDS*/"Summarize with Meta AI").toString(),t[2]=y):y=t[2];var C=y,b;t[3]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"These messages will be shared with Meta AI to create a summary and may be used to improve AI at Meta.").toString(),t[3]=b):b=t[3];var v=b,S;t[4]!==h?(S=c.jsx(r("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta1",children:h}),t[4]=h,t[5]=S):S=t[5];var R;t[6]!==S||t[7]!==h?(R=c.jsx(r("MWXRowItem.react"),{"aria-label":h,verticalAlign:"center",children:S}),t[6]=S,t[7]=h,t[8]=R):R=t[8];var L;t[9]!==i||t[10]!==f||t[11]!==a?(L=function(){f({startTimestampMs:(u||(u=o("I64"))).to_float(i),threadKey:u.to_string(a)}),d.onReady(_)},t[9]=i,t[10]=f,t[11]=a,t[12]=L):L=t[12];var E;t[13]!==C?(E=c.jsx(r("MWXText.react"),{color:"highlight",type:"meta1",children:C}),t[13]=C,t[14]=E):E=t[14];var k;t[15]!==L||t[16]!==E?(k=c.jsx(r("MWXPressable.react"),{onPress:L,children:E}),t[15]=L,t[16]=E,t[17]=k):k=t[17];var I;t[18]!==C||t[19]!==k?(I=c.jsx(r("MWXRowItem.react"),{"aria-label":C,verticalAlign:"center",children:k}),t[18]=C,t[19]=k,t[20]=I):I=t[20];var T;t[21]!==I||t[22]!==R?(T=c.jsxs(r("MWXRow.react"),{align:"center",spacingHorizontal:4,spacingVertical:0,children:[R,I]}),t[21]=I,t[22]=R,t[23]=T):T=t[23];var D;t[24]!==v?(D=c.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:c.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"meta1",children:v})}),t[24]=v,t[25]=D):D=t[25];var x;t[26]!==v||t[27]!==D?(x=c.jsx(r("MWXRow.react"),{align:"center","aria-label":v,paddingVertical:8,spacingVertical:0,children:D}),t[26]=v,t[27]=D,t[28]=x):x=t[28];var $;return t[29]!==T||t[30]!==x?($=c.jsxs(c.Fragment,{children:[T,x]}),t[29]=T,t[30]=x,t[31]=$):$=t[31],$}function _(e){return e.log(f)}function f(){return{action_type:0,entry_point:244,is_e2ee:!1,selected_item:"link",thread_type:2,view_name:8}}l.default=p}),226);
__d("useThreadMetadata",["ReQL","ReQLSuspense","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=(e||(e=r("useReStore")))();return(n=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(a.tables.threads,["metadata"]).getKeyRange(t).map(u)},[a,t],i.id+":25"))!=null?n:""}function u(e){var t=e.metadata;return t}l.default=s}),98);
__d("useThreadUnreadMessagesWordCount",["MWUnvaultedText","react","react-compiler-runtime","useThreadLastUnreadWatermarkAndMessages"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo;function u(e,t){var n=o("react-compiler-runtime").c(2),r=o("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(e,t),a;n[0]!==r?(a=r.filter(m).map(d).reduce(c,0),n[0]=r,n[1]=a):a=n[1];var i=a;return i}function c(e,t){return e+t}function d(e){var t=o("MWUnvaultedText").getMWUnvaultedText(!1,e.text);return t!=null&&t!==""?t.trim().split(/\s+/).length:0}function m(e){return e.text!=null}l.useThreadUnreadMessagesWordCount=u}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["I64","MWChatMessageUnreadIndicator.react","MWChatMessageUnreadIndicatorCountAndAISummary.react","MWPMessageListColumn.react","MWPThreadCapabilitiesContext","MWV2MessageRowSimple.react","react","react-compiler-runtime","useJSON","useThreadMetadata","useThreadUnreadMessagesWordCount","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=50;function d(e){var t,n=o("react-compiler-runtime").c(7),a=e.isOpenGroupThread,i=e.lastReadWatermarkTimestampMs,l=e.threadKey;r("vulture")("DVLYz0oUMEZGHh9ZS3HRKIibW7E=");var d=o("useThreadUnreadMessagesWordCount").useThreadUnreadMessagesWordCount(l,i!=null?i:(s||(s=o("I64"))).zero),m=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),p=m.air131ShareChatMessagesWithMetaAiEnabled,_=r("useThreadMetadata")(l),f=(t=r("useJSON")(_!=null?_:"{}"))!=null?t:[],g=f==null?void 0:f.is_limit_sharing_enabled,h;return n[0]!==p||n[1]!==g||n[2]!==a||n[3]!==i||n[4]!==l||n[5]!==d?(h=u.jsx(r("MWV2MessageRowSimple.react"),{children:u.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:a&&p&&!g&&d>=c?u.jsx(r("MWChatMessageUnreadIndicatorCountAndAISummary.react"),{lastReadWatermarkTimestampMs:i,threadKey:l}):u.jsx(r("MWChatMessageUnreadIndicator.react"),{})})}),n[0]=p,n[1]=g,n[2]=a,n[3]=i,n[4]=l,n[5]=d,n[6]=h):h=n[6],h}l.default=d}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=u.useMemo,p=u.useRef,_=c([{current:r("emptyFunction")},r("emptyFunction")]);function f(){return d(_)}function g(e){var t=o("react-compiler-runtime").c(3),n=e.children,a=p(r("emptyFunction")),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=[a,function(e){a.current=e}],t[0]=i):i=t[0];var l=i,u;return t[1]!==n?(u=s.jsx(_.Provider,{value:l,children:n}),t[1]=n,t[2]=u):u=t[2],u}l.useMWShowMessagePromptPopoverContext=f,l.MWShowMessagePromptPopoverContextProvider=g}),98);
__d("usePageletMetadata",["CometHeroInteractionContext","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useLayoutEffect;function d(e,t){var n=o("react-compiler-runtime").c(5),a=u(r("CometHeroInteractionContext").Context),i,l;n[0]!==a||n[1]!==e||n[2]!==t?(i=function(){return a.logMetadata(e,t,a.pageletStack),(function(){a.logMetadata(e,null,a.pageletStack)})},l=[a,e,t],n[0]=a,n[1]=e,n[2]=t,n[3]=i,n[4]=l):(i=n[3],l=n[4]),c(i,l)}l.default=d}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","react-compiler-runtime","usePageletMetadata"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(2),i;a[0]!==t.displayedContentTypes?(i=(e||(e=o("I64"))).to_string(t.displayedContentTypes),a[0]=t.displayedContentTypes,a[1]=i):i=a[1],r("usePageletMetadata")("displayed_content_types",i),r("usePageletMetadata")("row_index_from_bottom",String(n))}l.default=s}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=10;function u(t,n){var a=o("react-compiler-runtime").c(6),l=(e||(e=r("useReStore")))(),u=(n==null?void 0:n.isAdminMessage)===!0,d,m;a[0]!==l||a[1]!==u||a[2]!==t.primarySortKey||a[3]!==t.threadKey?(d=function(){return u?o("ReQL").fromTableAscending(l.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(t.threadKey).bounds({gt:o("ReQL").key(t.primarySortKey)}).take(s).filter(c):o("ReQL").empty()},m=[l,u,t.primarySortKey,t.threadKey],a[0]=l,a[1]=u,a[2]=t.primarySortKey,a[3]=t.threadKey,a[4]=d,a[5]=m):(d=a[4],m=a[5]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":49");return u?p:n}function c(e){return!e.isAdminMessage}l.default=u}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","Int64Hooks","InteractionTracing","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPAttachmentDataContext","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingUtil","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","WAGetPlatformFromStanzaId","WAStanzaUtils","mwCMIsAnyCMThread","mwpMessageIsReply","react","react-compiler-runtime","useHeroErrorMetadata","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useNextNonAdminMessage"],(function(t,n,r,o,a,i,l){"use strict";var e=["message","nextMessage"],s=["rowIndexFromBottom"],u=["rowIndexFromBottom"],c,d,m,p=c||(c=o("react")),_=c,f=_.memo,g=_.startTransition,h=_.useCallback,y=_.useEffect,C=_.useId,b=_.useState,v={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},S=p.memo(r("MWPMessageRowCalculateStatus.react"));function R(t){var n=o("react-compiler-runtime").c(10),r,a,i;n[0]!==t?(r=t.message,a=t.nextMessage,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=r,n[2]=a,n[3]=i):(r=n[1],a=n[2],i=n[3]);var l;n[4]===Symbol.for("react.memo_cache_sentinel")?(l=["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"],n[4]=l):l=n[4];var s=o("Int64Hooks").usePickInt64(r,l),u;n[5]===Symbol.for("react.memo_cache_sentinel")?(u=["senderId","timestampMs","isAdminMessage"],n[5]=u):u=n[5];var c=o("Int64Hooks").usePickInt64(a,u),d;return n[6]!==i||n[7]!==s||n[8]!==c?(d=p.jsx(S,babelHelpers.extends({message:s,nextMessage:c},i)),n[6]=i,n[7]=s,n[8]=c,n[9]=d):d=n[9],d}function L(e){var t=e.containerThreadKey,n=e.domElementRef,a=e.entryPoint,i=e.hasMessageEmphasisRing,l=e.isMediaGroupLastMessage,s=e.isModal,u=e.isSecureMessage,c=e.lastEbMessageTime,_=e.lastReadWatermarkTimestampMs,f=e.message,S=e.navigateToRouteForMediaViewer,L=e.nextMessage,E=e.onRenderError,I=e.prevMessage,T=e.renderAttachment,D=e.shouldRenderUnreadIndicator,$=e.stopHoveringRef,P=e.threadType,N=e.useReactionsV2,M=N===void 0?!1:N,w=o("MWMessageListDisplayContext.react").useMWMessageListDisplayContext(),A=w.isPinnedMessageList,F=w.isStandardMessageList,O=o("MWPActor.react").useActor(),B=A||o("MWPMessageParsingUtils").isStartOfGroup(f,I),W=A||o("MWPMessageParsingUtils").isEndOfGroup(f,L),q=r("mwCMIsAnyCMThread")(P),U=o("MWCMThreadTypes.react").isBroadcastThread(P),V=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(P),H=o("LSMessagingThreadTypeUtil").isGroup(P),G=o("LSMessagingThreadTypeUtil").isOpenGroupFnFThread(P),z=o("LSMessagingThreadTypeUtil").isArmadilloSecure(P),j=r("mwpMessageIsReply")(f),K=o("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext(),Q=K.seenCountV2Enabled,X=!f.isUnsent&&Q,Y=X&&!V&&!o("LSMessagingThreadTypeUtil").isCMSubthread(P)&&!o("MWCMThreadTypes.react").isStandardCMThread(P),J=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(f.senderId,f.threadKey),Z=!A&&(d||(d=o("I64"))).equal(f.senderId,O),ee=r("useNextNonAdminMessage")(f,L),te=ee==null||l===!0,ne=!Z,re=b(!1),oe=re[0],ae=re[1],ie=b(!1),le=ie[0],se=ie[1],ue=h(function(e){return g(function(){return se(e)})},[se,g]),ce=h(function(e){return g(function(){return ae(e)})},[ae,g]),de=C(),me=b(!1),pe=me[0],_e=me[1],fe=r("useMWMessageRowTheme")(),ge,he=o("MWPAttachmentDataContext").useMWPGetAttachments(f),ye=he.length>0&&he[0].xmaLayoutType!=null&&(d||(d=o("I64"))).equal(he[0].xmaLayoutType,(m||(m=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").STANDARD_DXMA)),Ce=he.length>0&&he[0].xmaLayoutType!=null&&(d||(d=o("I64"))).equal(he[0].xmaLayoutType,(m||(m=o("LSIntEnum"))).ofNumber(r("MNLSXMALayoutType").SHARED_STACK)),be=r("useMWPEditMessageDeemphasizer")(),ve=o("MWThreadViewMediaRenderQpl").useMediaRenderQpl(f,P),Se=ve.mediaRenderQpl,Re=ve.messageRowRef;return y(function(){Se==null||Se.addPoint("render-message-row"),u&&(Se==null||Se.addAnnotations({string:{e2ee_platform:o("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(o("WAStanzaUtils").toStanzaId(f.offlineThreadingId))}}))},[u,Se,f.offlineThreadingId]),f.isAdminMessage?ge=p.jsx(r("MWMessageRowAdminMessage.react"),{domElementRef:n,isDialogOpened:pe,isFirstMessageInGroup:B,isFocused:oe,isModal:s,message:f,messageDomID:de,nextMessage:L,outgoing:Z,prevMessage:I,setFocusedInTransition:ce,setHoveredInTransition:ue,setIsDialogOpened:_e,stopHoveringRef:$}):ye||Ce?ge=p.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:p.jsx(r("MWV2MessageRowSimple.react"),{children:p.jsx(r("BaseView.react"),{xstyle:be,children:p.jsx(r("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:Se,message:f,outgoing:Z,xstyle:v.adminMessageAttachment})})})}):ge=p.jsx(o("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:p.jsx(o("MWMessageEditContext.react").MWMessageEditContextProvider,{children:p.jsx(o("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:p.jsxs(p.Fragment,{children:[D===!0&&p.jsx(r("MWMessageRowUnreadMessagesIndicator.react"),{isOpenGroupThread:G,lastReadWatermarkTimestampMs:_,threadKey:f.threadKey}),B&&F?p.jsx(r("MWV2MessageStartOfGroupContent.react"),{message:f,prevMessage:I}):null,p.jsx(R,{isBroadcastChannel:V,isBroadcastThread:U,isLargeGroup:!1,isSecureGroupThread:z&&H,isSecureThread:z,message:f,nextMessage:ee,children:function(r){return p.jsx(k,{containerThreadKey:t,domElementRef:n,focused:oe,hasClickState:Y,hasMessageEmphasisRing:i,hovered:le,incoming:ne,isBroadcastThread:U,isCMThread:q,isDialogOpened:pe,isFirstMessageInGroup:B,isFromBlockedContact:J,isGroupThread:H,isLastMessage:te,isLastMessageInGroup:W,isMediaGroupLastMessage:l,isModal:s,isSecureMessage:u,mediaRenderQpl:Se,message:f,messageDomID:de,navigateToRouteForMediaViewer:S,nextMessage:L,onRenderError:E,outgoing:Z,prevMessage:I,renderAttachment:T,setFocusedInTransition:ce,setHoveredInTransition:ue,setIsDialogOpened:_e,shouldUseReactionsV2:M,status:r,stopHoveringRef:$,theme:fe,threadType:P})}})]})})})}),p.jsx("div",{ref:Re,children:p.jsxs(x,{isReply:j,message:f,offlineAttachmentId:he.length>0?he[0].offlineAttachmentId:void 0,outgoing:Z,children:[ge,z&&p.jsx(r("MWMessageRowMissingMessagesIndicator.react"),{entryPoint:a,isSecureMessage:u,lastEbMessageTime:c,message:f,nextMessage:L,prevMessage:I})]})})}L.displayName=L.name+" [from "+i.id+"]";function E(e){var t=o("react-compiler-runtime").c(55),n=e.containerThreadKey,a=e.domElementRef,i=e.focused,l=e.hasClickState,s=e.hasMessageEmphasisRing,u=e.hovered,c=e.incoming,d=e.isBroadcastThread,m=e.isCMThread,_=e.isDialogOpened,f=e.isFirstMessageInGroup,g=e.isFromBlockedContact,h=e.isGroupThread,y=e.isLastMessage,C=e.isLastMessageInGroup,b=e.isMediaGroupLastMessage,v=e.isModal,S=e.isSecureMessage,R=e.mediaRenderQpl,L=e.message,E=e.messageDomID,k=e.navigateToRouteForMediaViewer,I=e.nextMessage,T=e.onRenderError,D=e.outgoing,x=e.prevMessage,$=e.renderAttachment,P=e.setFocusedInTransition,N=e.setHoveredInTransition,M=e.setIsDialogOpened,w=e.shouldUseReactionsV2,A=e.status,F=e.stopHoveringRef,O=e.theme,B=e.threadType,W;t[0]!==m||t[1]!==f||t[2]!==h||t[3]!==C||t[4]!==L||t[5]!==D?(W=p.jsx(r("MWMessageRowHeader.react"),{isCMThread:m,isFirstMessageInGroup:f,isGroupThread:h,isLastMessageInGroup:C,message:L,outgoing:D}),t[0]=m,t[1]=f,t[2]=h,t[3]=C,t[4]=L,t[5]=D,t[6]=W):W=t[6];var q;t[7]!==n||t[8]!==i||t[9]!==l||t[10]!==s||t[11]!==u||t[12]!==c||t[13]!==_||t[14]!==f||t[15]!==h||t[16]!==v||t[17]!==S||t[18]!==R||t[19]!==L||t[20]!==k||t[21]!==I||t[22]!==T||t[23]!==x||t[24]!==$||t[25]!==w||t[26]!==B?(q=p.jsx(r("MWMessageRowBody.react"),{containerThreadKey:n,focused:i,hasClickState:l,hasMessageEmphasisRing:s,hovered:u,incoming:c,isDialogOpened:_,isFirstMessageInGroup:f,isGroupThread:h,isModal:v,isSecureMessage:S,mediaRenderQpl:R,message:L,navigateToRouteForMediaViewer:k,nextMessage:I,onRenderError:T,prevMessage:x,renderAttachment:$,shouldUseReactionsV2:w,threadType:B}),t[7]=n,t[8]=i,t[9]=l,t[10]=s,t[11]=u,t[12]=c,t[13]=_,t[14]=f,t[15]=h,t[16]=v,t[17]=S,t[18]=R,t[19]=L,t[20]=k,t[21]=I,t[22]=T,t[23]=x,t[24]=$,t[25]=w,t[26]=B,t[27]=q):q=t[27];var U=b===!0?void 0:I,V;t[28]!==l||t[29]!==c||t[30]!==d||t[31]!==g||t[32]!==y||t[33]!==S||t[34]!==L||t[35]!==D||t[36]!==A||t[37]!==U?(V=p.jsx(r("MWMessageRowFooter.react"),{hasClickState:l,incoming:c,isBroadcastThread:d,isFromBlockedContact:g,isLastMessage:y,isSecureMessage:S,message:L,nextMessage:U,outgoing:D,status:A}),t[28]=l,t[29]=c,t[30]=d,t[31]=g,t[32]=y,t[33]=S,t[34]=L,t[35]=D,t[36]=A,t[37]=U,t[38]=V):V=t[38];var H;return t[39]!==a||t[40]!==i||t[41]!==_||t[42]!==v||t[43]!==L||t[44]!==E||t[45]!==D||t[46]!==P||t[47]!==N||t[48]!==M||t[49]!==F||t[50]!==W||t[51]!==q||t[52]!==V||t[53]!==O?(H=p.jsxs(r("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:a,isDialogOpened:_,isFocused:i,isModal:v,message:L,messageDomID:E,outgoing:D,setFocused:P,setHovered:N,setIsDialogOpened:M,stopHoveringRef:F,theme:O,children:[W,q,V]}),t[39]=a,t[40]=i,t[41]=_,t[42]=v,t[43]=L,t[44]=E,t[45]=D,t[46]=P,t[47]=N,t[48]=M,t[49]=F,t[50]=W,t[51]=q,t[52]=V,t[53]=O,t[54]=H):H=t[54],H}var k=f(E),I=f(function(e){return e.isSecureMessage?p.jsx(L,babelHelpers.extends({},e)):p.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:e.message,children:p.jsx(L,babelHelpers.extends({},e))})});function T(e){var t=o("react-compiler-runtime").c(5),n,a;t[0]!==e?(a=e.rowIndexFromBottom,n=babelHelpers.objectWithoutPropertiesLoose(e,s),t[0]=e,t[1]=n,t[2]=a):(n=t[1],a=t[2]),r("useMWMessageRowAddInteractionTracingMetadata")(n.message,a);var i;return t[3]!==n?(i=p.jsx(I,babelHelpers.extends({},n)),t[3]=n,t[4]=i):i=t[4],i}function D(e){var t=o("react-compiler-runtime").c(6),n,r;t[0]!==e?(r=e.rowIndexFromBottom,n=babelHelpers.objectWithoutPropertiesLoose(e,u),t[0]=e,t[1]=n,t[2]=r):(n=t[1],r=t[2]);var a;return t[3]!==n||t[4]!==r?(a=p.jsx(o("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:p.jsx(T,babelHelpers.extends({},n,{rowIndexFromBottom:r}))}),t[3]=n,t[4]=r,t[5]=a):a=t[5],a}function x(e){var t=e.children,n=e.isReply,a=e.message,i=e.offlineAttachmentId,l=e.outgoing,s=o("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:a.messageId,optimisticAttachmentId:i,optimisticMessageId:a.offlineThreadingId}),u=r("useHeroErrorMetadata")(),c=h(function(e,t){var n=s!=null?r("InteractionTracing").getPendingInteractionById(s):null;if(!(s==null||n==null)){var o=e==null?void 0:e.message;if((e==null?void 0:e.messageFormat)!=null){var a=0;o=e.messageFormat.replace(/%s/g,function(t){return e.messageParams!=null?e.messageParams[a++]:"unknown"})}n.addAnnotation("failType","failLSSInteraction"),n.failTrace(t+" - "+o,!0)}},[s]);return p.jsx(r("CometErrorBoundary.react"),{augmentError:u,description:"MWMessageRow.ErrorBoundary",fallback:function(){return p.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:l,isReply:n})},onError:c,children:t})}x.displayName=x.name+" [from "+i.id+"]",l.MWMessageRow=D}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWMessageAssociatedDataContext","MAWMsg","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPAttachmentDataContext","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","qex","react","react-compiler-runtime","shouldUseImageGrouping","useGetMediaGroupInformation"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t,n=o("react-compiler-runtime").c(53),a=e.domElementRef,i=e.entryPoint,l=e.lastEbMessageTime,c=e.messageAssociatedData,m=e.modal,p=e.row,_=e.rowIndexFromBottom,f=e.thread,g=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),h;n[0]!==f.threadType?(h=o("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),n[0]=f.threadType,n[1]=h):h=n[1];var y=h,C=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),b=C.visibleMessage,v=p.message,S;n[2]!==y||n[3]!==v||n[4]!==f.threadKey?(S=y?(s||(s=o("I64"))).equal(f.threadKey,v.threadKey):!1,n[2]=y,n[3]=v,n[4]=f.threadKey,n[5]=S):S=n[5];var R=S,L=!1;if(b!=null){var E=b.messageId;e:switch(b.source){case"Reply":case"Pinned":case"Bump":case"FullScreenMediaViewer":{L=E===v.messageId;break e}case"Search":{var k;n[6]!==v.messageId||n[7]!==E?(k=E===v.messageId&&r("isMWNewSearchUXEnabled")(),n[6]=v.messageId,n[7]=E,n[8]=k):k=n[8],L=k;break e}default:L=!1}}var I=o("MAWSecureAttachmentRenderer.react").useRenderAttachment(L),T,D;n[9]!==f.threadType?(T=function(){return f.threadType},D=[f.threadType],n[9]=f.threadType,n[10]=T,n[11]=D):(T=n[10],D=n[11]);var x=o("Int64Hooks").useMemoInt64(T,D),$=r("useGetMediaGroupInformation")(v,R);if($!=null&&$.groupId!=null&&$.isFirstMediaMessageInGroup===!1)return null;var P=$==null?void 0:$.isMediaGroupLastMessage,N=m===v.messageId,M;n[12]!==a||n[13]!==i||n[14]!==L||n[15]!==R||n[16]!==l||n[17]!==v||n[18]!==I||n[19]!==p.nextMessage||n[20]!==p.prevMessage||n[21]!==_||n[22]!==g||n[23]!==P||n[24]!==N||n[25]!==f.threadKey||n[26]!==x?(M={containerThreadKey:f.threadKey,domElementRef:a,entryPoint:i,hasMessageEmphasisRing:L,isMediaGroupLastMessage:P,isModal:N,isSecureMessage:R,lastEbMessageTime:l,message:v,nextMessage:p.nextMessage,prevMessage:p.prevMessage,renderAttachment:I,rowIndexFromBottom:_,stopHoveringRef:g,threadType:x},n[12]=a,n[13]=i,n[14]=L,n[15]=R,n[16]=l,n[17]=v,n[18]=I,n[19]=p.nextMessage,n[20]=p.prevMessage,n[21]=_,n[22]=g,n[23]=P,n[24]=N,n[25]=f.threadKey,n[26]=x,n[27]=M):M=n[27];var w=M;if(!((t=r("qex")._("1599"))!=null&&t)){var A;n[28]!==w?(A=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[28]=w,n[29]=A):A=n[29];var F;return n[30]!==R||n[31]!==v||n[32]!==A?(F=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProvider,{isSecureMessage:R,message:v,children:A}),n[30]=R,n[31]=v,n[32]=A,n[33]=F):F=n[33],F}if(c!=null){var O=c.reactions,B=c.attachmentData,W;n[34]!==w?(W=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[34]=w,n[35]=W):W=n[35];var q;n[36]!==O||n[37]!==W?(q=u.jsx(o("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextProvider,{reactions:O,children:W}),n[36]=O,n[37]=W,n[38]=q):q=n[38];var U=q;if(d(v)){var V;return n[39]!==B||n[40]!==U?(V=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderMAW,{attachmentData:B,children:U}),n[39]=B,n[40]=U,n[41]=V):V=n[41],V}else{var H;return n[42]!==U||n[43]!==v?(H=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:v,children:U}),n[42]=U,n[43]=v,n[44]=H):H=n[44],H}}else{var G;n[45]!==w?(G=u.jsx(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},w)),n[45]=w,n[46]=G):G=n[46];var z;n[47]!==v||n[48]!==G?(z=u.jsx(o("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextFetchReactionsLSProvider,{message:v,children:G}),n[47]=v,n[48]=G,n[49]=z):z=n[49];var j;return n[50]!==v||n[51]!==z?(j=u.jsx(o("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:v,children:z}),n[50]=v,n[51]=z,n[52]=j):j=n[52],j}}function d(e){var t,n;if(o("MAWMsg").isMediaMsg(e)&&!((t=r("qex")._("60"))!=null&&t)||o("MAWMsg").isXMAMsg(e)&&!((n=r("qex")._("1595"))!=null&&n)||o("MAWMsg").isReceiverFetchXMAMsg(e)||!o("MAWMsg").isMediaMsg(e)&&!o("MAWMsg").isXMAMsg(e))return!1;var a=r("shouldUseImageGrouping")(e,!0);return!a}l.default=c}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),m={commandsPill:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingInlineStart:"xe2zdcy",paddingInlineEnd:"x2vl965",paddingLeft:null,paddingRight:null,$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(17),a=t.threadKey,l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.custom_thread_commands||n[1]!==a?(u=function(){return o("ReQL").fromTableAscending(l.tables.custom_thread_commands.index("rank")).getKeyRange(a).filter(_)},n[0]=l.tables.custom_thread_commands,n[1]=a,n[2]=u):u=n[2];var p;n[3]!==l||n[4]!==a?(p=[l,a],n[3]=l,n[4]=a,n[5]=p):p=n[5];var f=o("ReQLSuspense").useArray(u,p,i.id+":46"),g=r("useMWXLazyDialog")(d),h=g[0];if(f.length===0)return null;var y;n[6]===Symbol.for("react.memo_cache_sentinel")?(y={className:"x78zum5 xl56j7k xyamay9 x1l90r2v"},n[6]=y):y=n[6];var C;n[7]!==f||n[8]!==h?(C=function(){return h({commands:f})},n[7]=f,n[8]=h,n[9]=C):C=n[9];var b;n[10]!==f.length?(b=s._(/*BTDS*/"_j{\"*\":\"{number} commands\",\"_1\":\"1 command\"}",[s._plural(f.length,"number")]),n[10]=f.length,n[11]=b):b=n[11];var v;n[12]!==b?(v=c.jsx(r("MWXText.react"),{align:"center",type:"headline4",children:b}),n[12]=b,n[13]=v):v=n[13];var S;return n[14]!==C||n[15]!==v?(S=c.jsx("div",babelHelpers.extends({},y,{children:c.jsx(r("MWXPressable.react"),{onPress:C,overlayRadius:"inherit",xstyle:m.commandsPill,children:v})})),n[14]=C,n[15]=v,n[16]=S):S=n[16],S}function _(e){return!e.isOpenPersistentMenu}l.default=p}),226);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","react-compiler-runtime","useCurrentDisplayMode","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=e.useCallback,m={image:{marginBottom:"x1hq5gj4",$$css:!0}};function p(){var e=o("react-compiler-runtime").c(4),t=r("useCurrentDisplayMode")(),n=t==="dark",a;e[0]!==n?(a=u(n?"196161":"196163"),e[0]=n,e[1]=a):a=e[1];var i=a,l;return e[2]!==i?(l=c.jsx(r("MWXImage.react"),{src:i,xstyle:m.image}),e[2]=i,e[3]=l):l=e[3],l}function _(){var e=o("react-compiler-runtime").c(6),t=f,n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={onImpressionStart:t},e[0]=n):n=e[0];var a=r("useSinglePartialViewImpression")(n),i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x11t971q x4ii5y1 xvc5jky x1pdq3kb xw5ewwj x2b8uid"},e[1]=i):i=e[1];var l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=c.jsx(p,{}),e[2]=l):l=e[2];var u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=c.jsx(r("MWXTextPairing.react"),{body:s._(/*BTDS*/"Your followers will get an invite to join after you send your first message."),headline:s._(/*BTDS*/"Welcome members with a poll, behind-the-scenes photo or voice message"),level:4,testid:void 0,textAlign:"center"}),e[3]=u):u=e[3];var d;return e[4]!==a?(d=c.jsxs("div",babelHelpers.extends({},i,{ref:a,children:[l,u]})),e[4]=a,e[5]=d):d=e[5],d}function f(){var e;(e=o("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd(),e.logCCTVJoinNavigationToThreadEnd(),e.logCreateChannelToThreadViewQPLSuccess(),e.logCCTVJoinSuccess()}l.default=_}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","JSResourceForInteraction","MWXLink.react","MWXText.react","fbicon","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d=r("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWContextBannerEndToEndEncryptedBanner.react"),m={banner:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0}};function p(){var e=o("react-compiler-runtime").c(6),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={},e[0]=t):t=e[0];var n=t,a=r("useMWXLazyDialog")(d),i=a[0],l;e[1]!==i?(l=function(){return i(n)},e[1]=i,e[2]=l):l=e[2];var p=l,_;e[3]===Symbol.for("react.memo_cache_sentinel")?(_=c.jsx(r("FDSIcon.react"),{icon:o("fbicon")._(u("1596805"),10),size:10}),e[3]=_):_=e[3];var f;return e[4]!==p?(f=c.jsx(r("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:c.jsx(r("CometRowItem.react"),{children:c.jsx(r("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:m.banner,children:c.jsx(r("CometColumnItem.react"),{children:c.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c.jsx(r("FDSTextWithIcon.react"),{iconBefore:_,children:s._(/*BTDS*/"Messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them. {=m1}",[s._implicitParam("=m1",c.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s._(/*BTDS*/"{=m1}",[s._implicitParam("=m1",c.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about end-to-end encryption"),onClick:p,children:s._(/*BTDS*/"Learn more")}))])}))])})})})})})}),e[4]=p,e[5]=f):f=e[5],f}l.default=p}),226);
__d("MWGenAILinks",[],(function(t,n,r,o,a,i){"use strict";var e="https://www.facebook.com/privacy/guide/genai?entry_point=messenger_genai";i.GENAI_LEARN_MORE_PRIVACY_POLICY_URI=e}),66);
__d("MWContextBannerNullstateDescription.react",["fbt","FBLogger","I64","LSIntEnum","LSNullstateDescriptionType","MWGenAILinks","MWGenAINux.react","MWGenAIUtils","MWXLink.react","MWXText.react","MessengerWebGenAIConsentStatus","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(8),n=e.kind,a=e.text,i=e.threadKey;if(r("vulture")("PLi5zu1dqdhB-3MxttuItE476dA="),o("MWGenAIUtils").isMetaAIThread(i)&&(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").SUBTEXT))&&(r("MessengerWebGenAIConsentStatus").nux_scope==="EU"||r("MessengerWebGenAIConsentStatus").nux_scope==="EU_V2")){var l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=d.jsx("div",{className:"xsag5q8",children:d.jsx(r("MWGenAINux.react"),{source:"header"})}),t[0]=l):l=t[0],l}if((u||(u=o("I64"))).equal(n,(u||(u=o("I64"))).zero)||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").SUBTEXT))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(u||(u=o("I64"))).equal(n,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT))){var s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s={className:"xsag5q8"},t[1]=s):s=t[1];var m;t[2]!==n||t[3]!==i?(m=p({kind:n,mwxTextType:"body4",threadKey:i}),t[2]=n,t[3]=i,t[4]=m):m=t[4];var _;return t[5]!==m||t[6]!==a?(_=d.jsx("div",babelHelpers.extends({},s,{children:d.jsxs(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:[a," ",m]})})),t[5]=m,t[6]=a,t[7]=_):_=t[7],_}return r("FBLogger")("messenger_comet").mustfix("Unhandled nullstate description type: %s",(u||(u=o("I64"))).to_string(n)),null}function p(e){var t=e.kind,n=e.mwxTextType,a=e.threadKey,i=o("MWGenAIUtils").isMetaAIThread(a)&&(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateDescriptionType").SUBTEXT));return i?d.jsxs(r("MWXText.react"),{color:"blueLink",type:n,children:[" ",d.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about Meta AI privacy"),href:o("MWGenAILinks").GENAI_LEARN_MORE_PRIVACY_POLICY_URI,target:"_blank",children:s._(/*BTDS*/"Learn more")})]}):null}p.displayName=p.name+" [from "+i.id+"]",l.default=m}),226);
__d("MWContextBannerSpectraBanner.react",["fbt","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=function(){};function d(){var e=o("react-compiler-runtime").c(2),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"xsag5q8"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:s._(/*BTDS*/"Parents who supervise Messenger Kids accounts can see all messages in this chat. {=m2}",[s._implicitParam("=m2",u.jsx(r("MWXText.react"),{color:"blueLink",type:"body4",children:s._(/*BTDS*/"{=m1}",[s._implicitParam("=m1",u.jsx(r("MWXLink.react"),{onClick:c,children:s._(/*BTDS*/"Learn more")}))])}))])})})),e[1]=n):n=e[1],n}l.default=d}),226);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometImageFromIXValue.react","FDSContextualMessage.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","fbs","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useState,p=r("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function _(){var e=o("react-compiler-runtime").c(26),t=r("useMAWGetUserVisibleErrors")(),n=t[0],a=t[1],i=m(!1),l=i[0],c=i[1],d=m(!1),_=d[0],g=d[1],h;e[0]!==(n==null?void 0:n.errorExtraData)||e[1]!==a?(h=function(){r("promiseDone")((async function(){if(c(!0),(n==null?void 0:n.errorExtraData)==="MAWEARKeychainDecryptionError"){var e=await p.load();await e.handleEARKeychainError()}return a()})(),f,function(){c(!1)})},e[0]=n==null?void 0:n.errorExtraData,e[1]=a,e[2]=h):h=e[2];var y=h,C;e[3]!==a?(C=function(){r("promiseDone")(a(),function(){g(!0)})},e[3]=a,e[4]=C):C=e[4];var b=C,v;e[5]!==(n==null?void 0:n.errorBodyText)?(v=o("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(n==null?void 0:n.errorBodyText),e[5]=n==null?void 0:n.errorBodyText,e[6]=v):v=e[6];var S=v,R;e[7]!==(n==null?void 0:n.errorTitleText)?(R=o("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(n==null?void 0:n.errorTitleText),e[7]=n==null?void 0:n.errorTitleText,e[8]=R):R=e[8];var L=R;if(n&&S!=null&&L!=null&&r("FDSContextualMessage.react")&&!_){var E;e[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"xjf5wm9 x1o0tod xdj266r x14z9mp xat24cr x1lziwak x10l6tqk x13vifvy xh8yej3"},e[9]=E):E=e[9];var k;e[10]===Symbol.for("react.memo_cache_sentinel")?(k=r("fbs")._(/*BTDS*/"Refresh"),e[10]=k):k=e[10];var I;e[11]!==l||e[12]!==y?(I=u.jsx(r("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:l,label:k,loading:l,onPress:y,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),e[11]=l,e[12]=y,e[13]=I):I=e[13];var T;e[14]!==L?(T=u.jsx(u.Fragment,{children:L}),e[14]=L,e[15]=T):T=e[15];var D;e[16]===Symbol.for("react.memo_cache_sentinel")?(D=s("1351648"),e[16]=D):D=e[16];var x;e[17]!==L?(x=u.jsx(r("CometImageFromIXValue.react"),{alt:L,source:D}),e[17]=L,e[18]=x):x=e[18];var $;return e[19]!==S||e[20]!==L||e[21]!==b||e[22]!==I||e[23]!==T||e[24]!==x?($=u.jsx("div",babelHelpers.extends({},E,{children:u.jsx(r("FDSContextualMessage.react"),{addOnPrimary:I,body:S,headline:T,headlineAriaLabel:L,icon:x,level:4,onClose:b})})),e[19]=S,e[20]=L,e[21]=b,e[22]=I,e[23]=T,e[24]=x,e[25]=$):$=e[25],$}}function f(){window.location.reload(!0)}l.default=_}),226);
__d("MWMessageElementRefList",[],(function(t,n,r,o,a,i){"use strict";function e(){var e=new Map,t=new Map,n={contents:void 0};return{get:function(r,o){var t=e.get(r);if(t==null){n.contents=[r,o];return}return o(t)},set:function(o){var r=t.get(o);if(r!=null)return r;var a=function(r){if(r==null){e.delete(o);return}if(e.set(o,r),n.contents!=null&&n.contents[0]===o){var t=n.contents,a=t[0],i=t[1];i(r),n.contents=void 0;return}};return t.set(o,a),a}}}i.default=e}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef,_=c.useState;function f(t,n){var a=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),l=a.visibleMessage,u=p(r("MWMessageElementRefList")()),c=t==null?void 0:t.threadKey,f=t==null?void 0:t.threadType,g=p(),h=(e||(e=r("useReStore")))(),y=o("ReQLSuspense").useFirst(function(){if(c==null)return o("ReQL").empty();if(l==null)return o("ReQL").fromTableDescending(h.tables.messages_ranges_v2__generated).getKeyRange(c);var e=l.timestamp;return o("ReQL").fromTableDescending(h.tables.messages_ranges_v2__generated).getKeyRange(c).bounds({lte:[e]}).filter(function(t){var n=t.maxTimestampMs,r=t.minTimestampMs;return(s||(s=o("I64"))).ge(e,r)&&(s||(s=o("I64"))).le(e,n)})},[c,l,h],i.id+":60"),C=_(function(){return y}),b=C[0],v=C[1];m(function(){g.current=void 0,l==null&&(n==null?void 0:n.current)!=null&&n.current.scrollToBottom()},[n,l]);var S=d(function(e){r("vulture")("2oQVVF7kwg59Zx8rquRpQ_iIJOA=");var t=n==null?void 0:n.current;if(t!=null){r("setTimeout")(function(){return t.scrollElementIntoViewIfNeeded(e)},0);return}},[n]),R=d(function(e){if(e!==g.current)return u.current.get(e,function(t){S(t),g.current=e})},[S]);return m(function(){y!=null?v(y):l==null&&v(function(){})},[l,y,v]),m(function(){l!=null&&b!=null&&l.messageId!=null&&R(l.messageId)},[h,l,b,R]),o("Int64Hooks").useEffectInt64(function(){if(t!=null&&y==null&&l!=null&&l.messageId!=null){var e=l.messageId,n=(s||(s=o("I64"))).to_int32(f!=null?f:(s||(s=o("I64"))).neg_one);if(n!==-1&&(n===15||n===16))return;r("promiseDone")(h.runInTransaction(function(n){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(n),{messageId:e,threadKey:t.threadKey,threadType:t.threadType})},"readwrite",void 0,void 0,i.id+":148"))}},[h,l,y,c,f,t]),{messageElementRefs:u,messageRange:b,visibleMessage:l!=null?l:void 0}}l.default=f}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(8),l=o("MWPActor.react").useActor(),s=(e||(e=r("useReStore")))(),u;a[0]!==l||a[1]!==s.tables.participants||a[2]!==t?(u=function(){return o("ReQL").fromTableAscending(s.tables.participants).getKeyRange(t,l)},a[0]=l,a[1]=s.tables.participants,a[2]=t,a[3]=u):u=a[3];var c;a[4]!==l||a[5]!==s||a[6]!==t?(c=[s,l,t],a[4]=l,a[5]=s,a[6]=t,a[7]=c):c=a[7];var d=o("ReQLSuspense").useFirst(u,c,i.id+":24");return(n=d==null?void 0:d.isAdmin)!=null?n:!1}l.default=s}),98);
__d("useMWV2ConversationScrollerRefs",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useMemo,c=s.useRef;function d(){var e=o("react-compiler-runtime").c(2),t=c(null),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={type:"Bottom"},e[0]=n):n=e[0];var r=c(n),a;return e[1]===Symbol.for("react.memo_cache_sentinel")?(a={scrollerRef:t,scrollPositionRef:r},e[1]=a):a=e[1],a}l.default=d}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n,a=o("react-compiler-runtime").c(12),l=r("useMWV2ConversationScrollerRefs")(),s=r("useMWCurrentVisibleMessage")(t,l.scrollerRef),c=s.messageRange,d=(n=c==null?void 0:c.isLoadingBefore)!=null?n:!1,m=t.threadKey,p=(e||(e=r("useReStore")))(),_;a[0]!==p.tables.messages||a[1]!==m?(_=function(){return o("ReQL").fromTableDescending(p.tables.messages).getKeyRange(m).filter(u)},a[0]=p.tables.messages,a[1]=m,a[2]=_):_=a[2];var f;a[3]!==p||a[4]!==m?(f=[p,m],a[3]=p,a[4]=m,a[5]=f):f=a[5];var g=o("ReQLSuspense").useFirst(_,f,i.id+":37"),h;a[6]!==p.tables.attachments||a[7]!==m?(h=function(){return o("ReQL").fromTableDescending(p.tables.attachments).getKeyRange(m)},a[6]=p.tables.attachments,a[7]=m,a[8]=h):h=a[8];var y;a[9]!==p||a[10]!==m?(y=[p,m],a[9]=p,a[10]=m,a[11]=y):y=a[11];var C=o("ReQLSuspense").useFirst(h,y,i.id+":46"),b=g!=null||C!=null;return!(b||d)}function u(e){return!e.isAdminMessage}function c(e){var t=o("react-compiler-runtime").c(2),n=s(e);if(!n)return!1;var r;return t[0]!==e.threadType?(r=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),t[0]=e.threadType,t[1]=r):r=t[1],r}function d(e){var t=o("react-compiler-runtime").c(2),n=s(e),r=o("MWLSThread").useThread(e.threadKey,m);if(!n)return!1;var a;return t[0]!==r?(a=o("MWCMThreadTypes.react").isIGBroadcastChannelThread(r),t[0]=r,t[1]=a):a=t[1],a}function m(e){return e.threadSubtype}function p(e){var t=o("react-compiler-runtime").c(3),n=c(e),a=r("useMWLSIsViewerThreadAdminUsingThreadKey")(e.threadKey),i;return t[0]!==a||t[1]!==n?(i=(o("MWPActor.react").isAPPlus()||o("MWPActor.react").isPromode())&&n&&a,t[0]=a,t[1]=n,t[2]=i):i=t[2],i}l.useMWIsThreadWithZeroMessage=s,l.useMWIsFBBroadcastChannelWithZeroMessage=c,l.useMWIsIGBroadcastChannelWithZeroMessage=d,l.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=p}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(6),a=(s||(s=r("useReStore")))(),l;n[0]!==a.tables.contacts||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.contacts,["pageType"]).getKeyRange(t!=null?t:(e||(e=o("I64"))).zero)},n[0]=a.tables.contacts,n[1]=t,n[2]=l):l=n[2];var u;n[3]!==a||n[4]!==t?(u=[a,t],n[3]=a,n[4]=t,n[5]=u):u=n[5];var c=o("ReQLSuspense").useFirst(l,u,i.id+":23");return(c==null?void 0:c.pageType)!=null?c.pageType:void 0}l.default=u}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitleWithContactWrapper.react","LSVerificationBadge.react","MAWThreadCutover","MW3PBotCommandsPill.react","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWContextBannerSpectraBanner.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:19928","isFeatureLimitEnabled","react","react-compiler-runtime","stylex","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","useMWPThreadHasSpectraUser","usePageType","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p=c||(c=o("react")),_={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingTop:"x1cnzs8",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(3),a=e.isBusinessSupport,i=e.isReadOnlyFeatureLimited,l=e.thread,s=o("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(l);if(i||a)return null;if(o("LSMessagingThreadTypeUtil").isGroup(l.threadType)&&(d||(d=o("I64"))).gt(l.authorityLevel,(m||(m=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").SERVER_PARTIAL))&&n("cr:19928")!=null){if(s){var u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=p.jsx(r("MWContextBannerChannelActivationPrompt.react"),{}),t[0]=u):u=t[0],u}var c;return t[1]!==l?(c=p.jsx(n("cr:19928"),{thread:l}),t[1]=l,t[2]=c):c=t[2],c}return null}function g(t){var n=o("react-compiler-runtime").c(58),a=t.includeBaseViewWrapper,l=t.threadKey,c=t.threadType,g=a===void 0?!0:a,y=r("useIsReadOnlyFeatureLimitedWithThreadType")(c),C=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(l),b=o("MAWThreadCutover").useIsCutoverSecureThread(l)&&!C,v=o("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(l)!=null,S=r("useMWPThreadHasSpectraUser")(l),R;n[0]!==c?(R=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(c),n[0]=c,n[1]=R):R=n[1];var L=R,E;n[2]!==c?(E=o("MWCMThreadTypes.react").isJoinedCMThread(c),n[2]=c,n[3]=E):E=n[3];var k=E,I=r("useMWPEditMessageDeemphasizer")(),T=(e||(e=r("useReStore")))(),D;n[4]!==T.tables.threads||n[5]!==l?(D=function(){return o("ReQL").fromTableAscending(T.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadSubtype","threadType"].concat(o("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(l)},n[4]=T.tables.threads,n[5]=l,n[6]=D):D=n[6];var x;n[7]!==T||n[8]!==l?(x=[T,l],n[7]=T,n[8]=l,n[9]=x):x=n[9];var $=o("ReQLSuspense").useFirst(D,x,i.id+":132"),P=r("usePageType")($==null?void 0:$.threadKey);if($==null)return null;var N=o("LSThreadBitOffset").has(47,$);if(N)return null;var M=$.nullstateDescriptionText1,w=$.nullstateDescriptionText2,A=$.nullstateDescriptionText3,F=$.nullstateDescriptionType1,O=$.nullstateDescriptionType2,B=$.nullstateDescriptionType3,W;n[10]!==$.parentThreadKey?(W=(d||(d=o("I64"))).equal($.parentThreadKey,(m||(m=o("LSIntEnum"))).ofNumber(-18)),n[10]=$.parentThreadKey,n[11]=W):W=n[11];var q=W,U;n[12]!==$.threadType?(U=o("LSMessagingThreadTypeUtil").isArmadilloSecure($.threadType),n[12]=$.threadType,n[13]=U):U=n[13];var V=U,H;n[14]!==y||n[15]!==V?(H=y&&(!V||r("isFeatureLimitEnabled")()),n[14]=y,n[15]=V,n[16]=H):H=n[16];var G=H,z;n[17]===Symbol.for("react.memo_cache_sentinel")?(z={className:"xxymvpz"},n[17]=z):z=n[17];var j;n[18]!==$.threadKey?(j=p.jsx("span",babelHelpers.extends({},z,{children:p.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWContextBanner",children:p.jsx(r("LSVerificationBadge.react"),{size:"large",threadKey:$.threadKey})})})),n[18]=$.threadKey,n[19]=j):j=n[19];var K=j,Q;n[20]!==$?(Q=p.jsx(r("LSThreadTitleWithContactWrapper.react"),{thread:$,wrapOutput:h}),n[20]=$,n[21]=Q):Q=n[21];var X=Q,Y;n[22]!==I?(Y=(u||(u=r("stylex"))).props(_.container,I),n[22]=I,n[23]=Y):Y=n[23];var J;n[24]===Symbol.for("react.memo_cache_sentinel")?(J={className:"x78zum5 xl56j7k xod5an3"},n[24]=J):J=n[24];var Z;n[25]!==$.threadKey?(Z=p.jsx("div",babelHelpers.extends({},J,{children:p.jsx(r("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:$.threadKey})})),n[25]=$.threadKey,n[26]=Z):Z=n[26];var ee;n[27]===Symbol.for("react.memo_cache_sentinel")?(ee={className:"xod5an3"},n[27]=ee):ee=n[27];var te=!L&&!k&&K,ne;n[28]!==te||n[29]!==X?(ne=p.jsx("div",babelHelpers.extends({},ee,{children:p.jsxs(r("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,type:"headlineEmphasized3",children:[X,te]})})),n[28]=te,n[29]=X,n[30]=ne):ne=n[30];var re;n[31]!==q||n[32]!==b||n[33]!==v||n[34]!==G||n[35]!==V||n[36]!==M||n[37]!==w||n[38]!==A||n[39]!==F||n[40]!==O||n[41]!==B||n[42]!==P||n[43]!==$||n[44]!==S||n[45]!==l?(re=S?p.jsx(r("MWContextBannerSpectraBanner.react"),{}):p.jsxs(p.Fragment,{children:[" ",P!=null&&(d||(d=o("I64"))).equal(P,(m||(m=o("LSIntEnum"))).ofNumber(r("LSPageType").AI))?p.jsx("div",{className:"xod5an3",children:p.jsx(r("MWXText.react"),{align:"center",color:"primary",type:"body4",children:s._(/*BTDS*/"AI")})}):null,M!=null&&F!=null?p.jsx(r("MWContextBannerNullstateDescription.react"),{kind:F,text:M,threadKey:l}):null,w!=null&&O!=null?p.jsx(r("MWContextBannerNullstateDescription.react"),{kind:O,text:w,threadKey:l}):null,A!=null&&B!=null?p.jsx(r("MWContextBannerNullstateDescription.react"),{kind:B,text:A,threadKey:l}):null,r("MW3PBotCommandsPill.react")!=null&&p.jsx(r("MW3PBotCommandsPill.react"),{threadKey:l}),p.jsx(f,{isBusinessSupport:q,isReadOnlyFeatureLimited:G,thread:$}),V&&!b&&!v?p.jsx(r("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,V&&r("MWPWebWorkerDisconnectedBanner.react")?p.jsx(r("MWPWebWorkerDisconnectedBanner.react"),{}):null]}),n[31]=q,n[32]=b,n[33]=v,n[34]=G,n[35]=V,n[36]=M,n[37]=w,n[38]=A,n[39]=F,n[40]=O,n[41]=B,n[42]=P,n[43]=$,n[44]=S,n[45]=l,n[46]=re):re=n[46];var oe;n[47]!==Y||n[48]!==Z||n[49]!==ne||n[50]!==re?(oe=p.jsxs("div",babelHelpers.extends({},Y,{"data-testid":void 0,children:[Z,ne,re]})),n[47]=Y,n[48]=Z,n[49]=ne,n[50]=re,n[51]=oe):oe=n[51];var ae;n[52]===Symbol.for("react.memo_cache_sentinel")?(ae=p.jsx(r("MWEditMessageOverlay.react"),{}),n[52]=ae):ae=n[52];var ie;n[53]!==oe?(ie=p.jsxs(p.Fragment,{children:[oe,ae]}),n[53]=oe,n[54]=ie):ie=n[54];var le=ie,se;return n[55]!==le||n[56]!==g?(se=g?p.jsx(r("BaseView.react"),{children:le}):le,n[55]=le,n[56]=g,n[57]=se):se=n[57],se}function h(e,t){return t}l.default=g}),226);
__d("MWContextBannerWithKeyboardFocus.react",["fbt","MWContextBanner.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c="mwcontextbanner";function d(e){var t=o("react-compiler-runtime").c(4),n=e.threadKey,a=e.threadType,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Conversation details"),t[0]=i):i=t[0];var l;return t[1]!==n||t[2]!==a?(l=u.jsx(r("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:i,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,nameForModality:c,showButtonInsideRow:!0,children:u.jsx(r("MWContextBanner.react"),{includeBaseViewWrapper:!1,threadKey:n,threadType:a})}),t[1]=n,t[2]=a,t[3]=l):l=t[3],l}l.default=d}),226);
__d("MWInboxThreadMessagesSpinner.react",["CometVisualCompletionAttributes","MWXSpinner.react","react","react-compiler-runtime","useDebouncedState","useIsMountedRef","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo;function c(e){var t=o("react-compiler-runtime").c(15),n=e.delayMs,a=e.vcIgnore,i=r("useIsMountedRef")(),l=!n,u;t[0]!==n||t[1]!==l?(u={debounceMS:n,doNotDebounce:l},t[0]=n,t[1]=l,t[2]=u):u=t[2];var c=r("useDebouncedState")(d,u),m=c[0],p=c[1],_;t[3]!==i||t[4]!==p?(_={onHidden:function(){i.current&&p(!1)},onVisible:function(){i.current&&p(!0)}},t[3]=i,t[4]=p,t[5]=_):_=t[5];var f=_,g=r("useVisibilityObserver")(f),h;t[6]===Symbol.for("react.memo_cache_sentinel")?(h="x6s0dn4 x78zum5 x1t1x2f9 x1iyjqo2 x2lah0s xxk0z11 xl56j7k xsag5q8 xz9dl7a x1eb86dx",t[6]=h):h=t[6];var y;t[7]!==a?(y=a===!0?r("CometVisualCompletionAttributes").IGNORE:{},t[7]=a,t[8]=y):y=t[8];var C;t[9]!==m?(C=s.jsx("div",{role:"cell",children:m?s.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24}):s.jsx("div",{className:"x1eb86dx xxk0z11 xh8yej3"})}),t[9]=m,t[10]=C):C=t[10];var b;return t[11]!==y||t[12]!==C||t[13]!==g?(b=s.jsx("div",babelHelpers.extends({className:h,ref:g,role:"row"},y,{children:C})),t[11]=y,t[12]=C,t[13]=g,t[14]=b):b=t[14],b}function d(){return!0}l.default=c}),98);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:22549","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgMenuItemIcon(o("SVGIcon").svgIcon(n("cr:22549")),r("gkx")("23219"));l.default=e}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(6),n=e.onPress,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"Go to most recent message"),t[0]=a):a=t[0];var i;t[1]!==n?(i=function(){n(),o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},t[1]=n,t[2]=i):i=t[2];var l;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=u.jsx(r("MWXIconStrict.react"),{color:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:r("MWXIconMenuItemArrowDown"),size:20}),t[3]=l):l=t[3];var d;return t[4]!==i?(d=u.jsx(r("MWXPressable.react"),{"aria-label":a,onPress:i,role:"button",xstyle:c.circleButton,children:l}),t[4]=i,t[5]=d):d=t[5],d}l.default=d}),226);
__d("useIsNearBottomOfScrollArea",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useLayoutEffect,c=s.useState,d=10;function m(e,t){var n=o("react-compiler-runtime").c(4),r=t===void 0?d:t,a=c(!0),i=a[0],l=a[1],s,m;return n[0]!==r||n[1]!==e?(s=function(){var t=e.current;if(t!=null){var n=function(){return l(Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<r)},o=window.requestAnimationFrame(n);return t.addEventListener("scroll",n),(function(){t.removeEventListener("scroll",n),window.cancelAnimationFrame(o)})}},m=[r,e],n[0]=r,n[1]=e,n[2]=s,n[3]=m):(s=n[2],m=n[3]),u(s,m),i}l.default=m}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","react-compiler-runtime","useIsNearBottomOfScrollArea"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.alwaysShow,a=e.jumpToMostRecentMessage,i=e.renderButton,l=e.scrollAreaRef,u=r("useIsNearBottomOfScrollArea")(l,108),c=u===!1||n,d;return t[0]!==a||t[1]!==i||t[2]!==c?(d=i?s.jsx(r("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:c,children:i(a)}):null,t[0]=a,t[1]=i,t[2]=c,t[3]=d):d=t[3],d}l.default=u}),98);
__d("MWXMessageScrollList.react",["BaseScrollableAreaContext","CometInfiniteScrollTrigger.react","MWXScrollableAreaStyles","react","react-compiler-runtime","stylex","useMergeRefs","useResizeObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useContext,p=c.useLayoutEffect,_=c.useMemo,f=c.useRef,g=10,h=function(t){return t},y={expanding:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",minHeight:"x121v3j4",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0}};function C(e){var t=e.anchoredElement,n=e.getKeyForItem,o=n===void 0?h:n,a=e.hasNext,i=e.items,l=i.length,s=l>0?o(i[0]):void 0,u=l>0?o(i[i.length-1]):void 0,c=f(l),m=f(s),_=f(u),y=f(),C=f(),b=f(),v=f(),S=f(),R=d(function(e){var t=e.target;t instanceof HTMLDivElement&&(y.current!=null&&t.scrollHeight!==y.current||C.current!=null&&t.clientHeight!==C.current||(b.current=t.scrollTop))},[]);p(function(){var e=S.current;e!=null&&e.scrollTop<=g&&(e.scrollTop=e.scrollHeight)},[]);var L=d(function(){var e,n,r,o,i,d,p,f,h,R=(e=t==null||(n=t.current)==null?void 0:n.offsetTop)!=null?e:0,L=_.current,E=m.current,k=(r=c.current)!=null?r:0,I=(o=y.current)!=null?o:0,T=(i=C.current)!=null?i:0,D=(d=b.current)!=null?d:0,x=(p=v.current)!=null?p:-1,$=S.current;if(!(($==null?void 0:$.scrollHeight)===0&&($==null?void 0:$.clientHeight)===0)&&(y.current=(f=$==null?void 0:$.scrollHeight)!=null?f:y.current,b.current=(h=$==null?void 0:$.scrollTop)!=null?h:b.current,c.current=l,m.current=s,_.current=u,v.current=R,$!=null)){var P=$.clientHeight,N=$.scrollHeight;C.current=P;var M=Math.abs(I-D-T)<g,w=L!=null&&u!==L,A=E!=null&&s!==E,F=l>k,O=F&&A,B=F&&w,W=T!==0&&T!==P,q=x!==-1&&x>D&&x<D+T,U;(t==null?void 0:t.current)!=null&&q?U=R-(x-D):!a&&M?U=D+N-I+T-P:O?U=D+N-I:B&&(U=D);var V=U;if(V!=null){$.scrollTop=V,b.current=U;var H=window.requestAnimationFrame(function(){var e=$.scrollTop;Math.abs(e-V)>g?$.scrollTop=V+(e>V?1:-1)*g:W&&($.scrollTop=V)});return function(){return window.cancelAnimationFrame(H)}}}},[s,a,u,l,t]),E=r("useResizeObserver")(L),k=r("useResizeObserver")(L);return p(L,[L]),{contentRef:k,onScroll:R,ref:r("useMergeRefs")(S,E)}}function b(t){var n=o("react-compiler-runtime").c(73),a=t.anchoredElement,i=t.ariaLabel,l=t.getKeyForItem,s=t.hasNext,c=t.hasPrevious,d=t.isLoadingNext,p=t.isLoadingPrevious,_=t.items,g=t.loadNext,h=t.loadPrevious,b=t.onUserScroll,v=t.ref,S=t.renderFooter,R=t.renderHeader,L=t.renderItem,E=t.renderLoadingAnimation,k=t.role,I=t.xstyle,T=k===void 0?"grid":k,D=_.length,x;n[0]!==c||n[1]!==R?(x=!c&&R!=null&&u.jsx(u.Fragment,{children:R()},"header"),n[0]=c,n[1]=R,n[2]=x):x=n[2];var $;n[3]!==I?($=[y.expanding,I],n[3]=I,n[4]=$):$=n[4];var P;n[5]!==D||n[6]!==E?(P=E==null?void 0:E(D),n[5]=D,n[6]=E,n[7]=P):P=n[7];var N;n[8]!==c||n[9]!==p||n[10]!==h||n[11]!==$||n[12]!==P?(N=u.jsx(r("CometInfiniteScrollTrigger.react"),{hasMore:c,isLoading:p,onLoadMore:h,xstyle:$,children:P},"loadPrevious"),n[8]=c,n[9]=p,n[10]=h,n[11]=$,n[12]=P,n[13]=N):N=n[13];var M;if(n[14]!==s||n[15]!==d||n[16]!==_||n[17]!==D||n[18]!==g||n[19]!==S||n[20]!==L||n[21]!==E||n[22]!==x||n[23]!==N||n[24]!==I){var w;n[26]!==_||n[27]!==D||n[28]!==L?(w=function(t,n){return L(t,_[n-1],_[n+1],D-1-n)},n[26]=_,n[27]=D,n[28]=L,n[29]=w):w=n[29];var A;n[30]!==I?(A=[y.expanding,I],n[30]=I,n[31]=A):A=n[31];var F;n[32]!==D||n[33]!==E?(F=E==null?void 0:E(D),n[32]=D,n[33]=E,n[34]=F):F=n[34];var O;n[35]!==s||n[36]!==d||n[37]!==g||n[38]!==A||n[39]!==F?(O=u.jsx(r("CometInfiniteScrollTrigger.react"),{hasMore:s,isLoading:d,onLoadMore:g,xstyle:A,children:F},"loadNext"),n[35]=s,n[36]=d,n[37]=g,n[38]=A,n[39]=F,n[40]=O):O=n[40];var B;n[41]!==s||n[42]!==S?(B=!s&&S!=null&&u.jsx(u.Fragment,{children:S()},"footer"),n[41]=s,n[42]=S,n[43]=B):B=n[43],M=[x,N].concat(_.map(w),[O,B]),n[14]=s,n[15]=d,n[16]=_,n[17]=D,n[18]=g,n[19]=S,n[20]=L,n[21]=E,n[22]=x,n[23]=N,n[24]=I,n[25]=M}else M=n[25];var W=M,q;n[44]!==a||n[45]!==l||n[46]!==s||n[47]!==_?(q={anchoredElement:a,getKeyForItem:l,hasNext:s,items:_},n[44]=a,n[45]=l,n[46]=s,n[47]=_,n[48]=q):q=n[48];var U=C(q),V=U.contentRef,H=U.onScroll,G=U.ref,z;n[49]!==b||n[50]!==H?(z=function(t){b==null||b(),H(t)},n[49]=b,n[50]=H,n[51]=z):z=n[51];var j=z,K=r("useMergeRefs")(G,v),Q;n[52]!==K?(Q=function(t){K(t!=null?t:null),J.current=t},n[52]=K,n[53]=Q):Q=n[53];var X=Q,Y=m(r("BaseScrollableAreaContext")),J=f(),Z;n[54]===Symbol.for("react.memo_cache_sentinel")?(Z={getDOMNode:function(){return J==null?void 0:J.current}},n[54]=Z):Z=n[54];var ee;n[55]!==Y?(ee=[].concat(Y,[Z]),n[55]=Y,n[56]=ee):ee=n[56];var te=ee,ne;n[57]===Symbol.for("react.memo_cache_sentinel")?(ne=(e||(e=r("stylex"))).props(y.scrollArea,y.overscrollBehaviorContain,r("MWXScrollableAreaStyles").themed),n[57]=ne):ne=n[57];var re;n[58]!==I?(re=(e||(e=r("stylex"))).props(y.expanding,I),n[58]=I,n[59]=re):re=n[59];var oe;n[60]!==V||n[61]!==W||n[62]!==re?(oe=u.jsx("div",babelHelpers.extends({},re,{ref:V,children:W})),n[60]=V,n[61]=W,n[62]=re,n[63]=oe):oe=n[63];var ae;n[64]!==i||n[65]!==j||n[66]!==T||n[67]!==X||n[68]!==oe?(ae=u.jsx("div",babelHelpers.extends({"aria-label":i},ne,{"data-testid":void 0,onScroll:j,ref:X,role:T,children:oe})),n[64]=i,n[65]=j,n[66]=T,n[67]=X,n[68]=oe,n[69]=ae):ae=n[69];var ie;return n[70]!==te||n[71]!==ae?(ie=u.jsx(r("BaseScrollableAreaContext").Provider,{value:te,children:ae}),n[70]=te,n[71]=ae,n[72]=ie):ie=n[72],ie}l.default=b}),98);
__d("MessageForIntegrityCheck",[],(function(t,n,r,o,a,i){"use strict";function e(e){return e.isAdminMessage?null:{displayedContentTypes:e.displayedContentTypes,messageId:e.messageId,offlineThreadingId:e.offlineThreadingId,primarySortKey:e.primarySortKey,timestampMs:e.timestampMs}}i.prepMessageForIntegrityCheck=e}),66);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return{id:r("Random").uint32()}}function u(t,n){if(Array.isArray(t)||Array.isArray(n)){if(Array.isArray(t)&&Array.isArray(n))return(e||(e=o("ReStoreKeyComparer"))).compareKey(t,n)}else return(e||(e=o("ReStoreKeyComparer"))).compareKey([t],[n]);throw r("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function c(e,t,n,o){for(var a=[],i=0;i<e.length;i+=t){for(var l=i+t;l>i&&l<e.length-1&&n(o(e[l-1]),o(e[l]))===0;)l--;if(l===i)throw r("err")("Entire pagination window sorts identically: this should never happen.");a.push(e.slice(i,l)),i-=i+t-l}return a}l.getUniqueRef=s,l.wrappedCompareKey=u,l.chunkArray=c}),98);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e=(function(){function e(e){var t=e.count,n=e.first,a=e.getSecond;this.$1=r("switchMap")(n,function(e){var n=e.data.length;if(n>=t||e.hasMore||e.isLoadingMore)return new(o("ReplayLastSubject")).ReplayLastSubject(babelHelpers.extends({},e,{hasMore:!0}));var r=o("relay-runtime").Observable.from(a(t-n));return r.map(function(t){return{data:[].concat(e.data,t.data),hasMore:e.hasMore||t.hasMore,isLoadingMore:e.isLoadingMore||t.isLoadingMore}})})}var t=e.prototype;return t.subscribe=function(t){return this.$1.subscribe(t)},e})();l.default=e}),98);
__d("combineLatestWith",["relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return o("relay-runtime").Observable.create(function(e){var n=new Set(t),r=new Set(t),o=t.map(function(){}),a=t.map(function(t,a){return t.subscribe({complete:function(){r.delete(t),r.size===0&&e.complete()},error:e.error,next:function(i){o[a]=i,n.delete(t),n.size===0&&e.next(o)}})});return function(){a.forEach(function(e){return e.unsubscribe()})}})}l.default=e}),98);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e={};function s(t,n){return n===void 0&&(n=r("deepEquals")),o("relay-runtime").Observable.create(function(r){var o=e,a=t.subscribe({complete:function(){r.complete()},error:function(t){r.error(t)},next:function(t){n(o,t)||(o=t,r.next(t))}});return function(){a.unsubscribe()}})}l.default=s}),98);
__d("MWPMessageListSingleDirectionDataSource",["FBLogger","I64","JSONStringifyBigIntSafe","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","MAWMessagesDirection","MAWSubscribeToLSTruncateMetadataThreads","MLV2DataSourceLogger","MessagesRangesV2ExternalIds","Promise","ReQL","ReQLObservable","ReplayLastSubject","combineLatestWith","deepEquals","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e=["isLoadingAfter","isLoadingBefore"],s,u,c;function d(e){return e.length>0?e[e.length-1]:void 0}var m=2,p=!r("gkx")("7019"),_=(function(){function t(e,t,n,a,i,l,s,d,m){var p=this;this.$6=new(o("ReplayLastSubject")).ReplayLastSubject(!1),this.$13=null,this.$14=null,this.$15=!1,this.$1=e,this.$3=t,this.$2=n,this.$4=a,this.$5=i,this.$9=l,this.$10=s!=null&&(u||(u=o("I64"))).equal(s,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),this.$11=d,this.$12=m,this.$7=this.$16(),this.$13=null,this.$14=o("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(e,function(e,t){(u||(u=o("I64"))).equal(p.$3.threadKey,t)&&(p.$15=!0)})}var a=t.prototype;return a.$17=function(){return(u||(u=o("I64"))).equal(this.$3.timestampMs,(u||(u=o("I64"))).max_int)&&this.$2==="asc"},a.subscribe=function(t){var e,n=this;this.$17()||(this.$8=o("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$3.threadKey,this.$2,this.$4,this.$9)),(e=this.$8)==null||e.markQPLPoint("subscribed");var r=this.$7.subscribe(t);return{closed:r.closed,unsubscribe:function(){var e;r.unsubscribe(),(e=n.$8)==null||e.markQPLCancel("unsubscribed"),n.$8=void 0}}},a.$18=function(t,n){var e,o=this;p&&this.$19(!0),(e=this.$8)==null||e.markQPLPoint("fetch_more_msgs_start"),r("promiseDone")(this.$5.extendRange(t,n,this.$2,this.$12).finally(function(){var e;(e=o.$8)==null||e.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction"),p&&o.$19(!1)}))},a.$19=function(t){var e=this;t?this.$6.next(t):r("promiseDone")(new(s||(s=n("Promise")))(function(e){return r("setTimeout")(e,0)}).then(function(){return e.$6.next(t)}))},a.$20=function(n,a){var t,i,l,s=n.isLoadingAfter,c=n.isLoadingBefore,d=babelHelpers.objectWithoutPropertiesLoose(n,e);if(this.$13!=null){var p=this.$13,_=p.boundary,g=p.observable;if(r("deepEquals")(d,_)){var h;return(h=this.$8)==null||h.markQPLPoint("use_cached_messages_observable"),g}}var y=this.$3,C=y.messageId,b=y.timestampMs,v=(C==null||C==="")&&(u||(u=o("I64"))).equal(b,(u||(u=o("I64"))).max_int),S=v&&(u||(u=o("I64"))).equal(d.minTimestampMs,(u||(u=o("I64"))).max_int),R=!d.hasMoreBefore||S,L=o("MAWMessagesDirection").switchOnMWPMessagesDirection(this.$2,{asc:{gte:o("ReQL").key(this.$3.timestampMs,o("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:o("ReQL").key(d.hasMoreAfter?d.maxTimestampMs:(u||(u=o("I64"))).max_int,(t=a==null?void 0:a.maxExternalId)!=null?t:o("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)},desc:{gte:o("ReQL").key(R?(u||(u=o("I64"))).min_int:d.minTimestampMs,(i=a==null?void 0:a.minExternalId)!=null?i:o("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:o("ReQL").key(this.$3.timestampMs,o("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)}}),E=S?m:this.$4,k=f(this.$1,this.$2,this.$3,L,E);return(l=this.$8)==null||l.markQPLPoint("use_lsdb_optimistic_observable"),k},a.$21=function(t,n,o,a){var e,i,l,s,u;if(n===void 0&&(n=[]),this.$15)return{data:[],hasMore:!1,isLoadingMore:!1};var c=t,m=(e=d(n))==null?void 0:e[1].message,p=this.$2==="asc"?[o==null?void 0:o.maxMessageId,(i=o==null?void 0:o.hasMoreAfter)!=null?i:!1,(l=o==null?void 0:o.isLoadingAfter)!=null?l:!1]:[o==null?void 0:o.minMessageId,(s=o==null?void 0:o.hasMoreBefore)!=null?s:!1,(u=o==null?void 0:o.isLoadingBefore)!=null?u:!1],_=p[0],f=p[1],g=p[2],h=n.length===this.$4&&(m!=null&&m.messageId!==_||!f);return _!=null&&_!==""&&n.length<this.$4&&!n.some(function(e){return e[1].message.messageId===_})&&r("FBLogger")("messenger_e2ee_web").info("MLv2 irregularity, expected range message id, %s, is not present in emitted messages from LSDB",_),o!=null&&n.length<this.$4&&f&&!h&&!c&&!g&&(c=!0,this.$18(o,a)),{data:n,hasMore:h||f,isLoadingMore:c||!h&&g}},a.$16=function(){var e=this;return this.$17()?o("relay-runtime").Observable.from(new(o("ReplayLastSubject")).ReplayLastSubject({data:[],hasMore:!1,isLoadingMore:!1})):r("memoizeObservable")(r("combineLatestWith")(this.$6,r("switchMap")(this.$5.getOrCreateMessageRangeCoveringCursor(this.$3,this.$8),function(t){var n,a,i=t.range,l=t.rangeExternalIds;(n=e.$8)==null||n.markQPLPoint("emitting_range"),(a=e.$8)==null||a.addQPLAnnotations({string:{range:r("JSONStringifyBigIntSafe")(babelHelpers.extends({},t,{maxTimestampMs:i.maxTimestampMs==null?null:(u||(u=o("I64"))).to_string(i.maxTimestampMs),minTimestampMs:i.minTimestampMs==null?null:(u||(u=o("I64"))).to_string(i.minTimestampMs)}))}});var s=e.$20(i,l);return s.map(function(e){return{messagesAndAssociatedData:e,messagesRange:i,messagesRangeExternalIds:l}}).do({error:function(n){var t,r;(t=e.$8)==null||t.markQPLPoint("emitting_messages_failed"),(r=e.$8)==null||r.addQPLAnnotations({string:{emitting_message_error_message:n.message,emitting_message_error_name:n.name}})},next:function(n){var t,r,o=n.messagesAndAssociatedData;(t=e.$8)==null||t.markQPLPoint("emitting_messages"),(r=e.$8)==null||r.addQPLAnnotations({int:{num_fetched:o.length}})}})})).map(function(t){var n=t[0],r=t[1],o=r!=null?r:{},a=o.messagesAndAssociatedData,i=o.messagesRange,l=o.messagesRangeExternalIds;return e.$21(n,a,i,l)})).do({error:function(n){var t;(t=e.$8)==null||t.markQPLFailure(n),e.$8=void 0},next:function(n){var t=n.data,r=n.isLoadingMore;if(r){var i;(i=e.$8)==null||i.markQPLPoint("waiting_for_fetch")}else{var o,a;(o=e.$8)==null||o.addQPLAnnotations({int:{final_query_count:e.$4}}),(a=e.$8)==null||a.markQPLSuccess(t.length),e.$8=void 0}}})},t})();function f(e,t,n,a,i){var l=t==="asc"?o("ReQL").fromTableAscending:o("ReQL").fromTableDescending,s;r("qex")._("18")?s=l(e.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(n.threadKey).bounds({gte:a.gte,lte:a.lte}):s=l(e.tables.messages).getKeyRange(n.threadKey).bounds({gte:[a.gte[0]],lte:[a.lte[0]]});var c=s.filter(function(e){var t=e.messageRenderingType;return!(u||(u=o("I64"))).equal(t,u.of_int32(r("LSMessageRenderingType").HIDDEN))}).filter(function(e){var t=e.transportKey;return r("justknobx")._("3424")?t!=="EncryptedBackupsMedia":!0}).take(i).map(function(e){return{message:e}});return o("ReQLObservable").create(e,function(){return c})}l.default=_}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","ReQL","ReQLObservable","err","justknobx","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("justknobx")._("3621");function c(e,t){return t==="asc"&&e.isLoadingAfter||t==="desc"&&e.isLoadingBefore}var d=function(n){var t=this;this.$2=function(e){return p(t.$1.tables.messages_ranges_v2__generated,e)},this.getOrCreateMessageRangeCoveringCursor=function(n,a){return a==null||a.annotateMessageRangesDataSource("MWPMessageRangeDataSource"),a==null||a.markQPLPoint("msys_message_range_fetch_start"),o("ReQLObservable").create(t.$1,function(){return t.$2(n)}).map(function(i){var l;a==null||a.markQPLPoint("msys_message_range_fetch_end");var s=(l=i[0])==null?void 0:l[1];if(s==null)if(n.messageId==null){var u,c;return{range:{hasMoreAfter:!(e||(e=o("I64"))).equal(n.timestampMs,e.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(u=n.messageId)!=null?u:"",maxTimestampMs:n.timestampMs,minMessageId:(c=n.messageId)!=null?c:"",minTimestampMs:n.timestampMs,threadKey:n.threadKey},rangeExternalIds:{maxExternalId:n.externalId,minExternalId:n.externalId}}}else{var d,m;return r("promiseDone")(y(t.$1,n)),{range:{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(d=n.messageId)!=null?d:"",maxTimestampMs:n.timestampMs,minMessageId:(m=n.messageId)!=null?m:"",minTimestampMs:n.timestampMs,threadKey:n.threadKey},rangeExternalIds:{maxExternalId:n.externalId,minExternalId:n.externalId}}}return{range:s,rangeExternalIds:{maxExternalId:null,minExternalId:null}}})},this.extendRange=function(n,a,l,s){var u=o("MLV2DataSourceLogger").getMLV2LoggerForThread(n.threadKey,l);u==null||u.annotateMessageRangesDataSource("MWPMessageRangeDataSource"),u==null||u.markQPLPoint("msys_extend_range_start");var c=n.threadKey;return g(n,l)?t.$1.runInTransaction(async function(t){var a;u==null||u.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");var i=(a=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(t.messages_ranges_v2__generated).getKeyRange(c).bounds({lte:o("ReQL").key(n.minTimestampMs)}).filter(function(t){return(e||(e=o("I64"))).ge(t.maxTimestampMs,n.maxTimestampMs)})))!=null?a:n;if(!g(i,l)){u==null||u.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!_(i,n,l)){u==null||u.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}return u==null||u.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges"),r("LSIssueMessagesRangeQueryStoredProcedure")(r("LSFactory")(t),f(i,l))},"readwrite",void 0,void 0,i.id+":168").then(function(){return m(t.$1,c,l,u)}):(u==null||u.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible"),Promise.resolve())},this.$1=n};async function m(e,t,n,r){var a=await o("ReQL").firstAsync(o("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(t));if(a!=null&&!c(a,n)){r==null||r.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges");return}var i=new AbortController,l=i.signal,s=new Promise(function(e){var t=window.setTimeout(function(){l.aborted||(i.abort(),r==null||r.markQPLPoint("mwp_fetch_message_ranges_timeout","Finish fetching message ranges"),e())},u);l.addEventListener("abort",function(){window.clearTimeout(t)})}),d=new Promise(function(a){return o("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(t).subscribe(function(e,t){l.aborted||(t.operation==="put"||t.operation==="add")&&(c(t.value,n)||(r==null||r.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges"),i.abort(),a()))})});return Promise.race([d,s])}function p(e,t){return o("ReQL").fromTableDescending(e).getKeyRange(t.threadKey).bounds({lte:o("ReQL").key(t.timestampMs)}).filter(function(e){return h(t,e)}).take(1)}function _(t,n,r){return r==="asc"?(e||(e=o("I64"))).equal(t.minTimestampMs,n.minTimestampMs):(e||(e=o("I64"))).equal(t.maxTimestampMs,n.maxTimestampMs)}function f(e,t){var n=e.maxTimestampMs,a=e.minTimestampMs,i=e.threadKey;return t==="asc"?{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:n,threadKey:i}:{direction:(s||(s=o("LSIntEnum"))).ofNumber(r("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:a,threadKey:i}}function g(e,t){return t==="asc"&&e.hasMoreAfter&&!e.isLoadingAfter||t==="desc"&&e.hasMoreBefore&&!e.isLoadingBefore}function h(t,n){var r=t.timestampMs;return((e||(e=o("I64"))).equal(r,(e||(e=o("I64"))).max_int)||(e||(e=o("I64"))).ge(n.maxTimestampMs,r))&&(e||(e=o("I64"))).le(n.minTimestampMs,r)}async function y(t,n,a){a===void 0&&(a=20);var l=n.messageId,s=n.threadKey;if(l==null)throw r("err")("Cannot issue a point query without a message ID.");await t.runInTransaction(function(t){return r("LSMessagePointQueryStoredProcedure")(r("LSFactory")(t),{messageId:l,numContextMessages:(e||(e=o("I64"))).of_float(a),threadKey:s})},"readwrite",void 0,void 0,i.id+":383")}l.MSYSMessageRangeDataSource=d}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWMessageRangeDataSourceV2","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(function(){function t(t,n,a){var i=n.after,l=n.before,s=n.cursor,u=n.pageSize,_=n.secondaryThreadKey,f=n.secondaryThreadType,g=n.threadAuthorityLevel,h=n.threadType,y=function(i,l){var n=new(r("MWPMessageListSingleDirectionDataSource"))(t,l==="desc"&&!(e||(e=o("I64"))).equal(s.timestampMs,(e||(e=o("I64"))).max_int)?babelHelpers.extends({},s,{timestampMs:(e||(e=o("I64"))).sub(s.timestampMs,(e||(e=o("I64"))).one)}):s,l,i,d(t,h,g),h,g,a,u);return n},C=function(i,l){var n=new(r("MWPMessageListSingleDirectionDataSource"))(t,{externalId:s.externalId,messageId:s.messageId,threadKey:r("nullthrows")(_),timestampMs:l==="desc"&&!(e||(e=o("I64"))).equal(s.timestampMs,(e||(e=o("I64"))).max_int)?(e||(e=o("I64"))).sub(s.timestampMs,(e||(e=o("I64"))).one):s.timestampMs},l,i,d(t,r("nullthrows")(f),g),h,g,a,u);return n},b,v;_==null||f==null?(b=y(l,"desc"),v=y(i,"asc")):(b=new(r("MWPConcatenateMessageListsDataSource"))({count:l,first:y(l,"desc"),getSecond:function(t){return C(t,"desc")}}),v=new(r("MWPConcatenateMessageListsDataSource"))({count:i,first:C(i,"asc"),getSecond:function(t){return y(t,"asc")}}));var S=r("relay-runtime/network/RelayObservable").create(function(e){return e.next([])}),R=S,L=new Map,E=r("combineLatestWith")(b,v,R).map(function(e){var t=e[0],n=e[1],r=e[2];r.forEach(function(e){return L.set(e[1].message.messageId,e)});var o=new Set(L.keys()),a=t.data.toReversed().concat(n.data).sort(p(s.threadKey));m(o,a);var i=[];for(var l of L){var u=l[0],c=l[1];o.has(u)?i.push(c):L.delete(u)}return{authoritativeMessages:a,hasNext:n.hasMore,hasPrevious:t.hasMore,isLoadingNext:n.isLoadingMore,isLoadingPrevious:t.isLoadingMore,optimisticMessages:i}});this.$1=r("switchMap")(E,function(e){var n=e.authoritativeMessages,r=e.hasNext,o=e.hasPrevious,a=e.isLoadingNext,i=e.isLoadingPrevious,l=e.optimisticMessages;return c(t,l).map(function(e){var t=[].concat(n,e);return t.sort(p(s.threadKey)),{data:t,hasNext:r,hasPrevious:o,isLoadingNext:a,isLoadingPrevious:i}})})}var n=t.prototype;return n.subscribe=function(t){return this.$1.subscribe(t)},t})();function c(e,t){if(t.length===0)return r("relay-runtime/network/RelayObservable").create(function(e){return e.next([])});var n=t.map(function(t){var n=t[0],r=t[1];return o("ReQL").fromTableAscending(e.tables.messages.index("optimistic")).getKeyRange(r.message.offlineThreadingId).map(function(e){return{message:e}})}).map(function(t){return o("ReQLObservable").create(e,function(){return t})});return r("combineLatestWith").apply(void 0,n).map(function(e){var n=[];return e.forEach(function(e,r){if(e.length!==0){var o=e[0],a=o[0],i=o[1];n.push([t[r][0],i])}}),n})}function d(t,n,a){return(e||(e=o("I64"))).equal(a,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))?r("MAWDumbRangeDataSource")():o("LSMessagingThreadTypeUtil").isArmadilloSecure(n)?r("MAWMessageRangeDataSourceV2")(t):new(o("MWPMessageRangeDataSource")).MSYSMessageRangeDataSource(t)}function m(t,n){if(t.size!==0)for(var a=n.length-1;a>=0;){var i=n[a],l=i[0],u=i[1],c=u.message;t.has(c.offlineThreadingId)&&((e||(e=o("I64"))).lt(c.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?n.splice(a,1):t.delete(c.offlineThreadingId)),a--}}var p=function(n){return(function(t,r){var a,i,l=t[1],s=r[1],u=l.message,c=s.message,d=(e||(e=o("I64"))).compare(u.threadKey,c.threadKey);if(d!==0)return(e||(e=o("I64"))).equal(u.threadKey,n)?1:-1;var m=e.compare(u.primarySortKey,c.primarySortKey);if(m!==0)return m;var p=e.compare((a=u.secondarySortKey)!=null?a:(e||(e=o("I64"))).zero,(i=c.secondarySortKey)!=null?i:(e||(e=o("I64"))).zero);return p!==0?p:e.compare(u.timestampMs,c.timestampMs)})};l.default=u}),98);
__d("useMWPMessageListDataSourceFactory",["MAWSubscribeToLSTruncateMetadataThreads","MWPMessageListDataSource","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(2),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=m(),t[0]=n):n=t[0];var r=c(n),a=r[0],i=r[1],l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=function(){i(m())},t[1]=l):l=t[1];var s=l;return o("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(e,s),a}function m(){return{create:function(t,n,o){var e=n.after,a=n.before,i=n.cursor,l=n.pageSize,s=n.secondaryThreadKey,u=n.secondaryThreadType,c=n.threadAuthorityLevel,d=n.threadType;return new(r("MWPMessageListDataSource"))(t,{after:e,before:a,cursor:i,pageSize:l,secondaryThreadKey:s,secondaryThreadType:u,threadAuthorityLevel:c,threadType:d},o)}}}l.default=d}),98);
__d("useObservable",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useEffect,c=s.useState;function d(e){var t=o("react-compiler-runtime").c(7),n=c(),r=n[0],a=n[1],i=c(),l=i[0],s=i[1],d=c(!1),m=d[0],p=d[1],_,f;t[0]!==e?(_=function(){var t=e.subscribe({complete:function(){return p(!0)},error:s,next:a});return(function(){return t.unsubscribe()})},f=[e],t[0]=e,t[1]=_,t[2]=f):(_=t[1],f=t[2]),u(_,f);var g;return t[3]!==l||t[4]!==m||t[5]!==r?(g=[r,l,m],t[3]=l,t[4]=m,t[5]=r,t[6]=g):g=t[6],g}l.default=d}),98);
__d("useMWPMessageListData",["I64","Int64Hooks","JSONStringifyBigIntSafe","MAWObservableUtils","MWInboxMessageSearchJumpToResultQPL","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","justknobx","react","useMWPMessageListDataSourceFactory","useMWPThreadHasSpectraUser","useObservable","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef,_=c.useState;function f(e,t){return r("JSONStringifyBigIntSafe")(e)===r("JSONStringifyBigIntSafe")(t)}var g=r("justknobx")._("3383");function h(t,n,a){var l,u,c,h,y,C,b=t.authorityLevel,v=t.threadKey,S=t.threadType,R=(e||(e=r("useReStore")))(),L=p(o("MAWObservableUtils").getUniqueRef()),E=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),k=E.visibleMessage,I=k==null?void 0:k.messageId,T=k==null?void 0:k.messageOtid,D=(l=k==null?void 0:k.timestamp)!=null?l:(s||(s=o("I64"))).max_int,x=n==null?void 0:n.threadKey,$=n==null?void 0:n.threadType,P=_(a),N=P[0],M=P[1],w=_(a),A=w[0],F=w[1],O=_(I),B=O[0],W=O[1],q=_(T),U=q[0],V=q[1],H=_(D),G=H[0],z=H[1],j=_(g),K=j[0],Q=j[1],X=_(!1),Y=X[0],J=X[1],Z=p(new Map),ee=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(R.tables.mi_act_mapping_table,["jid"]).getKeyRange(v).map(function(e){return e.jid})},[R,v],i.id+":94"),te=r("useMWPThreadHasSpectraUser")(v),ne=r("useMWPMessageListDataSourceFactory")(v),re=o("Int64Hooks").useMemoInt64(function(){return ne.create(R,{after:A,before:N,cursor:{externalId:U,messageId:B,secureThreadJid:ee,threadKey:v,timestampMs:G},pageSize:a,secondaryThreadKey:x,secondaryThreadType:$,threadAuthorityLevel:b,threadType:S},L.current)},[A,N,R,ee,B,U,x,$,v,S,G,b,a,ne]),oe=r("useObservable")(re),ae=oe[0],ie=oe[1];if(m(function(){Q(!1),J(!1)},[ae]),ie!=null)throw ie;var le=te?[]:(u=ae==null?void 0:ae.data.map(function(e){var t=e[0],n=e[1],r=n.message;if(r.isCollapsed===!0)return null;var o=Z.current.get(r.messageId);return o!=null&&f(n,o)?o:n}).filter(Boolean))!=null?u:[],se=le.some(function(e){return e.message.messageId===I});o("Int64Hooks").useEffectInt64(function(){se||(z(D),W(I),V(T),o("MWInboxMessageSearchJumpToResultQPL").addPointIfJumpedToMessage("updated_offset_in_message_list",{messageId:I,offlineThreadingId:T}),M(a),F(a),g&&Q(!0))},[se,I,T,D,a]);var ue=(c=ae==null?void 0:ae.hasNext)!=null?c:!1,ce=((h=ae==null?void 0:ae.isLoadingNext)!=null?h:!1)||Y,de=d(function(){!ce&&ue&&(F(A+a),J(!0))},[ue,ce,A,a]),me=(y=ae==null?void 0:ae.hasPrevious)!=null?y:!0,pe=((C=ae==null?void 0:ae.isLoadingPrevious)!=null?C:!1)||K,_e=d(function(){!pe&&me&&(M(N+a),Q(!0))},[me,pe,N,a]);return{hasNext:ue,hasPrevious:me,isLoadingNext:ce,isLoadingPrevious:pe,loadNext:de,loadPrevious:_e,messagesAndAssociatedData:le}}l.default=h}),98);
__d("useMWPMessageListOnScrollToBottom",["Promise","react","react-compiler-runtime","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useCallback,d=u.useEffect;function m(t,a,i,l,s){var u=o("react-compiler-runtime").c(10),c;u[0]!==i||u[1]!==l?(c=function(){return(e||(e=n("Promise"))).resolve(l&&!i)},u[0]=i,u[1]=l,u[2]=c):c=u[2];var m=c,p=r("useMWPSafelyMarkThreadAsRead")(s,m,t,a),_;u[3]!==t?(_=t(),u[3]=t,u[4]=_):_=u[4];var f=_,g,h;u[5]!==l||u[6]!==f||u[7]!==p?(g=function(){l&&!f&&p()},h=[l,f,p],u[5]=l,u[6]=f,u[7]=p,u[8]=g,u[9]=h):(g=u[8],h=u[9]),d(g,h)}function p(e,t,n,a,i,l){var s=o("react-compiler-runtime").c(4),u=r("useIsNearBottomOfScrollArea")(i),c,p;s[0]!==u||s[1]!==a?(c=function(){a!=null&&a(u)},p=[u,a],s[0]=u,s[1]=a,s[2]=c,s[3]=p):(c=s[2],p=s[3]),d(c,p),m(e,t,n,u,l)}l.default=p}),98);
__d("getOrCreateMapValue",[],(function(t,n,r,o,a,i){"use strict";function e(e,t,n){var r=e.get(t);return r==null&&(r=n(),e.set(t,r)),r}i.default=e}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createRef,c=s.startTransition,d=s.useCallback,m=s.useEffect,p=s.useRef;function _(){var e,t=o("react-compiler-runtime").c(12),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Map,t[0]=n):n=t[0];var a=p(n),i=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),l=i.setVisibleMessage,s=i.visibleMessage,d;t[1]!==l||t[2]!==s?(d=function(t){var e=r("getOrCreateMapValue")(a.current,t,u);return s!=null&&t===s.messageId&&(s==null?void 0:s.ref)!==e&&l(babelHelpers.extends({},s,{ref:e})),e},t[1]=l,t[2]=s,t[3]=d):d=t[3];var _=d,f,g;t[4]!==l||t[5]!==s?(f=function(){var e=s==null?void 0:s.messageId;if(!(e==null||s==null)){var t=a.current.get(e);t!==(s==null?void 0:s.ref)&&c(function(){l(babelHelpers.extends({},s,{ref:t}))})}},g=[s,l],t[4]=l,t[5]=s,t[6]=f,t[7]=g):(f=t[6],g=t[7]),m(f,g);var h;if(t[8]!==(s==null||(e=s.ref)==null?void 0:e.current)){var y;h=function(){var e,t=s==null||(e=s.ref)==null?void 0:e.current;if(t!=null){var n=window.requestAnimationFrame(function(){t.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return(function(){return window.cancelAnimationFrame(n)})}},t[8]=s==null||(y=s.ref)==null?void 0:y.current,t[9]=h}else h=t[9];var C;return t[10]!==s?(C=[s],t[10]=s,t[11]=C):C=t[11],m(h,C),_}l.default=_}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback;function c(e){var t=o("react-compiler-runtime").c(3),n=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),r=n.setVisibleMessage,a;return t[0]!==e||t[1]!==r?(a=function(){var t=e.current;t!=null&&(r(void 0),t.scrollTop=t.scrollHeight)},t[0]=e,t[1]=r,t[2]=a):a=t[2],a}l.default=c}),98);
__d("useObserveMessagePageLoad",["I64","MAWSubscribeToLSTruncateMetadataThreads","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useCallback,d=u.useEffect,m=u.useRef;function p(e,t){return t?[e.slice(0,e.length-1),e[e.length-1]]:[[].concat(e),null]}function _(e,t,n){if(t==null)return p(e,n);var r=e.findIndex(function(e){return e.messageId===t});return r===-1?p(e,n):[e.slice(0,r),e.at(r)]}var f=function(t,n){return t.some(function(e){return n.findIndex(function(t){return t.offlineThreadingId===e.offlineThreadingId})>-1})};function g(e,t,n,r,a,i,l){var s=o("react-compiler-runtime").c(10),u;s[0]===Symbol.for("react.memo_cache_sentinel")?(u=[],s[0]=u):u=s[0];var c=m(u),p=m(null),g=m(0),b;s[1]===Symbol.for("react.memo_cache_sentinel")?(b=function(){c.current=[],p.current=null,g.current=0},s[1]=b):b=s[1];var v=b;o("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(e,v);var S,R;s[2]!==i||s[3]!==t||s[4]!==r||s[5]!==n||s[6]!==l||s[7]!==a?(S=function(){var e,o;if(l?(c.current.length>0&&!f(c.current,t)&&(c.current=[],p.current=null,g.current=i?999:0),c.current=[].concat(c.current,t).reduce(C,[]).sort(y),o=c.current):o=t,!a){if(o.length===0){p.current=null;return}var s=_(o,p.current,i),u=s[0],d=s[1];if(!(u.length<n)){for(var m=u.reverse(),b=d;m.length>=n;){var v=m.splice(0,n);r(b==null?null:b,v.map(h),n,g.current),g.current=g.current+1,b=v[v.length-1]}p.current=(e=b)==null?void 0:e.messageId}}},R=[r,n,t,a,i,l],s[2]=i,s[3]=t,s[4]=r,s[5]=n,s[6]=l,s[7]=a,s[8]=S,s[9]=R):(S=s[8],R=s[9]),d(S,R)}function h(e){return e}function y(e,t){var n=(s||(s=o("I64"))).compare(e.primarySortKey,t.primarySortKey);return n!==0?n:e.offlineThreadingId.localeCompare(t.offlineThreadingId)}function C(e,t){var n=e.find(function(e){return e.offlineThreadingId===t.offlineThreadingId});if(n==null)e.push(t);else if(n.offlineThreadingId===n.messageId&&t.messageId!==t.offlineThreadingId){var r=e.indexOf(n);e[r]=t}return e}function b(e,t,n,r,o,a){return g(e,t,n,r,o,a,!1)}function v(e,t,n,r,o,a){return g(e,t,n,r,o,a,!0)}l.useObserveMessagePageLoad=b,l.useObserveMessagePageLoadWithAggregation=v}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatInteraction","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","emptyFunction","justknobx","react","react-compiler-runtime","useMWPMessageListData","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useImperativeHandle,f=m.useRef,g={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}};function h(e,t){var n=o("react-compiler-runtime").c(4),r,a;n[0]!==e||n[1]!==t?(r=function(){if(t!=null){var n=o("MWChatInteraction").get((u||(u=o("I64"))).to_string(e));n!=null&&o("MWChatInteraction").set((u||(u=o("I64"))).to_string(t),n)}},a=[e,t],n[0]=e,n[1]=t,n[2]=r,n[3]=a):(r=n[2],a=n[3]),p(r,a)}function y(e){var t,n=o("react-compiler-runtime").c(34),a=e.checkIsThreadManuallySetAsUnread,i=e.entryPoint,l=e.onPageLoaded,s=e.onScrollToBottom,c=e.onUserScroll,m=e.pageSize,p=e.ref,y=e.renderFooter,b=e.renderHeader,v=e.renderJumpToMostRecentMessageButton,S=e.renderLoadingAnimation,R=e.renderRow,L=e.secondaryThread,E=e.shouldPausePageLoadTracking,k=e.thread,I=a===void 0?r("emptyFunction").thatReturnsFalse:a,T=l===void 0?r("emptyFunction"):l,D=E===void 0?!1:E,x=f(),$=r("useMWPMessageListData")(k,L,m),P=$.hasNext,N=$.hasPrevious,M=$.isLoadingNext,w=$.isLoadingPrevious,A=$.loadNext,F=$.loadPrevious,O=$.messagesAndAssociatedData,B=r("useMWPMessageListScrollVisibleMessageIntoView")();h(k.threadKey,L==null?void 0:L.threadKey);var W=k.threadKey,q;if(n[0]!==O||n[1]!==k.threadKey){var U;n[3]!==k.threadKey?(U=function(t){var e=t.message;return(u||(u=o("I64"))).equal(e.threadKey,k.threadKey)?o("MessageForIntegrityCheck").prepMessageForIntegrityCheck(e):null},n[3]=k.threadKey,n[4]=U):U=n[4],q=O.map(U).filter(Boolean),n[0]=O,n[1]=k.threadKey,n[2]=q}else q=n[2];o("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(W,q,m,T,D,P),r("useMWPMessageListOnScrollToBottom")(I,i,P,s,x,k);var V=r("useMWPRelayMessageListJumpToMostRecentMessage")(x),H,G;n[5]!==V?(H=function(){return{getScrollAreaElement:r("emptyFunction"),jumpToMostRecentMessage:function(){V(!0)},restoreScrollPosition:r("emptyFunction")}},G=[V],n[5]=V,n[6]=H,n[7]=G):(H=n[6],G=n[7]),_(p,H,G);var z=f(null),j=(t=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:t.ref,K;n[8]!==B||n[9]!==R?(K=function(t,n,a,i){var e=t.message;return d.createElement("div",babelHelpers.extends({},{0:{},1:{className:"x1vjfegm"}}[((u||(u=o("I64"))).to_float(e.displayedContentTypes)===8)<<0],{key:e.offlineThreadingId,ref:B(e.messageId)}),d.jsx(r("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return x.current},unmountXStyle:g.backgroundColor,children:d.jsx(o("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:e.senderId,threadKey:e.threadKey,children:R({domElementRef:z,message:t.message,messageAssociatedData:t==null?void 0:t.associatedData,nextMessage:a==null?void 0:a.message,prevMessage:n==null?void 0:n.message,rowIndexFromBottom:i})})}))},n[8]=B,n[9]=R,n[10]=K):K=n[10];var Q;n[11]!==S?(Q=function(t){var e=t>r("justknobx")._("2674");return d.jsxs(d.Fragment,{children:[S==null?void 0:S(e),d.jsx(r("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems(Base)",hold:!e})]})},n[11]=S,n[12]=Q):Q=n[12];var X;n[13]!==P||n[14]!==N||n[15]!==M||n[16]!==w||n[17]!==A||n[18]!==F||n[19]!==O||n[20]!==c||n[21]!==y||n[22]!==b||n[23]!==Q||n[24]!==j||n[25]!==K?(X=d.jsx(r("BaseHeadingContextWrapper.react"),{children:d.jsx(r("MWXMessageScrollList.react"),{anchoredElement:j,getKeyForItem:C,hasNext:P,hasPrevious:N,isLoadingNext:M,isLoadingPrevious:w,items:O,loadNext:A,loadPrevious:F,onUserScroll:c,ref:x,renderFooter:y,renderHeader:b,renderItem:K,renderLoadingAnimation:Q,role:"none"})}),n[13]=P,n[14]=N,n[15]=M,n[16]=w,n[17]=A,n[18]=F,n[19]=O,n[20]=c,n[21]=y,n[22]=b,n[23]=Q,n[24]=j,n[25]=K,n[26]=X):X=n[26];var Y;n[27]!==P||n[28]!==V||n[29]!==v?(Y=d.jsx(r("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:P,jumpToMostRecentMessage:V,renderButton:v,scrollAreaRef:x}),n[27]=P,n[28]=V,n[29]=v,n[30]=Y):Y=n[30];var J;return n[31]!==X||n[32]!==Y?(J=d.jsxs(r("Box.react"),{xstyle:g.list,children:[X,Y]}),n[31]=X,n[32]=Y,n[33]=J):J=n[33],J}function C(e){return e.message.messageId}function b(t){var n=o("react-compiler-runtime").c(11),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l=a,s=l.renderLoadingAnimation,m=l.thread,p=(u||(u=o("I64"))).equal(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))&&o("LSMessagingThreadTypeUtil").isCMSubthread(m.threadType);if(p){var _;n[3]===Symbol.for("react.memo_cache_sentinel")?(_=d.jsx(r("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),n[3]=_):_=n[3];var f;n[4]!==s?(f=s==null?void 0:s(!1),n[4]=s,n[5]=f):f=n[5];var g;return n[6]!==f?(g=d.jsxs(d.Fragment,{children:[_,f]}),n[6]=f,n[7]=g):g=n[7],g}var h;return n[8]!==a||n[9]!==i?(h=d.jsx(y,babelHelpers.extends({},a,{ref:i})),n[8]=a,n[9]=i,n[10]=h):h=n[10],h}l.default=b}),98);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MAWMessageIntegrityCheckFlytrapQueue","MetaConfig","Random","WATimeUtils","cometPushToast","cr:10710","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=(u||(u=o("react"))).useCallback,m=(e=n("cr:10710")==null?void 0:n("cr:10710").getIntegrityCheckSampleRate())!=null?e:r("MetaConfig")._("59");function p(e,t,n){var a=o("react-compiler-runtime").c(10),i=r("useMWEntrypoint")(),l;a[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),a[0]=l):l=a[0];var u=r("useMWXLazyDialog")(l),d=u[0],p;a[1]!==d?(p=function(t,n){r("gkx")("4852")&&o("cometPushToast").cometPushToast({action:{label:s._(/*BTDS*/"Report"),onPress:function(r){return d({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(c||(c=o("I64"))).to_string(t)+" at time: "+(n!=null?n:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:s._(/*BTDS*/"[Employee-only] Detected Missing Messages. Please submit a bug report to Messenger Web"),truncateText:!1})},a[1]=d,a[2]=p):p=a[2];var _=p,f,g;return a[3]!==e||a[4]!==i||a[5]!==_||a[6]!==t||a[7]!==n?(f=function(a,l,s,u){if(o("MAWMessageIntegrityCheckFlytrapQueue").enqueueFlytrapMessageIntegrityCheck({lastItemFromPreviousPage:a,pageSize:s,threadKey:t,uiMessages:l}),!!o("Random").coinflip(m)){var r=o("WATimeUtils").millisTime();o("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(e,t,n,i,s,a,l,u,r,function(){return _(t,(a==null?void 0:a.primarySortKey)==null?null:(c||(c=o("I64"))).to_float(a==null?void 0:a.primarySortKey))})}},g=[e,t,n,i,_],a[3]=e,a[4]=i,a[5]=_,a[6]=t,a[7]=n,a[8]=f,a[9]=g):(f=a[8],g=a[9]),o("Int64Hooks").useCallbackInt64(f,g)}l.default=p}),226);
__d("useMAWOfflineQueueLoadingIndicatorShown",["useCometRouterState"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=e===void 0?!1:e,n=r("useCometRouterState")(),o=n==null?void 0:n.main.route.tabKey;return o==="messenger"||!t}l.default=e}),98);
__d("useMAWOfflineQueueLoadingIndicatorThreadJid",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWJids","ReQL","WAJids","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useState;function d(t,n){var a=o("react-compiler-runtime").c(7),i=(e||(e=r("useReStore")))(),l=c(null),u=l[0],d=l[1],m;a[0]!==n?(m=n!=null?o("LSMessagingThreadTypeUtil").isGroup(n):!1,a[0]=n,a[1]=m):m=a[1];var p=m,_,f;return a[2]!==i||a[3]!==p||a[4]!==t?(_=function(){t!=null&&r("promiseDone")(o("ReQL").firstAsync(o("ReQL").fromTableAscending(i.tables.mi_act_mapping_table).getKeyRange(t)),function(e){if(e!=null){var t=(s||(s=o("I64"))).to_string(e.jid),n=p===!0?o("WAJids").toGroupJid(t):o("MAWJids").toUserJid(t);d(n)}})},f=[i,d,t,p],a[2]=i,a[3]=p,a[4]=t,a[5]=_,a[6]=f):(_=a[5],f=a[6]),o("Int64Hooks").useEffectInt64(_,f),u}l.default=d}),98);
__d("MAWOfflineQueueState-resolver",["MAWOfflineQueueState"],(function(t,n,r,o,a,i,l){"use strict";function e(){return{read:function(){return o("MAWOfflineQueueState").offlineQueueState.getSnapshot()},subscribe:function(t){return o("MAWOfflineQueueState").offlineQueueState.subscribe(t)}}}l.offlineQueueStats=e}),98);
__d("useMAWOfflineQueueStateQuery.graphql",["MAWOfflineQueueState-resolver"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,fragment:null,kind:"RelayLiveResolver",name:"offlineQueueStats",resolverModule:n("MAWOfflineQueueState-resolver").offlineQueueStats,path:"offlineQueueStats"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMAWOfflineQueueStateQuery",selections:[{kind:"ClientExtension",selections:[{name:"offlineQueueStats",args:null,fragment:null,kind:"RelayResolver",storageKey:null,isOutputType:!0}]}]},params:{cacheID:"84004270b2ffca123b6b78124755ac6f",id:null,metadata:{},name:"useMAWOfflineQueueStateQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("useMAWOfflineQueueState",["CometRelay","MAWOfflineQueueState","react-compiler-runtime","useMAWOfflineQueueStateQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t,r=o("react-compiler-runtime").c(2),a,i;r[0]===Symbol.for("react.memo_cache_sentinel")?(a=e!==void 0?e:e=n("useMAWOfflineQueueStateQuery.graphql"),i={},r[0]=a,r[1]=i):(a=r[0],i=r[1]);var l=o("CometRelay").useClientQuery(a,i);return(t=l.offlineQueueStats)!=null?t:o("MAWOfflineQueueState").EMPTY_STATE}l.useMAWOfflineQueueState=s}),98);
__d("useMAWOfflineQueueLoadingIndicatorV2",["MAWSharedProtocolQueueConst","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueLoadingIndicatorThreadJid","useMAWOfflineQueueState"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n){var a=e===void 0?!1:e,i=r("useMAWOfflineQueueLoadingIndicatorShown")(a),l=r("useMAWOfflineQueueLoadingIndicatorThreadJid")(t.threadKey,t.threadType),u=o("useMAWOfflineQueueState").useMAWOfflineQueueState();if(l!=null&&Object.keys(u.offlineQueueThreadStatus).length>0){var c;return i&&u.offlineQueueThreadStatus[l]!=null&&((c=u.offlineQueueThreadStatus[l])==null?void 0:c.chatStatus)!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return i&&u.offlineQueueCount>0&&u.offlineQueueSyncState!==o("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function s(){return u}function u(){return!0}l.default=e}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","EBMessageMetadataQuery","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWMessageListRow.react","MAWMiActOnActThreadReady","MAWThreadMappingUtils","MWBaseTheme","MWBlockingProtectionContext.react","MWChatInteraction","MWContextBannerWithKeyboardFocus.react","MWEBEntrypointsKillswitch.enum","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","ScreenReaderText.react","WAJids","cr:3907","gkx","justknobx","mwpMessageIsReply","qex","react","react-compiler-runtime","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMAWOfflineQueueLoadingIndicatorV2","useMWEBBackupState","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.useEffect,_=m.useId,f=m.useMemo,g=m.useState;function h(e){return d.jsx(r("MWJumpToMostRecentMessageButton.react"),{onPress:e})}h.displayName=h.name+" [from "+i.id+"]";function y(e,t){var n=r("qex")._("1419")===!0;return n?o("MAWThreadMappingUtils").getIntJidOnceInThreadMappingTable(e,t,"MAWMessageList").then(function(e){return(c||(c=o("I64"))).to_string(e)}):o("MAWMiActOnActThreadReady").waitForACTThreadReady(e.tables,t,"MAWMessageList").then(function(e){var t=e.chatJid;return o("WAJids").threadIdForChatJid(t)})}async function C(e,t){var n=await e,r=await o("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:await y(n,t)});return r.value?r.value.messages:[]}function b(e){var t=o("react-compiler-runtime").c(11),n=e.theme,a=e.threadKey,i=e.threadType,l=n===void 0?o("MWBaseTheme").empty:n,s=o("MWPTypingIndicators.react").useTypingParticipants(a),u=o("MWPTypingIndicators.react").useAccessibilityText(s);if(s.length>0){var c;t[0]!==u?(c=d.jsx("div",{"aria-live":"polite",children:d.jsx(r("ScreenReaderText.react"),{text:u})}),t[0]=u,t[1]=c):c=t[1];var m;t[2]!==a||t[3]!==i?(m=d.jsx(o("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:a,threadType:i}),t[2]=a,t[3]=i,t[4]=m):m=t[4];var p;t[5]!==c||t[6]!==m?(p=d.jsx(r("MWV2MessageRowSimple.react"),{children:d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[c,m]})}),t[5]=c,t[6]=m,t[7]=p):p=t[7];var _;return t[8]!==p||t[9]!==l?(_=d.jsx(r("BaseTheme.react"),{config:l,children:p}),t[8]=p,t[9]=l,t[10]=_):_=t[10],_}else return null}var v=o("withCometPlaceholder").withCometPlaceholder(b,null,"MAWTypingIndicators");function S(t){var a=o("react-compiler-runtime").c(61),i=t.cutoverOpenThread,l=t.entryPoint,s=t.onScrollToBottom,m=t.ref,f=t.thread,y=(e||(e=r("useReStore")))(),b=r("useAsyncReStore")(),S=o("MWPActor.react").useActor(),E=r("useMWPAriaLabelForMessageListGrid")(f),k=r("useMWMessageRowTheme")(),I=g(""),T=I[0],D=I[1],x=_(),$=o("CometRelay").useRelayEnvironment(),P;a[0]===Symbol.for("react.memo_cache_sentinel")?(P=[],a[0]=P):P=a[0];var N=g(P),M=N[0],w=N[1],A;a[1]!==b||a[2]!==f.authorityLevel||a[3]!==f.threadKey?(A=function(){(c||(c=o("I64"))).equal(f.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC))||C(b,f.threadKey).then(function(e){return w(e)}).catch(L)},a[1]=b,a[2]=f.authorityLevel,a[3]=f.threadKey,a[4]=A):A=a[4];var F;a[5]!==b||a[6]!==$||a[7]!==f.authorityLevel||a[8]!==f.threadKey?(F=[b,$,f.authorityLevel,f.threadKey],a[5]=b,a[6]=$,a[7]=f.authorityLevel,a[8]=f.threadKey,a[9]=F):F=a[9],p(A,F);var O;a[10]===Symbol.for("react.memo_cache_sentinel")?(O={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},a[10]=O):O=a[10];var B=r("useMWEBBackupState")(O),W;e:{if(B===2){W=null;break e}else if(M.length>0&&M[0].sortOrderMs!=null){var q;a[11]!==M[0].sortOrderMs?(q=(c||(c=o("I64"))).of_string(M[0].sortOrderMs),a[11]=M[0].sortOrderMs,a[12]=q):q=a[12],W=q;break e}W=(c||(c=o("I64"))).zero}var U=W,V=r("useCheckMessageIntegrityForSecureThread")(y,f.threadKey,f.threadType),H=r("useMAWOfflineQueueLoadingIndicatorV2")(!1,f),G;a[13]!==f.threadType?(G=o("LSMessagingThreadTypeUtil").isArmadilloSecure(f.threadType),a[13]=f.threadType,a[14]=G):G=a[14];var z=G,j=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),K=j==="ChatTab",Q;a[15]===Symbol.for("react.memo_cache_sentinel")?(Q=r("justknobx")._("2575"),a[15]=Q):Q=a[15];var X=Q,Y;a[16]===Symbol.for("react.memo_cache_sentinel")?(Y=r("gkx")("14315")?8:r("justknobx")._("2038"),a[16]=Y):Y=a[16];var J=Y,Z=K?J:X,ee;a[17]!==V||a[18]!==z||a[19]!==f.threadKey?(ee=function(t,n,r,a){z&&V(t,n,r,a);var e=o("MWChatInteraction").getInteractionTraceForThreadKey((c||(c=o("I64"))).to_string(f.threadKey));e!=null&&e.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:a,page_size:r,total_number_of_messages:n.length})},a[17]=V,a[18]=z,a[19]=f.threadKey,a[20]=ee):ee=a[20];var te;a[21]!==k||a[22]!==f.threadKey||a[23]!==f.threadType?(te=function(){return d.jsx(v,{theme:k,threadKey:f.threadKey,threadType:f.threadType})},a[21]=k,a[22]=f.threadKey,a[23]=f.threadType,a[24]=te):te=a[24];var ne;a[25]!==f.threadKey||a[26]!==f.threadType?(ne=function(){return d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),d.jsx(r("MWContextBannerWithKeyboardFocus.react"),{threadKey:f.threadKey,threadType:f.threadType})]})},a[25]=f.threadKey,a[26]=f.threadType,a[27]=ne):ne=a[27];var re;a[28]!==S||a[29]!==l||a[30]!==U||a[31]!==T||a[32]!==f?(re=function(t){var e=t.domElementRef,n=t.message,a=t.messageAssociatedData,i=t.nextMessage,s=t.prevMessage,u=t.rowIndexFromBottom,m=r("mwpMessageIsReply")(n),p=(c||(c=o("I64"))).equal(n.senderId,S);return d.jsx(r("CometErrorBoundary.react"),{fallback:function(){return d.jsx(r("MWV2ChatErrorBubble.react"),{isOutgoing:p,isReply:m})},children:d.jsx(r("MAWMessageListRow.react"),{domElementRef:e,entryPoint:l,lastEbMessageTime:U,messageAssociatedData:a,modal:T,row:{message:n,nextMessage:i,prevMessage:s},rowIndexFromBottom:u,thread:f})})},a[28]=S,a[29]=l,a[30]=U,a[31]=T,a[32]=f,a[33]=re):re=a[33];var oe;a[34]!==i||a[35]!==l||a[36]!==s||a[37]!==H||a[38]!==Z||a[39]!==m||a[40]!==te||a[41]!==ne||a[42]!==re||a[43]!==ee||a[44]!==f?(oe=d.jsx(r("MWPRelayBaseMessageList.react"),{entryPoint:l,onPageLoaded:ee,onScrollToBottom:s,pageSize:Z,ref:m,renderFooter:te,renderHeader:ne,renderJumpToMostRecentMessageButton:h,renderLoadingAnimation:R,renderRow:re,secondaryThread:i,shouldPausePageLoadTracking:H,thread:f}),a[34]=i,a[35]=l,a[36]=s,a[37]=H,a[38]=Z,a[39]=m,a[40]=te,a[41]=ne,a[42]=re,a[43]=ee,a[44]=f,a[45]=oe):oe=a[45];var ae=oe,ie;a[46]===Symbol.for("react.memo_cache_sentinel")?(ie={className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d"},a[46]=ie):ie=a[46];var le;a[47]===Symbol.for("react.memo_cache_sentinel")?(le="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",a[47]=le):le=a[47];var se;a[48]!==ae||a[49]!==x?(se=n("cr:3907")==null?ae:d.jsx(n("cr:3907"),{id:x,children:ae}),a[48]=ae,a[49]=x,a[50]=se):se=a[50];var ue;a[51]!==E||a[52]!==T||a[53]!==se?(ue=d.jsx(r("MWBlockingProtectionContext.react").Provider,{children:d.jsx(r("MWPMessageListFocusTable.react"),{ariaLabel:E,modal:T,setModal:D,children:se})}),a[51]=E,a[52]=T,a[53]=se,a[54]=ue):ue=a[54];var ce;a[55]!==ue||a[56]!==f?(ce=d.jsx(o("CometPageletWithDiv.react").Placeholder,{className:le,fallback:null,name:"MWV2MessageList",children:d.jsx(o("MWPThreadCapabilitiesContext").Provider,{thread:f,children:ue})}),a[55]=ue,a[56]=f,a[57]=ce):ce=a[57];var de;return a[58]!==x||a[59]!==ce?(de=d.jsx("div",babelHelpers.extends({},ie,{"data-testid":void 0,id:x,children:ce})),a[58]=x,a[59]=ce,a[60]=de):de=a[60],de}function R(e){return d.jsx(r("MWInboxThreadMessagesSpinner.react"),{vcIgnore:e})}R.displayName=R.name+" [from "+i.id+"]";function L(e){return r("FBLogger")("messenger_web").catching(e).warn("Unable to get last EB message timestamp")}l.default=S}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a){o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&r("promiseDone")(n.runInTransaction(async function(i){var l,s=(l=await o("ReQL").firstAsync(o("ReQL").mergeJoin(o("ReQL").fromTableAscending(n.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(n.tables.contacts)).filter(function(t){var n=t[0],r=t[1];return!(e||(e=o("I64"))).equal(r.id,a)})))!=null?l:[void 0,void 0],u=s[0],c=s[1];if(c!=null){var d=babelHelpers.extends({},c,{contactViewerRelationship:(e||(e=o("I64"))).of_string("2")});await i.contacts.upsert([c.id],d),o("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType)&&await r("LSAddMessengerContactStoredProcedure")(r("LSFactory")(i),{contactId:c.id})}},"readwrite",void 0,void 0,i.id+":39"))}l.call=s}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t,n,r,a){o("sendToSentQPLLogger").addSendToSentAnnotations(a,{int:{media_staging_count:e.length}});var i=t.hasFile,l=i===void 0?!1:i,s=t.hasImage,u=s===void 0?!1:s,c=t.hasVideo,d=c===void 0?!1:c,m=null;if(d||u||l){var p=e[e.length-1];m=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(p.offlineAttachmentId)}else m=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId());n(m);var _=e.reduce(function(e,t){var n=r.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(t.offlineAttachmentId));return n!=null?e.push([n,o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(t.offlineAttachmentId)]):o("sendToSentQPLLogger").markSendToSentPoint(a,"prepare_attachments_from_media_manager_missing_attachment"),e},[]);return{attachmentOfflineId:m,attachments:_}}l.prepareAttachmentsFromMediaManagerImpl=e}),98);
__d("MAWSecureComposerText",["Lexical","LexicalText","MAWJids","MessengerLexicalActorNode","MessengerLexicalEntityTextNode"],(function(t,n,r,o,a,i,l){"use strict";function e(e){return e.read(function(){var e=o("Lexical").$getRoot().getFirstChild();return e instanceof o("Lexical").ElementNode?e.getChildren().reduce(function(e,t){var n=o("MessengerLexicalActorNode").$isMessengerLexicalActorNode(t)&&t.getRangeType()==="t";if(o("MessengerLexicalEntityTextNode").isMessengerLexicalEntityTextNode(t)&&!n){var r=t.getEntity();return e+("@"+o("MAWJids").toUserJid(r.id))}return e+t.getTextContent()},""):o("LexicalText").$rootTextContent()})}l.getTextFromEditorState=e}),98);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(t,n,r,o,a,i,l,s){"use strict";function e(e,t){var n,o,a;if(e)return{details:s._(/*BTDS*/"You invited them. They will only see messages sent after they join."),headline:s._(/*BTDS*/"Some people can't see this chat yet")};var i=((n=t.firstName)!=null?n:"")===""?null:t.firstName,l=((o=t.name)!=null?o:"")===""?null:t.name,u=(a=i!=null?i:l)!=null?a:"recipient",c=r("IntlVariations").GENDER_UNKNOWN;return{details:s._(/*BTDS*/"_j{\"*\":\"You'll be able to send messages when {message recipient name} next logs into Messenger.\"}",[s._name("message recipient name",u,c)]),headline:s._(/*BTDS*/"_j{\"*\":\"{message recipient name} can't access this chat yet\"}",[s._name("message recipient name",u,c)])}}l.default=e}),226);
__d("useMAWNonAddressableParticipant",["I64","LSAuthorityLevel","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(9),a=(u||(u=r("useReStore")))(),l=o("MWPActor.react").useActor(),c;n[0]!==l||n[1]!==a.tables.contacts||n[2]!==a.tables.participants||n[3]!==t?(c=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants,[]).getKeyRange(t),o("ReQL").fromTableAscending(a.tables.contacts,["waConnectStatus","authorityLevel","id","name","firstName"])).filter(function(t){var n=t[1];return(e||(e=o("I64"))).equal(n.waConnectStatus,(s||(s=o("LSIntEnum"))).ofNumber(r("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))&&(e||(e=o("I64"))).ge(n.authorityLevel,(s||(s=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT))?!(e||(e=o("I64"))).equal(n.id,l):!1}).map(d)},n[0]=l,n[1]=a.tables.contacts,n[2]=a.tables.participants,n[3]=t,n[4]=c):c=n[4];var m;n[5]!==l||n[6]!==a||n[7]!==t?(m=[a,t,l],n[5]=l,n[6]=a,n[7]=t,n[8]=m):m=n[8];var p=o("ReQLSuspense").useFirst(c,m,i.id+":36");return p}function d(e){var t=e[1];return t}l.default=c}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","WAJids","WALogger","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m,p,_=(p||(p=o("react"))).useState;function f(e){var t=o("react-compiler-runtime").c(22),n=e.isComposerBlocked,a=e.isGroup,l=e.isSecure,s=e.threadKey,m=(u||(u=r("useReStore")))(),p=o("MWPActor.react").useActor(),f=_(null),y=f[0],C=f[1],b,v;t[0]!==p||t[1]!==m.tables.contacts||t[2]!==m.tables.participants||t[3]!==l||t[4]!==s?(b=function(){return l?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(s),o("ReQL").fromTableAscending(m.tables.contacts,["authorityLevel","firstName","name"])).map(function(e){var t=e[0],n=e[1],a=t.contactId;return(c||(c=o("I64"))).ge(n.authorityLevel,(d||(d=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&!(c||(c=o("I64"))).equal(a,p)?[o("WAJids").toMsgrUserJid((c||(c=o("I64"))).to_string(a)),n]:null}).filter(Boolean):o("ReQL").empty()},v=[p,m.tables.contacts,m.tables.participants,l,s],t[0]=p,t[1]=m.tables.contacts,t[2]=m.tables.participants,t[3]=l,t[4]=s,t[5]=b,t[6]=v):(b=t[5],v=t[6]);var S=o("ReQLSuspense").useArray(b,v,i.id+":62"),R;t[7]!==n||t[8]!==a||t[9]!==l||t[10]!==s||t[11]!==S?(R=function(){if(!l){C(null);return}var e=S.map(g);r("promiseDone")(o("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:e}).then(function(e){var t=S.find(function(t){var n,r=t[0];return!e.has(r)||((n=e.get(r))==null?void 0:n.length)===0});h(s,a,n,t!=null),C(t!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:t[1]}:{hasNonAddressableParticipant:!1})}))},t[7]=n,t[8]=a,t[9]=l,t[10]=s,t[11]=S,t[12]=R):R=t[12];var L;return t[13]!==m.tables.contacts||t[14]!==m.tables.participants||t[15]!==m.tables.threads||t[16]!==n||t[17]!==a||t[18]!==l||t[19]!==s||t[20]!==S?(L=[m.tables.contacts,m.tables.participants,m.tables.threads,n,a,l,s,S],t[13]=m.tables.contacts,t[14]=m.tables.participants,t[15]=m.tables.threads,t[16]=n,t[17]=a,t[18]=l,t[19]=s,t[20]=S,t[21]=L):L=t[21],o("Int64Hooks").useEffectInt64(R,L),y}function g(e){var t=e[0];return t}function h(t,n,a,i){var l=n?"group":"1:1",u=o("CurrentMessengerUser").isTestUser()?"test user":"prod user",d=function(t){t.addAnnotationBoolean("hasNonAddressableParticipantOccam",a),t.addAnnotationBoolean("hasNonAddressableParticipantWAI",i)};r("MWGetChatTabOpenQPLEventTrace")(t,d),r("MWGetInboxNavigateQPLEventTrace")(t,d),a&&!i?((m||(m=o("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+l+" ("+u+")"),o("WALogger").DEV(e||(e=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"])),l,u),r("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(c||(c=o("I64"))).to_string(t),l,u)):!a&&i&&((m||(m=o("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+l+" ("+u+")"),o("WALogger").DEV(s||(s=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"])),l,u))}l.useHasNonAddressableParticipantWAI=f}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","react-compiler-runtime","useHasNonAddressableParticipantWAI"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(8),n=e.bannerFromOccam,a=e.isGroup,i=e.isSecure,l=e.threadKey,s=n!=null,u;t[0]!==s||t[1]!==a||t[2]!==i||t[3]!==l?(u={isComposerBlocked:s,isGroup:a,isSecure:i,threadKey:l},t[0]=s,t[1]=a,t[2]=i,t[3]=l,t[4]=u):u=t[4];var c=o("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI(u);if(!i||c==null)return n;if(!c.hasNonAddressableParticipant&&s)return null;if(c.hasNonAddressableParticipant&&!s&&!(a&&r("gkx")("10382"))){var d;return t[5]!==c.nonAddressableParticipantName||t[6]!==a?(d=r("getMAWNonAddressableContactBannerStrings")(a,c.nonAddressableParticipantName),t[5]=c.nonAddressableParticipantName,t[6]=a,t[7]=d):d=t[7],d}return n}l.default=e}),98);
__d("MAWSecureThreadNonAddressableContactBanner.react",["fbt","Int64Hooks","LSMessagingThreadTypeUtil","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","MWXText.react","MessengerWebUXLogger","getMAWNonAddressableContactBannerStrings","gkx","react","useMAWNonAddressableParticipant","useMAWOverrideNonAddressableParticipantWithWAI"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useState;function d(e){var t=e.setHideComposerEditor,n=e.thread,a=r("useMAWNonAddressableParticipant")(n.threadKey),i=o("LSMessagingThreadTypeUtil").isGroup(n.threadType),l=a!=null&&!(i&&r("gkx")("10382"))?r("getMAWNonAddressableContactBannerStrings")(i,a):null,d=r("useMAWOverrideNonAddressableParticipantWithWAI")({bannerFromOccam:l,isGroup:i,isSecure:!0,threadKey:n.threadKey}),m=c(!1),p=m[0],_=m[1],f=r("MessengerWebUXLogger").useInteractionLogger(),g=o("Int64Hooks").useCallbackInt64(function(){_(!0),f==null||f({eventName:"non_addressable_contact_banner_dismissed",threadKey:n.threadKey,threadType:n.threadType})},[f,n.threadKey,n.threadType]),h=i,y=h?!p:!0,C=d!=null&&y,b=r("MessengerWebUXLogger").useImpressionLoggerRef({eventName:"non_addressable_contact_banner_rendered",threadKey:n.threadKey,threadType:n.threadType});return t(function(){return C?!h:!1}),C?u.jsxs("div",{ref:b,className:"x13fuv20 x178xt8z x1n2onr6 x1ja2u2z x57kliw x1epquy7",children:[h?u.jsx("div",{className:"x11dcrhx x10l6tqk xfr5jun x1vjfegm",children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Dismiss non-addressable contact banner"),color:"primary",icon:r("MWXIconCross"),onPress:g,size:24})}):null,u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,testid:void 0,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",isSemanticHeading:!0,type:"headlineEmphasized4",children:d==null?void 0:d.headline})})}),u.jsx(r("MWXRow.react"),{align:"center",expanding:!0,paddingTop:4,paddingVertical:16,spacingVertical:4,testid:void 0,children:u.jsx(r("MWXRowItem.react"),{children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:d==null?void 0:d.details})})})]}):null}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("MAWSecureTypingState",["EBMinosInterfaceTypes","I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","WAChatState","WAJids","gkx","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t,n,a){if(!(s||(s=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(15)))return Promise.resolve(!0);var i=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,a)}));if(i==null)return!1;var l=await o("ReQL").firstAsync(o("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(i.contactId));return l==null?!1:(s||(s=o("I64"))).equal(l.blockedByViewerStatus,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))}function d(e,t,n,a){if(t&&r("gkx")("5887")&&!(s||(s=o("I64"))).equal(e,n)){var i=a.map(function(e){return o("EBMinosInterfaceTypes").userJidToUserFbId(e)}).filter(Boolean);i.length>0&&o("MAWBridgeFireAndForget").fireAndForget("backend","syncMailboxKeysForContactsInWorker",{userFbIds:i})}}function m(t,n,a){var l=o("react-compiler-runtime").c(25),m=(e||(e=r("useReStore")))(),_=o("MWPActor.react").useActor(),f;l[0]!==n?(f=(s||(s=o("I64"))).to_string(n),l[0]=n,l[1]=f):f=l[1];var g=f,h=r("MessengerWebUXLogger").useInteractionLogger(),y;l[2]!==m.tables.participants||l[3]!==n?(y=function(){return o("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(n).map(p)},l[2]=m.tables.participants,l[3]=n,l[4]=y):y=l[4];var C;l[5]!==m||l[6]!==n?(C=[m,n],l[5]=m,l[6]=n,l[7]=C):C=l[7];var b=o("ReQLSuspense").useArray(y,C,i.id+":108"),v;l[8]!==_||l[9]!==t||l[10]!==m||l[11]!==h||l[12]!==n||l[13]!==a||l[14]!==b?(v=function(i){(s||(s=o("I64"))).ge(t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(a)&&(d(n,i,_,b),r("promiseDone")(c(m,n,a,_).then(function(e){return e?o("MAWMiActOnActThreadReady").onActThreadReady(m.tables,n,"MAWSecureTypingState",function(e,t){return h==null||h({eventName:"send_typing_indicators",threadKey:n,threadType:a}),o("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:t,state:i?o("WAChatState").TYPING:o("WAChatState").IDLE}),Promise.resolve()}):Promise.resolve()})))},l[8]=_,l[9]=t,l[10]=m,l[11]=h,l[12]=n,l[13]=a,l[14]=b,l[15]=v):v=l[15];var S;return l[16]!==_||l[17]!==t||l[18]!==m||l[19]!==h||l[20]!==n||l[21]!==g||l[22]!==a||l[23]!==b?(S=[m,b,t,n,a,_,g,h],l[16]=_,l[17]=t,l[18]=m,l[19]=h,l[20]=n,l[21]=g,l[22]=a,l[23]=b,l[24]=S):S=l[24],o("Int64Hooks").useCallbackInt64(v,S)}function p(e){return o("WAJids").toMsgrUserJid((s||(s=o("I64"))).to_string(e.contactId))}l.useOnTypingStateChanged=m}),98);
__d("MAWSupportedFileTypes",[],(function(t,n,r,o,a,i){"use strict";var e=["*/*"];i.supportedFileTypes=e}),66);
__d("MAWVoiceClipLimit",[],(function(t,n,r,o,a,i){"use strict";var e=60,l=180;function s(t){return t?l:e}i.getMAWMaxVoiceClipDurationInSeconds=s}),66);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22434")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useEffect,m=c.useRef,p={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function _(e){var t=o("react-compiler-runtime").c(13),n=e.hasError,r=e.progress,a=n===void 0?!1:n;if(r===1||r==null)return null;var i=a?"var(--negative)":"var(--chat-composer-button-color, var(--accent))",l=Math.ceil(r*100),s="2",c="M 0,"+s+" L 100,"+s,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d="x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",t[0]=d):d=t[0];var m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m={height:"4"},t[1]=m):m=t[1];var p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=u.jsx("path",{d:c,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:"4"}),t[2]=p):p=t[2];var _=l===0?0:4,f;t[3]!==_?(f=_.toString(),t[3]=_,t[4]=f):f=t[4];var g=100-l,h;t[5]!==g?(h=g.toString(),t[5]=g,t[6]=h):h=t[6];var y;t[7]!==h?(y={strokeDasharray:"100",strokeDashoffset:h,transition:"stroke-dashoffset .5s, stroke .5s"},t[7]=h,t[8]=y):y=t[8];var C;return t[9]!==i||t[10]!==f||t[11]!==y?(C=u.jsxs("svg",{"aria-hidden":!0,className:d,preserveAspectRatio:"none",style:m,viewBox:"0 0 100 4",children:[p,u.jsx("path",{d:c,stroke:i,strokeLinecap:"round",strokeWidth:f,style:y})]}),t[9]=i,t[10]=f,t[11]=y,t[12]=C):C=t[12],C}function f(e){var t=o("react-compiler-runtime").c(12),n=e.children,a=e.hasError,i=e.onCancel,l=e.progress,c=e.testid,d=a===void 0?!1:a,m;t[0]!==d||t[1]!==l?(m=u.jsx(_,{hasError:d,progress:l}),t[0]=d,t[1]=l,t[2]=m):m=t[2];var f;t[3]!==n||t[4]!==m?(f=u.jsxs(o("react-strict-dom").html.div,{style:p.contentWrapper,children:[n,m]}),t[3]=n,t[4]=m,t[5]=f):f=t[5];var g;t[6]!==i?(g=i!=null&&u.jsx(o("react-strict-dom").html.div,{style:p.cancelButton,children:u.jsx(r("MWXCircleButton.react"),{"aria-label":s._(/*BTDS*/"Cancel"),icon:r("MWXIconCross"),onPress:i,size:24,type:"overlay"})}),t[6]=i,t[7]=g):g=t[7];var h;return t[8]!==f||t[9]!==g||t[10]!==c?(h=u.jsxs(o("react-strict-dom").html.div,{"data-testid":void 0,style:p.card,children:[f,g]}),t[8]=f,t[9]=g,t[10]=c,t[11]=h):h=t[11],h}function g(e){var t=o("react-compiler-runtime").c(9),n=e.hasError,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=n===void 0?!1:n,m;t[0]!==i||t[1]!==l||t[2]!==c?(m=u.jsx(r("MWXImage.react"),{objectFit:"contain",onError:i,onLoad:l,src:c,xstyle:p.imagePreview}),t[0]=i,t[1]=l,t[2]=c,t[3]=m):m=t[3];var _;return t[4]!==d||t[5]!==a||t[6]!==s||t[7]!==m?(_=u.jsx(f,{hasError:d,onCancel:a,progress:s,testid:void 0,children:m}),t[4]=d,t[5]=a,t[6]=s,t[7]=m,t[8]=_):_=t[8],_}function h(e){var t=o("react-compiler-runtime").c(13),n=e.hasError,a=e.onCancel,i=e.onError,l=e.onLoad,s=e.progress,c=e.src,d=n===void 0?!1:n,_=m(null),g;t[0]!==i||t[1]!==l?(g=u.jsx(r("MWXVideoStatusListener.react"),{onError:i,onLoad:l,videoRef:_}),t[0]=i,t[1]=l,t[2]=g):g=t[2];var h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={className:"xl1xv1r"},t[3]=h):h=t[3];var y;t[4]!==c?(y=u.jsx("video",babelHelpers.extends({},h,{height:"48",ref:_,src:c,width:"48"})),t[4]=c,t[5]=y):y=t[5];var C;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=u.jsx(o("react-strict-dom").html.div,{style:p.playIcon,children:u.jsx(r("MWXImage.react"),{src:"/images/video/play_24dp.png"})}),t[6]=C):C=t[6];var b;return t[7]!==d||t[8]!==a||t[9]!==s||t[10]!==g||t[11]!==y?(b=u.jsxs(f,{hasError:d,onCancel:a,progress:s,testid:void 0,children:[g,y,C]}),t[7]=d,t[8]=a,t[9]=s,t[10]=g,t[11]=y,t[12]=b):b=t[12],b}function y(e){var t=o("react-compiler-runtime").c(14),n=e.hasError,a=e.onCancel,i=e.onLoad,l=e.progress,s=e.title,c=n===void 0?!1:n,m,_;t[0]!==i?(m=function(){i==null||i()},_=[i],t[0]=i,t[1]=m,t[2]=_):(m=t[1],_=t[2]),d(m,_);var g;t[3]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconDocument"),isDecorative:!0,size:20}),t[3]=g):g=t[3];var h;t[4]!==s?(h=u.jsxs(o("react-strict-dom").html.div,{style:p.filePreview,children:[g,u.jsx(r("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:s})]}),t[4]=s,t[5]=h):h=t[5];var y;t[6]!==h||t[7]!==s?(y=u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:s,children:h}),t[6]=h,t[7]=s,t[8]=y):y=t[8];var C;return t[9]!==c||t[10]!==a||t[11]!==l||t[12]!==y?(C=u.jsx(f,{hasError:c,onCancel:a,progress:l,testid:void 0,children:y}),t[9]=c,t[10]=a,t[11]=l,t[12]=y,t[13]=C):C=t[13],C}function C(e){var t=o("react-compiler-runtime").c(7),n=e.isDisabled,a=e.onPress,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Upload another file"),t[0]=i):i=t[0];var l=i,c=n?"disabled":"primary",d;t[1]!==c?(d=u.jsx(r("MWXIconStrict.react"),{color:c,icon:r("MWXIconPhotoPlus"),size:24}),t[1]=c,t[2]=d):d=t[2];var m;return t[3]!==n||t[4]!==a||t[5]!==d?(m=u.jsx(f,{children:u.jsx(r("MWXPressable.react"),{"aria-label":l,disabled:n,onPress:a,testid:void 0,xstyle:p.imagePreview,children:d})}),t[3]=n,t[4]=a,t[5]=d,t[6]=m):m=t[6],m}l.MWXComposerImageAttachmentPreview=g,l.MWXComposerVideoAttachmentPreview=h,l.MWXComposerFileAttachmentPreview=y,l.MWXComposerAddAttachmentButton=C}),226);
__d("MWXComposerButtonContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({});l.default=u}),98);
__d("MWXComposerRow.react",["react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(10),n=e.children,r=e["data-testid"],a=e.padding,i=e.scrollable,l=e.xStyle,c=a===void 0?0:a,d=c===12&&u.padding12,m=c===4&&u.padding4,p=c===6&&u.padding6,_=i===!0&&u.scrollable,f;t[0]!==d||t[1]!==m||t[2]!==p||t[3]!==_||t[4]!==l?(f=[u.row,d,m,p,_,l],t[0]=d,t[1]=m,t[2]=p,t[3]=_,t[4]=l,t[5]=f):f=t[5];var g;return t[6]!==n||t[7]!==f||t[8]!==r?(g=s.jsx(o("react-strict-dom").html.div,{"data-testid":void 0,style:f,children:n}),t[6]=n,t[7]=f,t[8]=r,t[9]=g):g=t[9],g}l.default=c}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},c={color:"secondary",size:24};function d(e){var t=o("react-compiler-runtime").c(23),n=e.bodyText,a=e.bodyTextColor,i=e.bodyTextType,l=e["data-testid"],d=e.hasTopBorder,m=e.headlineText,p=e.headlineTextType,_=e.leftAddon,f=e.level,g=e.loadingIndicator,h=e.rightAddon,y=e.subtext,C=e.xstyle,b=d===void 0?!1:d,v=f===void 0?3:f;if(g!=null){var S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S=[u.body],t[0]=S):S=t[0];var R;return t[1]!==g||t[2]!==l?(R=s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:S,children:g}),t[1]=g,t[2]=l,t[3]=R):R=t[3],R}var L=b&&u.border,E;t[4]!==L||t[5]!==C?(E=[u.body,L,C],t[4]=L,t[5]=C,t[6]=E):E=t[6];var k=_!=null&&_,I;t[7]!==n||t[8]!==a||t[9]!==i||t[10]!==m||t[11]!==p||t[12]!==v||t[13]!==y?(I=(n!=null||y!=null||m!=null)&&s.jsx(r("MWXTextPairing.react"),{body:n!=null&&i!=null?s.jsx(r("MWXText.react"),{color:a,type:i,children:n}):n!=null?s.jsx(r("MWXText.react"),{color:a,type:"body4",children:n}):void 0,headline:m!=null&&p!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:p,children:m}):m!=null?s.jsx(r("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:v,meta:y}),t[7]=n,t[8]=a,t[9]=i,t[10]=m,t[11]=p,t[12]=v,t[13]=y,t[14]=I):I=t[14];var T;t[15]!==h?(T=h!=null&&s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsx(o("react-strict-dom").html.div,{style:u.rightAddon,children:h})}),t[15]=h,t[16]=T):T=t[16];var D;return t[17]!==E||t[18]!==k||t[19]!==I||t[20]!==T||t[21]!==l?(D=s.jsxs(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:E,children:[k,I,T]}),t[17]=E,t[18]=k,t[19]=I,t[20]=T,t[21]=l,t[22]=D):D=t[22],D}l.default=d}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","disableTooltip","isShown","label","size","type","wrapperStyle","wrapperXStyle"],u,c=u||(u=o("react")),d=u.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(38),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u,p,f,g,h,y,C,b;if(n[3]!==a){var v=a;l=v.color,u=v.disableTooltip,p=v.isShown,f=v.label,h=v.size,y=v.type,C=v.wrapperStyle,b=v.wrapperXStyle,g=babelHelpers.objectWithoutPropertiesLoose(v,s),n[3]=a,n[4]=l,n[5]=u,n[6]=p,n[7]=f,n[8]=g,n[9]=h,n[10]=y,n[11]=C,n[12]=b}else l=n[4],u=n[5],p=n[6],f=n[7],g=n[8],h=n[9],y=n[10],C=n[11],b=n[12];var S=y===void 0?"deemphasized":y,R=d(r("MWXComposerButtonContext.react")),L=R.color,E=R.iconRatio,k=R.paddingHorizontal,I=R.size,T=E===void 0?"medium":E,D=k===void 0?"none":k,x=I===void 0?36:I,$=D==="small"&&m.horizontalPaddingSmall,P;n[13]!==C||n[14]!==b?(P=[b,C],n[13]=C,n[14]=b,n[15]=P):P=n[15];var N=p===!0&&m.shown,M;n[16]!==$||n[17]!==P||n[18]!==N?(M=[$,m.layoutWrapper,P,N],n[16]=$,n[17]=P,n[18]=N,n[19]=M):M=n[19];var w;if(n[20]!==l||n[21]!==L){var A;w=(A=l!=null?l:L)!=null?A:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),n[20]=l,n[21]=L,n[22]=w}else w=n[22];var F=h!=null?h:x,O;n[23]!==T||n[24]!==f||n[25]!==g||n[26]!==i||n[27]!==F||n[28]!==w||n[29]!==S?(O=c.jsx(r("MWXCircleButton.react"),babelHelpers.extends({},g,{"aria-label":f,color:w,iconRatio:T,ref:i,size:F,type:S})),n[23]=T,n[24]=f,n[25]=g,n[26]=i,n[27]=F,n[28]=w,n[29]=S,n[30]=O):O=n[30];var B;n[31]!==u||n[32]!==f||n[33]!==O?(B=c.jsx(_,{disableTooltip:u,label:f,children:O}),n[31]=u,n[32]=f,n[33]=O,n[34]=B):B=n[34];var W;return n[35]!==B||n[36]!==M?(W=c.jsx(o("react-strict-dom").html.div,{style:M,children:B}),n[35]=B,n[36]=M,n[37]=W):W=n[37],W}function _(e){var t=o("react-compiler-runtime").c(4),n=e.children,a=e.disableTooltip,i=e.label,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=a===!0?n:c.jsx(r("MWXTooltip.react"),{position:"above",tooltip:i,children:n}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=p}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},c={iconRatio:"large",paddingHorizontal:"none",size:28};function d(e){var t=o("react-compiler-runtime").c(9),n=e.children,a=e.composerRowXStyle,i=e.header,l=e.xstyle,d;t[0]!==l?(d=[u.colors,u.flexLayout,l],t[0]=l,t[1]=d):d=t[1];var m;t[2]!==n||t[3]!==a?(m=s.jsx(r("MWXComposerRow.react"),{padding:4,xStyle:a,children:n}),t[2]=n,t[3]=a,t[4]=m):m=t[4];var p;return t[5]!==i||t[6]!==d||t[7]!==m?(p=s.jsx(r("MWXComposerButtonContext.react").Provider,{value:c,children:s.jsxs(o("react-strict-dom").html.div,{style:d,children:[i,m]})}),t[5]=i,t[6]=d,t[7]=m,t[8]=p):p=t[8],p}l.default=d}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],s,u=s||(s=o("react")),c=s.useContext,d={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(27),a,i,l,s,m,p,_;n[0]!==t?(s=t.color,a=t.label,i=t.size,m=t.spinnerSize,p=t.wrapperStyle,_=t.wrapperXStyle,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=m,n[6]=p,n[7]=_):(a=n[1],i=n[2],l=n[3],s=n[4],m=n[5],p=n[6],_=n[7]);var f=s===void 0?"blue":s,g=m===void 0?20:m;r("vulture")("KlrXhW9hvp38Mnhm0K63c87LFnQ=");var h=c(r("MWXComposerButtonContext.react")),y=h.paddingHorizontal,C=h.size,b=y===void 0?"none":y,v=C===void 0?36:C,S=(i!=null?i:v)+"px",R=b==="small"&&d.horizontalPaddingSmall,L;n[8]!==p||n[9]!==_?(L=[_,p],n[8]=p,n[9]=_,n[10]=L):L=n[10];var E;n[11]!==S?(E=[{height:S,width:S}],n[11]=S,n[12]=E):E=n[12];var k;n[13]!==R||n[14]!==L||n[15]!==E?(k=[R,d.layoutWrapper,L,E],n[13]=R,n[14]=L,n[15]=E,n[16]=k):k=n[16];var I;n[17]!==f||n[18]!==l||n[19]!==g?(I=u.jsx(r("MWXSpinner.react"),babelHelpers.extends({color:f,size:g},l)),n[17]=f,n[18]=l,n[19]=g,n[20]=I):I=n[20];var T;n[21]!==a||n[22]!==I?(T=u.jsx(r("MWXTooltip.react"),{position:"above",tooltip:a,children:I}),n[21]=a,n[22]=I,n[23]=T):T=n[23];var D;return n[24]!==T||n[25]!==k?(D=u.jsx(o("react-strict-dom").html.div,{style:k,children:T}),n[24]=T,n[25]=k,n[26]=D):D=n[26],D}l.default=m}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(11),n=e.children,a=e.contentEditableProps,i=e.placeholderText,l=e.testid,c;t[0]!==i?(c=i==null?{}:{"aria-placeholder":i,placeholder:s.jsx(r("CometLexicalPlaceholder.react"),{children:i})},t[0]=i,t[1]=c):c=t[1];var d=c,m;t[2]!==a||t[3]!==d||t[4]!==l?(m=s.jsx(r("CometLexicalContentEditable.react"),babelHelpers.extends({tabIndex:0,webDriverTestID:l},d,a)),t[2]=a,t[3]=d,t[4]=l,t[5]=m):m=t[5];var p=m,_;t[6]!==p?(_=s.jsx(o("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:o("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:p}),t[6]=p,t[7]=_):_=t[7];var f;return t[8]!==n||t[9]!==_?(f=s.jsxs(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:u.padding,children:[_,n]}),t[8]=n,t[9]=_,t[10]=f):f=t[10],f}l.default=c}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-compiler-runtime","react-strict-dom"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useMemo,c={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(17),n=e.children,a=e.editor,i=e.header,l=e.testid,u=e.xstyle,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=o("LexicalComposerContext").createLexicalComposerContext(),t[0]=d):d=t[0];var m=d,p;t[1]!==a?(p=[a,m],t[1]=a,t[2]=p):p=t[2];var _=p,f;t[3]===Symbol.for("react.memo_cache_sentinel")?(f=[c.composer,c.flexLayout],t[3]=f):f=t[3];var g;t[4]!==u?(g=[c.padding,u],t[4]=u,t[5]=g):g=t[5];var h;t[6]!==n||t[7]!==g||t[8]!==l?(h=s.jsx(r("MWXComposerRow.react"),{"data-testid":void 0,xStyle:g,children:n}),t[6]=n,t[7]=g,t[8]=l,t[9]=h):h=t[9];var y;t[10]!==i||t[11]!==h?(y=s.jsxs(o("react-strict-dom").html.div,{style:f,children:[i,h]}),t[10]=i,t[11]=h,t[12]=y):y=t[12];var C;t[13]===Symbol.for("react.memo_cache_sentinel")?(C=s.jsx(o("LexicalHistoryPlugin").HistoryPlugin,{}),t[13]=C):C=t[13];var b;return t[14]!==_||t[15]!==y?(b=s.jsxs(o("LexicalComposerContext").LexicalComposerContext.Provider,{value:_,children:[y,C]}),t[14]=_,t[15]=y,t[16]=b):b=t[16],b}var m={Add:o("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:o("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:o("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:o("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};l.Composer=d,l.Button=r("MWXComposerIconButton.react"),l.TextEditor=r("MWXComposerTextEditor.react"),l.InputArea=r("MWXComposerInputArea.react"),l.Header=r("MWXComposerHeader.react"),l.Row=r("MWXComposerRow.react"),l.Spinner=r("MWXComposerSpinner.react"),l.Attachments=m}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.createContext({isMenu:!1});l.default=u}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["ref"],s=["color","icon","label","onPress","preventClosingMenuOnSelect","testid"],u,c=u||(u=o("react")),d=u.useContext;function m(t){var n=o("react-compiler-runtime").c(36),a,i;n[0]!==t?(i=t.ref,a=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l,u,m,p,_,f,g;if(n[3]!==a){var h=a;l=h.color,u=h.icon,m=h.label,p=h.onPress,f=h.preventClosingMenuOnSelect,g=h.testid,_=babelHelpers.objectWithoutPropertiesLoose(h,s),n[3]=a,n[4]=l,n[5]=u,n[6]=m,n[7]=p,n[8]=_,n[9]=f,n[10]=g}else l=n[4],u=n[5],m=n[6],p=n[7],_=n[8],f=n[9],g=n[10];var y=d(r("MWXComposerButtonGroupContext.react")),C=y.isMenu,b=y.styleForButton,v=y.xstyleForButton;if(C){var S;n[11]!==u?(S=u.asMenuItemIcon_ESCAPE_HATCH(),n[11]=u,n[12]=S):S=n[12];var R;n[13]!==l?(R=l!=null?l:o("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),n[13]=l,n[14]=R):R=n[14];var L;return n[15]!==m||n[16]!==p||n[17]!==_||n[18]!==f||n[19]!==i||n[20]!==S||n[21]!==R||n[22]!==g?(L=c.jsx(r("MWXMenuItem.react"),babelHelpers.extends({"aria-label":m,icon:S,iconColor:R,onClick:p,preventClosingMenuOnSelect:f,primaryText:m,ref:i,testid:void 0},_)),n[15]=m,n[16]=p,n[17]=_,n[18]=f,n[19]=i,n[20]=S,n[21]=R,n[22]=g,n[23]=L):L=n[23],L}var E;n[24]!==l?(E=l!=null?{color:l}:{},n[24]=l,n[25]=E):E=n[25];var k;return n[26]!==u||n[27]!==m||n[28]!==p||n[29]!==_||n[30]!==i||n[31]!==b||n[32]!==E||n[33]!==g||n[34]!==v?(k=c.jsx(r("MWXComposerIconButton.react"),babelHelpers.extends({icon:u,label:m,onPress:p,ref:i,testid:void 0,wrapperStyle:b,wrapperXStyle:v},E,_)),n[26]=u,n[27]=m,n[28]=p,n[29]=_,n[30]=i,n[31]=b,n[32]=E,n[33]=g,n[34]=v,n[35]=k):k=n[35],k}l.default=m}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","withCometPlaceholder"],(function(t,n,r,o,a,i,l){"use strict";var e=["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"],s=["align","position"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo;function _(t,n){function a(a){var i,l,u=o("react-compiler-runtime").c(42),d,p,_,f,g,h,y;u[0]!==a?(d=a.onHoverIn,p=a.onHoverOut,_=a.popover,f=a.popoverPresentationProps,g=a.popoverProps,h=a.preloadTrigger,y=babelHelpers.objectWithoutPropertiesLoose(a,e),u[0]=a,u[1]=d,u[2]=p,u[3]=_,u[4]=f,u[5]=g,u[6]=h,u[7]=y):(d=u[1],p=u[2],_=u[3],f=u[4],g=u[5],h=u[6],y=u[7]);var C=(i=m(r("BaseMenuContext")))!=null?i:{},b=C.onClose,v=(l=m(r("BaseMultiPageViewContext")))!=null?l:{},S=v.pushPage,R;if(u[8]!==_){var L;u[10]===Symbol.for("react.memo_cache_sentinel")?(L=c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!1}),u[10]=L):L=u[10],R=o("withCometPlaceholder").withCometPlaceholder(r("lazyLoadComponent")(_),L,n),u[8]=_,u[9]=R}else R=u[9];var E=R,k;u[11]!==_?(k=r("tracePolicyFromResource")("comet.popover",_),u[11]=_,u[12]=k):k=u[12];var I=r("useCometPopoverInteractionTracing")(k,"lazy"),T;u[13]!==f?(T=f!=null?f:{},u[13]=f,u[14]=T):T=u[14];var D,x,$;if(u[15]!==T){var P=T;x=P.align,$=P.position,D=babelHelpers.objectWithoutPropertiesLoose(P,s),u[15]=T,u[16]=D,u[17]=x,u[18]=$}else D=u[16],x=u[17],$=u[18];var N=x===void 0?"middle":x,M=$===void 0?"above":$,w;u[19]!==E?(w=function(t){return c.jsx(r("MWXPopover.react"),{withArrow:!0,children:c.jsx(E,babelHelpers.extends({},t))})},u[19]=E,u[20]=w):w=u[20];var A=w,F;u[21]!==E||u[22]!==b?(F=function(t){return(function(e){var n=e.onReturn;return c.jsx(E,babelHelpers.extends({},t,{onClose:b!=null?b:n}))})},u[21]=E,u[22]=b,u[23]=F):F=u[23];var O=F,B;u[24]!==O||u[25]!==b||u[26]!==d||u[27]!==p||u[28]!==g||u[29]!==S||u[30]!==y?(B=function(n,r,o,a,i){return c.jsx(t,babelHelpers.extends({onHoverIn:function(t){a(t),d==null||d(t)},onHoverOut:function(t){i(),p==null||p(t)}},y,{onPress:function(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];var a=n;S!=null&&b!=null?S(O(g)):r(),y.onPress==null||(e=y).onPress.apply(e,a)},preventClosingMenuOnSelect:!0,ref:n}))},u[24]=O,u[25]=b,u[26]=d,u[27]=p,u[28]=g,u[29]=S,u[30]=y,u[31]=B):B=u[31];var W;return u[32]!==A||u[33]!==N||u[34]!==D||u[35]!==_||u[36]!==g||u[37]!==M||u[38]!==h||u[39]!==B||u[40]!==I?(W=c.jsx(r("BasePopoverTrigger.react"),babelHelpers.extends({align:N,position:M},D,{interactionTracker:I,popover:A,popoverPreloadResource:_,popoverProps:g,preloadTrigger:h,children:B})),u[32]=A,u[33]=N,u[34]=D,u[35]=_,u[36]=g,u[37]=M,u[38]=h,u[39]=B,u[40]=I,u[41]=W):W=u[41],W}return a}l.default=_}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("withMWXPopover")(r("MWXComposerButtonGroupButton.react")),c=u;l.default=c}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:22315","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22315")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","MessengerWebUXLogger","Promise","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=r("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function m(){var t=o("react-compiler-runtime").c(9),a=o("LexicalComposerContext").useLexicalComposerContext(),i=a[0],l=r("MessengerWebUXLogger").useInteractionLogger(),u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=s._(/*BTDS*/"Choose an emoji"),t[0]=u):u=t[0];var m;t[1]!==l?(m=function(){d.preload(),l==null||l({eventName:"composer_open_emoji_picker"})},t[1]=l,t[2]=m):m=t[2];var p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),t[3]=p):p=t[3];var _;t[4]!==i?(_={onSelect:function(o){return r("promiseDone")(d.load(),function(t){return t(o,i,16),(e||(e=n("Promise"))).resolve()})},withArrow:!1},t[4]=i,t[5]=_):_=t[5];var f;return t[6]!==m||t[7]!==_?(f=c.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconFaceHappy"),label:u,onPress:m,popover:p,popoverProps:_,preloadTrigger:"button",testid:void 0}),t[6]=m,t[7]=_,t[8]=f):f=t[8],f}l.default=m}),226);
__d("useMAWGetSendEditActionForSecure",["FBLogger","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMiActOnActThreadReady","QPLUserFlow","ReQL","ReQLSuspense","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(t){var n=o("react-compiler-runtime").c(9),a;n[0]===Symbol.for("react.memo_cache_sentinel")?(a=o("MAWLoggerUtils").getInstanceKey(),n[0]=a):a=n[0];var l=a,s=(e||(e=r("useReStore")))(),u,c;n[1]!==s||n[2]!==t?(u=function(){return t!=null?o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(t):o("ReQL").empty()},c=[s,t],n[1]=s,n[2]=t,n[3]=u,n[4]=c):(u=n[3],c=n[4]);var d=o("ReQLSuspense").useFirst(u,c,i.id+":41"),m=r("useLSMessagingSource")(),p;return n[5]!==s||n[6]!==d||n[7]!==t?(p=function(n,a){if(!(t==null||n==null)){var e=o("MAWDbMsg").toMsgId(n);e!=null&&(r("QPLUserFlow").start(r("qpl")._(1056849558,"2236"),{instanceKey:l}),r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(s.tables,t,"MWV2ComposerEditContainer.react",function(t,n){return o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e).then(function(e){if(e!=null){var t=o("MAWExternalId").generateExternalId(),n=e.chat,i=function(l){return o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:a,mentionedJids:[]},originalProtocolMsgId:e},chatJid:n,externalId:t,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:l})},l=o("sendToSentQPLLogger").markSendToSentStartWithAnnotation(d,{isEdit:!0},r("LSMessagingThreadAttributionType").UNKNOWN,void 0,void 0,t);return o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:n,externalId:t},i(l),{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:l},s)}}).then(function(e){r("QPLUserFlow").endSuccess(r("qpl")._(1056849558,"2236"),{instanceKey:l})}).catch(function(e){r("FBLogger")("messenger_web").catching(e).mustfix("Failed to edit message: %s.",e),r("QPLUserFlow").endFailure(r("qpl")._(1056849558,"2236"),"failure",{instanceKey:l})})})))}},n[5]=s,n[6]=d,n[7]=t,n[8]=p):p=n[8],p}l.default=c}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,o){return r("promiseDone")(n.runInTransaction(function(e){return r("LSOptimisticEditMessageStoredProcedure")(r("LSFactory")(e),{messageId:t,text:o})},"readwrite",void 0,void 0,i.id+":27"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWComposerEmojiTransform",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect,u=r("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function c(e){var t=o("react-compiler-runtime").c(4),n=r("useDeferredModuleOnReady")(u),a,i;t[0]!==n||t[1]!==e?(a=function(){return n==null?void 0:n(e,16)},i=[e,n],t[0]=n,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),s(a,i)}l.default=c}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useInsertionEffect,d=s.useLayoutEffect,m=s.useRef,p=250;function _(e,t){var n=o("react-compiler-runtime").c(13),a=e.clearReplyState,i=e.editor,l=e.onSend,s=m(null),u=m(t),_,f;n[0]!==t?(_=function(){u.current=t},f=[t],n[0]=t,n[1]=_,n[2]=f):(_=n[1],f=n[2]),c(_,f);var g;n[3]!==a||n[4]!==i||n[5]!==l?(g=function(){var e=l(u.current);a==null||a(),e&&i.dispatchCommand(o("Lexical").CLEAR_EDITOR_COMMAND)},n[3]=a,n[4]=i,n[5]=l,n[6]=g):g=n[6];var h=g,y,C;n[7]!==i||n[8]!==h?(y=function(){return i.registerCommand(o("Lexical").KEY_ENTER_COMMAND,function(e){if(e!=null&&!e.shiftKey&&!e.altKey&&(!r("gkx")("23402")||o("MLCKeyBindingUtil").hasCommandModifier(e))){e.preventDefault();var t=s.current;return t!=null&&e.timeStamp-t<=p?(s.current=e.timeStamp,!0):(h(),s.current=e.timeStamp,!0)}return!1},o("Lexical").COMMAND_PRIORITY_LOW)},C=[i,h],n[7]=i,n[8]=h,n[9]=y,n[10]=C):(y=n[9],C=n[10]),d(y,C);var b;return n[11]!==h?(b={onSend:h},n[11]=h,n[12]=b):b=n[12],b}l.default=_}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","react-compiler-runtime","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e=[o("MessengerLexicalActorNode").MessengerLexicalActorNode,n("cr:11494")==null?void 0:n("cr:11494").MessengerLexicalCommandNode,o("CometLexicalEmojiNode").EmojiNode];function s(){var e=o("react-compiler-runtime").c(2),t=r("useStable")(u);r("useMWPLexicalClearEditor")(t),r("useLexicalInitializeEditor__DEPRECATED")(t);var n;return e[0]!==t?(n={editor:t},e[0]=t,e[1]=n):n=e[1],n}function u(){return o("Lexical").createEditor({namespace:"MWPEditor",nodes:e.filter(Boolean),onError:c,theme:babelHelpers.extends({},r("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})}function c(){}l.useMWXLexicalEditor=s}),98);
__d("MWV2ComposerEditContainer.react",["fbt","LSMessagingThreadTypeUtil","Lexical","LexicalText","MAWEditMessageContext.react","MAWVault","MWLSThreadDisplayContext","MWPActor.react","MWXComposer.react","MWXComposerEmojiButton.react","MWXIconCheckmarkCircle","MWXIconCross","ReQL","ReQLSuspense","isStringNullOrEmpty","react","react-compiler-runtime","useLogMAWEditMessage","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWComposerEmojiTransform","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useEffect,_=d.useMemo,f=d.useState,g="x122imku-B",h={editMessageContainer:{animationDuration:"x4afe7t",animationName:"x1axgj95",animationTimingFunction:"x1debuo4",boxSizing:"x9f619",height:"x1dqyrwa",$$css:!0}};function y(t){var n=o("react-compiler-runtime").c(62),a=t.confirmationText,l=t.contentEditableProps,u=t.editMessageData,d=t.headerText,_=t.onEditCancelCallback,g=t.onEditTriggerCallback,y=a===void 0?null:a,b=d===void 0?null:d,v=_===void 0?null:_,S=g===void 0?null:g,R=(e||(e=r("useReStore")))(),L=m(o("MAWEditMessageContext.react").Context),E=L.setEditMessageData,k=o("MWPActor.react").useActor(),I;n[0]!==R.tables.messages||n[1]!==(u==null?void 0:u.messageId)||n[2]!==(u==null?void 0:u.threadKey)||n[3]!==(u==null?void 0:u.timestampMs)?(I=function(){return o("ReQL").fromTableAscending(R.tables.messages).getKeyRange(u==null?void 0:u.threadKey,u==null?void 0:u.timestampMs,u==null?void 0:u.messageId)},n[0]=R.tables.messages,n[1]=u==null?void 0:u.messageId,n[2]=u==null?void 0:u.threadKey,n[3]=u==null?void 0:u.timestampMs,n[4]=I):I=n[4];var T=u==null?void 0:u.messageId,D=u==null?void 0:u.threadKey,x=u==null?void 0:u.timestampMs,$;n[5]!==R||n[6]!==T||n[7]!==D||n[8]!==x?($=[R,T,D,x],n[5]=R,n[6]=T,n[7]=D,n[8]=x,n[9]=$):$=n[9];var P=o("ReQLSuspense").useFirst(I,$,i.id+":71"),N=r("useMAWGetSendEditActionforOpen")(),M=r("useMAWGetSendEditActionForSecure")(P==null?void 0:P.threadKey);P==null||P.text;var w;if(n[10]!==(P==null?void 0:P.text)){var A;w=o("MAWVault").unvault((A=P==null?void 0:P.text)!=null?A:"").trim(),n[10]=P==null?void 0:P.text,n[11]=w}else w=n[11];var F=w,O=r("useLogMAWEditMessage")(),B=o("useMWXLexicalEditor").useMWXLexicalEditor(),W=B.editor,q;n[12]!==k||n[13]!==u||n[14]!==W||n[15]!==O||n[16]!==(P==null?void 0:P.messageId)||n[17]!==S||n[18]!==N||n[19]!==M||n[20]!==F||n[21]!==E?(q=function(){var e=W.getEditorState().read(o("LexicalText").$rootTextContent).trim();return r("isStringNullOrEmpty")(e)||e===F?!1:(o("LSMessagingThreadTypeUtil").isArmadilloSecure(u.threadType)?M(P==null?void 0:P.messageId,e):N(u.messageId,e),O(u.threadType,u.threadKey,u.messageId,k,"EDIT_MESSAGE"),E(null),S&&S(),!0)},n[12]=k,n[13]=u,n[14]=W,n[15]=O,n[16]=P==null?void 0:P.messageId,n[17]=S,n[18]=N,n[19]=M,n[20]=F,n[21]=E,n[22]=q):q=n[22];var U=q;C(W,E,v);var V;n[23]!==W||n[24]!==U?(V={clearReplyState:null,editor:W,onSend:U},n[23]=W,n[24]=U,n[25]=V):V=n[25],r("useMWXComposerClearAndSendOnEnter")(V);var H=f(!1),G=H[0],z=H[1],j,K;n[26]!==W||n[27]!==F?(j=function(){return W.registerTextContentListener(function(e){var t=e.trim();z(!r("isStringNullOrEmpty")(t)&&t!==F)})},K=[W,F],n[26]=W,n[27]=F,n[28]=j,n[29]=K):(j=n[28],K=n[29]),p(j,K),r("usePrepopulateLexicalEditor")(W,F,!0),r("useMWComposerEmojiTransform")(W);var Q=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),X=Q==="Inbox"?32:24,Y;n[30]!==b?(Y=b!=null?b:s._(/*BTDS*/"Edit message"),n[30]=b,n[31]=Y):Y=n[31];var J;n[32]===Symbol.for("react.memo_cache_sentinel")?(J=s._(/*BTDS*/"Cancel edit"),n[32]=J):J=n[32];var Z;n[33]!==v||n[34]!==E?(Z=function(){E(null),v&&v()},n[33]=v,n[34]=E,n[35]=Z):Z=n[35];var ee;n[36]!==X||n[37]!==Z?(ee=c.jsx(o("MWXComposer.react").Button,{color:"primary",icon:r("MWXIconCross"),label:J,onPress:Z,size:X}),n[36]=X,n[37]=Z,n[38]=ee):ee=n[38];var te;n[39]!==Y||n[40]!==ee?(te=c.jsx(o("MWXComposer.react").Header,{hasTopBorder:!0,headlineText:Y,rightAddon:ee,xstyle:h.editMessageContainer},0),n[39]=Y,n[40]=ee,n[41]=te):te=n[41];var ne;n[42]!==l?(ne=c.jsx(o("MWXComposer.react").TextEditor,{contentEditableProps:l,testid:void 0}),n[42]=l,n[43]=ne):ne=n[43];var re;n[44]===Symbol.for("react.memo_cache_sentinel")?(re=c.jsx(r("MWXComposerEmojiButton.react"),{}),n[44]=re):re=n[44];var oe;n[45]!==ne?(oe=c.jsxs(o("MWXComposer.react").InputArea,{children:[ne,re]}),n[45]=ne,n[46]=oe):oe=n[46];var ae=!G,ie;n[47]!==y?(ie=y!=null?y:s._(/*BTDS*/"Edit"),n[47]=y,n[48]=ie):ie=n[48];var le;n[49]!==U?(le=function(){U()},n[49]=U,n[50]=le):le=n[50];var se;n[51]!==ae||n[52]!==ie||n[53]!==le?(se=c.jsx(o("MWXComposer.react").Button,{disabled:ae,icon:r("MWXIconCheckmarkCircle"),label:ie,onPress:le,testid:void 0}),n[51]=ae,n[52]=ie,n[53]=le,n[54]=se):se=n[54];var ue;n[55]!==oe||n[56]!==se?(ue=c.jsxs(o("MWXComposer.react").Row,{children:[oe,se]}),n[55]=oe,n[56]=se,n[57]=ue):ue=n[57];var ce;return n[58]!==W||n[59]!==te||n[60]!==ue?(ce=c.jsx(o("MWXComposer.react").Composer,{editor:W,header:te,children:ue}),n[58]=W,n[59]=te,n[60]=ue,n[61]=ce):ce=n[61],ce}function C(e,t,n){var r=o("react-compiler-runtime").c(5),a=n===void 0?null:n,i,l;r[0]!==e||r[1]!==a||r[2]!==t?(i=function(){return e.registerCommand(o("Lexical").KEY_ESCAPE_COMMAND,function(e){return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),t(null),a&&a(),!0},o("Lexical").COMMAND_PRIORITY_CRITICAL)},l=[e,t,a],r[0]=e,r[1]=a,r[2]=t,r[3]=i,r[4]=l):(i=r[3],l=r[4]),p(i,l)}l.default=y}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useMemo;function d(e){var t,a,i,l=o("react-compiler-runtime").c(13),c=e.isBumpMessage,d=e.isHotLike,m=e.mentionIds,p=e.ranges,_=e.text,f=e.threadKey,g=e.transformEmoticons,h=c===void 0?!1:c,y=d===void 0?!1:d,C=g===void 0?!0:g,b;if(l[0]!==m){var v;b=new Set((v=m==null||m.split==null?void 0:m.split(","))!=null?v:[]),l[0]=m,l[1]=b}else b=l[1];var S=b,R;l[2]!==_?(R=n("cr:2472")==null?_:n("cr:2472").unvault(_),l[2]=_,l[3]=R):R=l[3];var L=R,E=(t=(a=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(L,[],S,f))==null?void 0:a.textWithSubstitutions)!=null?t:L,k=(i=o("useStringWithSubstitutions").useStringWithSubstitutions(L,f))!=null?i:L,I;l[4]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"Sticker").toString(),l[4]=I):I=l[4];var T=I,D=y?T:h?k:E,x;l[5]===Symbol.for("react.memo_cache_sentinel")?(x={className:"xi81zsa"},l[5]=x):x=l[5];var $;l[6]===Symbol.for("react.memo_cache_sentinel")?($={MessengerTextFormatting:[o("MWChatTextFormatting").messageRenderer]},l[6]=$):$=l[6];var P;l[7]!==C?(P=C?o("MWChatTextTransform").textTransformsNoVault:[],l[7]=C,l[8]=P):P=l[8];var N;return l[9]!==p||l[10]!==P||l[11]!==D?(N=u.jsx("div",babelHelpers.extends({},x,{dir:"auto",children:u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:p,renderers:$,text:D,transforms:P,truncationStyle:"ellipsis-only",withParagraphs:!1})})),l[9]=p,l[10]=P,l[11]=D,l[12]=N):N=l[12],N}l.default=d}),226);
__d("MWV2ComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","FDSCrossFilled12Icon","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWAttachmentTypeChecks","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon_DEPRECATED.react","MWXText.react","MWXTextPairing.react","ReQL","ReQLSuspense","cr:2472","getFBTSafeGenderFromGenderConst","isMWBumpMessage","mwCMIsAnyCMThread","react","react-compiler-runtime","shouldDisableAnimations","useGetOriginalMsgFromBumpMsg","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useContext,f=p.useEffect,g="xv6qlei-B";function h(e,t,a,i,l){var u,p,_;if(i===!0)return s._(/*BTDS*/"This message was sent before the chat was end-to-end encrypted.");var f=e.text,g=f!=null?n("cr:2472")==null?f:n("cr:2472").unvault(f):"",h=g==="\uD83D\uDC4D"&&((c||(c=o("I64"))).equal((u=e.hotEmojiSize)!=null?u:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").SMALL))||(c||(c=o("I64"))).equal((p=e.hotEmojiSize)!=null?p:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").MEDIUM))||(c||(c=o("I64"))).equal((_=e.hotEmojiSize)!=null?_:(c||(c=o("I64"))).neg_one,(d||(d=o("LSIntEnum"))).ofNumber(r("LSHotEmojiSize").LARGE)))&&t;if(e.isUnsent)return s._(/*BTDS*/"Removed message");var y=r("isMWBumpMessage")(e.replyType);if(l!=null)return l;if(e.text!=null&&e.text!==""){var C;return m.jsx(r("MWChatReplyText.react"),{isBumpMessage:y,isHotLike:h,mentionIds:t?e.mentionIds:null,text:(C=e.text)!=null?C:s._(/*BTDS*/"Message"),threadKey:e.threadKey})}return a!=null?o("MWAttachmentTypeChecks").isImage(a)?s._(/*BTDS*/"Image"):o("MWAttachmentTypeChecks").isSticker(a)?s._(/*BTDS*/"Sticker"):o("MWAttachmentTypeChecks").isVideo(a)?s._(/*BTDS*/"Video"):o("MWAttachmentTypeChecks").isGif(a)?s._(/*BTDS*/"GIF"):o("MWAttachmentTypeChecks").isAudio(a)?s._(/*BTDS*/"Audio"):s._(/*BTDS*/"Attachment"):s._(/*BTDS*/"Message")}function y(e,t,n,o,a){if(a===!0)return s._(/*BTDS*/"You can't reply to this message");if(e)return s._(/*BTDS*/"Replying to yourself");if(t!=null){var i;return s._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[s._param("name",m.jsx(r("MWXText.react"),{type:"headlineEmphasized5",children:o?t.name:(i=n!=null?n:t.firstName)!=null?i:t.name}),[1,r("getFBTSafeGenderFromGenderConst")(r("LSContactGenderToGenderConst")(t.gender))])])}return s._(/*BTDS*/"Replying to Facebook User")}function C(t){var n=o("react-compiler-runtime").c(24),a=t.customReplyBodyView,l=t.isSecureThread,s=t.message,u=t.threadType,d=t.useContactFullname,p=(e||(e=r("useReStore")))(),_=o("MWPActor.react").useActor(),g=(c||(c=o("I64"))).equal(s.senderId,_),C;n[0]!==p.tables.contacts||n[1]!==s.senderId?(C=function(){return o("ReQL").fromTableAscending(p.tables.contacts).getKeyRange(s.senderId)},n[0]=p.tables.contacts,n[1]=s.senderId,n[2]=C):C=n[2];var v;n[3]!==p||n[4]!==s.senderId?(v=[p,s.senderId],n[3]=p,n[4]=s.senderId,n[5]=v):v=n[5];var R=o("ReQLSuspense").useFirst(C,v,i.id+":249"),L=r("useGetOriginalMsgFromBumpMsg")(s.replyType,s.replySourceId,s.threadKey),E=L!=null?L:s,k,I;n[6]!==p.tables.attachments||n[7]!==E.messageId||n[8]!==E.threadKey?(k=function(){return o("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(E.threadKey,E.messageId)},I=[p.tables.attachments,E.messageId,E.threadKey],n[6]=p.tables.attachments,n[7]=E.messageId,n[8]=E.threadKey,n[9]=k,n[10]=I):(k=n[9],I=n[10]);var T=o("ReQLSuspense").useFirst(k,I,i.id+":261"),D=o("ReQLSuspense").useFirst(function(){return R!=null&&!g?o("ReQL").fromTableAscending(p.tables.threads).getKeyRange(s.threadKey).map(function(e){var t=e.parentThreadKey,n=e.threadType;if(r("mwCMIsAnyCMThread")(n))return o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.community_folders).getKeyRange(t).map(function(e){var t=e.folderId;return o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(t,R.id).map(S),i.id+":284")}),i.id+":280");var a,l=o("ReQLSuspense").first(o("ReQL").fromTableAscending(p.tables.participants).getKeyRange(s.threadKey,R.id),i.id+":298");return(a=l==null?void 0:l.nickname)!=null?a:null}):o("ReQL").empty()},[p,s.threadKey,R,g],i.id+":274"),x;n[11]===Symbol.for("react.memo_cache_sentinel")?(x=[],n[11]=x):x=n[11],f(b,x);var $;n[12]!==u?($={fallbackThreadType:u},n[12]=u,n[13]=$):$=n[13];var P=r("useIsSecureMessage")(p,s,$),N=l&&!P,M;n[14]!==T||n[15]!==a||n[16]!==N||n[17]!==l||n[18]!==E?(M=h(E,l,T,N,a),n[14]=T,n[15]=a,n[16]=N,n[17]=l,n[18]=E,n[19]=M):M=n[19];var w=M,A=y(g,R,D,d,N),F;n[20]===Symbol.for("react.memo_cache_sentinel")?(F={className:"x1sa5p1d"},n[20]=F):F=n[20];var O;return n[21]!==w||n[22]!==A?(O=m.jsx("div",babelHelpers.extends({},F,{children:m.jsx(r("MWXTextPairing.react"),{body:w,headline:A,isSemanticHeading:!0,level:4})})),n[21]=w,n[22]=A,n[23]=O):O=n[23],O}function b(){r("LsReplyRenderedFalcoEvent").log(v)}function v(){return{funnel:{entry_point:o("LsFalcoEventEntryPoint").messageActions}}}function S(e){return e.profileName}function R(e){var t=o("react-compiler-runtime").c(16),n=e.customReplyBodyView,a=e.isSecureThread,i=e.message,l=e.threadType,u=e.useContactFullname,c=a===void 0?!1:a,d=_(o("MWPReplyContext.react").MWPReplyContext),p=d.clearReply,f=_(r("CometTriggerAccessibilityAlertContext")),g,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(g={className:"xrdv0aw"},h={0:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},1:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno x4afe7t x150e7gq x1debuo4"}}[!r("shouldDisableAnimations")()<<0],t[0]=g,t[1]=h):(g=t[0],h=t[1]);var y;t[2]!==n||t[3]!==c||t[4]!==i||t[5]!==l||t[6]!==u?(y=m.jsx(r("CometErrorBoundary.react"),{fallback:L,children:m.jsx(C,{customReplyBodyView:n,isSecureThread:c,message:i,threadType:l,useContactFullname:u})}),t[2]=n,t[3]=c,t[4]=i,t[5]=l,t[6]=u,t[7]=y):y=t[7];var b;t[8]===Symbol.for("react.memo_cache_sentinel")?(b=s._(/*BTDS*/"Cancel reply"),t[8]=b):b=t[8];var v;t[9]!==p||t[10]!==i.threadKey||t[11]!==f?(v=m.jsx(r("MWXIcon_DEPRECATED.react"),{"aria-label":b,color:"primary",icon:r("FDSCrossFilled12Icon"),onPress:function(){p(i.threadKey,!0),f(s._(/*BTDS*/"Replying to message has been canceled.").toString(),{assertive:!1})}}),t[9]=p,t[10]=i.threadKey,t[11]=f,t[12]=v):v=t[12];var S;return t[13]!==y||t[14]!==v?(S=m.jsx("div",babelHelpers.extends({},g,{children:m.jsxs("div",babelHelpers.extends({},h,{"data-testid":void 0,children:[y,v]}))})),t[13]=y,t[14]=v,t[15]=S):S=t[15],S}function L(){return m.jsx(r("MWXText.react"),{type:"headlineEmphasized4",children:s._(/*BTDS*/"Replying to message")})}L.displayName=L.name+" [from "+i.id+"]";function E(t){var n=o("react-compiler-runtime").c(18),a=t.customReplyBodyView,l=t.messageId,s=t.messageThreadKey,u=t.messageTimestamp,c=t.thread,d=t.useContactFullname,p=d===void 0?!1:d,_=(e||(e=r("useReStore")))(),f;n[0]!==c.threadType?(f=o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),n[0]=c.threadType,n[1]=f):f=n[1];var g=f,h;n[2]!==_.tables.messages||n[3]!==l||n[4]!==s||n[5]!==u?(h=function(){return o("ReQL").fromTableAscending(_.tables.messages).getKeyRange(s,u,l)},n[2]=_.tables.messages,n[3]=l,n[4]=s,n[5]=u,n[6]=h):h=n[6];var y;n[7]!==_||n[8]!==l||n[9]!==s||n[10]!==u?(y=[_,s,u,l],n[7]=_,n[8]=l,n[9]=s,n[10]=u,n[11]=y):y=n[11];var C=o("ReQLSuspense").useFirst(h,y,i.id+":429");if(C!=null){var b;return n[12]!==a||n[13]!==g||n[14]!==C||n[15]!==c.threadType||n[16]!==p?(b=m.jsx(R,{customReplyBodyView:a,isSecureThread:g,message:C,threadType:c.threadType,useContactFullname:p}),n[12]=a,n[13]=g,n[14]=C,n[15]=c.threadType,n[16]=p,n[17]=b):b=n[17],b}else return null}l.MWV2ComposerReplyViewContainer=R,l.MWV2ComposerReplyView=E}),226);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXTooltip.react","cr:2673","react","react-compiler-runtime","requireDeferred","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef,d=r("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function m(t){var a=o("react-compiler-runtime").c(54),i=t.voiceRecorder,l=i.audioEl,s=i.state,m=i.toggle,_=c(),f=o("MWPAudioPlayerUtils").useResetHighlightProgress(_),g;a[0]!==s?(g=n("cr:2673").hasScrubber(s),a[0]=s,a[1]=g):g=a[1];var h=g,y;a[2]!==s.currentTime||a[3]!==s.duration||a[4]!==s.stage||a[5]!==m?(y=function(){switch(m(),s.stage){case"Unopen":return;case"Recording":{d.onReady(p);return}case"Recorded":{var e=s.currentTime,t=s.duration;e===0?d.onReady(function(e){return e.logPlaybackStart(t)}):d.onReady(function(n){return n.logPlaybackResume(t,e)});return}case"Playing":{var n=s.currentTime,r=s.duration;d.onReady(function(e){return e.logPlaybackPause(r,n)});return}}},a[2]=s.currentTime,a[3]=s.duration,a[4]=s.stage,a[5]=m,a[6]=y):y=a[6];var C=y,b;a[7]!==s?(b=n("cr:2673").getDuration(s),a[7]=s,a[8]=b):b=a[8];var v;a[9]!==s?(v=n("cr:2673").getCurrentTime(s),a[9]=s,a[10]=v):v=a[10];var S;a[11]!==s?(S=n("cr:2673").isProgressing(s),a[11]=s,a[12]=S):S=a[12];var R;a[13]!==s?(R=n("cr:2673").isCompleted(s),a[13]=s,a[14]=R):R=a[14];var L=o("MWPAudioPlayerUtils").useProgressLiveUpdate(b,l,v,S,!1,R),E=o("MWPAudioHighlightStylesHooks").useHighlightStyles(!0),k;a[15]!==s?(k=n("cr:2673").getPlaybackLabel(s),a[15]=s,a[16]=k):k=a[16];var I=k,T;e:{switch(s.stage){case"Unopen":case"Recording":{T=null;break e}case"Recorded":case"Playing":{var D;a[17]!==s.currentTime||a[18]!==s.duration?(D=u.jsx(o("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:s.currentTime,duration:s.duration,tabIndex:-1}),a[17]=s.currentTime,a[18]=s.duration,a[19]=D):D=a[19],T=D;break e}}T=void 0}var x=T,$;a[20]===Symbol.for("react.memo_cache_sentinel")?($={backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},a[20]=$):$=a[20];var P;a[21]!==E||a[22]!==L?(P=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:L,xstyle:E}),a[21]=E,a[22]=L,a[23]=P):P=a[23];var N;a[24]!==E?(N=u.jsx(o("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:_,xstyle:E}),a[24]=E,a[25]=N):N=a[25];var M;a[26]===Symbol.for("react.memo_cache_sentinel")?(M=(e||(e=r("stylex"))).props(o("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),a[26]=M):M=a[26];var w=h?f:void 0,A;a[27]!==s?(A=n("cr:2673").getPlaybackIcon(s,"var(--chat-composer-button-color, var(--accent))"),a[27]=s,a[28]=A):A=a[28];var F;a[29]!==C||a[30]!==I||a[31]!==A?(F=u.jsx(o("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:A,label:I,onPress:C}),a[29]=C,a[30]=I,a[31]=A,a[32]=F):F=a[32];var O;a[33]!==I||a[34]!==F?(O=u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:I,children:F}),a[33]=I,a[34]=F,a[35]=O):O=a[35];var B;a[36]!==w||a[37]!==O?(B=u.jsx("div",babelHelpers.extends({},M,{onMouseMove:w,children:O})),a[36]=w,a[37]=O,a[38]=B):B=a[38];var W;a[39]!==s?(W=n("cr:2673").getTimerTime(s),a[39]=s,a[40]=W):W=a[40];var q;a[41]!==W?(q=u.jsx(r("MWPAudioPlayerTimer.react"),{time:W}),a[41]=W,a[42]=q):q=a[42];var U;a[43]!==l||a[44]!==x||a[45]!==P||a[46]!==N||a[47]!==B||a[48]!==q?(U=u.jsxs(r("MWPAudioPlayerKeyCommands.react"),{audioEl:l,children:[P,x,N,B,q]}),a[43]=l,a[44]=x,a[45]=P,a[46]=N,a[47]=B,a[48]=q,a[49]=U):U=a[49];var V;return a[50]!==l||a[51]!==h||a[52]!==U?(V=u.jsx(r("MWPAudioPlayerContainer.react"),{audioEl:l,hasScrubber:h,mediaRenderQpl:null,scrubberRef:_,style:$,testid:void 0,useCase:o("MWPAudioPlayerUtils").UseCase.RECORDER,children:U}),a[50]=l,a[51]=h,a[52]=U,a[53]=V):V=a[53],V}function p(e){return e.logClickStopRecording(0)}l.default=m}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=150,c=2500,d=150,m=u+c,p={medium:.7,small:.35},_=1.2,f=1.5,g=1.8,h="xj58s1g-B",y="x16e58t8-B",C="xn7wtp8-B",b={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(12),n=e.animationsContainerRef,a=e.children,i=e.shouldShowGrowAnimation,l=i&&b.growAnimationHotlike,u=i&&b.shakeAnimationHotlike,c=i&&b.almostPoppingShakeAnimationHotlike,d;t[0]!==c?(d=[b.animationBox,c],t[0]=c,t[1]=d):d=t[1];var m;t[2]!==a||t[3]!==d?(m=s.jsx(r("BaseView.react"),{xstyle:d,children:a}),t[2]=a,t[3]=d,t[4]=m):m=t[4];var p;t[5]!==u||t[6]!==m?(p=s.jsx(r("BaseView.react"),{xstyle:u,children:m}),t[5]=u,t[6]=m,t[7]=p):p=t[7];var _;return t[8]!==n||t[9]!==l||t[10]!==p?(_=s.jsx(r("BaseView.react"),{ref:n,xstyle:l,children:p}),t[8]=n,t[9]=l,t[10]=p,t[11]=_):_=t[11],_}l.TOTAL_GROW_ANIMATION_TIME_MS=m,l.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=p,l.MWV2ChatHotlikeButtonAnimation=v}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qpl","react","react-compiler-runtime","requireDeferred","setTimeout","useDebouncedComet"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState,g=r("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),h=500,y=50,C=(e={},e[r("LSHotEmojiSize").NONE]=(u||(u=o("I64"))).of_string(r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[r("LSHotEmojiSize").SMALL]=u.of_string(r("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[r("LSHotEmojiSize").MEDIUM]=u.of_string(r("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[r("LSHotEmojiSize").LARGE]=u.of_string(r("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function b(e){return e<=o("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small?r("LSHotEmojiSize").SMALL:e<=o("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium?r("LSHotEmojiSize").MEDIUM:r("LSHotEmojiSize").LARGE}function v(){g.onReadyImmediately(function(e){return e.start()})}function S(){g.onReadyImmediately(function(e){return e.pop()})}function R(e){g.onReadyImmediately(function(t){return t.snap(e)})}function L(e,t,n,a){var i=o("react-compiler-runtime").c(28),l;i[0]!==e?(l=r("isStringNullOrEmpty")(e),i[0]=e,i[1]=l):l=i[1];var s=l,u=f(!1),d=u[0],m=u[1],g=_(null),L=_(null),E=_(!1),k=r("MessengerWebUXLogger").useInteractionLogger(),I;i[2]!==s||i[3]!==k||i[4]!==n?(I=function(t){k==null||k({eventName:s?"send_hot_like":"send_hot_emoji",extraData:{size:t.toString()},threadType:n})},i[2]=s,i[3]=k,i[4]=n,i[5]=I):I=i[5];var T=I,D;i[6]!==a||i[7]!==e||i[8]!==s||i[9]!==T||i[10]!==t?(D=function(r){s?t(void 0,void 0,{stickerId:C[r]},(c||(c=o("LSIntEnum"))).ofNumber(r),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a):t(e,void 0,void 0,(c||(c=o("LSIntEnum"))).ofNumber(r),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,a),T(r)},i[6]=a,i[7]=e,i[8]=s,i[9]=T,i[10]=t,i[11]=D):D=i[11];var x=D,$;i[12]===Symbol.for("react.memo_cache_sentinel")?($={leading:!0,wait:y},i[12]=$):$=i[12];var P=r("useDebouncedComet")(x,$),N;i[13]===Symbol.for("react.memo_cache_sentinel")?(N=function(){r("clearTimeout")(g.current),g.current=null},i[13]=N):N=i[13];var M=N,w,A;i[14]===Symbol.for("react.memo_cache_sentinel")?(w=function(){return(function(){M()})},A=[],i[14]=w,i[15]=A):(w=i[14],A=i[15]),p(w,A);var F;i[16]!==d?(F=function(){return E.current===!0&&(!d||g.current==null)},i[16]=d,i[17]=F):F=i[17];var O=F,B;i[18]===Symbol.for("react.memo_cache_sentinel")?(B=function(){E.current===!0&&(r("QPLUserFlow").endCancel(r("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),S()),E.current=!1,m(!1),M()},i[18]=B):B=i[18];var W=B,q;i[19]===Symbol.for("react.memo_cache_sentinel")?(q=function(){r("gkx")("23249")||(r("QPLUserFlow").start(r("qpl")._(25311430,"2261")),E.current=!0,m(!0),v(),g.current=r("setTimeout")(function(){S(),m(!1),g.current=null,r("QPLUserFlow").endCancel(r("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},o("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+h))},i[19]=q):q=i[19];var U=q,V;i[20]===Symbol.for("react.memo_cache_sentinel")?(V=function(){var e,t=(e=L.current)==null?void 0:e.getAnimations()[0],n=t==null?void 0:t.currentTime;return n!=null?n/o("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},i[20]=V):V=i[20];var H=V,G;i[21]!==P||i[22]!==s||i[23]!==O?(G=function(){if(r("gkx")("23249")){P(r("LSHotEmojiSize").SMALL);return}if(O()){E.current=!1;return}M(),m(!1),E.current=!1;var e=H(),t=b(e);R(t),P(t),r("QPLUserFlow").endSuccess(r("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:s},int:{size:t}}})},i[21]=P,i[22]=s,i[23]=O,i[24]=G):G=i[24];var z=G,j;return i[25]!==z||i[26]!==d?(j={animationsContainerRef:L,handleHoverOut:W,handleOnPress:z,handlePressIn:U,shouldShowGrowAnimation:d},i[25]=z,i[26]=d,i[27]=j):j=i[27],j}l.default=L}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","BaseView.react","CometEmoji.react","EmojiRenderer","MWLikeSvgIcon.react","MWV2ChatHotlikeButtonAnimation.react","MWXPressable.react","MWXTooltip.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime","useMWV2ChatHotlikeButton"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=20,m=56,p=d/m,_={adjustEmojiSize:{transform:"xtzsbya",$$css:!0},customEmojiButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},customEmojiButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},hotlikeButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},hotlikeButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},f=s._(/*BTDS*/"_j[\"Send a like\",\"c94482ebd9b72b746183c50a4d4208d6\",1]");function g(e){var t=o("react-compiler-runtime").c(42),n=e.customEmoji,a=e.disabled,i=e.onSendMessage,l=e.shouldHideTooltip,c=e.threadType,d=a===void 0?!1:a,p=l===void 0?!1:l,g=r("useMWV2ChatHotlikeButton")(n,i,c,"MWV2ChatHotlikeButton"),b=g.animationsContainerRef,v=g.handleHoverOut,S=g.handleOnPress,R=g.handlePressIn,L=g.shouldShowGrowAnimation,E;t[0]!==n?(E=function(t){if(!r("isStringNullOrEmpty")(n)){var e=o("EmojiRenderer").parse(n).map(C);if(e.length!==1)return u.jsx("span",{children:n});var a=e[0];return t===m?u.jsx(r("BaseView.react"),{xstyle:_.adjustEmojiSize,children:u.jsx(r("CometEmoji.react"),{emoji:a,size:t})}):u.jsx(r("CometEmoji.react"),{emoji:a,size:t})}},t[0]=n,t[1]=E):E=t[1];var k=E;if(!r("isStringNullOrEmpty")(n)){var I;t[2]!==n?(I=s._(/*BTDS*/"Send a {emoji}",[s._param("emoji",n)]),t[2]=n,t[3]=I):I=t[3];var T=I,D=d||L,x;t[4]!==k?(x=k(m),t[4]=k,t[5]=x):x=t[5];var $;t[6]!==b||t[7]!==L||t[8]!==x?($=u.jsx(o("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:b,shouldShowGrowAnimation:L,children:x}),t[6]=b,t[7]=L,t[8]=x,t[9]=$):$=t[9];var P;t[10]!==d||t[11]!==v||t[12]!==S||t[13]!==R||t[14]!==L||t[15]!==D||t[16]!==$||t[17]!==T?(P=u.jsx(r("MWXPressable.react"),{"aria-label":T,disabled:d,hideFocusOverlay:L,hideHoverOverlay:L,onHoverOut:v,onPress:S,onPressIn:R,overlayDisabled:D,overlayRadius:"50%",testid:void 0,xstyle:y,children:$}),t[10]=d,t[11]=v,t[12]=S,t[13]=R,t[14]=L,t[15]=D,t[16]=$,t[17]=T,t[18]=P):P=t[18];var N=P;if(p)return N;var M;t[19]!==k?(M=s._(/*BTDS*/"Send a {emoji}",[s._param("emoji",k(16))]),t[19]=k,t[20]=M):M=t[20];var w=M,A=L?null:w,F;return t[21]!==N||t[22]!==A?(F=u.jsx(r("MWXTooltip.react"),{align:"middle",label:f,position:"above",tooltip:A,children:N}),t[21]=N,t[22]=A,t[23]=F):F=t[23],F}var O=d||L,B;t[24]===Symbol.for("react.memo_cache_sentinel")?(B="xsrhx6k",t[24]=B):B=t[24];var W=d?void 0:"var(--chat-composer-button-color)",q;t[25]!==W?(q=u.jsx(r("MWLikeSvgIcon.react"),{className:B,color:W,size:20}),t[25]=W,t[26]=q):q=t[26];var U;t[27]!==b||t[28]!==L||t[29]!==q?(U=u.jsx(o("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:b,shouldShowGrowAnimation:L,children:q}),t[27]=b,t[28]=L,t[29]=q,t[30]=U):U=t[30];var V;t[31]!==d||t[32]!==v||t[33]!==S||t[34]!==R||t[35]!==L||t[36]!==O||t[37]!==U?(V=u.jsx(r("MWXPressable.react"),{"aria-label":f,disabled:d,hideFocusOverlay:L,hideHoverOverlay:L,onHoverOut:v,onPress:S,onPressIn:R,overlayDisabled:O,overlayRadius:"50%",testid:void 0,xstyle:h,children:U}),t[31]=d,t[32]=v,t[33]=S,t[34]=R,t[35]=L,t[36]=O,t[37]=U,t[38]=V):V=t[38];var H=V;if(p)return H;var G=L?null:f,z;return t[39]!==H||t[40]!==G?(z=u.jsx(r("MWXTooltip.react"),{align:"middle",label:f,position:"above",tooltip:G,children:H}),t[39]=H,t[40]=G,t[41]=z):z=t[41],z}function h(){return[r("gkx")("23219")?_.hotlikeButtonMDS:_.hotlikeButtonFDS]}function y(){return[r("gkx")("23219")?_.customEmojiButtonMDS:_.customEmojiButtonFDS]}function C(e){return e.emoji}l.default=g}),226);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"View menu options"),m={buttonFDS:{flexShrink:"x2lah0s",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function p(t){var n=o("react-compiler-runtime").c(11),a=t.color,i=t.contextRef,l=t.disabled,s=t.onShow,u;n[0]===Symbol.for("react.memo_cache_sentinel")?(u=(e||(e=r("stylex"))).props(o("MWChatChatButtonColorConstants").styles.strokeGrey),n[0]=u):u=n[0];var m,p,f;n[1]===Symbol.for("react.memo_cache_sentinel")?(m=c.jsx("path",{d:"M1.5,1.5 H22.5"}),p=c.jsx("path",{d:"M1.5,9 H22.5"}),f=c.jsx("path",{d:"M1.5,16.5 H22.5"}),n[1]=m,n[2]=p,n[3]=f):(m=n[1],p=n[2],f=n[3]);var g;n[4]!==a?(g=c.jsx("svg",babelHelpers.extends({"aria-hidden":"true"},u,{height:"20",viewBox:"0 0 24 18",width:"20",children:c.jsxs("g",{stroke:a,strokeLinecap:"round",strokeWidth:"2.5",children:[m,p,f]})})),n[4]=a,n[5]=g):g=n[5];var h;return n[6]!==i||n[7]!==l||n[8]!==s||n[9]!==g?(h=c.jsx(r("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:d,children:c.jsx(r("MWXPressable.react"),{disabled:l,label:d,onPress:s,overlayDisabled:l,overlayRadius:"50%",ref:i,xstyle:_,children:g})}),n[6]=i,n[7]=l,n[8]=s,n[9]=g,n[10]=h):h=n[10],h}function _(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS]}l.default=p}),226);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(12),n=e.color,a=e.disabled,i=e.editor,l=e.hasPersistentMenu,u=e.onSendMessage,c=e.threadKey,d=a===void 0?!1:a,m;t[0]!==i||t[1]!==l||t[2]!==u||t[3]!==c?(m={editor:i,hasPersistentMenu:l,onClose:r("emptyFunction"),onSendMessage:u,threadKey:c},t[0]=i,t[1]=l,t[2]=u,t[3]=c,t[4]=m):m=t[4];var p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=r("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),t[5]=p):p=t[5];var _;t[6]!==n||t[7]!==d?(_=function(t,o){return s.jsx(r("MWV2ComposerMenuButtonTrigger.react"),{color:n,contextRef:t,disabled:d,onShow:o})},t[6]=n,t[7]=d,t[8]=_):_=t[8];var f;return t[9]!==m||t[10]!==_?(f=s.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:m,popoverResource:p,children:_}),t[9]=m,t[10]=_,t[11]=f):f=t[11],f}l.default=u}),98);
__d("useMWComposerPersistentMenuItemSelect",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(e){var t=o("react-compiler-runtime").c(3),n=e.composerEntrypointForLogging,r=e.onSendMessage,a;return t[0]!==n||t[1]!==r?(a=function(t){var e=t.id,o=t.title;return r(o,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,void 0,void 0,void 0,void 0,void 0,n)},t[0]=n,t[1]=r,t[2]=a):a=t[2],a}l.default=u}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useMWComposerPersistentMenuItemSelect"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(11),n=e.color,a=e.disabled,i=e.onSendMessage,l=a===void 0?!1:a,u;t[0]!==i?(u={composerEntrypointForLogging:"MWV2ComposerPersistentMenuButton",onSendMessage:i},t[0]=i,t[1]=u):u=t[1];var c=r("useMWComposerPersistentMenuItemSelect")(u),d;t[2]!==c?(d={onClose:r("emptyFunction"),onSelect:c},t[2]=c,t[3]=d):d=t[3];var m;t[4]===Symbol.for("react.memo_cache_sentinel")?(m=r("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),t[4]=m):m=t[4];var p;t[5]!==n||t[6]!==l?(p=function(t,o){return s.jsx(r("MWV2ComposerMenuButtonTrigger.react"),{color:n,contextRef:t,disabled:l,onShow:o})},t[5]=n,t[6]=l,t[7]=p):p=t[7];var _;return t[8]!==d||t[9]!==p?(_=s.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:d,popoverResource:m,children:p}),t[8]=d,t[9]=p,t[10]=_):_=t[10],_}l.default=u}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="var(--chat-composer-button-color)";function c(e){var t=o("react-compiler-runtime").c(15),n=e.alwaysShowSend,a=e.customEmoji,i=e.disabled,l=e.editor,c=e.hasPersistentMenu,d=e.hasStuffToSend,m=e.isVoiceRecorderOpen,p=e.onSendMessage,_=e.sendMessage,f=e.shouldHideHotLike,g=e.shouldHideTooltip,h=e.showCommands,y=e.threadKey,C=e.threadType,b=n===void 0?!1:n,v=g===void 0?!1:g,S;return t[0]!==b||t[1]!==a||t[2]!==i||t[3]!==l||t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==p||t[8]!==_||t[9]!==f||t[10]!==v||t[11]!==h||t[12]!==y||t[13]!==C?(S=m?null:d||b?s.jsx(r("MWV2ComposerSendButton.react"),{disabled:i,hasStuffToSend:d,onPress:_,shouldHideTooltip:v}):h?s.jsx(r("MWV2ComposerMenuButton.react"),{color:u,disabled:i,editor:l,hasPersistentMenu:c,onSendMessage:p,threadKey:y}):c?s.jsx(r("MWV2ComposerPersistentMenuButton.react"),{color:u,disabled:i,onSendMessage:p}):f?s.jsx("span",{className:"x135b78x x11lfxj5"}):s.jsx(r("MWV2ChatHotlikeButton.react"),{customEmoji:a,disabled:i,onSendMessage:p,shouldHideTooltip:v,threadType:C}),t[0]=b,t[1]=a,t[2]=i,t[3]=l,t[4]=c,t[5]=d,t[6]=m,t[7]=p,t[8]=_,t[9]=f,t[10]=v,t[11]=h,t[12]=y,t[13]=C,t[14]=S):S=t[14],S}l.default=c}),98);
__d("MWV2ComposerEmojiButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","Promise","gkx","promiseDone","react","react-compiler-runtime","useMatchViewport"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=s._(/*BTDS*/"Choose an emoji"),m={buttonFDS:{marginTop:"x1rdy4ex",marginInlineEnd:"x1lxpwgx",marginBottom:"x4vbgl9",marginInlineStart:"x165d6jo",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},p=r("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWV2ComposerEmojiButton.react");function _(t){var a=o("react-compiler-runtime").c(17),i=t.editor,l=t.iconColor,s=t.iconSize,u=t.position,_=t.xstyle,f=l===void 0?"var(--chat-composer-button-color)":l,g=s===void 0?20:s,h=r("useMatchViewport")("max","width",320),y;a[0]!==i||a[1]!==h?(y=function(o){r("promiseDone")(p.load().then(function(t){return t(o,i,16,!h),(e||(e=n("Promise"))).resolve()}))},a[0]=i,a[1]=h,a[2]=y):y=a[2];var C=y,b=r("MessengerWebUXLogger").useInteractionLogger(),v=!h,S;a[3]!==C||a[4]!==v?(S={onSelect:C,withArrow:v},a[3]=C,a[4]=v,a[5]=S):S=a[5];var R;a[6]===Symbol.for("react.memo_cache_sentinel")?(R=r("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWV2ComposerEmojiButton.react"),a[6]=R):R=a[6];var L;a[7]!==f||a[8]!==g||a[9]!==b||a[10]!==_?(L=function(t,n,a,i,l,s,u){return c.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:d,children:c.jsx(r("MWXPressable.react"),{"aria-label":d,onHoverIn:i,onHoverOut:l,onPress:function(t){n(),p.preload(),b==null||b({eventName:"composer_open_emoji_picker"})},onPressIn:s,overlayRadius:"50%",ref:t,testid:void 0,xstyle:function(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS,_]},children:c.jsx(o("MWChatComposerIcons").MWChatComposerIconsEmoji,{fill:f,size:g})})})},a[7]=f,a[8]=g,a[9]=b,a[10]=_,a[11]=L):L=a[11];var E;return a[12]!==h||a[13]!==u||a[14]!==S||a[15]!==L?(E=c.jsx(r("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:S,popoverResource:R,position:u,preloadTrigger:"button",reflowToPosition:h,children:L}),a[12]=h,a[13]=u,a[14]=S,a[15]=L,a[16]=E):E=a[16],E}l.default=_}),226);
__d("MWXIconHdOutline",["MWXSvgIcon","SVGIcon","cr:22361","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22361")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerHdMediaButton.react",["fbt","MWXComposer.react","MWXIconHd","MWXIconHdOutline","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(9),n=e.isHdEnabled,a=e.onToggle,i=e.visible,l=e.wrapperXStyle;if(!i)return null;var c=r(n?"MWXIconHd":"MWXIconHdOutline"),d;t[0]!==n?(d=n?s._(/*BTDS*/"Disable HD photos"):s._(/*BTDS*/"Enable HD photos"),t[0]=n,t[1]=d):d=t[1];var m;t[2]!==a?(m=function(){a()},t[2]=a,t[3]=m):m=t[3];var p;return t[4]!==c||t[5]!==d||t[6]!==m||t[7]!==l?(p=u.jsx(o("MWXComposer.react").Button,{disableTooltip:!0,icon:c,label:d,onPress:m,testid:void 0,wrapperXStyle:l}),t[4]=c,t[5]=d,t[6]=m,t[7]=l,t[8]=p):p=t[8],p}l.default=c}),226);
__d("useMWToggleHDMedia",["LSFactory","LSUpdateE2eeHdMediaSettings","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedComet","useMWIsHDMediaEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback,u=1e3;function c(e){var t=o("react-compiler-runtime").c(5),n=r("useMWIsHDMediaEnabled")(),a=!n,l=r("useAsyncReStore")(),s;t[0]!==l||t[1]!==a||t[2]!==e?(s=function(){r("promiseDone")(l,function(e){return e.runInTransaction(function(e){return r("LSUpdateE2eeHdMediaSettings")(a,r("LSFactory")(e))},"readwrite",void 0,void 0,i.id+":33")}),e(a)},t[0]=l,t[1]=a,t[2]=e,t[3]=s):s=t[3];var c=s,d;t[4]===Symbol.for("react.memo_cache_sentinel")?(d={leading:!0,wait:u},t[4]=d):d=t[4];var m=r("useDebouncedComet")(c,d);return m}l.default=c}),98);
__d("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9580085508750272"}),null);
__d("useMWXComposerMaybeShowHDMediaNuxQuery.graphql",["useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_INTERSTITIAL"}],t=[{kind:"Literal",name:"supported",value:"4BtD9E"}],r={kind:"InlineFragment",selections:[{args:null,documentName:"useMWXComposerMaybeShowHDMediaNuxQuery",fragmentName:"CometQuickPromotionMessengerWebHDImageRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebHDImageRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[r],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}]},params:{id:n("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation"),metadata:{},name:"useMWXComposerMaybeShowHDMediaNuxQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("useMWXComposerMaybeShowHDMediaNux",["CometRelay","JSResourceForInteraction","promiseDone","react","react-compiler-runtime","useMWXComposerMaybeShowHDMediaNuxQuery.graphql","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=u.useEffect,d=u.useState,m=r("JSResourceForInteraction")("MAWThreadComposerNUXQuickPromotion.react").__setRef("useMWXComposerMaybeShowHDMediaNux"),p=e!==void 0?e:e=n("useMWXComposerMaybeShowHDMediaNuxQuery.graphql");function _(e,t,n){var a=o("react-compiler-runtime").c(10),i=o("CometRelay").useRelayEnvironment(),l=d(!1),s=l[0],u=l[1],_=d(null),g=_[0],h=_[1],y=r("useMWXLazyDialog")(m),C=y[0],b,v;a[0]!==s||a[1]!==i||a[2]!==t||a[3]!==e?(b=function(){e&&!t&&!s&&(u(!0),r("promiseDone")(o("CometRelay").fetchQuery(i,p,{},{fetchPolicy:"network-only"}).toPromise().then(function(e){var t;h(e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(f))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy)})))},v=[s,i,t,e],a[0]=s,a[1]=i,a[2]=t,a[3]=e,a[4]=b,a[5]=v):(b=a[4],v=a[5]),c(b,v);var S;return a[6]!==n||a[7]!==g||a[8]!==C?(S=function(){return g!=null?(C({onClosed:n,rendererStrategy:g},function(){h(null)}),!0):!1},a[6]=n,a[7]=g,a[8]=C,a[9]=S):S=a[9],S}function f(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=_}),98);
__d("useMWXComposerHdMediaButton",["I64","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime","useMWIsHDMediaEnabled","useMWToggleHDMedia","useMWXComposerMaybeShowHDMediaNux"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useCallback;function d(e,t,n){var a=o("react-compiler-runtime").c(11),i;a[0]!==e?(i=e.some(m),a[0]=e,a[1]=i):i=a[1];var l=i,s=t&&l,u=r("useMWIsHDMediaEnabled")(),c=r("useMWToggleHDMedia")(n),d;a[2]!==c?(d=function(t){t||c()},a[2]=c,a[3]=d):d=a[3];var p=d,_=r("useMWXComposerMaybeShowHDMediaNux")(s,u,p),f;a[4]!==_||a[5]!==c?(f=function(){var e=_();e||c()},a[4]=_,a[5]=c,a[6]=f):f=a[6];var g=f,h;return a[7]!==u||a[8]!==s||a[9]!==g?(h={isHdEnabled:u,isVisible:s,onToggled:g},a[7]=u,a[8]=s,a[9]=g,a[10]=h):h=a[10],h}function m(e){return(s||(s=o("I64"))).equal(e.attachmentType,(u||(u=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))}l.default=d}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","MWXComposerHdMediaButton.react","react","react-compiler-runtime","useMWXComposerHdMediaButton"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={hdMediaButton:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(16),n=e.editor,a=e.isSecureThread,i=e.mediaStaging,l=e.onHdMediaToggled,c=e.renderExtraButtons,d=e.shouldUseMDS,m=c===void 0?null:c,p=r("useMWXComposerHdMediaButton")(i,a,l),_=p.isHdEnabled,f=p.isVisible,g=p.onToggled,h;t[0]!==d?(h={0:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x18xomjl xjkvuk6 x11lfxj5"},1:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x162z183"}}[!!d<<0],t[0]=d,t[1]=h):h=t[1];var y;t[2]!==n||t[3]!==m?(y=m!=null&&m(n),t[2]=n,t[3]=m,t[4]=y):y=t[4];var C;t[5]!==_||t[6]!==f||t[7]!==g?(C=s.jsx(r("MWXComposerHdMediaButton.react"),{isHdEnabled:_,onToggle:g,visible:f,wrapperXStyle:u.hdMediaButton}),t[5]=_,t[6]=f,t[7]=g,t[8]=C):C=t[8];var b;t[9]!==n?(b=s.jsx(r("MWV2ComposerEmojiButton.react"),{editor:n}),t[9]=n,t[10]=b):b=t[10];var v;return t[11]!==h||t[12]!==y||t[13]!==C||t[14]!==b?(v=s.jsxs("div",babelHelpers.extends({},h,{children:[y,C,b]})),t[11]=h,t[12]=y,t[13]=C,t[14]=b,t[15]=v):v=t[15],v}l.default=c}),98);
__d("useMWV2ComposerOnGifSelect",["fbt","FBLogger","I64","LSShape","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=(e||(e=o("react"))).useCallback;function d(e,t,n){return o("LSShape").ofRecord({preview_height:t,preview_url:e,preview_width:n})}function m(e,t){var n=o("react-compiler-runtime").c(3),a;return n[0]!==t||n[1]!==e?(a=function(a){var n=a.media,i=a.platformFBID,l=a.source,c=n.preview,m=c.label,p=l.height,_=l.url,f=l.width,g=(u||(u=o("I64"))).of_string(i),h=_;if(!h)throw r("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (composer entrypoint = %s)",t);var y=m!=null?m:s._(/*BTDS*/"GIF Image"),C=y!=null?y:void 0;return e(void 0,void 0,void 0,void 0,g,h,d(h,u.of_int32(p),u.of_int32(f)),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,C)},n[0]=t,n[1]=e,n[2]=a):a=n[2],a}l.default=m}),226);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},m=s._(/*BTDS*/"Choose a GIF");function p(e){var t=o("react-compiler-runtime").c(10),n=e.disabled,a=e.hidden,i=e.isSecureThread,l=e.onSendMessage,s=r("useMWV2ComposerOnGifSelect")(l,"MWV2ComposerGifButton"),d=r("MessengerWebUXLogger").useInteractionLogger(),p;t[0]!==i||t[1]!==s?(p={isSecureThread:i,onSelect:s,testid:"mw_gif_picker"},t[0]=i,t[1]=s,t[2]=p):p=t[2];var f;t[3]!==n||t[4]!==a||t[5]!==d?(f=function(t,i,l,s,c,p,f){return u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:u.jsx(r("MWXPressable.react"),{"aria-hidden":a,"aria-label":m,disabled:n,onHoverIn:s,onHoverOut:c,onPress:function(){i(),d==null||d({eventName:"composer_open_gif_picker"})},onPressIn:p,overlayRadius:"50%",ref:t,xstyle:_,children:u.jsx(o("MWChatComposerIcons").MWChatComposerIconsGif,{fill:n?void 0:"var(--chat-composer-button-color)",size:20})})})},t[3]=n,t[4]=a,t[5]=d,t[6]=f):f=t[6];var g;return t[7]!==p||t[8]!==f?(g=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:p,popoverResource:c,position:"above",children:f}),t[7]=p,t[8]=f,t[9]=g):g=t[9],g}function _(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}l.default=p}),226);
__d("MWChatComposerOverflowIcons",["cr:3237"],(function(t,n,r,o,a,i,l){"use strict";l.MWChatComposerOverflowIconsPollsSVG=n("cr:3237").PollsSVG,l.MWChatComposerOverflowIconsDollarSignSVG=n("cr:3237").DollarSignSVG,l.MWChatComposerOverflowIconsMicrophoneSVG=n("cr:3237").MicrophoneSVG}),98);
__d("useMWGroupNewPollSubmitErrorLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r,a){await o("MWGroupPollLoggerDeferred").log("new_poll_submit_error",{poll:{entry_point:r,exception_message:a,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("useMWGroupNewPollSubmitSuccessLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r){await o("MWGroupPollLoggerDeferred").log("existing_poll_submit_success",{poll:{entry_point:r,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("MWChatPollFlyout.react",["BaseTextInput.react","CometScrollableArea.react","I64","LSGroupPollEventType","MWChatPollStrings","MWGroupPollQPL","MWXButton.react","MWXPopover.react","MWXRow.react","MWXRowItem.react","MessengerWebPollConstants","ReQL","ReQLSuspense","clearTimeout","emptyFunction","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","stylex","useMWGroupNewPollSubmitErrorLogger","useMWGroupNewPollSubmitSuccessLogger","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useEffect,f=m.useLayoutEffect,g=m.useRef,h=m.useState,y={button:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}};function C(t){var n=o("react-compiler-runtime").c(57),a=t.onClose,l=t.onPollCreate,c=t.threadKey,m=t.withArrow,p=t.withPopover,C=m===void 0?!0:m,R=p===void 0?!0:p,L=h(""),T=L[0],D=L[1],x=h(I),$=x[0],P=x[1],N=h(!1),M=N[0],w=N[1],A=h(!1),F=A[0],O=A[1],B=h(!1),W=B[0],q=B[1],U=W?r("emptyFunction"):o("MWGroupPollQPL").logCreatePollCancel,V;n[0]!==U?(V={onImpressionEnd:U},n[0]=U,n[1]=V):V=n[1];var H=r("useSinglePartialViewImpression")(V),G=r("useMWGroupNewPollSubmitSuccessLogger")(c),z=r("useMWGroupNewPollSubmitErrorLogger")(c),j=g(null),K=g(r("emptyFunction")),Q=(e||(e=r("useReStore")))(),X,Y;n[2]===Symbol.for("react.memo_cache_sentinel")?(X=function(){return(function(){K.current(),j.current!==null&&r("clearTimeout")(j.current)})},Y=[],n[2]=X,n[3]=Y):(X=n[2],Y=n[3]),_(X,Y);var J;n[4]!==Q.tables.polls||n[5]!==z||n[6]!==G||n[7]!==a||n[8]!==c?(J=function(){j.current=r("setTimeout")(function(){o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(z(4)),K.current(),K.current=r("emptyFunction"),j.current=null,q(!1)},r("justknobx")._("1647")),K.current=Q.tables.polls.subscribe(function(e){var t=e[0],n=o("ReQLSuspense").first(o("ReQL").fromTableAscending(Q.tables.polls).getKeyRange(t),i.id+":168"),l=n!=null&&(u||(u=o("I64"))).equal(n.threadKey,c)&&(u||(u=o("I64"))).to_int32(n.lastUpdateMessageEventType)===r("LSGroupPollEventType").QUESTION_CREATION;l&&(o("MWGroupPollQPL").logCreatePollSuccess(),r("promiseDone")(G(4)),K.current(),j.current!==null&&r("clearTimeout")(j.current),a())})},n[4]=Q.tables.polls,n[5]=z,n[6]=G,n[7]=a,n[8]=c,n[9]=J):J=n[9];var Z=J,ee=g(null),te;n[10]===Symbol.for("react.memo_cache_sentinel")?(te=function(){if(ee.current!=null){var e=ee.current.getDOMNode();e!=null&&(e.scrollTop=e.scrollHeight)}w(!1)},n[10]=te):te=n[10];var ne=te,re;n[11]!==M?(re=function(){M&&ne()},n[11]=M,n[12]=re):re=n[12];var oe;n[13]!==M||n[14]!==$?(oe=[M,$,ne],n[13]=M,n[14]=$,n[15]=oe):oe=n[15],_(re,oe);var ae;n[16]!==$?(ae=new Set($.map(k).filter(E)),n[16]=$,n[17]=ae):ae=n[17];var ie=ae,le,se;n[18]===Symbol.for("react.memo_cache_sentinel")?(le=function(){if(ee.current!=null){var e=ee.current.getDOMNode();O(function(){return e!=null&&e.scrollHeight>e.clientHeight})}},se=[ee],n[18]=le,n[19]=se):(le=n[18],se=n[19]),f(le,se);var ue;n[20]===Symbol.for("react.memo_cache_sentinel")?(ue={className:"x78zum5 xdt5ytf x1phlbz0 x168biu4"},n[20]=ue):ue=n[20];var ce;n[21]===Symbol.for("react.memo_cache_sentinel")?(ce=function(t){var e=t.target.value;return D(function(){return e})},n[21]=ce):ce=n[21];var de;n[22]!==T?(de=d.jsx(r("BaseTextInput.react"),{"aria-label":r("MWChatPollStrings").pollTitleLabel,maxLength:r("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:ce,placeholder:r("MWChatPollStrings").pollTitleLabel,value:T,xstyle:y.title}),n[22]=T,n[23]=de):de=n[23];var me;if(n[24]!==ie.size||n[25]!==$){var pe;n[27]!==ie.size?(pe=function(t,n){return d.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:d.jsx(r("BaseTextInput.react"),{"aria-label":r("MWChatPollStrings").addPollOptionLabel,maxLength:r("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){ie.size<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS&&P(S)},onChange:function(t){var e=t.target.value;P(function(t){return t.map(function(o,a){var i=n===t.length-1&&e!==""&&t.length<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS;return i&&w(!0),n===a?e:o}).concat(n===t.length-1&&e!==""&&t.length<r("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:r("MWChatPollStrings").addPollOptionLabel,value:t,xstyle:y.optionText})},String(n))},n[27]=ie.size,n[28]=pe):pe=n[28],me=$.map(pe),n[24]=ie.size,n[25]=$,n[26]=me}else me=n[26];var _e;n[29]!==me?(_e=d.jsx(r("CometScrollableArea.react"),{ref:ee,vertical:!0,xstyle:y.pollOptions,children:me}),n[29]=me,n[30]=_e):_e=n[30];var fe;n[31]!==F?(fe=(s||(s=r("stylex"))).props(y.button,F?y.buttonOverflow:!1),n[31]=F,n[32]=fe):fe=n[32];var ge;n[33]!==W||n[34]!==ie.size||n[35]!==T?(ge=ie.size<r("MessengerWebPollConstants").POLL_MIN_OPTIONS||T.trim()===""||W,n[33]=W,n[34]=ie.size,n[35]=T,n[36]=ge):ge=n[36];var he;n[37]!==l||n[38]!==$||n[39]!==T||n[40]!==Z?(he=function(){o("MWGroupPollQPL").logCreatePollConfirmClick(),q(!0),Z(),l(T,$.map(v).filter(b),function(){return q(!1)})},n[37]=l,n[38]=$,n[39]=T,n[40]=Z,n[41]=he):he=n[41];var ye;n[42]!==W||n[43]!==ge||n[44]!==he?(ye=d.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:d.jsx(r("MWXRowItem.react"),{expanding:!0,children:d.jsx(r("MWXButton.react"),{disabled:ge,label:r("MWChatPollStrings").createPollLabel,loading:W,onPress:he,reduceEmphasis:!0,type:"primary"})})}),n[42]=W,n[43]=ge,n[44]=he,n[45]=ye):ye=n[45];var Ce;n[46]!==fe||n[47]!==ye?(Ce=d.jsx("div",babelHelpers.extends({},fe,{children:ye})),n[46]=fe,n[47]=ye,n[48]=Ce):Ce=n[48];var be;n[49]!==de||n[50]!==_e||n[51]!==Ce||n[52]!==H?(be=d.jsxs("div",babelHelpers.extends({},ue,{ref:H,children:[de,_e,Ce]})),n[49]=de,n[50]=_e,n[51]=Ce,n[52]=H,n[53]=be):be=n[53];var ve=be;if(R){var Se;return n[54]!==ve||n[55]!==C?(Se=d.jsx(r("MWXPopover.react"),{withArrow:C,children:ve}),n[54]=ve,n[55]=C,n[56]=Se):Se=n[56],Se}else return ve}function b(e){return e!==""}function v(e){return e.trim()}function S(e){return e.map(L).filter(R).concat([""])}function R(e){return e!==""}function L(e){return e.trim()}function E(e){return e!==""}function k(e){return e.toUpperCase()}function I(){return[""]}l.default=C}),98);
__d("MWXIconPoll",["MWXSvgIcon","SVGIcon","cr:22440","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22440")),r("gkx")("23219"));l.default=e}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("1891340"),s=o("FalcoLoggerInternal").create("message_send_click",e),u=s;l.default=u}),98);
__d("useMWCreatePoll",["I64","LSFactory","LSIssuePollCreationForThreadTaskStoredProcedure","LSPlatformWaitForTaskCompletion","LSVec","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,a,i,l,u){r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(n,function(e){return r("LSIssuePollCreationForThreadTaskStoredProcedure")(r("LSFactory")(e),{options:r("LSVec").ofArray(i),questionText:a,threadKey:t})},"addPollToThread-"+(s||(s=o("I64"))).to_string(t)),l!=null?l:r("emptyFunction"),u!=null?u:r("emptyFunction"))},t[0]=n,t[1]=a):a=t[1],a}l.default=d}),98);
__d("useMWGroupStartNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r){await o("MWGroupPollLoggerDeferred").log("start_new_poll",{poll:{entry_point:r,poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("useMWGroupSubmitNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(3),r,a;return n[0]!==t?(r=async function(r,a){await o("MWGroupPollLoggerDeferred").log("submit_new_poll",{poll:{entry_point:r,options_added:a.toString(),poll_type:void 0,question_id:void 0,thread_id:(e||(e=o("I64"))).to_string(t)}})},a=[t],n[0]=t,n[1]=r,n[2]=a):(r=n[1],a=n[2]),o("Int64Hooks").useCallbackInt64(r,a)}l.default=s}),98);
__d("MWV2ComposerPollButton.react",["fbt","I64","JSResourceForInteraction","LsFalcoEventEntryPoint","MWChatComposerOverflowIcons","MWChatPollFlyout.react","MWGroupPollQPL","MWXIconForListCell.react","MWXIconPoll","MWXLazyPopoverTrigger.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessageSendClickFalcoEvent","MessengerWebUXLoggerImpl","emptyFunction","gkx","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=e||(e=o("react")),d=r("JSResourceForInteraction")("MWChatPollFlyoutForPopover.react").__setRef("MWV2ComposerPollButton.react"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},p=s._(/*BTDS*/"Create a poll");function _(e){var t=o("react-compiler-runtime").c(32),n=e.color,a=e.entryPoint,i=e.hidden,l=e.onClose,s=e.pushPage,m=e.threadKey,_=e.threadType,h=o("MessengerWebUXLoggerImpl").useInteractionLogger(),y=r("useMWGroupStartNewPollLogger")(m),C=r("useMWGroupSubmitNewPollLogger")(m),b=r("useMWGroupNewPollSubmitErrorLogger")(m),v=r("useMWCreatePoll")(),S;t[0]!==v||t[1]!==b||t[2]!==C||t[3]!==m?(S=function(t,n,a){v(m,t,n,r("emptyFunction"),function(e){a&&a(),o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(b(4,e))}),r("promiseDone")(C(4,n.length)),r("MessageSendClickFalcoEvent").log(g)},t[0]=v,t[1]=b,t[2]=C,t[3]=m,t[4]=S):S=t[4];var R=S,L;t[5]!==y||t[6]!==l||t[7]!==R||t[8]!==s||t[9]!==m||t[10]!==_?(L=function(){o("MWGroupPollQPL").logCreatePollStart(_),r("promiseDone")(y(4)),s==null||s(function(){return c.jsx(r("MWChatPollFlyout.react"),{onClose:l,onPollCreate:R,threadKey:m,withPopover:!1})})},t[5]=y,t[6]=l,t[7]=R,t[8]=s,t[9]=m,t[10]=_,t[11]=L):L=t[11];var E=L;if(a==="composer"){var k;t[12]!==R||t[13]!==m?(k={onPollCreate:R,threadKey:m},t[12]=R,t[13]=m,t[14]=k):k=t[14];var I;t[15]!==n||t[16]!==i||t[17]!==h||t[18]!==m||t[19]!==_?(I=function(t,a,l,s,d,g,y){return c.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:p,children:c.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":p,id:"mw-poll-composer-button-"+(u||(u=o("I64"))).to_string(m),onHoverIn:s,onHoverOut:d,onPress:function(){a(),h==null||h({eventName:"composer_open_create_poll_flyout",threadType:_})},onPressIn:g,overlayRadius:"50%",ref:t,xstyle:f,children:c.jsx(o("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsPollsSVG,{fill:n,size:20})})})},t[15]=n,t[16]=i,t[17]=h,t[18]=m,t[19]=_,t[20]=I):I=t[20];var T;return t[21]!==k||t[22]!==I?(T=c.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:k,popoverResource:d,position:"above",children:I}),t[21]=k,t[22]=I,t[23]=T):T=t[23],T}var D;t[24]!==n?(D=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[24]=n,t[25]=D):D=t[25];var x;t[26]!==D?(x=c.jsx(r("MWXIconForListCell.react"),{color:D,hasBackground:!1,icon:r("MWXIconPoll"),size:r("gkx")("23219")?"large":"medium"}),t[26]=D,t[27]=x):x=t[27];var $;t[28]===Symbol.for("react.memo_cache_sentinel")?($=c.jsx(r("MWXTextPairing.react"),{headline:p,level:4}),t[28]=$):$=t[28];var P;return t[29]!==E||t[30]!==x?(P=c.jsx(r("MWXListCellPressable.react"),{addOnStart:x,addOnStartVerticalAlign:"center",content:$,loggingEvent:"composer_open_create_poll_flyout",onPress:E,role:"menuitem"}),t[29]=E,t[30]=x,t[31]=P):P=t[31],P}function f(){return[r("gkx")("23219")?m.buttonMDS:m.buttonFDS]}function g(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}l.default=_}),226);
__d("MWChatPromptFlyoutBackCard.react",["BaseImage.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=150,c=200,d=16,m={media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",objectFit:"xl1xv1r",$$css:!0}};function p(e){var t=o("react-compiler-runtime").c(8),n=e.isVideo,a=e.previewUrl;r("vulture")("kwH80zN7Ru4ZTTw_BdTdpJyZC4Y=");var i;t[0]!==a?(i={0:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod xg01cxk x10l6tqk xv8dq09 xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z"},1:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod x10l6tqk xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z x1hc1fzr xwot3bk"}}[(a!==null)<<0],t[0]=a,t[1]=i):i=t[1];var l;t[2]!==n||t[3]!==a?(l=a!==null?n?s.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xbjudin xnlwouz xpp8er5 xs9wviy xl1xv1r",height:c,muted:!0,src:a,width:u}):s.jsx(r("BaseImage.react"),{height:c,src:a,width:u,xstyle:m.media}):null,t[2]=n,t[3]=a,t[4]=l):l=t[4];var d;return t[5]!==i||t[6]!==l?(d=s.jsx("div",babelHelpers.extends({},i,{children:l})),t[5]=i,t[6]=l,t[7]=d):d=t[7],d}l.default=p}),98);
__d("MWChatPromptFlyoutCTAButton.react",["fbt","BaseFileSelector.react","MWXButton.react","fileInputAcceptValues","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.isSendDisabled,a=e.onFilesSelected,i=e.onPressSend,l=e.showFileSelector;r("vulture")("AmjYfpbqcMDU9iF5DFs3Qsx9zHs=");var c;return t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==l?(c=l?u.jsx(r("BaseFileSelector.react"),{accept:o("fileInputAcceptValues").PHOTO_AND_VIDEO,onFilesSelected:a,children:d}):u.jsx(r("MWXButton.react"),{"aria-label":s._(/*BTDS*/"Send prompt to chat"),disabled:n,label:s._(/*BTDS*/"Send"),onPress:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=l,t[4]=c):c=t[4],c}function d(e){return u.jsx(r("MWXButton.react"),{"aria-label":s._(/*BTDS*/"Next, select photo or video for prompt"),label:s._(/*BTDS*/"Next"),onPress:e})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWChatPromptFlyoutDisclaimer.react",["fbt","MWXText.react","RollCallPromptType","gkx","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(5),n=e.promptType;r("vulture")("7cGhD2JkP0z2ap6KI0INoqazihg=");var a=r("gkx")("7782"),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"xyamay9 x1l90r2v x2b8uid"},t[0]=i):i=t[0];var l;t[1]!==n?(l=a?n===r("RollCallPromptType").TEXT?s._(/*BTDS*/"Collect text and link responses"):s._(/*BTDS*/"Collect photos and videos"):s._(/*BTDS*/"Members can respond to prompts with a photo or video. All members can see others' responses."),t[1]=n,t[2]=l):l=t[2];var c;return t[3]!==l?(c=u.jsx("div",babelHelpers.extends({},i,{children:u.jsx(r("MWXText.react"),{type:"meta4",children:l})})),t[3]=l,t[4]=c):c=t[4],c}l.default=c}),226);
__d("MWChatPromptFlyoutErrorMessage.react",["fbt","MWXText.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(2);r("vulture")("iXCbHzxYM1k1joQm0xQ5Zug-Nk0=");var t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"x1l90r2v x2b8uid"},e[0]=t):t=e[0];var n;return e[1]===Symbol.for("react.memo_cache_sentinel")?(n=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("MWXText.react"),{color:"negative",type:"meta4",children:s._(/*BTDS*/"The file you have selected is too large. The maximum size is 25MB.")})})),e[1]=n):n=e[1],n}l.default=c}),226);
__d("MWChatPromptFlyoutPromptTypeSelector.react",["fbt","MWXCircleButton.react","MWXIconMessage","MWXIconPhoto","RollCallPromptType","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.icon,a=e.isSelected,i=e.label,l=e.onPress;r("vulture")("YOH0hbx8juH86tFHW1yZq93vQFs=");var s=a?"primary":"disabled",c=a?"overlay-floating":"deemphasized",d;return t[0]!==n||t[1]!==i||t[2]!==l||t[3]!==s||t[4]!==c?(d=u.jsx(r("MWXCircleButton.react"),{"aria-label":i,color:s,icon:n,onPress:l,size:36,type:c}),t[0]=n,t[1]=i,t[2]=l,t[3]=s,t[4]=c,t[5]=d):d=t[5],d}function d(e){var t=o("react-compiler-runtime").c(16),n=e.promptType,a=e.setPromptType;r("vulture")("C0dixqG2E_kzhQmxwrE0YJJdgOo=");var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x6s0dn4 x78zum5 x1qughib x1l90r2v x29ncy0"},t[0]=i):i=t[0];var l=n===r("RollCallPromptType").TEXT,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Text"),t[1]=d):d=t[1];var m;t[2]!==a?(m=function(){return a(r("RollCallPromptType").TEXT)},t[2]=a,t[3]=m):m=t[3];var p;t[4]!==l||t[5]!==m?(p=u.jsx(c,{icon:r("MWXIconMessage"),isSelected:l,label:d,onPress:m}),t[4]=l,t[5]=m,t[6]=p):p=t[6];var _=n===r("RollCallPromptType").MEDIA,f;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Media"),t[7]=f):f=t[7];var g;t[8]!==a?(g=function(){return a(r("RollCallPromptType").MEDIA)},t[8]=a,t[9]=g):g=t[9];var h;t[10]!==_||t[11]!==g?(h=u.jsx(c,{icon:r("MWXIconPhoto"),isSelected:_,label:f,onPress:g}),t[10]=_,t[11]=g,t[12]=h):h=t[12];var y;return t[13]!==p||t[14]!==h?(y=u.jsxs("div",babelHelpers.extends({},i,{children:[p,h]})),t[13]=p,t[14]=h,t[15]=y):y=t[15],y}l.default=d}),226);
__d("MWChatPromptFlyout.react",["fbt","FBLogger","FocusRegion.react","I64","LsFalcoEventEntryPoint","MWChatPromptFlyoutBackCard.react","MWChatPromptFlyoutCTAButton.react","MWChatPromptFlyoutDisclaimer.react","MWChatPromptFlyoutErrorMessage.react","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutPromptTypeSelector.react","MWPActor.react","MWPromptCreationUtils","MWXText.react","MessageSendClickFalcoEvent","MessengerWebUXLogger","RollCallPromptType","cometPushToast","gkx","react","react-compiler-runtime","useReStore","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useCallback,_=m.useState,f=26214400;function g(){var e=o("react-compiler-runtime").c(2),t=r("MessengerWebUXLogger").useInteractionLogger(),n;return e[0]!==t?(n=function(){t==null||t("composer_send_prompt"),r("MessageSendClickFalcoEvent").log(h)},e[0]=t,e[1]=n):n=e[1],n}function h(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}function y(t){var n=o("react-compiler-runtime").c(57),a=t.initialFile,i=t.initialText,l=t.onClose,c=t.threadKey,m=t.threadType;r("vulture")("hcXH3bv-MrTvClalLGNa_APGCSQ=");var p=(e||(e=r("useReStore")))(),h=o("MWPActor.react").useActor(),y;n[0]!==h||n[1]!==p||n[2]!==c||n[3]!==m?(y=function(t,n,r){(async function(){var e=r?URL.createObjectURL(r):void 0,a=await o("MWPromptCreationUtils").createAuthoritiativeRollCall(p,c,t,n),i=await o("MWPromptCreationUtils").createOptimisticRollCallMessage(p,h,c,m,a,t,n,e,r==null?void 0:r.type);r&&i!=null&&o("MWPromptCreationUtils").startRollCallMediaUpload(r,a,i,(u||(u=o("I64"))).to_string(c))})().catch(b)},n[0]=h,n[1]=p,n[2]=c,n[3]=m,n[4]=y):y=n[4];var v=y,S;n[5]!==l||n[6]!==v?(S=function(t,n,r){v(t,n,r),l==null||l()},n[5]=l,n[6]=v,n[7]=S):S=n[7];var R=S,L=r("gkx")("7782"),E=_(i!=null?i:""),k=E[0],I=E[1],T=_(i!=null?r("RollCallPromptType").TEXT:r("RollCallPromptType").MEDIA),D=T[0],x=T[1],$;n[8]!==a?($=a!=null?URL.createObjectURL(a):null,n[8]=a,n[9]=$):$=n[9];var P=_($),N=P[0],M=P[1],w=_(a!=null?a:void 0),A=w[0],F=w[1],O=_(!1),B=O[0],W=O[1],q;n[10]===Symbol.for("react.memo_cache_sentinel")?(q=function(t){var e=t[0];e&&(e.size>=f?W(!0):(M(URL.createObjectURL(e)),W(!1),F(e)))},n[10]=q):q=n[10];var U=q,V=g(),H;n[11]!==V||n[12]!==R||n[13]!==k||n[14]!==A||n[15]!==N?(H=function(){V(),A&&N!==null?R(k,r("RollCallPromptType").MEDIA,A):r("FBLogger")("messenger_web_messaging").mustfix("Missing File")},n[11]=V,n[12]=R,n[13]=k,n[14]=A,n[15]=N,n[16]=H):H=n[16];var G=H,z;n[17]!==V||n[18]!==R||n[19]!==D||n[20]!==k||n[21]!==A?(z=function(){V(),R(k,D,D===r("RollCallPromptType").MEDIA?A:void 0)},n[17]=V,n[18]=R,n[19]=D,n[20]=k,n[21]=A,n[22]=z):z=n[22];var j=z,K=C,Q,X;n[23]===Symbol.for("react.memo_cache_sentinel")?(Q={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x13hwc6b xyamay9 xv54qhq x1l90r2v xf7dkkf x1m258z3"},X={className:"xbaz6xv"},n[23]=Q,n[24]=X):(Q=n[23],X=n[24]);var Y,J;n[25]===Symbol.for("react.memo_cache_sentinel")?(J=d.jsx("div",babelHelpers.extends({},X,{children:d.jsx(r("MWXText.react"),{type:"headlineEmphasized4",children:s._(/*BTDS*/"New prompt")})})),Y={className:"x1n2onr6"},n[25]=Y,n[26]=J):(Y=n[25],J=n[26]);var Z;if(n[27]!==D||n[28]!==(A==null?void 0:A.type)||n[29]!==N){var ee,te;Z=D===r("RollCallPromptType").MEDIA?d.jsx(r("MWChatPromptFlyoutBackCard.react"),{isVideo:(ee=A==null||(te=A.type)==null?void 0:te.startsWith("video/"))!=null?ee:!1,previewUrl:N}):null,n[27]=D,n[28]=A==null?void 0:A.type,n[29]=N,n[30]=Z}else Z=n[30];var ne;n[31]===Symbol.for("react.memo_cache_sentinel")?(ne=function(t){I(t.target.value)},n[31]=ne):ne=n[31];var re;n[32]!==k?(re=d.jsx(r("MWChatPromptFlyoutFrontCard.react"),{maxLength:50,onChange:ne,value:k}),n[32]=k,n[33]=re):re=n[33];var oe;n[34]!==Z||n[35]!==re?(oe=d.jsxs("div",babelHelpers.extends({},Y,{children:[Z,re]})),n[34]=Z,n[35]=re,n[36]=oe):oe=n[36];var ae;n[37]!==D?(ae=d.jsx(r("MWChatPromptFlyoutDisclaimer.react"),{promptType:D}),n[37]=D,n[38]=ae):ae=n[38];var ie;n[39]!==B?(ie=B?d.jsx(r("MWChatPromptFlyoutErrorMessage.react"),{}):null,n[39]=B,n[40]=ie):ie=n[40];var le;n[41]!==a||n[42]!==i||n[43]!==D?(le=L&&a===void 0&&i===void 0?d.jsx(r("MWChatPromptFlyoutPromptTypeSelector.react"),{promptType:D,setPromptType:x}):null,n[41]=a,n[42]=i,n[43]=D,n[44]=le):le=n[44];var se;n[45]!==k?(se=k.trim(),n[45]=k,n[46]=se):se=n[46];var ue=se==="",ce=L?j:G,de=D===r("RollCallPromptType").MEDIA&&N===null,me;n[47]!==ue||n[48]!==ce||n[49]!==de?(me=d.jsx(r("MWChatPromptFlyoutCTAButton.react"),{isSendDisabled:ue,onFilesSelected:U,onPressSend:ce,showFileSelector:de}),n[47]=ue,n[48]=ce,n[49]=de,n[50]=me):me=n[50];var pe;return n[51]!==oe||n[52]!==ae||n[53]!==ie||n[54]!==le||n[55]!==me?(pe=d.jsx(o("FocusRegion.react").FocusRegion,{autoFocusQuery:K,children:d.jsxs("div",babelHelpers.extends({},Q,{children:[J,oe,ae,ie,le,me]}))}),n[51]=oe,n[52]=ae,n[53]=ie,n[54]=le,n[55]=me,n[56]=pe):pe=n[56],pe}function C(e){return e==="textarea"}function b(e){r("FBLogger")("messenger_web").catching(e).mustfix("Creating prompt"),o("cometPushToast").cometPushErrorToast({message:s._(/*BTDS*/"Could not create prompt")})}l.default=y}),226);
__d("MWV2ComposerPromptButtonQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24223493300634699"}),null);
__d("MWV2ComposerPromptButtonQuery.graphql",["MWV2ComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("MWV2ComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWV2ComposerPromptButtonQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWXIconRollCall",["MWXSvgIcon","SVGIcon","cr:22469","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22469")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2ComposerPromptButton.react",["fbt","CometRelay","FBLogger","I64","LSMessagingThreadTypeUtil","MWChatPromptFlyout.react","MWDidQueryPromptsNux","MWV2ComposerPromptButtonQuery.graphql","MWXIconForListCell.react","MWXIconRollCall","MWXIconStrict.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=r("requireDeferred")("MWChatPromptDialog.react").__setRef("MWV2ComposerPromptButton.react"),p={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function _(){var t=o("react-compiler-runtime").c(2),r=o("CometRelay").useRelayEnvironment(),a;return t[0]!==r?(a=function(){return o("CometRelay").fetchQuery(r,e!==void 0?e:e=n("MWV2ComposerPromptButtonQuery.graphql"),{}).toPromise()},t[0]=r,t[1]=a):a=t[1],a}var f=s._(/*BTDS*/"Create prompt");function g(e){var t=o("react-compiler-runtime").c(23),n=e.color,a=e.entryPoint,i=e.hidden,l=e.onClose,s=e.pushPage,u=e.threadKey,p=e.threadType;r("vulture")("2mDYRZmQ0Vs6VDf24mEkw8mbnDQ=");var g=_(),C=r("useMWXLazyDialog")(m),b=C[0],v;t[0]!==l||t[1]!==s||t[2]!==g||t[3]!==b||t[4]!==u||t[5]!==p?(v=function(){var e=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(p);e?(r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(c||(c=o("I64"))).to_string(u)}}),l(),b({threadKey:u})):(s(function(){return d.jsx(r("MWChatPromptFlyout.react"),{onClose:l,threadKey:u,threadType:p})}),o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),r("promiseDone")(g(),y)))},t[0]=l,t[1]=s,t[2]=g,t[3]=b,t[4]=u,t[5]=p,t[6]=v):v=t[6];var S=v;if(a==="composer"){var R;t[7]!==n?(R=n!==void 0?o("MWXThreadThemeColor").mwxThreadThemeColor(n):void 0,t[7]=n,t[8]=R):R=t[8];var L;t[9]!==R?(L=d.jsx(r("MWXIconStrict.react"),{color:R,icon:r("MWXIconRollCall"),size:20}),t[9]=R,t[10]=L):L=t[10];var E;return t[11]!==i||t[12]!==S||t[13]!==L?(E=d.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:f,children:d.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":f,onPress:S,overlayRadius:"50%",xstyle:h,children:L})}),t[11]=i,t[12]=S,t[13]=L,t[14]=E):E=t[14],E}var k;t[15]!==n?(k=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[15]=n,t[16]=k):k=t[16];var I;t[17]!==k?(I=d.jsx(r("MWXIconForListCell.react"),{color:k,hasBackground:!1,icon:r("MWXIconRollCall"),size:r("gkx")("23219")?"large":"medium"}),t[17]=k,t[18]=I):I=t[18];var T;t[19]===Symbol.for("react.memo_cache_sentinel")?(T=d.jsx(r("MWXTextPairing.react"),{headline:f,level:4}),t[19]=T):T=t[19];var D;return t[20]!==S||t[21]!==I?(D=d.jsx(r("MWXListCellPressable.react"),{addOnStart:I,addOnStartVerticalAlign:"center",content:T,loggingEvent:"composer_open_create_prompt_flyout",onPress:S,role:"menuitem"}),t[20]=S,t[21]=I,t[22]=D):D=t[22],D}function h(){return[r("gkx")("23219")?p.buttonMDS:p.buttonFDS]}function y(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions)==null||(t=t.nodes)==null||(t=t.find(C))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function C(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=g}),226);
__d("MWCometStickersFlyout.entrypoint",["CometStickerPickerCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(t,n,r,o,a,i,l){"use strict";function e(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var s=r("JSResourceForInteraction")("MWCometStickersFlyout.react").__setRef("MWCometStickersFlyout.entrypoint"),u={getPreloadProps:function(n){var t=babelHelpers.extends({},(e(n),n));return{entryPoints:{stickerPickerCardEntrypointReference:o("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:r("CometStickerPickerCard.entrypoint"),entryPointParams:t})}}},root:s};l.default=u}),98);
__d("MWV2ComposerStickerCommon",["fbt"],(function(t,n,r,o,a,i,l,s){"use strict";var e=s._(/*BTDS*/"Choose a sticker"),u=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK"],c=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","RECENTLY_USED","SEARCH"];function d(e){return e?[].concat(u,["SEARCH"]):c}l.LABEL=e,l.getTabListOverrideForMessengerSticker=d}),226);
__d("useMWV2ComposerOnStickerSelect",["FBLogger","I64","LSShape","nullthrows","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=(s||(s=o("I64"))).of_string("128");function d(e){return o("LSShape").ofRecord({preview_height:c,preview_url:e,preview_width:c})}function m(e,t,n){var a=o("react-compiler-runtime").c(4),i;return a[0]!==n||a[1]!==t||a[2]!==e?(i=function(i,l,u,c){var a,m=(a=l.animated_uri)!=null?a:l.uri,p=(s||(s=o("I64"))).of_string(i);if(!m)throw r("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (isSecure = %s, composer entrypoint = %s)",t.toString(),n);return e(void 0,void 0,{stickerId:p,stickerType:c},void 0,void 0,t?r("nullthrows")(m):void 0,t?void 0:d(m),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,n,void 0,u!=null?u:void 0)},a[0]=n,a[1]=t,a[2]=e,a[3]=i):i=a[3],i}l.default=m}),98);
__d("MWV2ComposerStickerButtonModern.react",["FDSEntryPointPopoverTrigger.react","JSResourceForInteraction","MWChatComposerIcons","MWCometStickersFlyout.entrypoint","MWV2ComposerStickerCommon","MWXPopoverLoadingState.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","promiseDone","react","react-compiler-runtime","useMWV2ComposerOnStickerSelect"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useCallback,c=r("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWV2ComposerStickerButtonModern.react"),d={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},flyoutRoot:{height:"x1hie0zf",maxHeight:"x1n3te05",width:"x1fepime",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(18),n=e.color,a=e.disabled,i=e.hidden,l=e.isSecureThread,u=e.onSendMessage,c=r("useMWV2ComposerOnStickerSelect")(u,l,"MWV2ComposerStickerButtonModern"),m=r("MessengerWebUXLogger").useInteractionLogger(),f;t[0]!==c?(f=function(t,n,r){var e=t.stickerID;c(e,n,r)},t[0]=c,t[1]=f):f=t[1];var g=f,h,y;t[2]===Symbol.for("react.memo_cache_sentinel")?(h={feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},y=s.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),t[2]=h,t[3]=y):(h=t[2],y=t[3]);var C;t[4]!==l?(C=o("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(l),t[4]=l,t[5]=C):C=t[5];var b;t[6]!==g||t[7]!==l||t[8]!==C?(b={isSecureThread:l,onSelect:g,prioritisedTabList:C,stickerHeight:128,stickerWidth:128,xstyle:d.flyoutRoot},t[6]=g,t[7]=l,t[8]=C,t[9]=b):b=t[9];var v;t[10]!==n||t[11]!==a||t[12]!==i||t[13]!==m?(v=function(t,l,u,c,d,_,f){return s.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:o("MWV2ComposerStickerCommon").LABEL,children:s.jsx(r("MWXPressable.react"),{"aria-hidden":i,"aria-label":o("MWV2ComposerStickerCommon").LABEL,disabled:a,onHoverIn:c,onHoverOut:d,onPress:function(){l(),m==null||m({eventName:"composer_open_sticker_picker"})},onPressIn:_,overlayRadius:"50%",ref:t,testid:void 0,xstyle:p,children:s.jsx(o("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:a?void 0:n,size:20})})})},t[10]=n,t[11]=a,t[12]=i,t[13]=m,t[14]=v):v=t[14];var S;return t[15]!==b||t[16]!==v?(S=s.jsx(r("FDSEntryPointPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,entryPointParams:h,fallback:y,onVisibilityChange:_,otherProps:b,popoverEntryPoint:r("MWCometStickersFlyout.entrypoint"),position:"above",children:v}),t[15]=b,t[16]=v,t[17]=S):S=t[17],S}function p(){return[r("gkx")("23219")?d.buttonMDS:d.buttonFDS]}function _(e){e===!0&&r("promiseDone")(c.load().then(f))}function f(e){e()}l.default=m}),98);
__d("MWV2ComposerStickerButton.react",["MWV2ComposerStickerButtonModern.react"],(function(t,n,r,o,a,i,l){"use strict";l.default=r("MWV2ComposerStickerButtonModern.react")}),98);
__d("MWXIconMicrophone",["MWXSvgIcon","SVGIcon","cr:22400","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22400")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2ComposerVoiceClipButton.react",["fbt","MWChatComposerOverflowIcons","MWXIconForListCell.react","MWXIconMicrophone","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},d=s._(/*BTDS*/"Send a voice clip");function m(e){var t=o("react-compiler-runtime").c(17),n=e.color,a=e.disabled,i=e.entryPoint,l=e.hidden,s=e.onPress,c=a===void 0?!1:a;if(i==="composer"){var m;t[0]!==n?(m=u.jsx(o("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsMicrophoneSVG,{fill:n,size:20}),t[0]=n,t[1]=m):m=t[1];var _;return t[2]!==c||t[3]!==l||t[4]!==s||t[5]!==m?(_=u.jsx(r("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d,children:u.jsx(r("MWXPressable.react"),{"aria-hidden":l,"aria-label":d,disabled:c,onPress:s,overlayRadius:"50%",xstyle:p,children:m})}),t[2]=c,t[3]=l,t[4]=s,t[5]=m,t[6]=_):_=t[6],_}var f;t[7]!==n?(f=o("MWXThreadThemeColor").mwxThreadThemeColor(n),t[7]=n,t[8]=f):f=t[8];var g;t[9]!==f?(g=u.jsx(r("MWXIconForListCell.react"),{color:f,hasBackground:!1,icon:r("MWXIconMicrophone"),size:r("gkx")("23219")?"large":"medium"}),t[9]=f,t[10]=g):g=t[10];var h;t[11]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("MWXTextPairing.react"),{headline:d,level:4}),t[11]=h):h=t[11];var y;t[12]!==s?(y=function(){s()},t[12]=s,t[13]=y):y=t[13];var C;return t[14]!==g||t[15]!==y?(C=u.jsx(r("MWXListCellPressable.react"),{addOnStart:g,addOnStartVerticalAlign:"center",content:h,loggingEvent:"composer_record_voice_clip",onPress:y,role:"menuitem"}),t[14]=g,t[15]=y,t[16]=C):C=t[16],C}function p(){return[r("gkx")("23219")?c.buttonMDS:c.buttonFDS]}l.default=m}),226);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){try{var t,n=(t=navigator.mediaDevices)==null?void 0:t.getSupportedConstraints();return n}catch(t){return o("WALogger").LOG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""])),t),null}}l.getMediaDevicesSupportedConstraints=s}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","MWPAudioPlaybackContext.react","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useState,u=r("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),c=n("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function d(e){var t=o("react-compiler-runtime").c(16),n=o("MWPAudioPlaybackContext.react").useMWPClearActiveAudio(),a=s(c.AWAITING),i=a[0],l=a[1],d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"),t[0]=d):d=t[0];var _=r("useMWXLazyDialog")(d),f=_[0],g;if(t[1]===Symbol.for("react.memo_cache_sentinel")){var h;g={channelCount:1};var y=((h=o("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:h.sampleRate)===!0;y&&(g.sampleRate=44100),t[1]=g}else g=t[1];var C;t[2]!==f?(C=function(){return f({contentType:"accessDenied",onAllow:r("emptyFunction")},r("emptyFunction"))},t[2]=f,t[3]=C):C=t[3];var b=C,v;t[4]!==n||t[5]!==b||t[6]!==e?(v=function(){var t;(t=navigator)==null||(t=t.mediaDevices)==null||t.getUserMedia({audio:g,video:!1}).then(function(t){l(c.GRANTED),n(),e.start(t)}).catch(function(e){e.name==="NotAllowedError"?(l(c.DENIED),b()):l(c.FAILED),u.onReady(p)})},t[4]=n,t[5]=b,t[6]=e,t[7]=v):v=t[7];var S=v,R;t[8]!==f||t[9]!==S?(R=function(){return f({contentType:"askForAccess",onAllow:function(){return S()}},r("emptyFunction"))},t[8]=f,t[9]=S,t[10]=R):R=t[10];var L=R,E;return t[11]!==i||t[12]!==b||t[13]!==L||t[14]!==S?(E=function(){var e;switch(i){case c.AWAITING:{var t;e=(t=navigator.permissions)==null?void 0:t.query({name:"microphone"}),e!=null?e.then(function(e){var t=e.state;e:switch(t){case"denied":{l(c.DENIED),b();break e}case"granted":{S();break e}case"prompt":{L();break e}default:L()}}).catch(function(){L()}):(S(),u.onReady(m));return}case c.DENIED:return b();case c.GRANTED:case c.FAILED:return S()}},t[11]=i,t[12]=b,t[13]=L,t[14]=S,t[15]=E):E=t[15],E}function m(e){return e.logMicAccessCheckFailed()}function p(e){return e.logBrowserDenyAccess()}l.default=d}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","LSMessagingThreadTypeUtil","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerPollButton.react","MWV2ComposerPromptButton.react","MWV2ComposerStickerButton.react","MWV2ComposerVoiceClipButton.react","MWXTooltipGroup.react","emptyFunction","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u="var(--chat-composer-button-color)";function c(e){var t=o("react-compiler-runtime").c(74),n=e.canSendAudioClipFinal,a=e.canSendFileFinal,i=e.canSendGifFinal,l=e.canSendRollcall,c=e.canSendSticker,d=e.composerLinkPreview,m=e.getMaxAttachmentSizeInMBFunc,p=e.gifButtonPosition,_=e.isInputExpanded,f=e.isRTL,g=e.isSecureThread,h=e.localTimezoneInformation,y=e.onAttachmentsAdded,C=e.onSendMessage,b=e.shouldUseMDS,v=e.stickerButtonPosition,S=e.supportedFileTypes,R=e.threadKey,L=e.threadType,E=e.voiceRecorder,k=r("useMWEntrypoint")(),I=r("useMWFalcoFeatureEventLogger")(R,L),T;t[0]!==k||t[1]!==I?(T=function(t,n){var e="select_sticker_book";t?e="sticker_search":n&&(e="recent_stickers"),I(k,e)},t[0]=k,t[1]=I,t[2]=T):T=t[2];var D=T,x=r("useMWV2ComposerOnPressVoiceClip")(E),$;t[3]!==L?($=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(L),t[3]=L,t[4]=$):$=t[4];var P=$,N;t[5]!==f?(N=f?{right:"0px"}:{left:"0px"},t[5]=f,t[6]=N):N=t[6];var M=N,w;t[7]!==f||t[8]!==v?(w=f?{right:v.toString()+"px"}:{left:v.toString()+"px"},t[7]=f,t[8]=v,t[9]=w):w=t[9];var A=w,F;t[10]!==p||t[11]!==f?(F=f?{right:p.toString()+"px"}:{left:p.toString()+"px"},t[10]=p,t[11]=f,t[12]=F):F=t[12];var O=F,B=P&&l&&r("gkx")("18099"),W;t[13]!==_||t[14]!==b?(W={0:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x1th4bbo",4:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x1th4bbo",2:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x1th4bbo",6:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x1th4bbo",1:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x1th4bbo",5:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x1th4bbo",3:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x1th4bbo",7:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x1th4bbo"}[!!b<<2|!!_<<1|!!_<<0],t[13]=_,t[14]=b,t[15]=W):W=t[15];var q=!a,U;t[16]!==m||t[17]!==_||t[18]!==g||t[19]!==y||t[20]!==S||t[21]!==q||t[22]!==R?(U=s.jsx(r("MWV2ComposerFileButton.react"),{disabled:q,getMaxAttachmentSizeInMBFunc:m,hidden:_,isSecureThread:g,onAttachmentsAdded:y,supportedFileTypes:S,threadKey:R}),t[16]=m,t[17]=_,t[18]=g,t[19]=y,t[20]=S,t[21]=q,t[22]=R,t[23]=U):U=t[23];var V;t[24]!==M||t[25]!==W||t[26]!==U?(V=s.jsx("div",{className:W,style:M,children:U}),t[24]=M,t[25]=W,t[26]=U,t[27]=V):V=t[27];var H;t[28]!==_||t[29]!==b?(H={0:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x5h36tt",4:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x5h36tt",2:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x5h36tt",6:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x5h36tt",1:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x5zdck6",5:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x5zdck6",3:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x5zdck6",7:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x5zdck6"}[!!b<<2|!!_<<1|!!_<<0],t[28]=_,t[29]=b,t[30]=H):H=t[30];var G;t[31]!==c||t[32]!==P||t[33]!==_||t[34]!==g||t[35]!==D||t[36]!==C||t[37]!==R||t[38]!==L?(G=P?s.jsx(r("MWV2ComposerPollButton.react"),{color:u,entryPoint:"composer",hidden:_,onClose:r("emptyFunction"),threadKey:R,threadType:L}):s.jsx(r("MWV2ComposerStickerButton.react"),{color:u,disabled:!c,hidden:_,isSecureThread:g,onSelectStickerPack:D,onSendMessage:C}),t[31]=c,t[32]=P,t[33]=_,t[34]=g,t[35]=D,t[36]=C,t[37]=R,t[38]=L,t[39]=G):G=t[39];var z;t[40]!==A||t[41]!==H||t[42]!==G?(z=s.jsx("div",{className:H,style:A,children:G}),t[40]=A,t[41]=H,t[42]=G,t[43]=z):z=t[43];var j;t[44]!==_||t[45]!==b?(j={0:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x5w5eug",4:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x5w5eug",2:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x5w5eug",6:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x5w5eug",1:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x3oybdh x1g2r6go x11xpdln x1ahifba",5:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x3oybdh x1g2r6go x11xpdln x1ahifba",3:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm x12nagc x2fvf9 x1f85oc2 x1g2r6go x11xpdln x1ahifba",7:"x6s0dn4 x1ey2m1c x78zum5 xl56j7k x10l6tqk x1vjfegm xat24cr x1f85oc2 x1g2r6go x11xpdln x1ahifba"}[!!b<<2|!!_<<1|!!_<<0],t[44]=_,t[45]=b,t[46]=j):j=t[46];var K;t[47]!==B||t[48]!==n||t[49]!==i||t[50]!==P||t[51]!==_||t[52]!==g||t[53]!==x||t[54]!==C||t[55]!==R||t[56]!==L?(K=P?B?s.jsx(r("MWV2ComposerPromptButton.react"),{color:u,entryPoint:"composer",hidden:_,onClose:r("emptyFunction"),pushPage:r("emptyFunction"),threadKey:R,threadType:L}):s.jsx(r("MWV2ComposerVoiceClipButton.react"),{color:u,disabled:!n,entryPoint:"composer",hidden:_,onPress:x}):s.jsx(r("MWV2ComposerGifButton.react"),{disabled:!i,hidden:_,isSecureThread:g,onSendMessage:C}),t[47]=B,t[48]=n,t[49]=i,t[50]=P,t[51]=_,t[52]=g,t[53]=x,t[54]=C,t[55]=R,t[56]=L,t[57]=K):K=t[57];var Q;t[58]!==j||t[59]!==K||t[60]!==O?(Q=s.jsx("div",{className:j,style:O,children:K}),t[58]=j,t[59]=K,t[60]=O,t[61]=Q):Q=t[61];var X;t[62]!==z||t[63]!==Q||t[64]!==V?(X=s.jsxs(r("MWXTooltipGroup.react"),{children:[V,z,Q]}),t[62]=z,t[63]=Q,t[64]=V,t[65]=X):X=t[65];var Y;t[66]!==h?(Y=h!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.LocalTimezoneInformation",children:h}):null,t[66]=h,t[67]=Y):Y=t[67];var J;t[68]!==d?(J=d!=null?s.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.ComposerLinkPreview",children:d}):null,t[68]=d,t[69]=J):J=t[69];var Z;return t[70]!==X||t[71]!==Y||t[72]!==J?(Z=s.jsxs(s.Fragment,{children:[X,Y,J]}),t[70]=X,t[71]=Y,t[72]=J,t[73]=Z):Z=t[73],Z}l.default=c}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useState,p=r("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),_={plusButtonFDS:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},plusButtonMDS:{marginInlineStart:"x13fj5qh",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function f(e){var t=o("react-compiler-runtime").c(40),n=e.canSendAudioClip,a=e.canSendFile,i=e.canSendPayment,l=e.editor,c=e.hasAudioClipsCapability,d=e.hasGIFCapability,_=e.hasPaymentCapability,f=e.hasPollCreationCapability,y=e.hasRollcallCapability,C=e.hasStickerCapability,b=e.isInputExpanded,v=e.onAttachmentsAdded,S=e.onSendMessage,R=e.renderExtraOverflowMenuItems,L=e.supportedFileTypes,E=e.threadKey,k=e.threadType,I=e.voiceRecorder,T=r("emptyFunction"),D=m(!1),x=D[0],$=D[1],P;t[0]===Symbol.for("react.memo_cache_sentinel")?(P=function(t){return $(t)},t[0]=P):P=t[0];var N=P,M;t[1]!==k?(M=o("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(k),t[1]=k,t[2]=M):M=t[2];var w=M,A=_&&!r("gkx")("24133")&&i,F;t[3]!==f||t[4]!==w||t[5]!==b?(F=f&&(!w||r("gkx")("23422")||o("MWPActor.react").isPromode())&&(!w||b),t[3]=f,t[4]=w,t[5]=b,t[6]=F):F=t[6];var O=F,B=y&&(!w||b),W=c&&n&&(!w||b),q=d&&(b||w),U=a&&b,V=w||C&&b,H=r("gkx")("23423"),G=r("gkx")("23159"),z=r("gkx")("6257"),j;if(R!=null){var K;t[7]!==v||t[8]!==R?(K=R("var(--chat-composer-button-color)",r("emptyFunction"),v),t[7]=v,t[8]=R,t[9]=K):K=t[9],j=K}else{var Q;t[10]===Symbol.for("react.memo_cache_sentinel")?(Q=[],t[10]=Q):Q=t[10],j=Q}var X=j,Y=r("useMWV2ComposerOnPressVoiceClip")(I),J=I.state.stage!=="Unopen",Z;t[11]!==x||t[12]!==J?(Z=J?s._(/*BTDS*/"Close voice recorder"):x?s._(/*BTDS*/"Close more actions"):s._(/*BTDS*/"Open more actions"),t[11]=x,t[12]=J,t[13]=Z):Z=t[13];var ee=Z,te=r("MessengerWebUXLogger").useInteractionLogger(),ne=A||O||W||q||U||V||H||G||B||z||X.length>0,re=!ne,oe;t[14]!==l||t[15]!==X||t[16]!==v||t[17]!==Y||t[18]!==S||t[19]!==O||t[20]!==B||t[21]!==U||t[22]!==q||t[23]!==A||t[24]!==W||t[25]!==V||t[26]!==L||t[27]!==E?(oe={color:"var(--chat-composer-button-color)",editor:l,extraItems:X,onAttachmentsAdded:v,onClose:r("emptyFunction"),onPressVoiceClip:Y,onSendMessage:S,showChatLens:z,showCreatePoll:O,showCreatePrompt:B,showFile:U,showGenAICreate:H,showGenAICreateVideo:G,showGif:q,showPayment:A,showSendVoiceClip:W,showSticker:V,supportedFileTypes:L,threadKey:E},t[14]=l,t[15]=X,t[16]=v,t[17]=Y,t[18]=S,t[19]=O,t[20]=B,t[21]=U,t[22]=q,t[23]=A,t[24]=W,t[25]=V,t[26]=L,t[27]=E,t[28]=oe):oe=t[28];var ae;t[29]===Symbol.for("react.memo_cache_sentinel")?(ae=r("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),t[29]=ae):ae=t[29];var ie;t[30]!==re||t[31]!==J||t[32]!==ee||t[33]!==te||t[34]!==k||t[35]!==I?(ie=function(t,n,a,i,l,s){return u.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:ee,children:u.jsx(r("MWXPressable.react"),{"aria-label":ee,disabled:re,onHoverIn:i,onHoverOut:l,onPress:function(){if(J){I.reset(),p.onReady(h),te==null||te({eventName:"composer_close_audio_recorder"});return}else te==null||te({eventName:"composer_open_overflow_menu",threadType:k}),n()},onPressIn:s,overlayDisabled:re,overlayRadius:"50%",ref:t,testid:void 0,xstyle:g,children:u.jsx(o("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:re?void 0:"var(--chat-composer-button-color)",isRotated:J,size:20})})})},t[30]=re,t[31]=J,t[32]=ee,t[33]=te,t[34]=k,t[35]=I,t[36]=ie):ie=t[36];var le;return t[37]!==oe||t[38]!==ie?(le=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:N,popoverProps:oe,popoverResource:ae,position:"above",preloadTrigger:"button",children:ie}),t[37]=oe,t[38]=ie,t[39]=le):le=t[39],le}function g(){return[r("gkx")("23219")?_.plusButtonMDS:_.plusButtonFDS]}function h(e){return e.logDeleteRecording()}l.default=f}),226);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t,n=(t=o("MWLSThread").useThread(e,s))!=null?t:!1;return n}function s(e){return o("LSThreadBitOffset").has(36,e)}l.default=e}),98);
__d("MWReQLComposerPlusButton.react",["LSThreadBitOffset","MWV2ComposerPlusButton.react","react","react-compiler-runtime","useMWHasPollsCreationEnabled"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(32),n=e.canSendAudioClip,a=e.canSendFile,i=e.canSendPayment,l=e.editor,u=e.isInputExpanded,c=e.onAttachmentsAdded,d=e.onSendMessage,m=e.renderExtraOverflowMenuItems,p=e.supportedFileTypes,_=e.thread,f=e.voiceRecorder,g=r("useMWHasPollsCreationEnabled")(_.threadKey),h;t[0]!==_?(h=o("LSThreadBitOffset").has(14,_),t[0]=_,t[1]=h):h=t[1];var y;t[2]!==_?(y=o("LSThreadBitOffset").has(4,_),t[2]=_,t[3]=y):y=t[3];var C;t[4]!==_?(C=o("LSThreadBitOffset").has(0,_),t[4]=_,t[5]=C):C=t[5];var b;t[6]!==_?(b=o("LSThreadBitOffset").has(152,_),t[6]=_,t[7]=b):b=t[7];var v;t[8]!==_?(v=o("LSThreadBitOffset").has(3,_),t[8]=_,t[9]=v):v=t[9];var S;t[10]!==g||t[11]!==h||t[12]!==y||t[13]!==C||t[14]!==b||t[15]!==v?(S={hasAudioClipsCapability:h,hasGIFCapability:y,hasPaymentCapability:C,hasPollCreationCapability:g,hasRollcallCapability:b,hasStickerCapability:v},t[10]=g,t[11]=h,t[12]=y,t[13]=C,t[14]=b,t[15]=v,t[16]=S):S=t[16];var R=S,L;return t[17]!==n||t[18]!==a||t[19]!==i||t[20]!==R||t[21]!==l||t[22]!==g||t[23]!==u||t[24]!==c||t[25]!==d||t[26]!==m||t[27]!==p||t[28]!==_.threadKey||t[29]!==_.threadType||t[30]!==f?(L=s.jsx(r("MWV2ComposerPlusButton.react"),babelHelpers.extends({canSendAudioClip:n,canSendFile:a,canSendPayment:i,editor:l,hasPollCreationCapability:g,isInputExpanded:u,onAttachmentsAdded:c,onSendMessage:d,renderExtraOverflowMenuItems:m,supportedFileTypes:p,threadKey:_.threadKey,threadType:_.threadType,voiceRecorder:f},R)),t[17]=n,t[18]=a,t[19]=i,t[20]=R,t[21]=l,t[22]=g,t[23]=u,t[24]=c,t[25]=d,t[26]=m,t[27]=p,t[28]=_.threadKey,t[29]=_.threadType,t[30]=f,t[31]=L):L=t[31],L}l.default=u}),98);
__d("MWXComposerButtonGroupMenu.react",["MWXComposerButtonGroupContext.react","MWXMenu.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["children"],s,u=s||(s=o("react")),c=s.useMemo;function d(t){var n=o("react-compiler-runtime").c(7),a,i;n[0]!==t?(a=t.children,i=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i):(a=n[1],i=n[2]);var l;n[3]===Symbol.for("react.memo_cache_sentinel")?(l={isMenu:!0},n[3]=l):l=n[3];var s;return n[4]!==a||n[5]!==i?(s=u.jsx(r("MWXComposerButtonGroupContext.react").Provider,{value:l,children:u.jsx(r("MWXMenu.react"),babelHelpers.extends({},i,{withArrow:!0,children:a}))}),n[4]=a,n[5]=i,n[6]=s):s=n[6],s}l.default=d}),98);
__d("MWXComposerButtonGroup.react",["fbt","BasePopoverTrigger.react","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","MWXComposerButtonContext.react","MWXComposerButtonGroupButton.react","MWXComposerButtonGroupContext.react","MWXComposerButtonGroupMenu.react","MWXComposerIconButton.react","MWXIconPlusCircle","react","react-compiler-runtime","useStyleXTransition"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useRef,p=2.3,_=250;function f(e,t){var n=Math.max(Math.abs(e-t)+2*(p-1),1);return Math.floor(_/n)}function g(e,t,n,r){var o=e?t-r-1:r-t,a=f(t,n)*(o+(o>0?p-1:0))+"ms",i="linear",l=f(t,n);return o===0?(i="ease-in",l*=p):o===Math.abs(t-n)-1&&(i="ease-out",l*=p),{transitionDelay:a,transitionDuration:l+"ms",transitionProperty:"width, transform, margin",transitionTimingFunction:i}}var h={base:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",overflowX:"x1plvlek",overflowY:"xryxfnj",transform:"x1oh8ob4",transformOrigin:"x1g0ag68",transitionTimingFunction:"xcj1dhv",width:"xnalus7",$$css:!0},enter:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",transform:"x2xth8r",width:"x14qfxbe",$$css:!0},leave:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",transform:"x1oh8ob4",width:"xnalus7",$$css:!0}};function y(e){var t=e.children,n=e.maxCount,o=e.paddingHorizontal,a=e.testid,i=m(n),l=u.Children.toArray(t),c=l.length>n?l.slice(0,l.length-n+1):null,p=d(function(){return{paddingHorizontal:o}},[o]),f=u.jsx(r("BasePopoverTrigger.react"),{align:"start",popover:r("MWXComposerButtonGroupMenu.react"),popoverProps:{"aria-label":s._(/*BTDS*/"More actions menu"),children:c,testid:"mwx-composer-button-group-menu"},popoverType:"menu",position:"above",children:function(t,n,o,a,i,l,c,d){return u.jsx(r("MWXComposerIconButton.react"),{icon:r("MWXIconPlusCircle"),isShown:d,label:d?s._(/*BTDS*/"Close more actions"):s._(/*BTDS*/"Open more actions"),onPress:n,ref:t,testid:void 0,wrapperXStyle:h.enter},"Overflow")}}),y=c!=null?[f].concat(l.slice(l.length-n+1)):l,b=r("useStyleXTransition")(y,function(e){var t;return e===l[0]||e===f?"Overflow":(t=r("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(e).key)!=null?t:0},{base:h.base,duration:_,enter:h.enter,leave:h.leave,onEnterComplete:function(){i.current=n},onLeaveComplete:function(){i.current=n}}),v=b.map(function(e,t){return u.jsx(C,{isMenu:!1,style:babelHelpers.extends({},e.style,g(e.status==="leaving",i.current,n,t)),xstyle:e.xstyle,children:e.item},e.key)});return u.jsx(r("MWXComposerButtonContext.react").Provider,{value:p,children:v})}y.displayName=y.name+" [from "+i.id+"]";function C(e){var t=o("react-compiler-runtime").c(7),n=e.children,a=e.isMenu,i=e.style,l=e.xstyle,s;t[0]!==a||t[1]!==i||t[2]!==l?(s={isMenu:a,styleForButton:i,xstyleForButton:l},t[0]=a,t[1]=i,t[2]=l,t[3]=s):s=t[3];var c=s,d;return t[4]!==n||t[5]!==c?(d=u.jsx(r("MWXComposerButtonGroupContext.react").Provider,{value:c,children:n}),t[4]=n,t[5]=c,t[6]=d):d=t[6],d}l.MWXComposerButtonGroup=y,l.Button=r("MWXComposerButtonGroupButton.react")}),226);
__d("MWXComposerAddFileButton.react",["fbt","BaseFileSelector.react","BaseMenuContext","MWMediaManagerFileSizeLimit","MWXComposerButtonGroup.react","MWXIconPhoto","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(13),n=e.disabled,a=e.isSecureThread,i=e.onAttachmentsAdded,l=e.supportedFileTypes,d=r("useMWV2ComposerOnFilesSelected")(i),m=c(r("BaseMenuContext")),p=r("MessengerWebUXLogger").useInteractionLogger(),_;t[0]!==a?(_=s._(/*BTDS*/"Attach a file up to {fileSizeLimit} MB",[s._param("fileSizeLimit",String(o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(a)))]),t[0]=a,t[1]=_):_=t[1];var f=_,g;t[2]!==m||t[3]!==d?(g=function(t){d(t),m==null||m.onClose()},t[2]=m,t[3]=d,t[4]=g):g=t[4];var h;t[5]!==n||t[6]!==f||t[7]!==p?(h=function(t){return u.jsx(o("MWXComposerButtonGroup.react").Button,{disabled:n,icon:r("MWXIconPhoto"),label:f,onPress:function(){t(),p==null||p({eventName:"composer_open_file_picker"})},preventClosingMenuOnSelect:!0,testid:void 0})},t[5]=n,t[6]=f,t[7]=p,t[8]=h):h=t[8];var y;return t[9]!==l||t[10]!==g||t[11]!==h?(y=u.jsx(r("BaseFileSelector.react"),{accept:l,multiple:!0,onFilesSelected:g,children:h}),t[9]=l,t[10]=g,t[11]=h,t[12]=y):y=t[12],y}l.default=d}),226);
__d("MWXIconGif",["MWXSvgIcon","SVGIcon","cr:22351","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22351")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerGifButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXComposerButtonGroupPopoverButton.react","MWXIconGif","MWXPopoverLoadingState.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={gifLoadingState:{minHeight:"x1qq0ucp",minWidth:"xd1z115",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(14),n=e.disabled,a=e.onSendMessage,i=e.thread,l;t[0]!==i.threadType?(l=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),t[0]=i.threadType,t[1]=l):l=t[1];var d=l,m=r("MessengerWebUXLogger").useInteractionLogger(),p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"Choose a GIF"),t[2]=p):p=t[2];var _;t[3]!==m?(_=function(){m==null||m({eventName:"composer_open_gif_picker"})},t[3]=m,t[4]=_):_=t[4];var f,g;t[5]===Symbol.for("react.memo_cache_sentinel")?(f=r("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWXComposerGifButton.react"),g={fallback:u.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:c.gifLoadingState})},t[5]=f,t[6]=g):(f=t[5],g=t[6]);var h=r("useMWV2ComposerOnGifSelect")(a,"MWXComposerGifButton"),y;t[7]!==d||t[8]!==h?(y={isSecureThread:d,onSelect:h},t[7]=d,t[8]=h,t[9]=y):y=t[9];var C;return t[10]!==n||t[11]!==_||t[12]!==y?(C=u.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{disabled:n,icon:r("MWXIconGif"),label:p,onPress:_,popover:f,popoverPresentationProps:g,popoverProps:y}),t[10]=n,t[11]=_,t[12]=y,t[13]=C):C=t[13],C}l.default=d}),226);
__d("MWXComposerPollButton.react",["fbt","JSResourceForInteraction","LsFalcoEventEntryPoint","MWGroupPollQPL","MWXComposerButtonGroupPopoverButton.react","MWXIconPoll","MessageSendClickFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(19),n=e.thread,a=n.threadKey,i=n.threadType,l=r("MessengerWebUXLogger").useInteractionLogger(),c=r("useMWGroupStartNewPollLogger")(a),m=r("useMWGroupSubmitNewPollLogger")(a),p=r("useMWGroupNewPollSubmitErrorLogger")(a),_=r("useMWCreatePoll")(),f;t[0]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Create a poll"),t[0]=f):f=t[0];var g;t[1]!==l||t[2]!==c||t[3]!==n.threadKey||t[4]!==n.threadType||t[5]!==i?(g=function(){l==null||l({eventName:"composer_open_create_poll_flyout",threadKey:n.threadKey,threadType:n.threadType}),o("MWGroupPollQPL").logCreatePollStart(i),r("promiseDone")(c(4))},t[1]=l,t[2]=c,t[3]=n.threadKey,t[4]=n.threadType,t[5]=i,t[6]=g):g=t[6];var h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=r("JSResourceForInteraction")("MWChatPollFlyout.react").__setRef("MWXComposerPollButton.react"),t[7]=h):h=t[7];var y;t[8]!==_||t[9]!==p||t[10]!==m||t[11]!==a?(y=function(t,n){_(a,t,n,r("emptyFunction"),function(e){o("MWGroupPollQPL").logCreatePollFail(),r("promiseDone")(p(4,e))}),r("promiseDone")(m(4,n.length)),r("MessageSendClickFalcoEvent").log(d)},t[8]=_,t[9]=p,t[10]=m,t[11]=a,t[12]=y):y=t[12];var C;t[13]!==y||t[14]!==a?(C={onPollCreate:y,threadKey:a,withPopover:!1},t[13]=y,t[14]=a,t[15]=C):C=t[15];var b;return t[16]!==g||t[17]!==C?(b=u.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconPoll"),label:f,onPress:g,popover:h,popoverProps:C,testid:void 0}),t[16]=g,t[17]=C,t[18]=b):b=t[18],b}function d(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").composer}}}l.default=c}),226);
__d("MWXComposerPromptButtonQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24235005759488308"}),null);
__d("MWXComposerPromptButtonQuery.graphql",["MWXComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],t={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:e,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:n("MWXComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWXComposerPromptButtonQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWXComposerPromptButton.react",["fbt","BaseMenuContext","CometRelay","FBLogger","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWDidQueryPromptsNux","MWXComposerButtonGroup.react","MWXComposerButtonGroupPopoverButton.react","MWXComposerPromptButtonQuery.graphql","MWXIconRollCall","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u.useContext,p=r("requireDeferred")("MWChatPromptDialog.react").__setRef("MWXComposerPromptButton.react");function _(){var t=o("react-compiler-runtime").c(2),r=o("CometRelay").useRelayEnvironment(),a;return t[0]!==r?(a=function(){return o("CometRelay").fetchQuery(r,e!==void 0?e:e=n("MWXComposerPromptButtonQuery.graphql"),{}).toPromise()},t[0]=r,t[1]=a):a=t[1],a}function f(e){var t=o("react-compiler-runtime").c(16),n=e.thread,a=n.threadKey,i=n.threadType,l=r("MessengerWebUXLogger").useInteractionLogger(),u=_(),f=r("useMWXLazyDialog")(p),h=f[0],y=m(r("BaseMenuContext")),C;t[0]!==i?(C=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(i),t[0]=i,t[1]=C):C=t[1];var b=C,v;t[2]!==b||t[3]!==l||t[4]!==y||t[5]!==u||t[6]!==h||t[7]!==n.threadKey||t[8]!==n.threadType||t[9]!==a?(v=function(){l==null||l({eventName:"composer_open_create_prompt_flyout",threadKey:n.threadKey,threadType:n.threadType}),b?(r("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(c||(c=o("I64"))).to_string(a)}}),h({threadKey:a}),y==null||y.onClose()):o("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(o("MWDidQueryPromptsNux").markDidQueryPromptsNux(),r("promiseDone")(u(),g))},t[2]=b,t[3]=l,t[4]=y,t[5]=u,t[6]=h,t[7]=n.threadKey,t[8]=n.threadType,t[9]=a,t[10]=v):v=t[10];var S=v,R;return t[11]!==b||t[12]!==S||t[13]!==a||t[14]!==i?(R=b?d.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconRollCall"),label:s._(/*BTDS*/"Create prompt"),onPress:S}):d.jsx(r("MWXComposerButtonGroupPopoverButton.react"),{icon:r("MWXIconRollCall"),label:s._(/*BTDS*/"Create prompt"),onPress:S,popover:r("JSResourceForInteraction")("MWChatPromptFlyout.react").__setRef("MWXComposerPromptButton.react"),popoverProps:{onClose:r("emptyFunction"),threadKey:a,threadType:i}}),t[11]=b,t[12]=S,t[13]=a,t[14]=i,t[15]=R):R=t[15],R}function g(e){var t,n=e==null||(t=e.viewer)==null||(t=t.eligible_promotions.nodes)==null||(t=t.find(h))==null||(t=t.comet_qp_sections)==null?void 0:t.renderer_strategy;n&&r("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function h(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=f}),226);
__d("withMWXEntrypointPopover",["BaseEntryPointPopoverContainer.react","BaseMenuContext","BaseMultiPageEntryPointImpl.react","BaseMultiPageViewContext","BasePopoverTrigger.react","FBLogger","MWXPopover.react","MWXPopoverLoadingState.react","emptyFunction","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider","usePageEntryPointPrerenderer"],(function(t,n,r,o,a,i,l){"use strict";var e=["entrypoint","entryPointParams","entrypointProps","onHoverIn","onHoverOut","onPressIn","popoverPresentationProps"],s=["align","position"],u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo;function _(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=c.jsx(r("MWXPopover.react"),{withArrow:!0,children:c.jsx(r("BaseEntryPointPopoverContainer.react"),babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}function f(t){function n(n){var a=o("react-compiler-runtime").c(48),i,l,u,d,p,f,g,h;a[0]!==n?(l=n.entrypoint,i=n.entryPointParams,u=n.entrypointProps,d=n.onHoverIn,p=n.onHoverOut,f=n.onPressIn,g=n.popoverPresentationProps,h=babelHelpers.objectWithoutPropertiesLoose(n,e),a[0]=n,a[1]=i,a[2]=l,a[3]=u,a[4]=d,a[5]=p,a[6]=f,a[7]=g,a[8]=h):(i=a[1],l=a[2],u=a[3],d=a[4],p=a[5],f=a[6],g=a[7],h=a[8]);var y=m(r("BaseMenuContext")),C;a[9]!==y?(C=y!=null?y:{onClose:r("emptyFunction")},a[9]=y,a[10]=C):C=a[10];var b=C,v=b.onClose,S=m(r("BaseMultiPageViewContext")),R;a[11]!==l.root?(R=r("tracePolicyFromResource")("comet.popover",l.root),a[11]=l.root,a[12]=R):R=a[12];var L=r("useCometPopoverInteractionTracing")(R,"entrypoint"),E=r("usePageEntryPointPrerenderer")(l,i,"button"),k=E[0],I=E[1],T=E[2],D=r("useCometRelayEntrypointContextualEnvironmentProvider")(),x;a[13]!==g?(x=g!=null?g:{},a[13]=g,a[14]=x):x=a[14];var $,P,N;if(a[15]!==x){var M=x;P=M.align,N=M.position,$=babelHelpers.objectWithoutPropertiesLoose(M,s),a[15]=x,a[16]=$,a[17]=P,a[18]=N}else $=a[16],P=a[17],N=a[18];var w=P===void 0?"middle":P,A=N===void 0?"above":N,F;a[19]!==k?(F=function(){return k(r("emptyFunction"))},a[19]=k,a[20]=F):F=a[20];var O;a[21]!==i||a[22]!==u||a[23]!==T||a[24]!==F?(O={entryPointParams:i,entryPointReference:T,load:F,otherProps:u},a[21]=i,a[22]=u,a[23]=T,a[24]=F,a[25]=O):O=a[25];var B=O,W;a[26]===Symbol.for("react.memo_cache_sentinel")?(W=c.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0}),a[26]=W):W=a[26];var q;a[27]!==i||a[28]!==l||a[29]!==u||a[30]!==D||a[31]!==k||a[32]!==y||a[33]!==v||a[34]!==d||a[35]!==p||a[36]!==f||a[37]!==S||a[38]!==I||a[39]!==h?(q=function(n,o,a){return c.jsx(t,babelHelpers.extends({onHoverIn:function(t){I.onHoverIn(t),d==null||d(t)},onHoverOut:function(t){I.onHoverOut(),p==null||p(t)}},h,{onPress:function(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];var s=n;S!=null&&y!=null?k(function(e){if(e==null)throw r("FBLogger")("messenger_web").mustfixThrow("Expected preloaded entrypoint");S.pushPage(function(){return c.jsx(r("BaseMultiPageEntryPointImpl.react"),{entryPoint:l,environmentProvider:D,fallback:S.fallback,loadedEntryPoint:e,otherProps:babelHelpers.extends({},u,{onClose:v}),placeholderComponent:S.placeholderComponent,preloadParams:i})})}):o(),h.onPress==null||(e=h).onPress.apply(e,s)},onPressIn:function(t){f==null||f(t),I.onPressIn(t)},preventClosingMenuOnSelect:!0,ref:n}))},a[27]=i,a[28]=l,a[29]=u,a[30]=D,a[31]=k,a[32]=y,a[33]=v,a[34]=d,a[35]=p,a[36]=f,a[37]=S,a[38]=I,a[39]=h,a[40]=q):q=a[40];var U;return a[41]!==w||a[42]!==$||a[43]!==B||a[44]!==A||a[45]!==q||a[46]!==L?(U=c.jsx(r("BasePopoverTrigger.react"),babelHelpers.extends({align:w,fallback:W,position:A},$,{interactionTracker:L,popover:_,popoverProps:B,children:q})),a[41]=w,a[42]=$,a[43]=B,a[44]=A,a[45]=q,a[46]=L,a[47]=U):U=a[47],U}return n}l.default=f}),98);
__d("MWXComposerButtonGroupPopoverEntrypointButton.react",["MWXComposerButtonGroupButton.react","react","withMWXEntrypointPopover"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("withMWXEntrypointPopover")(r("MWXComposerButtonGroupButton.react"));l.default=u}),98);
__d("MWXIconStickersFace",["MWXSvgIcon","SVGIcon","cr:22501","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22501")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerStickerButton.react",["fbt","CometStickerPickerCard.entrypoint","JSResourceForInteraction","MWV2ComposerStickerCommon","MWXComposerButtonGroupPopoverEntrypointButton.react","MWXIconStickersFace","MWXPopoverLoadingState.react","MessengerWebUXLogger","promiseDone","react","useMWV2ComposerOnStickerSelect"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=352,m=278,p={flyoutRoot:{height:"x1hie0zf",width:"x1fepime",$$css:!0},loading:{minHeight:"x1qq0ucp",minWidth:"x13t3uem",$$css:!0}},_=r("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWXComposerStickerButton.react");function f(e){var t=e.disabled,n=e.onSendMessage,a=e.useSecureSend,i=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger(),l=r("useMWV2ComposerOnStickerSelect")(n,a,"MWXComposerStickerButton"),d=c(function(e,t,n,r){var o=e.stickerID;l(o,t,n,r)},[l]);return u.jsx(r("MWXComposerButtonGroupPopoverEntrypointButton.react"),{disabled:t,entryPointParams:{feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},entrypoint:r("CometStickerPickerCard.entrypoint"),entrypointProps:{isMessengerStickerPopover:!0,isSecureThread:a,onSelect:d,prioritisedTabList:o("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(a),stickerHeight:128,stickerWidth:128,xstyle:p.flyoutRoot},icon:r("MWXIconStickersFace"),label:s._(/*BTDS*/"Choose a sticker"),onPress:function(){i==null||i({eventName:"composer_open_sticker_picker"})},popoverPresentationProps:{fallback:u.jsx(r("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:p.loading}),onVisibilityChange:function(t){t===!0&&r("promiseDone")(_.load().then(function(e){e()}))}},testid:void 0})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),226);
__d("MWXComposerVoiceClipButton.react",["fbt","MWXComposerButtonGroup.react","MWXIconMicrophone","MessengerWebUXLogger","react"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=e.onPress,n=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger();return u.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconMicrophone"),label:s._(/*BTDS*/"Send a voice clip"),onPress:function(){t(),n==null||n({eventName:"composer_record_voice_clip"})},testid:void 0})}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),226);
__d("MWXHasContentToSend",["MWV2ComposerHasContentContext.react","react","react-compiler-runtime","useMWXLexicalHasText"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(e){var t=o("react-compiler-runtime").c(6),n=e.editor,r=e.hasNonTextContentToSend,a;t[0]!==n?(a={editor:n},t[0]=n,t[1]=a):a=t[1];var i=o("useMWXLexicalHasText").useMWXLexicalHasText(a),l=i||r,u=o("MWV2ComposerHasContentContext.react").useComposerHasContext(),c=u.hasContentRef,d,m;return t[2]!==c||t[3]!==l?(d=function(){c!=null&&(c.current=l)},m=[c,l],t[2]=c,t[3]=l,t[4]=d,t[5]=m):(d=t[4],m=t[5]),s(d,m),l}l.useMWXComposerHasContentToSend=u}),98);
__d("MWXIconCrossCircle",["MWXSvgIcon","SVGIcon","cr:22287","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22287")),r("gkx")("23219"));l.default=e}),98);
__d("MWXComposerStartButtonsGroup.react",["fbt","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSupportedFileTypes","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWXComposerAddFileButton.react","MWXComposerButtonGroup.react","MWXComposerGifButton.react","MWXComposerPollButton.react","MWXComposerPromptButton.react","MWXComposerStickerButton.react","MWXComposerVoiceClipButton.react","MWXHasContentToSend","MWXIconCrossCircle","MessengerWebUXLogger","cr:21441","cr:21442","gkx","react","requireDeferred","useIsAdsAIChat","useMWHasPollsCreationEnabled","useMWV2ComposerOnPressVoiceClip"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("requireDeferred")("MWChatAudioLog").__setRef("MWXComposerStartButtonsGroup.react");function d(e){var t=e.editor,a=e.hasNonTextContentToSend,i=e.isTextOnly,l=e.onAttachmentsAdded,d=e.onSendMessage,m=e.testid,p=e.thread,_=e.voiceRecorder,f=p.threadKey,g=p.threadType,h=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),y=h==="Inbox"?"small":"none",C=o("MWCMThreadTypes.react").isBroadcastThread(p.threadType),b=o("LSMessagingThreadTypeUtil").isAiBot(p.threadType),v=r("useIsAdsAIChat")(f),S=o("LSMessagingThreadTypeUtil").isArmadilloSecure(g),R=o("LSThreadBitOffset").has(14,p),L=o("LSThreadBitOffset").has(4,p),E=r("useMWHasPollsCreationEnabled")(f),k=o("LSThreadBitOffset").has(152,p),I=o("LSThreadBitOffset").has(3,p),T=o("LSThreadBitOffset").has(56,p),D=C||b||v?T:!0,x=E,$=R,P=L,N=k&&r("gkx")("18099"),M=r("gkx")("23423"),w=r("gkx")("23159"),A=r("useMWV2ComposerOnPressVoiceClip")(_),F=_.state.stage!=="Unopen",O=r("MessengerWebUXLogger")==null?void 0:r("MessengerWebUXLogger").useInteractionLogger(),B=o("MWXHasContentToSend").useMWXComposerHasContentToSend({editor:t,hasNonTextContentToSend:a});return i?null:F?u.jsx(o("MWXComposerButtonGroup.react").Button,{icon:r("MWXIconCrossCircle"),label:s._(/*BTDS*/"Cancel"),onPress:function(){_.reset(),c.onReady(function(e){return e.logDeleteRecording()}),O==null||O({eventName:"composer_close_audio_recorder"})}}):u.jsxs(o("MWXComposerButtonGroup.react").MWXComposerButtonGroup,{maxCount:B?1:4,paddingHorizontal:y,testid:void 0,children:[$?u.jsx(r("MWXComposerVoiceClipButton.react"),{onPress:A}):null,x?u.jsx(r("MWXComposerPollButton.react"),{thread:p}):null,M&&n("cr:21441")!=null?u.jsx(n("cr:21441"),{editor:t,onAttachmentsAdded:l}):null,w&&n("cr:21442")!=null?u.jsx(n("cr:21442"),{editor:t,onAttachmentsAdded:l}):null,u.jsx(r("MWXComposerAddFileButton.react"),{disabled:!D,isSecureThread:S,onAttachmentsAdded:l,supportedFileTypes:S?o("MAWSupportedFileTypes").supportedFileTypes:void 0}),u.jsx(r("MWXComposerStickerButton.react"),{disabled:!I,onSendMessage:d,useSecureSend:S}),u.jsx(r("MWXComposerGifButton.react"),{disabled:!P,onSendMessage:d,thread:p}),N?u.jsx(r("MWXComposerPromptButton.react"),{thread:p}):null]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),226);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useMemo;function d(t){var n=o("react-compiler-runtime").c(14),a=t.threadKey,l=o("MWPActor.react").useActor(),u=(e||(e=r("useReStore")))(),c;n[0]!==u.tables.contacts||n[1]!==u.tables.participants||n[2]!==a?(c=function(){return o("ReQL").fromTableAscending(u.tables.participants).getKeyRange(a).map(function(e){return[o("ReQLSuspense").first(o("ReQL").fromTableAscending(u.tables.contacts).getKeyRange(e.contactId),i.id+":43"),e]})},n[0]=u.tables.contacts,n[1]=u.tables.participants,n[2]=a,n[3]=c):c=n[3];var d;n[4]!==u||n[5]!==a?(d=[u,a],n[4]=u,n[5]=a,n[6]=d):d=n[6];var p=o("ReQLSuspense").useArray(c,d,i.id+":37"),_;if(n[7]!==l||n[8]!==p){var f;n[10]!==l?(f=function(t,n){var e=n[0],r=n[1];if(e!=null&&!(s||(s=o("I64"))).equal(e.id,l)){var a;return t.concat([[babelHelpers.extends({},e,{name:(a=e.name)!=null?a:o("MAWSubscribeToContactNames").getUnknownUser()}),r]])}return t},n[10]=l,n[11]=f):f=n[11],_=p.reduce(f,[]),n[7]=l,n[8]=p,n[9]=_}else _=n[9];var g=_,h;return n[12]!==g?(h=new Map(g.map(m)),n[12]=g,n[13]=h):h=n[13],h}function m(e){var t,n=e[1],a=e[0];return[(s||(s=o("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:s.to_string(a.id),isAdmin:(t=n.isAdmin)!=null?t:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:n.nickname,profilePictureUrl:r("getLSMediaContactProfilePictureUrl")(a),secondaryName:o("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:o("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}l.default=d}),98);
__d("MWV2ComposerView.react",["fbt","FBLogger","I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWCreatorMessagingUtils","MWPActor.react","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","MWXComposerStartButtonsGroup.react","Promise","ReQL","ReQLSuspense","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","stylex","useDeferredModuleOnReady","useIsAdsAIChat","useIsMessengerPWA","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWIsOffline","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m,p,_=p||(p=o("react")),f=p,g=f.useEffect,h=f.useId,y=f.useRef,C=r("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),b={container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},containerTextOnly:{marginInlineStart:"xyqm7xq",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function v(e){var t=o("react-compiler-runtime").c(4),n=r("useDeferredModuleOnReady")(C),a,i;t[0]!==n||t[1]!==e?(a=function(){if(n!=null)return n(e,16)},i=[e,n],t[0]=n,t[1]=e,t[2]=a,t[3]=i):(a=t[2],i=t[3]),g(a,i)}function S(t){var a,l=o("react-compiler-runtime").c(188),p=t.ariaLabel,f=t.canSendAudioClip,C=t.canSendFile,S=t.canSendGif,E=t.canSendPayment,k=t.canSendSticker,I=t.composerLinkPreview,T=t.editor,D=t.editorElementRef,x=t.getMaxAttachmentSizeInMBFunc,$=t.hasStuffToSend,P=t.hideAriaDescribedBy,N=t.isAiBotMentionsEnabled,M=t.isMentionsPluginEnabled,w=t.keepInputExpanded,A=t.localTimezoneInformation,F=t.mediaStaging,O=t.onAttachmentRemoved,B=t.onAttachmentsAdded,W=t.onHdMediaToggled,q=t.onSendMessage,U=t.placeholderText,V=t.policyProduct,H=t.renderExtraButtons,G=t.renderExtraOverflowMenuItems,z=t.sendMessage,j=t.showMentionsOnPreviewThread,K=t.supportedFileTypes,Q=t.surface,X=t.thread,Y=t.voiceRecorder,J=f===void 0?!0:f,Z=C===void 0?!0:C,ee=S===void 0?!0:S,te=E===void 0?!1:E,ne=k===void 0?!0:k,re=P===void 0?!1:P,oe=M===void 0?!0:M,ae=w===void 0?!1:w,ie=H===void 0?null:H,le=j===void 0?!1:j,se=(m||(m=r("useReStore")))(),ue=r("useMWIsOffline")(),ce=r("useIsMessengerPWA")(),de=ue&&ce,me;l[0]!==X.threadType?(me=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(X.threadType),l[0]=X.threadType,l[1]=me):me=l[1];var pe=me,_e=r("gkx")("7947"),fe=!0;(_e||pe)&&(fe=!1);var ge;l[2]!==ee||l[3]!==X?(ge=ee&&o("LSThreadBitOffset").has(4,X),l[2]=ee,l[3]=X,l[4]=ge):ge=l[4];var he=ge,ye;l[5]!==X.threadType?(ye=o("MWCMThreadTypes.react").isBroadcastThread(X.threadType),l[5]=X.threadType,l[6]=ye):ye=l[6];var Ce=ye,be;l[7]!==X.threadType?(be=o("LSMessagingThreadTypeUtil").isAiBot(X.threadType),l[7]=X.threadType,l[8]=be):be=l[8];var ve=be,Se=r("useIsAdsAIChat")(X.threadKey),Re;l[9]!==Z||l[10]!==Se||l[11]!==ve||l[12]!==Ce||l[13]!==X?(Re=Z&&(Ce||ve||Se?o("LSThreadBitOffset").has(56,X):!0),l[9]=Z,l[10]=Se,l[11]=ve,l[12]=Ce,l[13]=X,l[14]=Re):Re=l[14];var Le=Re,Ee;l[15]!==X.threadType?(Ee=o("LSMessagingThreadTypeUtil").isArmadilloSecure(X.threadType),l[15]=X.threadType,l[16]=Ee):Ee=l[16];var ke=Ee,Ie;l[17]!==ne||l[18]!==X?(Ie=ne&&o("LSThreadBitOffset").has(3,X),l[17]=ne,l[18]=X,l[19]=Ie):Ie=l[19];var Te=Ie,De=r("useMWEntrypoint")(),xe=Y.state.stage!=="Unopen",$e;l[20]!==q||l[21]!==Y?($e=function(){Y.getVoiceClip().then(function(t){return Y.reset(),q(void 0,void 0,void 0,void 0,void 0,void 0,void 0,t,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"MWV2ComposerView.onSendVoiceClip"),(e||(e=n("Promise"))).resolve()}).catch(L)},l[20]=q,l[21]=Y,l[22]=$e):$e=l[22];var Pe=$e,Ne=y(null),Me=r("usePrevious")(xe),we,Ae;l[23]!==xe||l[24]!==Me?(we=function(){if(xe===!0&&Me===!1){var e;(e=Ne.current)==null||e.focus()}},Ae=[xe,Ne,Me],l[23]=xe,l[24]=Me,l[25]=we,l[26]=Ae):(we=l[25],Ae=l[26]),g(we,Ae);var Fe;l[27]!==X.threadKey?(Fe={threadKey:X.threadKey},l[27]=X.threadKey,l[28]=Fe):Fe=l[28];var Oe=r("useParticipantsExcludingViewer")(Fe),Be;l[29]!==X?(Be=o("LSThreadBitOffset").has(43,X),l[29]=X,l[30]=Be):Be=l[30];var We=Be,qe=o("MWPActor.react").useActor(),Ue,Ve;l[31]!==qe||l[32]!==se.tables.contacts||l[33]!==se.tables.participants||l[34]!==X.threadKey||l[35]!==X.threadType?(Ue=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(X.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(se.tables.participants).getKeyRange(X.threadKey),o("ReQL").fromTableAscending(se.tables.contacts)).filter(function(e){var t=e[1];return!(c||(c=o("I64"))).equal(t.id,qe)}):o("ReQL").empty()},Ve=[X.threadType,X.threadKey,se.tables.participants,se.tables.contacts,qe],l[31]=qe,l[32]=se.tables.contacts,l[33]=se.tables.participants,l[34]=X.threadKey,l[35]=X.threadType,l[36]=Ue,l[37]=Ve):(Ue=l[36],Ve=l[37]);var He=o("ReQLSuspense").useFirst(Ue,Ve,i.id+":249"),Ge=He==null||(a=He[1])==null?void 0:a.contactReachabilityStatusType,ze;l[38]!==Ge?(ze=(d||(d=o("LSIntEnum"))).equal(Ge,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),l[38]=Ge,l[39]=ze):ze=l[39];var je=ze,Ke;l[40]===Symbol.for("react.memo_cache_sentinel")?(Ke=o("Locale").isRTL(),l[40]=Ke):Ke=l[40];var Qe=Ke,Xe=r("gkx")("23219"),Ye;l[41]===Symbol.for("react.memo_cache_sentinel")?(Ye=Xe?[36,8]:[32,4],l[41]=Ye):Ye=l[41];var Je=Ye,Ze=Je[0],et=Je[1],tt=0+Ze|0,nt;l[42]!==X.threadType?(nt=o("LSMessagingThreadTypeUtil").isCMSubthread(X.threadType),l[42]=X.threadType,l[43]=nt):nt=l[43];var rt=nt,ot=$||ae||je||rt&&De==="inbox",at=tt+Ze|0,it;l[44]!==ot||l[45]!==fe?(it=Qe?fe?{marginRight:Xe?"8px":"4px"}:{marginRight:ot?Xe?"8px":"0":((at+Ze|0)+et|0).toString()+"px"}:fe?{marginLeft:Xe?"8px":"4px"}:{marginLeft:ot?Xe?"8px":"0":((at+Ze|0)+et|0).toString()+"px"},l[44]=ot,l[45]=fe,l[46]=it):it=l[46];var lt=it,st=r("useMWComposerAriaDescribedBy")(X),ut=h();v(T);var ct;l[47]!==Se||l[48]!==pe||l[49]!==X?(ct=pe||Se&&!o("LSThreadBitOffset").has(109,X)||o("MWCreatorMessagingUtils").isPageToAnyThread(X)&&!o("LSThreadBitOffset").has(109,X),l[47]=Se,l[48]=pe,l[49]=X,l[50]=ct):ct=l[50];var dt=ct,mt;l[51]!==se.tables.custom_thread_commands||l[52]!==X.threadKey?(mt=function(){return o("ReQL").fromTableAscending(se.tables.custom_thread_commands).getKeyRange(X.threadKey).filter(R)},l[51]=se.tables.custom_thread_commands,l[52]=X.threadKey,l[53]=mt):mt=l[53];var pt;l[54]!==se||l[55]!==X.threadKey?(pt=[se,X.threadKey],l[54]=se,l[55]=X.threadKey,l[56]=pt):pt=l[56];var _t=o("ReQLSuspense").useFirst(mt,pt,i.id+":342")!=null,ft;l[57]!==X?(ft=o("LSThreadBitOffset").has(152,X),l[57]=X,l[58]=ft):ft=l[58];var gt=ft,ht;l[59]!==We||l[60]!==N||l[61]!==oe||l[62]!==le||l[63]!==X.threadType?(ht=oe&&(N===!0?!0:(We||le)&&o("LSMessagingThreadTypeUtil").isGroup(X.threadType)),l[59]=We,l[60]=N,l[61]=oe,l[62]=le,l[63]=X.threadType,l[64]=ht):ht=l[64];var yt=ht,Ct;l[65]!==_t||l[66]!==je||l[67]!==X?(Ct=(je||o("MWCreatorMessagingUtils").isPageToAnyThread(X))&&!X.hasPersistentMenu&&!_t,l[65]=_t,l[66]=je,l[67]=X,l[68]=Ct):Ct=l[68];var bt=Ct,vt,St;l[69]===Symbol.for("react.memo_cache_sentinel")?(vt=s._(/*BTDS*/"Thread composer"),St={className:"xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8"},l[69]=vt,l[70]=St):(vt=l[69],St=l[70]);var Rt;l[71]!==J||l[72]!==Le||l[73]!==te||l[74]!==T||l[75]!==ot||l[76]!==je||l[77]!==B||l[78]!==q||l[79]!==G||l[80]!==fe||l[81]!==K||l[82]!==X||l[83]!==Y?(Rt=!fe&&!je&&_.jsx(r("MWReQLComposerPlusButton.react"),{canSendAudioClip:J,canSendFile:Le,canSendPayment:te,editor:T,isInputExpanded:ot,onAttachmentsAdded:B,onSendMessage:q,renderExtraOverflowMenuItems:G,supportedFileTypes:K,thread:X,voiceRecorder:Y}),l[71]=J,l[72]=Le,l[73]=te,l[74]=T,l[75]=ot,l[76]=je,l[77]=B,l[78]=q,l[79]=G,l[80]=fe,l[81]=K,l[82]=X,l[83]=Y,l[84]=Rt):Rt=l[84];var Lt;l[85]!==T||l[86]!==je||l[87]!==xe||l[88]!==F||l[89]!==B||l[90]!==q||l[91]!==fe||l[92]!==X||l[93]!==Y?(Lt=fe&&!je&&_.jsx("div",{className:"x78zum5 x2lah0s x6ikm8r x10wlt62 xexx8yu x11lfxj5 x18d9i69 x135b78x x1n2onr6",children:_.jsx(r("MWXComposerStartButtonsGroup.react"),{editor:T,hasNonTextContentToSend:xe||F.length>0,isTextOnly:je,onAttachmentsAdded:B,onSendMessage:q,testid:void 0,thread:X,voiceRecorder:Y})}),l[85]=T,l[86]=je,l[87]=xe,l[88]=F,l[89]=B,l[90]=q,l[91]=fe,l[92]=X,l[93]=Y,l[94]=Lt):Lt=l[94];var Et;l[95]!==$||l[96]!==je||l[97]!==xe||l[98]!==Pe||l[99]!==Y?(Et=xe&&!je?_.jsxs(_.Fragment,{children:[_.jsx(r("MWAudioRecorder.react"),{voiceRecorder:Y}),_.jsx(r("MWV2ComposerSendButton.react"),{hasStuffToSend:$,onPress:Pe,ref:Ne})]}):null,l[95]=$,l[96]=je,l[97]=xe,l[98]=Pe,l[99]=Y,l[100]=Et):Et=l[100];var kt;l[101]!==je||l[102]!==xe?(kt=(u||(u=r("stylex"))).props(xe?b.hidden:!1,b.container,je?b.containerTextOnly:!1),l[101]=je,l[102]=xe,l[103]=kt):kt=l[103];var It;l[104]!==J||l[105]!==Le||l[106]!==he||l[107]!==gt||l[108]!==Te||l[109]!==I||l[110]!==x||l[111]!==ot||l[112]!==ke||l[113]!==je||l[114]!==A||l[115]!==B||l[116]!==q||l[117]!==fe||l[118]!==K||l[119]!==X.threadKey||l[120]!==X.threadType||l[121]!==Y?(It=!fe&&!je&&_.jsx(r("MWComposerStartButtonsGroup.react"),{canSendAudioClipFinal:J,canSendFileFinal:Le,canSendGifFinal:he,canSendRollcall:gt,canSendSticker:Te,composerLinkPreview:I,getMaxAttachmentSizeInMBFunc:x,gifButtonPosition:at,isInputExpanded:ot,isRTL:Qe,isSecureThread:ke,localTimezoneInformation:A,onAttachmentsAdded:B,onSendMessage:q,shouldUseMDS:Xe,stickerButtonPosition:tt,supportedFileTypes:K,threadKey:X.threadKey,threadType:X.threadType,voiceRecorder:Y}),l[104]=J,l[105]=Le,l[106]=he,l[107]=gt,l[108]=Te,l[109]=I,l[110]=x,l[111]=ot,l[112]=ke,l[113]=je,l[114]=A,l[115]=B,l[116]=q,l[117]=fe,l[118]=K,l[119]=X.threadKey,l[120]=X.threadType,l[121]=Y,l[122]=It):It=l[122];var Tt;l[123]===Symbol.for("react.memo_cache_sentinel")?(Tt="x78zum5 x1iyjqo2 x6q2ic0",l[123]=Tt):Tt=l[123];var Dt;l[124]!==st||l[125]!==ut||l[126]!==re?(Dt=!re&&_.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:ut,children:st}),l[124]=st,l[125]=ut,l[126]=re,l[127]=Dt):Dt=l[127];var xt=re?void 0:ut,$t;l[128]!==T||l[129]!==ke||l[130]!==F||l[131]!==W||l[132]!==ie?($t=_.jsx(r("MWComposerInnerButtonsGroup.react"),{editor:T,isSecureThread:ke,mediaStaging:F,onHdMediaToggled:W,renderExtraButtons:ie,shouldUseMDS:Xe}),l[128]=T,l[129]=ke,l[130]=F,l[131]=W,l[132]=ie,l[133]=$t):$t=l[133];var Pt=Le?B:r("emptyFunction"),Nt;l[134]!==rt||l[135]!==X.parentThreadKey||l[136]!==X.threadKey?(Nt=(c||(c=o("I64"))).to_string(rt?X.parentThreadKey:X.threadKey),l[134]=rt,l[135]=X.parentThreadKey,l[136]=X.threadKey,l[137]=Nt):Nt=l[137];var Mt;l[138]!==F||l[139]!==O||l[140]!==B||l[141]!==K?(Mt=_.jsx(r("MWV2ComposerMediaStaging.react"),{mediaStaging:F,onAttachmentRemoved:O,onAttachmentsAdded:B,supportedFileTypes:K}),l[138]=F,l[139]=O,l[140]=B,l[141]=K,l[142]=Mt):Mt=l[142];var wt;l[143]!==p||l[144]!==T||l[145]!==D||l[146]!==N||l[147]!==ke||l[148]!==Oe||l[149]!==U||l[150]!==V||l[151]!==Q||l[152]!==xt||l[153]!==$t||l[154]!==Pt||l[155]!==Nt||l[156]!==Mt||l[157]!==yt?(wt=_.jsx(r("MWReQLComposerInner.react"),{ariaDescribedBy:xt,ariaLabel:p,contentEditableRef:D,editor:T,endContent:$t,handlePastedFiles:Pt,isAiBotMentionsEnabled:N,isSecureThread:ke,participants:Oe,placeholderText:U,policyProduct:V,surface:Q,testId:"chat_input:rich-input",threadID:Nt,topContent:Mt,useMentionsPlugin:yt}),l[143]=p,l[144]=T,l[145]=D,l[146]=N,l[147]=ke,l[148]=Oe,l[149]=U,l[150]=V,l[151]=Q,l[152]=xt,l[153]=$t,l[154]=Pt,l[155]=Nt,l[156]=Mt,l[157]=yt,l[158]=wt):wt=l[158];var At;l[159]!==lt||l[160]!==Dt||l[161]!==wt?(At=_.jsxs("div",{className:Tt,style:lt,children:[Dt,wt]}),l[159]=lt,l[160]=Dt,l[161]=wt,l[162]=At):At=l[162];var Ft;l[163]!==kt||l[164]!==It||l[165]!==At?(Ft=_.jsxs("div",babelHelpers.extends({},kt,{children:[It,At]})),l[163]=kt,l[164]=It,l[165]=At,l[166]=Ft):Ft=l[166];var Ot=de||bt&&!$,Bt;l[167]!==bt||l[168]!==T||l[169]!==_t||l[170]!==$||l[171]!==de||l[172]!==xe||l[173]!==q||l[174]!==z||l[175]!==dt||l[176]!==Ot||l[177]!==X.customEmoji||l[178]!==X.hasPersistentMenu||l[179]!==X.threadKey||l[180]!==X.threadType?(Bt=_.jsx(r("MWComposerEndButtonsGroup.react"),{alwaysShowSend:bt,customEmoji:X.customEmoji,disabled:Ot,editor:T,hasPersistentMenu:X.hasPersistentMenu,hasStuffToSend:$,isVoiceRecorderOpen:xe,onSendMessage:q,sendMessage:z,shouldHideHotLike:dt,shouldHideTooltip:de,showCommands:_t,threadKey:X.threadKey,threadType:X.threadType}),l[167]=bt,l[168]=T,l[169]=_t,l[170]=$,l[171]=de,l[172]=xe,l[173]=q,l[174]=z,l[175]=dt,l[176]=Ot,l[177]=X.customEmoji,l[178]=X.hasPersistentMenu,l[179]=X.threadKey,l[180]=X.threadType,l[181]=Bt):Bt=l[181];var Wt;return l[182]!==Rt||l[183]!==Lt||l[184]!==Et||l[185]!==Ft||l[186]!==Bt?(Wt=_.jsxs("div",babelHelpers.extends({"aria-label":vt},St,{"data-testid":void 0,role:"group",children:[Rt,Lt,Et,Ft,Bt]})),l[182]=Rt,l[183]=Lt,l[184]=Et,l[185]=Ft,l[186]=Bt,l[187]=Wt):Wt=l[187],Wt}function R(e){return!e.isOpenPersistentMenu}function L(t){return r("FBLogger")("messenger_web_media").catching(t).warn("Failed to send voice clip in messenger composer "),(e||(e=n("Promise"))).reject(t)}l.MWV2ComposerView=S}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e=r("qpl")._(25302342,"1531"),s=600*1e3;function u(){var t=o("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(o){r("QPLUserFlow").addAnnotations(e,o,{instanceKey:t})},addPoint:function(o,a){r("QPLUserFlow").addPoint(e,o,{data:a,instanceKey:t})},endCancel:function(o,a){r("QPLUserFlow").endCancel(e,{annotations:a,cancelReason:o,instanceKey:t})},endFail:function(o,a){r("QPLUserFlow").endFailure(e,o,{annotations:a,instanceKey:t})},endSuccess:function(o){r("QPLUserFlow").endSuccess(e,{annotations:o,instanceKey:t})},start:function(o){var n=o.startInfo.isOpusRecorder;r("vulture")("82X5KZTgiST4gLKOKR5LcJ74yWQ="),r("QPLUserFlow").start(e,{annotations:{bool:{isOpusAudioAbTestEnabled:r("gkx")("3053"),isOpusAudioEnabled:r("gkx")("3054"),isOpusRecorder:n}},cancelOnUnload:!0,instanceKey:t,timeoutInMs:s})}}}l.event=e,l.createVoiceRecordQpl=u}),98);
__d("useIsSecureMessageData",["ReQL","ReQLSuspense","react-compiler-runtime","useIsSecureMessage","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(6),l=(e||(e=r("useReStore")))(),s=t.messageId,u=t.messageThreadKey,c=t.messageTimestamp,d,m;a[0]!==l.tables.messages||a[1]!==s||a[2]!==u||a[3]!==c?(d=function(){return s==null||u==null||c==null?o("ReQL").empty():o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(u,c,s)},m=[l.tables.messages,u,c,s],a[0]=l.tables.messages,a[1]=s,a[2]=u,a[3]=c,a[4]=d,a[5]=m):(d=a[4],m=a[5]);var p=o("ReQLSuspense").useFirst(d,m,i.id+":39"),_=r("useIsSecureMessage")(l,p,n);return _}l.default=s}),98);
__d("MAWSendSecureAttachment",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MWFBLogger","WABlobToArrayBuffer","WAMediaHdType","WAMediaQplHelper","WAResultOrError","gkx","qpl","requireDeferred","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e,s=r("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment"),u=3e5,c=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","MAWSendSecureAttachment"]);async function d(t,n,a,i,l,d,m,p,_,f,g,h,y,C,b,v,S,R,L,E){var k;if(c.debug("Starting attachment message send"),n==null)return o("sendToSentQPLLogger").markSendToSentFail(h,"no_chat_jid"),o("WAResultOrError").makeError({isRetriable:!1,type:"no-chat-jid"});var I=null;if(_!=null){o("sendToSentQPLLogger").markSendToSentPoint(h,"get_reply_message_start");var T=o("MAWDbMsg").toMsgId(_.messageId);T!=null&&(I=await o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(T)),o("sendToSentQPLLogger").markSendToSentPoint(h,"get_reply_message_end")}o("sendToSentQPLLogger").markSendToSentPoint(h,"sending_message_to_wajob_start"),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{string:{attachment_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(d.file.size)}}),E==null||E.addMetadata("attachment_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(d.file.size));var D;switch(d.type){case"image":case"animated_image":case"sticker":{var x=d.imageSpec,$=d.thumbnailUrlAndSpec;D=d.type==="sticker"&&d.stickerReceiverFetchId!=null&&r("gkx")("8057")?{args:{accessibilityLabel:L,ephemeralSetting:y!=null?y:void 0,height:x.height,initiatingSource:C,isFirstMsg:f,isForwarded:!1,mediaGroupMetadata:S,offlineAttachmentId:m,optimisticMsg:b,quote:I!=null?I:void 0,receiverFetchId:d.stickerReceiverFetchId,source:p,width:x.width},attachmentType:"image",chatJid:n,externalId:v}:{args:{accessibilityLabel:L,ephemeralSetting:y!=null?y:void 0,hdType:R===!0?o("WAMediaHdType").HD_TYPE_HQ_4K:o("WAMediaHdType").HD_TYPE_NONE,height:x.height,initiatingSource:C,isFirstMsg:f,isForwarded:!1,jpegThumbnail:$==null?void 0:$.jpegThumbnail,jpegThumbnailHeight:$==null?void 0:$.height,jpegThumbnailWidth:$==null?void 0:$.width,mediaGroupMetadata:S,offlineAttachmentId:m,optimisticMsg:b,quote:I!=null?I:void 0,source:p,width:x.width},attachmentType:"image",chatJid:n,externalId:v};break}case"video":{var P=d.thumbnailUrlAndSpec;D={args:{duration:P.duration,ephemeralSetting:y!=null?y:void 0,height:P.height,initiatingSource:C,isFirstMsg:f,isForwarded:!1,isVideoGif:g,jpegThumbnail:P.jpegThumbnail,jpegThumbnailHeight:P.height,jpegThumbnailWidth:P.width,offlineAttachmentId:m,optimisticMsg:b,quote:I!=null?I:void 0,source:p,width:P.width},attachmentType:"video",chatJid:n,externalId:v};break}case"audio":{var N=d.durations,M=d.isPtt,w=d.waveform;D={args:{duration:Math.round(N),ephemeralSetting:y!=null?y:void 0,initiatingSource:C,isFirstMsg:f,isForwarded:!1,isPtt:M,offlineAttachmentId:m,optimisticMsg:b,quote:I!=null?I:void 0,source:p,waveform:w},attachmentType:"audio",chatJid:n,externalId:v};break}case"document":{var A=d.filename;D={args:{ephemeralSetting:y!=null?y:void 0,filename:A,initiatingSource:C,isFirstMsg:f,isForwarded:!1,offlineAttachmentId:m,optimisticMsg:b,quote:I!=null?I:void 0,source:p},attachmentType:"application",chatJid:n,externalId:v};break}default:o("sendToSentQPLLogger").markSendToSentPoint(h,"unknown_file_type_sendMediaMsg_not_fired"),c.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",d.type)}var F;switch(d.type){case"image":F=8;break;case"sticker":F=4;break;case"video":F=g===!0?6:10;break;case"audio":F=11;break;case"document":F=34;break}if(c.debug("Send attachment message is done"),s.onReady(function(n){var r=(e||(e=o("I64"))).to_string(a);return n.log(t,{actor:l,attachmentFbids:[],attachmentType:F,backend:1,hasReply:!1,messagingThreadId:r,offlineThreadingId:m,sendType:0,source:p,threadKey:a,threadType:i})}),D==null)return o("WAResultOrError").makeError({isRetriable:!1,type:"send-media-msg-args-null"});var O=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers.extends({},D,{mimeType:d.file.type,plaintext:(k=d.plaintext)!=null?k:await o("WABlobToArrayBuffer").blobToArrayBuffer(d.file),qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:h}),{timeoutMs:u});return o("sendToSentQPLLogger").markSendToSentPoint(h,"sending_message_to_wajob_end"),o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:n,externalId:v},O,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:h},t)}l.sendSecureAttachment=d}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWSendSecureAttachment","Promise","WAResultOrError","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,a){var i=a.actorId,l=a.attachments,s=a.axLabels,u=a.chatJid,c=a.ephemeralSetting,d=a.hdMediaMap,m=a.initiatingSource,p=a.isFirstMsg,_=a.isVideoGif,f=a.lssTraceApi,g=a.mediaGroupMetadataMap,h=a.offlineAttachmentIdToMessageData,y=a.reply,C=a.s2sInstanceKey,b=a.source,v=a.thread;if(l.length===0)return o("sendToSentQPLLogger").markSendToSentFail(C,"empty_attachments"),(e||(e=n("Promise"))).resolve([o("WAResultOrError").makeError({isRetriable:!1,type:"empty-attachments"})]);o("sendToSentQPLLogger").markSendToSentPoint(C,"send_attachment_start",null,{int:{attachment_count:l.length}});var S=l.map(function(e){var n,r,a,l=e[0],S=e[1],R=h==null?void 0:h.get(S),L=(n=d==null?void 0:d.get(S))!=null?n:void 0;return o("MAWSendSecureAttachment").sendSecureAttachment(t,u,v.threadKey,v.threadType,i,l,S,b,y,p,_,C,c,m,R==null?void 0:{msgId:R==null?void 0:R.messageExternalId,ts:R==null?void 0:R.offlineMsgTimestamp},(r=R==null?void 0:R.messageExternalId)!=null?r:o("MAWExternalId").generateExternalId(),g==null?void 0:g.get(S),L,(a=s==null?void 0:s.get(S))!=null?a:void 0,f)});return(e||(e=n("Promise"))).all(S).then(function(e){var t=e==null?void 0:e.find(function(e){return(e==null?void 0:e.success)===!1});return o("sendToSentQPLLogger").markSendToSentPoint(C,"send_attachment_end"),t!=null?[t]:e}).catch(function(e){throw o("sendToSentQPLLogger").markSendToSentFail(C,"send_attachment_fail",e),e instanceof Error?r("FBLogger")("messenger_web_media").catching(e).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):r("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",e.message),e})}l.sendFileMsgIfNecessaryV2=s}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MWPActor.react","Promise","QPLUserFlow","qpl","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t=o("react-compiler-runtime").c(3),a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;return t[0]!==a||t[1]!==l?(u=function(s,u,c,d,m,p,_,f,g,h,y,C){return f==null?(e||(e=n("Promise"))).resolve():(r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message_with_attachment",{instanceKey:p}),a.runInTransaction(function(e){return o("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(a,e,l,s,u,d,m,p,_,f,g,h,y,C)},"readwrite","ui",void 0,i.id+":71"))},t[0]=a,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){var e=o("react-compiler-runtime").c(2),t=r("useAsyncReStore")(),n;return e[0]!==t?(n=async function(n,o,a){var e=await t;return e.runInTransaction(async function(e){for(var t of n)await r("LSMarkOptimisticMessageFailedStoredProcedure")(r("LSFactory")(e),{errorMessage:o,isRetryable:a,optimisticMid:t})},"readwrite",void 0,void 0,i.id+":32")},e[0]=t,e[1]=n):n=e[1],n}l.default=u}),98);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","QPLUserFlow","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){return u}async function u(t,n){r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:n});var a=await(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton;return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:n}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:n}),o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_start"),o("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){return o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_backend_setup_complete"),r("MAWMiActMaybeCreateActThread")(a,t,"maybe-create-thread-for-send",n)}).then(function(e){return o("sendToSentQPLLogger").markSendToSentPoint(n,"maybe_create_mi_thread_end"),e})}l.default=s}),98);
__d("useMAWSendSecureGifAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWEncodeMediaTransportProtocol","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWVideoPreProcess","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","getErrorSafe","gkx","qex","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureGifAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(c){var d=c.accessibilityLabel,m=c.externalAttachmentUrl,p=c.lssTraceApi,_=c.messageExternalId,f=c.onGenerateOfflineMsgId,g=c.reply,h=c.s2sInstanceKey,y=c.source,C=c.thread;u.debug("Starting GIF attachment message send");var b=new Map,v;try{var S=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),R=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(C.threadKey,h)]),L=R[0],E=R[1];v=E;var k=await o("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,C.threadKey);r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:h}),p==null||p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");var I=await o("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(m,h),T=new File([I],"gifFromPicker",{type:I.type}),D=T.type===o("MAWEncodeMediaTransportProtocol").VIDEO_MIME_TYPE;r("qex")._("3576"),p==null||p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming"),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(T.size)}}),p==null||p.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(T.size)),p==null||p.addMarkerPoint("create_optimistic_message_start","AppTiming");var x=D?await o("MAWVideoPreProcess").optimisticVideoPreprocessWithFile(T):await o("MAWImagePreProcess").optimisticImagePreprocess(T,!1),$=await i(g,C.threadKey,v,S,x,h,f,(s||(s=o("LSIntEnum"))).ofNumber(D?r("MessagingAttachmentType").VIDEO:r("MessagingAttachmentType").ANIMATED_IMAGE),_,void 0,void 0,D);$!=null?(b.set(S,{messageExternalId:_,offlineMsgTimestamp:$.offlineMsgTimestamp}),p==null||p.addMarkerPoint("create_optimistic_message_success","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),p==null||p.addMarkerPoint("create_optimistic_message_fail","AppTiming")),r("gkx")("1618")||p==null||p.addMarkerPoint("preprocess_start","AppTiming");var P=D?await o("MAWVideoPreProcess").videoPreprocess(T):await o("MAWImagePreProcess").imagePreprocess(T,!1);r("gkx")("1618")||p==null||p.addMarkerPoint("preprocess_end","AppTiming");var N=[[P,S]],M=new Map;M.set(S,d);var w={actorId:t,attachments:N,axLabels:M,chatJid:v.jid,db:L,ephemeralSetting:k,initiatingSource:a,isFirstMsg:v.isCreated,isVideoGif:D,lssTraceApi:p,offlineAttachmentIdToMessageData:b,reply:g,s2sInstanceKey:h,source:y,thread:C};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(L,w)}catch(e){var A=r("getErrorSafe")(e),F=A instanceof Error?A.message:"Fail to send secure attachment message",O=Array.from(b.values()).map(function(e){var t=e.messageExternalId;return t});throw v!=null&&await l(O,F,!1),u.catching(A).mustfix("Send GIF attachment message failed"),A}},[t,i,a,l,n])}l.default=c}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWImagePreProcess","MAWMessageSendReporter","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","WAResultOrError","justknobx","qpl","sendToSentQPLLogger"],(function(t,n,r,o,a,i,l){"use strict";var e;async function s(t,n){var a,i,l,s,u,c,d,m=t.chatJid,p=t.commands,_=t.lssTraceApi,f=t.mentionedJids,g=t.message,h=t.offlineAttachmentId,y=t.optimisticMessageData,C=t.previewBlob,b=t.quote,v=t.s2sInstanceKey,S=t.source,R=t.threadKey,L=t.xmaData;_==null||_.addMarkerPoint("send_secure_link_preview_xma_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"send_secure_link_preview_xma_message_start");var E=await o("MAWGetEphemeralSettings").getEphemeralSetting(m,R),k=void 0;if(C!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(C.type)){var I=new File([C],"preview",{type:C.type}),T=await o("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(I,r("justknobx")._("2033")),D=new File([T.jpegThumbnail],"preview",{type:"image/jpeg"});k={file:D,height:T.height,width:T.width},_==null||_.addAnnotation("sent_xma_preview_file_size_bucket",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(k.file.size)),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{sent_xma_preview_file_size_bucket:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(k.file.size)}})}_==null||_.addAnnotationBoolean("has_xma_preview",k!=null),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{bool:{has_xma_preview:k!=null}});var x={commands:p?Array.from(p):void 0,content:g,ephemeralSetting:E==null?void 0:E,mentionedJids:f?Array.from(f):void 0,offlineAttachmentId:h==null?void 0:h,optimisticMsg:y==null?void 0:{msgId:y==null?void 0:y.messageExternalId,ts:y==null?void 0:y.offlineMsgTimestamp},quote:b,source:S,xmaMessageType:o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE},$=(a=o("ConstUriUtils").getUri(L.url))==null?void 0:a.getDomain(),P=o("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(x.xmaMessageType);_==null||_.addAnnotation("xmaTargetType",P!=null?P:"undefined"),o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{xmaTargetType:P}}),o("ConstUriUtils").isValidUri(L.url)||o("WALogger").ERROR(e||(e=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"']))),o("MAWParseXMAProtocol").isURLValid(L.url,o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?o("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):o("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");var N={defaultCTA:{actionUrl:L.url,buttonType:o("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:L.url},overlayIconGlyph:void 0,subtitleText:L.author_name,titleText:(i=L.title)!=null?i:$};_==null||_.addMarkerPoint("sending_message_to_wajob_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"sending_message_to_wajob_start");var M=(l=y==null?void 0:y.messageExternalId)!=null?l:o("MAWExternalId").generateExternalId();o("sendToSentQPLLogger").addSendToSentAnnotations(v,{string:{attachment_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((s=(u=k)==null?void 0:u.file.size)!=null?s:0)}}),_==null||_.addMetadata("attachment_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((c=(d=k)==null?void 0:d.file.size)!=null?c:0));var w=o("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:x,chatJid:m,previewFile:k!=null?k:void 0,qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:v,xmaArgs:N,xmaMsgExternalId:M});return _==null||_.addMarkerPoint("sending_message_to_wajob_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(v,"sending_message_to_wajob_end"),await o("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:m,externalId:M},w,{qplEventType:r("qpl")._(25313175,"1551"),qplInstanceKey:v},n),o("WAResultOrError").makeResult({description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"})}l.sendExternalLinkXMAV2=s}),98);
__d("useMAWCreateOptimisticSecureMessageWithXMAAttachment",["I64","LSIntEnum","MAWBumpThread","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","MAWVault","MWPActor.react","MessagingAttachmentType","QPLUserFlow","qpl","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var e=o("react-compiler-runtime").c(3),t=r("useAsyncReStore")(),n=o("MWPActor.react").useActor(),a;return e[0]!==t||e[1]!==n?(a=function(o){var e=o.actionUrl,a=o.associatedMsgId,l=o.associatedMsgText,s=o.commands,u=o.contentRef,d=o.instanceKey,m=o.isReceiverFetch,p=o.lssTraceApi,_=o.mentionedJids,f=o.messageExternalId,g=o.messageText,h=o.offlineAttachmentId,y=o.onOfflineMsgId,C=o.optimisticMediaAttachment,b=o.reply,v=o.subtitleText,S=o.threadKey,R=o.titleText,L=o.xmaContentType,E=m===void 0?!1:m;return Promise.resolve(t).then(function(t){return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:d}),t.runInTransaction(function(r){return c({actionUrl:e,associatedMsgId:a,associatedMsgText:l,commands:s,contentRef:u,db:t,instanceKey:d,isReceiverFetch:E,lssTraceApi:p,mentionedJids:_,messageExternalId:f,messageText:g,offlineAttachmentId:h,onOfflineMsgId:y,optimisticMediaAttachment:C,reply:b,senderId:n,subtitleText:v,threadKey:S,titleText:R,txn:r,xmaContentType:L})},"readwrite","ui",void 0,i.id+":93")})},e[0]=t,e[1]=n,e[2]=a):a=e[2],a}async function c(t){var n,a=t.actionUrl,i=t.associatedMsgId,l=t.associatedMsgText,u=t.commands,c=t.contentRef,d=t.db,m=t.instanceKey,p=t.isReceiverFetch,_=p===void 0?!1:p,f=t.lssTraceApi,g=t.mentionedJids,h=t.messageExternalId,y=t.messageText,C=t.offlineAttachmentId,b=t.onOfflineMsgId,v=t.optimisticMediaAttachment,S=t.reply,R=t.senderId,L=t.subtitleText,E=t.threadKey,k=t.titleText,I=t.txn,T=t.xmaContentType;b(h),f==null||f.addMarkerPoint("set_offline_message_external_id_for_ls_message","AppTiming");var D=o("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),x=(e||(e=o("I64"))).of_float(D),$=_?536870912:1024,P=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(d,I,R,S,(n=o("MAWVault").unvault(y))!=null?n:"",E,void 0,m,g,h,x,$,u);await I.messages.add(P);var N=o("MAWOptimisticMessageUtils").buildOptimisticAttachment({actionUrl:a,attachmentType:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").XMA),contentRef:c,messageExternalId:h,offlineAttachmentId:C,optimisticMediaAttachment:v,senderId:R,subtitleText:L,threadKey:E,timestampMsI64:x,titleText:k,xmaContentType:T});if(await I.attachments.add(N),i!=null&&l!=null&&l!==""){var M,w=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(d,I,R,S,(M=o("MAWVault").unvault(l))!=null?M:"",E,void 0,m,g,i,x,1,u);await I.messages.add(w)}return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:m}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:m}),await o("MAWBumpThread").threadMutation_DEPRECATED({description:"useMAWCreateOptimisticSecureMessageWithXMAAttachment",lastActivityTs:x,lastReadTs:x,threadKey:E,txn:I}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:m}),{messageExternalId:h,offlineAttachmentId:o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(C),offlineMsgTimestamp:D}}l.useMAWCreateOptimisticSecureMessageWithXMAAttachment=u}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","QPLUserFlow","qpl","react","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(){var e=o("react-compiler-runtime").c(3),t=r("useAsyncReStore")(),n=o("MWPActor.react").useActor(),a;return e[0]!==t||e[1]!==n?(a=function(a,l,u,c,d,m,p,_,f,g,h){return Promise.resolve(t).then(async function(e){return r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:d}),e.runInTransaction(async function(t){r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:d});var i=o("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),y=(s||(s=o("I64"))).of_float(i);p(_),h==null||h.addMarkerPoint("set_offline_message_external_id_for_secure_message","AppTiming");var C=await o("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(e,t,n,a,l,u,c,d,m,_,y,1,f,g);return await t.messages.add(C),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:d}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:d}),await o("MAWOptimisticMessageUtils").optimisticBumpThread(t,{threadKey:u}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:d}),{messageExternalId:_,offlineMsgTimestamp:i}},"readwrite","ui",void 0,i.id+":71")})},e[0]=t,e[1]=n,e[2]=a):a=e[2],a}l.default=c}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWVault","MWFBLogger","emptyFunction","getErrorSafe","promiseDone","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),n=r("useMAWSendMessageV2")(),a=r("useMAWCreateOptimisticSecureMessageV2")(),i=r("useMarkOptimisticMessagesAsFailed")();return u(async function(l,s){var u=s.commands,c=s.hotEmojiSize,d=s.lssTraceApi,m=s.mentionedJids,p=s.messageExternalId,_=s.messageText,f=s.onGenerateOfflineMsgId,g=s.reply,h=s.s2sInstanceKey,y=s.source,C=s.thread;o("sendToSentQPLLogger").markSendToSentPoint(h,"send_secure_message_start");var b=null;try{d==null||d.addMarkerPoint("create_optimistic_message_start","AppTiming");var v=await Promise.all([o("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",h,function(){return t(C.threadKey,h)}),o("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",h,function(){return a(g,o("MAWVault").vault(_),C.threadKey,c,h,m,f!=null?f:r("emptyFunction"),p,u,void 0,d)})]),S=v[0],R=v[1];d==null||d.addMarkerPoint("create_optimistic_message_end","AppTiming");var L=R.offlineMsgTimestamp;o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_start"),b=b===null?await o("MAWGetEphemeralSettings").getEphemeralSetting(S.jid,C.threadKey):b,o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_end");var E=null;if(g!=null){o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_reply_message_start");var k=o("MAWDbMsg").toMsgId(g.messageId);k!=null&&(E=await o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(k)),o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_reply_message_end")}return await n(l,C.threadKey,C.threadType,S.jid,_,y,void 0,p,L,c,S.isCreated,void 0,void 0,E,b,m,h,p,u)}catch(t){var I=r("getErrorSafe")(t),T=I.message||"Fail to send secure text message";throw p!=null&&r("promiseDone")(i([p],T,!1)),o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureTextMessage"]).MUSTFIX(e||(e=babelHelpers.taggedTemplateLiteralLoose(["Send text message failed: ",""])),JSON.stringify(t)),t}},[a,i,t,n])}l.default=c}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","I64","LSXmaContentType","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWVault","MWFBLogger","MWPBumpEntityKey","ReQL","WAMediaQplHelper","clearTimeout","emptyFunction","getErrorSafe","isFacebookURI","justknobx","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureTextMessage","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback,c=o("MWFBLogger").MWSharingLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureLinkXMAMessage"]);function d(e){var t=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),n=r("useMAWSendSecureTextMessage")(),a=o("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),i=r("useMarkOptimisticMessagesAsFailed")(),l=r("useMAWDeleteLinkPreviewXMATableData")(e);return u(async function(e,u){var d=u.commands,y=u.currentDraftId,C=u.lssTraceApi,b=u.mentionedJids,v=u.messageExternalId,S=u.messageText,R=u.onGenerateOfflineMsgId,L=u.reply,E=u.s2sInstanceKey,k=u.source,I=u.thread,T=u.threadKey;c.debug("Starting Link Preview XMA attachment message send");var D=o("MAWFindFirstUrl").findFirstUrl(S),x=D.length>0?D[0]:null;m(e,y);var $;try{var P,N,M;C==null||C.addMarkerPoint("get_link_preview_data_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"get_link_preview_data_start");var w=await p(e,y,E,C),A=w==null?void 0:w.xmaData,F=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(w==null?void 0:w.dataType,r("E2EELinkPreviewXMADataType").OEMBED),O=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(w==null?void 0:w.dataStatus,r("E2EELinkPreviewXMADataStatus").DISABLED);if(o("sendToSentQPLLogger").addSendToSentAnnotations(E,{bool:{has_xma_data:A!=null,is_link_preview_oembed_data:F}}),C==null||C.addAnnotationBoolean("has_xma_data",A!=null),C==null||C.addAnnotationBoolean("is_link_preview_oembed_data",F),y==null||x==null||O)return C==null||C.addMarkerPoint("send_link_message_as_text","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"send_link_message_as_text"),n(e,{commands:d,lssTraceApi:C,mentionedJids:b,messageExternalId:v,messageText:S,onGenerateOfflineMsgId:R,reply:L,s2sInstanceKey:E,source:k,thread:I});var B={title:(P=o("ConstUriUtils").getUri(x.entity.url))==null?void 0:P.getDomain(),url:x.entity.url},W=A!=null?A:B;C==null||C.addMarkerPoint("get_link_preview_data_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"get_link_preview_data_end");var q=await g(L);C==null||C.addMarkerPoint("set_offline_attachment_id","AppTiming"),$=await o("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",E,function(){return t(T,E)}),C==null||C.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var U=await o("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",E,function(){return _(F,A)});f(E,U),C==null||C.addMarkerPoint("fetch_link_preview_blob_end","AppTiming"),C==null||C.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"create_optimistic_message_start");var V=null;if(U!=null&&o("MAWExternalLinkUtil").allowedPreviewTypes.includes(U.type)){var H=new File([U],"preview",{type:U.type});V=await o("MAWImagePreProcess").optimisticImagePreprocess(H)}var G=o("MAWExternalId").generateExternalId(),z=await a({commands:d,instanceKey:E,lssTraceApi:C,mentionedJids:b,messageExternalId:v,messageText:o("MAWVault").vault(S),offlineAttachmentId:G,onOfflineMsgId:R!=null?R:r("emptyFunction"),optimisticMediaAttachment:V,reply:L,subtitleText:W==null?void 0:W.author_name,threadKey:I.threadKey,titleText:W==null?void 0:W.title,xmaContentType:(s||(s=o("I64"))).of_int32(r("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE)}),j=z!=null?{messageExternalId:v,offlineMsgTimestamp:z.offlineMsgTimestamp}:void 0;j!=null?(C==null||C.addMarkerPoint("dispatch_optimistic_send_message","AppTiming"),C==null||C.addMarkerPoint("create_optimistic_message_success","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"create_optimistic_message_end")):(c.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),C==null||C.addMarkerPoint("create_optimistic_message_fail","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"create_optimistic_message_fail"));var K=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(w==null?void 0:w.dataStatus,r("E2EELinkPreviewXMADataStatus").LOADED),Q={chatJid:$.jid,commands:d,lssTraceApi:C,mentionedJids:b,message:S,offlineAttachmentId:G,optimisticMessageData:j,quote:q!=null?q:void 0,s2sInstanceKey:E,source:k,threadKey:T};if(o("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",A==null?"xma_data_is_null":"xma_data_is_not_null"),A!=null&&!K){var X,Y;C==null||C.addMarkerPoint("wait_for_link_preview_data_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"wait_for_link_preview_data_start");var J=await h(e,y,E,l),Z=J.previewBlob,ee=J.xmaData,te=(ee==null?void 0:ee.url)!=null?o("ConstUriUtils").getUri(ee.url):null,ne=te!=null?r("isFacebookURI")(te):!1;return C==null||C.addAnnotationBoolean("has_preview_blob",Z!=null),C==null||C.addAnnotationBoolean("has_xma_data",ee!=null),C==null||C.addAnnotationBoolean("is_facebook_link",ne),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((X=Z==null?void 0:Z.size)!=null?X:0)}}),C==null||C.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((Y=Z==null?void 0:Z.size)!=null?Y:0)),o("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},Q,{previewBlob:Z,xmaData:ee!=null?ee:B}),e)}else C==null||C.addMarkerPoint("wait_for_link_preview_data_skipped","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(E,"wait_for_link_preview_data_skipped");var re=(A==null?void 0:A.url)!=null?o("ConstUriUtils").getUri(A.url):null,oe=re!=null?r("isFacebookURI")(re):!1;return C==null||C.addAnnotationBoolean("has_preview_blob",U!=null),C==null||C.addAnnotationBoolean("has_xma_data",A!=null),C==null||C.addAnnotationBoolean("is_facebook_link",oe),o("sendToSentQPLLogger").addSendToSentAnnotations(E,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket((N=U==null?void 0:U.size)!=null?N:0)}}),C==null||C.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket((M=U==null?void 0:U.size)!=null?M:0)),o("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},Q,{previewBlob:U,xmaData:W}),e)}catch(e){var ae=r("getErrorSafe")(e),ie=ae instanceof Error?ae.message:"Fail to send secure attachment message";throw $!=null&&await i([v],ie,!1),c.catching(ae).mustfix("[External link] Failed to send external link XMA "),ae}},[a,l,i,t,n])}async function m(e,t){t!=null&&await e.runInTransaction(async function(e){var n=await e.e2ee_composer_draft_link_preview.get(t);await e.e2ee_composer_draft_link_preview.upsert([t],babelHelpers.extends({},n,{draftId:t,sendStatus:(s||(s=o("I64"))).of_int32(r("E2EELinkPreviewXMASendStatus").SENDING)}))},"readwrite",void 0,void 0,i.id+":453")}async function p(e,t,n,a){if(t==null)return o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_no_draft_id"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming"),null;o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_start"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_start","AppTiming");var l=null,s=await Promise.race([e.runInTransaction(function(e){return e.e2ee_composer_draft_link_preview.get(t)},"readonly",void 0,void 0,i.id+":497"),new Promise(function(e){l=r("setTimeout")(function(){o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_timeout"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_timeout","AppTiming"),e(void 0)},r("justknobx")._("3137"))})]);return r("clearTimeout")(l),o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_end"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_end","AppTiming"),o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(s==null?void 0:s.status,r("E2EELinkPreviewXMADataStatus").LOADING)&&(o("sendToSentQPLLogger").markSendToSentPoint(n,"get_link_preview_xma_data_from_table_still_loading"),a==null||a.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming")),{dataStatus:s==null?void 0:s.status,dataType:s==null?void 0:s.dataType,xmaData:o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(s)}}var _=function(t,n){return t?o("MAWExternalLinkUtil").getImageBlobResponse({xmaData:n}):o("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:n==null?void 0:n.thumbnail_url,xmaContentType:void 0})},f=function(t,n){o("sendToSentQPLLogger").addSendToSentAnnotations(t,{bool:{has_fetched_xma_preview:n!=null},string:{fetched_xma_preview_file_size_bucket:n!=null?o("WAMediaQplHelper").convertIntegerSizeToStringBucket(n.size):void 0}})},g=function(t){if(t!=null){var e=o("MAWDbMsg").toMsgId(t.messageId);if(e!=null)return o("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(e)}return null};async function h(e,t,n,r){var a={ref:void 0},i=await o("sendToSentQPLLogger").measureSendToSentPerformance("wait_for_link_preview_data",n,function(){return y(e,t,n,r,a)});if(a.ref!=null&&window.clearTimeout(a.ref),i==null)return{previewBlob:null,xmaData:null};var l=i.isOEmbedData,s=i.xmaData,u=await o("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",n,function(){return _(l,s)});return{previewBlob:u,xmaData:s}}function y(e,t,n,a,i){var l=r("justknobx")._("3137");return Promise.race([C(e,t,n,a),new Promise(function(e){i.ref=window.setTimeout(function(){o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_timeout"),e(null)},l)})])}function C(e,t,n,a){return o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_subscribe_to_lsdb_table_start"),new Promise(function(i){var l=o("ReQL").fromTableAscending(e.tables.e2ee_composer_draft_link_preview).getKeyRange(t).subscribe(function(e,s){if(s.operation!=="delete"){var u=s.value,c=o("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(u),d=o("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(u==null?void 0:u.status,r("E2EELinkPreviewXMADataStatus").LOADED);if(!(!d||c==null)){l(),t!=null&&a({draftId:t});var m=o("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(u==null?void 0:u.dataType,r("E2EELinkPreviewXMADataType").OEMBED);o("sendToSentQPLLogger").markSendToSentPoint(n,"wait_for_link_preview_data_subscribe_to_lsdb_table_end"),i({isOEmbedData:m,xmaData:c})}}})})}l.default=d}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWSendFileMsgTypes","MWPActor.react","Promise","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(){var t=o("react-compiler-runtime").c(3),a=(s||(s=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;return t[0]!==a||t[1]!==l?(u=function(r,s,u,c,d,m,p,_){return a.runInTransaction(function(t){return(e||(e=n("Promise"))).all(p.map(function(i){var u=i.attachmentType,p=i.messageExternalId,f=i.offlineAttachmentId,g=i.optimisticMediaAttachment;if(u==null)return(e||(e=n("Promise"))).resolve();var h=_.get(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(f));return o("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(a,t,l,r,s,f,g,c,d,u,p,m,h)}))},"readwrite","ui",void 0,i.id+":58")},t[0]=a,t[1]=l,t[2]=u):u=t[2],u}l.default=u}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","getErrorSafe","gkx","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMAWCreateOptimisticSecureMessagesWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStagedMediaAttachmentMessage"]);function d(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=r("useMarkOptimisticMessagesAsFailed")(),d=r("useMAWCreateOptimisticSecureMessagesWithAttachments")();return o("Int64Hooks").useCallbackInt64(async function(i){var m=i.lssTraceApi,p=i.mediaStagings,_=i.messageTypeParams,f=i.onGenerateOfflineMsgId,g=i.reply,h=i.s2sInstanceKey,y=i.source,C=i.thread;c.debug("Starting staged media attachment message send");var b=new Map,v;try{var S=null,R=o("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(p);S=o("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(R);var L=R.reduce(function(t,n){return t.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(n.offlineAttachmentId),(e||(e=o("I64"))).equal(n.attachmentType,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").IMAGE))?n.isHd:void 0),t},new Map),E=!1;L.forEach(function(e){E=E||e===!0}),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{bool:{has_hd_media:E}}),m==null||m.addAnnotationBoolean("has_hd_media",E);var k=new Map;v=await n(C.threadKey,h),m==null||m.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(h,"create_optimistic_message_start");var I=R.map(function(e){var t=o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(e.offlineAttachmentId),n=t==null?void 0:t.optimisticMedia;if(n==null)return c.mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage"),null;var r=o("MAWExternalId").generateExternalId(),a={attachmentType:e.attachmentType,messageExternalId:r,offlineAttachmentId:e.offlineAttachmentId,optimisticMediaAttachment:n};return a}).filter(Boolean),T=await d(g,C.threadKey,v,h,f,S,I,L);T.forEach(function(e){if(e==null||e.offlineAttachmentId==null)return c.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message"),null;b.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(e.offlineAttachmentId),{messageExternalId:e.messageExternalId,offlineMsgTimestamp:e.offlineMsgTimestamp})}),m==null||m.addMarkerPoint("create_optimistic_message_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(h,"create_optimistic_message_end"),r("gkx")("1618")||m==null||m.addMarkerPoint("get_preprocess_media_start","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(h,"get_preprocess_media_start"),await Promise.all(R.map(async function(e){var t=o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(e.offlineAttachmentId);if(t==null){o("sendToSentQPLLogger").markSendToSentPoint(h,"media_attachment_nullfrom_media_manager_attachment_v2"),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{int:{media_manager_attachment_v2_size:o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.size}}),c.mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}await t.processedMediaPromise.then(function(t){k.set(o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(e.offlineAttachmentId),t)}).catch(function(e){var t=r("getErrorSafe")(e);throw t}).finally(function(){var e=t.optimisticMedia;e!=null&&r("QPLUserFlow").addAnnotations(r("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(e.file.size),optimistic_media_file_type:e.file.type,optimistic_media_type:e.type}},{instanceKey:h}),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.originalFile.size)}}),m==null||m.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(t.originalFile.size))})})).catch(function(e){r("gkx")("1618")||m==null||m.addMarkerPoint("get_preprocess_media_fail","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(h,"get_preprocess_media_fail");var t=r("getErrorSafe")(e);o("sendToSentQPLLogger").addSendToSentAnnotations(h,{string:{error:t.message}})}),r("gkx")("1618")||m==null||m.addMarkerPoint("get_preprocess_media_end","AppTiming"),o("sendToSentQPLLogger").markSendToSentPoint(h,"get_preprocess_media_end");var D=o("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(R,_,f,k,h),x=D.attachments;r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:h});var $=await(u||(u=o("LSDatabaseSingleton"))).LSDatabaseSingleton;r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:h}),r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:h}),o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_start");var P=await o("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,C.threadKey);o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_end");var N={actorId:t,attachments:x,chatJid:v.jid,db:$,ephemeralSetting:P,hdMediaMap:L,initiatingSource:a,isFirstMsg:v.isCreated,lssTraceApi:m,mediaGroupMetadataMap:S,offlineAttachmentIdToMessageData:b,reply:g,s2sInstanceKey:h,source:y,thread:C};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2($,N)}catch(e){var M=r("getErrorSafe")(e),w=Array.from(b.values()).map(function(e){var t=e.messageExternalId;return t});throw v!=null&&await l(w,M.message,!1),c.catching(M).mustfix("Send staged media attachment message failed"),M}finally{p.map(function(e){return o("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.delete(e.offlineAttachmentId)})}},[t,d,a,l,n])}l.default=d}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MWFBLogger","MWPActor.react","MessagingAttachmentType","WAMediaQplHelper","getErrorSafe","gkx","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStickerAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(c){var d=c.accessibilityLabel,m=c.externalAttachmentUrl,p=c.lssTraceApi,_=c.messageExternalId,f=c.onGenerateOfflineMsgId,g=c.reply,h=c.s2sInstanceKey,y=c.source,C=c.sticker,b=c.thread;o("sendToSentQPLLogger").markSendToSentPoint(h,"send_secure_message_start"),u.debug("Starting sticker attachment message send");var v=C.stickerId,S=C.stickerType==="REGULAR",R=new Map,L;try{var E=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),k=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(b.threadKey,h)]),I=k[0],T=k[1];L=T,o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_start");var D=await o("MAWGetEphemeralSettings").getEphemeralSetting(L.jid,b.threadKey);o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_ephemeral_settings_end"),o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_external_attachment_blob_start"),p==null||p.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");var x=await o("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(m,h),$=new File([x],"stickerFromPicker",{type:x.type});o("sendToSentQPLLogger").markSendToSentPoint(h,"fetch_external_attachment_blob_end"),p==null||p.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming"),p==null||p.addMarkerPoint("create_optimistic_message_start","AppTiming"),o("sendToSentQPLLogger").addSendToSentAnnotations(h,{string:{original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket($.size)}}),p==null||p.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket($.size)),o("sendToSentQPLLogger").markSendToSentPoint(h,"optimist_image_preprocess_start");var P=await o("MAWImagePreProcess").optimisticImagePreprocess($,!0);o("sendToSentQPLLogger").markSendToSentPoint(h,"optimist_image_preprocess_end"),o("sendToSentQPLLogger").markSendToSentPoint(h,"create_optimistic_message_start");var N=await i(g,b.threadKey,L,E,P,h,f,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").STICKER),_);N!=null?(R.set(E,{messageExternalId:_,offlineMsgTimestamp:N.offlineMsgTimestamp}),o("sendToSentQPLLogger").markSendToSentPoint(h,"create_optimistic_message_end"),p==null||p.addMarkerPoint("create_optimistic_message_end","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),o("sendToSentQPLLogger").markSendToSentPoint(h,"create_optimistic_message_fail"),p==null||p.addMarkerPoint("create_optimistic_message_fail","AppTiming")),o("sendToSentQPLLogger").markSendToSentPoint(h,"image_preprocess_start"),r("gkx")("1618")||p==null||p.addMarkerPoint("image_preprocess_start","AppTiming");var M=r("gkx")("8057")&&S?await o("MAWImagePreProcess").stickerPreprocess($,v):await o("MAWImagePreProcess").imagePreprocess($,!0);o("sendToSentQPLLogger").markSendToSentPoint(h,"image_preprocess_end"),r("gkx")("1618")||p==null||p.addMarkerPoint("image_preprocess_end","AppTiming");var w=[[M,E]],A=new Map;A.set(E,d);var F={actorId:t,attachments:w,axLabels:A,chatJid:L.jid,db:I,ephemeralSetting:D,initiatingSource:a,isFirstMsg:L.isCreated,lssTraceApi:p,offlineAttachmentIdToMessageData:R,reply:g,s2sInstanceKey:h,source:y,thread:b};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(I,F)}catch(e){var O=r("getErrorSafe")(e),B=O.message||"Fail to send secure attachment message",W=Array.from(R.values()).map(function(e){var t=e.messageExternalId;return t});throw L!=null&&await l(W,B,!1),u.catching(O).mustfix("Send sticker attachment message failed"),O}},[t,i,a,l,n])}l.default=c}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MWFBLogger","MWMediaRenderQplUtils","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WABlobToArrayBuffer","WAMediaQplHelper","getErrorSafe","gkx","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=o("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureVoiceClipAttachmentMessage"]);function c(){var t=o("MWPActor.react").useActor(),n=r("useMaybeCreateThreadForMAWSendSecurMessageV2")(),a=r("useLSMessagingInitiatingSourceNumber")(),i=r("useMAWCreateOptimisticSecureMessageWithAttachments")(),l=r("useMarkOptimisticMessagesAsFailed")();return o("Int64Hooks").useCallbackInt64(async function(c){var d=c.lssTraceApi,m=c.messageExternalId,p=c.onGenerateOfflineMsgId,_=c.reply,f=c.s2sInstanceKey,g=c.source,h=c.thread,y=c.voiceClip;u.debug("Starting voice clip attachment message send");var C=new Map,b;try{var v,S=o("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(o("MAWExternalId").generateExternalId()),R=await Promise.all([(e||(e=o("LSDatabaseSingleton"))).LSDatabaseSingleton,n(h.threadKey,f)]),L=R[0],E=R[1];b=E;var k=await o("MAWGetEphemeralSettings").getEphemeralSetting(b.jid,h.threadKey);r("QPLUserFlow").addPoint(r("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:f}),o("sendToSentQPLLogger").addSendToSentAnnotations(f,{string:{audio_duration_bucket:o("MWMediaRenderQplUtils").convertDurationToStringBucket(y.duration||0),original_file_size:o("WAMediaQplHelper").convertIntegerSizeToStringBucket(y.file.size)}}),d==null||d.addMetadata("original_file_size",o("WAMediaQplHelper").convertIntegerSizeToStringBucket(y.file.size));var I=await o("MAWAudioPreProcess").optimisticAudioPreprocess(y.file,{voiceClipDuration:y.duration,voiceClipWaveformData:y.waveformData});d==null||d.addMarkerPoint("create_optimistic_message_start","AppTiming");var T=await i(_,h.threadKey,b,S,I,f,p,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingAttachmentType").AUDIO),m);T!=null?(C.set(S,{messageExternalId:m,offlineMsgTimestamp:T.offlineMsgTimestamp}),d==null||d.addMarkerPoint("create_optimistic_message_success","AppTiming")):(u.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),d==null||d.addMarkerPoint("create_optimistic_message_fail","AppTiming"));var D=((v=y.waveformData)==null?void 0:v.amplitudes)!=null&&r("gkx")("20216")?new Uint8Array(y.waveformData.amplitudes).buffer:void 0,x={durations:y.duration||0,file:y.file,isPtt:!0,plaintext:await o("WABlobToArrayBuffer").blobToArrayBuffer(y.file),type:"audio",waveform:D},$=[[x,S]],P={actorId:t,attachments:$,chatJid:b.jid,db:L,ephemeralSetting:k,initiatingSource:a,isFirstMsg:b.isCreated,lssTraceApi:d,offlineAttachmentIdToMessageData:C,reply:_,s2sInstanceKey:f,source:g,thread:h};return await o("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(L,P)}catch(e){var N=r("getErrorSafe")(e),M=Array.from(C.values()).map(function(e){var t=e.messageExternalId;return t});throw b!=null&&await l(M,N.message,!1),u.catching(N).mustfix("Send voice clip attachment message failed: %s",N.message),N}},[t,i,a,l,n])}l.default=c}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(2),a=(s||(s=r("useReStore")))(),l;return t[0]!==a?(l=function(r){return o("LSMessagingThreadTypeUtil").isOneToOne(r.threadType)?a.runInTransaction(function(e){return o("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(e,r.threadKey)},"readwrite",void 0,void 0,i.id+":37"):(e||(e=n("Promise"))).resolve()},t[0]=a,t[1]=l):l=t[1],l}l.default=d}),98);
__d("useMAWSendSecureMessageV2Impl",["I64","Int64Hooks","LSContactListConversionAttributionStore","LSIntEnum","LSMessagingThreadTypeUtil","MAWMIC","MAWMICInternal","MAWOptimisticUpdateContactRelationship","MAWThreadLoadingState","MAWThreadMappingUtils","MWFBLogger","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","err","getSafeQplErrorMessage","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSDefaultThreadSourceAndResetAttribution","useMWLSUnarchiveThread","waitForMAWMIC"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext,d=o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]);function m(e,t,n){var a=o("react-compiler-runtime").c(31),i=o("MWPActor.react").useActor(),l=c(o("MWPReplyContext.react").MWPReplyContext),m=l.clearReply,g=r("useAsyncReStore")(),h=r("useMAWSendSecureTextMessage")(),y=r("useMAWSendSecureLinkXMAMessage")(t),C=r("useMAWDeleteLinkPreviewXMATableData")(t),b=r("useMAWSendSecureGifAttachmentMessage")(),v=r("useMAWSendSecureStagedMediaAttachmentMessage")(),S=r("useMAWSendSecureStickerAttachmentMessage")(),R=r("useMAWSendSecureVoiceClipAttachmentMessage")(),L=r("useMWLSUnarchiveThread")(),E=r("useMAWUpdateThreadCapabilities")(),k=o("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(n,t),I=r("useMWLSDefaultThreadSourceAndResetAttribution")(),T;a[0]!==i||a[1]!==m||a[2]!==g||a[3]!==C||a[4]!==e||a[5]!==b||a[6]!==y||a[7]!==v||a[8]!==S||a[9]!==h||a[10]!==R||a[11]!==k||a[12]!==L||a[13]!==E?(T=async function(n){var t=n.accessibilityLabel,a=n.commands,l=n.composerEntrypointForLogging,c=n.currentDraftId,I=n.externalAttachmentUrl,T=n.hotEmojiSize,D=n.lssTraceApi,x=n.mediaStagings,$=n.mentionedJids,P=n.messageExternalId,N=n.messageText,M=n.messageTypeParams,w=n.reply,A=n.s2sInstanceKey,F=n.source,O=n.sticker,B=n.thread,W=n.voiceClip,q=o("MAWMIC").duringMIC();o("sendToSentQPLLogger").addSendToSentAnnotations(A,{bool:{during_mic:q}}),q&&(o("sendToSentQPLLogger").markSendToSentPoint(A,"mic_track_start"),o("sendToSentQPLLogger").addSendToSentAnnotations(A,{string_array:{mic_events:Array.from(o("MAWMICInternal").getRemainingRequiredEvents())}}),r("promiseDone")(o("waitForMAWMIC").promise,function(){o("sendToSentQPLLogger").markSendToSentPoint(A,"mic_track_end")})),d.debug("Starting message send"),o("sendToSentQPLLogger").markSendToSentPoint(A,"send_secure_message_start"),D.addMarkerPoint("send_secure_message_started","AppTiming");var U=await g;D.addAnnotation("thread_authority_level",(s||(s=o("I64"))).to_string(B.authorityLevel)),r("promiseDone")(o("MAWThreadMappingUtils").getChatJidFromMappingTable(U.tables,B.threadKey),function(e){e!=null&&o("MAWThreadLoadingState").genLoadingStateFromJid(U.tables,e).then(function(e){D.addAnnotation("thread_mapping_act_state",e.actState),D.addAnnotation("thread_mapping_mi_state",e.miState),o("sendToSentQPLLogger").addSendToSentAnnotations(A,{string:{thread_authority_level:(s||(s=o("I64"))).to_string(B.authorityLevel),thread_mapping_act_state:e.actState,thread_mapping_mi_state:e.miState}})}).finally(f)});var V=o("LSMessagingThreadTypeUtil").isMessageRequest(B),H=s.equal(B.parentThreadKey,(u||(u=o("LSIntEnum"))).ofNumber(-10));o("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(D,M,B,l);var G=function(t){o("MWLSLogSend").logSentHeroInteraction(D,t,{isMessageRequest:V,mwVersion:o("MWVersion").v2,source:(u||(u=o("LSIntEnum"))).unwrapIntEnum(F),threadType:B.threadType}),o("sendToSentQPLLogger").markSendToSentPoint(A,"offline_msg_id_generated")},z=[],j=M.hasAttachment,K=M.hasLinks,Q=j===void 0?!1:j,X=K===void 0?!1:K;N!=null&&N!==""&&(X?(z.push(y(U,{commands:a,currentDraftId:c,lssTraceApi:D,mentionedJids:$,messageExternalId:P,messageText:N,onGenerateOfflineMsgId:Q?void 0:G,reply:w,s2sInstanceKey:A,source:F,thread:B,threadKey:B.threadKey}).then(function(e){return c!=null&&C({draftId:c}),e})),o("sendToSentQPLLogger").markSendToSentPoint(A,"link_xma_message_promise_pushed_to_send_promises")):(z.push(h(U,{commands:a,hotEmojiSize:T,lssTraceApi:D,mentionedJids:$,messageExternalId:P,messageText:N,onGenerateOfflineMsgId:Q?void 0:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"text_message_promise_pushed_to_send_promises")));var Y=!0;return Q&&(O!=null&&I!=null?(z.push(S({accessibilityLabel:t==null?void 0:t.toString(),externalAttachmentUrl:I,lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,sticker:O,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"sticker_message_promise_pushed_to_send_promises"),Y=!1):I!=null?(z.push(b({accessibilityLabel:t==null?void 0:t.toString(),externalAttachmentUrl:I,lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),Y=!1):W!=null?(z.push(R({lssTraceApi:D,messageExternalId:P,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B,voiceClip:W})),o("sendToSentQPLLogger").markSendToSentPoint(A,"voice_clip_message_promise_pushed_to_send_promises"),Y=!1):x.length>0?(z.push(v({lssTraceApi:D,mediaStagings:x,messageTypeParams:M,onGenerateOfflineMsgId:G,reply:w,s2sInstanceKey:A,source:F,thread:B})),o("sendToSentQPLLogger").markSendToSentPoint(A,"staged_media_message_promise_pushed_to_send_promises")):(o("sendToSentQPLLogger").markSendToSentPoint(A,"no_send_promises_pushed_to_send_promises"),d.mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params"))),Y&&e(),m(B.threadKey,!1),o("sendToSentQPLLogger").markSendToSentPoint(A,"attachment_and_reply_data_cleared"),z.length===0?(o("sendToSentQPLLogger").markSendToSentPoint(A,"create_send_promises_fail"),z.push(new Promise(function(e,t){t(r("err")("No send actions taken because hasAttachment="+Q.toString()))}))):(o("sendToSentQPLLogger").markSendToSentPoint(A,"create_send_promises_end",void 0,{int:{send_promise_count:z.length}}),D.addMetadata("send_promises_count",z.length)),o("sendToSentQPLLogger").markSendToSentPoint(A,"resolve_send_promises_start"),(z.length>1||x.length>1)&&o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+z.length+".media:"+x.length),Promise.all(z).then(_).then(async function(e){o("sendToSentQPLLogger").markSendToSentPoint(A,"resolve_send_promises_end"),N!=null&&N!==""&&X&&o("sendToSentQPLLogger").markSendToSentSuccess(A),d.debug("Message send finished");var t=o("LSContactListConversionAttributionStore").getAttribution(k);t!=null&&k!=null&&(t.surface.entry_point==="comet_home_sidebar"?o("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(t):t.surface.entry_point==="inbox_tray"&&o("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(t),o("LSContactListConversionAttributionStore").resetAttribution(k)),o("MAWOptimisticUpdateContactRelationship").call(B,U,i),await E(B),V&&o("MessageRequestsLog").logActionConfirmed(B,1),H&&L(B.threadKey);var n=e==null?void 0:e.find(p);return o("sendToSentQPLLogger").markSendToSentPoint(A,"send_attachment_end"),n!=null?[n]:e}).catch(function(e){if(o("sendToSentQPLLogger").markSendToSentFail(A,"message_send_fail",e),e instanceof Error){var t;d.catching(e).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+Q.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",z.length,(t=e.message)!=null?t:String(e))}else d.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+Q.toString()).catching(e).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl");throw D==null||D.addAnnotation("failType","failSendSecureMessage"),D==null||D.failTrace("Failed while sending secure message - "+o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e),!0),e})},a[0]=i,a[1]=m,a[2]=g,a[3]=C,a[4]=e,a[5]=b,a[6]=y,a[7]=v,a[8]=S,a[9]=h,a[10]=R,a[11]=k,a[12]=L,a[13]=E,a[14]=T):T=a[14];var D;return a[15]!==i||a[16]!==m||a[17]!==g||a[18]!==C||a[19]!==I||a[20]!==e||a[21]!==b||a[22]!==y||a[23]!==v||a[24]!==S||a[25]!==h||a[26]!==R||a[27]!==k||a[28]!==L||a[29]!==E?(D=[g,m,I,y,C,h,S,b,R,v,e,k,i,E,L],a[15]=i,a[16]=m,a[17]=g,a[18]=C,a[19]=I,a[20]=e,a[21]=b,a[22]=y,a[23]=v,a[24]=S,a[25]=h,a[26]=R,a[27]=k,a[28]=L,a[29]=E,a[30]=D):D=a[30],o("Int64Hooks").useCallbackInt64(T,D)}function p(e){return(e==null?void 0:e.success)===!1}function _(e){return e.flat(1)}function f(){}l.default=m}),98);
__d("useMAWSendSecureMessageV2",["FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWExternalId","MAWJids","MWFBLogger","MWMsgMediaTypeLogUtils","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","WACommon.pb","getMWIsDefaultHotlikeStickerId","justknobx","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useCometInteractionTracing","useIsSecureMessageData","useLSMessagingSource","useMAWSendSecureMessageV2Impl"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useContext;function d(e,t,n){var a=o("react-compiler-runtime").c(17),i=c(o("MWPReplyContext.react").MWPReplyContext),l=i.reply,d=l==null?void 0:l.messageId,p=l==null?void 0:l.threadKey,_=l==null?void 0:l.timestampMs,f;a[0]!==d||a[1]!==p||a[2]!==_?(f={messageId:d,messageThreadKey:p,messageTimestamp:_},a[0]=d,a[1]=p,a[2]=_,a[3]=f):f=a[3];var g;a[4]!==e.threadType?(g={fallbackThreadType:e.threadType},a[4]=e.threadType,a[5]=g):g=a[5];var h=r("useIsSecureMessageData")(f,g),y=c(o("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext),C=y.onMessageSendAttempt,b=r("useMAWSendSecureMessageV2Impl")(n,e.threadType,e.threadKey),v;a[6]===Symbol.for("react.memo_cache_sentinel")?(v=r("qpl")._(30605384,"573"),a[6]=v):v=a[6];var S=r("useCometInteractionTracing")(v,"fast","INTERACTION",void 0),R=r("useAsyncReStore")(),L=r("useLSMessagingSource")(),E;return a[7]!==R||a[8]!==h||a[9]!==L||a[10]!==t||a[11]!==C||a[12]!==l||a[13]!==b||a[14]!==e||a[15]!==S?(E=function(a,i,c,d,p,_,f,g,y,v,E,k,I,T,D,x,$,P){o("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]).debug("Calling useMAWSendSecureMessageV2");var n=[],N=[];for(var M of i!=null?i:[])e:switch(M.type){case"t":{n.push({commandType:o("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE,length:M.length,offset:M.offset});break e}default:N.push(o("MAWJids").toUserJid(M.id))}var w=a;c!=null&&r("getMWIsDefaultHotlikeStickerId")((s||(s=o("I64"))).to_string(c.stickerId))&&(w="\u{1F44D}");var A=o("MAWExternalId").generateExternalId();r("promiseDone")(R,function(i){C==null||C(!0),S(function(s){var p=function(i,u,p,f){return b({accessibilityLabel:P,commands:n,composerEntrypointForLogging:x,currentDraftId:D,externalAttachmentUrl:_,hotEmojiSize:d,lssTraceApi:s,mediaStagings:p,mentionedJids:N,messageExternalId:A,messageText:w,messageTypeParams:u,reply:h?l:void 0,s2sInstanceKey:i,source:f,sticker:c,thread:e,voiceClip:g}).then(function(e){var n=e.some(m);return n||(t(),r("justknobx")._("2486")&&v&&v()),e}).catch(function(e){o("sendToSentQPLLogger").markSendToSentFail(i,"message_send_fail",e),s.failTrace(e,!0);var t=r("FBLogger")("messenger_web_sharing");throw e instanceof Error&&t.catching(e),t.mustfixThrow("Encountered failure during Armadillo Message Send (UI)")})};r("promiseDone")(o("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams({db:i,externalAttachmentUrl:_,hotEmojiSize:d,messageText:a,reply:l,sticker:c,threadKey:e==null?void 0:e.threadKey,threadType:e.threadType,voiceClip:g}),async function(t){var n=t.mediaStagings,r=t.messageTypeParams,a=o("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:r.hasFile,hasGif:r.hasGif,hasHotEmoji:r.hasHotEmoji,hasImage:r.hasImage,hasLinks:r.hasLinks,hasShare:r.hasShare,hasSticker:r.hasSticker,hasVideo:r.hasVideo,hasVoiceClip:r.hasVoiceClip,isAttachmentsGrouped:r.isAttachmentsGrouped,numberOfAttachments:r.numberOfAttachments,numberOfGroupedAttachments:r.numberOfGroupedAttachments}),i=o("sendToSentQPLLogger").markSendToSentStart(void 0,a),l=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(e.threadKey,L);return o("sendToSentQPLLogger").addSendToSentAnnotations(i,await o("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:r,composerEntrypoint:x,messageOfflineThreadingId:A,source:(u||(u=o("LSIntEnum"))).unwrapIntEnum(l),thread:e})),p(i,r,n,l)})})})},a[7]=R,a[8]=h,a[9]=L,a[10]=t,a[11]=C,a[12]=l,a[13]=b,a[14]=e,a[15]=S,a[16]=E):E=a[16],E}function m(e){return(e==null?void 0:e.success)===!1}l.default=d}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useCallback;function u(){return c}function c(e,t){o("mwPushToast").mwPushErrorToast({body:t,title:e})}l.default=u}),98);
__d("useMWMediaManager",["MWMediaManager","MWMediaManagerFileSizeLimit","justknobx","react-compiler-runtime","useMWMediaManagerUploadFailedToast"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(5),n=e.onUploadFailure,a=e.thread,i=r("useMWMediaManagerUploadFailedToast")(),l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=r("justknobx")._("2538"),t[0]=l):l=t[0];var u=l,c;return t[1]!==n||t[2]!==i||t[3]!==a?(c={getMaxAttachmentSizeInMB:s,maxNumberOfAttachments:u,onUploadFailure:n,showUploadFailureToast:i,thread:a},t[1]=n,t[2]=i,t[3]=a,t[4]=c):c=t[4],o("MWMediaManager").useMediaManager(c)}function s(e,t){return o("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(t)}l.default=e}),98);
__d("MAWSecureComposer.react",["fbt","MAWLinkPreview.react","MAWSecureComposerText","MAWSecureThreadNonAddressableContactBanner.react","MAWSecureTypingState","MAWSupportedFileTypes","MAWVoiceClipLimit","MWBlockedComposerLogging","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWVoiceRecordQpl","WebUXLoggingSurfaceContextProvider","cr:12419","cr:2673","emptyFunction","react","react-compiler-runtime","requireDeferred","useCometAlertDialog","useMAWEditMessageData","useMAWSendSecureMessageV2","useMWMediaManager","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useContext,p=c.useState,_=r("requireDeferred")("MWChatAudioLog").__setRef("MAWSecureComposer.react");function f(){_.onReady(function(e){return e.logClickStartRecording()})}function g(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function h(e){var t=o("react-compiler-runtime").c(50),a=e.afterSendMessage,i=e.isPreviewThread,l=e.thread,c=a===void 0?r("emptyFunction"):a,d=m(o("MWPReplyContext.react").MWPReplyContext),_=d.reply,h=r("useMAWEditMessageData")(),y=r("useCometAlertDialog")(),C;t[0]!==y?(C=function(){return y({body:s._(/*BTDS*/"Sorry we are unable to preprocess or upload the media you provided."),title:s._(/*BTDS*/"Failed to upload media")})},t[0]=y,t[1]=C):C=t[1];var b=C,v;t[2]!==b||t[3]!==l?(v={onUploadFailure:b,thread:l},t[2]=b,t[3]=l,t[4]=v):v=t[4];var S=r("useMWMediaManager")(v),R=S.handleFileRemove,L=S.handleFileSelect,E=S.mediaStaging,k=S.onHdMediaToggled,I=S.resetAttachments,T=r("useMAWSendSecureMessageV2")(l,c,I),D=o("MAWSecureTypingState").useOnTypingStateChanged(l.authorityLevel,l.threadKey,l.threadType);r("useMWV2FileDropzoneRegisterHandler")(L);var x=p(!1),$=x[0],P=x[1];o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(l.threadKey,$?o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:o("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);var N;t[5]!==i||t[6]!==E||t[7]!==T||t[8]!==D||t[9]!==l.threadKey||t[10]!==l.threadType?(N={composerEntrypointForLogging:"MAWSecureComposer.lexical",getTextFromEditorState:o("MAWSecureComposerText").getTextFromEditorState,isPreviewThread:i,mediaStaging:E,onSendMessage:T,onTypingStateChanged:D,threadKey:l.threadKey,threadType:l.threadType},t[5]=i,t[6]=E,t[7]=T,t[8]=D,t[9]=l.threadKey,t[10]=l.threadType,t[11]=N):N=t[11];var M=r("useMWPComposerEditor")(N),w=M.editor,A=M.editorElementRef,F=M.hasStuffToSend,O=M.sendMessage,B;t[12]===Symbol.for("react.memo_cache_sentinel")?(B={createVoiceRecordQpl:o("MWVoiceRecordQpl").createVoiceRecordQpl,logBrowserDenyAccess:g,logClickStartRecording:f,maxDuration:o("MAWVoiceClipLimit").getMAWMaxVoiceClipDurationInSeconds(!0)},t[12]=B):B=t[12];var W=n("cr:2673").useVoiceRecorder(B),q;t[13]!==_||t[14]!==l?(q=_!=null?u.jsx(o("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:_.messageId,messageThreadKey:_.threadKey,messageTimestamp:_.timestampMs,thread:l}):null,t[13]=_,t[14]=l,t[15]=q):q=t[15];var U=_!=null,V;t[16]!==U||t[17]!==l.threadKey||t[18]!==l.threadType?(V=u.jsx(r("MAWLinkPreview.react"),{isReplying:U,threadKey:l.threadKey,threadType:l.threadType}),t[16]=U,t[17]=l.threadKey,t[18]=l.threadType,t[19]=V):V=t[19];var H;t[20]!==l?(H=u.jsx(r("MAWSecureThreadNonAddressableContactBanner.react"),{setHideComposerEditor:P,thread:l}),t[20]=l,t[21]=H):H=t[21];var G;t[22]!==h?(G=h!=null&&u.jsx(r("MWV2ComposerEditContainer.react"),{editMessageData:h}),t[22]=h,t[23]=G):G=t[23];var z;t[24]!==h||t[25]!==w||t[26]!==A||t[27]!==R||t[28]!==L||t[29]!==F||t[30]!==$||t[31]!==E||t[32]!==k||t[33]!==T||t[34]!==O||t[35]!==l||t[36]!==W?(z=$||h!=null?null:u.jsx(o("MWV2ComposerView.react").MWV2ComposerView,{editor:w,editorElementRef:A,hasStuffToSend:F,isMentionsPluginEnabled:!0,mediaStaging:E,onAttachmentRemoved:R,onAttachmentsAdded:L,onHdMediaToggled:k,onSendMessage:T,policyProduct:"messaging_lightswitch",sendMessage:O,supportedFileTypes:o("MAWSupportedFileTypes").supportedFileTypes,surface:"mwp_maw_secure_composer",thread:l,voiceRecorder:W}),t[24]=h,t[25]=w,t[26]=A,t[27]=R,t[28]=L,t[29]=F,t[30]=$,t[31]=E,t[32]=k,t[33]=T,t[34]=O,t[35]=l,t[36]=W,t[37]=z):z=t[37];var j;t[38]!==h||t[39]!==w||t[40]!==F||t[41]!==l?(j=h==null&&n("cr:12419")!=null&&u.jsx(n("cr:12419"),{editor:w,hasStuffToSend:F,thread:l}),t[38]=h,t[39]=w,t[40]=F,t[41]=l,t[42]=j):j=t[42];var K;return t[43]!==G||t[44]!==z||t[45]!==j||t[46]!==q||t[47]!==V||t[48]!==H?(K=u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"secure_composer",children:u.jsxs("div",{"data-testid":void 0,children:[q,V,H,G,z,j]})}),t[43]=G,t[44]=z,t[45]=j,t[46]=q,t[47]=V,t[48]=H,t[49]=K):K=t[49],K}l.default=h}),226);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,a,i,l){if(o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)){i!=null&&o("MessageRequestsLog").logActionConfirmed(a,8,(s||(s=o("I64"))).to_string(i)),r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(t.tables,a.threadKey,"MAWSecureComposerUtils",function(t,r){return o("MAWUIJob").UIJobStarters.fireAndForget(o("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:r,scheduleConfig:{priority:o("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}})),(e||(e=n("Promise"))).resolve()}));return}}l.onDeleteThread=u}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WAJids","WMIWABridgeApi","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=c.useEffect,m=c.useRef;function p(e,t){var n=o("react-compiler-runtime").c(11),a;n[0]!==t.tables.contacts||n[1]!==t.tables.participants||n[2]!==e.threadKey?(a=function(){return o("ReQL").mergeJoin(o("ReQL").fromTableAscending(t.tables.participants,["contactId"]).getKeyRange(e.threadKey),o("ReQL").fromTableAscending(t.tables.contacts)).map(_).filter(Boolean)},n[0]=t.tables.contacts,n[1]=t.tables.participants,n[2]=e.threadKey,n[3]=a):a=n[3];var l;n[4]!==t||n[5]!==e.threadKey?(l=[t,e.threadKey],n[4]=t,n[5]=e.threadKey,n[6]=l):l=n[6];var s=o("ReQLSuspense").useArray(a,l,i.id+":30"),u;n[7]===Symbol.for("react.memo_cache_sentinel")?(u=new Set,n[7]=u):u=n[7];var c=m(u),p,f;n[8]!==s?(p=function(){var e=c.current.size!==s.length||!s.every(function(e){return c.current.has(e)});if(!(!e&&s.length>2)){var t=new Set(s);c.current=t,r("promiseDone")(r("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:t}))}},f=[s],n[8]=s,n[9]=p,n[10]=f):(p=n[9],f=n[10]),d(p,f)}function _(e){var t=e[0],n=e[1],a=t.contactId;return(s||(s=o("I64"))).ge(n.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?o("WAJids").toMsgrUserJid((s||(s=o("I64"))).to_string(a)):null}l.default=p}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:1683","cr:19886","react","react-compiler-runtime","useReStore","useSecureThreadDetailGetDevices"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useState;function _(e,t){}var f=(e=n("cr:1683"))!=null?e:_;function g(e){var t=o("react-compiler-runtime").c(17),a=e.cutoverOpenThread,i=e.entryPoint,l=e.messageListRef,d=e.thread,_=(s||(s=r("useReStore")))();r("useSecureThreadDetailGetDevices")(d,_);var g=p(!0),h=g[0],y=g[1],C;t[0]!==a?(C=a!=null&&(u||(u=o("I64"))).equal(a.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),t[0]=a,t[1]=C):C=t[1];var b=C;f(_,d.threadKey);var v;t[2]!==h||t[3]!==b?(v=n("cr:19886")!=null&&b&&m.jsx(n("cr:19886"),{isShown:!h}),t[2]=h,t[3]=b,t[4]=v):v=t[4];var S;t[5]!==v?(S=m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:v}),t[5]=v,t[6]=S):S=t[6];var R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=m.jsx(r("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=function(t){return y(t)},t[8]=L):L=t[8];var E;t[9]!==a||t[10]!==i||t[11]!==l||t[12]!==d?(E=m.jsxs(o("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:!0,children:[R,m.jsx(r("MAWMessageList.react"),{cutoverOpenThread:a,entryPoint:i,onScrollToBottom:L,ref:l,thread:d})]}),t[9]=a,t[10]=i,t[11]=l,t[12]=d,t[13]=E):E=t[13];var k;return t[14]!==S||t[15]!==E?(k=m.jsxs(m.Fragment,{children:[S,E]}),t[14]=S,t[15]=E,t[16]=k):k=t[16],k}l.default=g}),98);
__d("MAWSecureThreadQPContainerInner_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerInner_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};a.exports=e}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function d(e){var t,n=o("react-compiler-runtime").c(8),a=e.eligiblePromotions,i=o("CometRelay").useFragment(c,a),l;if(n[0]!==(i==null?void 0:i.nodes)){var s;l=i==null||(s=i.nodes)==null?void 0:s.find(m),n[0]=i==null?void 0:i.nodes,n[1]=l}else l=n[1];var d=l,p=d==null||(t=d.comet_qp_sections)==null?void 0:t.renderer_strategy,_;n[2]===Symbol.for("react.memo_cache_sentinel")?(_={context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"},n[2]=_):_=n[2];var f=r("useQuickPromotionFalcoEvent")(_);if(p==null)return null;var g;n[3]!==p?(g=u.jsx(o("CometRelay").MatchContainer,{match:p}),n[3]=p,n[4]=g):g=n[4];var h;return n[5]!==f||n[6]!==g?(h=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:f,children:g}),n[5]=f,n[6]=g,n[7]=h):h=n[7],h}function m(e){var t;return((t=e.comet_qp_sections)==null?void 0:t.renderer_strategy)!=null}l.default=d}),98);
__d("MAWSecureThreadQPContainerInner.react",["CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner_query.graphql","MAWSecureThreadQuickPromotion.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerInner_query.graphql");function d(e){var t,n=o("react-compiler-runtime").c(2),a=e.query,i=o("CometRelay").useFragment(c,a),l=i==null||(t=i.viewer)==null?void 0:t.eligible_promotions;if(l==null)return null;var s;return n[0]!==l?(s=u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.EligiblePromotions",children:u.jsx(r("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:l})}),n[0]=l,n[1]=s):s=n[1],s}l.default=d}),98);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{if:null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:n("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}};n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerQuery.graphql");function d(e){var t=o("react-compiler-runtime").c(2),n=e.mawSecureThreadQPContainerQueryRef,a=o("CometRelay").usePreloadedQuery(c,n),i;return t[0]!==a?(i=u.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:u.jsx(r("MAWSecureThreadQPContainerInner.react"),{query:a})})}),t[0]=a,t[1]=i):i=t[1],i}l.default=d}),98);
__d("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24029028516731081"}),null);
__d("MAWSecureThreadQPContainerLazyLoadedQuery.graphql",["MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation","relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{if:null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:n("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerLazyLoadedQuery",operationKind:"query",text:null}};n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MAWSecureThreadQPContainerLazyLoaded.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerLazyLoadedQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e!==void 0?e:e=n("MAWSecureThreadQPContainerLazyLoadedQuery.graphql");function d(){var e=o("react-compiler-runtime").c(2),t=o("CometRelay").useLazyLoadQuery(c,{}),n;return e[0]!==t?(n=u.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:u.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:u.jsx(r("MAWSecureThreadQPContainerInner.react"),{query:t})})}),e[0]=t,e[1]=n):n=e[1],n}l.default=d}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){r("MWGetChatTabOpenQPLEventTrace")(e,function(e){e.failTrace(t,!0)})}l.default=e}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.message,i=e.threadKey,l;t[0]!==a||t[1]!==i?(l=function(t){r("MWFailChatTabOpenQPLEvent")(i,t.toString()),r("FBLogger")("messenger_web_entrypoints").catching(t).mustfix(a+": %s",t.toString())},t[0]=a,t[1]=i,t[2]=l):l=t[2];var u;return t[3]!==n||t[4]!==l?(u=s.jsx(r("CometErrorBoundary.react"),{fallback:d,onError:l,children:n}),t[3]=n,t[4]=l,t[5]=u):u=t[5],u}function d(e){return s.jsx(r("MWInboxErrorState.react"),{error:e,plural:!1,source:"thread_error_boundary",xstyle:u.errorBoundary})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWAckLevel","MAWBridgeFireAndForget","MAWBridgeNewMsgHandler","MAWLocalizationType","MAWMiActOnActThreadReady","MAWMpsGating","MAWMsgType","MpsToBridgeMessageId","MpsTypes","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","react-compiler-runtime","useMWGetOtherUserContact","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(u||(u=o("react"))).useEffect;function m(e){return e.showOpenMessageHistory===!1}function p(e,t,n,r,a){var l=e+"DUALCUTOVER",s=o("MpsTypes").toMessageId(l),u=o("MpsTypes").toThreadId(l),d=o("WATimeUtils").castToMillisTime((c||(c=o("I64"))).to_float(t.timestampMs)),m={ack:o("MAWAckLevel").ACK.received,adminContent:n!=null?[n]:[],adminType:r?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:n!=null?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN,adminVersion:1,chatJid:e,externalId:l,forwardingScore:0,isAdminMessage:!0,isAuthorMe:!1,isForwarded:!1,msgId:o("MpsToBridgeMessageId").mpsToBridgeMsgId(u,s),sender:"",sortOrderMs:d,ts:o("WATimeUtils").castToUnixTime(d),type_:o("MAWMsgType").MSG_TYPE.ADMIN};return a.runInTransaction(function(e){return o("MAWBridgeNewMsgHandler").call(e,m)},"readwrite",void 0,void 0,i.id+":76")}function _(t,a){var l=o("react-compiler-runtime").c(22),u=(s||(s=r("useReStore")))(),_;l[0]!==u.tables.mi_act_mapping_table||l[1]!==t?(_=function(){return o("ReQL").fromTableAscending(u.tables.mi_act_mapping_table).getKeyRange(t)},l[0]=u.tables.mi_act_mapping_table,l[1]=t,l[2]=_):_=l[2];var f;l[3]!==u||l[4]!==t?(f=[t,u],l[3]=u,l[4]=t,l[5]=f):f=l[5];var g=o("ReQLSuspense").useFirst(_,f,i.id+":87"),h=g==null?void 0:g.jid,y=g==null?void 0:g.serverThreadKey,C;l[6]!==u.tables.cutover_threads||l[7]!==h?(C=function(){return h!=null?o("ReQL").fromTableAscending(u.tables.cutover_threads).getKeyRange(h).filter(m):o("ReQL").empty()},l[6]=u.tables.cutover_threads,l[7]=h,l[8]=C):C=l[8];var b;l[9]!==u||l[10]!==h?(b=[u,h],l[9]=u,l[10]=h,l[11]=b):b=l[11];var v=o("ReQLSuspense").useFirst(C,b,i.id+":96"),S;l[12]===Symbol.for("react.memo_cache_sentinel")?(S=["id"],l[12]=S):S=l[12];var R=r("useMWGetOtherUserContact")(t,a,S),L=R==null,E;l[13]!==R?(E=(R==null?void 0:R.id)!=null?(c||(c=o("I64"))).to_string(R.id):null,l[13]=R,l[14]=E):E=l[14];var k=E,I,T;l[15]!==u||l[16]!==v||l[17]!==L||l[18]!==k||l[19]!==y?(I=function(){!v||y==null||!r("justknobx")._("1446")||r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(u.tables,y,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(t,r){return o("MAWMpsGating").isMpsMessageRendering()?p(r,v,k,L,u):(o("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:r,cutoverTimestampMs:o("WATimeUtils").castToMillisTime((c||(c=o("I64"))).to_float(v.timestampMs)),localizationType:L?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:k!=null?o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:o("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN,otherUserID:k}),(e||(e=n("Promise"))).resolve())}))},T=[u,v,L,k,y],l[15]=u,l[16]=v,l[17]=L,l[18]=k,l[19]=y,l[20]=I,l[21]=T):(I=l[20],T=l[21]),d(I,T)}l.default=_}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","MWFBLogger","Promise","promiseDone","react","react-compiler-runtime","updateEphemeralDuration","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef,m=0;function p(e){var t=o("react-compiler-runtime").c(4),n=r("useAsyncReStore")(),a=d(null),i,l;t[0]!==n||t[1]!==e?(i=function(){(a.current==null||a.current!==e)&&(a.current=e,o("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&r("promiseDone")(n,function(t){return r("promiseDone")(o("MAWMiActOnActThreadReady").onActThreadReady(t.tables,e,"useMAWResetEphemeralSettings",function(t,n){return _(e,n)}))}))},l=[e,n],t[0]=n,t[1]=e,t[2]=i,t[3]=l):(i=t[2],l=t[3]),o("Int64Hooks").useEffectInt64(i,l)}function _(t,a){var i=o("MAWEphemeralGatingUtil").getExpirationOptions();return a!=null?o("MAWGetEphemeralSettings").getEphemeralSetting(a,t).then(function(n){n&&n.ephemeralExpirationInSec>0&&n.ephemeralExpirationInSec<o("DateConsts").SEC_PER_DAY&&!i.includes(n.ephemeralExpirationInSec)&&r("promiseDone")(r("updateEphemeralDuration")(a,m,!0,function(){o("MWFBLogger").MWLogger().DEBUG(e||(e=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""])),a,n.ephemeralExpirationInSec)},function(){o("MWFBLogger").MWLogger().DEBUG(s||(s=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""])),a,n.ephemeralExpirationInSec)},t))}):(u||(u=n("Promise"))).resolve()}l.default=p}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail.react","MAWSecureThreadQPContainer.react","MAWSecureThreadQPContainerLazyLoaded.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WARandomHex","logMessengerWebFalcoEvent","qpl","react","react-compiler-runtime","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useCallback,p=d.useEffect,_=d.useRef,f=d.useState;function g(e,t){var n=o("react-compiler-runtime").c(23),a;n[0]!==e?(a=(s||(s=o("I64"))).to_int32(e),n[0]=e,n[1]=a):a=n[1];var i=a,l,u;n[2]!==t||n[3]!==i||n[4]!==e?(l=function(){r("QPLUserFlow").start(r("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:t,thread_id:(s||(s=o("I64"))).to_string(e)}},instanceKey:i})},u=[t,i,e],n[2]=t,n[3]=i,n[4]=e,n[5]=l,n[6]=u):(l=n[5],u=n[6]),o("Int64Hooks").useEffectInt64(l,u);var c;n[7]!==i?(c=function(t){r("QPLUserFlow").addPoint(r("qpl")._(25306607,"1883"),t,{instanceKey:i})},n[7]=i,n[8]=c):c=n[8];var d=c,m;n[9]!==i?(m=function(t){r("QPLUserFlow").endSuccess(r("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(t)}},instanceKey:i})},n[9]=i,n[10]=m):m=n[10];var p=m,_;n[11]!==i?(_=function(t){r("QPLUserFlow").addAnnotations(r("qpl")._(25306607,"1883"),{string:t},{instanceKey:i})},n[11]=i,n[12]=_):_=n[12];var f=_,g;n[13]!==i?(g=function(t){r("QPLUserFlow").addAnnotations(r("qpl")._(25306607,"1883"),{int:t},{instanceKey:i})},n[13]=i,n[14]=g):g=n[14];var h=g,y;n[15]!==i?(y=function(t,n){r("QPLUserFlow").endFailure(r("qpl")._(25306607,"1883"),t,{annotations:{string:{is_cutover:String(n)}},instanceKey:i})},n[15]=i,n[16]=y):y=n[16];var C=y,b;return n[17]!==h||n[18]!==f||n[19]!==d||n[20]!==C||n[21]!==p?(b={addQplAnnotations:f,addQPLAnnotationsInt:h,addQplPoint:d,qplEndFailure:C,qplEndSuccess:p},n[17]=h,n[18]=f,n[19]=d,n[20]=C,n[21]=p,n[22]=b):b=n[22],b}function h(e,t,n){return n!=null?"show_od_cutover":e==null?"not_cutover_thread":t!=null?e.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function y(e){var t=o("react-compiler-runtime").c(65),n=e.entryPoint,a=e.mawSecureThreadQPContainerQueryRef,l=e.messageListRef,d=e.thread,m=g(d.threadKey,n),y=m.addQplAnnotations,C=m.addQPLAnnotationsInt,b=m.addQplPoint,v=m.qplEndFailure,S=m.qplEndSuccess;r("useMAWMaybeResetEphemeralSettings")(d.threadKey),r("useMAWMaybeInsertDualThreadCutoverAdminMessage")(d.threadKey,d.threadType);var R=_(""),L;t[0]!==y||t[1]!==v||t[2]!==S?(L=function(t){switch(t){case"loading":return;case"show":case"show_od_cutover":{y({showOpenHistory:"show"}),S(!0);return}case"not_cutover_thread":{S(!1);return}case"dual_thread_cutover":{S(!1);return}case"error":{v(R.current,!0);return}default:throw r("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",t)}},t[0]=y,t[1]=v,t[2]=S,t[3]=L):L=t[3];var E=L,k=r("useAsyncReStore")(),I;t[4]!==k?(I=function(t,n){return k.then(function(e){return e.runInTransaction(function(e){return r("LSInitiateThreadMigrationStoredProcedure")(r("LSFactory")(e),{armadilloThreadKey:n,openMessageThreadKey:t,shouldCopyMessages:!1,traceId:o("WARandomHex").randomHex(8)})},"readwrite",void 0,void 0,i.id+":267")})},t[4]=k,t[5]=I):I=t[5];var T=I,D=o("MAWThreadCutover").useGetCutoverMapping(d.threadKey),x=o("MAWThreadCutover").useCutoverOpenThread(d.threadKey);o("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(d.threadKey);var $=o("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(d.threadKey),P;t[6]!==D||t[7]!==x||t[8]!==$?(P=h(D,x,$),t[6]=D,t[7]=x,t[8]=$,t[9]=P):P=t[9];var N=f(P),M=N[0],w=N[1],A,F;t[10]!==D||t[11]!==x||t[12]!==E||t[13]!==$||t[14]!==M?(A=function(){if(E(M),!(M==="show"||M==="dual_thread_cutover")){if($!=null)return w("show_od_cutover");if(D!=null)return x==null?w("loading"):D.showOpenMessageHistory!==!1?w("show"):w("dual_thread_cutover")}},F=[D,x,E,$,M],t[10]=D,t[11]=x,t[12]=E,t[13]=$,t[14]=M,t[15]=A,t[16]=F):(A=t[15],F=t[16]),o("Int64Hooks").useEffectInt64(A,F);var O=_(!1),B;t[17]!==d.authorityLevel?(B=(s||(s=o("I64"))).ge(d.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),t[17]=d.authorityLevel,t[18]=B):B=t[18];var W=B,q;t[19]!==W||t[20]!==a?(q=W?a!=null?c.jsx(r("MAWSecureThreadQPContainer.react"),{mawSecureThreadQPContainerQueryRef:a}):c.jsx(r("MAWSecureThreadQPContainerLazyLoaded.react"),{}):null,t[19]=W,t[20]=a,t[21]=q):q=t[21];var U=q,V;t[22]!==C||t[23]!==y||t[24]!==b||t[25]!==D||t[26]!==T||t[27]!==v?(V=function(){if(!((D==null?void 0:D.armadilloThreadId)==null||(D==null?void 0:D.openThreadId)==null)&&O.current!==!0){O.current=!0,b("thread_migration_initiating_start");var e=o("MemoryUtils").getCurrentMemory(),t=e.usedJSHeapSize;C({usedJSHeapSizeStart:t}),y(),T(D.openThreadId,D.armadilloThreadId).then(function(){O.current=!1,b("thread_migration_initiating_end");var e=o("MemoryUtils").getCurrentMemory(),t=e.usedJSHeapSize;C({usedJSHeapSizeEnd:t})}).catch(function(e){O.current=!1,R.current="fail_to_init_thread_migration",w("error"),r("FBLogger")("messenger_web_entrypoints").catching(e).mustfix("fail_to_init_thread_migration"),v(R.current,!0)})}},t[22]=C,t[23]=y,t[24]=b,t[25]=D,t[26]=T,t[27]=v,t[28]=V):V=t[28];var H=D==null?void 0:D.armadilloThreadId,G=D==null?void 0:D.openThreadId,z;t[29]!==C||t[30]!==y||t[31]!==b||t[32]!==T||t[33]!==v||t[34]!==S||t[35]!==G||t[36]!==H?(z=[C,y,b,H,G,T,v,S],t[29]=C,t[30]=y,t[31]=b,t[32]=T,t[33]=v,t[34]=S,t[35]=G,t[36]=H,t[37]=z):z=t[37],p(V,z);var j=x!=null,K;t[38]!==(D==null?void 0:D.openThreadId)||t[39]!==n||t[40]!==j||t[41]!==E||t[42]!==M||t[43]!==d.threadKey||t[44]!==d.threadType?(K=function(){var e;R.current!==""&&(r("logMessengerWebFalcoEvent")({threadKey:d.threadKey,threadType:d.threadType},"no_open_messages_in_cutover_thread",n,{cutoverThreadKey:(s||(s=o("I64"))).to_string((e=D==null?void 0:D.openThreadId)!=null?e:(s||(s=o("I64"))).neg_one),hasCutoverOpenThread:j.toString(),reason:R.current,showOpenMsgHistoryState:M}),E(M))},t[38]=D==null?void 0:D.openThreadId,t[39]=n,t[40]=j,t[41]=E,t[42]=M,t[43]=d.threadKey,t[44]=d.threadType,t[45]=K):K=t[45];var Q;t[46]!==D||t[47]!==n||t[48]!==j||t[49]!==E||t[50]!==M||t[51]!==d.threadKey||t[52]!==d.threadType?(Q=[D,n,M,j,d.threadKey,d.threadType,E],t[46]=D,t[47]=n,t[48]=j,t[49]=E,t[50]=M,t[51]=d.threadKey,t[52]=d.threadType,t[53]=Q):Q=t[53],o("Int64Hooks").useEffectInt64(K,Q);var X=M==="show_od_cutover"?$:M==="show"?x:void 0,Y;t[54]!==n||t[55]!==l||t[56]!==X||t[57]!==d?(Y=c.jsx(r("MAWSecureThreadDetail.react"),{cutoverOpenThread:X,entryPoint:n,messageListRef:l,thread:d}),t[54]=n,t[55]=l,t[56]=X,t[57]=d,t[58]=Y):Y=t[58];var J;t[59]!==U||t[60]!==Y?(J=c.jsxs(c.Fragment,{children:[U,Y]}),t[59]=U,t[60]=Y,t[61]=J):J=t[61];var Z;return t[62]!==J||t[63]!==d.threadKey?(Z=c.jsx(r("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:d.threadKey,children:J}),t[62]=J,t[63]=d.threadKey,t[64]=Z):Z=t[64],Z}function C(e){var t=o("react-compiler-runtime").c(6),n=e.entryPoint,r=e.mawSecureThreadQPContainerQueryRef,a=e.messageListRef,i=e.thread,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",t[0]=l):l=t[0];var s;return t[1]!==n||t[2]!==r||t[3]!==a||t[4]!==i?(s=c.jsx(o("CometPageletWithDiv.react").Div,{className:l,name:"MAWSecureThreadDetailWrapper",children:c.jsx(y,{entryPoint:n,mawSecureThreadQPContainerQueryRef:r,messageListRef:a,thread:i})}),t[1]=n,t[2]=r,t[3]=a,t[4]=i,t[5]=s):s=t[5],s}l.default=C}),98);
__d("MDSMWChatComposerOverflowIcons.react",["MWChatChatButtonColorConstants","react","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}},d=function(n){var t=n.fill,a=n.size,i=n.title,l=n.xstyle,s=l===void 0?!1:l;return u.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,s),{height:a.toString()+"px",viewBox:"0 0 40 42",width:a.toString()+"px",children:[u.jsx("title",{children:i}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 4.5 30.5)",width:"29",x:"-6.5",y:"26.5"}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 20.5 24.5)",width:"41",x:"3.5",y:"20.5"}),u.jsx("rect",{fill:t,height:"7",rx:"2",transform:"rotate(-90 36.5 35.5)",width:"19",x:"30.5",y:"31.5"})]}))},m=function(n){var t=n.fill,a=n.size,i=n.title,l=n.xstyle,s=l===void 0?!1:l;return u.jsxs("svg",babelHelpers.extends({},(e||(e=r("stylex"))).props(c.icon,o("MWChatChatButtonColorConstants").styles.fillGrey,s),{height:a.toString()+"px",viewBox:"0 0 46 46",width:a.toString()+"px",children:[u.jsx("title",{children:i}),u.jsx("path",{d:"M17 16.54v.92c0 1.79 1.75 3.26 4 3.49v-7.9c-2.25.23-4 1.7-4 3.49zm8 8.66v7.6c2.13-.5 4-1.94 4-3.34v-.92c0-1.4-1.87-2.84-4-3.34z",fill:t}),u.jsx("path",{d:"M23 0a23 23 0 1023 23A23 23 0 0023 0zm10 29.46c0 3.95-4 6.83-8 7.42V39a2 2 0 01-4 0v-2.06c-4.43-.3-7.94-3.52-7.94-7.48a2 2 0 014 0c0 1.78 1.72 3.24 3.94 3.49V25c-4.46-.28-8-3.51-8-7.49v-.92c0-4 3.54-7.21 8-7.49V7a2 2 0 014 0v2.13c4 .63 7.09 3.71 7.09 7.41a2 2 0 01-4 0A3.74 3.74 0 0025 13.21v7.91c4 .59 8 3.47 8 7.42z",fill:t})]}))},p=function(t){var e=t.fill,n=t.size,r=t.title;return u.jsxs("svg",{className:"x1lliihq x1tzjh5l",height:n.toString()+"px",viewBox:"0 0 18 22",width:n.toString()+"px",children:[u.jsx("title",{children:r}),u.jsx("path",{d:"M5 4a4 4 0 018 0v5.5a4 4 0 01-8 0V4z",fill:e}),u.jsx("path",{d:"M3.5 20.5a1 1 0 011-1h2.75a.5.5 0 00.5-.5v-.66a.52.52 0 00-.43-.5A8.5 8.5 0 01.5 9.5V9a1 1 0 011-1H2a1 1 0 011 1v.5a6 6 0 0012 0V9a1 1 0 011-1h.5a1 1 0 011 1v.5a8.5 8.5 0 01-6.82 8.33.52.52 0 00-.43.51V19c0 .28.22.5.5.5h2.75a1 1 0 011 1v.5a1 1 0 01-1 1h-9a1 1 0 01-1-1v-.5z",fill:e})]})};l.PollsSVG=d,l.DollarSignSVG=m,l.MicrophoneSVG=p}),98);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:22341","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22341")),r("gkx")("23219"));l.default=e}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(9),i;a[0]===Symbol.for("react.memo_cache_sentinel")?(i=(e||(e=o("LSIntEnum"))).ofNumber(7),a[0]=i):i=a[0];var l=o("MWLSDatabaseLazySync").useSync(i),s;a[1]===Symbol.for("react.memo_cache_sentinel")?(s=r("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog"),a[1]=s):s=a[1];var u=r("useMWXLazyDialog")(s),c=u[0],d;a[2]===Symbol.for("react.memo_cache_sentinel")?(d=r("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"),a[2]=d):d=a[2];var m=r("useMWXLazyDialog")(d),p=m[0],_;return a[3]!==c||a[4]!==p||a[5]!==l||a[6]!==t||a[7]!==n?(_=function(){r("promiseDone")(l());var e=o("LSMessagingThreadTypeUtil").isArmadilloSecure(n);e?p({threadKey:t}):c({threadKey:t})},a[3]=c,a[4]=p,a[5]=l,a[6]=t,a[7]=n,a[8]=_):_=a[8],_}l.default=s}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","react-compiler-runtime","useMWAddParticipantDialog","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(9),n=e.label,a=e.testid,i=e.threadKey,l=e.threadType;r("vulture")("fA_GQKY_-PSBmAbkxhXTUJyMMoo=");var u=r("useMWAddParticipantDialog")(i,l),c=r("MessengerWebUXLogger").useInteractionLogger(),d;t[0]!==c||t[1]!==u||t[2]!==i||t[3]!==l?(d=function(){u(),c==null||c({eventName:"open_add_members_dialog",threadKey:i,threadType:l})},t[0]=c,t[1]=u,t[2]=i,t[3]=l,t[4]=d):d=t[4];var m=d,p;return t[5]!==n||t[6]!==m||t[7]!==a?(p=s.jsx(r("MWXCircleButton.react"),{"aria-label":n,icon:r("MWXIconFriendGenericAdd"),onPress:m,size:36,testid:void 0}),t[5]=n,t[6]=m,t[7]=a,t[8]=p):p=t[8],p}l.default=u}),98);
__d("MWChatColors",[],(function(t,n,r,o,a,i,l){"use strict";var e={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}},s={styles:e};l.MessageActions=s}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(6),a=t.size,i=t.viewBox,l=a===void 0?16:a,u=i===void 0?"0 0 16 16":i,d,m,p;n[0]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx("title",{children:s._(/*BTDS*/"Add reaction")}),m=c.jsx("path",babelHelpers.extends({},(e||(e=r("stylex"))).props(o("MWChatColors").MessageActions.styles.svgFill),{d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"})),p=c.jsx("path",babelHelpers.extends({},e.props(o("MWChatColors").MessageActions.styles.svgFill),{clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})),n[0]=d,n[1]=m,n[2]=p):(d=n[0],m=n[1],p=n[2]);var _;return n[3]!==l||n[4]!==u?(_=c.jsxs("svg",{fill:"none",height:l,viewBox:u,width:l,xmlns:"http://www.w3.org/2000/svg",children:[d,m,p]}),n[3]=l,n[4]=u,n[5]=_):_=n[5],_}l.default=d}),226);
__d("MWAddReactionButton.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","react-compiler-runtime","useIsReactionsV2Enabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useMemo,f={emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0}};function g(e){var t=o("react-compiler-runtime").c(11),n=e.ref,a=e.onHoverInPrerenderer,i=e.onHoverOutPrerenderer,l=e.onPressInPrerenderer,c=e.showPopover,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"React"),t[0]=m):m=t[0];var p=m,_;t[1]!==c?(_=function(){c(),(u||(u=o("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},t[1]=c,t[2]=_):_=t[2];var g=_,h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},t[3]=h):h=t[3];var y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=d.jsx("div",babelHelpers.extends({},h,{role:"none",children:d.jsx("div",{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk x14ju556 x14z9mp x78zum5 xdt5ytf xl56j7k x1npj6m0",children:d.jsx(r("MWMessageReactionIcon.react"),{size:"1.125rem"})})})),t[4]=y):y=t[4];var C;return t[5]!==a||t[6]!==i||t[7]!==l||t[8]!==n||t[9]!==g?(C=d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:p,children:d.jsx(r("MWXPressable.react"),{"aria-label":p,expanding:!0,loggingEvent:"click_react_to_message",onHoverIn:a,onHoverOut:i,onPress:g,onPressIn:l,overlayRadius:"inherit",ref:n,role:"button",testid:void 0,xstyle:f.emojiRowContainer,children:y})}),t[5]=a,t[6]=i,t[7]=l,t[8]=n,t[9]=g,t[10]=C):C=t[10],C}function h(e){var t=o("react-compiler-runtime").c(24),n=e.isSecure,a=e.message,i=e.sendReaction,l=e.setShouldRowStayExpanded,s=e.threadKey,u=e.threadType,m;t[0]!==s?(m=(c||(c=o("I64"))).to_string(s),t[0]=s,t[1]=m):m=t[1];var p=m,_;t[2]!==a.timestampMs?(_=(c||(c=o("I64"))).to_string(a.timestampMs),t[2]=a.timestampMs,t[3]=_):_=t[3];var f=_,h;t[4]!==a.messageId||t[5]!==f||t[6]!==p?(h=o("MWChatMessageId").makeSent(p,a.messageId,f),t[4]=a.messageId,t[5]=f,t[6]=p,t[7]=h):h=t[7];var y=h,C;t[8]!==u?(C=o("MWCMThreadTypes.react").isBroadcastThread(u),t[8]=u,t[9]=C):C=t[9];var b=C,v;t[10]!==u?(v=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(u),t[10]=u,t[11]=v):v=t[11];var S=v,R=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(s),L=R&&b,E;t[12]!==y?(E=function(t,n,r,o,a,i){return d.jsx(g,{messageID:y,onHoverInPrerenderer:o,onHoverOutPrerenderer:a,onPressInPrerenderer:i,ref:t,showPopover:n})},t[12]=y,t[13]=E):E=t[13];var k;return t[14]!==S||t[15]!==b||t[16]!==R||t[17]!==n||t[18]!==y||t[19]!==i||t[20]!==l||t[21]!==L||t[22]!==E?(k=d.jsx(r("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:r("emptyFunction"),disableCustomReactions:L,hasReactionsV2:R,isBroadcastChannel:S,isBroadcastThread:b,isSecure:n,messageID:y,onVisibilityChange:l,sendReaction:i,children:E}),t[14]=S,t[15]=b,t[16]=R,t[17]=n,t[18]=y,t[19]=i,t[20]=l,t[21]=L,t[22]=E,t[23]=k):k=t[23],k}l.default=h}),226);
__d("MWBlockedAIBotComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","JSResourceForInteraction","MWXComposerBanner.react","react","react-compiler-runtime","useMWDeleteThreadAndMaybeNavigate","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback;function d(e){var t=o("react-compiler-runtime").c(10),n=e.thread,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"This AI is no longer available."),t[0]=a):a=t[0];var i=a,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Delete chat"),t[1]=l):l=t[1];var c=l,d=r("useMWDeleteThreadAndMaybeNavigate")(n,!0,1),m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m=r("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWBlockedAIBotComposer.react"),t[2]=m):m=t[2];var p=r("useMWXLazyDialog")(m),_=p[0],f;t[3]!==d||t[4]!==_||t[5]!==n?(f=function(){_({onConfirm:d,thread:n})},t[3]=d,t[4]=_,t[5]=n,t[6]=f):f=t[6];var g=f,h;t[7]===Symbol.for("react.memo_cache_sentinel")?(h=u.jsx(r("ComponentMountUnmountSubspanLogger.react"),{description:"MWBlockedAIBotComposer"}),t[7]=h):h=t[7];var y;return t[8]!==g?(y=u.jsxs("div",{children:[h,u.jsx(r("MWXComposerBanner.react"),{bodyText:i,buttons:[{label:c,onPress:g}],fullWidthButton:!0,testid:void 0})]}),t[8]=g,t[9]=y):y=t[9],y}l.default=d}),226);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore","useVisibilityObserver","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useRef,p=d.useState,_=r("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function f(e){var t=o("react-compiler-runtime").c(8),n=e.thread;r("vulture")("wdas7Uv2nRolGvK7kNgZmSQP6Gg=");var a=r("useMWXLazyDialog")(_),i=a[0],l=p(!1),u=l[0],d=l[1],f=o("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__"),y=f[0],C=f[1],b=p(y),v=b[0],S=m(!1),R;t[0]!==C?(R={onVisible:function(){S.current||(S.current=!0,C(h))}},t[0]=C,t[1]=R):R=t[1];var L=r("useVisibilityObserver")(R),E;return t[2]!==L||t[3]!==v||t[4]!==i||t[5]!==n||t[6]!==u?(E=v<3&&!u?c.jsx("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",ref:L,children:c.jsx(r("FDSContextualMessage.react"),{addOnPrimary:c.jsx(r("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:s._(/*BTDS*/"Go to notification settings"),onPress:function(){i({threadKey:n.threadKey},g)},padding:"wide",type:"secondary"}}),body:s._(/*BTDS*/"You'll receive notifications for this chat unless you mute them or change your settings."),headline:s._(/*BTDS*/"Welcome to {param} \ud83d\udc4b",[s._param("param",n.threadName)]),level:4,onClose:function(){d(!0)}})}):null,t[2]=L,t[3]=v,t[4]=i,t[5]=n,t[6]=u,t[7]=E):E=t[7],E}function g(){}function h(e){return e+1}function y(t){var n=o("react-compiler-runtime").c(11),a=t.thread,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.community_folders||n[1]!==a.parentThreadKey?(s=function(){return o("ReQL").fromTableAscending(l.tables.community_folders).getKeyRange(a.parentThreadKey)},n[0]=l.tables.community_folders,n[1]=a.parentThreadKey,n[2]=s):s=n[2];var u;n[3]!==l||n[4]!==a.parentThreadKey?(u=[l,a.parentThreadKey],n[3]=l,n[4]=a.parentThreadKey,n[5]=u):u=n[5];var d=o("ReQLSuspense").useFirst(s,u,i.id+":127");if(d){var m;n[6]!==d?(m=o("LSCommunityBitOffset").has(39,d),n[6]=d,n[7]=m):m=n[7];var p=m,_;return n[8]!==p||n[9]!==a?(_=p?c.jsx(f,{thread:a}):null,n[8]=p,n[9]=a,n[10]=_):_=n[10],_}else return null}function C(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=c.jsx(r("CometErrorBoundary.react"),{children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:c.jsx(y,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}l.default=C}),226);
__d("MWCMMemberRequestsDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{}},root:r("JSResourceForInteraction")("MWCMMemberRequestsDialog.react").__setRef("MWCMMemberRequestsDialog.entrypoint")};l.default=e}),98);
__d("MWCMSelectiveSyncTTRCQPLLoggingUtils",["I64","QPLUserFlow","ReQL","ReQLSuspense","qpl","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e=["text"],s=["text"],u,c,d=r("qpl")._(25310806,"1365");function m(e){var t,n=(c||(c=r("useReStore")))(),a=(t=o("ReQLSuspense").useArray(function(){return o("ReQL").fromTableAscending(n.tables.messages.index("messageDisplayOrder")).getKeyRange(e).take(20)},[n,e],i.id+":35"))!=null?t:[];return a}function p(e){var t=o("react-compiler-runtime").c(6),n=(c||(c=r("useReStore")))(),a;t[0]!==n.tables.thread_point_query_ttrc||t[1]!==e?(a=function(){return o("ReQL").fromTableAscending(n.tables.thread_point_query_ttrc).getKeyRange(e)},t[0]=n.tables.thread_point_query_ttrc,t[1]=e,t[2]=a):a=t[2];var l;t[3]!==n||t[4]!==e?(l=[n,e],t[3]=n,t[4]=e,t[5]=l):l=t[5];var s=o("ReQLSuspense").useFirst(a,l,i.id+":48");if(s!=null)return s}function _(e,t,n){r("QPLUserFlow").endSuccess(d,{annotations:{string:{hasMessageDataChanged:t,status:"completed"}},instanceKey:e,timestamp:n!=null?n:void 0})}function f(e,t,n,a){r("QPLUserFlow").start(d,{annotations:{string:{thread_id:(u||(u=o("I64"))).to_string(t),thread_subtype:a?(u||(u=o("I64"))).to_string(a):null,thread_type:u.to_string(n)}},instanceKey:e})}function g(e,t){r("QPLUserFlow").addPoint(d,t,{instanceKey:e})}function h(e){r("QPLUserFlow").addPoint(d,"selective_sync_remediation_end",{instanceKey:e}),r("QPLUserFlow").endSuccess(d,{annotations:{string:{status:"skipped"}},instanceKey:e})}function y(t,n){return t.length!==n.length?!1:!t.some(function(t,r){var o=n[r],a=o.text,i=babelHelpers.objectWithoutPropertiesLoose(o,e),l=t.text,u=babelHelpers.objectWithoutPropertiesLoose(t,s);if(JSON.stringify(i)!==JSON.stringify(u))return!0})}l.useLast20Messages=m,l.useTPQEntry=p,l.logCompleteEndSuccess=_,l.logEventStreamStart=f,l.logPoint=g,l.logSkippedEndSuccess=h,l.isMessageDataUnchanged=y}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","react-compiler-runtime","useCometRouterState"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.forceShown_TEST_ONLY,a=n===void 0?!1:n,i=r("useCometRouterState")(),l;if(t[0]!==i){var c,d=i!=null?r("getTopMostRoute")(i):null,m=(c=d==null?void 0:d.tracePolicy)!=null?c:null;l=m!==null?m.startsWith("comet.page.admin")||m.startsWith("comet.group.admin"):!1,t[0]=i,t[1]=l}else l=t[1];var p=l,_;if(t[2]===Symbol.for("react.memo_cache_sentinel")){var f=r("CurrentUser").getName();_=s._(/*BTDS*/"You are messaging from your personal account \"{full name}\"",[s._param("full name",u.jsx(r("MWXText.react"),{type:"meta2",children:f}))]),t[2]=_}else _=t[2];var g=_,h;return t[3]!==a||t[4]!==p?(h=p||a?u.jsx("div",{className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 x1hwfens xs9asl8 xbmws1g",children:u.jsx(r("MWXTextPairing.react"),{body:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:g}),level:4,textAlign:"center"})}):null,t[3]=a,t[4]=p,t[5]=h):h=t[5],h}l.default=c}),226);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react"));function p(e){var t=o("react-compiler-runtime").c(4),n=e.connectionStatus,r=e.renderWrapper;if(n==="Connected")return null;if(n==="Disconnected"){var a;return t[0]!==r?(a=r(s._(/*BTDS*/"No internet connection")),t[0]=r,t[1]=a):a=t[1],a}else if(n==="Connecting"){var i;return t[2]!==r?(i=r(s._(/*BTDS*/"Connecting...")),t[2]=r,t[3]=i):i=t[3],i}else return null}function _(t){var n=o("react-compiler-runtime").c(7),a=t.renderWrapper,l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.connectivity_status?(s=function(){return o("ReQL").fromTableDescending(l.tables.connectivity_status).map(f)},n[0]=l.tables.connectivity_status,n[1]=s):s=n[1];var u;n[2]!==l?(u=[l],n[2]=l,n[3]=u):u=n[3];var c=o("ReQLSuspense").useFirst(s,u,i.id+":54"),d=c!=null?c:"Connected",_;return n[4]!==a||n[5]!==d?(_=m.jsx(p,{connectionStatus:d,renderWrapper:a}),n[4]=a,n[5]=d,n[6]=_):_=n[6],_}function f(e){return(u||(u=o("I64"))).equal(e.internetConnectionState,(c||(c=o("LSIntEnum"))).ofNumber(r("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"}l.default=_}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xtijo5x x1o0tod xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:s.jsx(r("MWXText.react"),{type:"meta4",children:e})})}u.displayName=u.name+" [from "+i.id+"]";function c(){var e=o("react-compiler-runtime").c(1),t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s.jsx(r("MWPChatConnectionStatusCard.react"),{renderWrapper:u}),e[0]=t):t=e[0],t}l.default=c}),98);
__d("MWChatHeaderActionButton.react",["MWXCircleButton.react","MWXTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e=["aria-label","loggingEvent","ref","size","tooltipLabel","tooltipPosition","color","onPress"],s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(25),a,i,l,s,c,d,m,p,_;n[0]!==t?(a=t["aria-label"],l=t.loggingEvent,c=t.ref,m=t.size,p=t.tooltipLabel,_=t.tooltipPosition,i=t.color,s=t.onPress,d=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=c,n[6]=d,n[7]=m,n[8]=p,n[9]=_):(a=n[1],i=n[2],l=n[3],s=n[4],c=n[5],d=n[6],m=n[7],p=n[8],_=n[9]);var f=r("MessengerWebUXLogger").useLogOnPressInteraction(),g;n[10]!==f||n[11]!==l||n[12]!==s?(g=f(s,l),n[10]=f,n[11]=l,n[12]=s,n[13]=g):g=n[13];var h=g,y=p!=null?p:a,C=m!=null?m:28,b;n[14]!==i||n[15]!==h||n[16]!==c||n[17]!==d||n[18]!==y||n[19]!==C?(b=u.jsx(r("MWXCircleButton.react"),babelHelpers.extends({"aria-label":y,color:i,onPress:h,ref:c,size:C,type:"deemphasized"},d)),n[14]=i,n[15]=h,n[16]=c,n[17]=d,n[18]=y,n[19]=C,n[20]=b):b=n[20];var v=b;if(p==null)return v;var S=_!=null?_:"above",R;return n[21]!==v||n[22]!==S||n[23]!==p?(R=u.jsx(r("MWXTooltip.react"),{align:"middle",position:S,tooltip:p,children:v}),n[21]=v,n[22]=S,n[23]=p,n[24]=R):R=n[24],R}l.default=c}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.icon;if(n==null)return null;var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x4tc44c x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1yrsyyn x1icxu4v x10b6aqq x25sj25"},t[0]=a):a=t[0];var i;return t[1]!==n.icon?(i=s.jsx("div",babelHelpers.extends({},a,{children:s.jsx(r("MWXIconStrict.react"),{color:"white",icon:n.icon,size:12})})),t[1]=n.icon,t[2]=i):i=t[2],i}l.default=u}),98);
__d("MWChatInthreadIconParser.react",["FBLogger","MWPXMAIconParser","MWXIconFriendGenericAdd"],(function(t,n,r,o,a,i,l){"use strict";function e(e){switch(e){case"friend-woman-add":return r("MWXIconFriendGenericAdd");default:r("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",e);return}}function s(t){var n=o("MWPXMAIconParser").parse(t);if(n!=null){if(typeof n=="string")return n;var r=n.color,a=n.icon,i=e(a);if(i!=null)return{color:r,icon:i}}}l.parse=s}),98);
__d("MWChatInThreadBanner.react",["FBLogger","FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function c(e){var t=e.action,n=e.button,o=n.ctaTitle;switch(t.type){case"link":return s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:o,linkProps:{url:t.url},type:"secondary"})});case"action":return s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:s.jsx(r("FDSButton.react"),{label:o,onPress:t.onPress,ref:t.contextRef,type:"secondary"})});case"popover":return s.jsx(r("MWXRowItem.react"),{xstyle:u.grow,children:t.popoverTrigger(function(e,t){return s.jsx(r("FDSButton.react"),{label:o,onPress:function(){return t()},ref:e,type:"secondary"})})});case"unimplemented":return r("FBLogger")("messenger_web_sharing").mustfix("In thread banner cta not implemented, CTA type: %s CTA Title: %s",n.ctaType,n.ctaTitle),null}}c.displayName=c.name+" [from "+i.id+"]";function d(e){var t,n,a,i=e.banner,l=e.ctaParser,d=e.impressionRef,m=o("MWChatInthreadIconParser.react").parse((t=i.banner.iconUrl)!=null?t:""),p=i.banner.chevronCtaType!=null,_=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),f=_==="Inbox",g=m!=null?typeof m=="string"?s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:"x14z9mp",children:s.jsx(r("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:m}})})}):s.jsx(r("MWXRowItem.react"),{expanding:!1,children:s.jsx("div",{className:[u.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:s.jsx(r("MWChatInthreadBannerIcon.react"),{icon:m})})}):null,h=i.banner.heading!=null?s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx("span",{className:"x1yrsyyn x10b6aqq",children:s.jsxs(r("MWXText.react"),{type:"meta3",children:[i.banner.heading," ",s.jsx(r("MWXText.react"),{color:"blueLink",type:"meta3",children:s.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:i.banner.cta1Title})})]})})}):null,y=s.jsx(r("MWXRowItem.react"),{expanding:!0,children:s.jsx(r("MWXTextPairing.react"),{body:((n=i.banner.titleSectionOne)!=null?n:"")+((a=i.banner.titleSectionTwo)!=null?a:""),bodyLineLimit:1,level:4,meta:i.banner.heading,metaLineLimit:1,metaLocation:"above"})}),C=i.banner.infoLabel!=null?s.jsx(r("MWXRowItem.react"),{children:s.jsx(r("MWXText.react"),{type:"meta1",children:s.jsx("span",{className:"x1qhmfi1 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x6ikm8r x10wlt62 x4p5aij x11lfxj5 x1j85h84 x135b78x xlyipyv xuxw1ft",children:i.banner.infoLabel})})}):null,b=i.leftButton,v=i.rightButton,S;if(b!=null&&v!=null)S=s.jsxs(r("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[s.jsx(c,{action:l(i,b),button:b}),s.jsx(c,{action:l(i,v),button:v})]});else{var R=b!=null?b:v;R!=null&&(S=s.jsx(r("MWXRow.react"),{paddingTop:8,children:s.jsx(c,{action:l(i,R),button:R})}))}var L=p?s.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:s.jsx(r("MWXIconStrict.react"),{icon:r("MWXIconChevronRight"),size:12})}):null,E=s.jsxs("div",{className:"x1a8lsjc xh8yej3",children:[s.jsxs(r("MWXRow.react"),{paddingTop:10,children:[g,i.banner.cta1Type==="fbvr_dma_learn_more"?h:y,C,L]}),S]}),k=i.bannerAction!=null?l(i,i.bannerAction):void 0,I;if(k!=null)switch(k.type){case"link":I=s.jsx(r("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:k.url},xstyle:function(){return[u.linkBanner]},children:E});break;case"action":I=s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:k.onPress,ref:k.contextRef,children:E});break;case"popover":I=k.popoverTrigger(function(e,t){return s.jsx(r("MWXPressable.react"),{expanding:!0,onPress:function(){return t()},ref:e,children:E})});break;case"unimplemented":{var T,D,x=(T=(D=i.bannerAction)==null?void 0:D.ctaType)!=null?T:"";x!=="member_requests_view"&&r("FBLogger")("messenger_web_ia").mustfix("In thread banner cta not implemented: %s",x),I=E;break}}else I=E;return s.jsxs("div",{className:"xfpmyvw x1n2onr6",ref:d,children:[f?s.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,s.jsx("div",{className:"x80vd3b x1q0q8m5 xso031l","data-testid":void 0,children:I})]})}d.displayName=d.name+" [from "+i.id+"]",l.default=d}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","Int64Hooks","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c,p=m.useEffect,_=m.useRef,f=m.useState,g=9;function h(t){var n,a=o("react-compiler-runtime").c(65),l=t.isProcessingReactions,c=t.messageId,m=t.onTooltipCTAPress,h=t.reactionFbid,v=t.threadKey,S=(e||(e=r("useReStore")))(),R=f(!0),L=R[0],E=R[1],k,I;a[0]!==S||a[1]!==l||a[2]!==c||a[3]!==h||a[4]!==v?(k=function(){l||(E(!0),r("promiseDone")(r("LSPlatformWaitForTaskCompletion")(S,function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:c,reactionFbid:h,threadId:v})},"issueReactionsV2DetailsUsersListFetch").then(function(){E(!1)})))},I=[S,v,c,h,E,l],a[0]=S,a[1]=l,a[2]=c,a[3]=h,a[4]=v,a[5]=k,a[6]=I):(k=a[5],I=a[6]),o("Int64Hooks").useEffectInt64(k,I);var T=o("MWPActor.react").useActor(),D;a[7]!==S.tables.reactions_v2_details||a[8]!==c||a[9]!==h||a[10]!==v?(D=function(){return o("ReQL").fromTableAscending(S.tables.reactions_v2_details).getKeyRange(v,c).filter(function(e){return(u||(u=o("I64"))).equal(e.reactionFbid,h)})},a[7]=S.tables.reactions_v2_details,a[8]=c,a[9]=h,a[10]=v,a[11]=D):D=a[11];var x;a[12]!==S||a[13]!==c||a[14]!==h||a[15]!==v?(x=[S,v,c,h],a[12]=S,a[13]=c,a[14]=h,a[15]=v,a[16]=x):x=a[16];var $=o("ReQLSuspense").useArray(D,x,i.id+":84"),P=new Map;$.forEach(function(e){return P.set((u||(u=o("I64"))).to_string(e.reactorId),e.fullName)});var N;a[17]!==S.tables.contextual_profile_v1||a[18]!==S.tables.threads||a[19]!==v?(N=function(){return o("ReQL").fromTableAscending(S.tables.threads).getKeyRange(v).map(function(e){var t=e.parentThreadKey;return o("ReQLSuspense").toArray(o("ReQL").fromTableAscending(S.tables.contextual_profile_v1).filter(function(e){return(u||(u=o("I64"))).equal(e.associatedEntityId,t)}),i.id+":102")})},a[17]=S.tables.contextual_profile_v1,a[18]=S.tables.threads,a[19]=v,a[20]=N):N=a[20];var M;a[21]!==S||a[22]!==v?(M=[S,v],a[21]=S,a[22]=v,a[23]=M):M=a[23];var w=o("ReQLSuspense").useFirst(N,M,i.id+":97"),A=null;w!=null&&w.forEach(function(e){var t=(u||(u=o("I64"))).to_string(e.ownerId),n=e.profileName;n!=null&&(P.has(t)&&P.set(t,n),(u||(u=o("I64"))).equal(e.ownerId,T)&&(A=n))});var F=$.map(function(e){return P.get((u||(u=o("I64"))).to_string(e.reactorId))}).filter(Boolean),O;a[24]!==S.tables.reactions_v2||a[25]!==c||a[26]!==h||a[27]!==v?(O=function(){return o("ReQL").fromTableAscending(S.tables.reactions_v2).getKeyRange(v,c,h)},a[24]=S.tables.reactions_v2,a[25]=c,a[26]=h,a[27]=v,a[28]=O):O=a[28];var B;a[29]!==S||a[30]!==c||a[31]!==h||a[32]!==v?(B=[S,v,c,h],a[29]=S,a[30]=c,a[31]=h,a[32]=v,a[33]=B):B=a[33];var W=o("ReQLSuspense").useFirst(O,B,i.id+":131"),q=(n=W==null?void 0:W.viewerIsReactor)!=null?n:!1,U;a[34]!==S.tables.contacts||a[35]!==T?(U=function(){return o("ReQL").fromTableAscending(S.tables.contacts).getKeyRange(T).map(b)},a[34]=S.tables.contacts,a[35]=T,a[36]=U):U=a[36];var V;a[37]!==S||a[38]!==T?(V=[S,T],a[37]=S,a[38]=T,a[39]=V):V=a[39];var H=o("ReQLSuspense").useFirst(U,V,i.id+":143"),G=A!=null?A:H,z;a[40]!==W?(z=W!=null?(u||(u=o("I64"))).to_int32(W.count):0,a[40]=W,a[41]=z):z=a[41];var j=z;if(j===1&&q&&F.length===0&&G!=null)F.push(G);else{var K;q&&F[0]!=null&&G!=null&&((K=F[0])==null?void 0:K.toString())!==G&&F.unshift(G)}var Q;a[42]===Symbol.for("react.memo_cache_sentinel")?(Q=s._(/*BTDS*/"Loading..."),a[42]=Q):Q=a[42];var X=Q,Y;e:{var J=[].concat(F.slice(0,g)),Z=!1;if(F.length>g){var ee=j-g;if(ee<0){var te;a[43]===Symbol.for("react.memo_cache_sentinel")?(te=[X,!0],a[43]=te):te=a[43],Y=te;break e}J.push(s._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[s._plural(ee),s._param("count",String(r("intlSummarizeNumber")(ee)))]).toString())}else Z=(!L||!l)&&F.length!==j;Y=J.length===0?[X,Z]:[J.map(C),Z]}var ne=Y,re=ne[0],oe=ne[1],ae=r("usePrevious")(oe),ie=_(null),le,se;a[44]===Symbol.for("react.memo_cache_sentinel")?(le=function(){return(function(){ie.current!=null&&window.clearTimeout(ie.current)})},se=[],a[44]=le,a[45]=se):(le=a[44],se=a[45]),p(le,se);var ue;a[46]!==S||a[47]!==oe||a[48]!==ae||a[49]!==c||a[50]!==v?(ue=function(){if(ae!==oe)if(!oe)ie.current!=null&&(window.clearTimeout(ie.current),ie.current=null);else{if(ie.current!=null)return;ie.current=window.setTimeout(function(){ie.current=null,r("promiseDone")(S.runInTransaction(y,"readwrite",void 0,void 0,i.id+":241")),r("promiseDone")(S.runInTransaction(function(e){return r("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(r("LSFactory")(e),{messageId:c,threadId:v})},"readwrite",void 0,void 0,i.id+":249"))},700)}},a[46]=S,a[47]=oe,a[48]=ae,a[49]=c,a[50]=v,a[51]=ue):ue=a[51];var ce;a[52]!==S||a[53]!==oe||a[54]!==ae||a[55]!==c||a[56]!==h||a[57]!==v?(ce=[S,oe,ae,c,h,v],a[52]=S,a[53]=oe,a[54]=ae,a[55]=c,a[56]=h,a[57]=v,a[58]=ce):ce=a[58],p(ue,ce);var de;a[59]===Symbol.for("react.memo_cache_sentinel")?(de=s._(/*BTDS*/"See all reactions"),a[59]=de):de=a[59];var me;a[60]!==re?(me=d.jsx(r("MWXText.react"),{color:"tooltip",type:"body4",children:re}),a[60]=re,a[61]=me):me=a[61];var pe;return a[62]!==m||a[63]!==me?(pe=d.jsx(r("MWXPressable.react"),{"aria-label":de,onPress:m,overlayDisabled:!0,children:me}),a[62]=m,a[63]=me,a[64]=pe):pe=a[64],pe}function y(e){return r("LSClearReactionsV2DetailsAndRangeStoredProcedure")(r("LSFactory")(e))}function C(e,t){return d.jsx("div",{children:e},String(t))}C.displayName=C.name+" [from "+i.id+"]";function b(e){return e.name}l.default=h}),226);
__d("MWChatTabFocusHandler",["CometHideLayerOnEscape.react","FocusWithinHandler.react","MWChatFocusComposerContext","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useRef,p={root:{height:"x5yr21d",":focus_outline":"x1uvtmcs",$$css:!0}};function _(){try{var e;return((e=document.activeElement)==null?void 0:e.getAttribute("data-release-focus-from"))==="CLICK"}catch(e){return!1}}function f(t){var n=o("react-compiler-runtime").c(25),a=t.children,i=t.disableAutoFocus,l=t.onBlur,s=t.onEscape,c=t.onFocus,d=t.xstyle,f=m(null),g=o("MWChatFocusComposerContext").useMWChatFocusComposer(),h;if(n[0]!==i||n[1]!==g){var y=g.focusComposer;h=y,i===!0&&(h=void 0),n[0]=i,n[1]=g,n[2]=h}else h=n[2];var C;n[3]!==h?(C=function(){var e,t;if(f.current!=null&&h!=null&&((e=(t=window.getSelection())==null?void 0:t.toString())!=null?e:"")===""&&(f.current===document.activeElement||_()))return h()},n[3]=h,n[4]=C):C=n[4];var b=C,v;n[5]!==l?(v=function(){return l==null?void 0:l()},n[5]=l,n[6]=v):v=n[6];var S;n[7]!==h||n[8]!==c?(S=function(t){t.target instanceof HTMLElement&&t.target.getAttribute("data-prevent_chattab_focus")==null&&(c==null||c()),f.current!=null&&h!=null&&f.current===t.target&&h()},n[7]=h,n[8]=c,n[9]=S):S=n[9];var R;n[10]!==s?(R=function(){return s==null?void 0:s()},n[10]=s,n[11]=R):R=n[11];var L;n[12]!==d?(L=(e||(e=r("stylex"))).props(p.root,d),n[12]=d,n[13]=L):L=n[13];var E;n[14]!==a||n[15]!==b||n[16]!==L?(E=u.jsx("div",babelHelpers.extends({},L,{onClick:b,ref:f,role:"none",tabIndex:-1,children:a})),n[14]=a,n[15]=b,n[16]=L,n[17]=E):E=n[17];var k;n[18]!==R||n[19]!==E?(k=u.jsx(r("CometHideLayerOnEscape.react"),{onHide:R,children:E}),n[18]=R,n[19]=E,n[20]=k):k=n[20];var I;return n[21]!==v||n[22]!==S||n[23]!==k?(I=u.jsx(r("FocusWithinHandler.react"),{onBlurWithin:v,onFocusWithin:S,children:k}),n[21]=v,n[22]=S,n[23]=k,n[24]=I):I=n[24],I}l.default=f}),98);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.reason,a=e.thread;o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,n);var i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"This person is unavailable on Messenger."),t[0]=i):i=t[0];var l=i,c;return t[1]===Symbol.for("react.memo_cache_sentinel")?(c=u.jsxs("div",{children:[u.jsx(r("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),u.jsx(r("MWXComposerBanner.react"),{bodyText:l})]}),t[1]=c):c=t[1],c}l.default=c}),226);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),r=e.senderUnsendNUXEnabled,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=n("cr:2884")==null?null:s.jsx(n("cr:2884"),{}),t[0]=a):a=t[0];var i;t[1]!==r?(i=n("cr:4186")!=null&&r?s.jsx(n("cr:4186"),{}):null,t[1]=r,t[2]=i):i=t[2];var l;return t[3]!==i?(l=s.jsxs(s.Fragment,{children:[a,i]}),t[3]=i,t[4]=l):l=t[4],l}l.default=u}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","FDSButton.react","FDSSkittleIcon.react","FDSUndoFilled16Icon","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),d={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function m(e){var t=o("react-compiler-runtime").c(19),n=e.onDismiss,a=e.onView,i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"A reminder about unsent messages"),t[0]=i):i=t[0];var l=i,m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"Unsending messages gives people more control over the messages they've sent. They can still be included in reports."),t[1]=m):m=t[1];var _=m,f;t[2]===Symbol.for("react.memo_cache_sentinel")?(f={},t[2]=f):f=t[2];var g=f,h=r("useMWXLazyDialog")(c),y=h[0],C;t[3]!==y?(C=function(){return y(g,p)},t[3]=y,t[4]=C):C=t[4];var b=C,v;t[5]===Symbol.for("react.memo_cache_sentinel")?(v={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},t[5]=v):v=t[5];var S;t[6]===Symbol.for("react.memo_cache_sentinel")?(S=u.jsx(r("MDSRowItem.react"),{xstyle:d.imageRow,children:u.jsx(r("FDSSkittleIcon.react"),{color:"gray",icon:r("FDSUndoFilled16Icon"),size:36})}),t[6]=S):S=t[6];var R;t[7]===Symbol.for("react.memo_cache_sentinel")?(R=u.jsx(r("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:u.jsx(r("MDSRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"primary",type:"headline4",children:l})})}),t[7]=R):R=t[7];var L;t[8]===Symbol.for("react.memo_cache_sentinel")?(L=u.jsxs(r("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[S,u.jsxs(r("MDSRowItem.react"),{expanding:!0,children:[R,u.jsx(r("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:u.jsx(r("MDSRowItem.react"),{children:u.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:_})})})]})]}),t[8]=L):L=t[8];var E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E=s._(/*BTDS*/"Learn more"),t[9]=E):E=t[9];var k;t[10]!==b||t[11]!==a?(k=u.jsx(r("MDSRowItem.react"),{xstyle:d.button,children:u.jsx(r("FDSButton.react"),{label:E,onPress:function(){return b(),a()},type:"secondary"})}),t[10]=b,t[11]=a,t[12]=k):k=t[12];var I;t[13]===Symbol.for("react.memo_cache_sentinel")?(I=s._(/*BTDS*/"OK"),t[13]=I):I=t[13];var T;t[14]!==n?(T=u.jsx(r("MDSRowItem.react"),{xstyle:d.button,children:u.jsx(r("FDSButton.react"),{label:I,onPress:n,type:"secondary"})}),t[14]=n,t[15]=T):T=t[15];var D;return t[16]!==k||t[17]!==T?(D=u.jsxs("div",babelHelpers.extends({},v,{children:[L,u.jsxs(r("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[k,T]})]})),t[16]=k,t[17]=T,t[18]=D):D=t[18],D}function p(){}l.default=m}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n;return Date.now()-(e||(e=o("I64"))).to_float((n=t.unsentTimestampMs)!=null?n:(e||(e=o("I64"))).zero)<=1e4}l.default=s}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9581169425252316"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"id"}],t=[{kind:"Variable",name:"nux_id",variableName:"id"}],r={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[r],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},r,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:n("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","react-compiler-runtime","useMessengerUnsendNUXQuery.graphql"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback,c=e!==void 0?e:e=n("useMessengerUnsendNUXQuery.graphql");function d(e){var t=o("react-compiler-runtime").c(13),n=o("RelayHooks").useRelayEnvironment(),a;t[0]!==n||t[1]!==e?(a=function(a){r("promiseDone")(o("CometRelay").fetchQuery(n,c,{id:e}).toPromise(),function(e){var t,n,r=(t=e==null||(n=e.nux)==null?void 0:n.should_show)!=null?t:!1;a(r)},null)},t[0]=n,t[1]=e,t[2]=a):a=t[2];var i=a,l;t[3]!==n||t[4]!==e?(l=function(){o("CometDismissFBNuxMutation").commit(n,e)},t[3]=n,t[4]=e,t[5]=l):l=t[5];var s=l,u;t[6]!==n||t[7]!==e?(u=function(){o("CometLogImpressionFBNuxMutation").commit(n,e)},t[6]=n,t[7]=e,t[8]=u):u=t[8];var d=u,m;return t[9]!==d||t[10]!==s||t[11]!==i?(m=[i,s,d],t[9]=d,t[10]=s,t[11]=i,t[12]=m):m=t[12],m}l.default=d}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useRef,_=d.useState;function f(){var t=o("react-compiler-runtime").c(16),n=o("MWPActor.react").useActor(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=o("MWLSThread").useThread(a,g),l=i!=null&&o("LSMessagingThreadTypeUtil").isDiscoverableChannel(i),u=(e||(e=r("useReStore")))(),d=_(!1),m=d[0],f=d[1],h=p(!1),y=p(!1),C=p(),b=r("useMessengerUnsendNUX")(8568),v=b[0],S=b[1],R=b[2],L;t[0]===Symbol.for("react.memo_cache_sentinel")?(L=function(){var e=C.current;if(e!=null){e(),C.current=void 0;return}},t[0]=L):L=t[0];var E=L,k;t[1]!==S?(k=function(){return y.current=!0,S(),E(),f(!1)},t[1]=S,t[2]=k):k=t[2];var I=k,T;t[3]!==m||t[4]!==v?(T=function(t){var e=!m&&!h.current;if(e&&r("isMessageUnsentInLastTenSeconds")(t))return h.current=!0,v(function(e){if(h.current=!1,e)return f(!0);E(),y.current=!0})},t[3]=m,t[4]=v,t[5]=T):T=t[5];var D=T,x,$;if(t[6]!==n||t[7]!==m||t[8]!==u||t[9]!==R||t[10]!==D||t[11]!==a?(x=function(){if(!y.current)return C.current=o("ReQL").fromTableAscending(u.tables.messages).getKeyRange(a).filter(function(e){return e.isUnsent?!(s||(s=o("I64"))).equal(e.senderId,n):!1}).subscribe(function(e,t){t.operation!=="delete"&&D(t.value)}),(function(){if(E(),m&&!y.current)return R()})},$=[u,n,m,R,D,a,E],t[6]=n,t[7]=m,t[8]=u,t[9]=R,t[10]=D,t[11]=a,t[12]=x,t[13]=$):(x=t[12],$=t[13]),o("Int64Hooks").useEffectInt64(x,$),m&&!l){var P;return t[14]!==I?(P=c.jsx(r("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:I,onView:I}),t[14]=I,t[15]=P):P=t[15],P}else return null}function g(e){return e.threadType}l.default=f}),98);
__d("MWChatUnsendNUXSender.react",["I64","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=c.useCallback,m=c.useEffect,p=c.useRef;function _(){var t=o("react-compiler-runtime").c(11),n=o("MWPActor.react").useActor(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),i=(e||(e=r("useReStore")))(),l=p(!1),u=p(!1),c=p(!1),d=p(),_=r("useMessengerUnsendNUX")(8598),f=_[0],g;t[0]===Symbol.for("react.memo_cache_sentinel")?(g=function(){var e=d.current;if(e!=null){e(),d.current=void 0;return}},t[0]=g):g=t[0];var h=g,y;t[1]!==f?(y=function(t){var e=!l.current&&!u.current;if(e&&r("isMessageUnsentInLastTenSeconds")(t))return l.current=!0,f(function(){l.current=!1,h(),c.current=!0})},t[1]=f,t[2]=y):y=t[2];var C=y,b;t[3]!==n||t[4]!==C||t[5]!==i.tables.messages||t[6]!==a?(b=function(){return d.current=o("ReQL").fromTableAscending(i.tables.messages).getKeyRange(a).filter(function(e){return e.isUnsent&&(s||(s=o("I64"))).equal(e.senderId,n)}).subscribe(function(e,t){t.operation!=="delete"&&C(t.value)}),h},t[3]=n,t[4]=C,t[5]=i.tables.messages,t[6]=a,t[7]=b):b=t[7];var v;return t[8]!==C||t[9]!==a?(v=[a,C,h],t[8]=C,t[9]=a,t[10]=v):v=t[10],m(b,v),null}l.default=_}),98);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="24284299517844364"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:e,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:e},params:{id:n("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect,c=e!==void 0?e:e=n("MWChatViewerChatVisibilityHookQuery.graphql");function d(){var e,t,n,a=o("react-compiler-runtime").c(6),i=o("CometRelay").useRelayEnvironment(),l=o("CometRelay").useLazyLoadQuery(c,{},{fetchPolicy:"store-only"}),s;if(a[0]!==(l==null||(e=l.viewer)==null?void 0:e.chat_visibility)||a[1]!==i){var d;s=function(){var e;(l==null||(e=l.viewer)==null?void 0:e.chat_visibility)==null&&r("promiseDone")(o("CometRelay").fetchQuery(i,c,{}).toPromise())},a[0]=l==null||(d=l.viewer)==null?void 0:d.chat_visibility,a[1]=i,a[2]=s}else s=a[2];var m=l==null||(t=l.viewer)==null?void 0:t.chat_visibility,p;return a[3]!==i||a[4]!==m?(p=[m,i],a[3]=i,a[4]=m,a[5]=p):p=a[5],u(s,p),(l==null||(n=l.viewer)==null?void 0:n.chat_visibility)===!0}l.useViewerChatVisibility=d}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c=e||(e=o("react")),d="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function p(){var e=o("react-compiler-runtime").c(7),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"Cross-app messaging update"),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a=s._(/*BTDS*/"After mid-December, you will no longer be able to chat with people on Instagram from a Facebook profile, so this chat will become read-only. Start a new chat on Instagram to continue the conversation."),e[1]=a):a=e[1];var i=a,l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},e[2]=l):l=e[2];var d;e[3]===Symbol.for("react.memo_cache_sentinel")?(d=c.jsx(r("MWXRowItem.react"),{xstyle:m.imageRow,children:c.jsx(r("MWXImage.react"),{src:u("331359")})}),e[3]=d):d=e[3];var p;e[4]===Symbol.for("react.memo_cache_sentinel")?(p=c.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"primary",type:"headline4",children:n})})}),e[4]=p):p=e[4];var f;e[5]===Symbol.for("react.memo_cache_sentinel")?(f=c.jsxs(r("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[d,c.jsxs(r("MWXRowItem.react"),{expanding:!0,children:[p,c.jsx(r("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:c.jsx(r("MWXRowItem.react"),{children:c.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:i})})})]})]}),e[5]=f):f=e[5];var g;return e[6]===Symbol.for("react.memo_cache_sentinel")?(g=c.jsxs("div",babelHelpers.extends({},l,{children:[f,c.jsx(r("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:c.jsx(r("MWXRowItem.react"),{xstyle:m.button,children:c.jsx(r("MWXButton.react"),{"aria-label":s._(/*BTDS*/"Learn more about cross-app messaging update"),label:s._(/*BTDS*/"Learn more"),onPress:_,type:"primary"})})})]})),e[6]=g):g=e[6],g}function _(){r("goURIOnWindow")(window.open("","_blank"),d)}l.default=p}),226);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e=["messages"],u,c,d=u||(u=o("react")),m=u.useState,p={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(22),a=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),i,l;n[0]!==t?(i=t.messages,l=babelHelpers.objectWithoutPropertiesLoose(t,e),n[0]=t,n[1]=i,n[2]=l):(i=n[1],l=n[2]);var u=m(!1),_=u[0],g=u[1],h;n[3]!==_?(h=function(){(c||(c=o("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",_?"hide_messages":"show_messages"),g(f)},n[3]=_,n[4]=h):h=n[4];var y=_?p.expanded:p.collapsed,C;n[5]!==_||n[6]!==i?(C=_?s._(/*BTDS*/"Hide updates"):s._(/*BTDS*/"See {number of admin udpates} updates",[s._param("number of admin udpates",i.length)]),n[5]=_,n[6]=i,n[7]=C):C=n[7];var b;n[8]!==y||n[9]!==C?(b=d.jsx(r("BaseView.react"),{xstyle:y,children:C}),n[8]=y,n[9]=C,n[10]=b):b=n[10];var v;n[11]!==h||n[12]!==b?(v=d.jsx(r("MWXText.react"),{type:"bodyLink4",children:d.jsx(r("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:h,role:"button",children:b})}),n[11]=h,n[12]=b,n[13]=v):v=n[13];var S;n[14]!==_||n[15]!==i||n[16]!==l||n[17]!==a?(S=_?i.map(function(e,t){return d.createElement(o("MWMessageRow.react").MWMessageRow,babelHelpers.extends({},l,{key:e.messageId,message:e,nextMessage:i[t+1],prevMessage:i[t-1],stopHoveringRef:a}))}):null,n[14]=_,n[15]=i,n[16]=l,n[17]=a,n[18]=S):S=n[18];var R;return n[19]!==v||n[20]!==S?(R=d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:d.jsxs(o("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[v,S]})}),n[19]=v,n[20]=S,n[21]=R):R=n[21],R}function f(e){return!e}l.default=_}),226);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="25242471475411097"}),null);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql",["MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"other_user_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"users_connected"}],t={kind:"Variable",name:"thread_id",variableName:"thread_id"},r=[t],o=[{fields:[{kind:"Literal",name:"client_capabilities",value:{platform:"WEB",supported_components:["ABOVE_COMPOSER_BANNER"]}},{kind:"Literal",name:"exclude_interventions",value:[]},{kind:"Variable",name:"other_user_id",variableName:"other_user_id"},{fields:[{kind:"Variable",name:"users_connected",variableName:"users_connected"}],kind:"ObjectValue",name:"thread_capabilities"},t],kind:"ObjectValue",name:"input"}],a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:r,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:o,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsUIEngineFragment"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:r,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:o,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:n("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"),metadata:{live:{config_id:""}},name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",operationKind:"query",text:null}}})();a.exports=e}),null);
__d("MWComposerDisclosureMSipNotices.react",["Actor","CometMsgrSafetyInterventionsUIEngine.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","CometRelay","I64","LsThreadType","MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime","useStable","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect;function m(t){var a,i,l,s=o("react-compiler-runtime").c(15),m=t.other_user_id,_=t.thread,f=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql"),{other_user_id:m,thread_id:(u||(u=o("I64"))).to_string(_.threadKey),users_connected:!1},{fetchPolicy:"store-and-network"}),g=(a=o("RelayHooks").useFragment(r("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),f==null||(i=f.xfb_msgr_safety_interventions)==null?void 0:i.one_to_one_thread_interventions))==null?void 0:a.evaluation_id,h=o("Actor").useActor(),y=h[0],C;if(s[0]!==_.threadType){var b;C=o("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(r("castToEnum")((u||(u=o("I64"))).to_int32((b=_.threadType)!=null?b:(u||(u=o("I64"))).zero),r("LsThreadType"),0)),s[0]=_.threadType,s[1]=C}else C=s[1];var v=C,S=r("useStable")(p),R,L;s[2]!==y||s[3]!==S||s[4]!==v||s[5]!==g||s[6]!==m||s[7]!==_.threadKey?(R=function(){return o("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionTriggered(S,g,(u||(u=o("I64"))).to_string(_.threadKey),v,y,m,"thread_open")},L=[y,S,v,g,m,_.threadKey],s[2]=y,s[3]=S,s[4]=v,s[5]=g,s[6]=m,s[7]=_.threadKey,s[8]=R,s[9]=L):(R=s[8],L=s[9]),d(R,L);var E=f==null||(l=f.xfb_msgr_safety_interventions)==null?void 0:l.one_to_one_thread_interventions,k;return s[10]!==S||s[11]!==m||s[12]!==E||s[13]!==_?(k=c.jsx(r("CometMsgrSafetyInterventionsUIEngine.react"),{client_session_id:S,fragment$key:E,other_user_id:m,thread:_}),s[10]=S,s[11]=m,s[12]=E,s[13]=_,s[14]=k):k=s[14],k}function p(){return r("uuidv4")()}l.default=m}),98);
__d("MWComposerPlaceholder.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.height,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r="x1exxf4d x13fuv20 x178xt8z",t[0]=r):r=t[0];var a=n.toString()+"px",i;return t[1]!==a?(i=s.jsx("div",{className:r,style:{height:a}}),t[1]=a,t[2]=i):i=t[2],i}l.default=u}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(t,n,r,o,a,i){"use strict";function e(e){return!1}i.default=e}),66);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","react","react-compiler-runtime","useThreadHasCompletedEBFrontLoadingNoop","vulture"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(2),n=e.threadKey;r("vulture")("iKaUPK7WAP4Dy-y2IY1x8-GKRjw=");var a=r("useThreadHasCompletedEBFrontLoadingNoop")(n),i;return t[0]!==a?(i=a?null:u.jsxs(r("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:20})}),u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXText.react"),{type:"entityHeaderMeta1",children:s._(/*BTDS*/"Loading more messages...")})})]}),t[0]=a,t[1]=i):i=t[1],i}l.default=c}),226);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(11),n=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),a=(e||(e=r("useReStore")))(),l,s;t[0]!==a||t[1]!==n?(l=function(){return o("MWPreloadableQueries").getThreadBannerQuery(a,n)},s=[a,n],t[0]=a,t[1]=n,t[2]=l,t[3]=s):(l=t[2],s=t[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":31"),c,d;t[4]!==a||t[5]!==n?(c=function(){return o("MWPreloadableQueries").getProactiveWarningsForThreadQuery(a,n)},d=[a,n],t[4]=a,t[5]=n,t[6]=c,t[7]=d):(c=t[6],d=t[7]);var m=o("ReQLSuspense").useFirst(c,d,i.id+":36"),p;return t[8]!==u||t[9]!==m?(p={banner:u,pwSettings:m},t[8]=u,t[9]=m,t[10]=p):p=t[10],p}l.default=s}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),r=t.banner,a=t.ignoreDismissTime,i=t.isPWDismissTimeSet,l=t.pwSettings,s=t.threadKey,u,c;return n[0]!==r||n[1]!==a||n[2]!==i||n[3]!==l||n[4]!==s?(u=function(){if(!(l==null||r==null)){var t=l.context,n=l.entryPoint,u=l.storyLocation,c=l.suspectId,d=l.tag,m=r.bannerId,p=r.cta1Title,_=r.cta2Title,f=r.heading,g=r.titleSectionOne;if((a||i)&&(e||(e=o("I64"))).equal(m,(e||(e=o("I64"))).of_string("7"))&&c!=null&&t!=null&&u!=null&&n!=null&&d!=null&&f!=null&&_!=null&&p!=null&&g!=null)return{context:t,cta1Title:p,cta2Title:_,description:g,falco_event_data:{data:{entry_point:(e||(e=o("I64"))).to_int32(n),feedback_tags:[d],surface:e.to_int32(u)},impersonatedUser:{id:"0"},otherUser:{id:e.to_string(c)},reportedUser:{id:"0"},thread:{id:e.to_string(s),type:1}},header:f,threadKey:s}}},c=[s,r,l,i,a],n[0]=r,n[1]=a,n[2]=i,n[3]=l,n[4]=s,n[5]=u,n[6]=c):(u=n[5],c=n[6]),o("Int64Hooks").useMemoInt64(u,c)}l.default=s}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","react-compiler-runtime","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(8),i=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l=r("useMWLSProactiveWarningTables")(),s=l.banner,u=l.pwSettings,c;if(a[0]!==n){var d;c=n!=null&&(e||(e=o("I64"))).equal((d=n.proactiveWarningDismissTime)!=null?d:(e||(e=o("I64"))).zero,(e||(e=o("I64"))).zero),a[0]=n,a[1]=c}else c=a[1];var m=c,p;return a[2]!==s||a[3]!==t||a[4]!==m||a[5]!==u||a[6]!==i?(p={banner:s,ignoreDismissTime:t,isPWDismissTimeSet:m,pwSettings:u,threadKey:i},a[2]=s,a[3]=t,a[4]=m,a[5]=u,a[6]=i,a[7]=p):p=a[7],r("useMWProactiveWarningPayloadMemo")(p)}l.default=s}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","FDSButton.react","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","promiseDone","react","react-compiler-runtime","stylex","useMWProactiveWarningPayload","useReStore"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=c||(c=o("react")),m=c.useEffect,p={button:{width:"x5sxuk9",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(48),a=t.fallback,l=t.onClose,c=t.thread,_=r("useMWProactiveWarningPayload")(void 0,c),f=(e||(e=r("useReStore")))(),g=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),h,y;if(n[0]!==_?(h=function(){_!=null&&r("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}})},y=[_],n[0]=_,n[1]=h,n[2]=y):(h=n[1],y=n[2]),m(h,y),_==null)return a;var C;n[3]!==_.header?(C=s._(/*BTDS*/"{header value}",[s._param("header value",_.header)]),n[3]=_.header,n[4]=C):C=n[4];var b=C,v;n[5]!==_.description?(v=s._(/*BTDS*/"{message value}",[s._param("message value",_.description)]),n[5]=_.description,n[6]=v):v=n[6];var S=v,R;n[7]===Symbol.for("react.memo_cache_sentinel")?(R=(u||(u=r("stylex"))).props(p.button,!1),n[7]=R):R=n[7];var L;n[8]!==_.falco_event_data?(L=function(){r("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}})},n[8]=_.falco_event_data,n[9]=L):L=n[9];var E;n[10]!==f||n[11]!==l||n[12]!==g?(E=function(){r("promiseDone")(f.runInTransaction(function(e){return r("LSSetProactiveWarningDismissTimeStoredProcedure")(r("LSFactory")(e),{threadKey:g})},"readwrite",void 0,void 0,i.id+":117"),l,l)},n[10]=f,n[11]=l,n[12]=g,n[13]=E):E=n[13];var k;n[14]!==l||n[15]!==_.context||n[16]!==_.cta1Title||n[17]!==L||n[18]!==E?(k=d.jsx("div",babelHelpers.extends({},R,{children:d.jsx(r("IXTProactiveWarningFollowUpActionsCell.react"),{context:_.context,label:_.cta1Title,onClose:l,onPress:L,setPWDismissTime:E})})),n[14]=l,n[15]=_.context,n[16]=_.cta1Title,n[17]=L,n[18]=E,n[19]=k):k=n[19];var I=k,T;n[20]===Symbol.for("react.memo_cache_sentinel")?(T=(u||(u=r("stylex"))).props(p.button,!1),n[20]=T):T=n[20];var D;n[21]!==_.cta2Title?(D=s._(/*BTDS*/"{CTA text value}",[s._param("CTA text value",_.cta2Title)]),n[21]=_.cta2Title,n[22]=D):D=n[22];var x;n[23]!==f||n[24]!==l||n[25]!==_.falco_event_data||n[26]!==_.threadKey?(x=function(){r("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var e,t;return{data:babelHelpers.extends({},_.falco_event_data.data,{mute_duration:(e=_.falco_event_data.data.mute_duration)==null?void 0:e.toString(),selected_messages_count:(t=_.falco_event_data.data.selected_messages_count)==null?void 0:t.toString()}),impersonated_user:_.falco_event_data.impersonatedUser,other_user:_.falco_event_data.otherUser,reported_user:_.falco_event_data.reportedUser,thread:_.falco_event_data.thread}}),r("promiseDone")(f.runInTransaction(function(e){return r("LSSetProactiveWarningDismissTimeStoredProcedure")(r("LSFactory")(e),{threadKey:_.threadKey})},"readwrite",void 0,void 0,i.id+":156"),l,l)},n[23]=f,n[24]=l,n[25]=_.falco_event_data,n[26]=_.threadKey,n[27]=x):x=n[27];var $;n[28]!==D||n[29]!==x?($=d.jsx("div",babelHelpers.extends({},T,{children:d.jsx(r("FDSButton.react"),{label:D,onPress:x,reduceEmphasis:!1,size:"medium",type:"secondary"})})),n[28]=D,n[29]=x,n[30]=$):$=n[30];var P=$,N;n[31]!==S?(N=d.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:S}),n[31]=S,n[32]=N):N=n[32];var M;n[33]!==b?(M=d.jsx(r("MWXText.react"),{color:"primary",type:"bodyLink4",children:b}),n[33]=b,n[34]=M):M=n[34];var w;n[35]!==N||n[36]!==M?(w=d.jsx(r("MDSTextPairing.react"),{body:N,headline:M,level:4,textAlign:"center"}),n[35]=N,n[36]=M,n[37]=w):w=n[37];var A;n[38]===Symbol.for("react.memo_cache_sentinel")?(A={className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3"},n[38]=A):A=n[38];var F;n[39]!==I||n[40]!==P?(F=d.jsxs("div",babelHelpers.extends({},A,{children:[I,P]})),n[39]=I,n[40]=P,n[41]=F):F=n[41];var O;n[42]!==w||n[43]!==F?(O=d.jsxs(d.Fragment,{children:[w,F]}),n[42]=w,n[43]=F,n[44]=O):O=n[44];var B=O,W;n[45]===Symbol.for("react.memo_cache_sentinel")?(W={className:"xzg4506 xi81zsa x14vqqas xyinxu5 x1hwfens xxbrewl xbmws1g"},n[45]=W):W=n[45];var q;return n[46]!==B?(q=d.jsx("div",babelHelpers.extends({},W,{children:B})),n[46]=B,n[47]=q):q=n[47],q}l.default=_}),226);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(4),n=e.fallback,a=e.onClose,i=e.thread,l;return t[0]!==n||t[1]!==a||t[2]!==i?(l=s.jsx(r("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:n,onClose:a,thread:i}),t[0]=n,t[1]=a,t[2]=i,t[3]=l):l=t[3],l}l.default=u}),98);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","Int64Hooks","JSResourceForInteraction","LSContactTypeExact","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWPActor.react","MWPThreadIsPage.react","MWXComposerBanner.react","MWXLink.react","MessageRequestsLog","MessagingThreadSubtype","MessengerMSplitFlag","MessengerWebUXLogger","MetaConfig","QPLUserFlow","XCometSettingsControllerRouteBuilder","nux:912","qpl","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u,_=p.useCallback,f=p.useMemo,g=(e=n("nux:912"))==null?void 0:e("CREATOR_MESSAGING_CHAT_WITH_PAGES_YOU_FOLLOW"),h="www.facebook.com",y={hidden:{display:"x1s85apg",$$css:!0}};function C(e){var t=o("react-compiler-runtime").c(92),n=e.isGroup,a=e.isGXAC,i=e.isIgContact,l=e.isMSplitContact,u=e.name,p=e.onAccept,_=e.onDeleteConversation,f=e.onLeaveGroup,C=e.otherUserContact,b=e.secondaryName,v=e.thread,S=r("useMWXConfirmationDialog")(),R;t[0]===Symbol.for("react.memo_cache_sentinel")?(R=r("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"),t[0]=R):R=t[0];var L=r("useMWXLazyDialog")(R),E=L[0],k;t[1]!==v.cannotUnsendReason||t[2]!==v.threadType?(k=(c||(c=o("I64"))).equal(v.threadType,(d||(d=o("LSIntEnum"))).ofNumber(1))&&v.cannotUnsendReason!=null&&(c||(c=o("I64"))).equal(v.cannotUnsendReason,(d||(d=o("LSIntEnum"))).ofNumber(r("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),t[1]=v.cannotUnsendReason,t[2]=v.threadType,t[3]=k):k=t[3];var I=k,T;t[4]===Symbol.for("react.memo_cache_sentinel")?(T=o("MWPActor.react").isAPPlus(),t[4]=T):T=t[4];var D=T,x=o("MWPThreadIsPage.react").useIsPage(),$;t[5]!==v.threadSubtype?($=(d||(d=o("LSIntEnum"))).equal(v.threadSubtype,r("MessagingThreadSubtype").PAGE_TO_PAGE),t[5]=v.threadSubtype,t[6]=$):$=t[6];var P=$,N;t[7]!==x||t[8]!==P||t[9]!==v.threadSubtype?(N=x&&v.threadSubtype!=null&&((c||(c=o("I64"))).equal(v.threadSubtype,(d||(d=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").PAGE_TO_USER))||P),t[7]=x,t[8]=P,t[9]=v.threadSubtype,t[10]=N):N=t[10];var M=N,w;t[11]!==C?(w=C!=null?(c||(c=o("I64"))).to_string(C.id):void 0,t[11]=C,t[12]=w):w=t[12];var A=w,F;t[13]!==(C==null?void 0:C.contactTypeExact)||t[14]!==v.threadKey?(F=function(t){if(D){var e=(c||(c=o("I64"))).to_int32(v.threadKey),n=(d||(d=o("LSIntEnum"))).equal(C==null?void 0:C.contactTypeExact,r("LSContactTypeExact").FB_PAGE);r("QPLUserFlow").start(r("qpl")._(421073696,"3313"),{instanceKey:e}),r("QPLUserFlow").endSuccess(r("qpl")._(421073696,"3313"),{annotations:{string:{button_type:t,viewer_type:n?"sender_p2p":"sender_p2u"}},instanceKey:e})}},t[13]=C==null?void 0:C.contactTypeExact,t[14]=v.threadKey,t[15]=F):F=t[15],C==null||C.contactTypeExact;var O=F,B;t[16]!==_||t[17]!==v?(B={isMessageRequest:!0,onConfirm:_,thread:v},t[16]=_,t[17]=v,t[18]=B):B=t[18];var W=B,q;if(t[19]===Symbol.for("react.memo_cache_sentinel")){var U;q=(U=r("XCometSettingsControllerRouteBuilder").buildUri({tab:"how_people_find_and_contact_you"}).setDomain(h))==null||(U=U.setProtocol("https"))==null?void 0:U.toString(),t[19]=q}else q=t[19];var V=q,H;t[20]!==I||t[21]!==E||t[22]!==A||t[23]!==v?(H=function(){E({loggingData:{entryPoint:4,requestId:void 0,source:I?5:1,sourceOwner:0},targetFBID:A!=null?A:(c||(c=o("I64"))).to_string(v.threadKey),thread:v})},t[20]=I,t[21]=E,t[22]=A,t[23]=v,t[24]=H):H=t[24];var G=H,z=p!=null,j;t[25]!==f||t[26]!==S?(j=function(){S({body:s._(/*BTDS*/"You will stop receiving messages from this conversation and people will see that you left."),title:s._(/*BTDS*/"Leave conversation?")},f)},t[25]=f,t[26]=S,t[27]=j):j=t[27];var K=j,Q;t[28]===Symbol.for("react.memo_cache_sentinel")?(Q=r("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"),t[28]=Q):Q=t[28];var X=r("useMWXLazyDialog")(Q),Y=X[0],J=r("MessengerWebUXLogger").useInteractionLogger(),Z,ee;t[29]!==O||t[30]!==G||t[31]!==A||t[32]!==v?(Z=function(){return{label:s._(/*BTDS*/"Block"),onPress:function(){o("MessageRequestsLog").logActionTapped(v,2,A),O("block"),G()},testid:"mw-message-request-composer-banner-block-button"}},ee=[v,A,O,G],t[29]=O,t[30]=G,t[31]=A,t[32]=v,t[33]=Z,t[34]=ee):(Z=t[33],ee=t[34]);var te=o("Int64Hooks").useMemoInt64(Z,ee),ne,re;t[35]!==O||t[36]!==J||t[37]!==K||t[38]!==v?(ne=function(){return{label:s._(/*BTDS*/"Leave"),onPress:function(){o("MessageRequestsLog").logActionTapped(v,10),J==null||J({eventName:"leave_group",threadKey:v.threadKey,threadType:v.threadType}),O("leave"),K()},testid:"mw-message-request-composer-banner-leave-button"}},re=[v,J,O,K],t[35]=O,t[36]=J,t[37]=K,t[38]=v,t[39]=ne,t[40]=re):(ne=t[39],re=t[40]);var oe=o("Int64Hooks").useMemoInt64(ne,re),ae=n?oe:te,ie,le;if(n){var se;t[41]!==a?(se=a?s._(/*BTDS*/"This group has people from Facebook and Instagram"):void 0,t[41]=a,t[42]=se):se=t[42],ie=se;var ue;if(t[43]!==a?(ue=a?s._(/*BTDS*/"If you reply, you and other members can see information like when you've read messages."):r("MessengerMSplitFlag").is_msplit_account?s._(/*BTDS*/"If you reply, everyone in this group will be able to send messages and make group calls."):s._(/*BTDS*/"If you reply, you and other members will be able to make group calls and see information like when you've read messages."),t[43]=a,t[44]=ue):ue=t[44],le=ue,z){var ce;t[45]===Symbol.for("react.memo_cache_sentinel")?(ce=s._(/*BTDS*/"If you accept, you and other members will be able to make group calls and may see info like your Active Status and when you\u2019ve read messages. {=m2}",[s._implicitParam("=m2",m.jsx(r("MWXLink.react"),{href:V,style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]),t[45]=ce):ce=t[45],le=ce}}else{var de;if(t[46]!==i?(de=i?s._(/*BTDS*/"You're messaging an Instagram account"):void 0,t[46]=i,t[47]=de):de=t[47],ie=de,i)if(u!=null&&b!=null){var me;t[48]!==u||t[49]!==b?(me=s._(/*BTDS*/"If you reply {XACDisplayName} ({XACSecondaryName}) will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[s._param("XACDisplayName",u),s._param("XACSecondaryName",b)]),t[48]=u,t[49]=b,t[50]=me):me=t[50],le=me}else if(u==null&&b!=null){var pe;t[51]!==b?(pe=s._(/*BTDS*/"If you reply, {XACDisplayName} will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[s._param("XACDisplayName",b)]),t[51]=b,t[52]=pe):pe=t[52],le=pe}else{var _e;t[53]===Symbol.for("react.memo_cache_sentinel")?(_e=s._(/*BTDS*/"If you reply, Instagram User will also be able to call you from Instagram and see info like your Active Status and when you've seen messages."),t[53]=_e):_e=t[53],le=_e}else if(M){var fe;t[54]!==P||t[55]!==u?(fe=u!=null?s._(/*BTDS*/"If you reply, {FB Page Name} will be able to call you and may see info like your Active Status and when you've read messages. {=m4}",[s._param("FB Page Name",u),s._implicitParam("=m4",m.jsx(r("MWXLink.react"),{href:V,onClick:function(){r("QPLUserFlow").start(r("qpl")._(421071534,"2982"))},target:"_blank",xstyle_DEPRECATED:[P&&y.hidden],children:s._(/*BTDS*/"Choose who can message you")}))]):s._(/*BTDS*/"If you reply, Facebook page will be able to call you and may see info like your Active Status and when you've read messages. {=m2}",[s._implicitParam("=m2",m.jsx(r("MWXLink.react"),{href:V,target:"_blank",xstyle_DEPRECATED:[P&&y.hidden],children:s._(/*BTDS*/"Choose who can message you")}))]),t[54]=P,t[55]=u,t[56]=fe):fe=t[56],le=fe}else if(z){var ge;t[57]!==u?(ge=s._(/*BTDS*/"If you accept, {FB Page Name} will also be able to call you and may see info like your Active Status and when you\u2019ve read messages. {=m4}",[s._param("FB Page Name",u),s._implicitParam("=m4",m.jsx(r("MWXLink.react"),{href:V,style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Choose who can message you")}))]),t[57]=u,t[58]=ge):ge=t[58],le=ge}else{var he;t[59]!==l||t[60]!==u?(he=u!=null?s._(/*BTDS*/"{Composer info message}",[s._param("Composer info message",r("MessengerMSplitFlag").is_msplit_account||l?o("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(u):o("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(u))]):s._(/*BTDS*/"If you reply, Facebook User will also be able to call you and see info like your Active Status and when you've seen messages."),t[59]=l,t[60]=u,t[61]=he):he=t[61],le=he}}var ye;t[62]!==ae.label||t[63]!==ae.onPress?(ye={label:ae.label,onPress:ae.onPress,size:32,type:"secondary"},t[62]=ae.label,t[63]=ae.onPress,t[64]=ye):ye=t[64];var Ce=ye,be,ve;t[65]!==W||t[66]!==O||t[67]!==Y||t[68]!==A||t[69]!==v?(be=function(){return{label:s._(/*BTDS*/"Delete"),onPress:function(){o("MessageRequestsLog").logActionTapped(v,8,A),O("delete"),Y(W)},size:32,testid:"mw-message-request-composer-banner-delete-button",type:"secondary"}},ve=[v,A,O,Y,W],t[65]=W,t[66]=O,t[67]=Y,t[68]=A,t[69]=v,t[70]=be,t[71]=ve):(be=t[70],ve=t[71]);var Se=o("Int64Hooks").useMemoInt64(be,ve),Re,Le;t[72]!==O||t[73]!==p||t[74]!==A||t[75]!==v?(Re=function(){return{label:s._(/*BTDS*/"Accept"),onPress:function(){o("MessageRequestsLog").logActionTapped(v,1,A),O("accept"),p==null||p()},size:32,testid:"mw-message-request-composer-banner-accept-button",type:"secondary"}},Le=[O,p,A,v],t[72]=O,t[73]=p,t[74]=A,t[75]=v,t[76]=Re,t[77]=Le):(Re=t[76],Le=t[77]);var Ee=o("Int64Hooks").useMemoInt64(Re,Le),ke;t[78]!==M||t[79]!==v?(ke=!D&&M&&g&&r("MetaConfig")._("60")?m.jsx(g,{thread:v}):null,t[78]=M,t[79]=v,t[80]=ke):ke=t[80];var Ie=le,Te=z?Ee:null,De;t[81]!==Ce||t[82]!==Se||t[83]!==Te?(De=[Ce,Se,Te].filter(Boolean),t[81]=Ce,t[82]=Se,t[83]=Te,t[84]=De):De=t[84];var xe;t[85]!==ie||t[86]!==le||t[87]!==De?(xe=m.jsx(r("MWXComposerBanner.react"),{bodyText:Ie,buttons:De,headerText:ie,testid:void 0}),t[85]=ie,t[86]=le,t[87]=De,t[88]=xe):xe=t[88];var $e;return t[89]!==ke||t[90]!==xe?($e=m.jsxs(m.Fragment,{children:[ke,xe]}),t[89]=ke,t[90]=xe,t[91]=$e):$e=t[91],$e}l.default=C}),226);
__d("MWReQLMessageRequestComposerBanner.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSContactTypeExactUtils","MWMessageRequestComposerBanner.react","MessageRequestsLog","isMWXacGroupThread","isStringNullOrEmpty","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e,p=m.useEffect,_=m.useRef;function f(e){var t=o("react-compiler-runtime").c(27),n=e.isGroup,a=e.onAccept,i=e.onDeleteConversation,l=e.onLeaveGroup,m=e.otherUserContact,f=e.thread,g=_(!1),h;t[0]!==f?(h=r("isMWXacGroupThread")(f),t[0]=f,t[1]=h):h=t[1];var y=h,C;if(t[2]!==m){var b;C=(b=o("MWContactDetails").getName(m))!=null?b:s._(/*BTDS*/"Facebook user"),t[2]=m,t[3]=C}else C=t[3];var v=C,S,R;t[4]!==m?(S=o("MWContactDetails").getSecondaryName(m),R=r("isStringNullOrEmpty")(S)?void 0:S,t[4]=m,t[5]=S,t[6]=R):(S=t[5],R=t[6]),S=R;var L;t[7]!==m?(L=m!=null?o("MWLSContactTypeExactUtils").isIgContact(m.contactTypeExact):!1,t[7]=m,t[8]=L):L=t[8];var E=L,k;t[9]!==m?(k=(m==null?void 0:m.contactTypeExact)!=null&&(u||(u=o("I64"))).equal(m.contactTypeExact,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)),t[9]=m,t[10]=k):k=t[10];var I=k,T,D;t[11]!==m||t[12]!==f?(T=function(){g.current!==!0&&(g.current=!0,m==null?o("MessageRequestsLog").logMessageRequestInfoShown(f):o("MessageRequestsLog").logMessageRequestInfoShown(f,(u||(u=o("I64"))).to_string(m.id)))},D=[f,m],t[11]=m,t[12]=f,t[13]=T,t[14]=D):(T=t[13],D=t[14]),p(T,D);var x;return t[15]!==y||t[16]!==n||t[17]!==E||t[18]!==I||t[19]!==v||t[20]!==a||t[21]!==i||t[22]!==l||t[23]!==m||t[24]!==S||t[25]!==f?(x=d.jsx(r("MWMessageRequestComposerBanner.react"),{isGXAC:y,isGroup:n,isIgContact:E,isMSplitContact:I,name:v,onAccept:a,onDeleteConversation:i,onLeaveGroup:l,otherUserContact:m,secondaryName:S,thread:f}),t[15]=y,t[16]=n,t[17]=E,t[18]=I,t[19]=v,t[20]=a,t[21]=i,t[22]=l,t[23]=m,t[24]=S,t[25]=f,t[26]=x):x=t[26],x}l.default=f}),226);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(5),a=(s||(s=r("useReStore")))(),l=o("MWChatStateV2.react").useDispatch(),u,c;return n[0]!==a||n[1]!==l||n[2]!==t?(u=function(){o("MessageRequestsLog").logActionConfirmed(t,8),r("promiseDone")(a.runInTransaction(function(n){return r("LSOptimisticRemoveThreadStoredProcedure")(r("LSFactory")(n),{removeType:(e||(e=o("LSIntEnum"))).ofNumber(r("LSThreadRemoveType").DELETE_THREAD),threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":42"),function(){return l(o("MWChatStateActions").closeTabByThreadKey(Date.now(),t.threadKey))})},c=[a,t,l],n[0]=a,n[1]=l,n[2]=t,n[3]=u,n[4]=c):(u=n[3],c=n[4]),o("Int64Hooks").useCallbackInt64(u,c)}l.default=u}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(5),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),s,u;return n[0]!==l||n[1]!==a||n[2]!==t?(s=function(){r("promiseDone")(a.runInTransaction(function(e){return r("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(r("LSFactory")(e),{contactIds:r("LSVec").ofArray([l]),threadKey:t})},"readwrite",void 0,void 0,i.id+":28"))},u=[l,a,t],n[0]=l,n[1]=a,n[2]=t,n[3]=s,n[4]=u):(s=n[3],u=n[4]),o("Int64Hooks").useCallbackInt64(s,u)}l.default=s}),98);
__d("MWV2ComposerDisclosure.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","I64","Int64Hooks","LSContactReachabilityStatusType","LSContactTypeExact","LSContactUtils","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerDisclosureMSipNotices.react","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MWXComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","QPLUserFlow","ReQL","ReQLSuspense","cr:3912","gkx","qpl","react","react-compiler-runtime","useMWLSAcceptMessageRequest","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d.useMemo,_=n("cr:3912")==null?function(e,t){return!1}:n("cr:3912").isOneOnOneMessageRequestV2,f=n("cr:3912")==null?function(e){return!1}:n("cr:3912").isGroupMessageRequest,g=r("gkx")("7387"),h=r("gkx")("11801");function y(t){var n=o("react-compiler-runtime").c(58),a=t.forceVoiceIndicatorShown_TEST_ONLY,l=t.thread,d=(e||(e=r("useReStore")))(),p=r("useMessageRequestLeaveGroup")(l.threadKey),y=r("useMWLSAcceptMessageRequest")(l.threadKey),C=l.threadType,b=r("useMessageRequestDeleteConversation")(l),v;n[0]!==C?(v=o("LSMessagingThreadTypeUtil").isArmadilloSecure(C),n[0]=C,n[1]=v):v=n[1];var S=v,R;n[2]!==S||n[3]!==l?(R=!S&&o("LSThreadBitOffset").has(21,l),n[2]=S,n[3]=l,n[4]=R):R=n[4];var L=R,E=o("MWPActor.react").useActor(),k,I;n[5]!==E||n[6]!==d.tables.contacts||n[7]!==d.tables.participants||n[8]!==l.threadKey||n[9]!==C?(k=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(C)||(u||(u=o("I64"))).equal(C,(c||(c=o("LSIntEnum"))).ofNumber(5))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(d.tables.participants).getKeyRange(l.threadKey),o("ReQL").fromTableAscending(d.tables.contacts)).filter(function(e){var t=e[1];return!(u||(u=o("I64"))).equal(t.id,E)}):o("ReQL").empty()},I=[l.threadKey,C,d.tables.participants,d.tables.contacts,E],n[5]=E,n[6]=d.tables.contacts,n[7]=d.tables.participants,n[8]=l.threadKey,n[9]=C,n[10]=k,n[11]=I):(k=n[10],I=n[11]);var T=o("ReQLSuspense").useFirst(k,I,i.id+":88"),D;e:{if(S){var x;n[12]!==T||n[13]!==l?(x=_(l,T)||g&&f(l),n[12]=T,n[13]=l,n[14]=x):x=n[14],D=x;break e}D=!1}var $=D,P;n[15]!==C?(P=o("LSMessagingThreadTypeUtil").isGroup(C),n[15]=C,n[16]=P):P=n[16];var N=P,M;n[17]!==d||n[18]!==T||n[19]!==l?(M=function(){T!=null&&o("MAWSecureComposerUtils").onDeleteThread(d,l,T[1].id)},n[17]=d,n[18]=T,n[19]=l,n[20]=M):M=n[20];var w=M,A=r("MessengerWebUXLogger").useInteractionLogger(),F=r("gkx")("11065"),O;n[21]!==l.threadType?(O=(u||(u=o("I64"))).equal(l.threadType,(c||(c=o("LSIntEnum"))).ofNumber(5)),n[21]=l.threadType,n[22]=O):O=n[22];var B=O,W=!h&&F&&B,q=T==null?void 0:T[1].contactReachabilityStatusType,U=T==null?void 0:T[1].contactTypeExact,V;n[23]!==q?(V=(c||(c=o("LSIntEnum"))).equal(q,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),n[23]=q,n[24]=V):V=n[24];var H=V,G,z;n[25]!==U||n[26]!==q||n[27]!==l.threadKey?(G=function(){var e=(u||(u=o("I64"))).to_int32(l.threadKey),t=o("LSContactUtils").getUserReachability({contactReachabilityStatusType:q}),n=(c||(c=o("LSIntEnum"))).equal(U,r("LSContactTypeExact").FB_PAGE);r("QPLUserFlow").start(r("qpl")._(421070127,"2494"),{instanceKey:e}),r("QPLUserFlow").endSuccess(r("qpl")._(421070127,"2494"),{annotations:{int:{contact_reachability_status:t},string:{viewer_type:n?"sender_p2p":"sender_p2u"}},instanceKey:e})},z=[l.threadKey,q,U],n[25]=U,n[26]=q,n[27]=l.threadKey,n[28]=G,n[29]=z):(G=n[28],z=n[29]);var j=o("Int64Hooks").useCallbackInt64(G,z),K;n[30]!==j?(K={onImpressionStart:j},n[30]=j,n[31]=K):K=n[31];var Q=r("useSinglePartialViewImpression")(K),X;n[32]!==a?(X=m.jsx(r("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:a}),n[32]=a,n[33]=X):X=n[33];var Y;n[34]!==W||n[35]!==T||n[36]!==l?(Y=W&&T?m.jsx(r("MWComposerDisclosureMSipNotices.react"),{other_user_id:(u||(u=o("I64"))).to_string(T==null?void 0:T[1].id),thread:l}):null,n[34]=W,n[35]=T,n[36]=l,n[37]=Y):Y=n[37];var J;n[38]!==y||n[39]!==N||n[40]!==S||n[41]!==p||n[42]!==A||n[43]!==b||n[44]!==w||n[45]!==(T==null?void 0:T[1])||n[46]!==L||n[47]!==$||n[48]!==l?(J=$||L?m.jsx(r("MWReQLMessageRequestComposerBanner.react"),{isGroup:N,onAccept:function(){o("MessageRequestsLog").logActionConfirmed(l,1),A==null||A({eventName:"accept_chat_request",threadKey:l.threadKey,threadType:l.threadType}),y()},onDeleteConversation:S?w:b,onLeaveGroup:function(){if(!S&&N)return o("MessageRequestsLog").logActionConfirmed(l,10),A==null||A({eventName:"leave_group",threadKey:l.threadKey,threadType:l.threadType}),p()},otherUserContact:T==null?void 0:T[1],thread:l}):null,n[38]=y,n[39]=N,n[40]=S,n[41]=p,n[42]=A,n[43]=b,n[44]=w,n[45]=T==null?void 0:T[1],n[46]=L,n[47]=$,n[48]=l,n[49]=J):J=n[49];var Z;n[50]!==Q||n[51]!==H?(Z=H?m.jsx(r("MWXComposerBanner.react"),{bodyText:s._(/*BTDS*/"You can send one message with this request. Once they accept, you can send more messages."),ref:Q,variant:"banner"}):null,n[50]=Q,n[51]=H,n[52]=Z):Z=n[52];var ee;return n[53]!==X||n[54]!==Y||n[55]!==J||n[56]!==Z?(ee=m.jsxs(m.Fragment,{children:[X,Y,J,Z]}),n[53]=X,n[54]=Y,n[55]=J,n[56]=Z,n[57]=ee):ee=n[57],ee}function C(e){var t=o("react-compiler-runtime").c(3),n=e.forceVoiceIndicatorShown_TEST_ONLY,a=e.thread,i=n!=null?n:!1,l;return t[0]!==i||t[1]!==a?(l=m.jsx(r("CometErrorBoundary.react"),{fallback:b,children:m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposerDisclosure",children:m.jsx(y,{forceVoiceIndicatorShown_TEST_ONLY:i,thread:a})})}),t[0]=i,t[1]=a,t[2]=l):l=t[2],l}function b(){return null}l.default=C}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno"},e[0]=t):t=e[0];var n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n=s._(/*BTDS*/"Something isn't working."),e[1]=n):n=e[1];var a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx("div",babelHelpers.extends({},t,{children:u.jsx(r("MDSTextPairing.react"),{headline:n,headlineColor:"secondary",level:4,meta:u.jsx(r("MWXText.react"),{numberOfLines:2,type:"meta3",children:s._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})),e[2]=a):a=e[2],a}l.default=c}),226);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function d(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=s._(/*BTDS*/"You can no longer chat with people on Instagram from a Facebook profile. Start a new chat on Instagram to continue the conversation. {=Learn more}",[s._param("=Learn more",u.jsx(r("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:u.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:s._(/*BTDS*/"Learn more")})}))]),e[0]=t):t=e[0];var n=t,a;e[1]===Symbol.for("react.memo_cache_sentinel")?(a={className:"x1exxf4d x13fuv20 x178xt8z xqy66fx x1xnnf8n xx6bls6 x106a9eq"},e[1]=a):a=e[1];var i;return e[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx("div",babelHelpers.extends({},a,{children:u.jsx(r("BaseTheme.react"),{config:c,children:u.jsx(r("MWXTextPairing.react"),{body:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:n}),level:4,textAlign:"center"})})})),e[2]=i):i=e[2],i}l.default=d}),226);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","react-compiler-runtime","useMWLSProactiveWarningTables","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n,a){var l=o("react-compiler-runtime").c(17),u=(s||(s=r("useReStore")))(),c=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),d=r("useMWLSProactiveWarningTables")(),m=d.banner,p=d.pwSettings,_;l[0]!==m||l[1]!==p?(_=m!=null&&p!=null?(e||(e=o("I64"))).equal(m.bannerId,(e||(e=o("I64"))).of_string("7")):!1,l[0]=m,l[1]=p,l[2]=_):_=l[2];var f=_,g;if(l[3]!==f||l[4]!==t||l[5]!==a||l[6]!==n){var h;g=t&&!f?a?!0:n!=null?(e||(e=o("I64"))).equal((h=n.proactiveWarningDismissTime)!=null?h:(e||(e=o("I64"))).zero,(e||(e=o("I64"))).zero):!1:!1,l[3]=f,l[4]=t,l[5]=a,l[6]=n,l[7]=g}else g=l[7];var y=g,C=n!=null&&y,b;l[8]!==C||l[9]!==u||l[10]!==c?(b=function(){C&&r("promiseDone")(u.runInTransaction(function(e){return r("LSFetchProactiveWarningsIfNeededStoredProcedure")(r("LSFactory")(e),{threadKey:c})},"readwrite",void 0,void 0,i.id+":57"))},l[8]=C,l[9]=u,l[10]=c,l[11]=b):b=l[11];var v;l[12]!==y||l[13]!==C||l[14]!==u||l[15]!==c?(v=[c,y,C,u],l[12]=y,l[13]=C,l[14]=u,l[15]=c,l[16]=v):v=l[16],o("Int64Hooks").useEffectInt64(b,v)}l.default=u}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t){var n=o("react-compiler-runtime").c(6),a=t.thread,l=(u||(u=r("useReStore")))(),c=o("MWPActor.react").useActor(),m,p;return n[0]!==c||n[1]!==l||n[2]!==a.threadKey||n[3]!==a.threadSubtype?(m=function(){return a.threadSubtype!=null&&(e||(e=o("I64"))).equal(a.threadSubtype,(s||(s=o("LSIntEnum"))).ofNumber(r("MessagingThreadSubtype").MARKETPLACE_THREAD))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(a.threadKey),o("ReQL").fromTableAscending(l.tables.contacts)).filter(function(t){var n=t[1];return!(e||(e=o("I64"))).equal(n.id,c)}).map(d):o("ReQL").empty()},p=[a.threadKey,l,c,a.threadSubtype],n[0]=c,n[1]=l,n[2]=a.threadKey,n[3]=a.threadSubtype,n[4]=m,n[5]=p):(m=n[4],p=n[5]),o("ReQLSuspense").useFirst(m,p,i.id+":31")}function d(e){var t=e[1];return t}l.default=c}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useContext,c=s.useEffect;function d(e){var t=u(o("MWV2FileDropzone.react").mWV2FileDropzoneContext);c(function(){if(e)return t.current.enabled=!1,t.current.handler=null,function(){t.current.enabled=!0,t.current.handler=null}},[t,e])}l.default=d}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMThreadTypes.react","MWComposerPlaceholder.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","lazyLoadComponent","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","mwIsThreadDisabled","nullthrows","react","react-compiler-runtime","useCommunityFolder","useIsChatPreviewsEnabled","useMAWOfflineQueueLoadingIndicatorV2","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s,p=m.memo,_=m.useMemo,f=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),g=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),h=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),y=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),C=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),b=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMSoftActionPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),v=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),S=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),R=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMChatLoadingComposer.react").__setRef("MWPComposerGating.react")),L=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),E=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),k=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),I=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),T=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),D=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react")),x=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDisableMarketplaceClosedThreadComposer.react").__setRef("MWPComposerGating.react")),$=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCMDeprecatedChatComposer.react").__setRef("MWPComposerGating.react"));function P(e){var t,n,a,i=o("react-compiler-runtime").c(101),l=e.renderComposer,s=e.thread,m=(u||(u=o("I64"))).ge(s.authorityLevel,u.of_int32(r("LSAuthorityLevel").AUTHORITATIVE)),p=s.cannotReplyReason==="viewer_not_subscribed",_=s.cannotReplyReason==="broadcast_chat_read_only",P=s.threadStatus!=null&&((u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED))||(u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),N=r("mwCMIsAnyCMThread")(s.threadType);s.threadStatus!=null&&(u||(u=o("I64"))).equal(s.threadStatus,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED));var M=o("LSThreadBitOffset").has(192,s),w;i[0]!==s?(w={thread:s},i[0]=s,i[1]=w):w=i[1];var A=r("useMWMarketplaceThreadOtherUser")(w),F=s.memberCount!=null?(u||(u=o("I64"))).to_int32(s.memberCount):0,O=o("MWCMThreadTypes.react").isMarketplaceThread(s.threadSubtype),B=O&&!o("LSThreadBitOffset").has(213,s)&&F===2&&(A==null||o("LSContactBitOffset").has(88,A)),W=O&&F===2&&o("LSThreadBitOffset").has(271,s),q=O&&F===2&&o("LSThreadBitOffset").has(272,s),U=r("useCommunityFolder")(s),V=r("mwCMisStandAloneCommunity")(U==null?void 0:U.communityType),H=o("useIsChatPreviewsEnabled").isChatPreviewsEnabled(s,U==null?void 0:U.communityType),G=u.to_int32((t=U==null?void 0:U.sendsBlockedUntil)!=null?t:(u||(u=o("I64"))).zero)*1e3,z=G<0||G>o("ServerTime").getMillis(),j=r("mwIsThreadDisabled")(s.takedownState,U==null?void 0:U.takedownState),K=(U==null?void 0:U.fbGroupUserParticipationApprovalStatus)!=null&&(u||(u=o("I64"))).equal(U.fbGroupUserParticipationApprovalStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),Q=(U==null?void 0:U.fbGroupUserParticipationApprovalStatus)!=null&&(u||(u=o("I64"))).equal(U.fbGroupUserParticipationApprovalStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),X=(U==null?void 0:U.pauseStatus)!=null&&(u||(u=o("I64"))).equal(U.pauseStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION));if(!m&&N){var Y;i[2]===Symbol.for("react.memo_cache_sentinel")?(Y=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[2]=Y):Y=i[2];var J;return i[3]===Symbol.for("react.memo_cache_sentinel")?(J=d.jsx(r("CometPlaceholder.react"),{fallback:Y,name:"MWPComposerGating.LoadingComposer",children:d.jsx(R,{})}),i[3]=J):J=i[3],J}if(U!=null&&(u||(u=o("I64"))).equal((n=U.pauseStatus)!=null?n:(u||(u=o("I64"))).zero,(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityChatsPauseStatus").DEPRECATED))&&(u||(u=o("I64"))).equal((a=s.threadStatus)!=null?a:(u||(u=o("I64"))).zero,(u||(u=o("I64"))).of_int32(r("ThreadStatus").PAUSED))&&s.cannotReplyReason==="paused_for_cc_deprecation"&&s.metadata!=null){var Z;i[4]!==s.metadata?(Z=JSON.parse(s.metadata),i[4]=s.metadata,i[5]=Z):Z=i[5];var ee=Z,te;i[6]!==U.folderId?(te=(u||(u=o("I64"))).to_string(U.folderId),i[6]=U.folderId,i[7]=te):te=i[7];var ne=te;if(ee.cc_deprecation_composer_block!=null){var re;i[8]===Symbol.for("react.memo_cache_sentinel")?(re=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[8]=re):re=i[8];var oe;return i[9]!==ne||i[10]!==ee.cc_deprecation_composer_block?(oe=d.jsx(r("CometPlaceholder.react"),{fallback:re,name:"useMWRelayGroupComposerConfiguration.CMDeprecatedChatComposer",children:d.jsx($,{communityID:ne,composerBlock:ee.cc_deprecation_composer_block})}),i[9]=ne,i[10]=ee.cc_deprecation_composer_block,i[11]=oe):oe=i[11],oe}}if(j){var ae;i[12]===Symbol.for("react.memo_cache_sentinel")?(ae=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[12]=ae):ae=i[12];var ie;return i[13]!==s.threadType?(ie=d.jsx(r("CometPlaceholder.react"),{fallback:ae,name:"MWPComposerGating.TakenDownThread",children:d.jsx(k,{threadType:s.threadType})}),i[13]=s.threadType,i[14]=ie):ie=i[14],ie}else if(X&&!V){var le;i[15]===Symbol.for("react.memo_cache_sentinel")?(le=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[15]=le):le=i[15];var se=U==null?void 0:U.folderId,ue=U==null?void 0:U.name,ce=U==null?void 0:U.fbGroupId,de;return i[16]!==se||i[17]!==ue||i[18]!==ce||i[19]!==s.threadKey?(de=d.jsx(r("CometPlaceholder.react"),{fallback:le,name:"MWPComposerGating.CMPausedCommunity",children:d.jsx(b,{communityId:se,communityName:ue,groupId:ce,threadKey:s.threadKey})}),i[16]=se,i[17]=ue,i[18]=ce,i[19]=s.threadKey,i[20]=de):de=i[20],de}else if(P){var me;i[21]===Symbol.for("react.memo_cache_sentinel")?(me=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[21]=me):me=i[21];var pe;i[22]!==s?(pe=o("LSThreadBitOffset").has(154,s),i[22]=s,i[23]=pe):pe=i[23];var _e;i[24]!==s.threadType?(_e=o("LSMessagingThreadTypeUtil").isSocialChannel(s.threadType),i[24]=s.threadType,i[25]=_e):_e=i[25];var fe;return i[26]!==pe||i[27]!==_e||i[28]!==s.threadKey?(fe=d.jsx(r("CometPlaceholder.react"),{fallback:me,name:"MWPComposerGating.PausedChat",children:d.jsx(v,{canPauseChat:pe,shouldUseChannelTerminology:_e,threadKey:s.threadKey})}),i[26]=pe,i[27]=_e,i[28]=s.threadKey,i[29]=fe):fe=i[29],fe}else if(H){var ge,he;i[30]===Symbol.for("react.memo_cache_sentinel")?(he=d.jsx(r("MWComposerPlaceholder.react"),{height:64}),i[30]=he):he=i[30];var ye;if(i[31]!==(U==null?void 0:U.communityType)){var Ce;ye=(Ce=U==null?void 0:U.communityType)!=null?Ce:(c||(c=o("LSIntEnum"))).ofNumber(r("MessagingCommunityType").FB_COMMUNITY),i[31]=U==null?void 0:U.communityType,i[32]=ye}else ye=i[32];var be=(ge=U==null?void 0:U.isMember)!=null?ge:!1,ve;return i[33]!==ye||i[34]!==be||i[35]!==s?(ve=d.jsx(r("CometPlaceholder.react"),{fallback:he,name:"MWPComposerGating.CMChatPreview",children:d.jsx(S,{communityType:ye,isCommunityMember:be,thread:s})}),i[33]=ye,i[34]=be,i[35]=s,i[36]=ve):ve=i[36],ve}else if(o("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(s.threadType)){var Se;i[37]!==s.threadKey?(Se=d.jsx(o("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:s.threadKey}),i[37]=s.threadKey,i[38]=Se):Se=i[38];var Re;i[39]!==s?(Re=d.jsx(y,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:s}),i[39]=s,i[40]=Re):Re=i[40];var Le;return i[41]!==Se||i[42]!==Re?(Le=d.jsx(r("CometPlaceholder.react"),{fallback:Se,name:"MWPComposerGating.UnjoinedDiscoverablePublicBroadcastChannel",children:Re}),i[41]=Se,i[42]=Re,i[43]=Le):Le=i[43],Le}else if(o("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(s.threadType)){var Ee;i[44]!==s.threadKey?(Ee=d.jsx(o("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:s.threadKey}),i[44]=s.threadKey,i[45]=Ee):Ee=i[45];var ke;i[46]!==s?(ke=d.jsx(y,{channelType:o("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:s}),i[46]=s,i[47]=ke):ke=i[47];var Ie;return i[48]!==Ee||i[49]!==ke?(Ie=d.jsx(r("CometPlaceholder.react"),{fallback:Ee,name:"MWPComposerGating.SocialChannelUnjoined",children:ke}),i[48]=Ee,i[49]=ke,i[50]=Ie):Ie=i[50],Ie}else if(M){var Te;i[51]===Symbol.for("react.memo_cache_sentinel")?(Te=d.jsx(r("MWComposerPlaceholder.react"),{height:99}),i[51]=Te):Te=i[51];var De;return i[52]===Symbol.for("react.memo_cache_sentinel")?(De=d.jsx(r("CometPlaceholder.react"),{fallback:Te,name:"MWPComposerGating.XACSunset",children:d.jsx(r("MWXACSunsettedComposer.react"),{})}),i[52]=De):De=i[52],De}else if(p){var xe;i[53]===Symbol.for("react.memo_cache_sentinel")?(xe=d.jsx(r("MWComposerPlaceholder.react"),{height:99}),i[53]=xe):xe=i[53];var $e=U==null?void 0:U.fbGroupId,Pe;return i[54]!==$e||i[55]!==s?(Pe=d.jsx(r("CometPlaceholder.react"),{fallback:xe,name:"MWPComposerGating.LeftGroup",children:d.jsx(f,{groupId:$e,thread:s})}),i[54]=$e,i[55]=s,i[56]=Pe):Pe=i[56],Pe}else if(o("MWCMThreadTypes.react").isBroadcastThread(s.threadType)&&_){var Ne;i[57]===Symbol.for("react.memo_cache_sentinel")?(Ne=d.jsx(r("MWComposerPlaceholder.react"),{height:55}),i[57]=Ne):Ne=i[57];var Me;i[58]!==s?(Me=o("LSThreadBitOffset").has(139,s),i[58]=s,i[59]=Me):Me=i[59];var we;return i[60]!==Me?(we=d.jsx(r("CometPlaceholder.react"),{fallback:Ne,name:"MWPComposerGating.CMGroupBroadcastReadOnly",children:d.jsx(h,{isBroadcastChatsReactionsEnabled:Me})}),i[60]=Me,i[61]=we):we=i[61],we}else if(o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(s.threadType)&&_){var Ae;i[62]===Symbol.for("react.memo_cache_sentinel")?(Ae=d.jsx(r("MWComposerPlaceholder.react"),{height:48}),i[62]=Ae):Ae=i[62];var Fe;return i[63]!==s.threadKey?(Fe=d.jsx(r("CometPlaceholder.react"),{fallback:Ae,name:"MWPComposerGating.BroadcastChannelMemberComposer",children:d.jsx(C,{isJoined:!0,threadKey:s.threadKey})}),i[63]=s.threadKey,i[64]=Fe):Fe=i[64],Fe}else if(z){var Oe;i[65]===Symbol.for("react.memo_cache_sentinel")?(Oe=d.jsx(r("MWComposerPlaceholder.react"),{height:141}),i[65]=Oe):Oe=i[65];var Be;return i[66]!==U?(Be=d.jsx(r("CometPlaceholder.react"),{fallback:Oe,name:"MWPComposerGating.CMGroupMuted",children:d.jsx(g,{communityFolder:U})}),i[66]=U,i[67]=Be):Be=i[67],Be}else if(K){var We;i[68]===Symbol.for("react.memo_cache_sentinel")?(We=d.jsx(r("MWComposerPlaceholder.react"),{height:104}),i[68]=We):We=i[68];var qe;i[69]!==U?(qe=r("nullthrows")(U),i[69]=U,i[70]=qe):qe=i[70];var Ue;return i[71]!==qe||i[72]!==s?(Ue=d.jsx(r("CometPlaceholder.react"),{fallback:We,name:"MWPComposerGating.CMGroupRequestToParticipate",children:d.jsx(L,{communityFolder:qe,thread:s})}),i[71]=qe,i[72]=s,i[73]=Ue):Ue=i[73],Ue}else if(Q){var Ve;i[74]===Symbol.for("react.memo_cache_sentinel")?(Ve=d.jsx(r("MWComposerPlaceholder.react"),{height:100}),i[74]=Ve):Ve=i[74];var He;i[75]!==(U==null?void 0:U.fbGroupId)?(He=(u||(u=o("I64"))).to_string(r("nullthrows")(U==null?void 0:U.fbGroupId)),i[75]=U==null?void 0:U.fbGroupId,i[76]=He):He=i[76];var Ge;return i[77]!==He||i[78]!==s?(Ge=d.jsx(r("CometPlaceholder.react"),{fallback:Ve,name:"MWPComposerGating.CMGroupPendingRequestToParticipate",children:d.jsx(E,{groupID:He,thread:s})}),i[77]=He,i[78]=s,i[79]=Ge):Ge=i[79],Ge}else if(s.cannotReplyReason!=null){var ze;i[80]===Symbol.for("react.memo_cache_sentinel")?(ze=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[80]=ze):ze=i[80];var je;return i[81]===Symbol.for("react.memo_cache_sentinel")?(je=d.jsx(r("CometPlaceholder.react"),{fallback:ze,name:"MWPComposerGating.CannotReply",children:d.jsx(I,{})}),i[81]=je):je=i[81],je}else if(B){var Ke;i[82]===Symbol.for("react.memo_cache_sentinel")?(Ke=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[82]=Ke):Ke=i[82];var Qe;return i[83]===Symbol.for("react.memo_cache_sentinel")?(Qe=d.jsx(r("CometPlaceholder.react"),{fallback:Ke,name:"MWPComposerGating.DisableMarketplaceDMA",children:d.jsx(D,{})}),i[83]=Qe):Qe=i[83],Qe}else if(W){var Xe;i[84]===Symbol.for("react.memo_cache_sentinel")?(Xe=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[84]=Xe):Xe=i[84];var Ye;return i[85]!==A?(Ye=d.jsx(r("CometPlaceholder.react"),{fallback:Xe,name:"MWPComposerGating.DisableMarketplaceViewerClosedThread",children:d.jsx(x,{isClosedByViewer:!0,otherUser:A})}),i[85]=A,i[86]=Ye):Ye=i[86],Ye}else if(q){var Je;i[87]===Symbol.for("react.memo_cache_sentinel")?(Je=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),i[87]=Je):Je=i[87];var Ze;return i[88]!==A?(Ze=d.jsx(r("CometPlaceholder.react"),{fallback:Je,name:"MWPComposerGating.DisableMarketplaceParticipantClosedThread",children:d.jsx(x,{isClosedByViewer:!1,otherUser:A})}),i[88]=A,i[89]=Ze):Ze=i[89],Ze}else{var et;i[90]!==_||i[91]!==s?(et=o("MWCMThreadTypes.react").isBroadcastThread(s.threadType)&&!_?d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWPComposerGating.ComposerNudge",children:d.jsx(T,{thread:s})}):null,i[90]=_,i[91]=s,i[92]=et):et=i[92];var tt;i[93]!==s?(tt=d.jsx(r("MWV2ComposerDisclosure.react"),{thread:s}),i[93]=s,i[94]=tt):tt=i[94];var nt;i[95]!==l?(nt=l(),i[95]=l,i[96]=nt):nt=i[96];var rt;return i[97]!==et||i[98]!==tt||i[99]!==nt?(rt=d.jsxs(d.Fragment,{children:[et,tt,nt]}),i[97]=et,i[98]=tt,i[99]=nt,i[100]=rt):rt=i[100],rt}}var N=p(P);function M(e){var t=o("react-compiler-runtime").c(20),n=e.isMessengerInbox,a=e.renderComposer,i=e.thread,l;t[0]!==i?(l=d.jsx(r("MWV2ComposerDisclosure.react"),{thread:i}),t[0]=i,t[1]=l):l=t[1];var s;t[2]!==a?(s=a(),t[2]=a,t[3]=s):s=t[3];var c;t[4]!==l||t[5]!==s?(c=d.jsxs(d.Fragment,{children:[l,s]}),t[4]=l,t[5]=s,t[6]=c):c=t[6];var m=c,p;t[7]!==i.proactiveWarningDismissTime?(p=i.proactiveWarningDismissTime==null||(u||(u=o("I64"))).is_zero(i.proactiveWarningDismissTime),t[7]=i.proactiveWarningDismissTime,t[8]=p):p=t[8];var _=p,f;t[9]!==i.threadType?(f=o("LSMessagingThreadTypeUtil").isArmadilloSecure(i.threadType),t[9]=i.threadType,t[10]=f):f=t[10];var g=f,h;t[11]!==m||t[12]!==n||t[13]!==_||t[14]!==g||t[15]!==i?(h=n?null:_&&!g?d.jsx(r("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:m,onClose:w,thread:i}):null,t[11]=m,t[12]=n,t[13]=_,t[14]=g,t[15]=i,t[16]=h):h=t[16];var y=h;r("useMWLSSprocFetchProactiveWarningIfNeeded")(y!=null,i,!1);var C=r("useMWProactiveWarningPayload")(void 0,i);if(y!=null&&C!=null){var b;t[17]===Symbol.for("react.memo_cache_sentinel")?(b=d.jsx(r("MWComposerPlaceholder.react"),{height:35}),t[17]=b):b=t[17];var v;return t[18]!==y?(v=d.jsx(r("CometPlaceholder.react"),{fallback:b,name:"MWPComposerGating.ProactiveWarning",children:y}),t[18]=y,t[19]=v):v=t[19],v}return m}function w(){}var A=p(M);function F(t){var n=o("react-compiler-runtime").c(33),a=t.configurations,l=t.isMessengerInbox,s=t.renderComposer,m=t.thread,p=(e||(e=r("useReStore")))(),_=o("MWPActor.react").useActor(),f;n[0]!==_||n[1]!==m.threadKey?(f=(u||(u=o("I64"))).equal(_,m.threadKey),n[0]=_,n[1]=m.threadKey,n[2]=f):f=n[2];var g=f,h,y;n[3]!==p||n[4]!==m.threadKey||n[5]!==m.threadType?(h=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(p.tables.participants).getKeyRange(m.threadKey),o("ReQL").fromTableAscending(p.tables.contacts)).map(B):o("ReQL").empty()},y=[p,m.threadKey,m.threadType],n[3]=p,n[4]=m.threadKey,n[5]=m.threadType,n[6]=h,n[7]=y):(h=n[6],y=n[7]);var C=o("ReQLSuspense").useArray(h,y,i.id+":618"),b;if(n[8]!==_||n[9]!==C||n[10]!==g){var v;n[12]!==_||n[13]!==C.length||n[14]!==g?(v=function(t){return g||C.length===1&&(u||(u=o("I64"))).equal(t.id,_)||!(u||(u=o("I64"))).equal(t.id,_)},n[12]=_,n[13]=C.length,n[14]=g,n[15]=v):v=n[15],b=C.find(v),n[8]=_,n[9]=C,n[10]=g,n[11]=b}else b=n[11];var S=b,R;n[16]!==m.threadType?(R=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),n[16]=m.threadType,n[17]=R):R=n[17];var L=R,E=r("useMAWOfflineQueueLoadingIndicatorV2")(!1,m),k=L&&E,I;n[18]!==a?(I=a.find(O),n[18]=a,n[19]=I):I=n[19];var T=I,D=T!=null;r("useMWPComposerFileDropzoneRegisterHandler")(D);var x;n[20]!==k||n[21]!==m.threadKey?(x=k?d.jsx(r("MWPArmadilloLoadingStateMessage.react"),{threadKey:m.threadKey}):null,n[20]=k,n[21]=m.threadKey,n[22]=x):x=n[22];var $;n[23]!==T||n[24]!==D||n[25]!==l||n[26]!==S||n[27]!==s||n[28]!==m?($=D?T:o("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?S!=null?d.jsx(A,{isMessengerInbox:l,otherUser:S,renderComposer:s,thread:m}):(u||(u=o("I64"))).lt(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))?null:d.jsx(r("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):d.jsx(N,{renderComposer:s,thread:m}),n[23]=T,n[24]=D,n[25]=l,n[26]=S,n[27]=s,n[28]=m,n[29]=$):$=n[29];var P;return n[30]!==x||n[31]!==$?(P=d.jsxs(d.Fragment,{children:[x,$]}),n[30]=x,n[31]=$,n[32]=P):P=n[32],P}function O(e){return e!=null}function B(e){var t=e[1];return t}function W(e){var t=o("react-compiler-runtime").c(8),n=e.configurations,a=e.isMessengerInbox,i=e.renderComposer,l=e.thread,s=a!=null?a:!1,u;t[0]!==n||t[1]!==i||t[2]!==s||t[3]!==l?(u=d.jsx(F,{configurations:n,isMessengerInbox:s,renderComposer:i,thread:l}),t[0]=n,t[1]=i,t[2]=s,t[3]=l,t[4]=u):u=t[4];var c;return t[5]!==u||t[6]!==l.threadKey?(c=d.jsx(r("CometErrorBoundary.react"),{fallback:q,children:d.jsx(o("MWPThreadIsPage.react").Provider,{threadKey:l.threadKey,children:u})}),t[5]=u,t[6]=l.threadKey,t[7]=c):c=t[7],c}function q(e){return d.jsx(r("MWV2ErrorComposer.react"),{})}q.displayName=q.name+" [from "+i.id+"]",l.default=W}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WebWorker","clearTimeout","emptyFunction","getSafeQplErrorMessage","react","setTimeout","useIsMountedRef","usePrevious"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s,d=c.useCallback,m=c.useEffect,p=c.useReducer,_=c.useRef;function f(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function g(e){switch(e.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function h(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.duration;case"Recorded":case"Playing":return Math.max(e.duration-e.currentTime,0)}}function y(e){switch(e.stage){case"Unopen":return 0;case"Recording":return e.recordingTimeout;case"Recorded":case"Playing":return e.duration}}function C(e){switch(e.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return e.currentTime}}function b(e){switch(e.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function v(e){return e.stage==="Recorded"?e.currentTime===0:!1}function S(e){switch(e.stage){case"Recording":return o("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return o("MWPAudioPlayerLabels").playLabel;case"Playing":return o("MWPAudioPlayerLabels").pauseLabel}}function R(e,t){switch(e.stage){case"Recording":return u.jsx(o("MWPAudioPlayerIcons.react").StopIcon,{color:t});case"Unopen":case"Recorded":return u.jsx(o("MWPAudioPlayerIcons.react").PlayIcon,{color:t});case"Playing":return u.jsx(o("MWPAudioPlayerIcons.react").PauseIcon,{color:t})}}R.displayName=R.name+" [from "+i.id+"]";function L(e,t){switch(t.type){case"Start":return{duration:0,mediaStream:t.mediaStream,recordingTimeout:t.recordingTimeout,stage:"Recording"};case"Toggle":{switch(e.stage){case"Unopen":return e;case"Recording":return{currentTime:0,duration:e.duration,stage:"Recorded"};case"Recorded":return{currentTime:e.currentTime,duration:e.duration,stage:"Playing"};case"Playing":return{currentTime:e.currentTime,duration:e.duration,stage:"Recorded"}}break}case"UpdateDuration":{if(e.duration!=null&&t.duration<e.duration)return e;var n=t.duration;switch(e.stage){case"Unopen":return e;case"Recording":return{duration:n,mediaStream:e.mediaStream,recordingTimeout:e.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:e.currentTime,duration:n,stage:"Recorded"};case"Playing":return{currentTime:e.currentTime,duration:n,stage:"Playing"}}break}case"UpdateTime":{var r=t.currentTime;switch(e.stage){case"Unopen":case"Recording":return e;case"Recorded":{var o=e.duration;return r===o?{currentTime:0,duration:o,stage:"Recorded"}:{currentTime:r,duration:o,stage:"Recorded"}}case"Playing":{var a=e.duration;return r===a?{currentTime:0,duration:a,stage:"Recorded"}:{currentTime:r,duration:a,stage:"Playing"}}}break}case"RecordingTimeout":return{currentTime:0,duration:t.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var E={stage:"Unopen"},k=1;function I(t){var a,i=t.maxDuration,l=i===void 0?60:i,s=t.logClickStartRecording,u=s===void 0?r("emptyFunction"):s,c=t.logBrowserDenyAccess,f=c===void 0?r("emptyFunction"):c,g=t.createVoiceRecordQpl,h=((a=o("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:a.sampleRate)===!0,y=p(L,E),C=y[0],b=y[1],v=r("useIsMountedRef")(),S=_(),R=_([]),I=_([]),T=_(),D=_(),x=_(),$=_(),P=_(),N=_(r("emptyFunction")),M=d(function(e){var t=e[0],n=e[1];if(v.current){var r=URL.createObjectURL(t);x.current=r;var o=new Audio(r);o.addEventListener("canplay",function(){var e;D.current=o;var r=o.duration;b({duration:r,type:"UpdateDuration"});var a={duration:r,file:t,waveformData:n};$.current=a,N.current(a),(e=P.current)==null||e.endSuccess()}),o.addEventListener("timeupdate",function(){var e,t=(e=D.current)==null?void 0:e.currentTime;t!=null&&b({currentTime:t,type:"UpdateTime"})}),o.addEventListener("durationchange",function(){var e,t=(e=D.current)==null?void 0:e.duration;t!=null&&!Number.isNaN(t)&&b({duration:t,type:"UpdateDuration"})})}},[v]),w=d(function(){S.current==null||T.current==null||T.current.postMessage({buffersL:R.current,buffersR:k===2?I.current:null,sampleRate:S.current})},[]);m(function(){if(C.stage==="Recording"){R.current=[],I.current=[];var e=r("AudioContextSingleton").get({sampleRate:h?44100:void 0}),t=e.destination;S.current=e.sampleRate;var n=C.mediaStream,o=e.createScriptProcessor(4096,k,k),a=e.createMediaStreamSource(n);T.current=new(r("WebWorker"))(r("MWChatRecorderUtilsWorkerResource")).setMessageHandler(M).setAllowCrossPageTransition(!0).execute();var i=function(t){C.stage==="Recording"&&t instanceof AudioProcessingEvent&&R.current.push(t.inputBuffer.getChannelData(0).slice())};return o.addEventListener("audioprocess",i),a.connect(o),o.connect(t),u(),function(){n.getAudioTracks().forEach(function(e){if(e.readyState!=="ended"){e.stop();return}}),o.removeEventListener("audioprocess",i)}}},[M,u,C.stage,C.mediaStream,h]);var A=r("usePrevious")(C);m(function(){(A==null?void 0:A.stage)==="Recording"&&C.stage==="Recorded"&&w()},[A==null?void 0:A.stage,w,C.stage]),m(function(){if(C.stage==="Recording"){var e=Date.now(),t,n=function(){var o=(Date.now()-e)/1e3;if(o>=l){b({recordingTimeout:l,type:"RecordingTimeout"});return}b({duration:o,type:"UpdateDuration"}),t=r("setTimeout")(n,1e3)};return t=r("setTimeout")(n,1e3),function(){t!=null&&r("clearTimeout")(t)}}},[l,C.stage]);var F=d(function(e){var t=g==null?void 0:g();P.current=t,t==null||t.start({startInfo:{isOpusRecorder:!1}}),b({mediaStream:e,recordingTimeout:l,type:"Start"})},[l,g]),O=d(function(){var e,t;(e=P.current)==null||e.endCancel(),b({type:"Reset"}),(t=D.current)==null||t.pause(),D.current=void 0,$.current=void 0,S.current=void 0;var n=x.current;n!=null&&(URL.revokeObjectURL(n),x.current=void 0)},[]),B=d(function(){var e=function(){b({maxDuration:l,type:"Toggle"})},t=D.current;if(t==null){e();return}switch(C.stage){case"Unopen":{e();break}case"Recording":{var n;(n=P.current)==null||n.addPoint("stop-recording"),e();break}case"Recorded":{var r;(r=P.current)==null||r.addPoint("play-audio"),t.play().then(e).catch(function(e){var t;(t=P.current)==null||t.endFail("browser-deny-access",{string:{failReason:o("getSafeQplErrorMessage").getSafeQPLErrorMessage(e)}}),f()});break}case"Playing":{var a;(a=P.current)==null||a.addPoint("pause-playing"),t.pause(),e();break}}},[f,C.stage]),W=d(function(){return new(e||(e=n("Promise")))(function(e){var t=$.current;if(t!=null)return e(t);if(N.current=e,C.stage==="Recording")return B()})},[C,B]);return{audioEl:D,getVoiceClip:W,reset:O,start:F,state:C,toggle:B}}l.showScreenReaderLabel=f,l.hasScrubber=g,l.getTimerTime=h,l.getDuration=y,l.getCurrentTime=C,l.isProgressing=b,l.isCompleted=v,l.getPlaybackLabel=S,l.getPlaybackIcon=R,l.useVoiceRecorder=I}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","ReQL","mwCMIsAnyCMThread","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;async function c(e,t,n,a){if((s||(s=o("I64"))).equal(n,(u||(u=o("LSIntEnum"))).ofNumber(1))&&!(s||(s=o("I64"))).equal(t,a)){var i,l=await Promise.all([(i=o("ReQL")).firstAsync(i.fromTableAscending(e.tables.threads,["typingIndicatorDisabled"]).getKeyRange(t)),i.firstAsync(i.mergeJoin(i.fromTableAscending(e.tables.participants).getKeyRange(t),i.fromTableAscending(e.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((u||(u=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(e){var t=e[0],n=e[1];return!(s||(s=o("I64"))).equal(t.contactId,a)}))]),c=l[0],d=l[1],m=c==null?void 0:c.typingIndicatorDisabled,p=m!=null?(s||(s=o("I64"))).equal((u||(u=o("LSIntEnum"))).ofNumber(r("LSTypingIndicatorSettingState").DISABLED),m):!1;return d!=null&&!p}else return!r("mwCMIsAnyCMThread")(n)}function d(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),d=r("MessengerWebUXLogger").useInteractionLogger(),m,p;return n[0]!==l||n[1]!==a||n[2]!==d||n[3]!==t.authorityLevel||n[4]!==t.threadKey||n[5]!==t.threadType?(m=function(n){(s||(s=o("I64"))).ge(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(c(a,t.threadKey,t.threadType,l).then(function(e){if(e)return d==null||d({eventName:"send_typing_indicators",threadKey:t.threadKey,threadType:t.threadType}),a.runInTransaction(function(e){return r("LSSendTypingIndicatorStoredProcedure")(r("LSFactory")(e),{isGroupThread:o("LSMessagingThreadTypeUtil").isGroup(t.threadType),isTyping:n,threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":134")}))},p=[t.authorityLevel,t.threadKey,t.threadType,a,l,d],n[0]=l,n[1]=a,n[2]=d,n[3]=t.authorityLevel,n[4]=t.threadKey,n[5]=t.threadType,n[6]=m,n[7]=p):(m=n[6],p=n[7]),o("Int64Hooks").useCallbackInt64(m,p)}l.default=d}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useMemo,u=function(t){};function c(e){var t=r("useOnTypingStateChanged")(e),n=o("MWChatViewerChatVisibilityHook").useViewerChatVisibility();return n?t:u}l.default=c}),98);
__d("MWV2OpenComposer.react",["FBLogger","I64","LSAuthorityLevel","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPActor.react","MWPReplyContext.react","MWPUseVoiceRecorder","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","ReQL","WebUXLoggingSurfaceContextProvider","cr:12419","emptyFunction","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMAWEditMessageData","useMWGenAIWriteConsentMutation","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e,m=d.useContext,p=d.useRef,_=r("requireDeferred")("MWChatAudioLog").__setRef("MWV2OpenComposer.react"),f=r("gkx")("23426");function g(){_.onReady(function(e){return e.logClickStartRecording()})}function h(){_.onReady(function(e){return e.logBrowserDenyAccess()})}function y(e){var t=o("react-compiler-runtime").c(15),n=e.afterSendMessage,a=e.thread,l=r("useAsyncReStore")(),c=o("MWPActor.react").useActor(),d;t[0]!==c||t[1]!==n||t[2]!==l||t[3]!==a.authorityLevel||t[4]!==a.threadKey||t[5]!==a.threadType?(d=function(){o("MWPActor.react").isAPPlus()&&o("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&(s||(s=o("I64"))).lt(a.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))&&r("promiseDone")(l,async function(e){var t,n=await(t=o("ReQL")).firstAsync(t.leftJoin(t.fromTableAscending(e.tables.participants).getKeyRange(a.threadKey).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,c)}),t.fromTableAscending(e.tables.contacts))),l=n==null?void 0:n[1];if(!l){r("FBLogger")("messenger_web_product").warn("contact not found");return}if((u||(u=o("LSIntEnum"))).equal(l.contactReachabilityStatusType,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER))return e.runInTransaction(function(e){return e.contacts.put(babelHelpers.extends({},l,{contactReachabilityStatusType:(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER)}))},"readwrite",void 0,void 0,i.id+":149")}),n()},t[0]=c,t[1]=n,t[2]=l,t[3]=a.authorityLevel,t[4]=a.threadKey,t[5]=a.threadType,t[6]=d):d=t[6];var m;t[7]!==d||t[8]!==a?(m={afterSendMessage:d,skipUrlPreviewGen:!1,thread:a},t[7]=d,t[8]=a,t[9]=m):m=t[9];var _=r("useMWV2OnSendOpenMessage")(m),f=p(!1),g;t[10]===Symbol.for("react.memo_cache_sentinel")?(g=r("MessengerWebGenAIConsentStatusStore").getChatConsented(),t[10]=g):g=t[10];var h=p(g),y=r("useMWGenAIWriteConsentMutation")(),C=y[0],b;return t[11]!==C||t[12]!==_||t[13]!==a.threadKey?(b=function(t,n,i,l,s,u,c,d,m,p,g,y,b,v,S,R,L,E){o("MWGenAIUtils").isMetaAIThread(a.threadKey)&&!h.current&&(r("MessengerWebGenAIConsentStatus").nux_scope==="EU"||r("MessengerWebGenAIConsentStatus").nux_scope==="EU_V2")&&C({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:r("MessengerWebGenAIConsentStatus").nux_scope},onSuccess:function(){h.current=!0}});var e=_(t,n,i,l,s,u,c,d,m,p,g,y,b,v,S,R,o("MWGenAIUtils").getGenAIAssistantDataclassParams({isSubsequentSend:f.current,threadKey:a.threadKey}),E);return f.current=!0,e},t[11]=C,t[12]=_,t[13]=a.threadKey,t[14]=b):b=t[14],b}function C(e){var t=o("react-compiler-runtime").c(43),a=e.afterSendMessage,i=e.isPreviewThread,l=e.thread,s=a===void 0?r("emptyFunction"):a,u=m(o("MWPReplyContext.react").MWPReplyContext),d=u.reply,p=r("useMAWEditMessageData")(),_;t[0]!==l?(_={thread:l},t[0]=l,t[1]=_):_=t[1];var C=r("useMWMediaManager")(_),b=C.handleFileRemove,v=C.handleFileSelect,S=C.mediaStaging,R=C.onHdMediaToggled,L;t[2]!==s||t[3]!==l?(L={afterSendMessage:s,thread:l},t[2]=s,t[3]=l,t[4]=L):L=t[4];var E=y(L),k;t[5]===Symbol.for("react.memo_cache_sentinel")?(k={logBrowserDenyAccess:h,logClickStartRecording:g,maxDuration:void 0},t[5]=k):k=t[5];var I=o("MWPUseVoiceRecorder").useVoiceRecorder(k),T=r("useMWOnTypingStateChanged")(l);r("useMWV2FileDropzoneRegisterHandler")(v);var D;t[6]!==l?(D=o("LSMessagingThreadTypeUtil").isAiBotSummoning(l),t[6]=l,t[7]=D):D=t[7];var x=D,$;t[8]!==i||t[9]!==S||t[10]!==E||t[11]!==T||t[12]!==l.threadKey?($={composerEntrypointForLogging:"MWV2OpenComposer",isPreviewThread:i,mediaStaging:S,onSendMessage:E,onTypingStateChanged:T,threadKey:l.threadKey},t[8]=i,t[9]=S,t[10]=E,t[11]=T,t[12]=l.threadKey,t[13]=$):$=t[13];var P=r("useMWPComposerEditor")($),N=P.editor,M=P.editorElementRef,w=P.hasStuffToSend,A=P.sendMessage,F;t[14]!==d||t[15]!==l?(F=d!=null?c.jsx(o("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:d.messageId,messageThreadKey:d.threadKey,messageTimestamp:d.timestampMs,thread:l}):null,t[14]=d,t[15]=l,t[16]=F):F=t[16];var O;t[17]!==p?(O=p!=null&&c.jsx(r("MWV2ComposerEditContainer.react"),{editMessageData:p}),t[17]=p,t[18]=O):O=t[18];var B;t[19]!==p||t[20]!==N||t[21]!==M||t[22]!==w||t[23]!==x||t[24]!==S||t[25]!==b||t[26]!==v||t[27]!==R||t[28]!==E||t[29]!==A||t[30]!==l||t[31]!==I?(B=p!=null?null:c.jsx(o("MWV2ComposerView.react").MWV2ComposerView,{editor:N,editorElementRef:M,hasStuffToSend:w,isAiBotMentionsEnabled:x&&f&&!r("MessengerMSplitFlag").is_msplit_account,mediaStaging:S,onAttachmentRemoved:b,onAttachmentsAdded:v,onHdMediaToggled:R,onSendMessage:E,policyProduct:"messaging_lightswitch",sendMessage:A,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:l,voiceRecorder:I}),t[19]=p,t[20]=N,t[21]=M,t[22]=w,t[23]=x,t[24]=S,t[25]=b,t[26]=v,t[27]=R,t[28]=E,t[29]=A,t[30]=l,t[31]=I,t[32]=B):B=t[32];var W;t[33]!==p||t[34]!==N||t[35]!==w||t[36]!==l?(W=p==null&&n("cr:12419")!=null&&c.jsx(n("cr:12419"),{editor:N,hasStuffToSend:w,thread:l}),t[33]=p,t[34]=N,t[35]=w,t[36]=l,t[37]=W):W=t[37];var q;return t[38]!==W||t[39]!==F||t[40]!==O||t[41]!==B?(q=c.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:c.jsxs("div",{children:[F,O,B,W]})}),t[38]=W,t[39]=F,t[40]=O,t[41]=B,t[42]=q):q=t[42],q}l.default=C}),98);
__d("useMWAppealableMessageSendComposerBlockConfiguration",["fbt","MWCallingRestrictionDialog.entrypoint","MWCallingRestrictionLogger","MWXComposerBanner.react","MWXLink.react","react","react-compiler-runtime","useMWHasAppealableMessageSendFeatureLimit","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useCallback,m=c.useMemo;function p(){var e=o("react-compiler-runtime").c(12),t=r("useMWHasAppealableMessageSendFeatureLimit")(),n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={},e[0]=n):n=e[0];var a=r("useMWXEntryPointDialog")(r("MWCallingRestrictionDialog.entrypoint"),n),i=a[0],l=o("MWCallingRestrictionLogger").useLogComposerBlockImpression(),c;e[1]!==i?(c=function(){i({trigger:"message_thread"})},e[1]=i,e[2]=c):c=e[2];var d=c,m;e[3]===Symbol.for("react.memo_cache_sentinel")?(m=s._(/*BTDS*/"How to confirm"),e[3]=m):m=e[3];var p;e[4]!==d?(p={label:m,onPress:d,size:32,testid:"facerec-feature-limit-composer-block-button",type:"secondary"},e[4]=d,e[5]=p):p=e[5];var _=p;if(t()){l();var f;e[6]===Symbol.for("react.memo_cache_sentinel")?(f=s._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {=m2}",[s._implicitParam("=m2",u.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about restricted actions due to unusual activity"),href:"https://www.facebook.com/help/1053588012132894",style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),e[6]=f):f=e[6];var g;e[7]!==_?(g=[_],e[7]=_,e[8]=g):g=e[8];var h;e[9]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"Confirm your identity to send messages"),e[9]=h):h=e[9];var y;return e[10]!==g?(y=u.jsx(r("MWXComposerBanner.react"),{bodyText:f,buttons:g,headerText:h,testid:void 0}),e[10]=g,e[11]=y):y=e[11],y}}l.default=p}),226);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWDefaultE2eeOneToOneEligibility","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(27),l=(e||(e=r("useReStore")))(),s;a[0]!==l.tables._user_info?(s=function(){return o("ReQL").fromTableAscending(l.tables._user_info).map(u)},a[0]=l.tables._user_info,a[1]=s):s=a[1];var c;a[2]!==l?(c=[l],a[2]=l,a[3]=c):c=a[3];var d=o("ReQLSuspense").useFirst(s,c,i.id+":38"),m;a[4]!==l.tables.contacts||a[5]!==d?(m=function(){return d!=null?o("ReQL").fromTableAscending(l.tables.contacts,o("LSContactBitOffset").contactCapabilityFields).getKeyRange(d):o("ReQL").empty()},a[4]=l.tables.contacts,a[5]=d,a[6]=m):m=a[6];var p;a[7]!==l||a[8]!==d?(p=[l,d],a[7]=l,a[8]=d,a[9]=p):p=a[9];var _=o("ReQLSuspense").useFirst(m,p,i.id+":43"),f=_!=null&&o("LSContactBitOffset").has(80,_),g;a[10]!==l.tables.contacts||a[11]!==t||a[12]!==n?(g=function(){return t!=null&&n!=null&&o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)?o("ReQL").fromTableAscending(l.tables.contacts,[].concat(o("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(t):o("ReQL").empty()},a[10]=l.tables.contacts,a[11]=t,a[12]=n,a[13]=g):g=a[13];var h;a[14]!==l||a[15]!==t||a[16]!==n?(h=[l,t,n],a[14]=l,a[15]=t,a[16]=n,a[17]=h):h=a[17];var y=o("ReQLSuspense").useFirst(g,h,i.id+":62"),C;a[18]!==y?(C=o("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:y}),a[18]=y,a[19]=C):C=a[19];var b=C;if(n==null||!o("LSMessagingThreadTypeUtil").isOpenOneToOne(n)){var v;return a[20]===Symbol.for("react.memo_cache_sentinel")?(v=[!1,!0,null],a[20]=v):v=a[20],v}if(_==null){r("FBLogger")("messenger_web").info("Viewer is null when checking default e2ee thread capability");var S;return a[21]===Symbol.for("react.memo_cache_sentinel")?(S=[!1,!1,null],a[21]=S):S=a[21],S}if(!f){b&&r("FBLogger")("messenger_web").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");var R;return a[22]===Symbol.for("react.memo_cache_sentinel")?(R=[!1,!0,null],a[22]=R):R=a[22],R}if(y==null){var L;return a[23]===Symbol.for("react.memo_cache_sentinel")?(L=[!1,!1,null],a[23]=L):L=a[23],L}var E;return a[24]!==b||a[25]!==y.id?(E=[b,!0,y.id],a[24]=b,a[25]=y.id,a[26]=E):E=a[26],E}function u(e){return e.facebookUserId}l.default=s}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","react-compiler-runtime","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability"],(function(t,n,r,o,a,i,l){"use strict";function e(e){var t=o("react-compiler-runtime").c(3),n=r("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")(e.threadKey,e.threadType),a=n[0],i;return t[0]!==a||t[1]!==e.threadType?(i=o("LSMessagingThreadTypeUtil").isOpenOneToOne(e.threadType)&&a,t[0]=a,t[1]=e.threadType,t[2]=i):i=t[2],i}l.default=e}),98);
__d("useMWDefaultE2eeComposerConfiguration",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSThreadAttributionStore","lazyLoadComponent","react","react-compiler-runtime","useIsDefaultE2eeOpenThread"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react")),d=e.useEffect,m=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function p(e){var t=o("react-compiler-runtime").c(6),n=r("useIsDefaultE2eeOpenThread")(e),a,i;if(t[0]!==n||t[1]!==e.threadKey?(a=function(){if(n){var t=o("LSThreadAttributionStore").getSourceWithoutReset(void 0,(s||(s=o("I64"))).to_string(e.threadKey)),a=t.type==="MWLSEntrypoint"?t.value:(u||(u=o("LSIntEnum"))).toNumber(t.value);r("FBLogger")("messenger_web").info("Default e2ee composer block showing up from non-meteora with entrypoint %s",a)}},i=[e.threadKey,n],t[0]=n,t[1]=e.threadKey,t[2]=a,t[3]=i):(a=t[2],i=t[3]),d(a,i),n){var l;return t[4]!==e?(l=c.jsx(m,{thread:e}),t[4]=e,t[5]=l):l=t[5],l}}l.default=p}),98);
__d("useMWMetaAIBlockingComposerConfiguration",["fbt","MWGenAINuxQplLogger","MWGenAIUtils","MWXComposerBanner.react","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","react","react-compiler-runtime","useMWGenAIWriteConsentMutation"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e,d=c.useMemo,m=c.useState;function p(e){var t=o("react-compiler-runtime").c(7),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=r("MessengerWebGenAIConsentStatusStore").getChatConsented(),t[0]=n):n=t[0];var a=m(n),i=a[0],l=a[1],c=r("useMWGenAIWriteConsentMutation")(),d=c[0],p;t[1]===Symbol.for("react.memo_cache_sentinel")?(p=s._(/*BTDS*/"OK"),t[1]=p):p=t[1];var _;t[2]!==d?(_={label:p,onPress:function(){d({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:r("MessengerWebGenAIConsentStatus").nux_scope}}),l(!0),o("MWGenAINuxQplLogger").logNuxHidden("BR_UK")},size:32,type:"primary"},t[2]=d,t[3]=_):_=t[3];var f=_;if(o("MWGenAIUtils").isMetaAIThread(e.threadKey)&&!i&&r("MessengerWebGenAIConsentStatus").nux_scope==="BR_UK"){o("MWGenAINuxQplLogger").logNuxRender("BR_UK");var g;t[4]===Symbol.for("react.memo_cache_sentinel")?(g=u.jsx(r("MXGenAINuxTextContent.react"),{formattedText:r("MessengerWebGenAIConsentStatus").inline_disclosure_text}),t[4]=g):g=t[4];var h;return t[5]!==f?(h=u.jsx(r("MWXComposerBanner.react"),{bodyText:g,buttons:[f]}),t[5]=f,t[6]=h):h=t[6],h}}l.default=p}),226);
__d("useMWPBlockedAIBotComposerConfiguration",["I64","LSContactBitOffset","LSMessagingThreadTypeUtil","MWBlockedAIBotComposer.react","MWPActor.react","ReQL","ReQLSuspense","gkx","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(10),a=r("gkx")("15075"),l=(e||(e=r("useReStore")))(),u=o("MWPActor.react").useActor(),d;n[0]!==t.threadType?(d=o("LSMessagingThreadTypeUtil").isAiBot(t.threadType),n[0]=t.threadType,n[1]=d):d=n[1];var p=d,_,f;n[2]!==u||n[3]!==l||n[4]!==p||n[5]!==t.threadKey?(_=function(){return p&&a?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(l.tables.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,u)}).map(m):o("ReQL").empty()},f=[l,t.threadKey,u,p,a],n[2]=u,n[3]=l,n[4]=p,n[5]=t.threadKey,n[6]=_,n[7]=f):(_=n[6],f=n[7]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":44");if(!(!a||!p||g==null)){var h=o("LSContactBitOffset").has(0,g),y=o("LSContactBitOffset").has(1,g),C=!h||!y;if(C){var b;return n[8]!==t?(b=c.jsx(r("MWBlockedAIBotComposer.react"),{thread:t}),n[8]=t,n[9]=b):b=n[9],b}}}function m(e){var t=e[1];return t}l.default=d}),98);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(3),n=e.height,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r="x1exxf4d x13fuv20 x178xt8z",t[0]=r):r=t[0];var a=n.toString()+"px",i;return t[1]!==a?(i=s.jsx("div",{className:r,style:{height:a}}),t[1]=a,t[2]=i):i=t[2],i}function c(e){var t=o("react-compiler-runtime").c(5),n=e.children,a=e.height,i;t[0]!==a?(i=s.jsx(u,{height:a}),t[0]=a,t[1]=i):i=t[1];var l;return t[2]!==n||t[3]!==i?(l=s.jsx(r("CometPlaceholder.react"),{fallback:i,name:"MWPComposerPlaceholder",children:n}),t[2]=n,t[3]=i,t[4]=l):l=t[4],l}l.default=c}),98);
__d("useLogPageFollowerExposure",["I64","LSContactReachabilityStatusType","LSContactUtils","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useEffect,d=r("requireDeferred")("CreatorMessagingRecipientFalcoEvent").__setRef("useLogPageFollowerExposure");function m(t){var n=o("react-compiler-runtime").c(4),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){return t==null?o("ReQL").empty():o("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(t.id)},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":31");return u!=null&&u.hasMoreBefore===!1&&u.isLoadingBefore===!1&&u.maxMessageId===""&&u.minMessageId===""}var p=new Set,_=new Set([r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED,r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER]);function f(e){var t=o("react-compiler-runtime").c(4),n=m(e),r,a;t[0]!==e||t[1]!==n?(r=function(){if(e!=null){var t=(s||(s=o("I64"))).to_string(e.id),r=o("LSContactUtils").getUserReachability(e);n&&_.has(r)&&!p.has(t)&&(p.add(t),d.onReady(function(t){return t.log(function(){return{recipient_id:(s||(s=o("I64"))).to_string(e.id)}})}))}},a=[e,n],t[0]=e,t[1]=n,t[2]=r,t[3]=a):(r=t[2],a=t[3]),c(r,a)}l.default=f}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(e||(e=o("react"))).useEffect;function d(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),n=o("LSMessagingThreadTypeUtil").isOneToOne(e),r=o("LSMessagingThreadTypeUtil").isGroup(e);return n?t?"messenger_encrypted_direct_thread":"messenger_direct_thread_details":r?t?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(e){switch(e){case r("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case r("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var p=function(t){return t?(s||(s=o("LSIntEnum"))).toNumber(t):r("LSContactReachabilityStatusType").REACHABLE};function _(e,t){var n=o("react-compiler-runtime").c(11),a;n[0]!==t?(a=p(t),n[0]=t,n[1]=a):a=n[1];var i=a,l;n[2]!==e?(l=d(e),n[2]=e,n[3]=l):l=n[3];var s=l,_;n[4]!==e?(_=(u||(u=o("I64"))).to_string(e),n[4]=e,n[5]=_):_=n[5];var f=_,g,h;n[6]!==s||n[7]!==i||n[8]!==f?(g=function(){i!==r("LSContactReachabilityStatusType").REACHABLE&&i!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&i!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&r("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(i),surface:s,thread_id:f}})},h=[f,i,s],n[6]=s,n[7]=i,n[8]=f,n[9]=g,n[10]=h):(g=n[9],h=n[10]),c(g,h)}l.default=_}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","FocusRegion.react","I64","Int64Hooks","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactTypeExact","LSContactUtils","LSFriendshipStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCallingRestrictionDialog.entrypoint","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MWPThreadIsPage.react","MWXLink.react","QPLUserFlow","ReQL","ReQLSuspense","lazyLoadComponent","qpl","react","useLogPageFollowerExposure","useMWPAdultMinorRestrictionLogging","useMWXEntryPointDialog","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=d||(d=o("react")),p=d,_=p.useCallback,f=p.useMemo,g="https://www.facebook.com/help/messenger-app/2258699540867663/?helpref=uf_share",h="https://www.facebook.com/help/1518695669102556/",y="https://www.facebook.com/help/1053588012132894/",C=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function b(t,n){var a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),d=(u||(u=o("I64"))).equal(l,t.threadKey),p=o("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,b=o("ReQLSuspense").useFirst(function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[0],n=e[1];return d||!(u||(u=o("I64"))).equal(n.id,l)}).map(function(e){var t=e[0],n=e[1];return n}):o("ReQL").empty()},[a,t.threadKey,t.threadType,l,d],i.id+":71"),v=o("LSContactUtils").getUserReachability(b),S=o("MWPThreadIsPage.react").useIsPage(),R=r("useMWXEntryPointDialog")(r("MWCallingRestrictionDialog.entrypoint"),{}),L=R[0],E=_(function(){L({trigger:"message_thread"})},[L]),k=f(function(){return{label:s._(/*BTDS*/"How to confirm"),onPress:E,size:32,type:"secondary"}},[E]),I=[];r("useMWPAdultMinorRestrictionLogging")(t.threadKey,b==null?void 0:b.contactReachabilityStatusType),r("useLogPageFollowerExposure")(b);var T=o("Int64Hooks").useCallbackInt64(function(){var e=o("LSContactUtils").getUserReachability(b),n=(u||(u=o("I64"))).to_int32(t.threadKey);if(e===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER||e===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER||e===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED||e===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER){var a=(c||(c=o("LSIntEnum"))).equal(b==null?void 0:b.contactTypeExact,r("LSContactTypeExact").FB_PAGE);r("QPLUserFlow").start(r("qpl")._(421070127,"2494"),{instanceKey:n}),r("QPLUserFlow").endSuccess(r("qpl")._(421070127,"2494"),{annotations:{int:{contact_reachability_status:e},string:{viewer_type:a?"sender_p2p":"sender_p2u"}},instanceKey:n})}},[b,t.threadKey]),D=r("useSinglePartialViewImpression")({onImpressionStart:T});if(o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)&&b!=null){var x=r("MWGetLSThreadReportingTokenFromThread")(t),$=!(u||(u=o("I64"))).equal(b.blockedByViewerStatus,(c||(c=o("LSIntEnum"))).ofNumber(r("LSContactBlockedByViewerStatus").UNBLOCKED));if(v!==r("LSContactReachabilityStatusType").REACHABLE&&v!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&v!==r("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&v!==r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER){var P,N=s._(/*BTDS*/"You can't message this account."),M=b.friendshipStatus;return v===r("LSContactReachabilityStatusType").UNREACHABLE_RS_UPSELL_ELIGIBLE&&M!==void 0&&(u||(u=o("I64"))).to_float(M)!==r("LSFriendshipStatus").CANNOT_REQUEST&&(u||(u=o("I64"))).to_float(M)!==r("LSFriendshipStatus").UNKNOWN?(N=s._(/*BTDS*/"You can't message this account. It may help to add them as a friend on Facebook."),p=o("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE_MESSAGE_REQUEST):v===r("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK?(P=s._(/*BTDS*/"Message request sent"),N=s._(/*BTDS*/"You can send more messages after they accept. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about message request limits"),href:g,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK?(P=s._(/*BTDS*/"You've reached the message request limit"),N=s._(/*BTDS*/"There's a limit to how many requests you can send in 24 hours.")):v===r("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK_WITH_APPEAL?(P=s._(/*BTDS*/"Confirm your identity to send messages"),N=s._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about restricted actions"),href:y,target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),I=[k]):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER?(P=s._(/*BTDS*/"Message request pending"),N=s._(/*BTDS*/"Send up to 10 new messages per day. The limit resets at midnight PST. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about daily message limits"),href:h,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED?(P=s._(/*BTDS*/"Message request limit reached"),N=s._(/*BTDS*/"You can send message requests to 10 new people per day. Limit resets at midnight PST. {learn_more_link}",[s._param("learn_more_link",m.jsx(r("MWXLink.react"),{"aria-label":s._(/*BTDS*/"Learn more about daily message request limits"),href:h,target:"_blank",children:s._(/*BTDS*/"Learn more")}))])):v===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER&&(P=S?s._(/*BTDS*/"This Page is unavailable"):s._(/*BTDS*/"This person is unavailable"),N=s._(/*BTDS*/"You can\u2019t message this account.")),m.jsx(r("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(o("FocusRegion.react").FocusRegion,{children:m.jsx(C,{buttonsUnreachable:I,fbid:(u||(u=o("I64"))).to_string(b.id),impressionRef:D,isReachable:!1,reason:p,reportingToken:void 0,thread:t,unreachableHeader:P,unreachableTitle:N})})})}if($)return m.jsx(r("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(C,{buttonsOverride:n,fbid:(u||(u=o("I64"))).to_string(b.id),impressionRef:D,reason:o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:x,thread:t})})}}b.displayName=b.name+" [from "+i.id+"]",l.default=b}),226);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:22302","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22302")),r("gkx")("23219"));l.default=e}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=(u||(u=o("react"))).useCallback;function d(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWPActor.react").useActor(),l=r("useLSMessagingSource")(),u;return t[0]!==a||t[1]!==l||t[2]!==n?(u=function(t,u,c){r("promiseDone")(n.runInTransaction(function(e){var n=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,l);return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(e),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:c,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),reply_source_type:s.ofNumber(r("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:s.ofNumber(r("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:n}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:a,snippet:u,text:u,threadKey:t,threadType:s.ofNumber(1)})},"readwrite",void 0,void 0,i.id+":41"))},t[0]=a,t[1]=l,t[2]=n,t[3]=u):u=t[3],u}l.default=d}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","useMWV2DisabledPageComposerSendMenuItem"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=r("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function d(e){var t=o("react-compiler-runtime").c(5),n=e.threadKey;o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n,o("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var a=r("useMWV2DisabledPageComposerSendMenuItem")(),i;t[0]!==a||t[1]!==n?(i=function(t){var e=t.title,r=t.id;if(r!=null)return a(n,e,r)},t[0]=a,t[1]=n,t[2]=i):i=t[2];var l=i,s;return t[3]!==l?(s=u.jsx(r("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:p,onSelect:l},popoverResource:c,children:m}),t[3]=l,t[4]=s):s=t[4],s}function m(e,t){return u.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xpdmqnj xsag5q8 x1g0dm76",ref:e,children:u.jsx(r("MWXButton.react"),{icon:r("MWXIconDragHandle"),label:s._(/*BTDS*/"Menu"),onPress:t,reduceEmphasis:!0})})}m.displayName=m.name+" [from "+i.id+"]";function p(){}l.default=d}),226);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2);if(e.disableComposerInput&&e.hasPersistentMenu){var n;return t[0]!==e.threadKey?(n=s.jsx(r("MWV2DisabledPageComposer.react"),{threadKey:e.threadKey}),t[0]=e.threadKey,t[1]=n):n=t[1],n}}l.default=u}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","react-compiler-runtime","requireDeferred"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=r("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function c(t,n,r){var a=o("react-compiler-runtime").c(7),i;a[0]!==r?(i=p(r),a[0]=r,a[1]=i):i=a[1];var l=i,s,u;return a[2]!==t||a[3]!==l||a[4]!==n?(s=function(){_({action:1,restriction_type:t,surface:l,thread_id:(e||(e=o("I64"))).to_string(n!=null?n:(e||(e=o("I64"))).zero)})},u=[n,t,l],a[2]=t,a[3]=l,a[4]=n,a[5]=s,a[6]=u):(s=a[5],u=a[6]),o("Int64Hooks").useCallbackInt64(s,u)}function d(t,n,r){var a=o("react-compiler-runtime").c(7),i;a[0]!==r?(i=p(r),a[0]=r,a[1]=i):i=a[1];var l=i,s,u;return a[2]!==t||a[3]!==l||a[4]!==n?(s=function(){_({action:2,restriction_type:t,surface:l,thread_id:(e||(e=o("I64"))).to_string(n!=null?n:(e||(e=o("I64"))).zero)})},u=[n,t,l],a[2]=t,a[3]=l,a[4]=n,a[5]=s,a[6]=u):(s=a[5],u=a[6]),o("Int64Hooks").useCallbackInt64(s,u)}function m(t){return t?(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE))?40:(e||(e=o("I64"))).equal(t.type_,(s||(s=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))?39:6:0}function p(e){if(e){var t=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e),n=o("LSMessagingThreadTypeUtil").isOneToOne(e);if(n)return t?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";var r=o("LSMessagingThreadTypeUtil").isGroup(e),a=o("LSMessagingThreadTypeUtil").isPublicCMThread(e);if(r)return t?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function _(e){var t=e.action,n=e.restriction_type,r=e.surface,o=e.thread_id;u.onReady(function(e){return e.log(function(){return{action:t,restriction_type:n,surface:r,thread_id:o}})})}l.useLogFeatureLimitComposerImpression=c,l.useLogViewCommunityStandards=d,l.getRestrictionTypeFromFeatureLimit=m}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t){var n=o("react-compiler-runtime").c(6),a=t===void 0?"prompt":t,l=(s||(s=r("useReStore")))(),u=o("MWPActor.react").useActor(),m=a==="composer_block",p=d,_,f;n[0]!==u||n[1]!==l.tables.mwb_safety_interventions||n[2]!==m||n[3]!==a?(_=function(){return o("ReQL").fromTableAscending(l.tables.mwb_safety_interventions).filter(function(t){var n=t.logOnlySafetyInterventionType,r=t.mutImpressionsCount,i=t.userId;return t.uiType===a&&p(n)&&i===(e||(e=o("I64"))).to_string(u)&&(m||(e||(e=o("I64"))).equal(r,(e||(e=o("I64"))).zero))}).map(c)},f=[l.tables.mwb_safety_interventions,a,u,m],n[0]=u,n[1]=l.tables.mwb_safety_interventions,n[2]=m,n[3]=a,n[4]=_,n[5]=f):(_=n[4],f=n[5]);var g=o("ReQLSuspense").useArray(_,f,i.id+":35");return g}function c(t){return(e||(e=o("I64"))).to_string(t.interventionId)}function d(e){return e==="education_notice_cm"||e==="education_notice_cm_unbatched"}l.default=u}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","react-compiler-runtime","useServerTime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=36e5,c=24*u,d=23*u,m=1e3;function p(t,n){var a=o("react-compiler-runtime").c(7),i=r("useServerTime")().valueOf(),l=t!=null?(e||(e=o("I64"))).to_float(t.expirationTimestampSeconds)*1e3:i,p=l-i;if(p<=d){var _=Math.ceil(Math.max(p,u)/u),f;return a[0]!==n||a[1]!==_?(f=n?s._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} hours\",\"_1\":\"You can't send messages in community chats and channels for 1 hour\"}",[s._plural(_,"number")]):s._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} hours\",\"_1\":\"You can't send messages for 1 hour\"}",[s._plural(_,"number")]),a[0]=n,a[1]=_,a[2]=f):f=a[2],f}else{var g=Math.ceil(Math.max(p,c)/c);if(g>=m){var h;return a[3]===Symbol.for("react.memo_cache_sentinel")?(h=s._(/*BTDS*/"You can't send messages"),a[3]=h):h=a[3],h}var y;return a[4]!==n||a[5]!==g?(y=n?s._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} days\",\"_1\":\"You can't send messages in community chats and channels for 1 day\"}",[s._plural(g,"number")]):s._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} days\",\"_1\":\"You can't send messages for 1 day\"}",[s._plural(g,"number")]),a[4]=n,a[5]=g,a[6]=y):y=a[6],y}}l.default=p}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","react-compiler-runtime","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(35),n=e.thread,a=r("useMWCMFetchSafetyInterventions")("composer_block"),i;t[0]!==n.threadType?(i=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(n.threadType),t[0]=n.threadType,t[1]=i):i=t[1];var l=i,m;t[2]!==n.threadType?(m=o("MWCMThreadTypes.react").isJoinedCMThread(n.threadType),t[2]=n.threadType,t[3]=m):m=t[3];var _=m,f=(_||l)&&a.length>0,g;t[4]!==a?(g={interventions_ids:a},t[4]=a,t[5]=g):g=t[5];var h=r("useMWXEntryPointDialog")(r("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),g),y=h[0];o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n==null?void 0:n.threadKey,o("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);var C=o("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(n==null?void 0:n.threadType),b;t[6]===Symbol.for("react.memo_cache_sentinel")?(b=o("MWPActor.react").isAPPlus(),t[6]=b):b=t[6];var v=b,S;t[7]!==C?(S=C!=null&&(u||(u=o("I64"))).equal(C.type_,(c||(c=o("LSIntEnum"))).ofNumber(r("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&v,t[7]=C,t[8]=S):S=t[8];var R=S,L=r("useMWPFeatureLimitComposerBlockHeaderText")(C,R),E;t[9]!==C?(E=o("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(C),t[9]=C,t[10]=E):E=t[10];var k=E,I=o("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(k,n==null?void 0:n.threadKey,n==null?void 0:n.threadType),T=o("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(k,n==null?void 0:n.threadKey,n==null?void 0:n.threadType),D;t[11]!==I?(D={onImpressionStart:I},t[11]=I,t[12]=D):D=t[12];var x=r("useSinglePartialViewImpression")(D),$;t[13]===Symbol.for("react.memo_cache_sentinel")?($=s._(/*BTDS*/"Something you sent in a chat went against our Community Standards."),t[13]=$):$=t[13];var P=$,N;t[14]===Symbol.for("react.memo_cache_sentinel")?(N=s._(/*BTDS*/"Your Page is restricted because you sent messages that went against Community Standards."),t[14]=N):N=t[14];var M=N,w;t[15]===Symbol.for("react.memo_cache_sentinel")?(w={target:"_blank",url:"https://www.facebook.com/communitystandards/"},t[15]=w):w=t[15];var A=w,F;t[16]!==f||t[17]!==R?(F=R||f?s._(/*BTDS*/"Learn More"):s._(/*BTDS*/"See Community Standards"),t[16]=f,t[17]=R,t[18]=F):F=t[18];var O=F,B=R?M:P,W=f?void 0:A,q;t[19]!==f||t[20]!==a||t[21]!==T||t[22]!==y?(q=f?function(){y({interventionsIds:a},p)}:T,t[19]=f,t[20]=a,t[21]=T,t[22]=y,t[23]=q):q=t[23];var U;t[24]!==O||t[25]!==W||t[26]!==q?(U=[{label:O,linkProps:W,onPress:q}],t[24]=O,t[25]=W,t[26]=q,t[27]=U):U=t[27];var V;t[28]!==L||t[29]!==B||t[30]!==U?(V=d.jsx(r("MWXComposerBanner.react"),{bodyText:B,buttons:U,headerText:L}),t[28]=L,t[29]=B,t[30]=U,t[31]=V):V=t[31];var H;return t[32]!==x||t[33]!==V?(H=d.jsx("div",{ref:x,children:V}),t[32]=x,t[33]=V,t[34]=H):H=t[34],H}function p(){}l.default=m}),226);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e,t,n){var a=o("react-compiler-runtime").c(2),i=t&&(!e||r("isFeatureLimitEnabled")());if(i){var l;return a[0]!==n?(l=s.jsx(r("MWPFeatureLimitsBlockedComposer.react"),{thread:n}),a[0]=n,a[1]=l):l=a[1],l}}l.default=u}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(2),n;t[0]!==e.threadType?(n=o("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),t[0]=e.threadType,t[1]=n):n=t[1];var a=n,i=r("useIsReadOnlyFeatureLimitedWithThreadType")(e.threadType);return r("useMWPFeatureLimitsBlockedComposerConfiguration")(a,i,e)}l.default=u}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPActor.react","MWPreloadedText","justknobx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e.useContext;function d(e){var t=e.reason,n=e.threadKey;return o("MWBlockedComposerLogging").useLogMWBlockedComposerReason(n,t),null}function m(e,t,n,a){var i=o("react-compiler-runtime").c(3),l=c(r("MWPreloadedText")),m=a!=null&&(s||(s=o("I64"))).equal(a,(s||(s=o("I64"))).of_float(r("LSNullstateCTAType").GET_STARTED))&&!l.text,p=!(s||(s=o("I64"))).equal(t,(s||(s=o("I64"))).zero)||o("MWPActor.react").isAPPlus(),_=r("justknobx")._("926");if(m&&!p||!_&&n){var f=n?o("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:o("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA,g;return i[0]!==f||i[1]!==e?(g=u.jsx(d,{reason:f,threadKey:e}),i[0]=f,i[1]=e,i[2]=g):g=i[2],g}}l.default=m}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWPNullComposerConfiguration","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.thread_nullstate||n[1]!==t.threadKey?(l=function(){return o("ReQL").fromTableAscending(a.tables.thread_nullstate).getKeyRange(t.threadKey)},n[0]=a.tables.thread_nullstate,n[1]=t.threadKey,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t.threadKey?(s=[a,t.threadKey],n[3]=a,n[4]=t.threadKey,n[5]=s):s=n[5];var u=o("ReQLSuspense").useFirst(l,s,i.id+":27"),c;n[6]!==t?(c=o("LSThreadBitOffset").has(44,t),n[6]=t,n[7]=c):c=n[7];var d=c;return r("useMWPNullComposerConfiguration")(t.threadKey,t.lastActivityTimestampMs,d,u==null?void 0:u.ctaType)}l.default=c}),98);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xh8yej3",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(4),n=e.ref,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[u.container,u.block],t[0]=a):a=t[0];var i;t[1]===Symbol.for("react.memo_cache_sentinel")?(i=s.jsx(r("MWXColumnItem.react"),{children:s.jsx(r("MWXGlimmer.react"),{index:0,xstyle:u.glimmer})}),t[1]=i):i=t[1];var l;return t[2]!==n?(l=s.jsx(r("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:n,spacing:20,xstyle:a,children:i}),t[2]=n,t[3]=l):l=t[3],l}l.default=c}),98);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t,n){if(o("LSMessagingThreadTypeUtil").isOneToOne(t)&&n!=null){var a=!n.isPage&&(!n.hasMessageCapability||!n.hasReplyMessageCapability);if(n.blockedSinceTimestampMs==null&&a)return(s||(s=o("I64"))).lt(n.authorityLevel,(s||(s=o("I64"))).of_int32(r("LSAuthorityLevel").AUTHORITATIVE))?u.jsx(r("MWXComposerGlimmer.react"),{}):u.jsx(r("MWChatUnavailableComposer.react"),{reason:n.hasMessageCapability?o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:o("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:e}})}}c.displayName=c.name+" [from "+i.id+"]",l.default=c}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react"));function m(t){var n=o("react-compiler-runtime").c(16),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),c;n[0]!==l||n[1]!==t.threadKey?(c=(s||(s=o("I64"))).equal(l,t.threadKey),n[0]=l,n[1]=t.threadKey,n[2]=c):c=n[2];var d=c,m,_;n[3]!==l||n[4]!==a||n[5]!==d||n[6]!==t.threadKey||n[7]!==t.threadType?(m=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[1];return d||!(s||(s=o("I64"))).equal(t.id,l)}).map(p):o("ReQL").empty()},_=[a,t.threadKey,t.threadType,l,d],n[3]=l,n[4]=a,n[5]=d,n[6]=t.threadKey,n[7]=t.threadType,n[8]=m,n[9]=_):(m=n[8],_=n[9]);var f=o("ReQLSuspense").useFirst(m,_,i.id+":33");if(f!=null){var g=f==null?void 0:f.authorityLevel,h=f==null?void 0:f.blockedSinceTimestampMs,y;return n[10]!==f||n[11]!==g||n[12]!==h||n[13]!==t.threadKey||n[14]!==t.threadType?(y=r("getMWPUnavailableComposerConfiguration")(t.threadKey,t.threadType,{authorityLevel:g,blockedSinceTimestampMs:h,hasMessageCapability:o("LSContactBitOffset").has(0,f),hasReplyMessageCapability:o("LSContactBitOffset").has(1,f),isPage:(s||(s=o("I64"))).equal(f.contactType,(u||(u=o("LSIntEnum"))).ofNumber(r("LSContactType").PAGE))}),n[10]=f,n[11]=g,n[12]=h,n[13]=t.threadKey,n[14]=t.threadType,n[15]=y):y=n[15],y}}function p(e){var t=e[1];return t}l.default=m}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";function e(e,t){var n=o("react-compiler-runtime").c(3),r;return n[0]!==t||n[1]!==e?(r=o("LSMessagingThreadTypeUtil").isOneToOne(e)&&t,n[0]=t,n[1]=e,n[2]=r):r=n[2],r}l.default=e}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function d(e){var t=o("react-compiler-runtime").c(7),n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=["id"].concat(o("LSContactBitOffset").contactCapabilityFields),t[0]=n):n=t[0];var a=r("useMWGetOtherUserContact")(e.threadKey,e.threadType,n),i=r("useMWIsContactRestricted")(a),l=r("useMWPShouldShowRestrictedComposer")(e.threadType,i);if(l&&a!=null){var d;t[1]!==a.id?(d=(s||(s=o("I64"))).to_string(a.id),t[1]=a.id,t[2]=d):d=t[2];var m;return t[3]!==d||t[4]!==e.threadKey||t[5]!==e.threadType?(m=u.jsx(r("MWPComposerPlaceholder.react"),{height:128,children:u.jsx(c,{fbid:d,threadKey:e.threadKey,threadType:e.threadType})}),t[3]=d,t[4]=e.threadKey,t[5]=e.threadType,t[6]=m):m=t[6],m}}l.default=d}),98);
__d("useMWPSpectraBlockedComposerConfiguration",["JSResourceForInteraction","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWPThreadHasSpectraUser"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWPSpectraBlockedComposer.react").__setRef("useMWPSpectraBlockedComposerConfiguration"));function c(e){var t=o("react-compiler-runtime").c(1),n=r("useMWPThreadHasSpectraUser")(e.threadKey);if(n){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=s.jsx(r("MWPComposerPlaceholder.react"),{height:189,children:s.jsx(u,{})}),t[0]=a):a=t[0],a}}l.default=c}),98);
__d("useMWRRatedAccountComposerBlockConfiguration",["fbt","LSContactReachabilityStatusType","LSContactUtils","MWXComposerBanner.react","MWXLink.react","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(1),n=o("LSContactUtils").useOtherUserReachabilityStatus(e);if(r("gkx")("4446")&&n===r("LSContactReachabilityStatusType").UNREACHABLE_TO_R_RATED_ACCOUNT_INTERACTION){var a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=u.jsx(r("MWXComposerBanner.react"),{bodyText:s._(/*BTDS*/"Their content may be inappropriate for people under 18. {=m2}",[s._implicitParam("=m2",u.jsx(r("MWXLink.react"),{href:"https://www.messenger.com/help/1105851604342488?ref=lm",label:s._(/*BTDS*/"Learn more"),style:{color:"var(--blue-link)"},target:"_blank",children:s._(/*BTDS*/"Learn more")}))]),buttons:[],headerText:s._(/*BTDS*/"You can't message this account right now"),testid:void 0}),t[0]=a):a=t[0],a}}l.default=c}),226);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","gkx","lazyLoadComponent","react","react-compiler-runtime","useMAWCanThreadBeCutoverOnDemand"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useState,c=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),d=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=r("lazyLoadComponent")(r("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function p(e,t,n,a,i,l){var p=o("react-compiler-runtime").c(17),_=u(!1),f=_[0],g=_[1],h=r("useMAWCanThreadBeCutoverOnDemand")(e);if((l||i||h||f)&&(!o("LSMessagingThreadTypeUtil").isOneToOne(t)||n!=null))if(a&&r("gkx")("12491")){var y;p[0]!==e||p[1]!==t?(y={threadKey:e,threadType:t},p[0]=e,p[1]=t,p[2]=y):y=p[2];var C;return p[3]!==n||p[4]!==y?(C=s.jsx(m,{otherUser:n,thread:y}),p[3]=n,p[4]=y,p[5]=C):C=p[5],C}else if(h||f){var b;p[6]!==e?(b={threadKey:e},p[6]=e,p[7]=b):b=p[7];var v;return p[8]!==f||p[9]!==b?(v=s.jsx(d,{isODCutoverNavigationInProgress:f,reason:o("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:g,thread:b}),p[8]=f,p[9]=b,p[10]=v):v=p[10],v}else{var S=n!=null?o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:o("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER,R;p[11]!==e||p[12]!==t?(R={threadKey:e,threadType:t},p[11]=e,p[12]=t,p[13]=R):R=p[13];var L;return p[14]!==S||p[15]!==R?(L=s.jsx(c,{reason:S,thread:R}),p[14]=S,p[15]=R,p[16]=L):L=p[16],L}}l.default=p}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWCutoverComposerConfiguration","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n,a,l=o("react-compiler-runtime").c(9),s=(e||(e=r("useReStore")))(),u;l[0]!==s.tables.contacts||l[1]!==t.threadKey||l[2]!==t.threadType?(u=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(t.threadType)?o("ReQL").fromTableAscending(s.tables.contacts).getKeyRange(t.threadKey):o("ReQL").empty()},l[0]=s.tables.contacts,l[1]=t.threadKey,l[2]=t.threadType,l[3]=u):u=l[3];var c;l[4]!==s||l[5]!==t?(c=[s,t],l[4]=s,l[5]=t,l[6]=c):c=l[6];var d=o("ReQLSuspense").useFirst(u,c,i.id+":33"),m=((n=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(s.tables.messages_ranges_v2__generated).getKeyRange(t.threadKey)},[s,t.threadKey],i.id+":44"))==null?void 0:a.minMessageId)!=null?n:"")==="",p;l[7]!==d?(p=d!=null&&o("LSContactBitOffset").has(76,d),l[7]=d,l[8]=p):p=l[8];var _=p,f=_&&m,g=o("MAWThreadCutover").useIsCutoverOpenThread(t.threadKey)||o("LSThreadBitOffset").has(128,t),h=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(t.threadKey);return r("useMWCutoverComposerConfiguration")(t.threadKey,t.threadType,d,h,g,f)}l.default=c}),98);
__d("useMWReQLMessageRequestBlockedComposerConfiguration",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","react-compiler-runtime","useMWLSAcceptMessageRequest","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c.useMemo,p=n("cr:3912")==null?function(e,t){return!1}:n("cr:3912").isOneOnOneMessageRequestV2,_=n("cr:3912")==null?function(e){return!1}:n("cr:3912").isGroupMessageRequest,f=r("gkx")("7387");function g(t){var n=o("react-compiler-runtime").c(32),a=(e||(e=r("useReStore")))(),l=r("useMessageRequestLeaveGroup")(t.threadKey),c=t.threadType,m=r("useMessageRequestDeleteConversation")(t),g;n[0]!==c?(g=o("LSMessagingThreadTypeUtil").isArmadilloSecure(c),n[0]=c,n[1]=g):g=n[1];var h=g,y=r("useMWLSAcceptMessageRequest")(t.threadKey),C=!h&&o("LSThreadBitOffset").has(21,t),b=o("MWPActor.react").useActor(),v,S;n[2]!==b||n[3]!==a.tables.contacts||n[4]!==a.tables.participants||n[5]!==t.threadKey||n[6]!==c?(v=function(){return o("LSMessagingThreadTypeUtil").isOneToOne(c)||(s||(s=o("I64"))).equal(c,(u||(u=o("LSIntEnum"))).ofNumber(5))?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(a.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(a.tables.contacts)).filter(function(e){var t=e[1];return!(s||(s=o("I64"))).equal(t.id,b)}):o("ReQL").empty()},S=[t.threadKey,c,a.tables.participants,a.tables.contacts,b],n[2]=b,n[3]=a.tables.contacts,n[4]=a.tables.participants,n[5]=t.threadKey,n[6]=c,n[7]=v,n[8]=S):(v=n[7],S=n[8]);var R=o("ReQLSuspense").useFirst(v,S,i.id+":67"),L;e:{if(h){L=p(t,R)||f&&_(t);break e}L=!1}var E=L,k;n[9]!==c?(k=o("LSMessagingThreadTypeUtil").isGroup(c),n[9]=c,n[10]=k):k=n[10];var I=k,T;n[11]!==a||n[12]!==R||n[13]!==t?(T=function(){R!=null&&o("MAWSecureComposerUtils").onDeleteThread(a,t,R[1].id)},n[11]=a,n[12]=R,n[13]=t,n[14]=T):T=n[14];var D=T,x=r("MessengerWebUXLogger").useInteractionLogger();if(E||C){var $;n[15]!==y||n[16]!==x||n[17]!==t?($=function(){o("MessageRequestsLog").logActionConfirmed(t,1),x==null||x({eventName:"accept_chat_request",threadKey:t.threadKey,threadType:t.threadType}),y()},n[15]=y,n[16]=x,n[17]=t,n[18]=$):$=n[18];var P=h?D:m,N;n[19]!==I||n[20]!==h||n[21]!==l||n[22]!==x||n[23]!==t?(N=function(){if(!h&&I)return o("MessageRequestsLog").logActionConfirmed(t,10),x==null||x({eventName:"leave_group",threadKey:t.threadKey,threadType:t.threadType}),l()},n[19]=I,n[20]=h,n[21]=l,n[22]=x,n[23]=t,n[24]=N):N=n[24];var M=R==null?void 0:R[1],w;return n[25]!==I||n[26]!==$||n[27]!==P||n[28]!==N||n[29]!==M||n[30]!==t?(w=d.jsx(r("MWReQLMessageRequestComposerBanner.react"),{isGroup:I,onAccept:$,onDeleteConversation:P,onLeaveGroup:N,otherUserContact:M,thread:t}),n[25]=I,n[26]=$,n[27]=P,n[28]=N,n[29]=M,n[30]=t,n[31]=w):w=n[31],w}}l.default=g}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:9773","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWAppealableMessageSendComposerBlockConfiguration","useMWDefaultE2eeComposerConfiguration","useMWMetaAIBlockingComposerConfiguration","useMWPBlockedAIBotComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWPSpectraBlockedComposerConfiguration","useMWRRatedAccountComposerBlockConfiguration","useMWReQLCutoverComposerConfiguration","useMWReQLMessageRequestBlockedComposerConfiguration"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.memo;function c(e){var t=o("react-compiler-runtime").c(15),n=r("useMWPReQLNullComposerConfiguration")(e),a=r("useMWPDisablePageComposerConfiguration")(e),i=r("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(e),l=r("useMWReQLCutoverComposerConfiguration")(e),s=r("useMWRRatedAccountComposerBlockConfiguration")(e),u=r("useMWPBlockedComposerConfiguration")(e),c=r("useMWPRestrictedComposerConfiguration")(e),d=r("useMWPBlockedAIBotComposerConfiguration")(e),m=r("useMWPReQLUnavailableComposerConfiguration")(e),p=r("useMWDefaultE2eeComposerConfiguration")(e),_=r("useMWReQLMessageRequestBlockedComposerConfiguration")(e),f=r("useMWAppealableMessageSendComposerBlockConfiguration")(),g=r("useMWMetaAIBlockingComposerConfiguration")(e),h=r("useMWPSpectraBlockedComposerConfiguration")(e),y;return t[0]!==n||t[1]!==a||t[2]!==_||t[3]!==f||t[4]!==g||t[5]!==h||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==u||t[10]!==c||t[11]!==d||t[12]!==m||t[13]!==p?(y=[n,a,i,l,s,u,c,d,m,p,_,f,g,h],t[0]=n,t[1]=a,t[2]=_,t[3]=f,t[4]=g,t[5]=h,t[6]=i,t[7]=l,t[8]=s,t[9]=u,t[10]=c,t[11]=d,t[12]=m,t[13]=p,t[14]=y):y=t[14],y}function d(e){var t=o("react-compiler-runtime").c(8),a=e.afterSendMessage,i=e.isPreviewThread,l=e.thread,u=r("useMAWEditMessageData")(),c=o("LSMessagingThreadTypeUtil").isArmadilloSecure(u!=null?u.threadType:l.threadType);if(n("cr:9773")!=null&&c){var d;return t[0]!==a||t[1]!==i||t[2]!==l?(d=s.jsx(n("cr:9773"),{afterSendMessage:a,isPreviewThread:i,thread:l}),t[0]=a,t[1]=i,t[2]=l,t[3]=d):d=t[3],d}else{var m;return t[4]!==a||t[5]!==i||t[6]!==l?(m=s.jsx(r("MWV2OpenComposer.react"),{afterSendMessage:a,isPreviewThread:i,thread:l}),t[4]=a,t[5]=i,t[6]=l,t[7]=m):m=t[7],m}}var m=u(d);function p(e){var t=o("react-compiler-runtime").c(8),n=e.afterSendMessage,a=e.isPreviewThread,i=e.thread,l=n===void 0?r("emptyFunction"):n,u=c(i),d;t[0]!==l||t[1]!==a||t[2]!==i?(d=function(){return s.jsx(m,{afterSendMessage:l,isPreviewThread:a,thread:i})},t[0]=l,t[1]=a,t[2]=i,t[3]=d):d=t[3];var p;return t[4]!==u||t[5]!==d||t[6]!==i?(p=s.jsx(r("MWPComposerGating.react"),{configurations:u,isMessengerInbox:!1,renderComposer:d,thread:i}),t[4]=u,t[5]=d,t[6]=i,t[7]=p):p=t[7],p}function _(e){var t=o("react-compiler-runtime").c(8),n=e.afterSendMessage,a=e.isPreviewThread,i=e.thread,l=c(i),u;t[0]!==n||t[1]!==a||t[2]!==i?(u=function(){return s.jsx(m,{afterSendMessage:n,isPreviewThread:a,thread:i})},t[0]=n,t[1]=a,t[2]=i,t[3]=u):u=t[3];var d;return t[4]!==l||t[5]!==u||t[6]!==i?(d=s.jsx(r("MWPComposerGating.react"),{configurations:l,isMessengerInbox:!0,renderComposer:u,thread:i}),t[4]=l,t[5]=u,t[6]=i,t[7]=d):d=t[7],d}l.MWChatComposerGating=p,l.MWInboxComposerGating=_}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e,t){var n=o("react-compiler-runtime").c(7),a;n[0]!==e?(a=(s||(s=o("I64"))).to_string(e),n[0]=e,n[1]=a):a=n[1];var i;n[2]!==a?(i={threadID:a},n[2]=a,n[3]=i):i=n[3];var l=r("useMWXEntryPointDialog")(r("GroupsCometChatEditChatDialog.entrypoint"),i,void 0,d),u=l[0],c;return n[4]!==t||n[5]!==u?(c=function(){return u({enableEditNameOrDescription:!0,entryPoint:t})},n[4]=t,n[5]=u,n[6]=c):c=n[6],c}function d(){return u.jsx(r("MWXCardedDialogLoadingState.react"),{})}d.displayName=d.name+" [from "+i.id+"]",l.default=c}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","react-compiler-runtime","useMWCMEditChatInfoDialogEntrypoint"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(6),n=e["aria-label"],a=e.icon,i=e.threadKey,l=r("useMWCMEditChatInfoDialogEntrypoint")(i),u;t[0]!==l?(u=function(){return l()},t[0]=l,t[1]=u):u=t[1];var c;return t[2]!==n||t[3]!==a||t[4]!==u?(c=s.jsx(r("MWXCircleButton.react"),{"aria-label":n,icon:a,onPress:u,size:36}),t[2]=n,t[3]=a,t[4]=u,t[5]=c):c=t[5],c}l.default=u}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","react-compiler-runtime","useCopyText"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useCallback,d=s._(/*BTDS*/"Copy link"),m=s._(/*BTDS*/"Link copied");function p(e){var t=o("react-compiler-runtime").c(11),n=e.threadInviteLink,a;t[0]!==n?(a={value:n},t[0]=n,t[1]=a):a=t[1];var i=r("useCopyText")(a),l=i[2],s;t[2]!==l?(s=function(){o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),l(),o("cometPushToast").cometPushSimpleToast(m)},t[2]=l,t[3]=s):s=t[3];var c=s,p;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},t[4]=p):p=t[4];var _;t[5]!==c?(_=u.jsx(r("MWXCircleButton.react"),{"aria-label":d,icon:r("MWXIconLink"),onPress:c,size:36}),t[5]=c,t[6]=_):_=t[6];var f,g;t[7]===Symbol.for("react.memo_cache_sentinel")?(f=u.jsx(r("MWVerticalRhythm"),{height:8}),g=u.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:d}),t[7]=f,t[8]=g):(f=t[7],g=t[8]);var h;return t[9]!==_?(h=u.jsxs("li",babelHelpers.extends({},p,{children:[_,f,g]})),t[9]=_,t[10]=h):h=t[10],h}l.default=p}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(t,n,r,o,a,i){a.exports="9783976471666723"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(t,n,r,o,a,i){"use strict";var e={kind:"PreloadableConcreteRequest",params:{id:n("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};a.exports=e}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(t){var e=t.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:r("MWEditChannelDialogQuery$Parameters"),variables:{threadID:e}}}}},root:r("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};l.default=e}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(t){var n=o("react-compiler-runtime").c(11),a=t.children,i=t.threadKey,l=(e||(e=r("useReStore")))(),u;n[0]!==i?(u=(s||(s=o("I64"))).to_string(i),n[0]=i,n[1]=u):u=n[1];var c;n[2]!==u?(c={threadID:u},n[2]=u,n[3]=c):c=n[3];var d=c,m=r("useMWXEntryPointDialog")(r("MWEditChannelDialog.entrypoint"),d),p=m[0],_;n[4]!==l||n[5]!==p||n[6]!==i?(_=function(){r("promiseDone")(l.tables.threads.get(i),function(e){e!=null&&p({thread:e})})},n[4]=l,n[5]=p,n[6]=i,n[7]=_):_=n[7];var f=_,g;return n[8]!==a||n[9]!==f?(g=a(f),n[8]=a,n[9]=f,n[10]=g):g=n[10],g}l.default=d}),98);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useRef,d=r("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function m(t){var n=t.children,o=t.threadKey,a=c(null),i=(e||(e=r("useReStore")))(),l=r("useMWXLazyDialog")(d),s=l[0],u=function(){r("promiseDone")(i.tables.threads.get(o),function(e){e!=null&&s({thread:e})})};return n(u,a)}m.displayName=m.name+" [from "+i.id+"]",l.default=m}),98);
__d("MWGroupLimitContainer.react",["cr:19926","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t,r=e.children,o=e.groupLimitReachedContent,a=e.thread,i=(t=n("cr:19926")==null?void 0:n("cr:19926")(a.threadKey))!=null?t:[!1,!1],l=i[0];return l?o:r}u.displayName=u.name+" [from "+i.id+"]",l.default=u}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=s._(/*BTDS*/"Share"),d=s._(/*BTDS*/"Share chat");function m(e){var t=o("react-compiler-runtime").c(5),n=e.onPress,a;t[0]!==n?(a=u.jsx(r("MWXColumnItem.react"),{children:u.jsx(r("MWXCircleButton.react"),{"aria-label":d,icon:r("MWXIconShare"),onPress:n,size:36})}),t[0]=n,t[1]=a):a=t[1];var i;t[2]===Symbol.for("react.memo_cache_sentinel")?(i=u.jsx(r("MWXColumnItem.react"),{paddingTop:8,children:u.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:c})}),t[2]=i):i=t[2];var l;return t[3]!==a?(l=u.jsxs(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:c,children:[a,i]}),t[3]=a,t[4]=l):l=t[4],l}l.default=m}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(5),n=e.thread,a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={},t[0]=a):a=t[0];var i=r("useMWXEntryPointDialog")(r("MWChannelInviteDialog.entrypoint"),a),l=i[0],u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},t[1]=u):u=t[1];var c;return t[2]!==l||t[3]!==n?(c=s.jsx("li",babelHelpers.extends({},u,{children:s.jsx(r("MWShareThreadQuickActionButton.react"),{onPress:function(){l({channelThread:n,loggingContext:r("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})})),t[2]=l,t[3]=n,t[4]=c):c=t[4],c}l.default=u}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s;function u(t,n){if(r("vulture")("KziEo7QoSSDHc-aGTiS4skupj9k="),n)return!1;var a=(e||(e=o("I64"))).equal(t.threadType,(s||(s=o("LSIntEnum"))).ofNumber(16)),i=a&&t.needsAdminApprovalForNewParticipant===!1;return o("LSThreadBitOffset").has(27,t)||i}l.default=u}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","react","react-compiler-runtime","useCommunityFolder","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useMemo,p=s._(/*BTDS*/"Invite"),_=s._(/*BTDS*/"Edit"),f=s._(/*BTDS*/"Edit channel name and description");function g(e){var t=o("react-compiler-runtime").c(88),n=e.thread,a=r("useCommunityFolder")(n),i;t[0]!==n.threadType?(i=r("mwCMIsAnyCMThread")(n.threadType),t[0]=n.threadType,t[1]=i):i=t[1];var l=i,m=a==null?void 0:a.communityType,f;t[2]!==m?(f=r("mwCMisStandAloneCommunity")(m),t[2]=m,t[3]=f):f=t[3];var g=f,y;t[4]!==n.threadType?(y=o("MWCMThreadTypes.react").isBroadcastThread(n.threadType),t[4]=n.threadType,t[5]=y):y=t[5];var C=y,b;t[6]!==n.threadType?(b=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(n.threadType),t[6]=n.threadType,t[7]=b):b=t[7];var v=b,S;t[8]!==n.threadType?(S=o("LSMessagingThreadTypeUtil").isArmadilloSecure(n.threadType),t[8]=n.threadType,t[9]=S):S=t[9];var R=S,L=r("useIsReadOnlyFeatureLimitedWithThreadType")(n.threadType)&&(!R||r("isFeatureLimitEnabled")()),E;if(a!=null&&l){var k=a.enableState,I;t[10]!==n?(I=o("LSThreadBitOffset").has(120,n),t[10]=n,t[11]=I):I=t[11];var T;t[12]!==a?(T=o("LSCommunityBitOffset").has(17,a),t[12]=a,t[13]=T):T=t[13];var D;t[14]!==a.enableState||t[15]!==a.fbGroupId||t[16]!==T||t[17]!==I?(D=[k,I,T,a.fbGroupId],t[14]=a.enableState,t[15]=a.fbGroupId,t[16]=T,t[17]=I,t[18]=D):D=t[18],E=D}else{var x;t[19]===Symbol.for("react.memo_cache_sentinel")?(x=[void 0,!1,!1,(u||(u=o("I64"))).zero],t[19]=x):x=t[19],E=x}var $=E,P=$[0],N=$[1],M=$[2],w;t[20]!==P||t[21]!==l?(w=l&&(u||(u=o("I64"))).equal(P!=null?P:(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").ENABLED),(c||(c=o("LSIntEnum"))).ofNumber(r("CommunityMessagingEnableState").DISABLE_REQUESTED)),t[20]=P,t[21]=l,t[22]=w):w=t[22];var A=w,F;t[23]===Symbol.for("react.memo_cache_sentinel")?(F={},t[23]=F):F=t[23];var O=r("useMWXEntryPointDialog")(r("MWCMBulkInviteDialog.entrypoint"),F),B=O[0],W;t[24]!==l?(W=l?s._(/*BTDS*/"Copy link"):s._(/*BTDS*/"Add"),t[24]=l,t[25]=W):W=t[25];var q;t[26]!==l?(q=l?s._(/*BTDS*/"Info"):s._(/*BTDS*/"Name"),t[26]=l,t[27]=q):q=t[27];var U;t[28]!==C||t[29]!==a?(U=a!=null&&C?s._(/*BTDS*/"Contributors"):s._(/*BTDS*/"Members"),t[28]=C,t[29]=a,t[30]=U):U=t[30];var V;t[31]!==W||t[32]!==q||t[33]!==U?(V=[W,q,U],t[31]=W,t[32]=q,t[33]=U,t[34]=V):V=t[34];var H=V,G=H[0],z=H[1],j;t[35]!==n?(j=o("LSThreadBitOffset").has(60,n)&&!o("MWCMThreadTypes.react").isMarketplaceThread(n.threadSubtype),t[35]=n,t[36]=j):j=t[36];var K=j,Q;t[37]!==n?(Q=o("LSThreadBitOffset").has(81,n),t[37]=n,t[38]=Q):Q=t[38];var X=Q,Y;t[39]!==L||t[40]!==n?(Y=r("canMWAddMemberToGroupThread")(n,L)&&!o("MWCMThreadTypes.react").isMarketplaceThread(n.threadSubtype),t[39]=L,t[40]=n,t[41]=Y):Y=t[41];var J=Y,Z;t[42]!==n?(Z=o("LSThreadBitOffset").has(108,n),t[42]=n,t[43]=Z):Z=t[43];var ee=Z,te=K&&X,ne=r("MessengerWebUXLogger").useInteractionLogger(),re;t[44]===Symbol.for("react.memo_cache_sentinel")?(re={className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k"},t[44]=re):re=t[44];var oe;t[45]!==G||t[46]!==N||t[47]!==l||t[48]!==A||t[49]!==B||t[50]!==n?(oe=l&&!A?N?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWXCircleButton.react"),{"aria-label":p,icon:r("MWXIconFriendGenericAdd"),onPress:function(){return o("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite"),B({fbThreadId:(u||(u=o("I64"))).to_string(n.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},r("emptyFunction"))},size:36}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):d.jsx(r("MWCMShortLinkShare.react"),{thread:n,children:function(t,n){return d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWXCircleButton.react"),{"aria-label":G,icon:r("MWXIconLink"),onPress:n,size:36}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:G})]})}}):null,t[45]=G,t[46]=N,t[47]=l,t[48]=A,t[49]=B,t[50]=n,t[51]=oe):oe=t[51];var ae;t[52]!==ee||t[53]!==l||t[54]!==v||t[55]!==n?(ae=!l&&v&&ee&&(u||(u=o("I64"))).equal(n.threadInvitesEnabledV2,(c||(c=o("LSIntEnum"))).ofNumber(1))?d.jsxs(d.Fragment,{children:[n.threadInviteLink!=null&&d.jsx(r("MWSharePublicChatQuickAction.react"),{thread:n}),n.threadInviteLink!=null&&d.jsx(r("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:n.threadInviteLink})]}):null,t[52]=ee,t[53]=l,t[54]=v,t[55]=n,t[56]=ae):ae=t[56];var ie;t[57]!==G||t[58]!==J||t[59]!==l||t[60]!==n?(ie=!l&&J?d.jsx(r("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:n,children:d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWAddMemberToGroupCircleButton.react"),{label:G,threadKey:n.threadKey,threadType:n.threadType}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:G})]})}):null,t[57]=G,t[58]=J,t[59]=l,t[60]=n,t[61]=ie):ie=t[61];var le;t[62]!==te||t[63]!==v||t[64]!==n.threadKey?(le=v&&te?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWEditChannelDialogTrigger.react"),{threadKey:n.threadKey,children:h}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:_})]}):null,t[62]=te,t[63]=v,t[64]=n.threadKey,t[65]=le):le=t[65];var se;t[66]!==K||t[67]!==te||t[68]!==l||t[69]!==ne||t[70]!==z||t[71]!==n.threadKey||t[72]!==n.threadType?(se=!l&&K&&!te?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWEditThreadNameDialogTrigger.react"),{threadKey:n.threadKey,children:function(t,o){return d.jsx(r("MWXCircleButton.react"),{"aria-label":z,icon:r("MWXIconPencil"),onPress:function(){t(),ne==null||ne({eventName:"open_edit_thread_name_dialog",threadKey:n.threadKey,threadType:n.threadType})},ref:o,size:36})}}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:z})]}):null,t[66]=K,t[67]=te,t[68]=l,t[69]=ne,t[70]=z,t[71]=n.threadKey,t[72]=n.threadType,t[73]=se):se=t[73];var ue;t[74]!==X||t[75]!==M||t[76]!==l||t[77]!==A||t[78]!==g||t[79]!==n.threadKey?(ue=l&&X&&!A&&M&&!g?d.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[d.jsx(r("MWContextBannerQuickActionsEditChatInfo.react"),{"aria-label":_,icon:r("MWXIconPencil"),threadKey:n.threadKey}),d.jsx(r("MWVerticalRhythm"),{height:8}),d.jsx(r("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:_})]}):null,t[74]=X,t[75]=M,t[76]=l,t[77]=A,t[78]=g,t[79]=n.threadKey,t[80]=ue):ue=t[80];var ce;return t[81]!==oe||t[82]!==ae||t[83]!==ie||t[84]!==le||t[85]!==se||t[86]!==ue?(ce=d.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:d.jsxs("ul",babelHelpers.extends({},re,{children:[oe,ae,ie,le,se,ue]}))}),t[81]=oe,t[82]=ae,t[83]=ie,t[84]=le,t[85]=se,t[86]=ue,t[87]=ce):ce=t[87],ce}function h(e,t){return d.jsx(r("MWXCircleButton.react"),{"aria-label":f,icon:r("MWXIconPencil"),onPress:function(){return e()},ref:t,size:36})}h.displayName=h.name+" [from "+i.id+"]";function y(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=d.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:d.jsx(g,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}l.default=y}),226);
__d("MWCreatorMessagingDialogNuxContainer.react",["I64","JSResourceForInteraction","MWCreatorMessagingUtils","QPLUserFlow","declareNUXRequireable","qpl","react","react-compiler-runtime","useMWXLazyDialog","useNUX"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useEffect,d=u.useRef,m=r("JSResourceForInteraction")("MWCreatorMessagingChatWithPagesYouFollowDialog.react").__setRef("MWCreatorMessagingDialogNuxContainer.react");function p(e){function t(t){var n=o("react-compiler-runtime").c(6),a=t.thread,i=r("useMWXLazyDialog")(m),l=i[0],u=r("useNUX")(e),p=u[0],_=u[1],f=_.onDismiss,g=d(!1),h,y;n[0]!==p||n[1]!==f||n[2]!==l||n[3]!==a?(h=function(){var e=function(){r("QPLUserFlow").endSuccess(r("qpl")._(421072177,"2983"),{instanceKey:(s||(s=o("I64"))).to_int32(a.threadKey)}),f()};!g.current&&p&&a!=null&&o("MWCreatorMessagingUtils").isAPPlusInitiatedThread(a)&&(g.current=!0,r("QPLUserFlow").start(r("qpl")._(421072177,"2983"),{annotations:{string:{entrypoint:o("MWCreatorMessagingUtils").fetchQPLEntrypoint(a)}},instanceKey:(s||(s=o("I64"))).to_int32(a.threadKey)}),l({},e))},y=[p,f,l,a],n[0]=p,n[1]=f,n[2]=l,n[3]=a,n[4]=h,n[5]=y):(h=n[4],y=n[5]),c(h,y)}return t}var _=r("declareNUXRequireable")(p);l.default=_}),98);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useEffect,_=d.useRef,f=r("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),g={banner:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1mfogq2",paddingInlineEnd:"xsfy40s",paddingLeft:null,paddingRight:null,$$css:!0}};function h(){var t=o("react-compiler-runtime").c(21),n=(e||(e=r("useReStore")))(),a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={entrypoint:r("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},t[0]=a):a=t[0];var i=r("useMWEBBackupState")(a),l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={},t[1]=l):l=t[1];var u=r("useMWXEntryPointDialog")(r("MAWEncryptedBackupsRestoreDialog.entrypoint"),l),d=u[0],m=o("useLabyrinthLogging").useLabyrinthLoggingFlow(),h=m.startFlow,y=r("useMWEBGetUpsellState")(),C=y.isRestoreUpsellsDismissed,b=r("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,v=_(!1),S=_(!1),R;t[2]!==h||t[3]!==n?(R=function(t){o("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:n,onFetch:function(n){var e=n.ebsmWiped,a=n.firstUpsellTime,i=n.hasEbKeysLocally,l=n.hasEBSM,s=n.hasPDB,u=n.hasUserRestoredBefore,c=n.hasUserRestoredBeforeTemp;h({additionalAnnotations:{eb_session_identifier:a,ebsm_wiped:e,has_eb_keys_locally:i,has_ebsm:l,has_pdb:s,has_user_restored_before:u,has_user_restored_before_temp:c,restore_upsell_first_impression_time:a},event:o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:b}),r("QPLUserFlow").addPoint(o("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,t),S.current===!1&&(S.current=!0,r("promiseDone")(f.load(),function(e){return e(i)}))}})},t[2]=h,t[3]=n,t[4]=R):R=t[4];var L=R,E;t[5]!==L?(E={onVisible:function(){L("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}},t[5]=L,t[6]=E):E=t[6];var k=r("useVisibilityObserver")(E),I=i===4&&!C,T,D;if(t[7]!==I||t[8]!==L?(T=function(){v.current===!1&&I&&(v.current=!0,L("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},D=[I,L],t[7]=I,t[8]=L,t[9]=T,t[10]=D):(T=t[9],D=t[10]),p(T,D),!I)return null;var x;t[11]===Symbol.for("react.memo_cache_sentinel")?(x=s._(/*BTDS*/"Messages are missing."),t[11]=x):x=t[11];var $;t[12]!==d||t[13]!==L?($=function(){L("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),d({source:b})},t[12]=d,t[13]=L,t[14]=$):$=t[14];var P;t[15]===Symbol.for("react.memo_cache_sentinel")?(P=s._(/*BTDS*/"Restore now"),t[15]=P):P=t[15];var N;t[16]!==$?(N=c.jsx(r("MWXRowItem.react"),{xstyle:g.banner,children:c.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:c.jsxs(c.Fragment,{children:[x," ",c.jsx(r("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:c.jsx(r("MWXLink.react"),{onClick:$,target:"_blank",testid:void 0,children:P})})]})})}),t[16]=$,t[17]=N):N=t[17];var M;return t[18]!==k||t[19]!==N?(M=c.jsx(r("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:k,spacing:0,children:N}),t[18]=k,t[19]=N,t[20]=M):M=t[20],M}l.default=h}),226);
__d("MWEncryptedBackupsDetermineInitialEBState",["gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=r("gkx")("23914");function s(t){var n=t.clientStateData,r=t.hasArmadilloError,o=t.xfb_backup;return!e||r?0:o==null?2:n.length>0?3:4}l.determineInitialEBState=s}),98);
__d("MWExpandReactionsButton.react",["fbt","I64","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMultiReactConstants","MWXPressable.react","MWXTooltip.react","emptyFunction","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIsReactionsV2Enabled"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=u||(u=o("react")),m=u,p=m.useCallback,_=m.useMemo,f={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},emoji:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",lineHeight:"x14ju556",marginInlineEnd:"x14z9mp",$$css:!0},emojiNum:{paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},fontStyles:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(26),a=t.isMultiReactExpanded,i=t.isReactionReadOnly,l=t.isSecure,u=t.message,m=t.numOverflowEmojis,p=t.sendReaction,_=t.setIsReactionsRowAnimationInProgress,g=t.threadKey,h=t.threadType,y=t.toggleMultiReactExpanded,C;n[0]!==g?(C=(c||(c=o("I64"))).to_string(g),n[0]=g,n[1]=C):C=n[1];var b=C,v;n[2]!==u.timestampMs?(v=(c||(c=o("I64"))).to_string(u.timestampMs),n[2]=u.timestampMs,n[3]=v):v=n[3];var S=v,R;n[4]!==u.messageId||n[5]!==S||n[6]!==b?(R=o("MWChatMessageId").makeSent(b,u.messageId,S),n[4]=u.messageId,n[5]=S,n[6]=b,n[7]=R):R=n[7];var L=R,E;n[8]!==h?(E=o("MWCMThreadTypes.react").isBroadcastThread(h),n[8]=h,n[9]=E):E=n[9];var k=E,I=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g),T;n[10]!==_||n[11]!==y?(T=function(){y(),_(!0)},n[10]=_,n[11]=y,n[12]=T):T=n[12];var D=T,x=I&&k,$;n[13]!==a||n[14]!==i||n[15]!==m||n[16]!==D?($=function(n,l,u,c,p){var t=s._(/*BTDS*/"Show all reactions"),_=r("intlSummarizeNumber")(m),g="+"+_,h=_.length,y=d.jsx(r("MWXPressable.react"),{"aria-label":t,disabled:i,expanding:!0,onHoverIn:u,onHoverOut:c,onPress:D,onPressIn:p,overlayRadius:"inherit",ref:n,role:"button",testid:void 0,xstyle:f.emojiRowContainer,children:d.jsx("div",{className:"x6s0dn4 x7daf1o x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r",role:"none",children:d.jsx("div",{className:(e||(e=r("stylex")))([].concat(a?[f.fontStyles,f.emoji,f.additionalInlineButton]:[f.fontStyles,f.emojiNum])),role:"none",style:{minWidth:h*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:g})})});return i?y:d.jsx(r("MWXTooltip.react"),{align:"middle",position:"above",tooltip:t,children:y})},n[13]=a,n[14]=i,n[15]=m,n[16]=D,n[17]=$):$=n[17];var P;return n[18]!==k||n[19]!==I||n[20]!==l||n[21]!==L||n[22]!==p||n[23]!==x||n[24]!==$?(P=d.jsx(r("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:r("emptyFunction"),disableCustomReactions:x,hasReactionsV2:I,isBroadcastThread:k,isSecure:l,messageID:L,onVisibilityChange:r("emptyFunction"),sendReaction:p,children:$}),n[18]=k,n[19]=I,n[20]=l,n[21]=L,n[22]=p,n[23]=x,n[24]=$,n[25]=P):P=n[25],P}l.default=g}),226);
__d("MWFullThreadProvider.react",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var n=o("react-compiler-runtime").c(9),a=t.children,l=t.threadKey,s=(e||(e=r("useReStore")))(),u;n[0]!==s.tables.threads||n[1]!==l?(u=function(){return o("ReQL").fromTableAscending(s.tables.threads).getKeyRange(l)},n[0]=s.tables.threads,n[1]=l,n[2]=u):u=n[2];var c;n[3]!==s||n[4]!==l?(c=[s,l],n[3]=s,n[4]=l,n[5]=c):c=n[5];var d=o("ReQLSuspense").useFirst(u,c,i.id+":25");if(d!=null){var m;return n[6]!==a||n[7]!==d?(m=a(d),n[6]=a,n[7]=d,n[8]=m):m=n[8],m}}l.default=c}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:22264","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22264")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPushpin",["MWXSvgIcon","SVGIcon","cr:22450","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22450")),r("gkx")("23219"));l.default=e}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchSecureMissingMessage","promiseDone","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l;n[0]===Symbol.for("react.memo_cache_sentinel")?(l={entrypoint:r("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},n[0]=l):l=n[0];var s=r("useMWEBBackupState")(l),d=s===3,m,p;n[1]!==a||n[2]!==d||n[3]!==t?(m=function(){return o("ReQL").fromTableDescending(a.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(t).map(function(e){var n=e.offlineThreadingId,l=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("optimistic")).getKeyRange(n),i.id+":48");return l==null&&r("promiseDone")(r("fetchSecureMissingMessage")(a,t,n,d,"MAWFetchPinnedMessage")),{message:l,pinnedOfflineThreadingId:n}})},p=[a,t,d],n[1]=a,n[2]=d,n[3]=t,n[4]=m,n[5]=p):(m=n[4],p=n[5]);var _=o("ReQLSuspense").useArray(m,p,i.id+":38"),f;return n[6]!==_?(f=_.map(c).filter(u),n[6]=_,n[7]=f):f=n[7],f}function u(e){return!(e!=null&&e.isUnsent)}function c(e){return e.message}l.default=s}),98);
__d("useMWFetchMessageByPinnedMessageId",["LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","fetchOpenMissingMessage","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(22),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.threads||n[1]!==t?(l=function(){return o("ReQL").fromTableAscending(a.tables.threads,["threadType"]).getKeyRange(t)},n[0]=a.tables.threads,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var c=o("ReQLSuspense").useFirst(l,s,i.id+":34"),d=o("MAWThreadCutover").useGetCutoverOpenThreadKey(t),m=d!=null,p=d!=null?d:t,_=o("MAWThreadCutover").useIsDualThreadCutoverOpenThread(d),f;n[6]!==c?(f=c!=null&&o("LSMessagingThreadTypeUtil").isArmadilloSecure(c.threadType),n[6]=c,n[7]=f):f=n[7];var g=f,h=g&&(!m||_),y;n[8]!==a.tables.threads||n[9]!==p?(y=function(){return o("ReQL").fromTableDescending(a.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(p)},n[8]=a.tables.threads,n[9]=p,n[10]=y):y=n[10];var C;n[11]!==a||n[12]!==p?(C=[a,p],n[11]=a,n[12]=p,n[13]=C):C=n[13];var b=o("ReQLSuspense").useFirst(y,C,i.id+":54"),v,S;n[14]!==a||n[15]!==h||n[16]!==p||n[17]!==b?(v=function(){return h?o("ReQL").empty():o("ReQL").fromTableDescending(a.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(p).map(function(e){var t=e.messageId,n=o("ReQLSuspense").first(o("ReQL").fromTableDescending(a.tables.messages.index("messageId")).getKeyRange(t),i.id+":73");return b!=null&&n==null&&r("promiseDone")(r("fetchOpenMissingMessage")(a,b,t)),{message:n,pinnedMessageId:t}})},S=[a,p,h,b],n[14]=a,n[15]=h,n[16]=p,n[17]=b,n[18]=v,n[19]=S):(v=n[18],S=n[19]);var R=o("ReQLSuspense").useArray(v,S,i.id+":64"),L;return n[20]!==R?(L=R.map(u).filter(Boolean),n[20]=R,n[21]=L):L=n[21],L}function u(e){return e.message}l.default=s}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBroadcastChannelLoggingShapes","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","isMWBumpMessage","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useMAWFetchSecureMessageByPinnedExternalId","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d,m=u||(u=o("react")),p=u.useMemo,_={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},f=r("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function g(e,t,n){var a,i,l,s=o("react-compiler-runtime").c(10),u=e==null?void 0:e.text,d;s[0]!==t||s[1]!==e||s[2]!==n?(d=t&&e!=null?(c||(c=o("I64"))).equal(n,e.threadKey):!1,s[0]=t,s[1]=e,s[2]=n,s[3]=d):d=s[3];var m=d;e==null||e.mentionIds;var p;if(s[4]!==m||s[5]!==(e==null?void 0:e.mentionIds)){var _,f;p=new Set(m?(_=e==null||(f=e.mentionIds)==null||f.split==null?void 0:f.split(","))!=null?_:[]:[]),s[4]=m,s[5]=e==null?void 0:e.mentionIds,s[6]=p}else p=s[6];var g=p,h;s[7]!==m||s[8]!==u?(h=o("MWUnvaultedText").getMWUnvaultedText(m,u),s[7]=m,s[8]=u,s[9]=h):h=s[9];var y=h,C=(a=(i=o("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(y,[],g,n))==null?void 0:i.textWithSubstitutions)!=null?a:y,b=(l=o("useStringWithSubstitutions").useStringWithSubstitutions(y,n))!=null?l:y,v=r("isMWBumpMessage")(e==null?void 0:e.replyType);return v?b:C}function h(e){return e==null?"":(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(2))?s._(/*BTDS*/"Media"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4))?s._(/*BTDS*/"Audio"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(4096))||(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(134217728))?s._(/*BTDS*/"Sticker"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(16384))?s._(/*BTDS*/"GIF"):(c||(c=o("I64"))).equal(e.displayedContentTypes,(d||(d=o("LSIntEnum"))).ofNumber(64))?s._(/*BTDS*/"File"):s._(/*BTDS*/"Attachment")}function y(e){r("FBLogger")("messenger_web_pinned_messages").catching(e).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",e.message)}function C(e){var t=o("react-compiler-runtime").c(2),n=e.thread,a;return t[0]!==n?(a=m.jsx(r("CometErrorBoundary.react"),{fallback:b,onError:y,children:m.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(v,{thread:n})})}),t[0]=n,t[1]=a):a=t[1],a}function b(){return null}function v(t){var n=o("react-compiler-runtime").c(66),a=t.thread,l=r("useMWXLazyDialog")(f),u=l[0],d=(e||(e=r("useReStore")))(),p=r("useMWFetchMessageByPinnedMessageId")(a.threadKey),y=r("useMAWFetchSecureMessageByPinnedExternalId")(a.threadKey),C;if(n[0]!==p||n[1]!==y){var b=y.concat(p),v=[];C=b.reduce(S,v),n[0]=p,n[1]=y,n[2]=C}else C=n[2];var R=C,L=o("MWPActor.react").useActor(),E;n[3]===Symbol.for("react.memo_cache_sentinel")?(E={source:"Pinned"},n[3]=E):E=n[3];var k=r("useMWJumpToMessageWrapper")(E),I=(R==null?void 0:R.length)>0?R[0]:null,T;n[4]!==d||n[5]!==I?(T=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.contacts).getKeyRange(I.senderId):o("ReQL").empty()},n[4]=d,n[5]=I,n[6]=T):T=n[6];var D=I==null?void 0:I.senderId,x;n[7]!==d||n[8]!==D?(x=[D,d],n[7]=d,n[8]=D,n[9]=x):x=n[9];var $=o("ReQLSuspense").useFirst(T,x,i.id+":247"),P;n[10]!==d||n[11]!==I||n[12]!==a.threadKey?(P=function(){return(I==null?void 0:I.senderId)!=null?o("ReQL").fromTableAscending(d.tables.participants).getKeyRange(a.threadKey,I.senderId):o("ReQL").empty()},n[10]=d,n[11]=I,n[12]=a.threadKey,n[13]=P):P=n[13];var N=I==null?void 0:I.senderId,M;n[14]!==d||n[15]!==N||n[16]!==a.threadKey?(M=[N,d,a.threadKey],n[14]=d,n[15]=N,n[16]=a.threadKey,n[17]=M):M=n[17];var w=o("ReQLSuspense").useFirst(P,M,i.id+":257"),A;n[18]!==a.threadType?(A=o("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),n[18]=a.threadType,n[19]=A):A=n[19];var F=A,O=r("useGetOriginalMsgFromBumpMsg")(I==null?void 0:I.replyType,I==null?void 0:I.replySourceId,I==null?void 0:I.threadKey),B=O!=null?O:I,W=o("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(B==null?void 0:B.senderId,a.threadKey),q=g(B,F,a.threadKey),U;e:{if(W){var V;n[20]===Symbol.for("react.memo_cache_sentinel")?(V=o("MWBlockedTombstoneMessage.react").HIDDEN_MESSAGE_LABEL.toString(),n[20]=V):V=n[20],U=V;break e}var H;n[21]!==B||n[22]!==q?(H=q!=null&&q!==""?q:h(B),n[21]=B,n[22]=q,n[23]=H):H=n[23],U=H}var G=U,z=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(R.length===0)return null;var j;n[24]!==a.threadKey||n[25]!==a.threadType?(j={eventName:"open_view_pinned_messages_dialog",threadKey:a.threadKey,threadType:a.threadType},n[24]=a.threadKey,n[25]=a.threadType,n[26]=j):j=n[26];var K=j,Q;n[27]!==a.threadType?(Q=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),n[27]=a.threadType,n[28]=Q):Q=n[28];var X=Q,Y;if(n[29]!==L||n[30]!==I||n[31]!==($==null?void 0:$.name)||n[32]!==(w==null?void 0:w.nickname)){var J,Z;Y=(I==null?void 0:I.senderId)!=null&&(c||(c=o("I64"))).equal(L,I.senderId)?"You":(J=(Z=w==null?void 0:w.nickname)!=null?Z:$==null?void 0:$.name)!=null?J:"",n[29]=L,n[30]=I,n[31]=$==null?void 0:$.name,n[32]=w==null?void 0:w.nickname,n[33]=Y}else Y=n[33];var ee=Y,te;n[34]!==X||n[35]!==G?(te=X?s._(/*BTDS*/"Pinned Messages Banner with last pinned message by broadcast channel admin: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]):s._(/*BTDS*/"Pinned Messages Banner with last pinned message: {lastPinnedMessage}",[s._param("lastPinnedMessage",G)]),n[34]=X,n[35]=G,n[36]=te):te=n[36];var ne;n[37]!==X||n[38]!==k||n[39]!==R[0]||n[40]!==R.length||n[41]!==u||n[42]!==a.threadKey?(ne=function(){if(R.length===1){var e=R[0];e!=null&&e.messageId!=null&&e.timestampMs!=null&&k(e.messageId,e.timestampMs)}else u({threadKey:a.threadKey});X&&o("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers.extends({},o("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(R.length>1).toString()},threadFbid:a.threadKey}))},n[37]=X,n[38]=k,n[39]=R[0],n[40]=R.length,n[41]=u,n[42]=a.threadKey,n[43]=ne):ne=n[43];var re=z?_.pinnedMessagesWrapperInbox:_.pinnedMessagesWrapperChatTabs,oe;n[44]!==re?(oe=[_.pinnedMessagesWrapper,re],n[44]=re,n[45]=oe):oe=n[45];var ae;n[46]===Symbol.for("react.memo_cache_sentinel")?(ae=m.jsx(r("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(r("MWXIconForListCell.react"),{color:"secondary",icon:r("MWXIconPushpin"),size:"medium"})}),n[46]=ae):ae=n[46];var ie;n[47]!==X||n[48]!==ee?(ie=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:X?s._(/*BTDS*/"{channel_creator_name}{middot} Admin",[s._param("channel_creator_name",ee),s._param("middot",m.jsx(r("BaseMiddot.react"),{}))]):s._(/*BTDS*/"{message_sender_name}",[s._param("message_sender_name",ee)])})}),n[47]=X,n[48]=ee,n[49]=ie):ie=n[49];var le;n[50]!==G?(le=m.jsx(r("MWXColumnItem.react"),{verticalAlign:"center",xstyle:_.rowText,children:m.jsx(r("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:G})}),n[50]=G,n[51]=le):le=n[51];var se;n[52]!==ie||n[53]!==le?(se=m.jsx(r("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(r("MWXColumn.react"),{children:[ie,le]})}),n[52]=ie,n[53]=le,n[54]=se):se=n[54];var ue;n[55]!==R.length?(ue=R.length>1&&m.jsx(r("MWXRowItem.react"),{children:m.jsx(r("MWXIconStrict.react"),{color:"secondary",icon:r("MWXIconChevronDown"),size:16})}),n[55]=R.length,n[56]=ue):ue=n[56];var ce;n[57]!==se||n[58]!==ue?(ce=m.jsxs(r("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:_.row,children:[ae,se,ue]}),n[57]=se,n[58]=ue,n[59]=ce):ce=n[59];var de;return n[60]!==K||n[61]!==te||n[62]!==ne||n[63]!==oe||n[64]!==ce?(de=m.jsx(r("MWXPressable.react"),{"aria-label":te,display:"inline",expanding:!0,loggingEvent:K,onPress:ne,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:oe,children:ce}),n[60]=K,n[61]=te,n[62]=ne,n[63]=oe,n[64]=ce,n[65]=de):de=n[65],de}function S(e,t){return t!=null?[].concat(e,[t]):e}l.default=C}),226);
__d("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(t,n,r,o,a,i,l){"use strict";var e={getPreloadProps:function(){return{queries:{}}},root:r("JSResourceForInteraction")("MWInboxPostcutoverSecureThreadBannerDialog.react").__setRef("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint")};l.default=e}),98);
__d("getMWInlineQPBannerStyles",[],(function(t,n,r,o,a,i,l){"use strict";var e={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0}};l.inlineQPBannerStyles=e}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n;try{var o,a;n=JSON.parse((o=(a=(e||(e=r("WebStorage"))).getLocalStorageForRead())==null?void 0:a.getItem(t))!=null?o:"{}")}catch(e){r("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(e)+" when "+("retrieving value of "+t+" from web storage.")),n={}}return n}l.parseLocalStorageThreadsWithBannerDismissed=s}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){if(!((e||(e=r("WebStorage"))).getLocalStorage()==null||(e||(e=r("WebStorage"))).isLocalStorageQuotaExceeded())){var a=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(n);Object.prototype.hasOwnProperty.call(a,t)||(a[t]=!0,(e||(e=r("WebStorage"))).setItemGuarded(e.getLocalStorage(),n,JSON.stringify(a)))}}l.setHasDismissedSecretConversationsDeprecationBanner=s}),98);
__d("useMWRedirectToOpenThreadOfDualThread",["LSIntEnum","MAWThreadCutover","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useCallback;function c(e){var t=o("react-compiler-runtime").c(6),n=o("MAWThreadCutover").useGetCutoverOpenThreadKey(e),a=o("MAWThreadCutover").useIsCutoverOpenThread(n),i=r("useMWNavigation")(),l=r("useMWPCreateOneToOneThreadThenNavigate")(i,"cutoverThread","dualThreadCutoverComposer"),u;return t[0]!==l||t[1]!==n||t[2]!==a||t[3]!==i||t[4]!==e?(u=function(){n!=null&&a?i.openTabOrInbox({threadKey:n,threadType:(s||(s=o("LSIntEnum"))).ofNumber(1)},"cutoverThread"):l==null||l(e)},t[0]=l,t[1]=n,t[2]=a,t[3]=i,t[4]=e,t[5]=u):u=t[5],u}l.default=c}),98);
__d("MWInboxPostcutoverSecureThreadBanner.react",["fbt","ix","I64","LSContactBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPostcutoverSecureThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWGetOtherUserContact","useMWRedirectToOpenThreadOfDualThread","useMWXEntryPointDialog","useVisibilityObserver"],(function(t,n,r,o,a,i,l,s,u){"use strict";var e,c,d,m=c||(c=o("react")),p=c.useState,_=r("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPostcutoverSecureThreadBanner.react"),f=r("gkx")("23433"),g=r("gkx")("18115"),h="ACT";function y(t){var n=o("react-compiler-runtime").c(17),a=t.source,i=t.thread,l=f?s._(/*BTDS*/"Messenger"):s._(/*BTDS*/"Facebook"),c;n[0]===Symbol.for("react.memo_cache_sentinel")?(c=u(f?"876158":"781429"),n[0]=c):c=n[0];var y=c,C=i.threadKey,b=i.threadType,v=o("MAWThreadCutover").useIsDualThreadCutoverSecureThread(C),S=o("MAWThreadCutover").useOpenThreadIfExistsFromCutoverThread(C)!=null,R;n[1]!==C?(R=function(){var e=o("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(e,(d||(d=o("I64"))).to_string(C))},n[1]=C,n[2]=R):R=n[2];var L=p(R),E=L[0],k=L[1],I=r("useMWRedirectToOpenThreadOfDualThread")(C),T=r("useMWEntrypoint")(),D;n[3]!==T||n[4]!==v||n[5]!==C||n[6]!==b?(D={onVisible:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_impression_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})})}},n[3]=T,n[4]=v,n[5]=C,n[6]=b,n[7]=D):D=n[7];var x=r("useVisibilityObserver")(D),$=o("MWPActor.react").useActor(),P=o("MAWThreadCutover").useGetCutoverOpenThreadKey(C),N;n[8]!==$||n[9]!==P?(N=P!=null&&(d||(d=o("I64"))).equal($,P),n[8]=$,n[9]=P,n[10]=N):N=n[10];var M=N,w;n[11]===Symbol.for("react.memo_cache_sentinel")?(w=["firstName","name"].concat(o("LSContactBitOffset").contactCapabilityFields),n[11]=w):w=n[11];var A=r("useMWGetOtherUserContact")(C,b,w),F;if(n[12]!==M||n[13]!==(A==null?void 0:A.firstName)||n[14]!==(A==null?void 0:A.name)){var O;F=M===!0?s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with yourself was archived."):s._(/*BTDS*/"This chat is secured with end-to-end encryption. Your other chat with {name} was archived.",[s._param("name",(O=A==null?void 0:A.firstName)!=null?O:A==null?void 0:A.name)]),n[12]=M,n[13]=A==null?void 0:A.firstName,n[14]=A==null?void 0:A.name,n[15]=F}else F=n[15];var B=F,W;n[16]===Symbol.for("react.memo_cache_sentinel")?(W={},n[16]=W):W=n[16];var q=r("useMWXEntryPointDialog")(r("MWInboxPostcutoverSecureThreadBannerDialog.entrypoint"),W),U=q[0],V=q[1],H=q[2],G=q[3];return E&&v&&S&&g&&m.jsx("div",babelHelpers.extends({"data-testid":void 0},(e||(e=r("stylex"))).props(o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:m.jsx(r("MWXQPCard.react"),{addOnPrimary:{label:s._(/*BTDS*/"Open other chat"),onPress:function(){_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_view_archived_chat_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),I()},type:"secondary"},addOnSecondary:{label:s._(/*BTDS*/"Learn more"),onHoverIn:V,onHoverOut:H,onPress:function(){var e;_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_learn_more_cta_click_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),U({isSelfThread:M,otherUserName:(e=A==null?void 0:A.firstName)!=null?e:A==null?void 0:A.name,source:a})},onPressIn:G},body:B,headline:s._(/*BTDS*/"{platformName} upgraded security",[s._param("platformName",l)]),icon:{props:{isDecorative:!0,src:y},type:"image"},onClose:function(){o("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((d||(d=o("I64"))).to_string(C),r("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED_V2),_.onReady(function(e){return e.log(function(){return{entry_point:T,event_type:"secret_conversation_post_cutover_thread_banner_v2_dismissed_event",is_cutover:v,thread_id:(d||(d=o("I64"))).to_string(C),thread_type:d.to_string(b),transport_type:h}})}),k(!1)},ref:x,secondaryReduceEmphasis:!1,xstyle:o("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})}))}l.default=y}),226);
__d("MWInboxPrecutoverOpenThreadBanner.react",["cr:7109","cr:7110","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=r("react"));function u(e){var t=o("react-compiler-runtime").c(4);if(n("cr:7110")!=null){var r;return t[0]!==e?(r=s.jsx(n("cr:7110"),babelHelpers.extends({},e)),t[0]=e,t[1]=r):r=t[1],r}else if(n("cr:7109")!=null){var a;return t[2]!==e.thread?(a=s.jsx(n("cr:7109"),{thread:e.thread}),t[2]=e.thread,t[3]=a):a=t[3],a}return null}l.default=u}),98);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=function(t,n){return n!=null?t.get((s||(s=o("I64"))).to_string(n)):null};function c(e,t,n){return{banner:e,bannerAction:u(t,e.bannerCtaId),leftButton:u(t,e.cta1Id),overflowMenuActions:(n!=null?[n.cta1Id,n.cta2Id,n.cta3Id,n.cta4Id,n.cta5Id]:[]).map(function(e){return u(t,e)}).filter(Boolean),rightButton:u(t,e.cta2Id)}}function d(t,n){var a=o("react-compiler-runtime").c(18),l=(e||(e=r("useReStore")))(),s;a[0]!==t.bannerId||a[1]!==l.tables.in_thread_banner_overflow_menu||a[2]!==n?(s=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_overflow_menu).getKeyRange(n,t.bannerId)},a[0]=t.bannerId,a[1]=l.tables.in_thread_banner_overflow_menu,a[2]=n,a[3]=s):s=a[3];var u;a[4]!==t.bannerId||a[5]!==l||a[6]!==n?(u=[l,n,t.bannerId],a[4]=t.bannerId,a[5]=l,a[6]=n,a[7]=u):u=a[7];var d=o("ReQLSuspense").useFirst(s,u,i.id+":67"),p;a[8]!==t.bannerId||a[9]!==l.tables.in_thread_banner_ctas?(p=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner_ctas).getKeyRange(t.bannerId).map(m)},a[8]=t.bannerId,a[9]=l.tables.in_thread_banner_ctas,a[10]=p):p=a[10];var _;a[11]!==t.bannerId||a[12]!==l?(_=[l,t.bannerId],a[11]=t.bannerId,a[12]=l,a[13]=_):_=a[13];var f=o("ReQLSuspense").useArray(p,_,i.id+":74"),g;if(a[14]!==t||a[15]!==d||a[16]!==f){var h=new Map(f);g=c(t,h,d),a[14]=t,a[15]=d,a[16]=f,a[17]=g}else g=a[17];return g}function m(e){return[(s||(s=o("I64"))).to_string(e.ctaId),e]}l.createBanner=c,l.useInThreadBannerWithCta=d}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){r("promiseDone")(n.runInTransaction(function(e){return r("LSRequestAdContextFromThreadKeyStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":24"))},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useEffect;function c(){var t=o("react-compiler-runtime").c(4),n=(e||(e=r("useReStore")))(),a=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l,s;t[0]!==n||t[1]!==a?(l=function(){var e=n.runInTransaction(function(e){return r("LSFetchBannersStoredProcedure")(r("LSFactory")(e),{threadKey:a})},"readwrite",void 0,void 0,i.id+":23");r("promiseDone")(e)},s=[a,n],t[0]=n,t[1]=a,t[2]=l,t[3]=s):(l=t[2],s=t[3]),u(l,s)}l.default=c}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(){var t=o("react-compiler-runtime").c(11),n=o("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),a=n.isOnMemberRequestsPageRef,i=n.pushMemberRequestsPage,l=n.setShouldNavToMemberRequests,s=n.setThreadInfoVisible,u=n.threadInfoVisible,c=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),d=c==="ChatTab",m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={},t[0]=m):m=t[0];var p=r("useMWXEntryPointDialog")(r("MWCMMemberRequestsDialog.entrypoint"),m),_=p[0],f;t[1]!==_?(f=function(t){_({parentSurface:"request_to_join_activity_banner",threadKey:t})},t[1]=_,t[2]=f):f=t[2];var g=f,h;return t[3]!==d||t[4]!==a||t[5]!==g||t[6]!==i||t[7]!==l||t[8]!==s||t[9]!==u?(h=function(n,r){var t=function(){o("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(e||(e=o("I64"))).to_string(n.banner.threadKey)})};return r.ctaType!=="cm_thread_member_requests_view"?{type:"unimplemented"}:d?{onPress:function(){t(),g(n.banner.threadKey)},type:"action"}:{onPress:function(){t(),a.current!==!0&&(u===!0?i("request_to_join_activity_banner"):(l(!0),s(!0)))},type:"action"}},t[3]=d,t[4]=a,t[5]=g,t[6]=i,t[7]=l,t[8]=s,t[9]=u,t[10]=h):h=t[10],h}l.default=s}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(3),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=r("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),e[0]=t):t=e[0];var n=r("useMWXLazyDialog")(t),a=n[0],i;return e[1]!==a?(i=function(t,n){return n.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return a({adId:n.ctaId,threadKey:t.banner.threadKey})},type:"action"}},e[1]=a,e[2]=i):i=e[2],i}l.default=e}),98);
__d("MpixEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(t,n,r,o,a,i,l){"use strict";var e=r("getFalcoLogPolicy_DO_NOT_USE")("4586"),s=o("FalcoLoggerInternal").create("mpix_event",e),u=s;l.default=u}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t){r("promiseDone")(n.runInTransaction(function(e){return r("LSExecuteCTAStoredProcedure")(r("LSFactory")(e),{ctaId:t})},"readwrite",void 0,void 0,i.id+":34"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useCallback;function c(){var t=o("react-compiler-runtime").c(2),n=(e||(e=r("useReStore")))(),a;return t[0]!==n?(a=function(t,o){r("promiseDone")(n.runInTransaction(function(e){return r("LSServerMutationCtaStoredProcedure")(r("LSFactory")(e),{marketplaceCtaType:o,threadKey:t})},"readwrite",void 0,void 0,i.id+":28"))},t[0]=n,t[1]=a):a=t[1],a}l.default=c}),98);
__d("useMWLSMarketplaceCtaParser",["CometFRX.entrypoint","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWResponsiveLayoutContext.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","MpixEventFalcoEvent","ReQL","ReQLSuspense","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useContext,p=d.useMemo,_=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"],f=new Set(_),g=new Set(_.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function h(t){var n=o("react-compiler-runtime").c(8),a=(e||(e=r("useReStore")))(),l=o("MWPActor.react").useActor(),u;n[0]!==l||n[1]!==a.tables.participants||n[2]!==t?(u=function(){return o("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(t).filter(function(e){return!(s||(s=o("I64"))).equal(e.contactId,l)}).map(y)},n[0]=l,n[1]=a.tables.participants,n[2]=t,n[3]=u):u=n[3];var c;return n[4]!==l||n[5]!==a||n[6]!==t?(c=[l,t,a],n[4]=l,n[5]=a,n[6]=t,n[7]=c):c=n[7],o("ReQLSuspense").useFirst(u,c,i.id+":87")}function y(e){return(s||(s=o("I64"))).to_string(e.contactId)}function C(){var e=o("react-compiler-runtime").c(22),t=o("MWThreadKey.react").useMWThreadKeyMemoizedExn(),n=r("useMWLSMarketplaceServerMutationCta")(),a=r("useMWLSExecuteInThreadBannerCta")(),i=h(t),l;e[0]!==t?(l=(s||(s=o("I64"))).to_string(t),e[0]=t,e[1]=l):l=e[1];var u=l,d;e[2]!==u?(d=window.btoa("message_thread:"+u),e[2]=u,e[3]=d):d=e[3];var p=d,_="report_button",g;e[4]!==p?(g={entryPoint:_,id:p,location:"marketplace_messenger_report_buyer"},e[4]=p,e[5]=g):g=e[5];var y=g,C;e[6]!==p?(C={entryPoint:_,id:p,location:"marketplace_messenger_report_seller"},e[6]=p,e[7]=C):C=e[7];var v=C,S=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),y),R=S[0],L=r("useMWXEntryPointDialog")(r("CometFRX.entrypoint"),v),E=L[0],k;e[8]!==u?(k={thread_id:u},e[8]=u,e[9]=k):k=e[9];var I=r("useMWXEntryPointDialog")(r("CometMarketplaceInboxLabelChatDialog.entrypoint"),k),T=I[0],D;e[10]!==u?(D={threadId:u},e[10]=u,e[11]=D):D=e[11];var x=r("useMWXEntryPointDialog")(r("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),D),$=x[0],P=m(r("MWResponsiveLayoutContext.react")),N=P.isDenseMode,M;return e[12]!==a||e[13]!==n||e[14]!==N||e[15]!==i||e[16]!==T||e[17]!==$||e[18]!==R||e[19]!==E||e[20]!==u?(M=function(t,l){var e=l.ctaId,d=l.ctaType,m=l.deeplinkUrl,p=l.webviewUrl;if(d==="marketplace_see_details"||d==="marketplace_banner_open_native"){var _=p!=null?p:m;if(_!=null)return{type:"link",url:_};r("FBLogger")("mp_messaging").mustfix("Marketplace see details cta without url")}if(d==="marketplace_view_profile"){var g=p!=null?p:m;if(g!=null)return{type:"link",url:g};r("FBLogger")("mp_messaging").mustfix("Marketplace view profile cta without url")}if(d==="marketplace_scaled_rate_seller"&&p!=null)return{type:"link",url:p};if(d==="marketplace_more_options"&&t.overflowMenuActions.length>0)return{popoverTrigger:function(n){return c.jsx(r("MWXLazyPopoverTrigger.react"),{align:N?"middle":"end",popoverProps:{ctaParser:function(n){return M(t,n)},menu:t.overflowMenuActions},popoverResource:r("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:n})},type:"popover"};if(d==="marketplace_report_buyer"||d==="marketplace_report_seller"){if(i!=null){var h={other_user_id:i,thread_id:u};e:switch(d){case"marketplace_report_buyer":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_buyer_error",extra_data:h}});break e}case"marketplace_report_seller":{r("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_seller_error",extra_data:h}});break e}default:}return{onPress:function(){d==="marketplace_report_buyer"?R({}):E({})},type:"action"}}r("FBLogger")("mp_messaging").mustfix("Haven't implemented report buyer/seller for threads with more than 1 person")}if(f.has(d))return{onPress:function(){return a(e)},type:"action"};if(d==="marketplace_label_chat")return{onPress:function(){return T({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_mark_as_paid")return{onPress:function(){return $({threadID:u},function(){return a(e)})},type:"action"};if(d==="marketplace_create_discount")return{onPress:b,type:"action"};if(d==="marketplace_server_mutation"){var y=l.actionContentBlob,C="";if(y!=null){var v,S=((v=JSON.parse(y))!=null?v:{}).marketplace_cta_type;typeof S=="string"?C=S:r("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return n((s||(s=o("I64"))).of_string(u),C)},type:"action"}}return{type:"unimplemented"}},e[12]=a,e[13]=n,e[14]=N,e[15]=i,e[16]=T,e[17]=$,e[18]=R,e[19]=E,e[20]=u,e[21]=M):M=e[21],M}function b(){o("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view"),r("logVultureJSDeadEntrypoint")("CometMarketplaceCreateDiscountedPriceDialog.entrypoint")}l.marketplaceCta=g,l.useMWLSMarketplaceCtaParser=C}),98);
__d("useMWLSInThreadBannerCtaParser",["react-compiler-runtime","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("react-compiler-runtime").c(4),t=o("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),n=r("useMWLSAdContextCtaParser")(),a=r("useMWCMMemberRequestsCtaParser.react")(),i;return e[0]!==n||e[1]!==a||e[2]!==t?(i=function(r,i){var e=i.ctaType;return o("useMWLSMarketplaceCtaParser").marketplaceCta.has(e)?t(r,i):e==="ads_context"?n(r,i):e==="cm_thread_member_requests_view"?a(r,i):{type:"unimplemented"}},e[0]=n,e[1]=a,e[2]=t,e[3]=i):i=e[3],i}l.default=e}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react"));function d(e){var t=o("react-compiler-runtime").c(4),n=e.banner,a=e.impressionRef,i=e.threadKey,l=o("useInThreadBannerWithCta").useInThreadBannerWithCta(n,i),s=r("useMWLSInThreadBannerCtaParser")(),u;return t[0]!==l||t[1]!==s||t[2]!==a?(u=c.jsx(r("MWChatInThreadBanner.react"),{banner:l,ctaParser:s,impressionRef:a}),t[0]=l,t[1]=s,t[2]=a,t[3]=u):u=t[3],u}function m(t){var n=o("react-compiler-runtime").c(13),a=t.threadKey;r("useMWLSEnsureInThreadBannerExists")(),r("useMWLSEnsureAdContextExists")();var l=(e||(e=r("useReStore")))(),u;n[0]!==l.tables.in_thread_banner||n[1]!==a?(u=function(){return o("ReQL").fromTableAscending(l.tables.in_thread_banner).getKeyRange(a)},n[0]=l.tables.in_thread_banner,n[1]=a,n[2]=u):u=n[2];var m;n[3]!==l||n[4]!==a?(m=[l,a],n[3]=l,n[4]=a,n[5]=m):m=n[5];var p=o("ReQLSuspense").useFirst(u,m,i.id+":56"),_=p==null?void 0:p.cta1Type,f=p==null?void 0:p.cta2Type,g;n[6]!==(p==null?void 0:p.bannerCtaType)||n[7]!==a?(g={onImpressionStart:function(){(p==null?void 0:p.bannerCtaType)==="cm_thread_member_requests_view"&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(a)})}},n[6]=p==null?void 0:p.bannerCtaType,n[7]=a,n[8]=g):g=n[8];var h=r("useSinglePartialViewImpression")(g);if(p==null||_==="proactive_warning_affirmative"||_==="proactive_warning_negative"||f==="proactive_warning_affirmative"||f==="proactive_warning_negative"||_==="ctx_whatsapp_redirect_banner"||f==="ctx_whatsapp_redirect_banner")return null;var y;return n[9]!==p||n[10]!==h||n[11]!==a?(y=c.jsx(d,{banner:p,impressionRef:h,threadKey:a}),n[9]=p,n[10]=h,n[11]=a,n[12]=y):y=n[12],y}l.default=m}),98);
__d("MWMDotMeReferrerContext.react",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useContext,m=c();function p(e){var t=o("react-compiler-runtime").c(3),n=e.children,r=e.referrer,a;return t[0]!==n||t[1]!==r?(a=s.jsx(m.Provider,{value:r,children:n}),t[0]=n,t[1]=r,t[2]=a):a=t[2],a}function _(){return d(m)}l.MWMDotMeReferrerContextProvider=p,l.useMDotMeReferrer=_}),98);
__d("MWMessageTranslationContext.react",["emptyFunction","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e,c=u.createContext,d=u.useCallback,m=u.useContext,p=u.useMemo,_=u.useState,f=c({shouldShowTranslateOption:function(){return!1},toggleMessageTranslation:r("emptyFunction")});function g(e){var t=o("react-compiler-runtime").c(11),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Set,t[0]=r):r=t[0];var a=_(r),i=a[0],l=a[1],u;t[1]!==i?(u=function(t){var e=new Set(i);i.has(t)?e.delete(t):e.add(t),l(e)},t[1]=i,t[2]=u):u=t[2];var c=u,d;t[3]!==i?(d=function(t){return!i.has(t)},t[3]=i,t[4]=d):d=t[4];var m=d,p;t[5]!==m||t[6]!==c?(p={shouldShowTranslateOption:m,toggleMessageTranslation:c},t[5]=m,t[6]=c,t[7]=p):p=t[7];var g=p,h;return t[8]!==n||t[9]!==g?(h=s.jsx(f.Provider,{value:g,children:n}),t[8]=n,t[9]=g,t[10]=h):h=t[10],h}function h(){return m(f)}var y={Provider:g,useHook:h};l.default=y}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWChatInteraction","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWGenAINux.react","MWGenAIUtils","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWMessageTranslationContext.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:3907","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","useThreadLastUnreadWatermarkAndMessages","uuidv4"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=e,d=c.useId,m=c.useState;function p(e){return o("MWV2ChatAdminMessage.react").isAdminMessage(e)&&e!=null&&(e.messageRenderingType==null||!(s||(s=o("I64"))).equal(e.messageRenderingType,(s||(s=o("I64"))).of_int32(r("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function _(e){return u.jsx(r("MWInboxThreadMessagesSpinner.react"),{vcIgnore:e})}_.displayName=_.name+" [from "+i.id+"]";function f(e){return u.jsx(r("MWJumpToMostRecentMessageButton.react"),{onPress:e})}f.displayName=f.name+" [from "+i.id+"]";function g(e){var t=e.entryPoint,a=e.hasUserSentMessage,i=e.ref,l=e.renderFooter,c=e.renderHeader,g=e.thread,h=o("MWV2MessageActionsVisibility.react").useStopHoveringRef(),y=m(""),C=y[0],b=y[1],v=d(),S=o("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),R=r("useMWPAriaLabelForMessageListGrid")(g),L=o("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),E=L.visibleMessage,k=o("Int64Hooks").useMemoInt64(function(){return g.threadType},[g.threadType]),I=r("useCommunityFolder")(g),T=I!=null?o("LSCommunityBitOffset").has(9,I):!1,D=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(g.threadKey),x=o("useThreadLastUnreadWatermarkAndMessages").useThreadLastReadWatermark(g.threadKey),$=o("Int64Hooks").useCallbackInt64(function(){return u.jsxs(u.Fragment,{children:[u.jsx(o("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:g.threadKey,threadType:k}),o("MWGenAIUtils").isMetaAIThread(g.threadKey)&&u.jsx(r("MWGenAINux.react"),{hasUserSentMessage:a,source:"footer"}),l&&l()]})},[l,g.threadKey,k,a]),P=new Map,N=u.jsx(r("MWPRelayBaseMessageList.react"),{entryPoint:t,onPageLoaded:function(t,n,r,a){var e=o("MWChatInteraction").getInteractionTraceForThreadKey((s||(s=o("I64"))).to_string(g.threadKey));e!=null&&e.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:a,page_size:r,total_number_of_messages:n.length})},onUserScroll:void 0,pageSize:15,ref:i,renderFooter:$,renderHeader:c,renderJumpToMostRecentMessageButton:f,renderLoadingAnimation:_,renderRow:function(t){var e=t.domElementRef,n=t.message,a=t.nextMessage,i=t.prevMessage,l=t.rowIndexFromBottom,c=S?(s||(s=o("I64"))).equal(g.threadKey,n.threadKey):!1,d=!1,m=!p(i)&&!p(a),_=E==null?!1:E.messageId===n.messageId&&(E.source==="Reply"||E.source==="Pinned"||E.source==="Bump"||E.source==="Search"&&r("isMWNewSearchUXEnabled")());if((r("mwCMIsAnyCMThread")(g.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverableChannel(g.threadType))&&p(n)&&!m){P.set(n.messageId,n);var f=p(i)&&!p(a);if(f){var y=Array.from(P.values());return P.clear(),u.jsx(r("MWCollapsibleAdminMessages.react"),{domElementRef:e,fbGroupId:I==null?void 0:I.fbGroupId,hasMessageEmphasisRing:_,isCMAdmin:T,isModal:C===n.messageId,isSecureMessage:c,messages:y,rowIndexFromBottom:l,shouldRenderUnreadIndicator:d,threadType:k,useReactionsV2:D})}else return null}return u.jsx(o("MWMessageRow.react").MWMessageRow,{containerThreadKey:g.threadKey,domElementRef:e,fbGroupId:I==null?void 0:I.fbGroupId,hasMessageEmphasisRing:_,isCMAdmin:T,isModal:C===n.messageId,isSecureMessage:c,lastReadWatermarkTimestampMs:x,message:n,nextMessage:a,prevMessage:i,rowIndexFromBottom:l,shouldRenderUnreadIndicator:d,stopHoveringRef:h,threadType:k,useReactionsV2:D})},thread:g});return u.jsx(r("MWMessageSendingContext.react").Provider,{children:u.jsx(r("MWMessageTranslationContext.react").Provider,{children:u.jsx(r("MWClickedMessageContext.react").Provider,{children:u.jsx(r("MWBlockingProtectionContext.react").Provider,{children:u.jsx(o("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:u.jsx(r("MWInboxThreadMessagesSpinner.react"),{}),name:"MWMessageList",children:u.jsx(o("MWPThreadCapabilitiesContext").Provider,{thread:g,children:u.jsx(r("MWPMessageListFocusTable.react"),{ariaLabel:R,modal:C,setModal:b,children:u.jsx(o("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:u.jsx(o("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:r("uuidv4")(),children:n("cr:3907")==null?N:u.jsx(n("cr:3907"),{id:v,children:N})})})})})})})})})})}g.displayName=g.name+" [from "+i.id+"]",l.default=g}),98);
__d("MWMessageReaction.react",["BaseContextualLayer.react","I64","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWXPopover.react","MWXPressable.react","MWXText.react","gkx","intlSummarizeNumber","react","react-compiler-runtime","stylex","useCometTheme","useFadeEffect"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s,m=d.useEffect,p=d.useRef,_=d.useState,f={"--card-background":"rgba(0,0,0,0)"},g="xx4g29r-B",h={animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x4uz0a7",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xds7yc5",transformOrigin:"x1jpgh95",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},selectedTextColor:{color:"x1f0x4kx",$$css:!0},tooltipContainer:{borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},tootltipBackgroundComet:{backgroundColor:"xj5tmjb",boxShadow:"xms15q0",$$css:!0}};function y(t){var n=o("react-compiler-runtime").c(83),a=t.emoji,i=t.isProcessingReactions,l=t.isReadOnly,s=t.isTooltipShown,d=t.message,g=t.onFocus,y=t.onMouseEnter,v=t.onMouseLeave,S=t.onTooltipCTAPress,R=t.queueSendReactionCallback,L=t.reaction,E=t.sendReaction,k=t.shouldAnimate,I=t.threadKey,T=r("useCometTheme")("invert"),D=T[0],x=T[1],$=r("useCometTheme")("light"),P=$[1],N;n[0]!==a[0]?(N=o("MWChatReactionsUtils").isHeart(a[0]),n[0]=a[0],n[1]=N):N=n[1];var M=N,w=p(null),A=r("useFadeEffect")(s),F=A[0],O=A[1],B=A[2],W=_(L.viewerIsReactor),q=W[0],U=W[1],V;n[2]!==L.count?(V=(u||(u=o("I64"))).to_int32(L.count),n[2]=L.count,n[3]=V):V=n[3];var H=_(V),G=H[0],z=H[1],j=_(!1),K=j[0],Q=j[1],X=p(null),Y,J;n[4]===Symbol.for("react.memo_cache_sentinel")?(Y=function(){X.current!=null&&window.clearTimeout(X.current)},J=[],n[4]=Y,n[5]=J):(Y=n[4],J=n[5]),m(Y,J);var Z,ee;n[6]!==k?(Z=function(){k&&(Q(!0),X.current!=null&&window.clearTimeout(X.current),X.current=window.setTimeout(function(){X.current=null,Q(!1)},600))},ee=[k],n[6]=k,n[7]=Z,n[8]=ee):(Z=n[7],ee=n[8]),m(Z,ee);var te,ne;n[9]!==i||n[10]!==L.count||n[11]!==L.viewerIsReactor?(te=function(){i||(z((u||(u=o("I64"))).to_int32(L.count)),U(L.viewerIsReactor))},ne=[i,L.count,L.viewerIsReactor],n[9]=i,n[10]=L.count,n[11]=L.viewerIsReactor,n[12]=te,n[13]=ne):(te=n[12],ne=n[13]),m(te,ne);var re;n[14]===Symbol.for("react.memo_cache_sentinel")?(re=function(){U(!0),z(b)},n[14]=re):re=n[14];var oe=re,ae;n[15]===Symbol.for("react.memo_cache_sentinel")?(ae=function(){U(!1),z(C)},n[15]=ae):ae=n[15];var ie=ae,le;n[16]!==G?(le=r("intlSummarizeNumber")(G),n[16]=G,n[17]=le):le=n[17];var se=le.length,ue;n[18]!==q||n[19]!==P?(ue=(e||(e=r("stylex"))).props(q?P:null),n[18]=q,n[19]=P,n[20]=ue):ue=n[20];var ce;n[21]!==a||n[22]!==q||n[23]!==R||n[24]!==G||n[25]!==E?(ce=function(){q?ie():oe();var e=a.join("");G===1&&q?E(e,q):R(e,function(){E(e,q)})},n[21]=a,n[22]=q,n[23]=R,n[24]=G,n[25]=E,n[26]=ce):ce=n[26];var de;n[27]!==q?(de={0:{className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},1:{className:"x6s0dn4 x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r x1y4ma1z"}}[!!q<<0],n[27]=q,n[28]=de):de=n[28];var me;n[29]!==l?(me={0:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp"},1:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp x1ypdohk"}}[!l<<0],n[29]=l,n[30]=me):me=n[30];var pe;n[31]!==K||n[32]!==M||n[33]!==k?(pe=(e||(e=r("stylex"))).props(k||K?h.animatedEmoji:!1,M?h.scaleHeartEmoji:!1),n[31]=K,n[32]=M,n[33]=k,n[34]=pe):pe=n[34];var _e="multi-react-emoji-"+a[0],fe;n[35]!==a||n[36]!==_e?(fe=c.jsx(r("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0}),n[35]=a,n[36]=_e,n[37]=fe):fe=n[37];var ge;n[38]!==pe||n[39]!==fe?(ge=c.jsx("div",babelHelpers.extends({},pe,{children:fe})),n[38]=pe,n[39]=fe,n[40]=ge):ge=n[40];var he;n[41]!==me||n[42]!==ge?(he=c.jsx("div",babelHelpers.extends({},me,{children:ge})),n[41]=me,n[42]=ge,n[43]=he):he=n[43];var ye;n[44]!==q?(ye=(e||(e=r("stylex")))([h.emojiNum,q&&h.selectedTextColor]),n[44]=q,n[45]=ye):ye=n[45];var Ce="multi-react-emoji-num-"+a[0],be=se*o("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER,ve;n[46]!==be?(ve={minWidth:be},n[46]=be,n[47]=ve):ve=n[47];var Se;n[48]!==G?(Se=r("intlSummarizeNumber")(G),n[48]=G,n[49]=Se):Se=n[49];var Re;n[50]!==ye||n[51]!==Ce||n[52]!==ve||n[53]!==Se?(Re=c.jsx("div",{className:ye,"data-testid":void 0,role:"none",style:ve,children:Se}),n[50]=ye,n[51]=Ce,n[52]=ve,n[53]=Se,n[54]=Re):Re=n[54];var Le;n[55]!==de||n[56]!==he||n[57]!==Re?(Le=c.jsxs("div",babelHelpers.extends({},de,{children:[he,Re]})),n[55]=de,n[56]=he,n[57]=Re,n[58]=Le):Le=n[58];var Ee;n[59]!==l||n[60]!==ce||n[61]!==Le?(Ee=c.jsx(r("MWXPressable.react"),{disabled:l,onPress:ce,overlayRadius:"inherit",ref:w,xstyle:h.emojiRowContainer,children:Le}),n[59]=l,n[60]=ce,n[61]=Le,n[62]=Ee):Ee=n[62];var ke;n[63]!==D||n[64]!==B||n[65]!==a||n[66]!==i||n[67]!==l||n[68]!==d||n[69]!==S||n[70]!==L.reactionFbid||n[71]!==O||n[72]!==F||n[73]!==x||n[74]!==I?(ke=!l&&F&&c.jsx(D,{children:c.jsx(r("BaseContextualLayer.react"),{align:"middle",contextRef:w,position:"above",ref:B,children:c.jsx("div",{style:r("gkx")("23219")?null:f,children:c.jsx(r("MWXPopover.react"),{withArrow:r("gkx")("23219"),children:c.jsx("div",babelHelpers.extends({},(e||(e=r("stylex"))).props(x,h.tooltipContainer,r("gkx")("23219")?null:h.tootltipBackgroundComet,O&&h.tooltipContainerVisible),{role:"tooltip",children:c.jsx(r("MWXText.react"),{color:"primary",type:"body4",children:c.jsx(r("MWChatMultiReactionsTooltip.react"),{isProcessingReactions:i,messageId:d.messageId,onTooltipCTAPress:function(){return S(L.reactionFbid,a.join(""))},reactionFbid:L.reactionFbid,threadKey:I})})}))})})})}),n[63]=D,n[64]=B,n[65]=a,n[66]=i,n[67]=l,n[68]=d,n[69]=S,n[70]=L.reactionFbid,n[71]=O,n[72]=F,n[73]=x,n[74]=I,n[75]=ke):ke=n[75];var Ie;return n[76]!==g||n[77]!==y||n[78]!==v||n[79]!==ue||n[80]!==Ee||n[81]!==ke?(Ie=c.jsxs("div",babelHelpers.extends({},ue,{onFocus:g,onMouseEnter:y,onMouseLeave:v,children:[Ee,ke]})),n[76]=g,n[77]=y,n[78]=v,n[79]=ue,n[80]=Ee,n[81]=ke,n[82]=Ie):Ie=n[82],Ie}function C(e){return e>1?e-1:e}function b(e){return e+1}l.default=y}),98);
__d("useEmojiReactionDynamicStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","react-compiler-runtime","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useCallback,c=s.useEffect,d=s.useLayoutEffect,m=s.useRef,p="xekv6nw-B",_="x17qceat-B",f={animationBase:{opacity:"xg01cxk",transitionDuration:"xbb3pvg",transitionProperty:"xeq7tfg",width:"xnalus7",$$css:!0},animationEnter:{animationDuration:"xllfotl",animationName:"x127lhb5",opacity:"x1hc1fzr",$$css:!0},animationEnterWidth1:{width:"x1ygkb0v",$$css:!0},animationEnterWidth2:{width:"x1247r65",$$css:!0},animationEnterWidth3:{width:"xdc2ju1",$$css:!0},animationEnterWidth4:{width:"xgbm1jk",$$css:!0},animationEnterWidth5:{width:"x1rdo73f",$$css:!0},animationEnterWidth6:{width:"x13oubkp",$$css:!0},animationLeave:{animationDuration:"x773k2o",animationName:"xvma63k",opacity:"xg01cxk",width:"xnalus7",$$css:!0}};function g(e){switch(e){case 1:return f.animationEnterWidth1;case 2:return f.animationEnterWidth2;case 3:return f.animationEnterWidth3;case 4:return f.animationEnterWidth4;case 5:return f.animationEnterWidth5;case 6:return f.animationEnterWidth6;default:return null}}function h(){var e=m(new Map);function t(){return e.current}return c(function(){return function(){return Array.from(t().values()).forEach(window.clearTimeout)}},[]),t()}function y(){var e=o("react-compiler-runtime").c(3),t=r("useForceUpdate")(),n=r("useIsMountedRef")(),a;return e[0]!==t||e[1]!==n?(a=function(){return function(){n.current&&t()}},e[0]=t,e[1]=n,e[2]=a):a=e[2],r("useStable")(a)}function C(e,t,n,o){var a=y(),i=h(),l=r("useStable")(function(){return new Map}),s=m(!0),c=n.duration,p=c===void 0?100:c,_=n.durationIn,C=n.durationOut,b=n.onEnter,v=n.onEnterComplete,S=n.onLeave,R=n.onLeaveComplete,L=u(function(e,t,n){var r;return{item:t,key:e,order:n,style:{transitionDuration:(_!=null?_:p)+"ms"},xstyle:[f.animationBase,s.current&&f.animationEnter,s.current&&g((r=t==null?void 0:t.reactionCountCharactersNum)!=null?r:0)]}},[_,p]),E=new Map(e.map(function(e,n){return[t(e),{item:e,order:n}]})),k=r("differenceSets")(new Set(E.keys()),new Set(l.keys())),I=r("differenceSets")(new Set(l.keys()),new Set(E.keys())),T=new Map,D=Array.from(r("mapSet")(I,function(e){var t=r("nullthrows")(l.get(e)),n=t.order;return n})).sort(function(e,t){return e-t});D.forEach(function(t,n){for(var r=t-n;r<e.length;){var o,a=(o=T.get(r))!=null?o:0;T.set(r,a+1),r+=1}});var x=r("sortBy")([].concat(r("mapMapToArray")(l,function(e){var t=e.key,n=E.get(t);if(n){var r;return babelHelpers.extends({},e,{item:n.item,order:n.order+((r=T.get(n.order))!=null?r:0)})}return e}),Array.from(r("mapSet")(k,function(e){var t=r("nullthrows")(E.get(e)),n=t.item,o=t.order;return L(e,n,o)}))),function(e){return e.order});return d(function(){o!==!0&&(e.forEach(function(e,n){var o,s,u=t(e),c=(o=l.get(u))!=null?o:L(u,e,n);k.has(u)&&window.requestAnimationFrame(function(){var t;c.xstyle=[f.animationBase,f.animationEnter,g((t=e==null?void 0:e.reactionCountCharactersNum)!=null?t:0)],window.clearTimeout(i.get(u)),i.set(u,window.setTimeout(function(){v&&v(e)},_!=null?_:p)),r("setImmediate")(function(){var t;c.xstyle=[f.animationBase,f.animationEnter,g((t=e==null?void 0:e.reactionCountCharactersNum)!=null?t:0)],b&&b(e),a()})}),c.item=e,c.order=n+((s=T.get(n))!=null?s:0),l.set(u,c)}),Array.from(I.values()).forEach(function(e){var t=l.get(e);if(t!=null){var n=t.item;t.status!=="leaving"&&(t.status="leaving",t.style={transitionDuration:(C!=null?C:p)+"ms"},window.requestAnimationFrame(function(){t.xstyle=[f.animationBase,f.animationLeave],window.clearTimeout(i.get(e)),i.set(e,window.setTimeout(function(){l.delete(e),R&&R(n),a()},C!=null?C:p)),r("setImmediate")(function(){S&&S(n),a()})}))}}),s.current=!1)},void 0),x}l.default=C}),98);
__d("useSendReactionCallbackQueue",["react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=s.useRef,c=s.useState,d=1e3,m=1500;function p(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=new Map,e[0]=t):t=e[0];var n=u(t),r=u(null),a=c(!1),i=a[0],l=a[1],s;if(e[1]===Symbol.for("react.memo_cache_sentinel")){s=function(t,o){l(!0),window.clearTimeout(r.current),n.current.set(t,o),r.current=window.setTimeout(function(){p()},m)};var p=function(){if(n.current.size>0){l(!0);var e=Array.from(n.current.entries())[0],t=e[0],o=e[1];o(),n.current.delete(t),r.current=window.setTimeout(function(){p()},m)}else _()},_=function(){window.setTimeout(function(){r.current=null,l(!1)},d)};e[1]=s}else s=e[1];var f;return e[2]!==i?(f=[s,i],e[2]=i,e[3]=f):f=e[3],f}l.default=p}),98);
__d("MWMessageReactionsList.react",["I64","LSAuthorityLevel","LSIntEnum","MWMessageReaction.react","MWMultiReactConstants","intlSummarizeNumber","react","react-compiler-runtime","stylex","useEmojiReactionDynamicStyleXTransition","useSendReactionCallbackQueue"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useRef;function p(e){var t=o("react-compiler-runtime").c(43),n=e.emojis,a=e.hideTooltip,i=e.isMultiReactExpanded,l=e.isReactionReadOnly,s=e.message,p=e.onTooltipCTAPress,h=e.previousReactionItems,y=e.reactionItemsShown,C=e.reactionsV2,b=e.sendReactionThrottled,v=e.setIsReactionsRowAnimationInProgress,S=e.setShouldAnimate,R=e.shouldAnimate,L=e.showTooltip,E=e.threadKey,k=e.tooltipIndex,I=y.length,T=m(I),D=r("useSendReactionCallbackQueue")(),x=D[0],$=D[1],P;t[0]!==i||t[1]!==I||t[2]!==v||t[3]!==S?(P=function(){T.current=I,v(!1),i&&S(!1)},t[0]=i,t[1]=I,t[2]=v,t[3]=S,t[4]=P):P=t[4];var N=P,M;t[5]!==I||t[6]!==v?(M=function(){T.current=I,v(!1)},t[5]=I,t[6]=v,t[7]=M):M=t[7];var w=M,A;t[8]===Symbol.for("react.memo_cache_sentinel")?(A=[],t[8]=A):A=t[8];var F=A;if(C!=null){var O;if(t[9]!==n||t[10]!==a||t[11]!==$||t[12]!==l||t[13]!==s||t[14]!==p||t[15]!==h||t[16]!==x||t[17]!==y||t[18]!==b||t[19]!==L||t[20]!==E||t[21]!==k){var B;t[23]!==n||t[24]!==a||t[25]!==$||t[26]!==l||t[27]!==s||t[28]!==p||t[29]!==h||t[30]!==x||t[31]!==b||t[32]!==L||t[33]!==E||t[34]!==k?(B=function(t,i){var e=t.emoji,m=t.reaction;return n[i]==null?null:{element:d.jsx(r("MWMessageReaction.react"),{emoji:e,isProcessingReactions:$,isReadOnly:l,isTooltipShown:k===i,message:s,onFocus:function(){return L(i)},onMouseEnter:function(){return L(i)},onMouseLeave:a,onTooltipCTAPress:p,queueSendReactionCallback:x,reaction:m,sendReaction:b,shouldAnimate:(h==null?void 0:h.find(function(t){return t.emoji.join("")===e.join("")}))==null&&(u||(u=o("I64"))).equal(m.authorityLevel,(c||(c=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").OPTIMISTIC)),threadKey:E},e.toString()),key:n.toString()+i,reactionCountCharactersNum:r("intlSummarizeNumber")((u||(u=o("I64"))).to_int32(m.count)).length}},t[23]=n,t[24]=a,t[25]=$,t[26]=l,t[27]=s,t[28]=p,t[29]=h,t[30]=x,t[31]=b,t[32]=L,t[33]=E,t[34]=k,t[35]=B):B=t[35],O=y.map(B),t[9]=n,t[10]=a,t[11]=$,t[12]=l,t[13]=s,t[14]=p,t[15]=h,t[16]=x,t[17]=y,t[18]=b,t[19]=L,t[20]=E,t[21]=k,t[22]=O}else O=t[22];F=O}var W;t[36]!==N||t[37]!==w?(W={duration:o("MWMultiReactConstants").REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION,onEnterComplete:N,onLeaveComplete:w},t[36]=N,t[37]=w,t[38]=W):W=t[38];var q=r("useEmojiReactionDynamicStyleXTransition")(F,g,W),U;return t[39]!==F||t[40]!==R||t[41]!==q?(U=R?q.map(f):F.map(_),t[39]=F,t[40]=R,t[41]=q,t[42]=U):U=t[42],U}function _(e){return e==null?void 0:e.element}function f(t){return d.jsx("div",{className:(e||(e=r("stylex")))([t==null?void 0:t.xstyle]),style:babelHelpers.extends({},t.style),children:t.item&&t.item.element},t.key)}f.displayName=f.name+" [from "+i.id+"]";function g(e){return e!=null?e.key:0}l.default=p}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react")),c=u.useMemo,d=u.useRef;function m(e,t){var n={};e.forEach(function(e){n[e]=!0});var r=e;return t.forEach(function(e){var t=e.emoji.join("");n[t]||r.push(t)}),r}function p(e,t){var n=(t!=null?t:[]).filter(function(e){return(s||(s=o("I64"))).gt(e.count,s.zero)});return n.map(function(t,n){return{emoji:e[n],reaction:t}}).filter(function(e){return e.emoji!=null})}function _(e,t){var n=d(!0),r=d([]),a=c(function(){return p(e,t)},[e,t]),i=c(function(){var e={};return a.forEach(function(t){e[t.emoji.join("")]=t}),e},[a]);return c(function(){if(n.current)a.length>0&&(n.current=!1,r.current=a.sort(function(e,t){return(s||(s=o("I64"))).compare(t.reaction.count,e.reaction.count)}).map(function(e){return e.emoji.join("")}));else{var e=r.current.filter(function(e){var t=i[e];return t==null?!1:(s||(s=o("I64"))).to_int32(t.reaction.count)>0});r.current=m(e,a)}return r.current.map(function(e){return i[e]}).filter(Boolean)},[i,a])}l.default=_}),98);
__d("MWMessageReactionsContainerV2.react",["FBLogger","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWAddReactionButton.react","MWExpandReactionsButton.react","MWLSThread","MWMessageReactionsList.react","MWMultiReactConstants","ReQL","ReQLSuspense","emptyFunction","react","react-compiler-runtime","stylex","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useOnOutsideClick","usePrevious","useReStore","useThrottled"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useCallback,p=d.useRef,_=d.useState,f={wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}};function g(t){var n=o("react-compiler-runtime").c(80),a=t.emojis,l=t.isMultiReactRowExpanded,u=t.message,d=t.onOpenDialog,m=t.outgoing,g=t.reactionsV2,C=t.toggleMultiReactionRowExpansion,b=_(-1),v=b[0],S=b[1],R;n[0]===Symbol.for("react.memo_cache_sentinel")?(R={isReactionsRowAnimationInProgress:!1,shouldAnimate:!1},n[0]=R):R=n[0];var L=_(R),E=L[0],k=y,I=h,T=_(!1),D=T[0],x=T[1],$=u.threadKey,P=(e||(e=r("useReStore")))(),N=o("MWLSThread").useThread($),M;n[1]!==P||n[2]!==(N==null?void 0:N.parentThreadKey)?(M=function(){return N!=null&&N.parentThreadKey?o("ReQL").fromTableAscending(P.tables.community_folders).getKeyRange(N==null?void 0:N.parentThreadKey):o("ReQL").empty()},n[1]=P,n[2]=N==null?void 0:N.parentThreadKey,n[3]=M):M=n[3];var w=N==null?void 0:N.parentThreadKey,A;n[4]!==P||n[5]!==w?(A=[P,w],n[4]=P,n[5]=w,n[6]=A):A=n[6];var F=o("ReQLSuspense").useFirst(M,A,i.id+":87"),O;n[7]!==N?(O=N!=null?N:{},n[7]=N,n[8]=O):O=n[8];var B=O,W=B.threadType;if(W==null)throw r("FBLogger")("messenger_web").mustfixThrow("thread cannot be null when reacting to message");var q;n[9]!==W?(q=o("LSMessagingThreadTypeUtil").isArmadilloSecure(W),n[9]=W,n[10]=q):q=n[10];var U=q,V;n[11]!==W?(V=o("LSMessagingThreadTypeUtil").isDiscoverableChannel(W),n[11]=W,n[12]=V):V=n[12];var H=V,G;n[13]!==l||n[14]!==D||n[15]!==C?(G=l?function(){D||(I(!0),C&&C(),k(!0))}:null,n[13]=l,n[14]=D,n[15]=C,n[16]=G):G=n[16];var z=r("useOnOutsideClick")(G),j=o("useIsMultiReactionEnabled").useIsMultiReactEnabled($),K=o("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(u,U,"instant_react"),Q;n[17]!==u.messageId||n[18]!==K?(Q=function(t,n){return K(u.messageId,t,n?"remove_reaction":"reaction")},n[17]=u.messageId,n[18]=K,n[19]=Q):Q=n[19];var X=Q,Y;n[20]!==X?(Y=function(t,n){X(t,n)},n[20]=X,n[21]=Y):Y=n[21];var J=r("useThrottled")(Y,750),Z=p(null),ee;n[22]!==v?(ee=function(t){v!==t&&(x(!0),Z.current!=null&&window.clearTimeout(Z.current),S(-1),Z.current=window.setTimeout(function(){S(t)},1500))},n[22]=v,n[23]=ee):ee=n[23];var te=ee,ne;n[24]===Symbol.for("react.memo_cache_sentinel")?(ne=function(){x(!1),Z.current!=null&&window.clearTimeout(Z.current),Z.current=window.setTimeout(function(){return S(-1)},300)},n[24]=ne):ne=n[24];var re=ne,oe;n[25]!==d?(oe=function(t,n){d({reactionFbid:t,reactionType:n}),re()},n[25]=d,n[26]=oe):oe=n[26];var ae=oe,ie=r("useGetMultiReactOrderedItems")(a,g),le=j?H===!0?o("MWMultiReactConstants").PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED:o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:o("MWMultiReactConstants").DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED,se;n[27]!==l||n[28]!==le||n[29]!==ie?(se=l?ie:ie.slice(0,le),n[27]=l,n[28]=le,n[29]=ie,n[30]=se):se=n[30];var ue=se,ce;n[31]!==l||n[32]!==le||n[33]!==ie?(ce=l?[]:ie.slice(le),n[31]=l,n[32]=le,n[33]=ie,n[34]=ce):ce=n[34];var de=ce,me=de.length,pe=ie.length||0,_e=r("usePrevious")(ie);if(pe<1)return null;var fe;n[35]!==(F==null?void 0:F.communityType)||n[36]!==N?(fe=N==null?!1:o("useIsReactionsV2Enabled").isReactionsV2ReadOnly(N,F==null?void 0:F.communityType),n[35]=F==null?void 0:F.communityType,n[36]=N,n[37]=fe):fe=n[37];var ge=fe,he=!m&&E.isReactionsRowAnimationInProgress,ye=!ge&&pe>0&&(H||pe<o("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED)&&!he,Ce=me>0&&!he,be;n[38]!==m?(be=(s||(s=r("stylex"))).props(f.wrapper,m?f.wrapperOutgoing:!1),n[38]=m,n[39]=be):be=n[39];var ve;n[40]!==E.shouldAnimate||n[41]!==a||n[42]!==l||n[43]!==ge||n[44]!==u||n[45]!==ae||n[46]!==_e||n[47]!==ue||n[48]!==g||n[49]!==J||n[50]!==te||n[51]!==$||n[52]!==v?(ve=c.jsx(r("MWMessageReactionsList.react"),{emojis:a,hideTooltip:re,isMultiReactExpanded:l,isReactionReadOnly:ge,message:u,onTooltipCTAPress:ae,previousReactionItems:_e,reactionItemsShown:ue,reactionsV2:g,sendReactionThrottled:J,setIsReactionsRowAnimationInProgress:k,setShouldAnimate:I,shouldAnimate:E.shouldAnimate,showTooltip:te,threadKey:$,tooltipIndex:v}),n[40]=E.shouldAnimate,n[41]=a,n[42]=l,n[43]=ge,n[44]=u,n[45]=ae,n[46]=_e,n[47]=ue,n[48]=g,n[49]=J,n[50]=te,n[51]=$,n[52]=v,n[53]=ve):ve=n[53];var Se;n[54]!==l||n[55]!==ge||n[56]!==U||n[57]!==u||n[58]!==me||n[59]!==X||n[60]!==Ce||n[61]!==$||n[62]!==W||n[63]!==C?(Se=Ce?c.jsx(r("MWExpandReactionsButton.react"),{isMultiReactExpanded:l,isReactionReadOnly:ge,isSecure:U,message:u,numOverflowEmojis:me!=null?me:0,sendReaction:X,setIsReactionsRowAnimationInProgress:k,threadKey:$,threadType:W,toggleMultiReactExpanded:C!=null?C:r("emptyFunction")}):null,n[54]=l,n[55]=ge,n[56]=U,n[57]=u,n[58]=me,n[59]=X,n[60]=Ce,n[61]=$,n[62]=W,n[63]=C,n[64]=Se):Se=n[64];var Re;n[65]!==U||n[66]!==u||n[67]!==me||n[68]!==X||n[69]!==ye||n[70]!==$||n[71]!==W||n[72]!==C?(Re=ye?c.jsx(r("MWAddReactionButton.react"),{isSecure:U,message:u,sendReaction:function(t,n){me>0&&(C==null||C()),window.setTimeout(function(){X(t,n)},me*10)},setShouldRowStayExpanded:x,threadKey:$,threadType:W}):null,n[65]=U,n[66]=u,n[67]=me,n[68]=X,n[69]=ye,n[70]=$,n[71]=W,n[72]=C,n[73]=Re):Re=n[73];var Le;return n[74]!==z||n[75]!==be||n[76]!==ve||n[77]!==Se||n[78]!==Re?(Le=c.jsxs("div",babelHelpers.extends({},be,{"data-testid":void 0,ref:z,children:[ve,Se,Re]})),n[74]=z,n[75]=be,n[76]=ve,n[77]=Se,n[78]=Re,n[79]=Le):Le=n[79],Le}function h(e){}function y(e){}l.default=g}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u={dark_mode_legible_text_pill:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"x1mvi0mv",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginInlineEnd:"x1xegmmw",marginBottom:"xjpr12u",marginInlineStart:"x13fj5qh",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function c(e){var t=o("react-compiler-runtime").c(6),n=e.children,a=e.onClick,i=r("useCurrentDisplayMode")()==="dark",l=i&&u.dark_mode_legible_text_pill,c;t[0]!==l?(c=[u.pill,l],t[0]=l,t[1]=c):c=t[1];var d;return t[2]!==n||t[3]!==a||t[4]!==c?(d=s.jsx(r("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:c,children:n}),t[2]=n,t[3]=a,t[4]=c,t[5]=d):d=t[5],d}l.default=c}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(t,n,a,l){var c=o("react-compiler-runtime").c(9),m=(u||(u=r("useReStore")))(),p=o("MWPActor.react").useActor(),_=o("MWMDotMeReferrerContext.react").useMDotMeReferrer(),f,g;return c[0]!==p||c[1]!==m||c[2]!==l||c[3]!==a||c[4]!==_||c[5]!==t||c[6]!==n?(f=function(c,f){var u=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,a),g=c!=null?(e||(e=o("I64"))).equal(c.ctaType,(s||(s=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED))&&c.ctaId===f.ctaId:!1,h=r("gkx")("6771")&&c!=null&&(e||(e=o("I64"))).equal(c.ctaType,(s||(s=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").ICEBREAKER))&&c.ctaId===f.ctaId,y=g||h?_:void 0;r("promiseDone")(m.runInTransaction(function(e){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(e),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:l!=null?l:void 0,mark_read:!0,platform_ref:y,platform_token:f.platformToken,power_up_style:(s||(s=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),source:u}),mailboxType:s.ofNumber(r("LSMailboxType").MESSENGER),senderId:p,text:f.title,threadKey:t,threadType:n})},"readwrite",void 0,void 0,i.id+":79"));var C=(e||(e=o("I64"))).to_string(t);if(g)r("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:C}}});else{var b,v=(b=f.ctaIdentifier)!=null?b:"";r("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:C},quick_reply:{id:v,type:64}}})}r("MessageSendClickFalcoEvent").log(d)},g=[t,a,_,m,p,n,l],c[0]=p,c[1]=m,c[2]=l,c[3]=a,c[4]=_,c[5]=t,c[6]=n,c[7]=f,c[8]=g):(f=c[7],g=c[8]),o("Int64Hooks").useCallbackInt64(f,g)}function d(){return{message_send_source:{entry_point:o("LsFalcoEventEntryPoint").icebreaker}}}l.default=c}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","react-compiler-runtime","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useState;function m(e){var t=o("react-compiler-runtime").c(21),n=e.initiatingSource,a=e.lsSource,i=e.nullstateCtas,l=e.threadKey,s=e.threadType,m=a===void 0?"unknown":a,_=r("useMWV2SendIcebreakerMessage")(l,s,m,n),f;t[0]!==i?(f=i.map(p),t[0]=i,t[1]=f):f=t[1];var g=f,h=d(!1),y=h[0],C=h[1],b,v;t[2]!==g||t[3]!==y||t[4]!==l?(b=function(){if(!y&&g.length>0){C(!0);var e=(u||(u=o("I64"))).to_string(l);r("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:g,num_items:g.length,type:60},page:{id:e}}})}},v=[y,g,l],t[2]=g,t[3]=y,t[4]=l,t[5]=b,t[6]=v):(b=t[5],v=t[6]);var S=o("Int64Hooks").useCallbackInt64(b,v),R;t[7]!==S?(R={onVisible:S},t[7]=S,t[8]=R):R=t[8];var L=r("useVisibilityObserver")(R),E;t[9]===Symbol.for("react.memo_cache_sentinel")?(E={className:"x1n2onr6 xh8yej3 x1eb86dx"},t[9]=E):E=t[9];var k;t[10]===Symbol.for("react.memo_cache_sentinel")?(k={className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"},t[10]=k):k=t[10];var I;if(t[11]!==i||t[12]!==_){var T;t[14]!==_?(T=function(t){return t.ctaType==="nullstate_icebreaker"?c.jsx("li",{className:"xamitd3 xsag5q8 xpdmqnj x1g0dm76 x2b8uid",children:c.jsx(r("MWV2ThreadNullstatePill.react"),{onClick:function(){return _(void 0,t)},children:t.title})},(u||(u=o("I64"))).to_string(t.ctaId)):null},t[14]=_,t[15]=T):T=t[15],I=i.map(T),t[11]=i,t[12]=_,t[13]=I}else I=t[13];var D;t[16]!==I?(D=c.jsx("ul",babelHelpers.extends({},k,{children:I})),t[16]=I,t[17]=D):D=t[17];var x;return t[18]!==L||t[19]!==D?(x=c.jsx("div",babelHelpers.extends({},E,{ref:L,children:D})),t[18]=L,t[19]=D,t[20]=x):x=t[20],x}function p(e){return e.ctaIdentifier}function _(t){var n=o("react-compiler-runtime").c(8),a=r("useStable")(f),l=(e||(e=r("useReStore")))(),s;n[0]!==l.tables.threads||n[1]!==t.threadKey?(s=function(){return o("ReQL").fromTableAscending(l.tables.threads,["lastActivityTimestampMs"]).getKeyRange(t.threadKey)},n[0]=l.tables.threads,n[1]=t.threadKey,n[2]=s):s=n[2];var d;n[3]!==l||n[4]!==t.threadKey?(d=[l,t.threadKey],n[3]=l,n[4]=t.threadKey,n[5]=d):d=n[5];var p=o("ReQLSuspense").useFirst(s,d,i.id+":127");if(p==null||t.nullstateCtas.length===0||a-(u||(u=o("I64"))).to_int32(p.lastActivityTimestampMs)<216e5)return null;var _;return n[6]!==t?(_=c.jsx(m,babelHelpers.extends({},t)),n[6]=t,n[7]=_):_=n[7],_}function f(){return o("ServerTime").getMillis()}l.default=_}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};a.exports=e}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react"));function c(t){var a,i=o("react-compiler-runtime").c(6),l=t.eligiblePromotions;r("vulture")("0TdUJNsuK0z8O37TFUJw0JdAeUo=");var s=o("CometRelay").useFragment(e!==void 0?e:e=n("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),l),c=s==null||(a=s.nodes[0])==null||(a=a.comet_qp_sections)==null?void 0:a.renderer_strategy,d;i[0]===Symbol.for("react.memo_cache_sentinel")?(d={context_surface_id:8783,context_trigger:"messenger_thread_open"},i[0]=d):d=i[0];var m=r("useQuickPromotionFalcoEvent")(d);if(c==null)return null;var p;i[1]!==c?(p=u.jsx(o("CometRelay").MatchContainer,{match:c}),i[1]=c,i[2]=p):p=i[2];var _;return i[3]!==m||i[4]!==p?(_=u.jsx(r("CometQuickPromotionLoggerContext.react").Provider,{value:m,children:p}),i[3]=m,i[4]=p,i[5]=_):_=i[5],_}l.default=c}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(t,n,r,o,a,i){"use strict";var e=(function(){var e=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],t=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:e,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:e,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:t,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"24262581233432542",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}})();n("relay-runtime").PreloadableQueryRegistry.set(e.params.id,e),a.exports=e}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function p(e){switch(e){case"ChatTab":return d;default:return m}}function _(t){var a,i=t.communityId,l=t.fbGroupId,s=t.threadId,d=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),m=p(d),_=o("CometRelay").useLazyLoadQuery(e!==void 0?e:e=n("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:i!=null?(u||(u=o("I64"))).to_string(i):null,fb_group_id:o("MWCMGetValidId").MWCMHasValidFbGroupId(l)?(u||(u=o("I64"))).to_string(l):null,thread_id:(u||(u=o("I64"))).to_string(s),trigger:m}),f=_==null||(a=_.viewer)==null?void 0:a.eligible_promotions;return f==null?null:c.jsx(r("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:f})}_.displayName=_.name+" [from "+i.id+"]";function f(e){return c.jsx(r("CometErrorBoundary.react"),{fallback:r("emptyFunction"),children:c.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:c.jsx(_,babelHelpers.extends({},e))})})}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("useMWV2SendMultiStepAutomationMessage",["Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react-compiler-runtime","useAsyncReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n,a,l){var s=o("react-compiler-runtime").c(8),u=r("useAsyncReStore")(),c=o("MWPActor.react").useActor(),d,m;return s[0]!==c||s[1]!==u||s[2]!==l||s[3]!==a||s[4]!==t||s[5]!==n?(d=function(d){var s=o("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(t,a);r("promiseDone")(u.then(function(a){return a.runInTransaction(function(a){return r("LSOptimisticSendMessageV2StoredProcedure")(r("LSFactory")(a),{extraSendMessageParams:o("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:l!=null?l:void 0,mark_read:!0,platform_ref:void 0,platform_token:void 0,power_up_style:(e||(e=o("LSIntEnum"))).ofNumber(r("MessagePowerUp").NONE),source:s}),mailboxType:e.ofNumber(r("LSMailboxType").MESSENGER),senderId:c,text:d==null?void 0:d.followupQuestion,threadKey:t,threadType:n})},"readwrite",void 0,void 0,i.id+":50")}))},m=[t,a,u,c,n,l],s[0]=c,s[1]=u,s[2]=l,s[3]=a,s[4]=t,s[5]=n,s[6]=d,s[7]=m):(d=s[6],m=s[7]),o("Int64Hooks").useCallbackInt64(d,m)}l.default=s}),98);
__d("MWV2MultiStepReplies.react",["I64","MWV2ThreadNullstatePill.react","react","react-compiler-runtime","useMWV2SendMultiStepAutomationMessage"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(8),n=e.initiatingSource,a=e.lsSource,i=e.multiStepReplies,l=e.threadKey,c=e.threadType,d=r("useMWV2SendMultiStepAutomationMessage")(l,c,a,n);if(i.length===0)return null;var m;t[0]===Symbol.for("react.memo_cache_sentinel")?(m={className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x14z9mp xat24cr x1lziwak x1eb86dx"},t[0]=m):m=t[0];var p;if(t[1]!==i||t[2]!==d){var _;t[4]!==d?(_=function(t){return u.jsx("div",{className:"xsag5q8 x2b8uid xamitd3 x1g0dm76 xpdmqnj",children:u.jsx(r("MWV2ThreadNullstatePill.react"),{onClick:function(){d(t)},children:t.followupQuestion})},(s||(s=o("I64"))).to_string(t.automationRuleId))},t[4]=d,t[5]=_):_=t[5],p=i.map(_),t[1]=i,t[2]=d,t[3]=p}else p=t[3];var f;return t[6]!==p?(f=u.jsx("div",babelHelpers.extends({},m,{children:p})),t[6]=p,t[7]=f):f=t[7],f}l.default=c}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPActor.react","MWPreloadedText","MWXText.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react")),c=e.useContext;function d(e){var t=o("react-compiler-runtime").c(2),n=e.nullstateCtas,a=c(r("MWPreloadedText")),i;t[0]===Symbol.for("react.memo_cache_sentinel")?(i=s._(/*BTDS*/"Tap to send"),t[0]=i):i=t[0];var l=i,d=n.length>0&&!o("MWPActor.react").isAPPlus();if(a.text!=null||!d)return null;var m;return t[1]===Symbol.for("react.memo_cache_sentinel")?(m=u.jsx("div",{className:"xmzvs34 xf159sx",children:u.jsx("div",{className:"x1hhzuzn",children:u.jsx(r("MWXText.react"),{align:"center",color:"secondary",isSemanticHeading:!1,type:"headline4",children:l})})}),t[1]=m):m=t[1],m}l.default=d}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react")),m=e.useContext;function p(e){var t=o("react-compiler-runtime").c(23),n=e.nullstate,a=e.threadKey,i=e.threadTitle,l=m(r("MWPreloadedText")),p=n.privacyText,g=n.privacyTextCtaTitle,h=n.privacyTextNonWelcomeScreen,y;if(t[0]!==i){var C;t[2]===Symbol.for("react.memo_cache_sentinel")?(C=d.jsx(r("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:d.jsx(r("MWXText.react"),{type:"body4",children:s._(/*BTDS*/"public info")})}),t[2]=C):C=t[2],y=s._(/*BTDS*/"When you send a message, {name} will see your {= public info link}.",[s._param("name",i),s._param("= public info link",C)]),t[0]=i,t[1]=y}else y=t[1];var b=y,v;t[3]===Symbol.for("react.memo_cache_sentinel")?(v=r("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),t[3]=v):v=t[3];var S=r("useMWXLazyDialog")(v),R=S[0],L;t[4]!==R||t[5]!==a?(L=function(){R({entryPoint:"NULL_STATE",threadKey:a},_),r("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(u||(u=o("I64"))).to_string(a)}})},t[4]=R,t[5]=a,t[6]=L):L=t[6];var E;t[7]!==g?(E=g!=null?d.jsx(f,{children:g}):null,t[7]=g,t[8]=E):E=t[8];var k;t[9]!==L||t[10]!==E?(k=d.jsx(r("MWXLink.react"),{color_DEPRECATED:"blueLink",onClick:L,role:"link",target:"_blank",children:E}),t[9]=L,t[10]=E,t[11]=k):k=t[11];var I=k,T=l.text!=null&&!!h,D;t[12]!==p||t[13]!==h||t[14]!==T?(D=T||p!=null?d.jsx(r("MWXText.react"),{color:"secondary",type:"body4",children:T?h:p}):null,t[12]=p,t[13]=h,t[14]=T,t[15]=D):D=t[15];var x=D,$;t[16]!==b||t[17]!==n.privacyTextCtaType||t[18]!==x||t[19]!==I?($=r("gkx")("24144")&&(u||(u=o("I64"))).equal(n.privacyTextCtaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").PRIVACY_DISCLOSURE))?d.jsxs(d.Fragment,{children:[x," ",I]}):b,t[16]=b,t[17]=n.privacyTextCtaType,t[18]=x,t[19]=I,t[20]=$):$=t[20];var P;return t[21]!==$?(P=d.jsx(r("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:$}),t[21]=$,t[22]=P):P=t[22],P}function _(){}function f(e){var t=o("react-compiler-runtime").c(2),n=e.children,r;return t[0]!==n?(r=d.jsx(d.Fragment,{children:n}),t[0]=n,t[1]=r):r=t[1],r}l.default=p}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","react-compiler-runtime","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=s||(s=o("react")),m=s.useState,p={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",$$css:!0}};function _(t){var n=o("react-compiler-runtime").c(20),a=t.initiatingSource,i=t.lsSource,l=t.nullstate,s=t.nullstateCtas,_=t.threadKey,g=t.threadType,h=r("useMWV2SendIcebreakerMessage")(_,g,i,a),y;n[0]!==s?(y=s.map(f).filter(Boolean),n[0]=s,n[1]=y):y=n[1];var C=y,b=m(!1),v=b[0],S=b[1],R,L;n[2]!==C||n[3]!==v||n[4]!==_?(R=function(){if(!v&&C.length>0){S(!0);var e=(u||(u=o("I64"))).to_string(_);r("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:C,num_items:String(C.length),type:60},page:{id:e}}})}},L=[v,C,_],n[2]=C,n[3]=v,n[4]=_,n[5]=R,n[6]=L):(R=n[5],L=n[6]);var E=o("Int64Hooks").useCallbackInt64(R,L),k;n[7]!==E?(k={onVisible:E},n[7]=E,n[8]=k):k=n[8];var I=r("useVisibilityObserver")(k),T;n[9]===Symbol.for("react.memo_cache_sentinel")?(T={className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x14z9mp xat24cr x1lziwak"},n[9]=T):T=n[9];var D;if(n[10]!==l||n[11]!==s||n[12]!==h){var x;n[14]!==l||n[15]!==h?(x=function(n){var t=(u||(u=o("I64"))).equal(l.ctaType,(c||(c=o("LSIntEnum"))).ofNumber(r("LSNullstateCTAType").GET_STARTED))&&l.ctaId!=null&&(u||(u=o("I64"))).equal(l.ctaId,n.ctaId);return d.createElement("li",babelHelpers.extends({},(e||(e=r("stylex"))).props(p.cta_list_item,t?p.cta_list_item_center:!1),{key:(u||(u=o("I64"))).to_string(n.ctaId)}),d.jsx(r("MWV2ThreadNullstatePill.react"),{onClick:function(){return h(l,n)},children:n.title}))},n[14]=l,n[15]=h,n[16]=x):x=n[16],D=s.map(x),n[10]=l,n[11]=s,n[12]=h,n[13]=D}else D=n[13];var $;return n[17]!==I||n[18]!==D?($=d.jsx("ul",babelHelpers.extends({},T,{ref:I,children:D})),n[17]=I,n[18]=D,n[19]=$):$=n[19],$}function f(e){return e.ctaIdentifier}l.default=_}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPActor.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=e.useContext,c={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function d(e){var t=o("react-compiler-runtime").c(20),n=e.initiatingSource,a=e.lsSource,i=e.nullstate,l=e.nullstateCtas,d=e.threadKey,m=e.threadName,p=e.threadType,_=a===void 0?"unknown":a;r("vulture")("q7Wakip0TbVk0dSqOVTqueiO83k=");var f=u(r("MWPreloadedText")),g=i.privacyText,h;t[0]!==l?(h=s.jsx(r("MWThreadNullstateGreetingAndInstruction.react"),{nullstateCtas:l}),t[0]=l,t[1]=h):h=t[1];var y;t[2]!==n||t[3]!==_||t[4]!==i||t[5]!==l||t[6]!==f.text||t[7]!==d||t[8]!==p?(y=f.text!=null||o("MWPActor.react").isAPPlus()?null:s.jsx(r("MWV2ThreadNullstateCTAs.react"),{initiatingSource:n,lsSource:_,nullstate:i,nullstateCtas:l,threadKey:d,threadType:p}),t[2]=n,t[3]=_,t[4]=i,t[5]=l,t[6]=f.text,t[7]=d,t[8]=p,t[9]=y):y=t[9];var C;t[10]!==i||t[11]!==g||t[12]!==d||t[13]!==m||t[14]!==p?(C=g!=null?s.jsx("div",{className:"xx6bls6 xmzvs34 xf159sx",children:s.jsx(r("MWThreadNullstatePrivacyText.react"),{nullstate:i,threadKey:d,threadTitle:s.jsx(r("LSThreadTitle.react"),{thread:{threadKey:d,threadName:m,threadType:p}})})}):null,t[10]=i,t[11]=g,t[12]=d,t[13]=m,t[14]=p,t[15]=C):C=t[15];var b;if(t[16]!==h||t[17]!==y||t[18]!==C){var v=s.jsxs("div",{children:[h,y,C]});b=s.jsx(r("MWXScrollableArea.react"),{xstyle:c.privacy_text_offset,children:v}),t[16]=h,t[17]=y,t[18]=C,t[19]=b}else b=t[19];return b}var m=s.memo(d,o("Int64Hooks").mostlyShallowEqual);l.default=m}),98);
__d("SelectiveSyncTTRCLogger.react",["CometPlaceholder.react","I64","Int64Hooks","LSIntEnum","LSThreadPointQueryTTRCStatus","MWCMSelectiveSyncTTRCQPLLoggingUtils","Random","ReQL","ReQLSuspense","areEqual","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d,m=d||(d=o("react")),p=d.useRef;function _(t){var n=o("react-compiler-runtime").c(40),a=t.instanceKey,l=t.isReportThreadViewOpenSprocCalled,d=t.reportThreadViewOpenCalledTimestamp,m=t.setInstanceKey,_=t.threadKey,f=t.threadSubtype,g=t.threadType,h=p(!1),y=(e||(e=r("useReStore")))(),C;n[0]!==y.tables.messages||n[1]!==_?(C=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(y.tables.messages.index("messageDisplayOrder")).getKeyRange(_).take(20),i.id+":56"),n[0]=y.tables.messages,n[1]=_,n[2]=C):C=n[2];var b=C,v;n[3]!==y.tables.reactions||n[4]!==_?(v=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(y.tables.reactions).getKeyRange(_).take(20),i.id+":61"),n[3]=y.tables.reactions,n[4]=_,n[5]=v):v=n[5];var S=v,R;n[6]!==y.tables.reactions_v2||n[7]!==_?(R=o("ReQLSuspense").toArray(o("ReQL").fromTableDescending(y.tables.reactions_v2).getKeyRange(_).take(20),i.id+":64"),n[6]=y.tables.reactions_v2,n[7]=_,n[8]=R):R=n[8];var L=R,E;n[9]!==a||n[10]!==l||n[11]!==_||n[12]!==f||n[13]!==g?(E=function(){l===!1&&(h.current=!0,o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logEventStreamStart(a,_,g,f))},n[9]=a,n[10]=l,n[11]=_,n[12]=f,n[13]=g,n[14]=E):E=n[14];var k;n[15]!==a||n[16]!==l||n[17]!==d||n[18]!==_||n[19]!==f||n[20]!==g?(k=[a,l,d,_,f,g],n[15]=a,n[16]=l,n[17]=d,n[18]=_,n[19]=f,n[20]=g,n[21]=k):k=n[21],o("Int64Hooks").useEffectInt64(E,k);var I=p(b),T=p(S),D=p(L),x=o("MWCMSelectiveSyncTTRCQPLLoggingUtils").useTPQEntry(_),$;n[22]!==a||n[23]!==b||n[24]!==S||n[25]!==L||n[26]!==d||n[27]!==m||n[28]!==(x==null?void 0:x.dasmExecutionTimestampMs)||n[29]!==(x==null?void 0:x.deltaInsertionTimestampMs)||n[30]!==(x==null?void 0:x.status)?($=function(){var e=x==null?void 0:x.status,t=x==null?void 0:x.deltaInsertionTimestampMs,n=x==null?void 0:x.dasmExecutionTimestampMs;if(h.current===!0&&d!==0){if(e!=null&&(u||(u=o("I64"))).equal(e,(c||(c=o("LSIntEnum"))).ofNumber(r("LSThreadPointQueryTTRCStatus").SKIPPED)))o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logSkippedEndSuccess(a),h.current=!1,m(r("Random").uint32());else if(e!=null&&(u||(u=o("I64"))).equal(e,(c||(c=o("LSIntEnum"))).ofNumber(r("LSThreadPointQueryTTRCStatus").COMPLETED))&&t!=null&&(u||(u=o("I64"))).to_float(t)>d){o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(a,"selective_sync_remediation_end");var i=!o("MWCMSelectiveSyncTTRCQPLLoggingUtils").isMessageDataUnchanged(I.current,b),l=!(s||(s=r("areEqual")))(T.current,S),p=!s(D.current,L);i||l||p?o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(a,"true",n!=null?(u||(u=o("I64"))).to_float(n):void 0):o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logCompleteEndSuccess(a,"false",t!=null?(u||(u=o("I64"))).to_float(t):void 0),I.current=b,T.current=S,D.current=L,h.current=!1,m(r("Random").uint32())}}},n[22]=a,n[23]=b,n[24]=S,n[25]=L,n[26]=d,n[27]=m,n[28]=x==null?void 0:x.dasmExecutionTimestampMs,n[29]=x==null?void 0:x.deltaInsertionTimestampMs,n[30]=x==null?void 0:x.status,n[31]=$):$=n[31];var P;return n[32]!==a||n[33]!==b||n[34]!==S||n[35]!==L||n[36]!==d||n[37]!==m||n[38]!==x?(P=[a,b,S,L,d,m,x],n[32]=a,n[33]=b,n[34]=S,n[35]=L,n[36]=d,n[37]=m,n[38]=x,n[39]=P):P=n[39],o("Int64Hooks").useEffectInt64($,P),null}function f(e){var t=o("react-compiler-runtime").c(2),n;return t[0]!==e?(n=m.jsx(r("CometPlaceholder.react"),{fallback:null,name:"SelectiveSyncTTRCLogger",children:m.jsx(_,babelHelpers.extends({},e))}),t[0]=e,t[1]=n):n=t[1],n}l.default=f}),98);
__d("useReportThreadViewOpenDebounced",["LSFactory","LSReportThreadViewOpenStoredProcedure","promiseDone","react-compiler-runtime","useDebouncedComet","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t,n){var a=o("react-compiler-runtime").c(5),l=(e||(e=r("useReStore")))(),s;a[0]!==l||a[1]!==t?(s=function(){r("promiseDone")(l.runInTransaction(function(e){return r("LSReportThreadViewOpenStoredProcedure")(r("LSFactory")(e),{threadKey:t})},"readwrite",void 0,void 0,i.id+":33"))},a[0]=l,a[1]=t,a[2]=s):s=a[2];var u;return a[3]!==n?(u={leading:!0,wait:n},a[3]=n,a[4]=u):u=a[4],r("useDebouncedComet")(s,u)}l.default=s}),98);
__d("useMWReportThreadOpenOnMountAndFocusWithLogger",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWCMSelectiveSyncTTRCQPLLoggingUtils","MetaConfig","Random","SelectiveSyncTTRCLogger.react","ServerTime","VisibilityAPI","mwCMIsAnyCMThread","react","useReStore","useReportThreadViewOpenDebounced"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=u||(u=o("react")),d=u,m=d.useRef,p=d.useState,_=r("MetaConfig")._("43");function f(t,n){var a=(e||(e=r("useReStore")))(),i=p(0),l=i[0],u=i[1],d=p(o("Random").uint32()),f=d[0],g=d[1],h=r("mwCMIsAnyCMThread")(t.threadType),y=m(!1),C=h||r("MetaConfig")._("55")&&(o("LSMessagingThreadTypeUtil").isSocialChannelV2(t.threadType)||o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(t.threadType)),b=r("useReportThreadViewOpenDebounced")(t.threadKey,n!=null?n:_);return o("Int64Hooks").useEffectInt64(function(){var e=null;return C&&(e=o("VisibilityAPI").onVisibilityChange(function(){o("VisibilityAPI").isVisibilityHidden()||b()}),h&&o("GroupsCometChatsEngagementLogger").log({action:"background_effect",community_id:(s||(s=o("I64"))).to_string(t.parentThreadKey),event:"report_thread_view_open",source:"blended_threadlist_community_tab",surface:"thread_view",thread_id:(s||(s=o("I64"))).to_string(t.threadKey)}),y.current===!1&&(u(o("ServerTime").getMillis()),y.current=!0,o("MWCMSelectiveSyncTTRCQPLLoggingUtils").logPoint(f,"selective_sync_remediation_start"),b())),function(){e!=null&&o("VisibilityAPI").removeVisibiltyChangeListener(e)}},[a,t.parentThreadKey,t.threadKey,t.threadType,h,f,C,b]),C?c.jsx(r("SelectiveSyncTTRCLogger.react"),{instanceKey:f,isReportThreadViewOpenSprocCalled:y.current,reportThreadViewOpenCalledTimestamp:l,setInstanceKey:g,threadKey:t.threadKey,threadSubtype:t.threadSubtype,threadType:t.threadType}):null}f.displayName=f.name+" [from "+i.id+"]",l.default=f}),98);
__d("useVerifyReachabilityBannerEligible",["CurrentUser","I64","Int64Hooks","LSAuthorityLevel","LSContactReachabilityStatusType","LSFactory","LSIntEnum","LSVerifyReachabilityBannerEligibleStoredProcedure","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t){var n=o("react-compiler-runtime").c(15),a=o("MWPActor.react").useActor(),l=(e||(e=r("useReStore")))(),c;n[0]!==t.authorityLevel||n[1]!==t.threadSubtype?(c=(o("MWPActor.react").isAPPlus()||r("CurrentUser").isBusinessDomain())&&(s||(s=o("LSIntEnum"))).toNumber(t.authorityLevel)>r("LSAuthorityLevel").CLIENT_PARTIAL&&(s||(s=o("LSIntEnum"))).equal(t.threadSubtype,r("MessagingThreadSubtype").PAGE_TO_PAGE),n[0]=t.authorityLevel,n[1]=t.threadSubtype,n[2]=c):c=n[2];var m=c,_,f;n[3]!==a||n[4]!==l||n[5]!==m||n[6]!==t.threadKey?(_=function(){return m?o("ReQL").mergeJoin(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(t.threadKey),o("ReQL").fromTableAscending(l.tables.contacts)).filter(function(e){var t=e[1];return!(u||(u=o("I64"))).equal(t.id,a)}).map(p):o("ReQL").empty()},f=[m,l,t.threadKey,a],n[3]=a,n[4]=l,n[5]=m,n[6]=t.threadKey,n[7]=_,n[8]=f):(_=n[7],f=n[8]);var g=o("ReQLSuspense").useFirst(_,f,i.id+":49"),h=g==null?void 0:g.id,y=d(g==null?void 0:g.contactReachabilityStatusType),C,b;n[9]!==h||n[10]!==l||n[11]!==m||n[12]!==t.threadKey?(C=function(){var e=y.current,n=e==null?0:(s||(s=o("LSIntEnum"))).toNumber(e);m&&h!=null&&(n===0||n===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER||n===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER||n===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED||n===r("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER)&&r("promiseDone")(l.runInTransaction(function(e){return r("LSVerifyReachabilityBannerEligibleStoredProcedure")(r("LSFactory")(e),{contactId:h,contactReachabilityStatusType:(s||(s=o("LSIntEnum"))).ofNumber(n),threadKey:t.threadKey})},"readwrite",void 0,void 0,i.id+":90"))},b=[m,l,h,y,t.threadKey],n[9]=h,n[10]=l,n[11]=m,n[12]=t.threadKey,n[13]=C,n[14]=b):(C=n[13],b=n[14]),o("Int64Hooks").useEffectInt64(C,b)}function p(e){var t=e[1];return t}l.default=m}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWContextBannerWithKeyboardFocus.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2MultiStepReplies.react","MWV2ThreadNullstate.react","MessagingThreadSubtype","ReQL","ReQLSuspense","cr:1600","cr:4723","cr:5483","cr:9056","justknobx","logMessengerWebFalcoEvent","promiseDone","react","react-compiler-runtime","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","useMarketingMessageImpressionLogging","usePageletMetadata","useReStore","useVerifyReachabilityBannerEligible"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=r("CometDebounce")(r("logMessengerWebFalcoEvent")),p=r("justknobx")._("1024");function _(t){var n=o("react-compiler-runtime").c(11),a=(e||(e=r("useReStore")))(),l,s;n[0]!==a||n[1]!==t?(l=function(){return o("MWPreloadableQueries").threadNullStateQuery(a,t)},s=[a,t],n[0]=a,n[1]=t,n[2]=l,n[3]=s):(l=n[2],s=n[3]);var u=o("ReQLSuspense").useFirst(l,s,i.id+":100"),c,d;n[4]!==a||n[5]!==t?(c=function(){return o("MWPreloadableQueries").threadNullStateCtaQuery(a,t)},d=[a,t],n[4]=a,n[5]=t,n[6]=c,n[7]=d):(c=n[6],d=n[7]);var m=o("ReQLSuspense").useArray(c,d,i.id+":107"),p;return n[8]!==u||n[9]!==m?(p=[u,m],n[8]=u,n[9]=m,n[10]=p):p=n[10],p}function f(t,n){var a=o("react-compiler-runtime").c(10),i=(e||(e=r("useReStore")))(),l;a[0]!==i.tables.messages||a[1]!==i.tables.reactions||a[2]!==i.tables.threads||a[3]!==n||a[4]!==t?(l=function(){r("promiseDone")((async function(){var e,r=await Promise.all([(e=o("ReQL")).firstAsync(e.fromTableDescending(i.tables.threads).getKeyRange(t)),e.firstAsync(e.fromTableDescending(i.tables.messages).getKeyRange(t)),e.toArrayAsync(e.fromTableDescending(i.tables.reactions).getKeyRange(t).take(20))]),a=r[0],l=r[1],u=r[2];if(!(l==null||a==null)){var c=u.reduce(g,(s||(s=o("I64"))).zero),d=s.max(l.timestampMs,c),p=s.compare(d,a.lastActivityTimestampMs)>-1;m({threadKey:a.threadKey,threadType:a.threadType},"thread_and_message_list_last_activity_mismatch",n,{hasMissingMessage:!p,threadLastActivityTimeMs:s.to_string(a.lastActivityTimestampMs),threadLastMessageTimeMs:s.to_string(d)})}})())},a[0]=i.tables.messages,a[1]=i.tables.reactions,a[2]=i.tables.threads,a[3]=n,a[4]=t,a[5]=l):l=a[5];var u;a[6]!==i||a[7]!==n||a[8]!==t?(u=[i,n,t],a[6]=i,a[7]=n,a[8]=t,a[9]=u):u=a[9],o("Int64Hooks").useEffectInt64(l,u)}function g(e,t){var n;return(s||(s=o("I64"))).max(e,(n=t.reactionCreationTimestampMs)!=null?n:(s||(s=o("I64"))).zero)}function h(t){var n=o("react-compiler-runtime").c(16),a=(e||(e=r("useReStore")))(),l;n[0]!==a.tables.messages||n[1]!==t?(l=function(){return o("ReQL").fromTableDescending(a.tables.messages).getKeyRange(t)},n[0]=a.tables.messages,n[1]=t,n[2]=l):l=n[2];var s;n[3]!==a||n[4]!==t?(s=[a,t],n[3]=a,n[4]=t,n[5]=s):s=n[5];var u=o("ReQLSuspense").useFirst(l,s,i.id+":177"),c;n[6]!==a.tables.multi_step_replies||n[7]!==t||n[8]!==(u==null?void 0:u.messageId)?(c=function(){return o("ReQL").fromTableDescending(a.tables.multi_step_replies).getKeyRange(t).filter(function(e){return e.messageId===(u==null?void 0:u.messageId)})},n[6]=a.tables.multi_step_replies,n[7]=t,n[8]=u==null?void 0:u.messageId,n[9]=c):c=n[9];var d;n[10]!==a||n[11]!==t||n[12]!==u?(d=[a,t,u],n[10]=a,n[11]=t,n[12]=u,n[13]=d):d=n[13];var m=o("ReQLSuspense").useArray(c,d,i.id+":180"),p;return n[14]!==m?(p=[m],n[14]=m,n[15]=p):p=n[15],p}function y(t){var a,l=o("react-compiler-runtime").c(108),c=t.entryPoint,m=t.messageListRef,g=t.thread,y=(e||(e=r("useReStore")))(),b=_(g.threadKey),v=b[0],S=b[1],R=h(g.threadKey),L=R[0],E;l[0]!==y.tables.cm_channel_list||l[1]!==g.threadKey?(E=function(){return o("ReQL").fromTableAscending(y.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(g.threadKey)},l[0]=y.tables.cm_channel_list,l[1]=g.threadKey,l[2]=E):E=l[2];var k;l[3]!==y||l[4]!==g.threadKey?(k=[y,g.threadKey],l[3]=y,l[4]=g.threadKey,l[5]=k):k=l[5];var I=o("ReQLSuspense").useFirst(E,k,i.id+":218"),T=(a=o("ReQLSuspense").useFirst(function(){return o("ReQL").fromTableAscending(y.tables.threads,["lastActivityTimestampMs"]).getKeyRange(g.threadKey).map(C)},[y,g.threadKey],i.id+":227"))!=null?a:!1,D=o("MWPActor.react").useActor(),x;l[6]!==D||l[7]!==y.tables.messages||l[8]!==g.threadKey?(x=function(){return o("ReQL").fromTableAscending(y.tables.messages,["senderId"]).getKeyRange(g.threadKey).filter(function(e){var t=e.senderId;return(s||(s=o("I64"))).equal(t,D)})},l[6]=D,l[7]=y.tables.messages,l[8]=g.threadKey,l[9]=x):x=l[9];var $;l[10]!==D||l[11]!==y||l[12]!==g.threadKey?($=[y,g.threadKey,D],l[10]=D,l[11]=y,l[12]=g.threadKey,l[13]=$):$=l[13];var P=o("ReQLSuspense").useFirst(x,$,i.id+":241")!=null,N;l[14]!==g.threadType?(N=(s||(s=o("I64"))).to_string(g.threadType),l[14]=g.threadType,l[15]=N):N=l[15],r("usePageletMetadata")("threadType",N);var M;l[16]===Symbol.for("react.memo_cache_sentinel")?(M=o("MWPActor.react").isAPPlus(),l[16]=M):M=l[16];var w=M,A;l[17]!==g.threadType?(A=o("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(g.threadType),l[17]=g.threadType,l[18]=A):A=l[18];var F=A,O=r("useLSMessagingInitiatingSource")(),B;l[19]!==g?(B=n("cr:9056")!=null?d.jsx(n("cr:9056"),{thread:g}):null,l[19]=g,l[20]=B):B=l[20];var W=B,q;l[21]!==g.threadType?(q=o("MWCMThreadTypes.react").isJoinedCMThread(g.threadType),l[21]=g.threadType,l[22]=q):q=l[22];var U=q,V;l[23]!==U||l[24]!==g?(V=o("LSThreadBitOffset").has(167,g)&&U,l[23]=U,l[24]=g,l[25]=V):V=l[25];var H=V,G;l[26]!==g?(G=o("LSThreadBitOffset").has(193,g),l[26]=g,l[27]=G):G=l[27];var z=G,j,K;l[28]!==y||l[29]!==H||l[30]!==g.threadKey?(j=function(){H&&r("promiseDone")(y.runInTransaction(function(e){return r("LSFetchAdditionalThreadDataStoredProcedure")(r("LSFactory")(e),{threadKey:g.threadKey})},"readwrite",void 0,void 0,i.id+":274"))},K=[y,g.threadKey,H],l[28]=y,l[29]=H,l[30]=g.threadKey,l[31]=j,l[32]=K):(j=l[31],K=l[32]),o("Int64Hooks").useEffectInt64(j,K),r("useVerifyReachabilityBannerEligible")(g);var Q,X;l[33]!==O||l[34]!==L||l[35]!==S||l[36]!==g.threadKey||l[37]!==g.threadType?(Q=function(){return d.jsxs(d.Fragment,{children:[d.jsx(r("MWPQuickReplies.react"),{threadKey:g.threadKey}),d.jsx(r("MWPersistentIcebreakers"),{initiatingSource:O,lsSource:"inboxInThread",nullstateCtas:S,threadKey:g.threadKey,threadType:g.threadType}),p&&d.jsx(r("MWV2MultiStepReplies.react"),{initiatingSource:O,lsSource:"inboxInThread",multiStepReplies:L,threadKey:g.threadKey,threadType:g.threadType})]})},X=[g.threadKey,g.threadType,O,L,S],l[33]=O,l[34]=L,l[35]=S,l[36]=g.threadKey,l[37]=g.threadType,l[38]=Q,l[39]=X):(Q=l[38],X=l[39]);var Y=o("Int64Hooks").useCallbackInt64(Q,X),J,Z;l[40]!==g.threadKey||l[41]!==g.threadType?(J=function(){return d.jsxs(o("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),d.jsx(r("MWContextBannerWithKeyboardFocus.react"),{threadKey:g.threadKey,threadType:g.threadType}),d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},Z=[g.threadKey,g.threadType],l[40]=g.threadKey,l[41]=g.threadType,l[42]=J,l[43]=Z):(J=l[42],Z=l[43]);var ee=o("Int64Hooks").useCallbackInt64(J,Z);f(g.threadKey,c);var te=r("useCommunityFolder")(g),ne=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),re=ne!=null&&ne==="ChatTab",oe;l[44]!==(I==null?void 0:I.channelPrivacy)?(oe=(I==null?void 0:I.channelPrivacy)!=null&&(s||(s=o("I64"))).equal(I==null?void 0:I.channelPrivacy,(u||(u=o("LSIntEnum"))).ofNumber(2)),l[44]=I==null?void 0:I.channelPrivacy,l[45]=oe):oe=l[45];var ae=oe,ie;l[46]!==g.authorityLevel?(ie=(s||(s=o("I64"))).ge(g.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)),l[46]=g.authorityLevel,l[47]=ie):ie=l[47];var le=ie,se;l[48]!==re||l[49]!==g?(se=n("cr:4723")!=null&&!re?d.jsx(n("cr:4723"),{thread:g}):null,l[48]=re,l[49]=g,l[50]=se):se=l[50];var ue=se,ce;l[51]!==z?(ce=r("MWChatXACSunsettingBanner.react")!=null&&z?d.jsx(r("MWChatXACSunsettingBanner.react"),{}):null,l[51]=z,l[52]=ce):ce=l[52];var de=ce,me;l[53]!==ae||l[54]!==U||l[55]!==g.parentThreadKey?(me=n("cr:5483")!=null&&U&&!ae?d.jsx(r("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:d.jsx(n("cr:5483"),{folderId:g.parentThreadKey})}):null,l[53]=ae,l[54]=U,l[55]=g.parentThreadKey,l[56]=me):me=l[56];var pe=me,_e;l[57]!==(te==null?void 0:te.fbGroupId)||l[58]!==(te==null?void 0:te.folderId)||l[59]!==le||l[60]!==g.threadKey?(_e=le?d.jsx(r("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:te==null?void 0:te.folderId,fbGroupId:te==null?void 0:te.fbGroupId,threadId:g.threadKey}):null,l[57]=te==null?void 0:te.fbGroupId,l[58]=te==null?void 0:te.folderId,l[59]=le,l[60]=g.threadKey,l[61]=_e):_e=l[61];var fe=_e,ge=r("useMWReportThreadOpenOnMountAndFocusWithLogger")(g);if(v!=null&&!T){var he;l[62]!==g?(he=d.jsx(r("MWCMAutoJoinNotifNUX.react"),{thread:g}),l[62]=g,l[63]=he):he=l[63];var ye;l[64]!==g.threadKey||l[65]!==g.threadType?(ye=d.jsx(r("MWContextBanner.react"),{threadKey:g.threadKey,threadType:g.threadType}),l[64]=g.threadKey,l[65]=g.threadType,l[66]=ye):ye=l[66];var Ce;l[67]===Symbol.for("react.memo_cache_sentinel")?(Ce=d.jsx(o("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l[67]=Ce):Ce=l[67];var be;l[68]!==O||l[69]!==v||l[70]!==S||l[71]!==g.threadKey||l[72]!==g.threadName||l[73]!==g.threadType?(be=d.jsx(r("MWV2ThreadNullstate.react"),{initiatingSource:O,lsSource:"inboxInThread",nullstate:v,nullstateCtas:S,threadKey:g.threadKey,threadName:g.threadName,threadType:g.threadType}),l[68]=O,l[69]=v,l[70]=S,l[71]=g.threadKey,l[72]=g.threadName,l[73]=g.threadType,l[74]=be):be=l[74];var ve;return l[75]!==W||l[76]!==de||l[77]!==pe||l[78]!==ue||l[79]!==fe||l[80]!==ge||l[81]!==he||l[82]!==ye||l[83]!==be?(ve=d.jsxs(d.Fragment,{children:[ge,fe,W,he,pe,de,ue,ye,Ce,be]}),l[75]=W,l[76]=de,l[77]=pe,l[78]=ue,l[79]=fe,l[80]=ge,l[81]=he,l[82]=ye,l[83]=be,l[84]=ve):ve=l[84],ve}var Se;l[85]!==g?(Se=d.jsx(r("MWCMAutoJoinNotifNUX.react"),{thread:g}),l[85]=g,l[86]=Se):Se=l[86];var Re;l[87]===Symbol.for("react.memo_cache_sentinel")?(Re=d.jsx(r("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),l[87]=Re):Re=l[87];var Le;l[88]!==c||l[89]!==P||l[90]!==m||l[91]!==Y||l[92]!==ee||l[93]!==g?(Le=d.jsx(r("MWMessageList"),{entryPoint:c,hasUserSentMessage:P,ref:m,renderFooter:Y,renderHeader:ee,thread:g}),l[88]=c,l[89]=P,l[90]=m,l[91]=Y,l[92]=ee,l[93]=g,l[94]=Le):Le=l[94];var Ee;l[95]!==F||l[96]!==g?(Ee=w&&F&&n("cr:1600")!=null?d.jsx(n("cr:1600"),{thread:g}):null,l[95]=F,l[96]=g,l[97]=Ee):Ee=l[97];var ke;return l[98]!==W||l[99]!==de||l[100]!==pe||l[101]!==ue||l[102]!==fe||l[103]!==ge||l[104]!==Se||l[105]!==Le||l[106]!==Ee?(ke=d.jsxs(d.Fragment,{children:[ge,fe,W,Se,de,pe,Re,ue,Le,Ee]}),l[98]=W,l[99]=de,l[100]=pe,l[101]=ue,l[102]=fe,l[103]=ge,l[104]=Se,l[105]=Le,l[106]=Ee,l[107]=ke):ke=l[107],ke}function C(e){var t=e.lastActivityTimestampMs;return!(s||(s=o("I64"))).equal(t,s.zero)}function b(e){var t=o("react-compiler-runtime").c(10),n=e.entryPoint,a=e.messageListRef,i=e.thread,l;if(t[0]!==i.threadSubtype){var u;l=(s||(s=o("I64"))).equal((u=i.threadSubtype)!=null?u:(s||(s=o("I64"))).zero,s.of_int32(r("MessagingThreadSubtype").PAGE_TO_USER)),t[0]=i.threadSubtype,t[1]=l}else l=t[1];var c=l,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(m="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",t[2]=m):m=t[2];var p;t[3]!==n||t[4]!==a||t[5]!==i?(p=d.jsx(o("CometPageletWithDiv.react").Div,{className:m,name:"MWOpenThreadDetail",children:d.jsx(y,{entryPoint:n,messageListRef:a,thread:i})}),t[3]=n,t[4]=a,t[5]=i,t[6]=p):p=t[6];var _=p,f;return t[7]!==_||t[8]!==c?(f=c?d.jsx(o("useMarketingMessageImpressionLogging").MarketingMessageAttributionProvider,{children:_}):_,t[7]=_,t[8]=c,t[9]=f):f=t[9],f}l.default=b}),98);
__d("MWThreadLiveLocationSessionsContextProvider.react",["MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=e||(e=r("react")),d=u.useCallback,m=u.useMemo,p=u.useState;function _(e){var t=o("react-compiler-runtime").c(10),n=e.children,r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r={},t[0]=r):r=t[0];var a=p(r),i=a[0],l=a[1],s;t[1]===Symbol.for("react.memo_cache_sentinel")?(s=function(t,n,r){l(function(e){var o=e[t];if(o==null||o.eventTimeStamp<r){var a;return babelHelpers.extends({},e,(a={},a[t]={encryptionKey:n,eventTimeStamp:r},a))}return e})},t[1]=s):s=t[1];var u=s,d;t[2]!==i?(d={sessions:i},t[2]=i,t[3]=d):d=t[3];var m=d,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(_={addOrUpdateSession:u},t[4]=_):_=t[4];var f=_,g;t[5]!==n?(g=c.jsx(o("MWThreadLiveLocationSessionsSetterContext.react").MAWThreadLiveLocationSessionsSetterContext.Provider,{value:f,children:n}),t[5]=n,t[6]=g):g=t[6];var h;return t[7]!==m||t[8]!==g?(h=c.jsx(o("MWThreadLiveLocationSessionsStateContext.react").MAWThreadLiveLocationSessionsStateContext.Provider,{value:m,children:g}),t[7]=m,t[8]=g,t[9]=h):h=t[9],h}l.default=_}),98);
__d("useMinosMailboxKeyFetch",["EBMinosInterfaceTypes","I64","MAWBridgeFireAndForget","ReQL","ReQLSuspense","WAJids","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(e||(e=o("react"))).useEffect;function c(e,t,n){var a=o("react-compiler-runtime").c(10),l;a[0]!==e.tables.participants||a[1]!==t?(l=function(){return o("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(t).map(d)},a[0]=e.tables.participants,a[1]=t,a[2]=l):l=a[2];var s;a[3]!==e||a[4]!==t?(s=[e,t],a[3]=e,a[4]=t,a[5]=s):s=a[5];var c=o("ReQLSuspense").useArray(l,s,i.id+":31"),m,p;a[6]!==n||a[7]!==c?(m=function(){if(n&&r("gkx")("5887")!=null){var e=[];for(var t of c){var a=o("EBMinosInterfaceTypes").userJidToUserFbId(t);a!=null&&e.push(a)}e.length>0&&o("MAWBridgeFireAndForget").fireAndForget("backend","syncMailboxKeysForContactsInWorker",{userFbIds:e})}},p=[n,c],a[6]=n,a[7]=c,a[8]=m,a[9]=p):(m=a[8],p=a[9]),u(m,p)}function d(e){return o("WAJids").toMsgrUserJid((s||(s=o("I64"))).to_string(e.contactId))}l.default=c}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MWThreadLiveLocationSessionsContextProvider.react","MessengerWebUXLogger","cr:9772","promiseDone","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useMinosMailboxKeyFetch","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=c||(c=o("react")),m=c,p=m.memo,_=m.useEffect;function f(t){var a=o("react-compiler-runtime").c(30),i=t.entryPoint,l=t.mawSecureThreadQPContainerQueryRef,c=t.messageListRef,m=t.thread,p=(e||(e=r("useReStore")))(),f=o("useIsReactionsV2Enabled").useIsReactionsV2Enabled(m.threadKey),g;a[0]===Symbol.for("react.memo_cache_sentinel")?(g={eventName:"thread_view_impression",extraData:{isIpad:navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints!=null&&navigator.maxTouchPoints>2?"1":"0"}},a[0]=g):g=a[0];var h=r("MessengerWebUXLogger").useImpressionLoggerRef(g),y;a[1]!==i?(y=i?{entry_point:i}:void 0,a[1]=i,a[2]=y):y=a[2];var C;a[3]!==m.parentThreadKey?(C=(s||(s=o("I64"))).to_string(m.parentThreadKey),a[3]=m.parentThreadKey,a[4]=C):C=a[4];var b;a[5]!==m.threadKey?(b=(s||(s=o("I64"))).to_string(m.threadKey),a[5]=m.threadKey,a[6]=b):b=a[6];var v;a[7]!==y||a[8]!==C||a[9]!==b?(v={client_extras:y,community_id:C,event:"chat_preview_open",surface:"chat_preview",thread_id:b},a[7]=y,a[8]=C,a[9]=b,a[10]=v):v=a[10];var S=r("useGroupsCometChatsEngagementImpressionLogger")(v),R,L;a[11]!==p||a[12]!==f?(R=function(){f&&r("promiseDone")(o("MWLSDatabaseLazySync").sync(p,(u||(u=o("LSIntEnum"))).ofNumber(118)))},L=[p,f],a[11]=p,a[12]=f,a[13]=R,a[14]=L):(R=a[13],L=a[14]),_(R,L);var E;a[15]!==m.threadType?(E=o("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),a[15]=m.threadType,a[16]=E):E=a[16];var k=E,I=o("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(m.threadKey);r("useMinosMailboxKeyFetch")(p,m.threadKey,k);var T;a[17]===Symbol.for("react.memo_cache_sentinel")?(T={className:"x78zum5 xdt5ytf x1iyjqo2 xhc7eg"},a[17]=T):T=a[17];var D=I?S:h,x;a[18]!==i||a[19]!==k||a[20]!==l||a[21]!==c||a[22]!==m?(x=n("cr:9772")==null||!k?d.jsx(r("MWOpenThreadDetail.react"),{entryPoint:i,messageListRef:c,thread:m}):d.jsx(r("MWThreadLiveLocationSessionsContextProvider.react"),{children:d.jsx(n("cr:9772"),{entryPoint:i,mawSecureThreadQPContainerQueryRef:l,messageListRef:c,thread:m})}),a[18]=i,a[19]=k,a[20]=l,a[21]=c,a[22]=m,a[23]=x):x=a[23];var $;a[24]!==x||a[25]!==m.threadKey?($=d.jsx(o("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:d.jsx(o("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:m.threadKey,children:x})}),a[24]=x,a[25]=m.threadKey,a[26]=$):$=a[26];var P;return a[27]!==D||a[28]!==$?(P=d.jsx("div",babelHelpers.extends({},T,{ref:D,children:$})),a[27]=D,a[28]=$,a[29]=P):P=a[29],P}var g=p(f);l.default=g}),98);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(19),a=t.isSecureMessage,i=t.maxLength,l=t.maxLines,s=t.seeLessLinkProps,d=t.seeMoreLinkProps,m=t.text,p=t.textColor,_=t.truncationStyle,f=t.outgoing,g=t.ranges,h=t.renderers,y=t.transforms,C=t.xstyleForText,b=o("MWUnvaultedText").useMWUnvaultedText(a,m),v;n[0]!==f||n[1]!==C?(v=(e||(e=r("stylex"))).props(c.regular,C,f?c.outgoing:c.incoming),n[0]=f,n[1]=C,n[2]=v):v=n[2];var S=b||"",R=y!=null?y:o("MWChatTextTransform").textTransforms,L;n[3]!==i||n[4]!==l||n[5]!==g||n[6]!==h||n[7]!==s||n[8]!==d||n[9]!==S||n[10]!==R||n[11]!==_?(L=u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:i,maxLines:l,ranges:g,renderers:h,seeLessLinkProps:s,seeMoreLinkProps:d,text:S,transforms:R,truncationStyle:_,truncationThreshold:2,withParagraphs:!0}),n[3]=i,n[4]=l,n[5]=g,n[6]=h,n[7]=s,n[8]=d,n[9]=S,n[10]=R,n[11]=_,n[12]=L):L=n[12];var E;n[13]!==v||n[14]!==L?(E=u.jsx("div",babelHelpers.extends({},v,{dir:"auto",children:L})),n[13]=v,n[14]=L,n[15]=E):E=n[15];var k;return n[16]!==E||n[17]!==p?(k=u.jsx(r("MWXText.react"),{color:p,type:"body3",children:E}),n[16]=E,n[17]=p,n[18]=k):k=n[18],k}l.default=d}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWGhostMessageBubbleWrapper.react","MWPEditMessageHistoryListText.react","MWXMessageBubble.react","defaultMWPThreadTheme","react","react-compiler-runtime","stylex","useMWPThreadTheme"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=s.useState,d=23,m=14,p={border:{boxShadow:"x7h7r2v",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingInlineEnd:"x1r41h1w",$$css:!0},messageBubbleOutgoing:{paddingInlineStart:"xprvd4o",$$css:!0}};function _(t){var n,a=o("react-compiler-runtime").c(42),i=t.isReply,l=t.isSecureMessage,s=t.messageHistoryEntry,d=t.outgoing,m=t.renderMessageActions,_=d?"white":void 0,f;a[0]!==_?(f={color_DEPRECATED:_,weight_DEPRECATED:"semibold"},a[0]=_,a[1]=f):f=a[1];var g=f,h=c(!1),y=h[0],C=h[1],b=r("useMWPThreadTheme")(),v=b==null||(n=b.threadTheme)==null?void 0:n.fbid,S;a[2]!==v?(S=o("defaultMWPThreadTheme").isDefaultTheme(v),a[2]=v,a[3]=S):S=a[3];var R=S,L=R?r("MWGhostMessageBubbleWrapper.react"):u.Fragment,E;a[4]!==R||a[5]!==d?(E={0:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli"},2:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},1:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli x15zctf7"},3:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo x15zctf7"}}[!R<<1|!!d<<0],a[4]=R,a[5]=d,a[6]=E):E=a[6];var k,I;a[7]!==m?(k=function(){m!=null&&C(!0)},I=function(){m!=null&&C(!1)},a[7]=m,a[8]=k,a[9]=I):(k=a[8],I=a[9]);var T;a[10]!==d||a[11]!==m?(T=(e||(e=r("stylex"))).props(m?p.makeSpaceForMessageActions:d?p.messageBubbleOutgoing:p.messageBubbleIncoming),a[10]=d,a[11]=m,a[12]=T):T=a[12];var D=d?"right":"left",x=d?"outgoing":"incoming",$=R?"default":"opaque",P=!d&&i&&p.border,N;a[13]===Symbol.for("react.memo_cache_sentinel")?(N=[],a[13]=N):N=a[13];var M=s.messageContent||"",w=R?"secondary":d?"white":"primary",A;a[14]!==l||a[15]!==d||a[16]!==g||a[17]!==M||a[18]!==w?(A=u.jsx(r("MWPEditMessageHistoryListText.react"),{isSecureMessage:l,maxLength:300,maxLines:3,outgoing:d,ranges:N,seeLessLinkProps:g,seeMoreLinkProps:g,text:M,textColor:w,truncationStyle:"see-more-and-less"}),a[14]=l,a[15]=d,a[16]=g,a[17]=M,a[18]=w,a[19]=A):A=a[19];var F;a[20]!==x||a[21]!==$||a[22]!==P||a[23]!==A||a[24]!==D?(F=u.jsx(r("MWXMessageBubble.react"),{align:D,color:x,connectBottom:!1,connectTop:!1,variant:$,xstyle:P,children:A}),a[20]=x,a[21]=$,a[22]=P,a[23]=A,a[24]=D,a[25]=F):F=a[25];var O;a[26]!==L||a[27]!==F?(O=u.jsx(L,{children:F}),a[26]=L,a[27]=F,a[28]=O):O=a[28];var B;a[29]!==O||a[30]!==T?(B=u.jsx("div",babelHelpers.extends({},T,{children:O})),a[29]=O,a[30]=T,a[31]=B):B=a[31];var W;a[32]!==y||a[33]!==s||a[34]!==m?(W=m&&y?u.jsx("div",{className:"xc26acl x78zum5",children:m(s)}):null,a[32]=y,a[33]=s,a[34]=m,a[35]=W):W=a[35];var q;return a[36]!==B||a[37]!==W||a[38]!==E||a[39]!==k||a[40]!==I?(q=u.jsxs("div",babelHelpers.extends({},E,{"data-testid":void 0,onMouseEnter:k,onMouseLeave:I,role:"none",children:[B,W]})),a[36]=B,a[37]=W,a[38]=E,a[39]=k,a[40]=I,a[41]=q):q=a[41],q}l.MWPEditedMessageHistoryEntry=_}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=(s||(s=o("react"))).useMemo;function c(t,n){var a=o("react-compiler-runtime").c(9),l=(e||(e=r("useReStore")))(),s;a[0]!==l.tables.edit_message_history||a[1]!==t?(s=function(){return o("ReQL").fromTableAscending(l.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(t)},a[0]=l.tables.edit_message_history,a[1]=t,a[2]=s):s=a[2];var u;a[3]!==l||a[4]!==t?(u=[l,t],a[3]=l,a[4]=t,a[5]=u):u=a[5];var c=o("ReQLSuspense").useArray(s,u,i.id+":29"),d;return a[6]!==c||a[7]!==n?(d=n?c.slice(0,-1):c,a[6]=c,a[7]=n,a[8]=d):d=a[8],d}l.default=c}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","qpl","react","react-compiler-runtime","stylex","useEditMessageHistoryLS"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=s||(s=o("react")),d=s.useEffect,m=45,p=8,_={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0},outgoing:{display:"x1lliihq",paddingInlineEnd:"xf159sx",$$css:!0}};function f(t){var n=o("react-compiler-runtime").c(24),a=t.editCount,i=t.isReply,l=t.isSecureMessage,s=t.msgId,m=t.outgoing,p=t.renderMessageActions,f=t.threadType,g=t.xstyle,h=o("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},y=h.showEdits,C=r("useEditMessageHistoryLS")(s,l),b,v;n[0]!==a||n[1]!==l||n[2]!==C||n[3]!==y||n[4]!==f?(b=function(){y&&(r("QPLUserFlow").addAnnotations(r("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:l},int:{threadType:(u||(u=o("I64"))).to_int32(f)}}),C!=null&&a!=null&&C.length===(u||(u=o("I64"))).to_int32(a)?r("QPLUserFlow").endSuccess(r("qpl")._(1056849214,"1777")):r("QPLUserFlow").endFailure(r("qpl")._(1056849214,"1777"),"no edits found"))},v=[C,a,y,l,f],n[0]=a,n[1]=l,n[2]=C,n[3]=y,n[4]=f,n[5]=b,n[6]=v):(b=n[5],v=n[6]),d(b,v);var S;n[7]!==m||n[8]!==g?(S=(e||(e=r("stylex"))).props(_.base,m?_.outgoing:_.incoming,g),n[7]=m,n[8]=g,n[9]=S):S=n[9];var R;if(n[10]!==i||n[11]!==l||n[12]!==C||n[13]!==m||n[14]!==p){var L;n[16]!==i||n[17]!==l||n[18]!==m||n[19]!==p?(L=function(t,n){return c.jsx(o("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:i,isSecureMessage:l,messageHistoryEntry:t,outgoing:m,renderMessageActions:p},n)},n[16]=i,n[17]=l,n[18]=m,n[19]=p,n[20]=L):L=n[20],R=C.map(L),n[10]=i,n[11]=l,n[12]=C,n[13]=m,n[14]=p,n[15]=R}else R=n[15];var E;n[21]!==S||n[22]!==R?(E=c.jsx("div",babelHelpers.extends({},S,{role:"none",children:R})),n[21]=S,n[22]=R,n[23]=E):E=n[23];var k=E;return y?k:null}l.default=f}),98);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(2),n=e.message,r=e.outgoing,a=o("MWPForwardedContent").useTitle(n,r),i;return t[0]!==a?(i=s._(/*BTDS*/"{forward title}",[s._param("forward title",a)]),t[0]=a,t[1]=i):i=t[1],i}function p(e){var t,n,a=o("react-compiler-runtime").c(11),i=e.message,l=e.participant,p=e.sender,_=o("MWPActor.react").useActor(),f;a[0]!==_||a[1]!==p.id?(f=(u||(u=o("I64"))).equal(p.id,_),a[0]=_,a[1]=p.id,a[2]=f):f=a[2];var g=f,h=i.replySourceTypeV2!=null&&(u||(u=o("I64"))).equal(i.replySourceTypeV2,(c||(c=o("LSIntEnum"))).ofNumber(r("LSMessageReplySourceTypeV2").FORWARD)),y=(t=(n=l==null?void 0:l.nickname)!=null?n:p.firstName)!=null?t:p.name;if(h){var C;return a[3]!==g||a[4]!==i?(C=d.jsx(m,{message:i,outgoing:g}),a[3]=g,a[4]=i,a[5]=C):C=a[5],C}var b=i.replySnippet;if(b!=null){var v;return a[6]!==b?(v=s._(/*BTDS*/"{reply snippet}",[s._param("reply snippet",b)]),a[6]=b,a[7]=v):v=a[7],v}else if(g){var S;return a[8]===Symbol.for("react.memo_cache_sentinel")?(S=s._(/*BTDS*/"You sent,"),a[8]=S):S=a[8],S}else{var R;return a[9]!==y?(R=s._(/*BTDS*/"{name of sender} sent,",[s._param("name of sender",y)]),a[9]=y,a[10]=R):R=a[10],R}}l.default=p}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","react-compiler-runtime","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c,d=(c||(c=o("react"))).useRef;function m(t,a){var i=o("react-compiler-runtime").c(12),l=(s||(s=r("useReStore")))(),c=o("MWPActor.react").useActor(),m;i[0]===Symbol.for("react.memo_cache_sentinel")?(m=o("ServerTime").getMillis(),i[0]=m):m=i[0];var p=d(m),_=a.threadKey,f;i[1]!==t||i[2]!==l.tables.contacts||i[3]!==l.tables.messages||i[4]!==l.tables.participants||i[5]!==_?(f=function(){return o("ReQL").fromTableAscending(l.tables.messages).getKeyRange(_).subscribe(function(a,i){if(i.operation==="add"){var s=i.value;(u||(u=o("I64"))).to_float(s.timestampMs)>p.current&&(p.current=(u||(u=o("I64"))).to_float(s.timestampMs),r("promiseDone")((e||(e=n("Promise"))).all([o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.contacts).getKeyRange(s.senderId)),o("ReQL").firstAsync(o("ReQL").fromTableAscending(l.tables.participants).getKeyRange(s.threadKey,s.senderId))]),function(e){var n=e[0],r=e[1];if(n!=null)return t(s,n,r)}))}})},i[1]=t,i[2]=l.tables.contacts,i[3]=l.tables.messages,i[4]=l.tables.participants,i[5]=_,i[6]=f):f=i[6];var g;i[7]!==c||i[8]!==t||i[9]!==l||i[10]!==_?(g=[l,c,t,_],i[7]=c,i[8]=t,i[9]=l,i[10]=_,i[11]=g):g=i[11],o("Int64Hooks").useEffectInt64(f,g)}l.default=m}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u;function c(e){if(e==null)throw new TypeError("Cannot destructure "+e)}var d=e||(e=o("react")),m=e,p=m.useCallback,_=m.useEffect,f=m.useState;function g(e){var t=o("react-compiler-runtime").c(2),n=e.message,a=o("MWPAttachmentDataContext").useMWPGetAttachments(n),i;return t[0]!==a?(i=r("getMWPAttachmentMessageAnnouncement")(a),t[0]=a,t[1]=i):i=t[1],i}function h(e){var t=o("react-compiler-runtime").c(14),a=e.message,i=e.participant,l=e.sender,s=f(!1),u=s[0],c=s[1],m,p;if(t[0]===Symbol.for("react.memo_cache_sentinel")?(m=function(){var e=r("setTimeout")(function(){return c(!0)},100);return(function(){r("clearTimeout")(e)})},p=[],t[0]=m,t[1]=p):(m=t[0],p=t[1]),_(m,p),!u)return null;var h;t[2]!==a.text?(h=a.text!=null&&n("cr:2472")!=null?n("cr:2472").unvault(a.text):a.text,t[2]=a.text,t[3]=h):h=t[3];var y=h,C;t[4]!==a||t[5]!==i||t[6]!==l?(C=d.jsx(r("MWPNewMessageAnnouncementHeader.react"),{message:a,participant:i,sender:l}),t[4]=a,t[5]=i,t[6]=l,t[7]=C):C=t[7];var b=y!=null?y:null,v;t[8]!==a?(v=r("mwpMessageHasAttachment")(a)?d.jsx(g,{message:a}):null,t[8]=a,t[9]=v):v=t[9];var S;return t[10]!==C||t[11]!==b||t[12]!==v?(S=d.jsxs(r("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[C,b,v]}),t[10]=C,t[11]=b,t[12]=v,t[13]=S):S=t[13],S}function y(e){var t=o("react-compiler-runtime").c(1),n=e.thread,a=f(null),i=a[0],l=a[1],c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=function(t,n,a){if((s||(s=o("I64"))).equal(t.authorityLevel,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE)))return l(function(){return d.jsx(h,{message:t,participant:a,sender:n})})},t[0]=c):c=t[0];var m=c;return r("useMWPAnnounceMessageForScreenReader")(m,n),i}function C(e){var t=o("react-compiler-runtime").c(4),n;t[0]!==e?(n=babelHelpers.extends({},(c(e),e)),t[0]=e,t[1]=n):n=t[1];var a;return t[2]!==n?(a=d.jsx(r("CometErrorBoundary.react"),{fallback:void 0,children:d.jsx(o("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:d.jsx(y,babelHelpers.extends({},n))})}),t[2]=n,t[3]=a):a=t[3],a}l.default=C}),98);
__d("MWXIconCamcorder",["MWXSvgIcon","SVGIcon","cr:22250","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22250")),r("gkx")("23219"));l.default=e}),98);
__d("MWXIconPhone",["MWXSvgIcon","SVGIcon","cr:22431","gkx"],(function(t,n,r,o,a,i,l){"use strict";var e=o("MWXSvgIcon").mwxSvgIcon(o("SVGIcon").svgIcon(n("cr:22431")),r("gkx")("23219"));l.default=e}),98);
__d("MWV2ChatRTCButtonsBaseButton.react",["MWChatHeaderActionButton.react","MWXIconCamcorder","MWXIconPhone","MWXThreadThemeColor","gkx","react","react-compiler-runtime","useIsMessengerPWA","useMWIsOffline"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){var t=o("react-compiler-runtime").c(10),n=e.disabled,a=e.disabledLabel,i=e.label,l=e.loggingEvent,u=e.onPress,c=e.size,d=e.testid,m=e.type,p=r("useMWIsOffline")(),_=r("useIsMessengerPWA")(),f=p&&_,g=n?a:i,h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[0]=h):h=t[0];var y=f||(n!=null?n:!1),C=r(m==="audio"?"MWXIconPhone":"MWXIconCamcorder"),b=f?void 0:g,v;return t[1]!==g||t[2]!==l||t[3]!==u||t[4]!==c||t[5]!==y||t[6]!==C||t[7]!==b||t[8]!==d?(v=s.jsx(r("MWChatHeaderActionButton.react"),{"aria-label":g,color:h,disabled:y,icon:C,loggingEvent:l,onPress:u,size:c,testid:void 0,tooltipLabel:b,tooltipPosition:r("gkx")("23219")?"below":"above"}),t[1]=g,t[2]=l,t[3]=u,t[4]=c,t[5]=y,t[6]=C,t[7]=b,t[8]=d,t[9]=v):v=t[9],v}l.default=u}),98);
__d("MWV2ChatRTCButtonsAudio.react",["fbt","MWStartRTCCallUtils","MWV2ChatRTCButtonsBaseButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.canCall,a=e.size,i=e.startAudioCall;if(n===o("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED)return null;var l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Voice calling is not supported on this browser"),t[0]=l):l=t[0];var c=l,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Start a voice call"),t[1]=d):d=t[1];var m=d,p=n!==o("MWStartRTCCallUtils").CanCallResult.VOICE_SUPPORTED,_;return t[2]!==a||t[3]!==i||t[4]!==p?(_=u.jsx(r("MWV2ChatRTCButtonsBaseButton.react"),{disabled:p,disabledLabel:c,label:m,loggingEvent:"start_audio_call",onPress:i,size:a,testid:void 0,type:"audio"}),t[2]=a,t[3]=i,t[4]=p,t[5]=_):_=t[5],_}l.default=c}),226);
__d("MWV2ChatRTCButtonsJoinExistingChat.react",["fbt","I64","LSIntEnum","LSRtcCallState","MWStartRTCCallUtils","MWXCircleButton.react","MWXIconCamcorder","MWXIconPhone","MWXThreadThemeColor","MWXTooltip.react","emptyFunction","gkx","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u,c,d=e||(e=o("react"));function m(e){var t=o("react-compiler-runtime").c(18),n=e.canAudioCall,a=e.canVideoCall,i=e.ongoingCallState,l=e.size,m=e.startAudioCall,p=e.startVideoCall;if((u||(u=o("I64"))).equal(i,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").NO_ONGOING_CALL)))return null;var _;t[0]!==n||t[1]!==a||t[2]!==m||t[3]!==p?(_=function(t){return(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_GROUP_CALL))||(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").AUDIO_1TO1_CALL))?n===o("MWStartRTCCallUtils").CanCallResult.VOICE_SUPPORTED?[s._(/*BTDS*/"Join audio chat"),r("MWXIconPhone"),m,!1]:[s._(/*BTDS*/"Voice calling is not supported on this browser"),r("MWXIconPhone"),r("emptyFunction"),!0]:(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").VIDEO_GROUP_CALL))||(u||(u=o("I64"))).equal(t,(c||(c=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").VIDEO_1TO1_CALL))?a===o("MWStartRTCCallUtils").CanCallResult.VIDEO_SUPPORTED?[s._(/*BTDS*/"Join video chat"),r("MWXIconCamcorder"),p,!1]:[s._(/*BTDS*/"Video calling is not supported on this browser"),r("MWXIconCamcorder"),r("emptyFunction"),!0]:["",r("MWXIconPhone"),r("emptyFunction"),!0]},t[0]=n,t[1]=a,t[2]=m,t[3]=p,t[4]=_):_=t[4];var f=_,g;t[5]!==f||t[6]!==i?(g=f(i),t[5]=f,t[6]=i,t[7]=g):g=t[7];var h=g,y=h[0],C=h[1],b=h[2],v=h[3],S;t[8]===Symbol.for("react.memo_cache_sentinel")?(S=o("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),t[8]=S):S=t[8];var R;t[9]!==C||t[10]!==v||t[11]!==y||t[12]!==b||t[13]!==l?(R=d.jsx(r("MWXCircleButton.react"),{"aria-label":y,color:S,disabled:v,icon:C,onPress:b,size:l,testid:void 0}),t[9]=C,t[10]=v,t[11]=y,t[12]=b,t[13]=l,t[14]=R):R=t[14];var L;return t[15]!==y||t[16]!==R?(L=d.jsx(r("MWXTooltip.react"),{align:"middle",position:r("gkx")("23219")?"below":"above",tooltip:y,children:R}),t[15]=y,t[16]=R,t[17]=L):L=t[17],L}l.default=m}),226);
__d("MWV2ChatRTCButtonsVideo.react",["fbt","MWStartRTCCallUtils","MWV2ChatRTCButtonsBaseButton.react","react","react-compiler-runtime"],(function(t,n,r,o,a,i,l,s){"use strict";var e,u=e||(e=o("react"));function c(e){var t=o("react-compiler-runtime").c(6),n=e.canCall,a=e.size,i=e.startVideoCall;if(n===o("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED)return null;var l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=s._(/*BTDS*/"Video calling is not supported on this browser"),t[0]=l):l=t[0];var c=l,d;t[1]===Symbol.for("react.memo_cache_sentinel")?(d=s._(/*BTDS*/"Start a video call"),t[1]=d):d=t[1];var m=d,p=n!==o("MWStartRTCCallUtils").CanCallResult.VIDEO_SUPPORTED,_;t[2]!==a||t[3]!==i||t[4]!==p?(_=u.jsx(r("MWV2ChatRTCButtonsBaseButton.react"),{disabled:p,disabledLabel:c,label:m,loggingEvent:"start_video_chat",onPress:i,size:a,testid:void 0,type:"video"}),t[2]=a,t[3]=i,t[4]=p,t[5]=_):_=t[5];var f=_;return f}l.default=c}),226);
__d("useMWCallingRestrictionHook",["MWCallingRestrictionDialog.entrypoint","MWCallingRestrictionEvent","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(t,n,r,o,a,i,l){"use strict";var e,s=(e||(e=o("react"))).useEffect;function u(){var e=o("react-compiler-runtime").c(4),t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={},e[0]=t):t=e[0];var n=r("useMWXEntryPointDialog")(r("MWCallingRestrictionDialog.entrypoint"),t),a=n[0],i,l;e[1]!==a?(i=function(){var e=function(t){var e;if(t.origin===document.location.origin&&typeof t.data=="object"&&((e=t.data)==null?void 0:e.event)===r("MWCallingRestrictionEvent")){var n,o,i=(n=(o=t.data)==null?void 0:o.isAudioCall)!=null?n:!1;a({entryPoint:"msgr_face_rec_appeal_dialog",trigger:i?"in_thread_voice_call":"in_thread_video_call"})}};return window.addEventListener("message",e),(function(){window.removeEventListener("message",e)})},l=[a],e[1]=a,e[2]=i,e[3]=l):(i=e[2],l=e[3]),s(i,l)}l.default=u}),98);
__d("MWV2ChatRTCButtons.react",["I64","LSIntEnum","LSRtcCallState","MWStartRTCCallUtils","MWV2ChatRTCButtonsAudio.react","MWV2ChatRTCButtonsJoinExistingChat.react","MWV2ChatRTCButtonsVideo.react","react","react-compiler-runtime","useMWCallingRestrictionHook","useShouldTryWithMessengerDesktop"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c=e||(e=o("react"));function d(e){return e}function m(e){var t=o("react-compiler-runtime").c(23),n=e.canAudioCall,a=e.canVideoCall,i=e.ongoingCallState,l=e.renderContainer,m=e.size,p=e.startWebAudioCall,_=e.startWebVideoCall,f=e.threadKey,g=l===void 0?d:l,h=m===void 0?28:m,y=r("useShouldTryWithMessengerDesktop")(),C=o("MWStartRTCCallUtils").useStartMessengerDesktopCall(f,"video",_),b=o("MWStartRTCCallUtils").useStartMessengerDesktopCall(f,"audio",p),v=y?C:_,S=y?b:p;if(r("useMWCallingRestrictionHook")(),n===o("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED&&a===o("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED)return null;if(!(s||(s=o("I64"))).equal(i,(u||(u=o("LSIntEnum"))).ofNumber(r("LSRtcCallState").NO_ONGOING_CALL))){var R;t[0]!==n||t[1]!==a||t[2]!==i||t[3]!==h||t[4]!==S||t[5]!==v?(R=c.jsx(r("MWV2ChatRTCButtonsJoinExistingChat.react"),{canAudioCall:n,canVideoCall:a,ongoingCallState:i,size:h,startAudioCall:S,startVideoCall:v}),t[0]=n,t[1]=a,t[2]=i,t[3]=h,t[4]=S,t[5]=v,t[6]=R):R=t[6];var L;return t[7]!==g||t[8]!==R?(L=g(R),t[7]=g,t[8]=R,t[9]=L):L=t[9],L}var E;t[10]!==n||t[11]!==g||t[12]!==h||t[13]!==S?(E=n!==o("MWStartRTCCallUtils").CanCallResult.VOICE_UNSUPPORTED&&g(c.jsx(r("MWV2ChatRTCButtonsAudio.react"),{canCall:n,size:h,startAudioCall:S})),t[10]=n,t[11]=g,t[12]=h,t[13]=S,t[14]=E):E=t[14];var k;t[15]!==a||t[16]!==g||t[17]!==h||t[18]!==v?(k=a!==o("MWStartRTCCallUtils").CanCallResult.VIDEO_UNSUPPORTED&&g(c.jsx(r("MWV2ChatRTCButtonsVideo.react"),{canCall:a,size:h,startVideoCall:v})),t[15]=a,t[16]=g,t[17]=h,t[18]=v,t[19]=k):k=t[19];var I;return t[20]!==E||t[21]!==k?(I=c.jsxs(c.Fragment,{children:[E,k]}),t[20]=E,t[21]=k,t[22]=I):I=t[22],I}l.default=m}),98);
__d("MWReQLChatRTCButtons.react",["MWStartRTCCallUtils","MWV2ChatRTCButtons.react","emptyFunction","react","react-compiler-runtime","useMWReQLStartGroupCall"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return e}function c(e){var t=o("react-compiler-runtime").c(9),n=e.audioCallingSurface,a=e.logAudio,i=e.logVideo,l=e.renderContainer,c=e.size,d=e.thread,m=e.videoCallingSurface,p=a===void 0?r("emptyFunction"):a,_=i===void 0?r("emptyFunction"):i,f=l===void 0?u:l,g=c===void 0?28:c,h=o("MWStartRTCCallUtils").useCanCall(d),y=h[0],C=h[1],b=r("useMWReQLStartGroupCall")(d,_,"video",m),v=r("useMWReQLStartGroupCall")(d,p,"audio",n),S;return t[0]!==y||t[1]!==C||t[2]!==f||t[3]!==g||t[4]!==v||t[5]!==b||t[6]!==d.ongoingCallState||t[7]!==d.threadKey?(S=s.jsx(r("MWV2ChatRTCButtons.react"),{canAudioCall:y,canVideoCall:C,ongoingCallState:d.ongoingCallState,renderContainer:f,size:g,startWebAudioCall:v,startWebVideoCall:b,threadKey:d.threadKey}),t[0]=y,t[1]=C,t[2]=f,t[3]=g,t[4]=v,t[5]=b,t[6]=d.ongoingCallState,t[7]=d.threadKey,t[8]=S):S=t[8],S}l.default=c}),98);
__d("MWSupportTranslatedMessageText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c={incoming:{color:"x18lvrbx",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function d(t){var n=o("react-compiler-runtime").c(15),a=t.maxLength,i=t.maxLines,l=t.seeLessLinkProps,s=t.seeMoreLinkProps,d=t.text,m=t.truncationStyle,p=t.ranges,_=t.renderers,f=t.transforms,g=t.xstyleForText,h;n[0]!==g?(h=(e||(e=r("stylex"))).props(c.regular,g,c.incoming),n[0]=g,n[1]=h):h=n[1];var y=d||"",C=f!=null?f:o("MWChatTextTransform").textTransforms,b;n[2]!==a||n[3]!==i||n[4]!==p||n[5]!==_||n[6]!==l||n[7]!==s||n[8]!==y||n[9]!==C||n[10]!==m?(b=u.jsx(r("MWXMessageTextWithEntities.react"),{maxLength:a,maxLines:i,ranges:p,renderers:_,seeLessLinkProps:l,seeMoreLinkProps:s,text:y,transforms:C,truncationStyle:m,truncationThreshold:2,withParagraphs:!0}),n[2]=a,n[3]=i,n[4]=p,n[5]=_,n[6]=l,n[7]=s,n[8]=y,n[9]=C,n[10]=m,n[11]=b):b=n[11];var v;return n[12]!==h||n[13]!==b?(v=u.jsx(r("MWXText.react"),{color:"primary",type:"body3",children:u.jsx("div",babelHelpers.extends({},h,{dir:"auto",children:b}))}),n[12]=h,n[13]=b,n[14]=v):v=n[14],v}l.default=d}),98);
__d("MWSupportTranslatedMessageTextEntry.react",["MWSupportTranslatedMessageText.react","MWXMessageBubble.react","react","react-compiler-runtime","vulture"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react")),u=14;function c(e){var t=o("react-compiler-runtime").c(6),n=e.text;r("vulture")("F5rImn8U4UsPymCIhKjSgoTrKzY=");var a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={color_DEPRECATED:void 0,weight_DEPRECATED:"semibold"},t[0]=a):a=t[0];var i=a,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},t[1]=l):l=t[1];var u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u={className:"x1r41h1w"},t[2]=u):u=t[2];var c;t[3]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[3]=c):c=t[3];var d;return t[4]!==n?(d=s.jsx("div",babelHelpers.extends({},l,{"data-testid":void 0,role:"none",children:s.jsx("div",babelHelpers.extends({},u,{children:s.jsx(r("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",children:s.jsx(r("MWSupportTranslatedMessageText.react"),{maxLength:300,maxLines:3,ranges:c,seeLessLinkProps:i,seeMoreLinkProps:i,text:n,truncationStyle:"see-more-and-less"})})}))})),t[4]=n,t[5]=d):d=t[5],d}l.MWSupportTranslatedMessageTextEntry=c}),98);
__d("MWSupportTranslatedMessageTextWrapper.react",["MWSupportTranslatedMessageTextEntry.react","MWSupportTranslationsContext.react","react","react-compiler-runtime","stylex","useSupportTranslationsFetchDataLS"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u=s||(s=o("react")),c=45,d={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0}};function m(t){var n=o("react-compiler-runtime").c(7),a=t.msgId,i=t.xstyle,l=o("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),s=l.showUntranslatedText,c=r("useSupportTranslationsFetchDataLS")(a);if(c==null)return null;var m;n[0]!==i?(m=(e||(e=r("stylex"))).props(d.base,d.incoming,i),n[0]=i,n[1]=m):m=n[1];var p;n[2]!==c?(p=u.jsx(o("MWSupportTranslatedMessageTextEntry.react").MWSupportTranslatedMessageTextEntry,{text:c}),n[2]=c,n[3]=p):p=n[3];var _;n[4]!==m||n[5]!==p?(_=u.jsx("div",babelHelpers.extends({},m,{role:"none",children:p})),n[4]=m,n[5]=p,n[6]=_):_=n[6];var f=_;return s?f:null}l.default=m}),98);
__d("MessengerArrowDownFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M24.616 18.366a1.25 1.25 0 0 1 1.768 1.768l-7.5 7.5a1.25 1.25 0 0 1-1.768 0l-7.5-7.5a1.25 1.25 0 0 1 1.768-1.768l4.94 4.94a.25.25 0 0 0 .426-.177V9.25a1.25 1.25 0 1 1 2.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerChevronDownFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M8.866 14.116a1.25 1.25 0 0 1 1.768 0l7.19 7.19a.25.25 0 0 0 .353 0l7.19-7.19a1.25 1.25 0 0 1 1.767 1.768l-8.25 8.25a1.25 1.25 0 0 1-1.768 0l-8.25-8.25a1.25 1.25 0 0 1 0-1.768z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerDragHandleFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M8 12.5a1 1 0 1 0 0 2h20a1 1 0 1 0 0-2H8zM7 18a1 1 0 0 1 1-1h20a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1zM7 22.5a1 1 0 0 1 1-1h20a1 1 0 1 1 0 2H8a1 1 0 0 1-1-1z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerFaceHappyFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18 29c6.075 0 11-4.925 11-11S24.075 7 18 7 7 11.925 7 18s4.925 11 11 11zm-5.25-13c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm7.5 0c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm-7.52 5.464a1 1 0 0 1 1.41-.12 5.963 5.963 0 0 0 3.856 1.406c1.47 0 2.813-.528 3.856-1.406a1 1 0 1 1 1.288 1.53 7.962 7.962 0 0 1-5.144 1.876 7.962 7.962 0 0 1-5.144-1.877 1 1 0 0 1-.121-1.409z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerForwardActionFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M17.99 24.4c0 1.278 1.336 2.04 2.334 1.332l9.004-6.399c.89-.633.89-2.028 0-2.661l-9.004-6.398c-.998-.71-2.334.053-2.334 1.33v3.147c0 .138-.114.25-.252.251-7 .076-11.741 3.317-11.742 10.986 0 .594.41 1.012 1.033 1.012.46 0 .844-.265 1.114-1.083 1.129-3.409 4.431-4.87 9.595-4.916a.25.25 0 0 1 .252.249v3.15z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerForwardFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"m30.22 19.497-10.5 7.198c-1.163.797-2.722-.06-2.722-1.497v-2.954a.25.25 0 0 0-.25-.25H8.001A2 2 0 0 1 6 19.996v-3.997A2 2 0 0 1 8 14h8.748a.25.25 0 0 0 .25-.25v-2.948c0-1.437 1.559-2.294 2.722-1.497l10.5 7.197c1.04.713 1.04 2.283 0 2.995z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerGifFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 11a4 4 0 0 1 4-4h8c1.067 0 2.035.417 2.753 1.098.517.491 1.151.902 1.866.902H26a4 4 0 0 1 4 4v12a4 4 0 0 1-4 4h-8a3.986 3.986 0 0 1-2.752-1.098c-.518-.491-1.152-.902-1.866-.902H10a4 4 0 0 1-4-4V11zm7.865 4.908a1.948 1.948 0 0 0-1.321-.456c-.461.02-.918.214-1.295.576-.378.363-.65.873-.754 1.457a2.927 2.927 0 0 0 .209 1.708c.236.52.611.915 1.046 1.14a1.87 1.87 0 0 0 1.36.152c.454-.122.88-.419 1.195-.868.098-.14.183-.291.253-.451.068-.154-.052-.316-.22-.316H12.85a.85.85 0 0 1 0-1.7h2.8c.47 0 .85.38.85.85 0 .93-.278 1.844-.803 2.593-.527.75-1.277 1.3-2.144 1.534a3.57 3.57 0 0 1-2.586-.285c-.8-.414-1.43-1.107-1.811-1.947a4.628 4.628 0 0 1-.335-2.706 4.357 4.357 0 0 1 1.25-2.388 3.697 3.697 0 0 1 2.398-1.048 3.647 3.647 0 0 1 2.472.838.85.85 0 0 1-1.076 1.317zM22.7 19.6a.25.25 0 0 1 .25-.25h2.75a.85.85 0 0 0 0-1.7h-2.75a.25.25 0 0 1-.25-.25v-1.45a.25.25 0 0 1 .25-.25h3.2a.85.85 0 1 0 0-1.7h-4.3a.85.85 0 0 0-.85.85v6.3a.85.85 0 0 0 1.7 0V19.6zm-3.35-4.75a.85.85 0 0 0-1.7 0v6.3a.85.85 0 0 0 1.7 0v-6.3z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerHdOutline.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M10.7 14.814c0-.251.203-.455.454-.455h.91c.25 0 .454.204.454.455v2.045c0 .126.102.227.227.227h2.273a.227.227 0 0 0 .227-.227v-2.045c0-.251.204-.455.455-.455h.909c.251 0 .454.204.454.455v6.363a.455.455 0 0 1-.454.455h-.91a.455.455 0 0 1-.454-.455v-2.045a.227.227 0 0 0-.227-.228h-2.273a.227.227 0 0 0-.227.228v2.045a.455.455 0 0 1-.455.455h-.909a.455.455 0 0 1-.454-.455v-6.363z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M19.336 14.36a.455.455 0 0 0-.454.454v6.363c0 .251.203.455.454.455h2.728a3.636 3.636 0 0 0 0-7.273h-2.728zm1.364 5.226c0 .126.102.228.227.228h1.136a1.818 1.818 0 1 0 0-3.637h-1.136a.227.227 0 0 0-.227.227v3.182z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M10 9a4 4 0 0 0-4 4v10a4 4 0 0 0 4 4h16a4 4 0 0 0 4-4V13a4 4 0 0 0-4-4H10zm-1.5 4a1.5 1.5 0 0 1 1.5-1.5h16a1.5 1.5 0 0 1 1.5 1.5v10a1.5 1.5 0 0 1-1.5 1.5H10A1.5 1.5 0 0 1 8.5 23V13z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerMicrophoneFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M14 11a4 4 0 0 1 8 0v5.5a4 4 0 0 1-8 0V11z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M12.5 27.5a1 1 0 0 1 1-1h2.75a.5.5 0 0 0 .5-.5v-.66a.522.522 0 0 0-.425-.505A8.503 8.503 0 0 1 9.5 16.5V16a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a6 6 0 0 0 12 0V16a1 1 0 0 1 1-1h.5a1 1 0 0 1 1 1v.5a8.503 8.503 0 0 1-6.825 8.335.522.522 0 0 0-.425.505V26a.5.5 0 0 0 .5.5h2.75a1 1 0 0 1 1 1v.5a1 1 0 0 1-1 1h-9a1 1 0 0 1-1-1v-.5z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerPhotoPlusCircleFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M6 12v12a4 4 0 0 0 4 4h7.904c.577 0 .947-.632.733-1.169A8.978 8.978 0 0 1 18 23.5a8.96 8.96 0 0 1 1.04-4.205c.216-.408.069-.931-.374-1.06a6 6 0 0 0-4.666.569l-5.125 2.959a.25.25 0 0 1-.375-.217V12a1.5 1.5 0 0 1 1.5-1.5h14a1.5 1.5 0 0 1 1.5 1.5v1.443c0 .618.557 1.085 1.175 1.063.108-.004.216-.006.325-.006.535 0 1-.412 1-.947V12a4 4 0 0 0-4-4H10a4 4 0 0 0-4 4z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M12.5 16.5a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M34 23.5a7 7 0 1 1-14 0 7 7 0 0 1 14 0zM27 19a1 1 0 0 0-1 1v2.25a.25.25 0 0 1-.25.25H23.5a1 1 0 1 0 0 2h2.25a.25.25 0 0 1 .25.25V27a1 1 0 1 0 2 0v-2.25a.25.25 0 0 1 .25-.25h2.25a1 1 0 1 0 0-2h-2.25a.25.25 0 0 1-.25-.25V20a1 1 0 0 0-1-1z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerPollFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{d:"M9.5 8A1.5 1.5 0 0 0 8 9.5v2A1.5 1.5 0 0 0 9.5 13h14a1.5 1.5 0 0 0 1.5-1.5v-2A1.5 1.5 0 0 0 23.5 8h-14zM8 17a1.5 1.5 0 0 1 1.5-1.5h18A1.5 1.5 0 0 1 29 17v2a1.5 1.5 0 0 1-1.5 1.5h-18A1.5 1.5 0 0 1 8 19v-2zM8 24.5A1.5 1.5 0 0 1 9.5 23h10a1.5 1.5 0 0 1 1.5 1.5v2a1.5 1.5 0 0 1-1.5 1.5h-10A1.5 1.5 0 0 1 8 26.5v-2z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerPushpinFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M21.39 21.997a.5.5 0 0 0-.485.38l-1.663 6.65c-.322 1.292-2.162 1.291-2.484 0l-1.663-6.65a.5.5 0 0 0-.485-.38h-4.442c-.95 0-1.478-1.064-.972-1.816.419-.62 1.533-2.029 3.589-3.04a.982.982 0 0 0 .536-.811c.099-1.284.334-3.339.435-4.661a.988.988 0 0 0-.465-.918 7.136 7.136 0 0 1-2.075-1.914C10.674 8.07 11.212 7 12.163 7h11.675c.95 0 1.488 1.07.946 1.837-.31.44-.97 1.232-2.075 1.914a.99.99 0 0 0-.465.918c.102 1.322.337 3.377.435 4.661a.982.982 0 0 0 .537.812c2.055 1.01 3.17 2.419 3.588 3.04.506.751-.021 1.816-.971 1.816H21.39z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerRollCallFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5 9a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v.5a.5.5 0 0 1-.5.5H18a4 4 0 0 0-4 4v4.23c0 .282-.217.52-.5.52a5.962 5.962 0 0 1-3.856-1.406 1 1 0 1 0-1.288 1.53A7.963 7.963 0 0 0 13.5 20.75c.27 0 .499.213.499.484V24.5a.5.5 0 0 1-.5.5H8a3 3 0 0 1-3-3V9zm5.254 2c-.937 0-1.5.75-1.5 2s.563 2 1.5 2c.938 0 1.5-.75 1.5-2s-.562-2-1.5-2z"}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3h-9a3 3 0 0 1-3-3V15zm7.5 2a1 1 0 0 0-1 1v1.75a.25.25 0 0 1-.25.25H20.5a1 1 0 1 0 0 2h1.75a.25.25 0 0 1 .25.25V24a1 1 0 1 0 2 0v-1.75a.25.25 0 0 1 .25-.25h1.75a1 1 0 1 0 0-2h-1.75a.25.25 0 0 1-.25-.25V18a1 1 0 0 0-1-1z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("MessengerStickersFaceFilled.svg.react",["XPlatReactSVG","react"],(function(t,n,r,o,a,i,l){"use strict";var e,s=e||(e=o("react"));function u(e){return s.jsxs(o("XPlatReactSVG").Svg,babelHelpers.extends({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:e.title},e,{children:[e.children!=null&&s.jsx(o("XPlatReactSVG").Defs,{children:e.children}),s.jsx(o("XPlatReactSVG").Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 8a4 4 0 0 0-4 4v12a4 4 0 0 0 4 4h5a1 1 0 0 0 1-1v-3a.257.257 0 0 0-.248-.257 7.984 7.984 0 0 1-5.228-2.164c-.375-.352-.347-.938.016-1.301.416-.415 1.097-.371 1.541.013a5.977 5.977 0 0 0 4.208 1.45.25.25 0 0 0 .215-.153A6.001 6.001 0 0 1 24 18h3a1 1 0 0 0 1-1v-5a4 4 0 0 0-4-4H12zm.75 7c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2zm7.5 0c0-1.25.563-2 1.5-2 .938 0 1.5.75 1.5 2s-.563 2-1.5 2c-.938 0-1.5-.75-1.5-2z"}),s.jsx(o("XPlatReactSVG").Path,{d:"M24 20h3c.89 0 1.33 1.077.7 1.707L21.707 27.7c-.63.63-1.707.19-1.707-.7v-3a4 4 0 0 1 4-4z"})]}))}u.displayName=u.name+" [from "+i.id+"]",u._isSVG=!0;var c=u;l.default=c}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(e){var t=e.children;return t}var u=(e=n("cr:6234")==null?void 0:n("cr:6234").MWPAudioPlaybackContextProvider)!=null?e:s,c=u;l.default=c}),98);
__d("useC4GEngagementSurface",["MWLSThreadDisplayContext"],(function(t,n,r,o,a,i,l){"use strict";function e(){var e=o("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),t="messenger_inbox";switch(e){case"ChatTab":t="chats_tab"}return t}l.default=e}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useC4GEngagementSurface"],(function(t,n,r,o,a,i,l){"use strict";var e;function s(t){var n=o("react-compiler-runtime").c(7),a=t.isSubthreadDisplayed,i=t.threadKey,l=t.threadType,s=a===void 0?!1:a,u=o("MWV2IsTabFocusedContext.react").useIsTabFocused(),c=r("useC4GEngagementSurface")(),d,m;n[0]!==u||n[1]!==s||n[2]!==c||n[3]!==i||n[4]!==l?(d=function(){u&&(r("mwCMIsAnyCMThread")(l)||r("mwCMIsCMSubthread")(l)&&s)&&o("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:r("mwCMIsCMSubthread")(l)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:c,thread_id:(e||(e=o("I64"))).to_string(i)})},m=[i,l,u,c,s],n[0]=u,n[1]=s,n[2]=c,n[3]=i,n[4]=l,n[5]=d,n[6]=m):(d=n[5],m=n[6]),o("Int64Hooks").useEffectInt64(d,m)}l.default=s}),98);
__d("useEncryptedBackupsProcessStatePreLoaded_query.graphql",[],(function(t,n,r,o,a,i){"use strict";var e={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useEncryptedBackupsProcessStatePreLoaded_query",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{kind:"RequiredField",field:{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]}],storageKey:null},action:"THROW",path:"viewer"}],type:"Query",abstractKey:null};a.exports=e}),null);
__d("useEncryptedBackupsProcessStatePreLoaded",["CometRelay","I64","LSAuthorityLevel","LSIntEnum","MWEncryptedBackupsDetermineInitialEBState","ReQL","ReQLSuspense","isMWEBEntrypointEnabled","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded_query.graphql","useMAWHasUserVisibleErrors","useMAWUnsupportedBrowserNUX","useReStore"],(function(t,n,r,o,a,i,l){"use strict";var e,s,u,c;function d(t){var a=o("react-compiler-runtime").c(10),l=t.entrypoint,s=t.query,u=o("CometRelay").useFragment(e!==void 0?e:e=n("useEncryptedBackupsProcessStatePreLoaded_query.graphql"),s),d=(c||(c=r("useReStore")))(),p;a[0]!==d||a[1]!==(u==null?void 0:u.viewer.backup_state)?(p=function(){return(u==null?void 0:u.viewer.backup_state)==null?o("ReQL").fromTableAscending(d.tables.secure_encrypted_backups_client_state).filter(m):o("ReQL").empty()},a[0]=d,a[1]=u==null?void 0:u.viewer.backup_state,a[2]=p):p=a[2];var _=u==null?void 0:u.viewer.backup_state,f;a[3]!==d||a[4]!==_?(f=[d,_],a[3]=d,a[4]=_,a[5]=f):f=a[5];var g=o("ReQLSuspense").useArray(p,f,i.id+":57"),h=o("useMAWUnsupportedBrowserNUX").useMAWUnsupportedBrowserNUX(),y=h.shouldHideEBFlow,C=r("useMAWHasUserVisibleErrors")(),b=y||C;if(!r("isMWEBEntrypointEnabled")(l))return 0;var v;return a[6]!==g||a[7]!==b||a[8]!==u?(v=(u==null?void 0:u.viewer.backup_state)!=null?u.viewer.backup_state:o("MWEncryptedBackupsDetermineInitialEBState").determineInitialEBState({clientStateData:g,hasArmadilloError:b,xfb_backup:u==null?void 0:u.xfb_backup}),a[6]=g,a[7]=b,a[8]=u,a[9]=v):v=a[9],v}function m(e){var t=e.authorityLevel;return(s||(s=o("I64"))).equal(t,(u||(u=o("LSIntEnum"))).ofNumber(r("LSAuthorityLevel").AUTHORITATIVE))}l.default=d}),98);